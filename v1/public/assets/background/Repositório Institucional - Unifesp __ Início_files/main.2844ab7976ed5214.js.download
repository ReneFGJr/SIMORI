(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8792],{25093:(N,T,n)=>{"use strict";n.d(T,{Ax:()=>f,P5:()=>l,bL:()=>e,mK:()=>p,w4:()=>m,xl:()=>_});var i=n(69799),t=n(45663);const l="epeople";function e(){return new t.t((0,i.XG)(),l).toString()}function f(v){return new t.t(e(),v,"edit").toString()}const m="groups";function p(){return new t.t((0,i.XG)(),m).toString()}function _(v){return new t.t(p(),v,"edit").toString()}},19353:(N,T,n)=>{"use strict";n.d(T,{_c:()=>l,bA:()=>t,oQ:()=>e});var i=n(91e3);const t={EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/EDIT_EPERSON"),CANCEL_EDIT_EPERSON:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_EPERSON")};class l{constructor(m){this.type=t.EDIT_EPERSON,this.eperson=m}}class e{constructor(){this.type=t.CANCEL_EDIT_EPERSON}}},72796:(N,T,n)=>{"use strict";n.d(T,{v:()=>re});var i=n(60177),t=n(89417),l=n(7901),e=n(41780),f=n(84412),m=n(84572),p=n(7673),_=n(25558),v=n(96354),y=n(39901),C=n(96697),O=n(96526),I=n(96820),D=n(74449),R=n(44494),h=n(79145),w=n(22978),b=n(80183),P=n(60456),M=n(48674),L=n(39806),B=n(5682),U=n(23401),$=n(25093),j=n(54438);const G=()=>["top","right","bottom"],z=Ce=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:Ce}),V=Ce=>({name:Ce}),X=Ce=>["btn btn-sm",Ce];function J(Ce,Ee){if(1&Ce){const ue=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(ue);const ye=j.XpG().$implicit,De=j.XpG(2);return j.Njj(De.deleteMemberFromGroup(ye.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&Ce){const ue=j.XpG().$implicit,ae=j.XpG(2);j.FS9("title",j.i5U(1,4,ae.messagePrefix+".table.edit.buttons.remove",j.eq3(7,V,ae.dsoNameService.getName(ue.eperson)))),j.Y8G("dsBtnDisabled",ae.actionConfig.remove.disabled)("ngClass",j.eq3(9,X,ae.actionConfig.remove.css)),j.R7$(2),j.Y8G("ngClass",ae.actionConfig.remove.icon)}}function q(Ce,Ee){if(1&Ce){const ue=j.RV6();j.j41(0,"button",22),j.nI1(1,"translate"),j.bIt("click",function(){j.eBV(ue);const ye=j.XpG().$implicit,De=j.XpG(2);return j.Njj(De.addMemberToGroup(ye.eperson))}),j.nrm(2,"i",23),j.k0s()}if(2&Ce){const ue=j.XpG().$implicit,ae=j.XpG(2);j.FS9("title",j.i5U(1,4,ae.messagePrefix+".table.edit.buttons.add",j.eq3(7,V,ae.dsoNameService.getName(ue.eperson)))),j.Y8G("dsBtnDisabled",ae.actionConfig.add.disabled)("ngClass",j.eq3(9,X,ae.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",ae.actionConfig.add.icon)}}function Z(Ce,Ee){if(1&Ce&&(j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20),j.DNE(14,J,3,11,"button",21)(15,q,3,11,"button",21),j.k0s()()()),2&Ce){const ue=Ee.$implicit,ae=j.XpG(2);j.R7$(2),j.JRh(ue.eperson.id),j.R7$(2),j.Y8G("routerLink",ae.getEPersonEditRoute(ue.eperson.id)),j.R7$(),j.SpI(" ",ae.dsoNameService.getName(ue.eperson)," "),j.R7$(2),j.Lme(" ",j.bMT(8,9,ae.messagePrefix+".table.email"),": ",ue.eperson.email?ue.eperson.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,11,ae.messagePrefix+".table.netid"),": ",ue.eperson.netid?ue.eperson.netid:"-"," "),j.R7$(4),j.Y8G("ngIf",ue.ableToDelete),j.R7$(),j.Y8G("ngIf",!ue.ableToDelete)}}function H(Ce,Ee){if(1&Ce&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,Z,16,13,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&Ce){let ue,ae;const ye=j.XpG();j.Y8G("paginationOptions",ye.config)("collectionSize",null==(ue=j.bMT(1,9,ye.ePeopleMembersOfGroup))?null:ue.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ye.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ye.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ye.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ye.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(ae=j.bMT(20,19,ye.ePeopleMembersOfGroup))?null:ae.page)}}function Y(Ce,Ee){if(1&Ce&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ce){const ue=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,ue.messagePrefix+".no-members-yet")," ")}}function Q(Ce,Ee){if(1&Ce&&(j.j41(0,"span"),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ce){const ue=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,ue.messagePrefix+".search.head")," ")}}function ie(Ce,Ee){if(1&Ce){const ue=j.RV6();j.j41(0,"tr")(1,"td",17),j.EFF(2),j.k0s(),j.j41(3,"td",17)(4,"a",19),j.EFF(5),j.k0s()(),j.j41(6,"td",17),j.EFF(7),j.nI1(8,"translate"),j.nrm(9,"br"),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"td",17)(13,"div",20)(14,"button",22),j.nI1(15,"translate"),j.bIt("click",function(){const ye=j.eBV(ue).$implicit,De=j.XpG(2);return j.Njj(De.addMemberToGroup(ye))}),j.nrm(16,"i",23),j.k0s()()()()}if(2&Ce){const ue=Ee.$implicit,ae=j.XpG(2);j.R7$(2),j.JRh(ue.id),j.R7$(2),j.Y8G("routerLink",ae.getEPersonEditRoute(ue.id)),j.R7$(),j.SpI(" ",ae.dsoNameService.getName(ue)," "),j.R7$(2),j.Lme(" ",j.bMT(8,11,ae.messagePrefix+".table.email"),": ",ue.email?ue.email:"-",""),j.R7$(3),j.Lme(" ",j.bMT(11,13,ae.messagePrefix+".table.netid"),": ",ue.netid?ue.netid:"-"," "),j.R7$(4),j.FS9("title",j.i5U(15,15,ae.messagePrefix+".table.edit.buttons.add",j.eq3(18,V,ae.dsoNameService.getName(ue)))),j.Y8G("dsBtnDisabled",ae.actionConfig.add.disabled)("ngClass",j.eq3(20,X,ae.actionConfig.add.css)),j.R7$(2),j.Y8G("ngClass",ae.actionConfig.add.icon)}}function oe(Ce,Ee){if(1&Ce&&(j.j41(0,"ds-pagination",13),j.nI1(1,"async"),j.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),j.EFF(7),j.nI1(8,"translate"),j.k0s(),j.j41(9,"th",16),j.EFF(10),j.nI1(11,"translate"),j.k0s(),j.j41(12,"th",16),j.EFF(13),j.nI1(14,"translate"),j.k0s(),j.j41(15,"th",17),j.EFF(16),j.nI1(17,"translate"),j.k0s()()(),j.j41(18,"tbody"),j.DNE(19,ie,17,22,"tr",18),j.nI1(20,"async"),j.k0s()()()()),2&Ce){let ue,ae;const ye=j.XpG();j.Y8G("paginationOptions",ye.configSearch)("collectionSize",null==(ue=j.bMT(1,9,ye.ePeopleSearch))?null:ue.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),j.R7$(7),j.JRh(j.bMT(8,11,ye.messagePrefix+".table.id")),j.R7$(3),j.JRh(j.bMT(11,13,ye.messagePrefix+".table.name")),j.R7$(3),j.JRh(j.bMT(14,15,ye.messagePrefix+".table.identity")),j.R7$(3),j.JRh(j.bMT(17,17,ye.messagePrefix+".table.edit")),j.R7$(3),j.Y8G("ngForOf",null==(ae=j.bMT(20,19,ye.ePeopleSearch))?null:ae.page)}}function pe(Ce,Ee){if(1&Ce&&(j.j41(0,"div",24),j.EFF(1),j.nI1(2,"translate"),j.k0s()),2&Ce){const ue=j.XpG();j.R7$(),j.SpI(" ",j.bMT(2,1,ue.messagePrefix+".no-items")," ")}}var ne=function(Ce){return Ce[Ce.ActiveGroup=0]="ActiveGroup",Ce[Ce.Members=1]="Members",Ce[Ce.SearchResults=2]="SearchResults",Ce}(ne||{});let re=(()=>{class Ce{constructor(ue,ae,ye,De,tt,_t,We,dt){this.groupDataService=ue,this.ePersonDataService=ae,this.translateService=ye,this.notificationsService=De,this.formBuilder=tt,this.paginationService=_t,this.router=We,this.dsoNameService=dt,this.actionConfig={add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus fa-fw"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-trash-alt fa-fw"}},this.ePeopleSearch=new f.t(void 0),this.ePeopleMembersOfGroup=new f.t(void 0),this.configSearch=Object.assign(new U.W,{id:"sml",pageSize:5,currentPage:1}),this.config=Object.assign(new U.W,{id:"ml",pageSize:5,currentPage:1}),this.subs=new Map,this.getEPersonEditRoute=$.Ax,this.currentSearchQuery=""}ngOnInit(){this.searchForm=this.formBuilder.group({query:""}),this.subs.set(ne.ActiveGroup,this.groupDataService.getActiveGroup().subscribe(ue=>{null!=ue&&(this.groupBeingEdited=ue,this.retrieveMembers(this.config.currentPage),this.search({query:""}))}))}retrieveMembers(ue){this.unsubFrom(ne.Members),this.subs.set(ne.Members,this.paginationService.getCurrentPagination(this.config.id,this.config).pipe((0,_.n)(ae=>this.ePersonDataService.findListByHref(this.groupBeingEdited._links.epersons.href,{currentPage:ae.currentPage,elementsPerPage:ae.pageSize})),(0,b.bD)(),(0,v.T)(ae=>{if(!ae.hasFailed)return ae;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:ae.errorMessage}))}),(0,_.n)(ae=>(0,m.z)([...ae.payload.page.map(De=>(0,m.z)(this.isMemberOfGroup(De),_t=>{const We=new h.h;return We.eperson=De,We.ableToDelete=_t,We}))]).pipe((0,y.U)([]),(0,v.T)(De=>(0,I.g)(ae.payload.pageInfo,De))))).subscribe(ae=>{this.ePeopleMembersOfGroup.next(ae)}))}isMemberOfGroup(ue){return(0,p.of)(!0)}unsubFrom(ue){this.subs.has(ue)&&(this.subs.get(ue).unsubscribe(),this.subs.delete(ue))}deleteMemberFromGroup(ue){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(ae=>{if(null!=ae){const ye=this.groupDataService.deleteMemberFromGroup(ae,ue);this.showNotifications("deleteMember",ye,this.dsoNameService.getName(ue),ae),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}addMemberToGroup(ue){this.groupDataService.getActiveGroup().pipe((0,C.s)(1)).subscribe(ae=>{if(null!=ae){const ye=this.groupDataService.addMemberToGroup(ae,ue);this.showNotifications("addMember",ye,this.dsoNameService.getName(ue),ae),null!=this.currentSearchQuery&&this.search({query:this.currentSearchQuery})}else this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure.noActiveGroup"))})}search(ue){this.unsubFrom(ne.SearchResults),this.subs.set(ne.SearchResults,this.paginationService.getCurrentPagination(this.configSearch.id,this.configSearch).pipe((0,_.n)(ae=>{const ye=ue.query;return null!=ye&&this.currentSearchQuery!==ye&&this.groupBeingEdited&&(this.currentSearchQuery=ye,this.paginationService.resetPage(this.configSearch.id)),this.searchDone=!0,this.ePersonDataService.searchNonMembers(this.currentSearchQuery,this.groupBeingEdited.id,{currentPage:ae.currentPage,elementsPerPage:ae.pageSize},!1,!0)}),(0,b.bD)(),(0,v.T)(ae=>{if(!ae.hasFailed)return ae;this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure",{cause:ae.errorMessage}))}),(0,b.Bo)()).subscribe(ae=>{this.ePeopleSearch.next(ae)}))}ngOnDestroy(){for(const ue of this.subs.keys())this.unsubFrom(ue);this.paginationService.clearPagination(this.config.id),this.paginationService.clearPagination(this.configSearch.id)}showNotifications(ue,ae,ye,De){ae.pipe((0,b.qD)()).subscribe(tt=>{tt.hasSucceeded?this.notificationsService.success(this.translateService.get(this.messagePrefix+".notification.success."+ue,{name:ye})):this.notificationsService.error(this.translateService.get(this.messagePrefix+".notification.failure."+ue,{name:ye}))})}clearFormAndResetResult(){this.searchForm.patchValue({query:""}),this.search({query:""})}static{this.\u0275fac=function(ae){return new(ae||Ce)(j.rXU(R.GroupDataService),j.rXU(D.EPersonDataService),j.rXU(e.c$),j.rXU(L.I),j.rXU(t.ze),j.rXU(w.m),j.rXU(l.Ix),j.rXU(O.f))}}static{this.\u0275cmp=j.VBU({type:Ce,selectors:[["ds-members-list"]],inputs:{messagePrefix:"messagePrefix",actionConfig:"actionConfig"},standalone:!0,features:[j.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(ae,ye){if(1&ae&&(j.qex(0),j.j41(1,"h2",0),j.EFF(2),j.nI1(3,"translate"),j.k0s(),j.j41(4,"h3"),j.EFF(5),j.nI1(6,"translate"),j.k0s(),j.DNE(7,H,21,21,"ds-pagination",1),j.nI1(8,"async"),j.DNE(9,Y,3,3,"div",2),j.nI1(10,"async"),j.nI1(11,"async"),j.j41(12,"h3",3),j.DNE(13,Q,3,3,"span",4),j.k0s(),j.j41(14,"form",5),j.bIt("ngSubmit",function(){return ye.search(ye.searchForm.value)}),j.j41(15,"div",6)(16,"div",7),j.nrm(17,"input",8),j.j41(18,"span",9)(19,"button",10),j.nrm(20,"i",11),j.EFF(21),j.nI1(22,"translate"),j.k0s()()()(),j.j41(23,"div")(24,"button",12),j.bIt("click",function(){return ye.clearFormAndResetResult()}),j.EFF(25),j.nI1(26,"translate"),j.k0s()()(),j.DNE(27,oe,21,21,"ds-pagination",1),j.nI1(28,"async"),j.DNE(29,pe,3,3,"div",2),j.nI1(30,"async"),j.bVm()),2&ae){let De,tt,_t,We;j.R7$(2),j.JRh(j.bMT(3,10,ye.messagePrefix+".head")),j.R7$(3),j.JRh(j.bMT(6,12,ye.messagePrefix+".headMembers")),j.R7$(2),j.Y8G("ngIf",(null==(De=j.bMT(8,14,ye.ePeopleMembersOfGroup))?null:De.totalElements)>0),j.R7$(2),j.Y8G("ngIf",void 0===j.bMT(10,16,ye.ePeopleMembersOfGroup)||0===(null==(tt=j.bMT(11,18,ye.ePeopleMembersOfGroup))?null:tt.totalElements)),j.R7$(4),j.Y8G("dsContextHelp",j.eq3(29,z,j.lJ4(28,G))),j.R7$(),j.Y8G("formGroup",ye.searchForm),j.R7$(7),j.SpI(" ",j.bMT(22,20,ye.messagePrefix+".search.button"),""),j.R7$(4),j.JRh(j.bMT(26,22,ye.messagePrefix+".button.see-all")),j.R7$(2),j.Y8G("ngIf",(null==(_t=j.bMT(28,24,ye.ePeopleSearch))?null:_t.totalElements)>0),j.R7$(2),j.Y8G("ngIf",0===(null==(We=j.bMT(30,26,ye.ePeopleSearch))?null:We.totalElements)&&ye.searchDone)}},dependencies:[e.h,e.D9,M.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,B.e,i.bT,i.Jj,l.Wk,i.YU,i.Sq,P.A],encapsulation:2})}}return Ce})()},85255:(N,T,n)=>{"use strict";n.d(T,{C:()=>l,O3:()=>t,Sb:()=>e});var i=n(91e3);const t={EDIT_GROUP:(0,i.N)("dspace/epeople-registry/EDIT_GROUP"),CANCEL_EDIT_GROUP:(0,i.N)("dspace/epeople-registry/CANCEL_EDIT_GROUP")};class l{constructor(m){this.type=t.EDIT_GROUP,this.group=m}}class e{constructor(){this.type=t.CANCEL_EDIT_GROUP}}},68630:(N,T,n)=>{"use strict";n.r(T),n.d(T,{LdnServicesService:()=>P});var i=n(96697),t=n(96354),l=n(72734),e=n(53954),f=n(41684),m=n(39280),p=n(13617),_=n(46787),v=n(63897),y=n(87158),C=n(35108),O=n(41023),I=n(43052),D=n(32473),R=n(4910),h=n(45663),w=n(39806),b=n(54438);let P=(()=>{class M extends v.W{constructor(B,U,$,j,G){super("ldnservices",B,U,$,j),this.requestService=B,this.rdbService=U,this.objectCache=$,this.halService=j,this.notificationsService=G,this.findByPatternEndpoint="byInboundPattern",this.findAllData=new _.H(this.linkPath,B,U,$,j,this.responseMsToLive),this.searchData=new C.X(this.linkPath,B,U,$,j,this.responseMsToLive),this.deleteData=new p.I(this.linkPath,B,U,$,j,G,this.responseMsToLive,this.constructIdEndpoint),this.patchData=new y.n(this.linkPath,B,U,$,j,this.comparator,this.responseMsToLive,this.constructIdEndpoint),this.createData=new m.V(this.linkPath,B,U,$,j,G,this.responseMsToLive)}create(B,...U){return this.createData.create(B,...U)}patch(B,U){return this.patchData.patch(B,U)}update(B){return this.patchData.update(B)}commitUpdates(B){return this.patchData.commitUpdates(B)}createPatchFromCache(B){return this.patchData.createPatchFromCache(B)}findAll(B,U,$,...j){return this.findAllData.findAll(B,U,$,...j)}findByInboundPattern(B,U,$,j,...G){const z=[new e.x("pattern",B)],V=Object.assign(new O._,U,{searchParams:z});return this.searchBy(this.findByPatternEndpoint,V,$,j,...G)}delete(B,U){return this.deleteData.delete(B,U)}deleteByHref(B,U){return this.deleteData.deleteByHref(B,U)}searchBy(B,U,$,j,...G){return this.searchData.searchBy(B,U,$,j,...G)}invoke(B,U,$,j){const G=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(z=>new h.t(z,B,"processes",U).toString()),(0,t.T)(z=>{const V=this.getInvocationFormData($,j);return new I.E0(G,z,V)})).subscribe(z=>this.requestService.send(z)),this.rdbService.buildFromRequestUUID(G)}getInvocationFormData(B,U){const $=new FormData;return $.set("properties",JSON.stringify(B)),U.forEach(j=>{$.append("file",j)}),$}static{this.\u0275fac=function(U){return new(U||M)(b.KVO(D.B),b.KVO(l.o),b.KVO(f.$),b.KVO(R.Y),b.KVO(w.I))}}static{this.\u0275prov=b.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29009:(N,T,n)=>{"use strict";n.d(T,{tc:()=>l,uC:()=>e,zd:()=>t});var i=n(42547);const t=new i.v("ldnservice"),l=new i.v("itemfilters"),e=new i.v("itemfilter")},13275:(N,T,n)=>{"use strict";n.d(T,{VZ:()=>t,rn:()=>i,wU:()=>l});const i="quality-assurance",t="publication-claim";function l(){return`/${i}`}},40887:(N,T,n)=>{"use strict";n.d(T,{o:()=>t});var i=n(78541);class t extends i.q{}},3e3:(N,T,n)=>{"use strict";n.d(T,{a:()=>_});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(98688),p=n(60654);let _=class extends f.M{constructor(){super(...arguments),this.type=p.g}static{this.type=p.g}get self(){return this._links.self.href}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([m.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"notificationId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"notificationType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"coarNotifyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"activityStreamType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"inReplyTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"object",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"relatedItem",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"ldnService",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"context",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"queueAttempts",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueLastStartTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],_.prototype,"origin",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],_.prototype,"target",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueStatusLabel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"queueTimeout",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"queueStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"thumbnail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",l.c)],_.prototype,"item",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",l.c)],_.prototype,"accessStatus",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],_)},60654:(N,T,n)=>{"use strict";n.d(T,{g:()=>t});const t=new(n(42547).v)("message")},88857:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AdminNotifyMessagesService:()=>P});var i=n(22806),t=n(7673),l=n(31943),e=n(73028),f=n(96354),m=n(88141),p=n(25558),_=n(72734),v=n(41684),y=n(63897),C=n(29326),O=n(43052),I=n(32473),D=n(4910),R=n(80183),h=n(39806),w=n(68630),b=n(54438);let P=(()=>{class M extends y.W{constructor(B,U,$,j,G,z,V){super("messages",B,U,$,j),this.requestService=B,this.rdbService=U,this.objectCache=$,this.halService=j,this.notificationsService=G,this.ldnServicesService=z,this.itemDataService=V,this.reprocessEndpoint="enqueueretry"}getDetailedMessages(B){return(0,i.H)(B).pipe((0,e.Z)(U=>U.target||U.origin?this.ldnServicesService.findById((U.target||U.origin).toString()).pipe((0,R.Hz)(),(0,f.T)($=>({...U,ldnService:$.name}))):(0,t.of)(U)),(0,e.Z)(U=>U.object||U.context?this.itemDataService.findById(U.object||U.context).pipe((0,R.Hz)(),(0,f.T)($=>({...U,relatedItem:$.name}))):(0,t.of)(U)),(0,l.S)((U,$)=>[...U,$],[]))}reprocessMessage(B,U){const $=this.requestService.generateRequestId();return this.halService.getEndpoint(this.reprocessEndpoint).pipe((0,f.T)(j=>j.replace("{id}",B.id)),(0,f.T)(j=>new O.Qf($,j)),(0,m.M)(j=>this.requestService.send(j)),(0,p.n)(j=>this.rdbService.buildFromRequestUUID(j.uuid)),(0,R.qD)(),(0,R.Hz)(),(0,e.Z)(j=>this.getDetailedMessages([j]))).pipe((0,e.Z)(j=>U.pipe((0,f.T)(G=>{const z=j[0],V=G.find(J=>J.id===B.id),X=G.indexOf(V);return z.target=B.target,z.object=B.object,z.origin=B.origin,z.context=B.context,G[X]=z,G}))))}static{this.\u0275fac=function(U){return new(U||M)(b.KVO(I.B),b.KVO(_.o),b.KVO(v.$),b.KVO(D.Y),b.KVO(h.I),b.KVO(w.LdnServicesService),b.KVO(C.ItemDataService))}}static{this.\u0275prov=b.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},29679:(N,T,n)=>{"use strict";n.d(T,{Cv:()=>e,Sh:()=>t,ZU:()=>f,hO:()=>l});var i=n(91e3);const t={SELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/SELECT_FORMAT"),DESELECT_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_FORMAT"),DESELECT_ALL_FORMAT:(0,i.N)("dspace/bitstream-formats-registry/DESELECT_ALL_FORMAT")};class l{constructor(p){this.type=t.SELECT_FORMAT,this.bitstreamFormat=p}}class e{constructor(p){this.type=t.DESELECT_FORMAT,this.bitstreamFormat=p}}class f{constructor(){this.type=t.DESELECT_ALL_FORMAT}}},86628:(N,T,n)=>{"use strict";n.d(T,{Gr:()=>p,Kt:()=>t,Q6:()=>f,TE:()=>O,Tf:()=>v,Wi:()=>e,dF:()=>_,jC:()=>y,w2:()=>l,yb:()=>C,zn:()=>m});var i=n(91e3);const t={EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/EDIT_SCHEMA"),CANCEL_EDIT_SCHEMA:(0,i.N)("dspace/metadata-registry/CANCEL_SCHEMA"),SELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/SELECT_SCHEMA"),DESELECT_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_SCHEMA"),DESELECT_ALL_SCHEMA:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_SCHEMA"),EDIT_FIELD:(0,i.N)("dspace/metadata-registry/EDIT_FIELD"),CANCEL_EDIT_FIELD:(0,i.N)("dspace/metadata-registry/CANCEL_FIELD"),SELECT_FIELD:(0,i.N)("dspace/metadata-registry/SELECT_FIELD"),DESELECT_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_FIELD"),DESELECT_ALL_FIELD:(0,i.N)("dspace/metadata-registry/DESELECT_ALL_FIELD")};class l{constructor(D){this.type=t.EDIT_SCHEMA,this.schema=D}}class e{constructor(){this.type=t.CANCEL_EDIT_SCHEMA}}class f{constructor(D){this.type=t.SELECT_SCHEMA,this.schema=D}}class m{constructor(D){this.type=t.DESELECT_SCHEMA,this.schema=D}}class p{constructor(){this.type=t.DESELECT_ALL_SCHEMA}}class _{constructor(D){this.type=t.EDIT_FIELD,this.field=D}}class v{constructor(){this.type=t.CANCEL_EDIT_FIELD}}class y{constructor(D){this.type=t.SELECT_FIELD,this.field=D}}class C{constructor(D){this.type=t.DESELECT_FIELD,this.field=D}}class O{constructor(){this.type=t.DESELECT_ALL_FIELD}}},47483:(N,T,n)=>{"use strict";n.d(T,{P$:()=>v,b7:()=>O,iF:()=>_,jE:()=>e,p8:()=>p,uD:()=>f,z$:()=>m});var i=n(69799),t=n(45663),l=n(13275);const e="registries",f="notifications",m="ldn",p="reports",_="notify-dashboard";function v(){return new t.t((0,i.D6)(),e).toString()}function O(){return new t.t(`/${f}`,(0,l.wU)()).toString()}},9901:(N,T,n)=>{"use strict";n.d(T,{g:()=>y});var i=n(60177),t=n(7901),l=n(41780),e=n(82777),f=n(39548),m=n(19340),p=n(6446),_=n(54438);const v=C=>({disabled:C});let y=(()=>{class C extends p.a{constructor(I,D,R,h){super(I,D,R),this.menuService=D,this.injector=R,this.router=h,this.menuID=m.D.ADMIN,this.itemModel=I.model}ngOnInit(){this.isDisabled=this.itemModel?.disabled||(0,e.Im)(this.itemModel?.link),super.ngOnInit()}navigate(I){I.preventDefault(),this.isDisabled||this.router.navigate(this.itemModel.link)}adminMenuSectionId(I){return`admin-menu-section-${I}`}adminMenuSectionTitleId(I){return`admin-menu-section-${I}-title`}static{this.\u0275fac=function(D){return new(D||C)(_.rXU("sectionDataProvider"),_.rXU(f.$),_.rXU(_.zZn),_.rXU(t.Ix))}}static{this.\u0275cmp=_.VBU({type:C,selectors:[["ds-admin-sidebar-section"]],standalone:!0,features:[_.Vt3,_.aNF],decls:9,vars:13,consts:[["role","menuitem","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"keyup.space","keyup.enter","ngClass","routerLink"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[3,"id"]],template:function(D,R){1&D&&(_.j41(0,"div")(1,"a",0),_.bIt("keyup.space",function(w){return R.navigate(w)})("keyup.enter",function(w){return R.navigate(w)}),_.j41(2,"div",1),_.nrm(3,"i"),_.k0s(),_.j41(4,"div",2)(5,"div",3)(6,"span",4),_.EFF(7),_.nI1(8,"translate"),_.k0s()()()()()),2&D&&(_.R7$(),_.Y8G("ngClass",_.eq3(11,v,R.isDisabled))("routerLink",R.itemModel.link),_.BMQ("aria-disabled",R.isDisabled)("aria-labelledby",R.adminMenuSectionTitleId(R.section.id)),_.R7$(2),_.ZvI("fas fa-",R.section.icon," fa-fw"),_.R7$(3),_.Y8G("id",R.adminMenuSectionTitleId(R.section.id)),_.R7$(),_.JRh(_.bMT(8,9,R.itemModel.text)))},dependencies:[i.YU,t.Wk,l.h,l.D9]})}}return C})()},43832:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AdminSidebarComponent:()=>X});var i=n(60177),t=n(52149),l=n(41780),e=n(84412),f=n(84572),m=n(61594),p=n(96354),_=n(70152),v=n(23294),y=n(53993),C=n(67116),O=n(65007),I=n(621),D=n(30458),R=n(39548),h=n(19340),w=n(1221),b=n(82522),P=n(54438),M=n(7901);const L=(J,q,Z)=>({expanded:J,collapsed:q,transitioning:Z}),B=(J,q)=>({collapsedWidth:J,expandedWidth:q}),U=(J,q)=>({value:J,params:q});function $(J,q){1&J&&P.eu8(0)}function j(J,q){if(1&J&&(P.qex(0),P.DNE(1,$,1,0,"ng-container",16),P.nI1(2,"async"),P.nI1(3,"async"),P.bVm()),2&J){const Z=q.$implicit,H=P.XpG(2);P.R7$(),P.Y8G("ngComponentOutlet",P.bMT(2,2,H.sectionMap$).get(Z.id).component)("ngComponentOutletInjector",P.bMT(3,4,H.sectionMap$).get(Z.id).injector)}}function G(J,q){1&J&&(P.nrm(0,"i",17),P.nI1(1,"translate")),2&J&&P.Y8G("title",P.bMT(1,1,"menu.section.icon.pin"))}function z(J,q){1&J&&(P.nrm(0,"i",18),P.nI1(1,"translate")),2&J&&P.Y8G("title",P.bMT(1,1,"menu.section.icon.unpin"))}function V(J,q){if(1&J){const Z=P.RV6();P.j41(0,"nav",1),P.nI1(1,"async"),P.nI1(2,"async"),P.nI1(3,"async"),P.nI1(4,"translate"),P.bIt("@slideSidebar.done",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.finishSlide(Y))})("@slideSidebar.start",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.startSlide(Y))})("mouseenter",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.handleMouseEnter(Y))})("mouseleave",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.handleMouseLeave(Y))}),P.j41(5,"div",2)(6,"div",3)(7,"div",4),P.nrm(8,"img",5),P.nI1(9,"translate"),P.k0s(),P.j41(10,"div",6)(11,"div",7)(12,"h4",8),P.EFF(13),P.nI1(14,"translate"),P.k0s()()()()(),P.j41(15,"div",9)(16,"div",10),P.nI1(17,"translate"),P.DNE(18,j,4,6,"ng-container",11),P.nI1(19,"async"),P.k0s()(),P.j41(20,"div",12)(21,"a",13),P.bIt("click",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.toggle(Y))})("keyup.space",function(Y){P.eBV(Z);const Q=P.XpG();return P.Njj(Q.toggle(Y))}),P.j41(22,"div",4),P.DNE(23,G,2,3,"i",14),P.nI1(24,"async"),P.DNE(25,z,2,3,"i",15),P.nI1(26,"async"),P.k0s(),P.j41(27,"div",6)(28,"div",7),P.EFF(29),P.nI1(30,"async"),P.nI1(31,"translate"),P.k0s()()()()()}if(2&J){const Z=P.XpG();P.Y8G("ngClass",P.sMw(34,L,Z.sidebarOpen,Z.sidebarClosed,Z.sidebarTransitioning))("@slideSidebar",P.l_i(41,U,!0!==P.bMT(1,10,Z.sidebarExpanded)?"collapsed":"expanded",P.l_i(38,B,P.bMT(2,12,Z.collapsedSidebarWidth$),P.bMT(3,14,Z.expandedSidebarWidth$)))),P.BMQ("aria-label",P.bMT(4,16,"menu.header.nav.description")),P.R7$(8),P.Y8G("alt",P.bMT(9,18,"menu.header.image.logo")),P.R7$(5),P.JRh(P.bMT(14,20,"menu.header.admin")),P.R7$(3),P.BMQ("aria-label",P.bMT(17,22,"menu.header.admin.description")),P.R7$(2),P.Y8G("ngForOf",P.bMT(19,24,Z.sections)),P.R7$(5),P.Y8G("ngIf",P.bMT(24,26,Z.menuCollapsed)),P.R7$(2),P.Y8G("ngIf",!0!==P.bMT(26,28,Z.menuCollapsed)),P.R7$(4),P.SpI(" ",P.bMT(31,32,P.bMT(30,30,Z.menuCollapsed)?"menu.section.pin":"menu.section.unpin")," ")}}let X=(()=>{class J extends D.Z{constructor(Z,H,Y,Q,ie,oe,pe){super(Z,H,ie,oe,pe),this.menuService=Z,this.injector=H,this.variableService=Y,this.authService=Q,this.authorizationService=ie,this.route=oe,this.themeService=pe,this.menuID=h.D.ADMIN,this.sidebarOpen=!0,this.sidebarClosed=!this.sidebarOpen,this.sidebarTransitioning=!this.sidebarOpen,this.inFocus$=new e.t(!1)}ngOnInit(){super.ngOnInit(),this.authService.isAuthenticated().subscribe(Z=>{Z&&this.menuService.showMenu(this.menuID)}),this.menuCollapsed.pipe((0,m.$)()).subscribe(Z=>{this.sidebarOpen=!Z,this.sidebarClosed=Z}),this.sidebarExpanded=(0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]).pipe((0,p.T)(([Z,H])=>!Z||!H)),this.inFocus$.pipe((0,_.B)(50),(0,v.F)(),(0,y.E)((0,f.z)([this.menuCollapsed,this.menuPreviewCollapsed]))).subscribe(([Z,[H,Y]])=>{H&&(Z&&Y?this.expandPreview(new Event("focusin \u2192 expand")):!Z&&!Y&&this.collapsePreview(new Event("focusout \u2192 collapse")))}),this.menuVisible=this.menuService.isMenuVisibleWithVisibleSections(this.menuID)}handleFocusIn(){this.inFocus$.next(!0)}handleFocusOut(){this.inFocus$.next(!1)}handleMouseEnter(Z){this.inFocus$.getValue()?Z.preventDefault():this.expandPreview(Z)}handleMouseLeave(Z){this.inFocus$.getValue()?Z.preventDefault():this.collapsePreview(Z)}startSlide(Z){this.sidebarTransitioning=!0,"expanded"===Z.toState?this.sidebarClosed=!1:"collapsed"===Z.toState&&(this.sidebarOpen=!1)}finishSlide(Z){this.sidebarTransitioning=!1,"expanded"===Z.fromState?this.sidebarClosed=!0:"collapsed"===Z.fromState&&(this.sidebarOpen=!0)}static{this.\u0275fac=function(H){return new(H||J)(P.rXU(R.$),P.rXU(P.zZn),P.rXU(w.J),P.rXU(C.uR),P.rXU(O.AuthorizationDataService),P.rXU(M.nX),P.rXU(b.Fs))}}static{this.\u0275cmp=P.VBU({type:J,selectors:[["ds-base-admin-sidebar"]],hostBindings:function(H,Y){1&H&&P.bIt("focusin",function(){return Y.handleFocusIn()})("focusout",function(){return Y.handleFocusOut()})},inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[P.Vt3,P.aNF],decls:2,vars:3,consts:[["class","navbar navbar-dark p-0 vh-100","id","admin-sidebar",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["id","admin-sidebar",1,"navbar","navbar-dark","p-0","vh-100",3,"mouseenter","mouseleave","ngClass"],["id","sidebar-header-container","aria-hidden","true",1,"sidebar-full-width-container"],[1,"sidebar-section-wrapper"],[1,"sidebar-fixed-element-wrapper"],["id","admin-sidebar-logo","src","assets/images/logo-sidebar-unifesp.png","aria-hidden","true",3,"alt"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item"],[1,"my-1"],["id","sidebar-top-level-items-container",1,"sidebar-full-width-container"],["id","sidebar-top-level-items","role","menubar",1,"sidebar-full-width-container"],[4,"ngFor","ngForOf"],["id","sidebar-collapse-toggle-container",1,"sidebar-full-width-container"],["id","sidebar-collapse-toggle","href","javascript:void(0);",1,"sidebar-section-wrapper","sidebar-full-width-container",3,"click","keyup.space"],["class","fas fa-fw fa-angle-double-right",3,"title",4,"ngIf"],["class","fas fa-fw fa-angle-double-left",3,"title",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"fas","fa-fw","fa-angle-double-right",3,"title"],[1,"fas","fa-fw","fa-angle-double-left",3,"title"]],template:function(H,Y){1&H&&(P.DNE(0,V,32,44,"nav",0),P.nI1(1,"async")),2&H&&P.Y8G("ngIf",P.bMT(1,1,Y.menuVisible))},dependencies:[i.bT,t.zH,t.QE,i.YU,i.pM,i.OI,i.Jj,l.h,l.D9],styles:["[_nghost-%COMP%]{position:fixed;left:0;top:0;z-index:var(--ds-sidebar-z-index)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{max-width:var(--ds-admin-sidebar-fixed-element-width);display:flex;flex-direction:column;flex-wrap:nowrap}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:var(--ds-dark-scrollbar-width);height:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-button{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{height:50px;background-color:var(--ds-dark-scrollbar-fg);border-radius:3px}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-scrollbar-corner{background-color:var(--ds-dark-scrollbar-alt-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-top-level-items-container[_ngcontent-%COMP%]::-webkit-resizer{background-color:var(--ds-dark-scrollbar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   img#admin-sidebar-logo[_ngcontent-%COMP%]{height:var(--ds-admin-sidebar-logo-height)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-full-width-container{width:100%;padding-left:0;padding-right:0;margin-left:0;margin-right:0}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-item{padding-top:var(--ds-admin-sidebar-item-padding);padding-bottom:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-fixed-element-wrapper{min-width:var(--ds-admin-sidebar-fixed-element-width);flex:1 1 auto;display:flex;flex-direction:row;justify-content:center;align-items:center}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper{display:flex;flex-wrap:wrap;justify-content:flex-end;max-width:calc(100% - var(--ds-admin-sidebar-fixed-element-width));padding-left:var(--ds-dark-scrollbar-width);overflow-x:hidden}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     .sidebar-section-wrapper>.sidebar-collapsible-element-outer-wrapper>.sidebar-collapsible-element-inner-wrapper{min-width:calc(var(--ds-admin-sidebar-collapsible-element-width) - var(--ds-dark-scrollbar-width));height:100%;padding-right:var(--ds-admin-sidebar-item-padding)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]    {color:#fff}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a{color:var(--ds-admin-sidebar-link-color);text-decoration:none}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:hover, [_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]     a:focus{color:var(--ds-admin-sidebar-link-hover-color)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}[_nghost-%COMP%]   nav#admin-sidebar[_ngcontent-%COMP%]   div#sidebar-header-container[_ngcontent-%COMP%]   .sidebar-fixed-element-wrapper[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-header-bg)}  .browser-firefox-windows{--ds-dark-scrollbar-width: 20px}"],data:{animation:[I.ck]}})}}return J})()},99452:(N,T,n)=>{"use strict";n.d(T,{W:()=>$});var i=n(60177),t=n(41780),l=n(84572),e=n(96354),f=n(49969);const m=(0,f.iF)({backgroundColor:"{{ startColor }}"}),p=(0,f.iF)({backgroundColor:"{{ endColor }}"}),_=(0,f.hZ)("bgColor",[(0,f.wk)("startBackground",m,{params:{startColor:"*"}}),(0,f.wk)("endBackground",p,{params:{endColor:"*"}}),(0,f.kY)("startBackground <=> endBackground",(0,f.Os)([(0,f.P)("@*",(0,f.MA)()),(0,f.i0)("200ms")]))]);var v=n(68681),y=n(621),C=n(39548),O=n(19340),I=n(1221),D=n(9901),R=n(54438),h=n(7901);const w=j=>({expanded:j}),b=j=>({endColor:j}),P=(j,G)=>({value:j,params:G});function M(j,G){1&j&&R.eu8(0)}function L(j,G){1&j&&R.eu8(0)}function B(j,G){if(1&j&&(R.j41(0,"div",14),R.DNE(1,L,1,0,"ng-container",6),R.nI1(2,"async"),R.nI1(3,"async"),R.k0s()),2&j){const z=G.$implicit,V=R.XpG(2);R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(2,2,V.sectionMap$).get(z.id).component)("ngComponentOutletInjector",R.bMT(3,4,V.sectionMap$).get(z.id).injector)}}function U(j,G){if(1&j&&(R.j41(0,"div",9),R.nrm(1,"div",10),R.j41(2,"div",3)(3,"div",11)(4,"div",12),R.nI1(5,"translate"),R.DNE(6,B,4,6,"div",13),R.nI1(7,"async"),R.k0s()()()()),2&j){const z=R.XpG();R.Y8G("@slide",void 0),R.R7$(4),R.Y8G("id",z.adminMenuSectionId(z.section.id)),R.BMQ("aria-label",R.bMT(5,4,"menu.section."+z.section.id)),R.R7$(2),R.Y8G("ngForOf",R.bMT(7,6,z.subSections$))}}let $=(()=>{class j extends D.g{constructor(z,V,X,J,q){super(z,V,J,q),this.menuService=V,this.variableService=X,this.injector=J,this.router=q,this.menuID=O.D.ADMIN}ngOnInit(){super.ngOnInit(),this.sidebarActiveBg$=this.variableService.getVariable("--ds-admin-sidebar-active-bg"),this.isSidebarCollapsed$=this.menuService.isMenuCollapsed(this.menuID),this.isSidebarPreviewCollapsed$=this.menuService.isMenuPreviewCollapsed(this.menuID),this.isExpanded$=(0,l.z)([this.active$,this.isSidebarCollapsed$,this.isSidebarPreviewCollapsed$]).pipe((0,e.T)(([z,V,X])=>z&&(!V||!X)))}toggleSection(z){this.menuService.expandMenuPreview(this.menuID),super.toggleSection(z)}adminMenuSubsectionId(z,V){return`admin-menu-section-${z}-${V}`}static{this.\u0275fac=function(V){return new(V||j)(R.rXU("sectionDataProvider"),R.rXU(C.$),R.rXU(I.J),R.rXU(R.zZn),R.rXU(h.Ix))}}static{this.\u0275cmp=R.VBU({type:j,selectors:[["ds-expandable-admin-sidebar-section"]],standalone:!0,features:[R.Vt3,R.aNF],decls:19,vars:40,consts:[[3,"ngClass"],["role","menuitem","tabindex","0","aria-haspopup","menu","href","javascript:void(0);",1,"sidebar-section-wrapper",3,"click","keyup.space"],["data-test","sidebar-section-icon","aria-hidden","true",1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-outer-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper","sidebar-item","toggler-wrapper"],[3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-chevron-right","fa-xs"],["class","sidebar-section-wrapper subsection",4,"ngIf"],[1,"sidebar-section-wrapper","subsection"],[1,"sidebar-fixed-element-wrapper"],[1,"sidebar-collapsible-element-inner-wrapper"],["role","menu",1,"sidebar-sub-level-item-list",3,"id"],["class","sidebar-item",4,"ngFor","ngForOf"],[1,"sidebar-item"]],template:function(V,X){1&V&&(R.j41(0,"div",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.j41(4,"a",1),R.nI1(5,"async"),R.nI1(6,"translate"),R.bIt("click",function(q){return X.toggleSection(q)})("keyup.space",function(q){return X.toggleSection(q)}),R.j41(7,"div",2),R.nrm(8,"i"),R.k0s(),R.j41(9,"div",3)(10,"div",4)(11,"span",5),R.DNE(12,M,1,0,"ng-container",6),R.nI1(13,"async"),R.nI1(14,"async"),R.k0s(),R.nrm(15,"i",7),R.nI1(16,"async"),R.k0s()()(),R.DNE(17,U,8,8,"div",8),R.nI1(18,"async"),R.k0s()),2&V&&(R.Y8G("ngClass",R.eq3(33,w,R.bMT(1,15,X.isExpanded$)))("@bgColor",R.l_i(37,P,R.bMT(2,17,X.isExpanded$)?"endBackground":"startBackground",R.eq3(35,b,R.bMT(3,19,X.sidebarActiveBg$)))),R.R7$(4),R.AVh("disabled",null==X.section.model?null:X.section.model.disabled),R.BMQ("aria-controls",X.adminMenuSectionId(X.section.id))("aria-expanded",R.bMT(5,21,X.isExpanded$))("aria-label",R.bMT(6,23,"menu.section.toggle."+X.section.id)),R.R7$(4),R.ZvI("fas fa-",X.section.icon," fa-fw"),R.R7$(3),R.Y8G("id",X.adminMenuSectionTitleId(X.section.id)),R.R7$(),R.Y8G("ngComponentOutlet",R.bMT(13,25,X.sectionMap$).get(X.section.id).component)("ngComponentOutletInjector",R.bMT(14,27,X.sectionMap$).get(X.section.id).injector),R.R7$(3),R.Y8G("@rotate",R.bMT(16,29,X.isExpanded$)?"expanded":"collapsed"),R.R7$(2),R.Y8G("ngIf",R.bMT(18,31,X.isExpanded$)))},dependencies:[i.YU,i.OI,i.bT,i.pM,i.Jj,t.h,t.D9],styles:["[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   .sidebar-sub-level-item-list[_ngcontent-%COMP%]     .ds-menu-item{margin-left:var(--ds-admin-sidebar-section-indent)}[_nghost-%COMP%]   .toggler-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .subsection[_ngcontent-%COMP%]   .sidebar-collapsible-element-inner-wrapper[_ngcontent-%COMP%]{overflow-y:hidden}"],data:{animation:[v.e$,y.M6,_]}})}}return j})()},61242:(N,T,n)=>{"use strict";n.d(T,{u:()=>m});var i=n(8886),l=(n(43832),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["collapsedSidebarWidth$","expandedSidebarWidth$"]}getComponentName(){return"AdminSidebarComponent"}importThemedComponent(v){return n(48832)(`./${v}/app/admin/admin-sidebar/admin-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,43832))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-admin-sidebar"]],inputs:{expandedSidebarWidth$:"expandedSidebarWidth$",collapsedSidebarWidth$:"collapsedSidebarWidth$"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},69799:(N,T,n)=>{"use strict";n.d(T,{D6:()=>w,Do:()=>L,EI:()=>Ce,ET:()=>I,EX:()=>Z,Eo:()=>D,Ep:()=>ie,H_:()=>y,N2:()=>Y,OC:()=>X,Q:()=>j,RC:()=>Q,RD:()=>q,RZ:()=>re,Th:()=>P,UP:()=>pe,Vv:()=>$,XG:()=>ne,al:()=>U,bZ:()=>J,cp:()=>z,dF:()=>C,e_:()=>oe,gf:()=>ae,hV:()=>O,il:()=>M,l2:()=>v,lH:()=>Ee,n:()=>H,pU:()=>h,pX:()=>b,sB:()=>R,sT:()=>B,wN:()=>V});var i=n(64611),t=n(54671),l=n(6041),e=n(10046),f=n(88318),m=n(45663),p=n(90887),_=n(82777);const v="bitstreams",y="bitstream";function C(){return`/${v}`}function O(_t){return new m.t(C(),_t.uuid,"download").toString()}function I(_t,We){return{routerLink:new m.t((0,p.Fy)(),_t.uuid,"request-a-copy").toString(),queryParams:{bitstream:We.uuid}}}const D="home";function R(){return`/${D}`}const h="admin";function w(){return`/${h}`}const b="profile";function P(){return`/${b}`}const M="register";function L(){return`/${M}`}const B="forgot";function U(){return`/${B}`}const $="workflowitems";function j(){return`/${$}`}const G="workspaceitems";function z(){return`/${G}`}function V(_t){if((0,_.a4)(_t))switch(_t.type){case e.E.type.value:return(0,t.c5)(_t.uuid);case l.p.type.value:return(0,i.JW)(_t.uuid);case f.q.type.value:return(0,p._o)(_t)}}const X="403";function J(){return`/${X}`}const q="404";function Z(){return`/${q}`}const H="500";function Y(){return`/${H}`}const Q="error",ie="info";function oe(){return`/${ie}`}const pe="access-control";function ne(){return`/${pe}`}const re="request-a-copy";function Ce(){return`/${re}`}const Ee="health",ue="subscriptions";function ae(){return`/${ue}`}},72352:(N,T,n)=>{"use strict";n.d(T,{rd:()=>Cn,pc:()=>hs,ox:()=>ns,wP:()=>Gs});var i=n(20766),t=n(25499),l=n(19353);const e={editEPerson:null};var m=n(85255);const p={editGroup:null};var v=n(86628);const y={editSchema:null,selectedSchemas:[],editField:null,selectedFields:[]};var O=n(11596);const I={expandedNodes:[],loadingNode:null};var R=n(10110),b=n(55116);const P={allIconsVisible:!1,models:{}};function L(yt,ct,Xt){const{[ct]:Pn,...kn}=yt.models,as={...kn,[ct]:{...Pn,isTooltipVisible:Xt(Pn.isTooltipVisible)}};return{...yt,models:as}}var B=n(82777),U=n(94337);function j(yt,ct,Xt){return Object.assign({},yt,{[ct]:Xt})}var G=n(48125),z=n.n(G),V=n(63448),X=n.n(V),J=n(32710);const q=Object.create(null);var Ce=n(19340);const Ee={[Ce.D.ADMIN]:{id:Ce.D.ADMIN,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}},[Ce.D.PUBLIC]:{id:Ce.D.PUBLIC,collapsed:!0,previewCollapsed:!0,visible:!0,sections:{},sectionToSubsectionIndex:{}},[Ce.D.DSO_EDIT]:{id:Ce.D.DSO_EDIT,collapsed:!0,previewCollapsed:!0,visible:!1,sections:{},sectionToSubsectionIndex:{}}};var ue=n(54476);function Pe(yt,ct,Xt){const Pn=yt[ct.menuID],kn=Object.assign({},Pn.sections,{[Xt.id]:Xt}),rs=Object.assign({},Pn,{sections:kn});return Object.assign({},yt,{[ct.menuID]:rs})}function we(yt,ct,Xt){const kn=yt[ct.menuID].sections[ct.id];return(0,B.a4)(kn)?Pe(yt,ct,Object.assign({},kn,Xt)):yt}var vt=n(11568);const at=[];var ve=n(61281);function $t(yt){return{id:yt,selection:[]}}function St(yt,ct){return yt.findIndex(Xt=>Xt.equals(ct))>=0}var Jt=n(65580);const ln=Object.create(null);var zt=n(18757);const Ht=Object.create({});var Ot=n(65354);const Zt={width:null,height:null};var Lt=n(22180);const st=Object.create(null);var je=n(52680);const He={sidebarCollapsed:!0};var Pt=n(15314);const Je={currentTheme:null};var Et=n(26500);const qt=Object.create(null),Cn={router:i.C_,hostWindow:function Dt(yt=Zt,ct){return ct.type===Ot.O.RESIZE?Object.assign({},yt,ct.payload):yt},forms:function Z(yt=q,ct){switch(ct.type){case J.AI.FORM_INIT:return function ie(yt,ct){const Xt={data:ct.payload.formData,valid:ct.payload.valid,touched:{},errors:[]};if((0,B.a4)(yt[ct.payload.formId])){const Pn=Object.assign({},yt);return Pn[ct.payload.formId]=Object.assign({},Pn[ct.payload.formId],Xt),Pn}return Object.assign({},yt,{[ct.payload.formId]:Xt})}(yt,ct);case J.AI.FORM_CHANGE:return function oe(yt,ct){if((0,B.a4)(yt[ct.payload.formId])){const Xt=Object.assign({},yt);return Xt[ct.payload.formId]=Object.assign({},Xt[ct.payload.formId],{data:ct.payload.formData,valid:yt[ct.payload.formId].valid}),Xt}return yt}(yt,ct);case J.AI.FORM_ADD_TOUCHED:return function re(yt,ct){if((0,B.a4)(yt[ct.payload.formId])){const Xt=Object.assign({},yt),Pn=Object.assign({},Xt[ct.payload.formId]);return Xt[ct.payload.formId]=Pn,Pn.touched={...Pn.touched},ct.payload.touched.forEach(kn=>Pn.touched[kn]=!0),Xt}return yt}(yt,ct);case J.AI.FORM_REMOVE:return function ne(yt,ct){if((0,B.a4)(yt[ct.payload.formId])){const Xt=Object.assign({},yt);return delete Xt[ct.payload.formId],Xt}return yt}(yt,ct);case J.AI.FORM_STATUS_CHANGE:return function pe(yt,ct){if((0,B.a4)(yt[ct.payload.formId])){const Xt=Object.assign({},yt);return Xt[ct.payload.formId]=Object.assign({},Xt[ct.payload.formId],{data:yt[ct.payload.formId].data,valid:ct.payload.valid}),Xt}return Object.assign({},yt,{[ct.payload.formId]:{data:yt[ct.payload.formId].data,valid:ct.payload.valid}})}(yt,ct);case J.AI.FORM_ADD_ERROR:return function H(yt,ct){const Xt=ct.payload.formId;if((0,B.a4)(yt[Xt])){const Pn={fieldId:ct.payload.fieldId,fieldIndex:ct.payload.fieldIndex,message:ct.payload.errorMessage},kn=ct.payload.fieldId.replace(/\_/g,"."),rs=Object.assign({},yt[Xt].touched,{[kn]:!0});return Object.assign({},yt,{[Xt]:{data:yt[Xt].data,valid:yt[Xt].valid,errors:yt[Xt].errors?X()(yt[Xt].errors.concat(Pn),z()):[].concat(Pn),touched:rs}})}return yt}(yt,ct);case J.AI.FORM_REMOVE_ERROR:return function Y(yt,ct){const Xt=ct.payload.formId,Pn=ct.payload.fieldId,kn=ct.payload.fieldIndex;if((0,B.a4)(yt[Xt])){const rs=yt[Xt].errors.filter(Qs=>Qs.fieldId!==Pn||Qs.fieldIndex!==kn),as=Object.assign({},yt);return as[Xt]=Object.assign({},yt[Xt],{errors:rs}),as}return yt}(yt,ct);case J.AI.FORM_CLEAR_ERRORS:return function Q(yt,ct){const Xt=ct.payload.formId;if((0,B.a4)(yt[Xt])){const Pn=[],kn=Object.assign({},yt);return kn[Xt]=Object.assign({},yt[Xt],{errors:Pn}),kn}return yt}(yt,ct);default:return yt}},metadataRegistry:function C(yt=y,ct){switch(ct.type){case v.Kt.EDIT_SCHEMA:return Object.assign({},yt,{editSchema:ct.schema});case v.Kt.CANCEL_EDIT_SCHEMA:return Object.assign({},yt,{editSchema:null});case v.Kt.SELECT_SCHEMA:return Object.assign({},yt,{selectedSchemas:[...yt.selectedSchemas,ct.schema]});case v.Kt.DESELECT_SCHEMA:return Object.assign({},yt,{selectedSchemas:yt.selectedSchemas.filter(Xt=>Xt!==ct.schema)});case v.Kt.DESELECT_ALL_SCHEMA:return Object.assign({},yt,{selectedSchemas:[]});case v.Kt.EDIT_FIELD:return Object.assign({},yt,{editField:ct.field});case v.Kt.CANCEL_EDIT_FIELD:return Object.assign({},yt,{editField:null});case v.Kt.SELECT_FIELD:return Object.assign({},yt,{selectedFields:[...yt.selectedFields,ct.field]});case v.Kt.DESELECT_FIELD:return Object.assign({},yt,{selectedFields:yt.selectedFields.filter(Xt=>Xt!==ct.field)});case v.Kt.DESELECT_ALL_FIELD:return Object.assign({},yt,{selectedFields:[]});default:return yt}},notifications:function nt(yt=at,ct){switch(ct.type){case vt.Is.NEW_NOTIFICATION:return[...yt,ct.payload];case vt.Is.REMOVE_ALL_NOTIFICATIONS:return[];case vt.Is.REMOVE_NOTIFICATION:return((yt,ct)=>yt.filter(Xt=>Xt.id!==ct.payload))(yt,ct);default:return yt}},sidebar:function Be(yt=He,ct){switch(ct.type){case je.Kd.COLLAPSE:return Object.assign({},yt,{sidebarCollapsed:!0});case je.Kd.EXPAND:return Object.assign({},yt,{sidebarCollapsed:!1});case je.Kd.TOGGLE:return Object.assign({},yt,{sidebarCollapsed:!yt.sidebarCollapsed});default:return yt}},searchFilter:function Le(yt=st,ct){switch(ct.type){case Lt.y$.INITIALIZE:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:!ct.initiallyExpanded,minimized:!1,page:1}});case Lt.y$.COLLAPSE:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:!0,minimized:yt[ct.filterName].minimized,page:yt[ct.filterName].page}});case Lt.y$.EXPAND:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:!1,minimized:yt[ct.filterName].minimized,page:yt[ct.filterName].page}});case Lt.y$.DECREMENT_PAGE:{const Xt=yt[ct.filterName].page-1;return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:yt[ct.filterName].filterCollapsed,minimized:yt[ct.filterName].minimized,page:Xt>=1?Xt:1}})}case Lt.y$.INCREMENT_PAGE:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:yt[ct.filterName].filterCollapsed,minimized:yt[ct.filterName].minimized,page:yt[ct.filterName].page+1}});case Lt.y$.MINIMIZE_ALL:return Object.assign({},...Object.entries(yt).map(([Xt,Pn])=>({[Xt]:{...Pn,minimized:!0}})));case Lt.y$.RESET_PAGE:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:yt[ct.filterName].filterCollapsed,minimized:!1,page:1}});case Lt.y$.TOGGLE:return Object.assign({},yt,{[ct.filterName]:{filterCollapsed:!yt[ct.filterName].filterCollapsed,minimized:yt[ct.filterName].minimized,page:yt[ct.filterName].page}});default:return yt}},truncatable:function fn(yt=qt,ct){switch(ct.type){case Et.VR.COLLAPSE:return Object.assign({},yt,{[ct.id]:{collapsed:!0}});case Et.VR.EXPAND:return Object.assign({},yt,{[ct.id]:{collapsed:!1}});case Et.VR.TOGGLE:return yt[ct.id]||(yt[ct.id]={collapsed:!1}),Object.assign({},yt,{[ct.id]:{collapsed:!yt[ct.id].collapsed}});default:return yt}},cssVariables:function At(yt=Ht,ct){switch(ct.type){case zt.$s.ADD:{const Xt=ct.payload;return Object.assign({},yt,{[Xt.name]:Xt.value})}case zt.$s.ADD_ALL:return Object.assign({},yt,...ct.payload.map(({key:Pn,value:kn})=>({[Pn]:kn})));case zt.$s.CLEAR:return Ht;default:return yt}},theme:function Nt(yt=Je,ct){return ct.type===Pt.t.SET?{currentTheme:ct.payload.name}:yt},menus:function ae(yt=Ee,ct){switch(ct.type){case ue.jZ.COLLAPSE_MENU:{const Xt=Object.assign({},yt[ct.menuID],{collapsed:!0});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.EXPAND_MENU:{const Xt=Object.assign({},yt[ct.menuID],{collapsed:!1});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.COLLAPSE_MENU_PREVIEW:{const Xt=Object.assign({},yt[ct.menuID],{previewCollapsed:!0});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.EXPAND_MENU_PREVIEW:{const Xt=Object.assign({},yt[ct.menuID],{previewCollapsed:!1});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.TOGGLE_MENU:{const Xt=yt[ct.menuID],Pn=Object.assign({},Xt,{collapsed:!Xt.collapsed});return Object.assign({},yt,{[ct.menuID]:Pn})}case ue.jZ.SHOW_MENU:{const Xt=Object.assign({},yt[ct.menuID],{visible:!0});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.HIDE_MENU:{const Xt=Object.assign({},yt[ct.menuID],{visible:!1});return Object.assign({},yt,{[ct.menuID]:Xt})}case ue.jZ.REINIT_MENUS:return Object.assign({},Ee);case ue.jZ.ADD_SECTION:return function ye(yt,ct){return function De(yt,ct){const Xt=yt[ct.menuID],Pn={},kn={};Object.values(Xt.sections).sort((as,Qs)=>(as.index||0)-(Qs.index||0)).forEach(as=>{if(Pn[as.id]=as,(0,B.a4)(as.parentID)){const Qs=(0,B.a4)(kn[as.parentID])?kn[as.parentID]:[];kn[as.parentID]=[...Qs,as.id]}});const rs=Object.assign({},Xt,{sections:Pn,sectionToSubsectionIndex:kn});return Object.assign({},yt,{[ct.menuID]:rs})}(Pe(yt,ct,ct.section),ct)}(yt,ct);case ue.jZ.REMOVE_SECTION:return function tt(yt,ct){const Pn=ct.id,kn=function _t(yt,ct,Xt){const Pn=ct.id,kn=ct.parentID;if((0,B.a4)(kn)){const rs=yt[Xt],as=rs.sectionToSubsectionIndex,Qs=(0,B.a4)(as[kn])?as[kn]:[],gs=Object.assign({},as,{[kn]:Qs.filter(os=>os!==Pn)}),Is=Object.assign({},rs,{sectionToSubsectionIndex:gs});return Object.assign({},yt,{[Xt]:Is})}return yt}(yt,yt[ct.menuID].sections[ct.id],ct.menuID),rs=Object.assign({},kn[ct.menuID],{sections:Object.assign({},kn[ct.menuID].sections)});return delete rs.sections[Pn],Object.assign({},kn,{[ct.menuID]:rs})}(yt,ct);case ue.jZ.ACTIVATE_SECTION:return function Ge(yt,ct){if((0,B.a4)(yt[ct.menuID].sections[ct.id]))return we(yt,ct,{active:!0})}(yt,ct);case ue.jZ.DEACTIVATE_SECTION:return function it(yt,ct){if((0,B.a4)(yt[ct.menuID].sections[ct.id]))return we(yt,ct,{active:!1})}(yt,ct);case ue.jZ.TOGGLE_ACTIVE_SECTION:return function gt(yt,ct){const Xt=yt[ct.menuID].sections[ct.id];return(0,B.a4)(Xt)?we(yt,ct,{active:!Xt.active}):yt}(yt,ct);case ue.jZ.HIDE_SECTION:return function We(yt,ct){return we(yt,ct,{visible:!1})}(yt,ct);case ue.jZ.SHOW_SECTION:return function dt(yt,ct){return we(yt,ct,{visible:!0})}(yt,ct);default:return yt}},objectSelection:function It(yt=ln,ct){switch(ct.type){case Jt.T8.INITIAL_SELECT:return(0,B.Im)(yt)||(0,B.Im)(yt[ct.key])||(0,B.Im)(yt[ct.key][ct.id])?Object.assign({},yt,{[ct.key]:Object.assign({},yt[ct.key],{[ct.id]:{checked:!0}})}):yt;case Jt.T8.INITIAL_DESELECT:return(0,B.Im)(yt)||(0,B.Im)(yt[ct.key])||(0,B.Im)(yt[ct.key][ct.id])?Object.assign({},yt,{[ct.key]:Object.assign({},yt[ct.key],{[ct.id]:{checked:!1}})}):yt;case Jt.T8.SELECT:return Object.assign({},yt,{[ct.key]:Object.assign({},yt[ct.key],{[ct.id]:{checked:!0}})});case Jt.T8.DESELECT:return Object.assign({},yt,{[ct.key]:Object.assign({},yt[ct.key],{[ct.id]:{checked:!1}})});case Jt.T8.SWITCH:return Object.assign({},yt,{[ct.key]:Object.assign({},yt[ct.key],{[ct.id]:{checked:!!((0,B.Im)(yt)||(0,B.Im)(yt[ct.key])||(0,B.Im)(yt[ct.key][ct.id]))||!yt[ct.key][ct.id].checked}})});case Jt.T8.RESET:return(0,B.Im)(ct.key)?{}:Object.assign({},yt,{[ct.key]:{}});default:return yt}},selectableLists:function Ne(yt={},ct){const Xt=yt[ct.id]||$t(ct.id);switch(ct.type){case ve.Sg.SELECT:{const Pn=function ut(yt,ct){const Xt=ct.payload.filter(kn=>!St(yt.selection,kn)),Pn=[...yt.selection,...Xt];return Object.assign({},yt,{selection:Pn})}(Xt,ct);return Object.assign({},yt,{[ct.id]:Pn})}case ve.Sg.SELECT_SINGLE:{const Pn=function cn(yt,ct){let Xt=yt.selection;return St(yt.selection,ct.payload.object)||(Xt=[...yt.selection,ct.payload.object]),Object.assign({},yt,{selection:Xt})}(Xt,ct);return Object.assign({},yt,{[ct.id]:Pn})}case ve.Sg.DESELECT:{const Pn=function nn(yt,ct){const Xt=yt.selection.filter(Pn=>(0,B.Tn)(ct.payload.find(kn=>kn.equals(Pn))));return Object.assign({},yt,{selection:Xt})}(Xt,ct);return Object.assign({},yt,{[ct.id]:Pn})}case ve.Sg.DESELECT_SINGLE:{const Pn=function Mn(yt,ct){const Xt=yt.selection.filter(Pn=>!Pn.equals(ct.payload));return Object.assign({},yt,{selection:Xt})}(Xt,ct);return Object.assign({},yt,{[ct.id]:Pn})}case ve.Sg.SET_SELECTION:{const Pn=function Tt(yt,ct){return Object.assign({},yt,{selection:ct.payload})}(Xt,ct);return Object.assign({},yt,{[ct.id]:Pn})}case ve.Sg.DESELECT_ALL:{const Pn=$t(ct.id);return Object.assign({},yt,{[ct.id]:Pn})}default:return yt}},relationshipLists:function $(yt={},ct){switch(ct.type){case U.SF.SET_NAME_VARIANT:{const kn=j(yt[ct.payload.listID]||{},ct.payload.itemID,ct.payload.nameVariant);return Object.assign({},yt,{[ct.payload.listID]:kn})}case U.SF.REMOVE_NAME_VARIANT:{const Xt=yt[ct.payload.listID];if((0,B.a4)(Xt)&&(0,B.a4)(Xt[ct.payload.itemID])){const Pn=j(Xt,ct.payload.itemID,void 0);return Object.assign({},yt,{[ct.payload.listID]:Pn})}return yt}default:return yt}},communityList:function D(yt=I,ct){return ct.type===O.x.SAVE?Object.assign({},yt,{expandedNodes:ct.payload.expandedNodes,loadingNode:ct.payload.loadingNode}):yt},epeopleRegistry:function f(yt=e,ct){switch(ct.type){case l.bA.EDIT_EPERSON:return Object.assign({},yt,{editEPerson:ct.eperson});case l.bA.CANCEL_EDIT_EPERSON:return Object.assign({},yt,{editEPerson:null});default:return yt}},groupRegistry:function _(yt=p,ct){switch(ct.type){case m.O3.EDIT_GROUP:return Object.assign({},yt,{editGroup:ct.group});case m.O3.CANCEL_EDIT_GROUP:return Object.assign({},yt,{editGroup:null});default:return yt}},correlationId:(yt=null,ct)=>ct.type===R.N.SET?ct.payload:yt,contextHelp:function M(yt=P,ct){switch(ct.type){case b.y5.CONTEXT_HELP_TOGGLE_ICONS:return{...yt,allIconsVisible:!yt.allIconsVisible};case b.y5.CONTEXT_HELP_ADD:{const Xt={...yt.models,[ct.model.id]:ct.model};return{...yt,models:Xt}}case b.y5.CONTEXT_HELP_REMOVE:{const{[ct.id]:Xt,...Pn}=yt.models;return{...yt,models:Pn}}case b.y5.CONTEXT_HELP_TOGGLE_TOOLTIP:return L(yt,ct.id,Xt=>!Xt);case b.y5.CONTEXT_HELP_SHOW_TOOLTIP:return L(yt,ct.id,Xt=>!0);case b.y5.CONTEXT_HELP_HIDE_TOOLTIP:return L(yt,ct.id,Xt=>!1);default:return yt}}},ns=yt=>yt.router;function hs(yt,ct){return(0,t.Mz)(ct,Xt=>{if((0,B.a4)(Xt))return Xt[yt]})}const Gs={runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}},87832:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BreadcrumbsComponent:()=>h});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(18226),m=n(54438),p=n(87152);const _=()=>({text:"home.breadcrumbs",url:"/"});function v(w,b){1&w&&m.eu8(0)}function y(w,b){1&w&&m.eu8(0)}function C(w,b){if(1&w&&(m.qex(0),m.DNE(1,y,1,0,"ng-container",6),m.bVm()),2&w){const P=b.$implicit,M=b.last;m.XpG(2);const L=m.sdS(4),B=m.sdS(6);m.R7$(),m.Y8G("ngTemplateOutlet",M?B:L)("ngTemplateOutletContext",P)}}function O(w,b){if(1&w&&(m.j41(0,"nav",4)(1,"ol",5),m.DNE(2,v,1,0,"ng-container",6)(3,C,2,2,"ng-container",7),m.k0s()()),2&w){const P=m.XpG().ngVar,M=m.sdS(4),L=m.sdS(6);m.R7$(2),m.Y8G("ngTemplateOutlet",(null==P?null:P.length)>0?M:L)("ngTemplateOutletContext",m.lJ4(3,_)),m.R7$(),m.Y8G("ngForOf",P)}}function I(w,b){if(1&w&&(m.j41(0,"li",8)(1,"div",9)(2,"a",10),m.nI1(3,"translate"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&w){const P=b.text,M=b.url;m.R7$(2),m.Y8G("routerLink",M)("ngbTooltip",m.bMT(3,3,P)),m.R7$(2),m.JRh(m.bMT(5,5,P))}}function D(w,b){if(1&w&&(m.j41(0,"li",11)(1,"div",9)(2,"div",12),m.EFF(3),m.nI1(4,"translate"),m.k0s()()()),2&w){const P=b.text;m.R7$(3),m.JRh(m.bMT(4,1,P))}}function R(w,b){if(1&w&&(m.qex(0),m.DNE(1,O,4,4,"nav",3),m.nI1(2,"async"),m.DNE(3,I,6,7,"ng-template",null,0,m.C5r)(5,D,5,3,"ng-template",null,1,m.C5r),m.bVm()),2&w){const P=m.XpG();m.R7$(),m.Y8G("ngIf",m.bMT(2,1,P.showBreadcrumbs$))}}let h=(()=>{class w{constructor(P){this.breadcrumbsService=P,this.breadcrumbs$=P.breadcrumbs$,this.showBreadcrumbs$=P.showBreadcrumbs$}static{this.\u0275fac=function(M){return new(M||w)(m.rXU(p.E))}}static{this.\u0275cmp=m.VBU({type:w,selectors:[["ds-base-breadcrumbs"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[["breadcrumb",""],["activeBreadcrumb",""],[4,"ngVar"],["aria-label","breadcrumb","class","nav-breadcrumb",4,"ngIf"],["aria-label","breadcrumb",1,"nav-breadcrumb"],[1,"container","breadcrumb","my-0"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-item-limiter"],["placement","bottom",1,"text-truncate",3,"routerLink","ngbTooltip"],["aria-current","page",1,"breadcrumb-item","active"],[1,"text-truncate"]],template:function(M,L){1&M&&(m.DNE(0,R,7,3,"ng-container",2),m.nI1(1,"async")),2&M&&m.Y8G("ngVar",m.bMT(1,1,L.breadcrumbs$))},dependencies:[f.r,i.bT,i.T3,i.pM,t.Wk,l.n8,l.md,i.Jj,e.h,e.D9],styles:['@charset "UTF-8";.nav-breadcrumb[_ngcontent-%COMP%]{background-color:var(--ds-breadcrumb-bg)}.breadcrumb[_ngcontent-%COMP%]{border-radius:0;padding-bottom:calc(var(--ds-content-spacing) / 2);padding-top:calc(var(--ds-content-spacing) / 2);background-color:var(--ds-breadcrumb-bg)}li.breadcrumb-item[_ngcontent-%COMP%]{display:flex}.breadcrumb-item-limiter[_ngcontent-%COMP%]{display:inline-block;max-width:var(--ds-breadcrumb-max-length)}.breadcrumb-item-limiter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{max-width:100%;display:block}li.breadcrumb-item.active[_ngcontent-%COMP%]{color:var(--ds-breadcrumb-link-active-color)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:block;content:"\\2022"!important}']})}}return w})()},87152:(N,T,n)=>{"use strict";n.d(T,{E:()=>C});var i=n(7901),t=n(92771),l=n(84572),e=n(7673),f=n(5964),m=n(88141),p=n(25558),_=n(96354),v=n(82777),y=n(54438);let C=(()=>{class O{constructor(D,R){this.route=D,this.router=R,this.breadcrumbs$=new t.m(1),this.showBreadcrumbs$=new t.m(1)}listenForRouteChanges(){this.router.events.pipe((0,f.p)(D=>D instanceof i.wF),(0,m.M)(()=>this.reset()),(0,p.n)(()=>this.resolveBreadcrumbs(this.route.root))).subscribe(this.breadcrumbs$)}resolveBreadcrumbs(D){const R=D.snapshot.data,h=D.snapshot.routeConfig,w=(0,v.Tn)(D.firstChild);if(w&&((0,v.a4)(R.showBreadcrumbs)?this.showBreadcrumbs$.next(R.showBreadcrumbs):(0,v.b0)(R.breadcrumb)&&this.showBreadcrumbs$.next(!1)),(0,v.a4)(R)&&(0,v.a4)(R.breadcrumb)&&(0,v.a4)(h)&&(0,v.a4)(h.resolve)&&(0,v.a4)(h.resolve.breadcrumb)){const{provider:b,key:P,url:M}=R.breadcrumb;return w?b.getBreadcrumbs(P,M):(0,l.z)(b.getBreadcrumbs(P,M),this.resolveBreadcrumbs(D.firstChild)).pipe((0,_.T)(L=>[].concat.apply([],L)))}return w?(0,e.of)([]):this.resolveBreadcrumbs(D.firstChild)}reset(){this.showBreadcrumbs$.next(!0)}static{this.\u0275fac=function(R){return new(R||O)(y.KVO(i.nX),y.KVO(i.Ix))}}static{this.\u0275prov=y.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},46754:(N,T,n)=>{"use strict";n.d(T,{B:()=>f});var i=n(8886),t=n(54438);const l=["*"];function e(m,p){}let f=(()=>{class m extends i.J{getComponentName(){return"BreadcrumbsComponent"}importThemedComponent(_){return n(32012)(`./${_}/app/breadcrumbs/breadcrumbs.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87832))}static{this.\u0275fac=(()=>{let _;return function(y){return(_||(_=t.xGo(m)))(y||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-breadcrumbs"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:l,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,y){1&v&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},49010:(N,T,n)=>{"use strict";n.d(T,{v0:()=>Y,el:()=>Q,M0:()=>oe});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(7673),m=n(84572),p=n(96354),_=n(23294),v=n(37958),y=n(82640),C=n(88280),O=n(96526),I=n(37864);class D{constructor(ne,re,Ce,Ee,ue,ae){this.metadataDefinition=ne,this.pagination=re,this.sort=Ce,this.startsWith=Ee,this.scope=ue,this.fetchThumbnail=ae}}var R=n(6238),h=n(13989),w=n(22978),P=(n(26292),n(80183)),M=n(82777),L=n(82394),B=n(23401),U=n(19798),j=(n(1624),n(7901));const G=pe=>({startsWith:pe}),z=(pe,ne,re)=>({field:pe,startsWith:ne,value:re});function V(pe,ne){if(1&pe){const re=t.RV6();t.j41(0,"ds-browse-by",7),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("prev",function(){t.eBV(re);const Ee=t.XpG(3);return t.Njj(Ee.goPrev())})("next",function(){t.eBV(re);const Ee=t.XpG(3);return t.Njj(Ee.goNext())}),t.k0s()}if(2&pe){const re=t.XpG(3);t.FS9("title",t.i5U(4,14,"browse.title",t.sMw(23,z,t.bMT(1,7,"browse.metadata."+re.browseId),re.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(21,G,'"'+re.startsWith+'"')):"",re.value?'"'+t.bMT(3,12,re.value)+'"':""))),t.Y8G("displayTitle",re.displayTitle)("objects$",void 0!==re.items$?re.items$:re.browseEntries$)("paginationConfig",t.bMT(5,17,re.currentPagination$))("sortConfig",t.bMT(6,19,re.currentSort$))("type",re.startsWithType)("startsWithOptions",re.startsWithOptions)}}function X(pe,ne){if(1&pe&&(t.j41(0,"div"),t.DNE(1,V,7,27,"ds-browse-by",6),t.nI1(2,"async"),t.k0s()),2&pe){const re=t.XpG(2);t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,1,re.loading$))}}function J(pe,ne){if(1&pe){const re=t.RV6();t.j41(0,"ds-browse-by",7),t.nI1(1,"translate"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nI1(4,"async"),t.nI1(5,"async"),t.bIt("prev",function(){t.eBV(re);const Ee=t.XpG(3);return t.Njj(Ee.goPrev())})("next",function(){t.eBV(re);const Ee=t.XpG(3);return t.Njj(Ee.goNext())}),t.k0s()}if(2&pe){const re=t.XpG(3);t.FS9("title",t.i5U(3,12,"browse.title",t.sMw(21,z,t.bMT(1,7,"browse.metadata."+re.browseId),re.startsWith?t.i5U(2,9,"browse.startsWith",t.eq3(19,G,'"'+re.startsWith+'"')):"",re.value?'"'+re.value+'"':""))),t.Y8G("displayTitle",re.displayTitle)("objects$",void 0!==re.items$?re.items$:re.browseEntries$)("paginationConfig",t.bMT(4,15,re.currentPagination$))("sortConfig",t.bMT(5,17,re.currentSort$))("type",re.startsWithType)("startsWithOptions",re.startsWithOptions)}}function q(pe,ne){if(1&pe&&(t.DNE(0,J,6,25,"ds-browse-by",6),t.nI1(1,"async")),2&pe){const re=t.XpG(2);t.Y8G("ngIf",!0!==t.bMT(1,1,re.loading$))}}function Z(pe,ne){1&pe&&(t.nrm(0,"ds-loading",8),t.nI1(1,"translate")),2&pe&&t.FS9("message",t.bMT(1,1,"loading.browse-by-page"))}function H(pe,ne){if(1&pe&&(t.j41(0,"section",2)(1,"div",3),t.DNE(2,X,3,3,"div",4)(3,q,2,3,"ng-template",null,0,t.C5r)(5,Z,2,3,"ds-loading",5),t.nI1(6,"async"),t.k0s()()),2&pe){const re=t.sdS(4),Ce=t.XpG();t.R7$(2),t.Y8G("ngIf",Ce.value.includes("info:eu-repo"))("ngIfElse",re),t.R7$(3),t.Y8G("ngIf",t.bMT(6,3,Ce.loading$))}}const Y="bbm";let Q=(()=>{class pe{constructor(re,Ce,Ee,ue,ae,ye,De,tt){this.route=re,this.browseService=Ce,this.dsoService=Ee,this.paginationService=ue,this.router=ae,this.appConfig=ye,this.dsoNameService=De,this.platformId=tt,this.displayTitle=!0,this.scope$=new e.t(void 0),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=U.c.text,this.value="",this.loading$=(0,f.of)(!0),this.ssrRenderingDisabled=!1,this.fetchThumbnails=this.appConfig.browseBy.showThumbnails,this.paginationConfig=Object.assign(new B.W,{id:Y,currentPage:1,pageSize:this.appConfig.browseBy.pageSize}),this.ssrRenderingDisabled=!this.renderOnServerSide&&!C.c.ssr.enableBrowseComponent&&(0,i.Vy)(this.platformId)}ngOnInit(){if(this.ssrRenderingDisabled)return void(this.loading$=(0,f.of)(!1));const re=new R.z("default",R.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,re);const Ce=(0,m.z)([this.route.params,this.route.queryParams]).pipe((0,p.T)(([Ee,ue])=>Object.assign({},Ee,ue)),(0,_.F)((Ee,ue)=>Ee.id===ue.id&&Ee.authority===ue.authority&&Ee.value===ue.value&&Ee.startsWith===ue.startsWith));this.subs.push((0,m.z)([Ce,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([Ee,ue,ae,ye])=>{this.browseId=Ee.id||this.defaultBrowseId,this.authority=Ee.authority,this.value="string"==typeof Ee.value?Ee.value.trim():"",(void 0===Ee.startsWith||""===Ee.startsWith)&&(this.startsWith=void 0),"string"==typeof Ee.startsWith&&(this.startsWith=Ee.startsWith.trim()),(0,M.hj)(this.value)?this.updatePageWithItems(oe(Ee,ue,ae,ye,this.browseId,this.fetchThumbnails),this.value,this.authority):this.updatePage(oe(Ee,ue,ae,ye,this.browseId,!1))})),this.updateStartsWithTextOptions()}ngOnChanges(re){(0,M.a4)(re.scope)&&this.scope$.next(this.scope)}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(re){this.browseEntries$=this.browseService.getBrowseEntriesFor(re),this.loading$=this.browseEntries$.pipe((0,p.T)(Ce=>Ce.isLoading)),this.items$=void 0}updatePageWithItems(re,Ce,Ee){this.items$=this.browseService.getBrowseItemsFor(Ce,Ee,re),this.loading$=this.items$.pipe((0,p.T)(ue=>ue.isLoading))}goPrev(){this.items$?this.items$.pipe((0,P.yd)()).subscribe(re=>{this.items$=this.browseService.getPrevBrowseItems(re)}):this.browseEntries$&&this.browseEntries$.pipe((0,P.yd)()).subscribe(re=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(re)})}goNext(){this.items$?this.items$.pipe((0,P.yd)()).subscribe(re=>{this.items$=this.browseService.getNextBrowseItems(re)}):this.browseEntries$&&this.browseEntries$.pipe((0,P.yd)()).subscribe(re=>{this.browseEntries$=this.browseService.getNextBrowseEntries(re)})}ngOnDestroy(){this.subs.filter(re=>(0,M.a4)(re)).forEach(re=>re.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}static{this.\u0275fac=function(Ce){return new(Ce||pe)(t.rXU(j.nX),t.rXU(I.q),t.rXU(h.DSpaceObjectDataService),t.rXU(w.m),t.rXU(j.Ix),t.rXU(y.vQ),t.rXU(O.f),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:pe,selectors:[["ds-browse-by-metadata"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle",renderOnServerSide:"renderOnServerSide"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:1,consts:[["isNotOpenAireValue",""],["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[4,"ngIf","ngIfElse"],[3,"message",4,"ngIf"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(Ce,Ee){1&Ce&&t.DNE(0,H,7,5,"section",1),2&Ce&&t.Y8G("ngIf",!Ee.ssrRenderingDisabled)},dependencies:[i.Jj,i.bT,l.h,l.D9,L.v,v.U]})}}return pe})();function oe(pe,ne,re,Ce,Ee,ue){return new D(Ee,re,Ce,pe.startsWith,ne,ue)}},1624:(N,T,n)=>{"use strict";n.d(T,{O:()=>i});var i=function(t){return t.Title="title",t.Metadata="text",t.Date="date",t.Hierarchy="hierarchy",t}(i||{})},81387:(N,T,n)=>{"use strict";n.d(T,{cv:()=>Pe});var i=n(26292),t=n(82777),l=n(81569),e=n(60177),f=n(54438),m=n(41780),p=n(7673),_=n(84572),v=n(96354),y=n(23294),C=n(37958),O=n(82640),I=n(88280),D=n(96526),R=n(37864),h=n(6238),w=n(13989),b=n(22978),P=n(12866),M=n(82394),L=n(19798),B=n(49010),U=n(7901);const $=we=>({startsWith:we}),j=(we,vt,at)=>({field:we,startsWith:vt,value:at});function G(we,vt){if(1&we){const at=f.RV6();f.j41(0,"ds-browse-by",7),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"translate"),f.nI1(5,"async"),f.nI1(6,"async"),f.bIt("prev",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goPrev())})("next",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goNext())}),f.k0s()}if(2&we){const at=f.XpG(3);f.FS9("title",f.i5U(4,14,"browse.title",f.sMw(23,j,f.bMT(1,7,"browse.metadata."+at.browseId),at.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(21,$,'"'+at.startsWith+'"')):"",at.value?'"'+f.bMT(3,12,at.value)+'"':""))),f.Y8G("displayTitle",at.displayTitle)("objects$",void 0!==at.items$?at.items$:at.browseEntries$)("paginationConfig",f.bMT(5,17,at.currentPagination$))("sortConfig",f.bMT(6,19,at.currentSort$))("type",at.startsWithType)("startsWithOptions",at.startsWithOptions)}}function z(we,vt){if(1&we&&(f.j41(0,"div"),f.DNE(1,G,7,27,"ds-browse-by",6),f.nI1(2,"async"),f.k0s()),2&we){const at=f.XpG(2);f.R7$(),f.Y8G("ngIf",!0!==f.bMT(2,1,at.loading$))}}function V(we,vt){if(1&we){const at=f.RV6();f.j41(0,"ds-browse-by",7),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goPrev())})("next",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goNext())}),f.k0s()}if(2&we){const at=f.XpG(3);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,j,f.bMT(1,7,"browse.metadata."+at.browseId),at.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,$,'"'+at.startsWith+'"')):"",at.value?'"'+at.value+'"':""))),f.Y8G("displayTitle",at.displayTitle)("objects$",void 0!==at.items$?at.items$:at.browseEntries$)("paginationConfig",f.bMT(4,15,at.currentPagination$))("sortConfig",f.bMT(5,17,at.currentSort$))("type",at.startsWithType)("startsWithOptions",at.startsWithOptions)}}function X(we,vt){if(1&we&&(f.DNE(0,V,6,25,"ds-browse-by",6),f.nI1(1,"async")),2&we){const at=f.XpG(2);f.Y8G("ngIf",!0!==f.bMT(1,1,at.loading$))}}function J(we,vt){1&we&&(f.nrm(0,"ds-loading",8),f.nI1(1,"translate")),2&we&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function q(we,vt){if(1&we&&(f.j41(0,"section",2)(1,"div",3),f.DNE(2,z,3,3,"div",4)(3,X,2,3,"ng-template",null,0,f.C5r)(5,J,2,3,"ds-loading",5),f.nI1(6,"async"),f.k0s()()),2&we){const at=f.sdS(4),nt=f.XpG();f.R7$(2),f.Y8G("ngIf",nt.value.includes("info:eu-repo"))("ngIfElse",at),f.R7$(3),f.Y8G("ngIf",f.bMT(6,3,nt.loading$))}}let Z=(()=>{class we extends B.el{constructor(at,nt,lt,ve,Ne,ut,cn,nn,Mn){super(at,nt,lt,ve,Ne,ut,cn,Mn),this.route=at,this.browseService=nt,this.dsoService=lt,this.paginationService=ve,this.router=Ne,this.appConfig=ut,this.dsoNameService=cn,this.cdRef=nn,this.platformId=Mn,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){if(!this.renderOnServerSide&&!I.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,p.of)(!1));const at=new h.z("default",h.U.ASC);this.startsWithType=L.c.date,this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,at);const nt=(0,_.z)([this.route.params,this.route.queryParams]).pipe((0,v.T)(([lt,ve])=>Object.assign({},lt,ve)),(0,y.F)((lt,ve)=>lt.id===ve.id&&lt.startsWith===ve.startsWith));this.subs.push((0,_.z)([nt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([lt,ve,Ne,ut])=>{const cn=lt.browseDefinition?lt.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=lt.id||this.defaultBrowseId,this.startsWith=+lt.startsWith||lt.startsWith;const nn=(0,B.M0)(lt,ve,Ne,ut,this.browseId,this.fetchThumbnails);this.updatePageWithItems(nn,this.value,void 0),this.updateStartsWithOptions(this.browseId,cn,lt.scope)}))}updateStartsWithOptions(at,nt,lt){const ve=this.browseService.getFirstItemFor(at,lt,h.U.ASC),Ne=this.browseService.getFirstItemFor(at,lt,h.U.DESC);this.loading$=(0,_.z)([ve,Ne]).pipe((0,v.T)(([ut,cn])=>ut.isLoading||cn.isLoading)),this.subs.push((0,_.z)([ve,Ne]).subscribe(([ut,cn])=>{let nn=this.getLimit(ut,nt,this.appConfig.browseBy.defaultLowerLimit);const Mn=this.getLimit(cn,nt,(new Date).getUTCFullYear()),Tt=[],$t=5*Math.floor((Mn-this.appConfig.browseBy.oneYearLimit)/5),St=10*Math.floor((Mn-this.appConfig.browseBy.fiveYearLimit)/10);nn-=nn<=St?10:nn<=$t?5:1;let Jt=Mn;for(;Jt>nn;)Tt.push(Jt),Jt<=St?Jt-=10:Jt<=$t?Jt-=5:Jt--;(0,t.hj)(Tt)&&(this.startsWithOptions=Tt,this.cdRef.detectChanges())}))}getLimit(at,nt,lt){if((0,t.a4)(at.payload)){const ve=at.payload.firstMetadataValue(nt);if((0,t.hj)(ve)&&(0,P.vd)(ve)){const Ne=new Date(ve);return isNaN(Ne.getUTCFullYear())?lt:Ne.getUTCFullYear()}return(new Date).getUTCFullYear()}}static{this.\u0275fac=function(nt){return new(nt||we)(f.rXU(U.nX),f.rXU(R.q),f.rXU(w.DSpaceObjectDataService),f.rXU(b.m),f.rXU(U.Ix),f.rXU(O.vQ),f.rXU(D.f),f.rXU(f.gRc),f.rXU(f.Agw))}}static{this.\u0275cmp=f.VBU({type:we,selectors:[["ds-browse-by-date"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[["isNotOpenAireValue",""],["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[4,"ngIf","ngIfElse"],[3,"message",4,"ngIf"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(nt,lt){1&nt&&f.DNE(0,q,7,5,"section",1),2&nt&&f.Y8G("ngIf",!lt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return we})();var H=n(84412),Y=n(77516),Q=n(1624);const ie=()=>["/search"],oe=we=>({field:we,startsWith:"",value:""});function pe(we,vt){if(1&we&&(f.j41(0,"h1"),f.EFF(1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.k0s()),2&we){const at=f.XpG();f.R7$(),f.SpI(" ",f.i5U(3,3,"browse.title",f.eq3(6,oe,f.bMT(2,1,"browse.metadata."+at.vocabularyName)))," ")}}let ne=(()=>{class we{constructor(at,nt){this.route=at,this.translate=nt,this.displayTitle=!0,this.scope$=new H.t(void 0),this.selectedItems=[],this.subs=[]}ngOnInit(){this.browseDefinition$=this.route.data.pipe((0,v.T)(at=>at.browseDefinition)),this.subs.push(this.browseDefinition$.subscribe(at=>{this.selectedItems=[],this.facetType=at.facetType,this.vocabularyName=at.vocabulary,this.vocabularyOptions={name:this.vocabularyName,closed:!0},this.description=this.translate.instant(`browse.metadata.${this.vocabularyName}.tree.descrption`)})),this.subs.push(this.scope$.subscribe(()=>{this.updateQueryParams()}))}ngOnChanges(){this.scope$.next(this.scope)}onSelect(at){this.selectedItems.push(at),this.filterValues=this.selectedItems.map(nt=>`${nt.value},equals`),this.updateQueryParams()}onDeselect(at){this.selectedItems=this.selectedItems.filter(nt=>nt.id!==at.id),this.filterValues=this.filterValues.filter(nt=>nt!==`${at.value},equals`),this.updateQueryParams()}updateQueryParams(){this.queryParams={["f."+this.facetType]:this.filterValues},(0,t.a4)(this.scope)&&(this.queryParams.scope=this.scope)}ngOnDestroy(){this.subs.forEach(at=>at.unsubscribe())}static{this.\u0275fac=function(nt){return new(nt||we)(f.rXU(U.nX),f.rXU(m.c$))}}static{this.\u0275cmp=f.VBU({type:we,selectors:[["ds-browse-by-taxonomy"]],inputs:{context:"context",browseByType:"browseByType",scope:"scope",displayTitle:"displayTitle"},standalone:!0,features:[f.OA$,f.aNF],decls:7,vars:12,consts:[[4,"ngIf"],[1,"mb-3"],[3,"select","deselect","description","vocabularyOptions","multiSelect","showAdd"],[1,"btn","btn-primary",3,"routerLink","queryParams","queryParamsHandling"]],template:function(nt,lt){1&nt&&(f.j41(0,"section"),f.DNE(1,pe,4,8,"h1",0),f.j41(2,"div",1)(3,"ds-vocabulary-treeview",2),f.bIt("select",function(Ne){return lt.onSelect(Ne)})("deselect",function(Ne){return lt.onDeselect(Ne)}),f.k0s()(),f.j41(4,"a",3),f.EFF(5),f.nI1(6,"translate"),f.k0s()()),2&nt&&(f.R7$(),f.Y8G("ngIf",lt.displayTitle),f.R7$(2),f.Y8G("description",lt.description)("vocabularyOptions",lt.vocabularyOptions)("multiSelect",!0)("showAdd",!1),f.R7$(),f.Y8G("routerLink",f.lJ4(11,ie))("queryParams",lt.queryParams)("queryParamsHandling","merge"),f.R7$(),f.SpI(" ",f.bMT(6,9,"browse.taxonomy.button"),""))},dependencies:[e.bT,m.h,m.D9,Y.P,U.Wk]})}}return we})();const re=we=>({startsWith:we}),Ce=(we,vt,at)=>({field:we,startsWith:vt,value:at});function Ee(we,vt){if(1&we){const at=f.RV6();f.j41(0,"ds-browse-by",7),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"translate"),f.nI1(5,"async"),f.nI1(6,"async"),f.bIt("prev",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goPrev())})("next",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goNext())}),f.k0s()}if(2&we){const at=f.XpG(3);f.FS9("title",f.i5U(4,14,"browse.title",f.sMw(23,Ce,f.bMT(1,7,"browse.metadata."+at.browseId),at.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(21,re,'"'+at.startsWith+'"')):"",at.value?'"'+f.bMT(3,12,at.value)+'"':""))),f.Y8G("displayTitle",at.displayTitle)("objects$",void 0!==at.items$?at.items$:at.browseEntries$)("paginationConfig",f.bMT(5,17,at.currentPagination$))("sortConfig",f.bMT(6,19,at.currentSort$))("type",at.startsWithType)("startsWithOptions",at.startsWithOptions)}}function ue(we,vt){if(1&we&&(f.j41(0,"div"),f.DNE(1,Ee,7,27,"ds-browse-by",6),f.nI1(2,"async"),f.k0s()),2&we){const at=f.XpG(2);f.R7$(),f.Y8G("ngIf",!0!==f.bMT(2,1,at.loading$))}}function ae(we,vt){if(1&we){const at=f.RV6();f.j41(0,"ds-browse-by",7),f.nI1(1,"translate"),f.nI1(2,"translate"),f.nI1(3,"translate"),f.nI1(4,"async"),f.nI1(5,"async"),f.bIt("prev",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goPrev())})("next",function(){f.eBV(at);const lt=f.XpG(3);return f.Njj(lt.goNext())}),f.k0s()}if(2&we){const at=f.XpG(3);f.FS9("title",f.i5U(3,12,"browse.title",f.sMw(21,Ce,f.bMT(1,7,"browse.metadata."+at.browseId),at.startsWith?f.i5U(2,9,"browse.startsWith",f.eq3(19,re,'"'+at.startsWith+'"')):"",at.value?'"'+at.value+'"':""))),f.Y8G("displayTitle",at.displayTitle)("objects$",void 0!==at.items$?at.items$:at.browseEntries$)("paginationConfig",f.bMT(4,15,at.currentPagination$))("sortConfig",f.bMT(5,17,at.currentSort$))("type",at.startsWithType)("startsWithOptions",at.startsWithOptions)}}function ye(we,vt){if(1&we&&(f.DNE(0,ae,6,25,"ds-browse-by",6),f.nI1(1,"async")),2&we){const at=f.XpG(2);f.Y8G("ngIf",!0!==f.bMT(1,1,at.loading$))}}function De(we,vt){1&we&&(f.nrm(0,"ds-loading",8),f.nI1(1,"translate")),2&we&&f.FS9("message",f.bMT(1,1,"loading.browse-by-page"))}function tt(we,vt){if(1&we&&(f.j41(0,"section",2)(1,"div",3),f.DNE(2,ue,3,3,"div",4)(3,ye,2,3,"ng-template",null,0,f.C5r)(5,De,2,3,"ds-loading",5),f.nI1(6,"async"),f.k0s()()),2&we){const at=f.sdS(4),nt=f.XpG();f.R7$(2),f.Y8G("ngIf",nt.value.includes("info:eu-repo"))("ngIfElse",at),f.R7$(3),f.Y8G("ngIf",f.bMT(6,3,nt.loading$))}}let _t=(()=>{class we extends B.el{ngOnInit(){if(!this.renderOnServerSide&&!I.c.ssr.enableBrowseComponent&&(0,e.Vy)(this.platformId))return void(this.loading$=(0,p.of)(!1));const at=new h.z("dc.title",h.U.ASC);this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,at);const nt=(0,_.z)([this.route.params,this.route.queryParams]).pipe((0,v.T)(([lt,ve])=>Object.assign({},lt,ve)),(0,y.F)((lt,ve)=>lt.id===ve.id&&lt.startsWith===ve.startsWith));this.subs.push((0,_.z)([nt,this.scope$,this.currentPagination$,this.currentSort$]).subscribe(([lt,ve,Ne,ut])=>{this.startsWith=+lt.startsWith||lt.startsWith,this.browseId=lt.id||this.defaultBrowseId,this.updatePageWithItems((0,B.M0)(lt,ve,Ne,ut,this.browseId,this.fetchThumbnails),void 0,void 0)})),this.updateStartsWithTextOptions()}static{this.\u0275fac=(()=>{let at;return function(lt){return(at||(at=f.xGo(we)))(lt||we)}})()}static{this.\u0275cmp=f.VBU({type:we,selectors:[["ds-browse-by-title"]],standalone:!0,features:[f.Vt3,f.aNF],decls:1,vars:1,consts:[["isNotOpenAireValue",""],["class","comcol-page-browse-section",4,"ngIf"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],[4,"ngIf","ngIfElse"],[3,"message",4,"ngIf"],["class","col-xs-12 w-100",3,"title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[1,"col-xs-12","w-100",3,"prev","next","title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions"],[3,"message"]],template:function(nt,lt){1&nt&&f.DNE(0,tt,7,5,"section",1),2&nt&&f.Y8G("ngIf",!lt.ssrRenderingDisabled)},dependencies:[e.Jj,e.bT,m.h,m.D9,M.v,C.U]})}}return we})();const We=Q.O.Metadata,dt=i.o.Any,Ge=new Map([[Q.O.Date,new Map([[dt,new Map([[l.SS,Z]])]])],[Q.O.Metadata,new Map([[dt,new Map([[l.SS,B.el]])]])],[Q.O.Hierarchy,new Map([[dt,new Map([[l.SS,ne]])]])],[Q.O.Title,new Map([[dt,new Map([[l.SS,_t]])]])]]);function Pe(we,vt,at){let nt=Ge.get(we);(0,t.Tn)(nt)&&(nt=Ge.get(We));let lt=nt.get(vt);(0,t.Tn)(lt)&&(lt=nt.get(dt));const ve=(0,l.eW)(lt,at);return(0,t.Tn)(ve)?lt.get(l.SS):ve}},64611:(N,T,n)=>{"use strict";n.d(T,{BW:()=>_,CC:()=>l,Cb:()=>t,JW:()=>f,WJ:()=>I,_:()=>C,_E:()=>m,dv:()=>v,gH:()=>p,gj:()=>y});var i=n(45663);const t="parent",l="collections";function e(){return`/${l}`}function f(D){return new i.t(e(),D).toString()}function m(D){return new i.t(e(),D,C).toString()}function p(){return new i.t(e(),y).toString()}function _(D){return new i.t(f(D),C,O).toString()}function v(D){return new i.t(f(D),I).toString()}const y="create",C="edit",O="roles",I="itemtemplate"},11596:(N,T,n)=>{"use strict";n.d(T,{H:()=>l,x:()=>t});const t={SAVE:(0,n(91e3).N)("dspace/community-list-page/SAVE")};class l{constructor(f,m){this.type=t.SAVE,this.payload={expandedNodes:f,loadingNode:m}}}},54671:(N,T,n)=>{"use strict";n.d(T,{D6:()=>y,EU:()=>v,b2:()=>e,c5:()=>m,f2:()=>l,lG:()=>_,pk:()=>p,zQ:()=>C});var i=n(64611),t=n(45663);const l="parent",e="communities";function f(){return`/${e}`}function m(I){return new t.t(f(),I).toString()}function p(I){return new t.t(f(),I,C).toString()}function _(){return new t.t(f(),y).toString()}function v(I){return new t.t((0,i.JW)(I),C,O).toString()}const y="create",C="edit",O="roles"},13820:(N,T,n)=>{"use strict";n.d(T,{H:()=>C});var i=n(5964),t=n(96354),l=n(23294),e=n(96697),f=n(25558),m=n(88141),p=n(82777),_=n(43052),v=n(80183),y=n(45663);class C{constructor(I,D,R){this.halService=I,this.requestService=D,this.rdbService=R,this.linkName="authn",this.shortlivedtokensEndpoint="shortlivedtokens"}fetchRequest(I,...D){return this.rdbService.buildFromRequestUUID(I,...D).pipe((0,v.qD)())}getEndpointByMethod(I,D,...R){let h=(0,p.hj)(D)?`${I}/${D}`:`${I}`;return R?.length>0&&R.forEach((w,b)=>{h+=(0===b?"?":"&")+`embed=${w.name}`}),h}postToEndpoint(I,D,R){const h=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(b=>(0,p.hj)(b)),(0,t.T)(b=>this.getEndpointByMethod(b,I)),(0,l.F)(),(0,t.T)(b=>new _.Qf(h,b,D,R)),(0,e.s)(1)).subscribe(b=>{this.requestService.send(b)}),w.pipe((0,f.n)(()=>this.fetchRequest(h)))}getRequest(I,D,...R){const h=this.requestService.generateRequestId(),w=this.halService.getEndpoint(this.linkName);return w.pipe((0,i.p)(b=>(0,p.hj)(b)),(0,t.T)(b=>this.getEndpointByMethod(b,I,...R)),(0,l.F)(),(0,t.T)(b=>new _.IP(h,b,void 0,D)),(0,e.s)(1)).subscribe(b=>{this.requestService.send(b)}),w.pipe((0,f.n)(()=>this.fetchRequest(h,...R)))}getShortlivedToken(){return this.halService.getEndpoint(this.linkName).pipe((0,i.p)(I=>(0,p.hj)(I)),(0,l.F)(),(0,t.T)(I=>new y.t(I,this.shortlivedtokensEndpoint).toString()),(0,f.n)(I=>this.createShortLivedTokenRequest(I)),(0,m.M)(I=>this.requestService.send(I)),(0,f.n)(I=>this.rdbService.buildFromRequestUUID(I.uuid)),(0,v.qD)(),(0,t.T)(I=>I.hasSucceeded?I.payload.value:null))}}},59836:(N,T,n)=>{"use strict";n.d(T,{$K:()=>P,$X:()=>j,D9:()=>f,FD:()=>z,G2:()=>D,HQ:()=>p,IO:()=>b,IV:()=>m,JT:()=>X,K0:()=>V,S3:()=>v,Sn:()=>l,VU:()=>I,Wu:()=>h,YO:()=>G,Yk:()=>t,cU:()=>J,dj:()=>w,du:()=>O,e0:()=>y,eh:()=>B,es:()=>q,j3:()=>U,kZ:()=>M,ks:()=>e,mg:()=>C,nB:()=>L,qY:()=>$,sy:()=>_,v1:()=>Z});var i=n(91e3);const t={AUTHENTICATE:(0,i.N)("dspace/auth/AUTHENTICATE"),AUTHENTICATE_ERROR:(0,i.N)("dspace/auth/AUTHENTICATE_ERROR"),AUTHENTICATE_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATE_SUCCESS"),AUTHENTICATED:(0,i.N)("dspace/auth/AUTHENTICATED"),AUTHENTICATED_ERROR:(0,i.N)("dspace/auth/AUTHENTICATED_ERROR"),AUTHENTICATED_SUCCESS:(0,i.N)("dspace/auth/AUTHENTICATED_SUCCESS"),CHECK_AUTHENTICATION_TOKEN:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN"),CHECK_AUTHENTICATION_TOKEN_COOKIE:(0,i.N)("dspace/auth/CHECK_AUTHENTICATION_TOKEN_COOKIE"),SET_AUTH_COOKIE_STATUS:(0,i.N)("dspace/auth/SET_AUTH_COOKIE_STATUS"),RETRIEVE_AUTH_METHODS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS"),RETRIEVE_AUTH_METHODS_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_SUCCESS"),RETRIEVE_AUTH_METHODS_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTH_METHODS_ERROR"),REDIRECT_TOKEN_EXPIRED:(0,i.N)("dspace/auth/REDIRECT_TOKEN_EXPIRED"),REDIRECT_AUTHENTICATION_REQUIRED:(0,i.N)("dspace/auth/REDIRECT_AUTHENTICATION_REQUIRED"),REFRESH_TOKEN:(0,i.N)("dspace/auth/REFRESH_TOKEN"),REFRESH_TOKEN_SUCCESS:(0,i.N)("dspace/auth/REFRESH_TOKEN_SUCCESS"),REFRESH_TOKEN_ERROR:(0,i.N)("dspace/auth/REFRESH_TOKEN_ERROR"),RETRIEVE_TOKEN:(0,i.N)("dspace/auth/RETRIEVE_TOKEN"),ADD_MESSAGE:(0,i.N)("dspace/auth/ADD_MESSAGE"),RESET_MESSAGES:(0,i.N)("dspace/auth/RESET_MESSAGES"),LOG_OUT:(0,i.N)("dspace/auth/LOG_OUT"),LOG_OUT_ERROR:(0,i.N)("dspace/auth/LOG_OUT_ERROR"),LOG_OUT_SUCCESS:(0,i.N)("dspace/auth/LOG_OUT_SUCCESS"),SET_REDIRECT_URL:(0,i.N)("dspace/auth/SET_REDIRECT_URL"),RETRIEVE_AUTHENTICATED_EPERSON:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON"),RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS"),RETRIEVE_AUTHENTICATED_EPERSON_ERROR:(0,i.N)("dspace/auth/RETRIEVE_AUTHENTICATED_EPERSON_ERROR"),REDIRECT_AFTER_LOGIN_SUCCESS:(0,i.N)("dspace/auth/REDIRECT_AFTER_LOGIN_SUCCESS"),SET_USER_AS_IDLE:(0,i.N)("dspace/auth/SET_USER_AS_IDLE"),UNSET_USER_AS_IDLE:(0,i.N)("dspace/auth/UNSET_USER_AS_IDLE")};class l{constructor(Y,Q){this.type=t.AUTHENTICATE,this.payload={email:Y,password:Q}}}class e{constructor(Y){this.type=t.AUTHENTICATED,this.payload=Y}}class f{constructor(Y,Q,ie){this.type=t.AUTHENTICATED_SUCCESS,this.payload={authenticated:Y,authToken:Q,userHref:ie}}}class m{constructor(Y){this.type=t.AUTHENTICATED_ERROR,this.payload=Y}}class p{constructor(Y){this.type=t.AUTHENTICATE_ERROR,this.payload=Y}}class _{constructor(Y){this.type=t.AUTHENTICATE_SUCCESS,this.payload=Y}}class v{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN}}class y{constructor(){this.type=t.CHECK_AUTHENTICATION_TOKEN_COOKIE}}class C{constructor(Y){this.type=t.SET_AUTH_COOKIE_STATUS,this.payload=!1,this.payload=Y}}class O{constructor(Y){this.payload=Y,this.type=t.LOG_OUT}}class I{constructor(Y){this.type=t.LOG_OUT_ERROR,this.payload=Y}}class D{constructor(Y){this.payload=Y,this.type=t.LOG_OUT_SUCCESS}}class h{constructor(Y){this.type=t.REDIRECT_TOKEN_EXPIRED,this.payload=Y}}class w{constructor(Y){this.type=t.REFRESH_TOKEN,this.payload=Y}}class b{constructor(Y){this.type=t.REFRESH_TOKEN_SUCCESS,this.payload=Y}}class P{constructor(){this.type=t.REFRESH_TOKEN_ERROR}}class M{constructor(){this.type=t.RETRIEVE_TOKEN}}class L{constructor(Y){this.type=t.ADD_MESSAGE,this.payload=Y}}class B{constructor(){this.type=t.RESET_MESSAGES}}class U{constructor(Y){this.type=t.RETRIEVE_AUTH_METHODS,this.payload=Y}}class ${constructor(Y){this.type=t.RETRIEVE_AUTH_METHODS_SUCCESS,this.payload=Y}}class j{constructor(){this.type=t.RETRIEVE_AUTH_METHODS_ERROR}}class G{constructor(Y){this.type=t.SET_REDIRECT_URL,this.payload=Y}}class z{constructor(Y){this.type=t.REDIRECT_AFTER_LOGIN_SUCCESS,this.payload=Y}}class V{constructor(Y){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON,this.payload=Y}}class X{constructor(Y){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS,this.payload=Y}}class J{constructor(Y){this.type=t.RETRIEVE_AUTHENTICATED_EPERSON_ERROR,this.payload=Y}}class q{constructor(){this.type=t.SET_USER_AS_IDLE}}class Z{constructor(){this.type=t.UNSET_USER_AS_IDLE}}},67116:(N,T,n)=>{"use strict";n.d(T,{Ru:()=>Z,S0:()=>q,kL:()=>H,of:()=>Y,uR:()=>Q});var i=n(21626),t=n(25499),l=n(7673),e=n(5964),f=n(99172),m=n(96354),p=n(25558),_=n(96697),v=n(88280),y=n(59540),C=n(82777),O=n(39806),I=n(43404),D=n(67600),R=n(96820),h=n(74449),w=n(93130),b=n(56760),P=n(1676),M=n(80183),L=n(32089),B=n(59836),U=n(13820),$=n(40667),j=n(10034),G=n(38169),z=n(54438),V=n(7901),X=n(59752),J=n(41780);const q="/login",Z="/logout",H="dsRedirectUrl",Y="dsImpersonatingEPerson";let Q=(()=>{class ie{constructor(pe,ne,re,Ce,Ee,ue,ae,ye,De,tt,_t,We){this.req=pe,this._window=ne,this.response=re,this.authRequestService=Ce,this.epersonService=Ee,this.router=ue,this.routeService=ae,this.storage=ye,this.store=De,this.hardRedirectService=tt,this.notificationService=_t,this.translateService=We,this.store.pipe((0,e.p)(dt=>void 0!==dt?.core?.auth),(0,t.Lt)(G.wR),(0,f.Z)(!1)).subscribe(dt=>this._authenticated=dt)}authenticate(pe,ne){const re=`password=${encodeURIComponent(ne)}&user=${encodeURIComponent(pe)}`,Ce=Object.create({});let Ee=new i.Lr;return Ee=Ee.append("Content-Type","application/x-www-form-urlencoded"),Ce.headers=Ee,this.authRequestService.postToEndpoint("login",re,Ce).pipe((0,m.T)(ue=>{if((0,C.a4)(ue.payload)&&ue.payload.authenticated)return ue.payload;throw new Error("auth.errors.invalid-user")}))}checkAuthenticationCookie(){const pe=Object.create({});let ne=new i.Lr;return ne=ne.append("Accept","application/json"),pe.headers=ne,pe.withCredentials=!0,this.authRequestService.getRequest("status",pe).pipe((0,m.T)(re=>Object.assign(new $.T,re.payload)))}isAuthenticated(){return this.store.pipe((0,t.Lt)(G.wR))}isAuthenticationLoaded(){return this.store.pipe((0,t.Lt)(G.TR))}setExternalAuthStatus(pe){this.store.dispatch(new B.mg(pe))}isExternalAuthentication(){return this.store.pipe((0,t.Lt)(G.qD))}authenticatedUser(pe){const ne=Object.create({});let re=new i.Lr;return re=re.append("Accept","application/json"),re=re.append("Authorization",`Bearer ${pe.accessToken}`),ne.headers=re,this.authRequestService.getRequest("status",ne).pipe((0,m.T)(Ce=>{const Ee=Ce.payload;if((0,C.a4)(Ee)&&Ee.authenticated)return Ee._links.eperson.href;throw new Error("Not authenticated")}))}retrieveAuthenticatedUserByHref(pe){return this.epersonService.findByHref(pe).pipe((0,M.Hz)())}retrieveAuthenticatedUserById(pe){return this.epersonService.findById(pe).pipe((0,M.Hz)())}getAuthenticatedUserFromStore(){return this.store.pipe((0,t.Lt)(G.At),(0,C.Az)(),(0,p.n)(pe=>this.epersonService.findById(pe)),(0,M.Hz)())}checkAuthenticationToken(){this.store.dispatch(new B.S3)}getSpecialGroupsFromAuthStatus(){return this.authRequestService.getRequest("status",null,(0,D.s)("specialGroups")).pipe((0,M.qD)(),(0,p.n)(pe=>pe.hasSucceeded?pe.payload.specialGroups:(0,I.CX)((0,R.g)(new L.Q,[]))))}hasValidAuthenticationToken(){return this.store.pipe((0,t.Lt)(G.Y5),(0,_.s)(1),(0,m.T)(pe=>{const ne=(0,C.hj)(pe)?pe:this.storage.get(j.R);if((0,C.hj)(ne)&&ne.hasOwnProperty("accessToken")&&(0,C.hj)(ne.accessToken)&&!this.isTokenExpired(ne))return ne;throw!1}))}refreshAuthenticationToken(pe){const ne=Object.create({});let re=new i.Lr;return re=re.append("Accept","application/json"),pe&&pe.accessToken&&(re=re.append("Authorization",`Bearer ${pe.accessToken}`)),ne.headers=re,ne.withCredentials=!0,this.authRequestService.postToEndpoint("login",{},ne).pipe((0,m.T)(Ce=>{const Ee=Ce.payload;if((0,C.a4)(Ee)&&Ee.authenticated)return Ee.token;throw new Error("Not authenticated")}))}resetAuthenticationError(){this.store.dispatch(new B.eh)}retrieveAuthMethodsFromAuthStatus(pe){let ne=[];return(0,C.hj)(pe.authMethods)&&(ne=pe.authMethods),(0,l.of)(ne)}logout(){let pe=new i.Lr;return pe=pe.append("Content-Type","application/x-www-form-urlencoded"),this.authRequestService.postToEndpoint("logout",Object.create({headers:pe,responseType:"text"})).pipe((0,m.T)(re=>{const Ce=re.payload;if((0,C.a4)(Ce)&&!Ce.authenticated)return!0;throw new Error("auth.errors.invalid-user")}))}buildAuthHeader(pe){return(0,C.Im)(pe)&&(pe=this.getToken()),this._authenticated&&(0,C.Pe)(pe)?`Bearer ${pe.accessToken}`:""}getToken(){let pe;return this.store.pipe((0,_.s)(1),(0,t.Lt)(G.Y5)).subscribe(ne=>{pe=ne||null}),pe}trackTokenExpiration(){let pe,ne=!1;this.store.pipe((0,t.Lt)(G.Y5)).subscribe(re=>{if(ne&&void 0!==pe&&void 0===re&&(this.notificationService.error(this.translateService.get("auth.messages.token-refresh-failed")),setTimeout(()=>this.navigateToRedirectUrl(this.hardRedirectService.getCurrentRoute()),1e4),ne=!1),ne&&void 0!==re&&pe.expires!==re.expires&&(ne=!1),!ne&&(pe=re||null,null!=pe)){let Ce=pe.expires-(new Date).getTime()-v.c.auth.rest.timeLeftBeforeTokenRefresh;Ce<0&&(Ce=0),(0,C.a4)(this.tokenRefreshTimer)&&clearTimeout(this.tokenRefreshTimer),this.tokenRefreshTimer=setTimeout(()=>{this.store.dispatch(new B.dj(pe)),ne=!0},Ce)}})}isTokenExpiring(){return this.store.pipe((0,t.Lt)(G.Pc),(0,_.s)(1),(0,m.T)(pe=>!this.isTokenExpired()&&!pe&&this.getToken().expires-3e5<Date.now()))}isTokenExpired(pe){return(pe=pe||this.getToken())&&pe.expires<Date.now()}storeToken(pe){const ne=Date.now()+864e5,Ce={expires:new Date(ne)};return this.storage.set(j.R,pe,Ce)}removeToken(){return this.storage.remove(j.R)}replaceToken(pe){return this.removeToken(),this.storeToken(pe)}redirectToLogin(){this.router.navigate([q])}redirectToLoginWhenTokenExpired(){const pe=q+"?expired=true";this._window.nativeWindow.location?this._window.nativeWindow.location.href=pe:this.response?this.response._headerSent||this.response.redirect(302,pe):this.router.navigateByUrl(pe)}navigateToRedirectUrl(pe){if(!(0,C.a4)(pe)||!pe.includes("reload/")){let ne=`reload/${(new Date).getTime()}`;(0,C.hj)(pe)&&!pe.startsWith(q)&&(ne+=`?redirect=${encodeURIComponent(pe)}`),this.hardRedirectService.redirect(ne)}}refreshAfterLogout(){this.navigateToRedirectUrl(void 0)}getRedirectUrl(){return this.store.pipe((0,t.Lt)(G.M3),(0,m.T)(pe=>(0,C.a4)(pe)?pe:this.storage.get(H)))}setRedirectUrl(pe){const ne=Date.now()+36e5,Ce={expires:new Date(ne)};this.storage.set(H,pe,Ce),this.store.dispatch(new B.YO((0,C.EA)(pe)?pe:""))}setRedirectUrlIfNotSet(pe){this.getRedirectUrl().pipe((0,_.s)(1)).subscribe(ne=>{(0,C.Tn)(ne)&&this.setRedirectUrl(pe)})}clearRedirectUrl(){this.store.dispatch(new B.YO(void 0)),this.storage.remove(H)}impersonate(pe){this.storage.set(Y,pe),this.refreshAfterLogout()}stopImpersonating(){this.storage.remove(Y)}stopImpersonatingAndRefresh(){this.stopImpersonating(),this.refreshAfterLogout()}getImpersonateID(){return this.storage.get(Y)}isImpersonating(){return(0,C.a4)(this.getImpersonateID())}isImpersonatingUser(pe){return this.getImpersonateID()===pe}getShortlivedToken(){return this.isAuthenticated().pipe((0,p.n)(pe=>pe?this.authRequestService.getShortlivedToken():(0,l.of)(null)))}isUserIdle(){return this.store.pipe((0,t.Lt)(G.xB))}setIdle(pe){this.store.dispatch(pe?new B.es:new B.v1)}static{this.\u0275fac=function(ne){return new(ne||ie)(z.KVO(y.S),z.KVO(P.lc),z.KVO(y.C,8),z.KVO(U.H),z.KVO(h.EPersonDataService),z.KVO(V.Ix),z.KVO(b.v$),z.KVO(w.O),z.KVO(t.il),z.KVO(X.$),z.KVO(O.I),z.KVO(J.c$))}}static{this.\u0275prov=z.jDH({token:ie,factory:ie.\u0275fac,providedIn:"root"})}}return ie})()},49347:(N,T,n)=>{"use strict";n.d(T,{t:()=>v});var i=n(54438),t=n(7901),l=n(25499),e=n(47677),f=n(25558),m=n(96354),p=n(67116),_=n(38169);const v=(C,O,I=(0,i.WQX)(p.uR),D=(0,i.WQX)(t.Ix),R=(0,i.WQX)(l.il))=>{const h=O.url;return R.pipe((0,l.Lt)(_.VV)).pipe((0,e.I)(w=>!1===w),(0,f.n)(()=>R.pipe((0,l.Lt)(_.wR))),(0,m.T)(w=>w||(I.setRedirectUrl(h),I.removeToken(),D.createUrlTree([p.S0]))))}},40667:(N,T,n)=>{"use strict";n.d(T,{T:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(58235),p=n(36074),_=n(42547),v=n(98688);const y=new _.v("status");var C=n(10034);let O=class{static{this.type=y}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],O.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("auth-status"),"id"),(0,i.Sn)("design:type",String)],O.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"okay",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],O.prototype,"authenticated",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",l.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.U,!0),(0,i.Sn)("design:type",l.c)],O.prototype,"specialGroups",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",C.S)],O.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],O.prototype,"error",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],O.prototype,"authMethods",void 0),O=(0,i.Cg)([e.gV],O)},10034:(N,T,n)=>{"use strict";function i(v){this.message=v}n.d(T,{S:()=>_,R:()=>p}),(i.prototype=new Error).name="InvalidCharacterError";var t=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(v){var y=String(v).replace(/=+$/,"");if(y.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var C,O,I=0,D=0,R="";O=y.charAt(D++);~O&&(C=I%4?64*C+O:O,I++%4)?R+=String.fromCharCode(255&C>>(-2*I&6)):0)O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(O);return R};function e(v){this.message=v}(e.prototype=new Error).name="InvalidTokenError";const p="dsAuthInfo";class _{constructor(y){this.accessToken=y.replace("Bearer ","");try{const C=function f(v,y){if("string"!=typeof v)throw new e("Invalid token specified");var C=!0===(y=y||{}).header?0:1;try{return JSON.parse(function l(v){var y=v.replace(/-/g,"+").replace(/_/g,"/");switch(y.length%4){case 0:break;case 2:y+="==";break;case 3:y+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(t(y).replace(/(.)/g,function(O,I){var D=I.charCodeAt(0).toString(16).toUpperCase();return D.length<2&&(D="0"+D),"%"+D}))}catch{return t(y)}}(v.split(".")[C]))}catch(O){throw new e("Invalid token specified: "+O.message)}}(this.accessToken);this.expires=1e3*C.exp}catch{this.expires=0}}}},2044:(N,T,n)=>{"use strict";n.d(T,{Q:()=>i});var i=function(t){return t.Password="password",t.Shibboleth="shibboleth",t.Ldap="ldap",t.Ip="ip",t.X509="x509",t.Oidc="oidc",t.Orcid="orcid",t}(i||{})},52027:(N,T,n)=>{"use strict";n.d(T,{q:()=>t});var i=n(2044);class t{constructor(e,f,m){switch(this.position=f,e){case"ip":this.authMethodType=i.Q.Ip;break;case"ldap":this.authMethodType=i.Q.Ldap;break;case"shibboleth":this.authMethodType=i.Q.Shibboleth,this.location=m;break;case"x509":this.authMethodType=i.Q.X509;break;case"password":this.authMethodType=i.Q.Password;break;case"oidc":this.authMethodType=i.Q.Oidc,this.location=m;break;case"orcid":this.authMethodType=i.Q.Orcid,this.location=m}}}},38169:(N,T,n)=>{"use strict";n.d(T,{At:()=>M,F8:()=>J,Gv:()=>z,H8:()=>L,M3:()=>Z,Pc:()=>V,TR:()=>$,VV:()=>G,Y5:()=>X,dx:()=>B,hx:()=>P,qD:()=>j,wR:()=>U,xB:()=>H});var i=n(25499),t=n(47797);const l=(0,i.Mz)(t.N,Y=>Y.auth),P=(0,i.Mz)(l,Y=>Y.authMethods),M=(0,i.Mz)(l,Y=>Y.userId),L=(0,i.Mz)(l,Y=>Y.error),B=(0,i.Mz)(l,Y=>Y.info),U=(0,i.Mz)(l,Y=>Y.authenticated),$=(0,i.Mz)(l,Y=>Y.loaded),j=(0,i.Mz)(l,Y=>Y.externalAuth),G=(0,i.Mz)(l,Y=>Y.loading),z=(0,i.Mz)(l,Y=>Y.blocking),V=(0,i.Mz)(l,Y=>Y.refreshing),X=(0,i.Mz)(l,Y=>Y.authToken),J=(0,i.Mz)(l,Y=>Y.error),Z=((0,i.Mz)(l,Y=>Y.error),(0,i.Mz)(l,Y=>Y.redirectUrl)),H=(0,i.Mz)(l,Y=>Y.idle)},96526:(N,T,n)=>{"use strict";n.d(T,{f:()=>f});var i=n(82777),t=n(39552),l=n(54438),e=n(41780);let f=(()=>{class m{constructor(_){this.translateService=_,this.factories={EPerson:v=>{const y=v.firstMetadataValue("eperson.firstname"),C=v.firstMetadataValue("eperson.lastname");return(0,i.Im)(y)&&(0,i.Im)(C)?this.translateService.instant("dso.name.unnamed"):(0,i.Im)(y)||(0,i.Im)(C)?y||C:`${y} ${C}`},Person:v=>{const y=v.firstMetadataValue("person.familyName"),C=v.firstMetadataValue("person.givenName");return(0,i.Im)(y)&&(0,i.Im)(C)?v.firstMetadataValue("dc.title")||this.translateService.instant("dso.name.unnamed"):(0,i.Im)(y)||(0,i.Im)(C)?y||C:`${y}, ${C}`},OrgUnit:v=>v.firstMetadataValue("organization.legalName")||this.translateService.instant("dso.name.untitled"),Default:v=>v.firstMetadataValue("dc.title")||v.name||this.translateService.instant("dso.name.untitled")}}getName(_){if(_){const y=_.getRenderTypes().filter(O=>"string"==typeof O).find(O=>Object.keys(this.factories).includes(O));let C;return(0,i.a4)(y)&&(C=this.factories[y](_)),(0,i.Im)(C)&&(C=this.factories.Default(_)),C}return""}getHitHighlights(_,v){const C=v.getRenderTypes().filter(O=>"string"==typeof O).find(O=>["Person","OrgUnit"].includes(O));if("Person"===C){const O=this.firstMetadataValue(_,v,"person.familyName"),I=this.firstMetadataValue(_,v,"person.givenName");return(0,i.Im)(O)&&(0,i.Im)(I)?this.firstMetadataValue(_,v,"dc.title")||v.name:(0,i.Im)(O)||(0,i.Im)(I)?O||I:`${O}, ${I}`}return"OrgUnit"===C?this.firstMetadataValue(_,v,"organization.legalName")||this.translateService.instant("dso.name.untitled"):this.firstMetadataValue(_,v,"dc.title")||v.name||this.translateService.instant("dso.name.untitled")}firstMetadataValue(_,v,y){return t.O.firstValue([_.hitHighlights,v.metadata],y)}static{this.\u0275fac=function(v){return new(v||m)(l.KVO(e.c$))}}static{this.\u0275prov=l.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},42673:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BrowseDefinitionDataService:()=>h,createAndSendBrowseDefinitionGetRequest:()=>D});var i=n(7673),t=n(96697),l=n(82777),e=n(72734),f=n(53954),m=n(41684),p=n(46787),_=n(63897),v=n(35108),y=n(43052),C=n(32473),O=n(4910),I=n(54438);const D=(w,b,P,M=!0)=>{(0,l.hj)(P)&&("string"==typeof P&&(P=(0,i.of)(P)),P.pipe((0,l.VT)(),(0,t.s)(1)).subscribe(L=>{const B=w.generateRequestId(),U=new y.FQ(B,L);(0,l.a4)(b)&&(U.responseMsToLive=b),w.send(U,M)}))};class R extends p.H{createAndSendGetRequest(b,P=!0){D(this.requestService,this.responseMsToLive,b,P)}}let h=(()=>{class w extends _.W{constructor(P,M,L,B){super("browses",P,M,L,B),this.requestService=P,this.rdbService=M,this.objectCache=L,this.halService=B,this.searchData=new v.X(this.linkPath,P,M,L,B,this.responseMsToLive),this.findAllData=new R(this.linkPath,P,M,L,B,this.responseMsToLive)}findAll(P={},M=!0,L=!0,...B){return this.findAllData.findAll(P,M,L,...B)}searchBy(P,M,L,B,...U){return this.searchData.searchBy(P,M,L,B,...U)}getSearchByHref(P,M,...L){return this.searchData.getSearchByHref(P,M,...L)}findByFields(P,M=!0,L=!0,...B){const U=[];U.push(new f.x("fields",P));const $=this.getSearchByHref("byFields",{searchParams:U},...B);return this.findByHref($,M,L,...B)}createAndSendGetRequest(P,M=!0){D(this.requestService,this.responseMsToLive,P,M)}static{this.\u0275fac=function(M){return new(M||w)(I.KVO(C.B),I.KVO(e.o),I.KVO(m.$),I.KVO(O.Y))}}static{this.\u0275prov=I.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},37864:(N,T,n)=>{"use strict";n.d(T,{q:()=>R});var i=n(96354),t=n(99172),l=n(23294),e=n(88280),f=n(82777),m=n(67600),p=n(70413),_=n(32473),v=n(4910),y=n(80183),C=n(45663),O=n(42673),I=n(54438);function D(){const h=[(0,m.s)("thumbnail")];return e.c.item.showAccessStatuses&&h.push((0,m.s)("accessStatus")),h}let R=(()=>{class h{static toSearchKeyArray(b){const P=b.split("."),M=[];M.push("*");for(let L=0;L<P.length-1;L++){const U=[...P.slice(0,L+1),"*"].join(".");M.push(U)}return M.push(b),M}constructor(b,P,M,L){this.requestService=b,this.halService=P,this.browseDefinitionDataService=M,this.hrefOnlyDataService=L,this.linkPath="browses"}getBrowseDefinitions(){return this.browseDefinitionDataService.findAll({elementsPerPage:9999}).pipe((0,y.yd)())}getBrowseEntriesFor(b){const P=this.getBrowseDefinitions().pipe((0,y.Jq)(b.metadataDefinition),(0,f.Az)(),(0,i.T)(M=>M.entries.href||M.entries),(0,f.Az)(),(0,i.T)(M=>{const L=[];return(0,f.hj)(b.scope)&&L.push(`scope=${b.scope}`),(0,f.hj)(b.sort)&&L.push(`sort=${b.sort.field},${b.sort.direction}`),(0,f.hj)(b.pagination)&&(L.push("page="+(b.pagination.currentPage-1)),L.push(`size=${b.pagination.pageSize}`)),(0,f.hj)(b.startsWith)&&L.push(`startsWith=${b.startsWith}`),(0,f.hj)(L)&&(M=new C.t(M,`?${L.join("&")}`).toString()),M}));return b.fetchThumbnail?this.hrefOnlyDataService.findListByHref(P,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(P)}getBrowseItemsFor(b,P,M){const L=this.getBrowseDefinitions().pipe((0,y.Jq)(M.metadataDefinition),(0,f.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,f.Az)(),(0,i.T)(B=>{const U=[];return(0,f.hj)(M.scope)&&U.push(`scope=${M.scope}`),(0,f.hj)(M.sort)&&U.push(`sort=${M.sort.field},${M.sort.direction}`),(0,f.hj)(M.pagination)&&(U.push("page="+(M.pagination.currentPage-1)),U.push(`size=${M.pagination.pageSize}`)),(0,f.hj)(M.startsWith)&&U.push(`startsWith=${M.startsWith}`),(0,f.hj)(b)&&U.push(`filterValue=${encodeURIComponent(b)}`),(0,f.hj)(P)&&U.push(`filterAuthority=${encodeURIComponent(P)}`),(0,f.hj)(U)&&(B=new C.t(B,`?${U.join("&")}`).toString()),B}));return M.fetchThumbnail?this.hrefOnlyDataService.findListByHref(L,{},void 0,void 0,...D()):this.hrefOnlyDataService.findListByHref(L)}getFirstItemFor(b,P,M){const L=this.getBrowseDefinitions().pipe((0,y.Jq)(b),(0,f.Az)(),(0,i.T)(B=>B.items.href||B.items),(0,f.Az)(),(0,i.T)(B=>{const U=[];return(0,f.a4)(P)&&U.push(`scope=${P}`),U.push("page=0"),U.push("size=1"),M&&U.push("sort=default,"+M),(0,f.hj)(U)&&(B=new C.t(B,`?${U.join("&")}`).toString()),B}));return this.hrefOnlyDataService.findListByHref(L).pipe((0,y.yd)(),(0,y.GD)())}getPrevBrowseItems(b){return this.hrefOnlyDataService.findListByHref(b.payload.prev)}getNextBrowseItems(b){return this.hrefOnlyDataService.findListByHref(b.payload.next)}getPrevBrowseEntries(b){return this.hrefOnlyDataService.findListByHref(b.payload.prev)}getNextBrowseEntries(b){return this.hrefOnlyDataService.findListByHref(b.payload.next)}getBrowseURLFor(b,P){const M=h.toSearchKeyArray(b);return this.getBrowseDefinitions().pipe((0,y.Bo)(),(0,y.W8)(),(0,i.T)(L=>L.find(B=>{let U="";return Array.isArray(B.metadataKeys)&&(U=B.metadataKeys.find($=>M.indexOf($)>=0)),(0,f.hj)(U)})),(0,i.T)(L=>{if((0,f.Im)(L)||(0,f.Im)(L._links)||(0,f.Im)(L._links[P]))throw new Error(`A browse endpoint for ${P} on ${b} isn't configured`);return L._links[P]||L._links[P].href}),(0,t.Z)(void 0),(0,l.F)())}static{this.\u0275fac=function(P){return new(P||h)(I.KVO(_.B),I.KVO(v.Y),I.KVO(O.BrowseDefinitionDataService),I.KVO(p.HrefOnlyDataService))}}static{this.\u0275prov=I.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},21921:(N,T,n)=>{"use strict";n.d(T,{FR:()=>m,Qt:()=>I,gV:()=>O,nf:()=>w,o8:()=>M,qP:()=>f});var i=n(54438),t=n(82777),l=n(87891);new i.nKC("getDataServiceFor",{providedIn:"root",factory:()=>R});const f=new i.nKC("getLinkDefinition",{providedIn:"root",factory:()=>P}),m=new i.nKC("getLinkDefinitions",{providedIn:"root",factory:()=>b}),v=(Symbol("resolvedLink"),new Map),y=new Map,C=new Map;function O(L){v.set(L.type.value,L)}function I(L){return v.get((0,l.zA)(L))}function R(L){return y.get(L.value)}const w=(L,B=!1,U)=>($,j)=>{let G=C.get($.constructor);(0,t.Tn)(G)&&(G=new Map),(0,t.Tn)(U)&&(U=j),G.set(U,{resourceType:L,isList:B,linkName:U,propertyName:j}),C.set($.constructor,G)},b=L=>C.get(L),P=(L,B)=>{const U=C.get(L);if((0,t.a4)(U))return U.get(B)};function M(L){return B=>{const U=C.get(L)||new Map,$=C.get(B)||new Map;U.forEach((j,G)=>{$.has(G)||$.set(G,j)}),C.set(B,$)}}},1321:(N,T,n)=>{"use strict";n.d(T,{_:()=>v});var i=n(983),t=n(25558),l=n(99437),e=n(82640),f=n(82777),m=n(4047),p=n(21921),_=n(54438);let v=(()=>{class y{constructor(O,I,D,R){this.injector=O,this.map=I,this.getLinkDefinition=D,this.getLinkDefinitions=R}resolveLinks(O,...I){return I.forEach(D=>{this.resolveLink(O,D)}),O}resolveLinkWithoutAttaching(O,I){const D=this.getLinkDefinition(O.constructor,I.name);if((0,f.a4)(D))return(0,m.M)(this.map,D.resourceType.value,this.injector).pipe((0,t.n)(h=>{const w=O._links[D.linkName];if((0,f.a4)(w)){const b=w.href;try{return D.isList?h.findListByHref(b,I.findListOptions,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow):h.findByHref(b,I.useCachedVersionIfAvailable,I.reRequestOnStale,...I.linksToFollow)}catch(P){throw console.error(`Something went wrong when using ${D.resourceType.value}) ${(0,f.a4)(h)?"":"(undefined) "}to resolve link ${String(I.name)} at ${b}`),P}}return i.w}),(0,l.W)(h=>{throw new Error(`The @link() for ${String(I.name)} on ${O.constructor.name} models uses the resource type ${D.resourceType.value.toUpperCase()}, but there is no service with an @dataService(${D.resourceType.value.toUpperCase()}) annotation in order to retrieve it`)}));if(!I.isOptional)throw new Error(`followLink('${String(I.name)}') was used as a required link for a ${O.constructor.name}, but there is no property on ${O.constructor.name} models with an @link() for ${String(I.name)}`);return i.w}resolveLink(O,I){return O[I.name]=this.resolveLinkWithoutAttaching(O,I),O}removeResolvedLinks(O){const I=Object.assign(new O.constructor,O),D=this.getLinkDefinitions(O.constructor);return(0,f.hj)(D)&&D.forEach(R=>{I[R.propertyName]=void 0}),I}static{this.\u0275fac=function(I){return new(I||y)(_.KVO(_.zZn),_.KVO(e.l9),_.KVO(p.qP),_.KVO(p.FR))}}static{this.\u0275prov=_.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},72734:(N,T,n)=>{"use strict";n.d(T,{o:()=>G});var i=n(7673),t=n(84572),l=n(77876),e=n(25558),f=n(96354),m=n(99172),p=n(5964),_=n(23294),y=n(82777),C=n(43404),O=n(67600),I=n(96820),D=n(74346),R=n(1716),h=n(32473),w=n(7434),b=n(69227),P=n(80183),M=n(91098),L=n(87891),B=n(41684),U=n(21921),$=n(1321),j=n(54438);let G=(()=>{class z{constructor(X,J,q){this.objectCache=X,this.linkService=J,this.requestService=q}buildPayload(X,J,...q){return(0,y.Tn)(J)&&(J=(0,i.of)(void 0)),(0,t.z)([J,X]).pipe((0,e.n)(([Z,H])=>{const Y=this.hasExactMatchInObjectCache(Z,H);return(0,y.a4)(H.response)&&(Y||this.isCacheablePayload(H)||this.isUnCacheablePayload(H))?Y?this.objectCache.getObjectByHref(Z):this.isCacheablePayload(H)?this.objectCache.getObjectByHref(H.response.payloadLink.href):[this.plainObjectToInstance(H.response.unCacheableObject)]:(0,w.yO)(H.state)?[null]:[void 0]}),(0,e.n)(Z=>{if((0,y.a4)(Z)){if((0,L.zA)(Z.type)===D.v.value)return this.buildPaginatedList(Z,...q);if((0,y.hj)(q))return[this.linkService.resolveLinks(Z,...q)]}return[Z]}))}plainObjectToInstance(X){const J=(0,U.Qt)(X.type);return Object.assign("function"==typeof J?new J:{},X)}hasExactMatchInObjectCache(X,J){return(0,y.a4)(J)&&(0,y.a4)(J.request)&&(0,y.hj)(J.request.uuid)&&(0,y.a4)(X)&&this.objectCache.hasByHref(X,J.request.uuid)}isCacheablePayload(X){return(0,y.a4)(X.response.payloadLink)&&(0,y.hj)(X.response.payloadLink.href)}isUnCacheablePayload(X){return(0,y.a4)(X.response.unCacheableObject)}buildPaginatedList(X,...J){const q=J.find(Y=>"page"===Y.name),Z=J.filter(Y=>"page"!==Y.name),H=Object.assign(new I.O,X);if((0,y.a4)(q)){if((0,y.Im)(H.page)){const Y=H._links.page.map(Q=>Q.href);return this.objectCache.getList(Y).pipe((0,f.T)(Q=>(H.page=Q.map(ie=>this.plainObjectToInstance(ie)).map(ie=>this.linkService.resolveLinks(ie,...q.linksToFollow)),(0,y.hj)(Z)?this.linkService.resolveLinks(H,...Z):H)))}if(H.page=H.page.filter(Y=>null!=Y).map(Y=>this.plainObjectToInstance(Y)).map(Y=>this.linkService.resolveLinks(Y,...q.linksToFollow)),(0,y.hj)(Z))return(0,i.of)(this.linkService.resolveLinks(H,...Z))}return(0,i.of)(H)}buildFromRequestUUID(X,...J){"string"==typeof X&&(X=(0,i.of)(X));const q=X.pipe((0,M.m9)(this.requestService)),Z=this.buildPayload(q,void 0,...J);return this.toRemoteDataObservable(q,Z)}buildFromRequestUUIDAndAwait(X,J,...q){const Z=this.buildFromRequestUUID(X,...q),H=new l.h;return Z.pipe((0,P.qD)(),(0,e.n)(Y=>Y.hasSucceeded?J(Y):[!0])).subscribe(()=>{H.next(!0),H.complete()}),Z.pipe((0,e.n)(Y=>Y.hasSucceeded?H.pipe((0,f.T)(()=>Y)):[Y]))}buildFromHref(X,...J){"string"==typeof X&&(X=(0,i.of)(X));const q=(X=X.pipe((0,f.T)(Y=>(0,b.tJ)(Y)))).pipe((0,e.n)(Y=>this.objectCache.getRequestUUIDBySelfLink(Y))),Z=(0,t.z)([X.pipe((0,M.Ky)(this.requestService),(0,m.Z)(void 0)),q.pipe((0,M.m9)(this.requestService),(0,m.Z)(void 0))]).pipe((0,p.p)(([Y,Q])=>(0,y.a4)(Y)||(0,y.a4)(Q)),(0,f.T)(([Y,Q])=>(0,y.Tn)(Q)?Y:(0,y.Tn)(Y)?Q:(0,w.QO)(Y.state)&&(0,w.QO)(Q.state)||!(0,w.QO)(Y.state)&&!(0,w.QO)(Q.state)?Y.lastUpdated>=Q.lastUpdated?Y:Q:(0,w.QO)(Q.state)?Y:Q)),H=this.buildPayload(Z,X,...J);return this.toRemoteDataObservable(Z,H).pipe(function v(z,V){return(0,_.F)((X,J)=>V?V(X[z],J[z]):X[z]===J[z])}("lastUpdated"))}buildSingle(X,...J){return this.buildFromHref(X,...J)}toRemoteDataObservable(X,J){return(0,t.z)([X,J]).pipe((0,p.p)(([q,Z])=>(0,y.a4)(q)&&!((0,w.yO)(q.state)&&(0,y.b0)(Z))),(0,f.T)(([q,Z])=>{let H=q.response;return(0,y.Tn)(H)&&(H={}),new R.j(H.timeCompleted,q.request.responseMsToLive,q.lastUpdated,q.state,H.errorMessage,Z,H.statusCode)}))}buildList(X,...J){return this.buildFromHref(X,(0,O.s)("page",{shouldEmbed:!1},...J))}aggregate(X){return(0,y.Im)(X)?(0,C.CX)([],(new Date).getTime()):(0,t.z)(X).pipe((0,f.T)(J=>{const q=J.map(ne=>ne.timeCompleted).reduce((ne,re)=>re>ne?re:ne),Z=J.map(ne=>ne.msToLive).reduce((ne,re)=>re<ne?re:ne),H=J.map(ne=>ne.lastUpdated).reduce((ne,re)=>re>ne?re:ne);let Y;Y=J.some(ne=>ne.isRequestPending)?w.zE.RequestPending:J.some(ne=>ne.isResponsePending)?w.zE.ResponsePending:J.some(ne=>ne.isErrorStale)?w.zE.ErrorStale:J.some(ne=>ne.isError)?w.zE.Error:J.some(ne=>ne.isSuccessStale)?w.zE.SuccessStale:w.zE.Success;const Q=J.map(ne=>ne.errorMessage).map((ne,re)=>{if((0,y.a4)(ne))return`[${re}]: ${ne}`}).filter(ne=>(0,y.a4)(ne)).join(", "),ie=new Set(J.map(ne=>ne.statusCode));let oe;1===ie.size?oe=ie.values().next().value:ie.size>1&&(oe=207);const pe=J.map(ne=>ne.payload);return new R.j(q,Z,H,Y,Q,pe,oe)}))}static{this.\u0275fac=function(J){return new(J||z)(j.KVO(B.$),j.KVO($._),j.KVO(h.B))}}static{this.\u0275prov=j.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},56970:(N,T,n)=>{"use strict";n.d(T,{I:()=>t});class i{}class t extends i{}},24547:(N,T,n)=>{"use strict";n.d(T,{a:()=>t});var i=n(82777);class t{constructor(e){this.prefix=e}Serialize(e){}Deserialize(e){return(0,i.a4)(e)?`${this.prefix}-${e}`:e}}},53954:(N,T,n)=>{"use strict";n.d(T,{x:()=>i});class i{constructor(l,e,f=!0){this.fieldName=l,this.fieldValue=e,this.encodeValue=f,f&&(this.fieldValue=encodeURIComponent(e))}}},6238:(N,T,n)=>{"use strict";n.d(T,{U:()=>i,z:()=>t});var i=function(l){return l.ASC="ASC",l.DESC="DESC",l}(i||{});class t{constructor(e,f){this.field=e,this.direction=f}}},98372:(N,T,n)=>{"use strict";n.d(T,{Bc:()=>_,YA:()=>l,Yp:()=>f,dL:()=>m,db:()=>t,gL:()=>p,ok:()=>v,sI:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/object/ADD"),REMOVE:(0,i.N)("dspace/core/cache/object/REMOVE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/cache/object/RESET_TIMESTAMPS"),ADD_PATCH:(0,i.N)("dspace/core/cache/object/ADD_PATCH"),APPLY_PATCH:(0,i.N)("dspace/core/cache/object/APPLY_PATCH"),ADD_DEPENDENTS:(0,i.N)("dspace/core/cache/object/ADD_DEPENDENTS"),REMOVE_DEPENDENTS:(0,i.N)("dspace/core/cache/object/REMOVE_DEPENDENTS")};class l{constructor(C,O,I,D,R){this.type=t.ADD,this.payload={objectToCache:C,timeCompleted:O,msToLive:I,requestUUID:D,alternativeLink:R}}}class e{constructor(C){this.type=t.REMOVE,this.payload=C}}class f{constructor(C){this.type=t.RESET_TIMESTAMPS,this.payload=C}}class m{constructor(C,O){this.type=t.ADD_PATCH,this.payload={href:C,operations:O}}}class p{constructor(C){this.type=t.APPLY_PATCH,this.payload=C}}class _{constructor(C,O){this.type=t.ADD_DEPENDENTS,this.payload={href:C,dependentRequestUUIDs:O}}}class v{constructor(C){this.type=t.REMOVE_DEPENDENTS,this.payload=C}}},87891:(N,T,n)=>{"use strict";n.d(T,{gT:()=>p,zA:()=>e});var i=n(93583),t=n(82777),l=n(98372);const e=R=>{if((0,t.a4)(R)){if("string"==typeof R)return R;if("string"==typeof R.value)return R.value}},m=Object.create(null);function p(R=m,h){switch(h.type){case l.db.ADD:return function _(R,h){const w=(0,t.a4)(h.payload.objectToCache?._links?.self)?h.payload.objectToCache._links.self.href:h.payload.alternativeLink,b=R[w]||{},P=(0,t.a4)(h.payload.alternativeLink)?[h.payload.alternativeLink]:[];return(0,t.a4)(w)?Object.assign({},R,{[w]:{data:h.payload.objectToCache,timeCompleted:h.payload.timeCompleted,msToLive:h.payload.msToLive,requestUUIDs:[h.payload.requestUUID,...b.requestUUIDs||[]],dependentRequestUUIDs:b.dependentRequestUUIDs||[],isDirty:(0,t.hj)(b.patches),patches:b.patches||[],alternativeLinks:[...b.alternativeLinks||[],...P]}}):R}(R,h);case l.db.REMOVE:return function v(R,h){if((0,t.a4)(R[h.payload])){const w=Object.assign({},R);return delete w[h.payload],w}return R}(R,h);case l.db.RESET_TIMESTAMPS:return function y(R,h){const w=Object.create(null);return Object.keys(R).forEach(b=>{w[b]=Object.assign({},R[b],{timeCompleted:h.payload})}),w}(R,h);case l.db.ADD_PATCH:return function C(R,h){const w=h.payload.href,b=h.payload.operations,P=Object.assign({},R);return(0,t.a4)(P[w])&&(P[w]=Object.assign({},P[w],{patches:[...P[w].patches,{operations:b}],isDirty:!0})),P}(R,h);case l.db.APPLY_PATCH:return function O(R,h){const w=h.payload,b=Object.assign({},R);if((0,t.a4)(b[w])){const P=[].concat(...b[w].patches.map(L=>L.operations)),M=(0,i.X6)(b[w].data,P,void 0,!1);b[w]=Object.assign({},b[w],{data:M.newDocument,patches:[]})}return b}(R,h);case l.db.ADD_DEPENDENTS:return function I(R,h){const w=h.payload.href,b=Object.assign({},R);return(0,t.a4)(b[w])&&(b[w]=Object.assign({},b[w],{dependentRequestUUIDs:[...new Set([...b[w]?.dependentRequestUUIDs||[],...h.payload.dependentRequestUUIDs])]})),b}(R,h);case l.db.REMOVE_DEPENDENTS:return function D(R,h){const w=h.payload,b=Object.assign({},R);return(0,t.a4)(b[w])&&(b[w]=Object.assign({},b[w],{dependentRequestUUIDs:[]})),b}(R,h);default:return R}}},41684:(N,T,n)=>{"use strict";n.d(T,{$:()=>$});var i=n(25499),t=n(93583),l=n(84572),e=n(7673),f=n(96354),m=n(96697),p=n(73028),_=n(5964),v=n(25558),y=n(23294),C=n(82777),O=n(47797),I=n(43377),D=n(71442),R=n(69227),h=n(51672),w=n(21921),b=n(1321),P=n(98372),M=n(78394),L=n(54438);const B=(0,i.Mz)(O.N,j=>j["cache/object"]);let $=(()=>{class j{constructor(z,V){this.store=z,this.linkService=V}add(z,V,X,J){(0,C.a4)(z)&&(z=this.linkService.removeResolvedLinks(z)),this.store.dispatch(new P.YA(z,(new Date).getTime(),V,X,J))}remove(z){this.removeRelatedLinksFromIndex(z),this.store.dispatch(new P.sI(z))}removeRelatedLinksFromIndex(z){const V=this.getByHref(z),X=V.pipe((0,f.T)(q=>q.alternativeLinks),(0,m.s)(1)),J=V.pipe((0,f.T)(q=>Object.entries(q.data._links).filter(([Z,H])=>"self"!==Z).map(([Z,H])=>H.href)),(0,m.s)(1));this.removeLinksFromAlternativeLinkIndex(X),this.removeLinksFromAlternativeLinkIndex(J)}removeLinksFromAlternativeLinkIndex(z){z.subscribe(V=>V.forEach(X=>{this.store.dispatch(new D.NL(h.U.ALTERNATIVE_OBJECT_LINK,X))}))}getObjectByUUID(z){return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,p.Z)(V=>this.getObjectByHref(V)))}getObjectByHref(z){return this.getByHref(z).pipe((0,f.T)(V=>{if((0,C.hj)(V.patches)){const X=[].concat(...V.patches.map(q=>q.operations)),J=(0,t.X6)(V.data,X,void 0,!1).newDocument;return Object.assign({},V,{data:J})}return V}),(0,f.T)(V=>{if((0,C.a4)(V.data)){const X=(0,w.Qt)(V.data.type);if("function"!=typeof X)throw new Error(`${X} is not a valid constructor for ${JSON.stringify(V.data)}`);return Object.assign(new X,V.data)}return null}))}getByHref(z){return(0,l.z)([this.getByAlternativeLink(z),this.getBySelfLink(z)]).pipe((0,f.T)(V=>V.find(X=>(0,C.a4)(X))),(0,_.p)(V=>(0,C.a4)(V)))}getBySelfLink(z){return this.store.pipe((0,i.Lt)((j=>(0,i.Mz)(B,G=>G[j]))(z)))}getByAlternativeLink(z){return this.store.pipe((0,i.Lt)((0,R.Fn)(z)),(0,v.n)(V=>this.getBySelfLink(V)))}getRequestUUIDBySelfLink(z){return this.getByHref(z).pipe((0,f.T)(V=>V.requestUUIDs[0]),(0,y.F)())}getRequestUUIDByObjectUUID(z){return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,p.Z)(V=>this.getRequestUUIDBySelfLink(V)))}getList(z){return(0,C.Im)(z)?(0,e.of)([]):(0,l.z)(z.map(V=>this.getObjectByHref(V)))}hasByUUID(z){let V=!1;return this.store.pipe((0,i.Lt)((0,R.vH)(z)),(0,m.s)(1)).subscribe(X=>V=this.hasByHref(X)),V}hasByHref(z,V){let X=!1;return this.getByHref(z).subscribe(J=>{X=!(0,C.hj)(V)||J.requestUUIDs.includes(V)}).unsubscribe(),X}hasByHref$(z){return(0,l.z)(this.getBySelfLink(z),this.getByAlternativeLink(z)).pipe((0,f.T)(V=>V.some(X=>(0,C.a4)(X))))}addPatch(z,V){this.store.dispatch(new P.dL(z,V)),this.store.dispatch(new M.Fs(z,I.D.PATCH))}isDirty(z){return(0,C.hj)(z.patches)}applyPatchesToCachedObject(z){this.store.dispatch(new P.gL(z))}addDependency(z,V){(0,C.Tn)(z)||(0,C.Tn)(V)||("string"==typeof z&&(z=(0,e.of)(z)),"string"==typeof V&&(V=(0,e.of)(V)),(0,l.z)([z,V.pipe((0,v.n)(X=>this.resolveSelfLink(X)))]).pipe((0,v.n)(([X,J])=>{const q=(0,e.of)(J);return(0,l.z)([q,q.pipe((0,v.n)(Z=>this.getBySelfLink(Z)),(0,f.T)(Z=>Z?.dependentRequestUUIDs||[])),this.getByHref(X).pipe((0,f.T)(Z=>Z?.requestUUIDs?.[0]))])}),(0,m.s)(1)).subscribe(([X,J,q])=>{(0,C.a4)(X)&&(0,C.a4)(q)&&!J.includes(q)&&this.store.dispatch(new P.Bc(X,[q]))}))}removeDependents(z){this.resolveSelfLink(z).pipe((0,m.s)(1)).subscribe(V=>{(0,C.a4)(V)&&this.store.dispatch(new P.ok(V))})}resolveSelfLink(z){return this.getBySelfLink(z).pipe((0,v.n)(V=>(0,C.hj)(V)?[z]:this.store.pipe((0,i.Lt)((0,R.Fn)(z)))))}static{this.\u0275fac=function(V){return new(V||j)(L.KVO(i.il),L.KVO(b._))}}static{this.\u0275prov=L.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},13808:(N,T,n)=>{"use strict";n.d(T,{Ku:()=>i,_p:()=>m,bM:()=>l,hT:()=>t});class i{constructor(R,h,w){this.isSuccessful=R,this.statusCode=h,this.statusText=w,this.toCache=!0}}class t extends i{constructor(R,h,w){super(!0,R,`${R}`),this.link=h,this.unCacheableObject=w}}class l extends i{constructor(R,h,w,b){super(!0,h,w),this.resourceSelfLinks=R,this.statusCode=h,this.statusText=w,this.pageInfo=b}}class m extends i{constructor(R){super(!1,R.statusCode,R.statusText),console.error(R),this.errorMessage=R.message}}},78394:(N,T,n)=>{"use strict";n.d(T,{Fs:()=>l,G9:()=>t,a0:()=>f,eR:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/cache/syncbuffer/ADD"),COMMIT:(0,i.N)("dspace/core/cache/syncbuffer/COMMIT"),EMPTY:(0,i.N)("dspace/core/cache/syncbuffer/EMPTY")};class l{constructor(p,_){this.type=t.ADD,this.payload={href:p,method:_}}}class e{constructor(p){this.type=t.COMMIT,this.payload=p}}class f{constructor(p){this.type=t.EMPTY,this.payload=p}}},42084:(N,T,n)=>{"use strict";n.d(T,{P:()=>p});var i=n(96354),t=n(8917),l=n(65007),e=n(3970),f=n(80183),m=n(54438);let p=(()=>{class _{constructor(y,C){this.configService=y,this.authorizationService=C,this._inboxRelationLink="http://www.w3.org/ns/ldp#inbox"}isCoarConfigEnabled(){return this.authorizationService.isAuthorized(e._.CoarNotifyEnabled)}getCoarLdnLocalInboxUrls(){return this.configService.findByPropertyName("ldn.notify.inbox").pipe((0,f.qD)(),(0,i.T)(y=>y.hasSucceeded?y.payload.values:[]))}getInboxRelationLink(){return this._inboxRelationLink}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(t.ConfigurationDataService),m.KVO(l.AuthorizationDataService))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},25168:(N,T,n)=>{"use strict";n.d(T,{M:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(96820),f=n(49797),m=n(96787);let p=class extends f.G{static{this.type=m.gf}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"isDefault",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",e.O)],p.prototype,"sections",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.G)],p);let _=class extends p{static{this.type=m.Nm}};_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(p)],_)},7232:(N,T,n)=>{"use strict";n.d(T,{f:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(49797),f=n(96787);let m=class extends e.G{static{this.type=f.vH}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],m.prototype,"rows",void 0),m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.G)],m);let p=class extends m{static{this.type=f.KX}};p=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m)],p)},96787:(N,T,n)=>{"use strict";n.d(T,{KX:()=>f,NS:()=>y,Nm:()=>t,V_:()=>_,WJ:()=>p,XI:()=>C,gf:()=>l,mU:()=>v,vH:()=>e});var i=n(42547);const t=new i.v("submissiondefinitions"),l=new i.v("submissiondefinition"),e=new i.v("submissionform"),f=new i.v("submissionforms"),p=(new i.v("submissionsections"),new i.v("submissionsection")),_=new i.v("submissionuploads"),v=new i.v("submissionupload"),y=new i.v("submissionaccessoption"),C=new i.v("bulkaccessconditionoption")},49797:(N,T,n)=>{"use strict";n.d(T,{G:()=>f});var i=n(31635),t=n(74850),l=n(42547),e=n(98688);class f{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"name",void 0),(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",l.v)],f.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],f.prototype,"_links",void 0)},47797:(N,T,n)=>{"use strict";n.d(T,{N:()=>t});const t=(0,n(25499).UX)("core")},45022:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AccessStatusDataService:()=>p});var i=n(72734),t=n(41684),l=n(4910),e=n(49802),f=n(32473),m=n(54438);let p=(()=>{class _ extends e.L{constructor(y,C,O,I){super("accessStatus",y,C,O,I),this.requestService=y,this.rdbService=C,this.objectCache=O,this.halService=I}findAccessStatusFor(y){return this.findByHref(y._links.accessStatus.href)}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},51538:(N,T,n)=>{"use strict";n.d(T,{aE:()=>v});var i=n(88280),t=n(82777),l=n(21921),e=n(28580),f=n(32089),m=n(96820);function p(y){return(0,t.hj)(y._links)&&(0,t.a4)(y._links.self)}function _(y){return(0,t.a4)(y.page)&&(0,t.a4)(y.page.size)&&(0,t.a4)(y.page.totalElements)&&(0,t.a4)(y.page.totalPages)&&(0,t.a4)(y.page.number)}class v{constructor(){this.shouldDirectlyAttachEmbeds=!1,this.serializerConstructor=e.T}process(C,O,I){if((0,t.hj)(C)){if((0,t.Tn)(C)||"object"!=typeof C)return C;if(_(C))return this.processPaginatedList(C,O);if(Array.isArray(C))return this.processArray(C,O);if(p(C)){const R=this.deserialize(C);return(0,t.hj)(C._embedded)&&Object.keys(C._embedded).filter(h=>C._embedded.hasOwnProperty(h)).forEach(h=>{const w=this.process(C._embedded[h],O,C._links[h].href);(0,t.a4)(R)&&this.shouldDirectlyAttachEmbeds&&(0,t.hj)(w)&&(_(C._embedded[h])?(R[h]=w,R[h].page=w.page.map(b=>this.retrieveObjectOrUrl(b))):p(C._embedded[h])?R[h]=this.retrieveObjectOrUrl(w):Array.isArray(w)&&(R[h]=w.map(b=>this.retrieveObjectOrUrl(b))))}),this.cache(R,O,C,I),R}const D={};return Object.keys(C).filter(R=>C.hasOwnProperty(R)).filter(R=>(0,t.a4)(C[R])).forEach(R=>{D[R]=this.process(C[R],O)}),D}}processPaginatedList(C,O){const I=this.processPageInfo(C);let D=C._embedded;(0,t.Tn)(D)?D=[]:Array.isArray(D)||(D=this.flattenSingleKeyObject(D));const R=this.processArray(D,O);return(0,m.g)(I,R)}processArray(C,O){let I=[];return C.forEach(D=>{I=[...I,this.process(D,O)]}),I}deserialize(C){const O=C.type;if((0,t.a4)(O)){const I=(0,l.Qt)(O);return(0,t.a4)(I)?new this.serializerConstructor(I).deserialize(C):(console.warn("cannot deserialize type "+O),null)}return console.warn("cannot deserialize type "+O),null}cache(C,O,I,D){this.toCache&&this.addToObjectCache(C,O,I,D)}addToObjectCache(C,O,I,D){if((0,t.Tn)(C)||(0,t.Tn)(C._links)||(0,t.Tn)(C._links.self)||(0,t.Tn)(C._links.self.href)){const R=(0,t.a4)(I)&&(0,t.a4)(I.type)?I.type:"object";let h;return h=(0,t.a4)(I._embedded)?JSON.stringify(Object.assign({},I,{_embedded:"..."})):JSON.stringify(I),void console.warn(`Can't cache incomplete ${R}: ${JSON.stringify(C)}, parsed from (partial) response: ${h}`)}this.objectCache.add(C,(0,t.a4)(O.responseMsToLive)?O.responseMsToLive:i.c.cache.msToLive.default,O.uuid,D)}processPageInfo(C){if((0,t.a4)(C.page)){const O=Object.assign({},C.page,{_links:C._links}),I=new e.T(f.Q).deserialize(O);return I.currentPage>=0&&Object.assign(I,{currentPage:I.currentPage+1}),I}}flattenSingleKeyObject(C){const O=Object.keys(C);if(1!==O.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(C)}`);return C[O[0]]}retrieveObjectOrUrl(C){return this.toCache?C._links.self.href:C}isSuccessStatus(C){return C>=200&&C<300}}},49802:(N,T,n)=>{"use strict";n.d(T,{L:()=>w});var i=n(7673),t=n(44668),l=n(77876),e=n(22806),f=n(88141),m=n(96697),p=n(96354),_=n(28492),v=n(25558),y=n(73028),C=n(56594),O=n(82777),I=n(80183),D=n(45663),R=n(43052);class w{constructor(P,M,L,B,U,$){this.linkPath=P,this.requestService=M,this.rdbService=L,this.objectCache=B,this.halService=U,this.responseMsToLive=$}getBrowseEndpoint(P={},M){return this.getEndpoint()}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}buildHrefFromFindOptions(P,M,L=[],...B){let U=[...L];return(0,O.a4)(M.currentPage)&&"number"==typeof M.currentPage&&(U=this.addHrefArg(P,U,"page="+(M.currentPage-1))),(0,O.a4)(M.elementsPerPage)&&(U=this.addHrefArg(P,U,`size=${M.elementsPerPage}`)),(0,O.a4)(M.sort)&&(U=this.addHrefArg(P,U,`sort=${M.sort.field},${M.sort.direction}`)),(0,O.a4)(M.startsWith)&&(U=this.addHrefArg(P,U,`startsWith=${M.startsWith}`)),(0,O.a4)(M.searchParams)&&M.searchParams.forEach($=>{U=this.addHrefArg(P,U,`${$.fieldName}=${$.fieldValue}`)}),U=this.addEmbedParams(P,U,...B),(0,O.hj)(U)?new D.t(P,`?${U.join("&")}`).toString():P}buildHrefWithParams(P,M,...L){let B=[];return(0,O.a4)(M)&&M.forEach(U=>{B=this.addHrefArg(P,B,`${U.fieldName}=${U.fieldValue}`)}),B=this.addEmbedParams(P,B,...L),(0,O.hj)(B)?new D.t(P,`?${B.join("&")}`).toString():P}addEmbedParams(P,M,...L){return L.forEach(B=>{if((0,O.a4)(B)&&B.shouldEmbed){const U="embed="+String(B.name);(0,O.a4)(B.findListOptions)&&(0,O.a4)(B.findListOptions.elementsPerPage)&&(M=this.addHrefArg(P,M,"embed.size="+String(B.name)+"="+B.findListOptions.elementsPerPage)),M=(0,O.hj)(B.linksToFollow)?this.addNestedEmbeds(U,P,M,...B.linksToFollow):this.addHrefArg(P,M,U)}}),M}addHrefArg(P,M,L){return P.includes(L)||M.includes(L)?[...M]:[...M,L]}addNestedEmbeds(P,M,L,...B){let U=P;return B.forEach($=>{if((0,O.a4)($)&&$.shouldEmbed){if(U=U+"%2F"+String($.name),(0,O.a4)($.findListOptions)&&(0,O.a4)($.findListOptions.elementsPerPage)){const j="embed.size="+U.split("=")[1]+"="+$.findListOptions.elementsPerPage;L=this.addHrefArg(M,L,j)}L=(0,O.a4)($.linksToFollow)&&(0,O.hj)($.linksToFollow)?this.addNestedEmbeds(U,M,L,...$.linksToFollow):this.addHrefArg(M,L,U)}}),L}reRequestStaleRemoteData(P,M){return L=>!0===P?L.pipe((0,f.M)(B=>{(0,O.a4)(B)&&B.isStale&&M()})):L}findByHref(P,M=!0,L=!0,...B){"string"==typeof P&&(P=(0,i.of)(P));const U=P.pipe((0,O.VT)(),(0,m.s)(1),(0,p.T)(G=>this.buildHrefFromFindOptions(G,{},[],...B)),(0,t.t)({bufferSize:1,refCount:!0})),$=(new Date).getTime();this.createAndSendGetRequest(U,M);const j=this.rdbService.buildSingle(U,...B).pipe((0,_.j)(G=>G.isStale||!M&&G.lastUpdated<$),this.reRequestStaleRemoteData(L,()=>this.findByHref(P,M,L,...B)));return j.pipe((0,f.M)(G=>{if((0,O.a4)(G?.payload?._links))for(const z of Object.keys(G.payload._links))if((0,O.a4)(G.payload[z])&&"self"!==z){const V=[].concat(G.payload._links[z]);for(const X of V)(0,O.a4)(X?.href)&&this.addDependency(j,X.href)}}))}findListByHref(P,M={},L=!0,B=!0,...U){"string"==typeof P&&(P=(0,i.of)(P));const $=P.pipe((0,O.VT)(),(0,m.s)(1),(0,p.T)(z=>this.buildHrefFromFindOptions(z,M,[],...U)),(0,t.t)({bufferSize:1,refCount:!0})),j=(new Date).getTime();this.createAndSendGetRequest($,L);const G=this.rdbService.buildList($,...U).pipe((0,_.j)(z=>z.isStale||!L&&z.lastUpdated<j),this.reRequestStaleRemoteData(B,()=>this.findListByHref(P,M,L,B,...U)));return G.pipe((0,f.M)(z=>{if((0,O.a4)(z?.payload?.page))for(const V of z.payload.page)if((0,O.a4)(V?._links))for(const X of Object.keys(V._links))if((0,O.a4)(V[X])&&"self"!==X){const J=[].concat(V._links[X]);for(const q of J)(0,O.a4)(q?.href)&&this.addDependency(G,q.href)}}))}createAndSendGetRequest(P,M=!0){(0,O.hj)(P)&&("string"==typeof P&&(P=(0,i.of)(P)),P.pipe((0,O.VT)(),(0,m.s)(1)).subscribe(L=>{const B=this.requestService.generateRequestId(),U=new R.IP(B,L);(0,O.a4)(this.responseMsToLive)&&(U.responseMsToLive=this.responseMsToLive),this.requestService.send(U,M)}))}hasCachedResponse(P){if((0,O.hj)(P))return"string"==typeof P&&(P=(0,i.of)(P)),P.pipe((0,O.VT)(),(0,m.s)(1),(0,p.T)(M=>{const L=this.requestService.generateRequestId(),B=new R.IP(L,M);return!this.requestService.shouldDispatchRequest(B,!0)}));throw new Error("Can't check whether there is a cached response for an empty href$")}hasCachedErrorResponse(P){return this.hasCachedResponse(P).pipe((0,v.n)(M=>M?this.rdbService.buildSingle(P).pipe((0,I.qD)(),(0,p.T)(L=>L.hasFailed)):(0,i.of)(!1)))}getLinkPath(){return this.linkPath}addDependency(P,M){this.objectCache.addDependency(P.pipe((0,I.qD)(),(0,v.n)(L=>L.hasSucceeded?[L.payload._links.self.href]:[void 0])),M)}invalidateByHref(P){const M=new l.h;return this.objectCache.getByHref(P).pipe((0,m.s)(1),(0,v.n)(L=>(0,e.H)([...L.requestUUIDs,...L.dependentRequestUUIDs]).pipe((0,y.Z)(B=>this.requestService.setStaleByUUID(B)),(0,C.$)()))).subscribe(()=>{this.objectCache.removeDependents(P),M.next(!0),M.complete()}),M}}},39280:(N,T,n)=>{"use strict";n.d(T,{V:()=>C});var i=n(23294),t=n(96354),l=n(96697),e=n(77048),f=n(82777),m=n(4065),p=n(21921),_=n(28580),v=n(43052),y=n(49802);class C extends y.L{constructor(I,D,R,h,w,b,P){super(I,D,R,h,w,P),this.linkPath=I,this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=w,this.notificationsService=b,this.responseMsToLive=P}create(I,...D){const R=this.getEndpoint().pipe((0,f.VT)(),(0,i.F)(),(0,t.T)(h=>this.buildHrefWithParams(h,D)));return this.createOnEndpoint(I,R)}createOnEndpoint(I,D){const R=this.requestService.generateRequestId(),h=new _.T((0,p.Qt)(I.type)).serialize(I);D.pipe((0,l.s)(1)).subscribe(b=>{const P=new v.QU(R,b,JSON.stringify(h));(0,f.a4)(this.responseMsToLive)&&(P.responseMsToLive=this.responseMsToLive),this.requestService.send(P)});const w=this.rdbService.buildFromRequestUUID(R);return w.pipe((0,e.v)(b=>b.isLoading,!0)).subscribe(b=>{b.hasFailed&&this.notificationsService.error("Server Error:",b.errorMessage,new m.y(-1))}),w}}},13617:(N,T,n)=>{"use strict";n.d(T,{I:()=>f});var i=n(25558),t=n(82777),l=n(43052),e=n(63897);class f extends e.W{constructor(p,_,v,y,C,O,I,D){if(super(p,_,v,y,C,I,D),this.linkPath=p,this.requestService=_,this.rdbService=v,this.objectCache=y,this.halService=C,this.notificationsService=O,this.responseMsToLive=I,this.constructIdEndpoint=D,(0,t.Tn)(D))throw new Error(`DeleteDataImpl initialized without a constructIdEndpoint method (linkPath: ${p})`)}delete(p,_){return this.getIDHrefObs(p).pipe((0,i.n)(v=>this.deleteByHref(v,_)))}deleteByHref(p,_){const v=this.requestService.generateRequestId();let y=p;_&&_.forEach(O=>y+=(y.includes("?")?"&":"?")+"copyVirtualMetadata="+O);const C=new l.$(v,y);return(0,t.a4)(this.responseMsToLive)&&(C.responseMsToLive=this.responseMsToLive),this.requestService.send(C),this.rdbService.buildFromRequestUUIDAndAwait(v,()=>this.invalidateByHref(p))}}},46787:(N,T,n)=>{"use strict";n.d(T,{H:()=>m});var i=n(5964),t=n(96354),l=n(23294),e=n(82777),f=n(49802);class m extends f.L{constructor(_,v,y,C,O,I){super(_,v,y,C,O,I),this.linkPath=_,this.requestService=v,this.rdbService=y,this.objectCache=C,this.halService=O,this.responseMsToLive=I}findAll(_={},v=!0,y=!0,...C){return this.findListByHref(this.getFindAllHref(_),_,v,y,...C)}getFindAllHref(_={},v,...y){const C=[];return this.getBrowseEndpoint(_).pipe((0,i.p)(I=>(0,e.hj)(I)),(0,t.T)(I=>(0,e.hj)(v)?`${I}/${v}`:I),(0,l.F)()).pipe((0,t.T)(I=>this.buildHrefFromFindOptions(I,_,C,...y)))}}},63897:(N,T,n)=>{"use strict";n.d(T,{W:()=>m});var i=n(96354),t=n(96697),l=n(25558),e=n(49802);const f=(p,_)=>`${p}/${_}`;class m extends e.L{constructor(_,v,y,C,O,I,D=f){super(_,v,y,C,O,I),this.linkPath=_,this.requestService=v,this.rdbService=y,this.objectCache=C,this.halService=O,this.responseMsToLive=I,this.constructIdEndpoint=D}findById(_,v=!0,y=!0,...C){const O=this.getIDHrefObs(encodeURIComponent(_),...C);return this.findByHref(O,v,y,...C)}getIDHref(_,v,...y){return this.buildHrefFromFindOptions(this.constructIdEndpoint(_,v),{},[],...y)}getIDHrefObs(_,...v){return this.getEndpoint().pipe((0,i.T)(y=>this.getIDHref(y,_,...v)))}invalidateById(_){const v=this.getIDHrefObs(_).pipe((0,t.s)(1),(0,l.n)(y=>this.invalidateByHref(y)));return v.subscribe(),v}}},87158:(N,T,n)=>{"use strict";n.d(T,{n:()=>_});var i=n(96354),t=n(47677),l=n(73028),e=n(82777),f=n(80183),m=n(43052),p=n(63897);class _ extends p.W{constructor(y,C,O,I,D,R,h,w){if(super(y,C,O,I,D,h,w),this.linkPath=y,this.requestService=C,this.rdbService=O,this.objectCache=I,this.halService=D,this.comparator=R,this.responseMsToLive=h,this.constructIdEndpoint=w,(0,e.Tn)(w))throw new Error(`PatchDataImpl initialized without a constructIdEndpoint method (linkPath: ${y})`)}patch(y,C){const O=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)(D=>this.getIDHref(D,y.uuid))).pipe((0,t.I)(D=>(0,e.a4)(D))).subscribe(D=>{const R=new m.EA(O,D,C);(0,e.a4)(this.responseMsToLive)&&(R.responseMsToLive=this.responseMsToLive),this.requestService.send(R)}),this.rdbService.buildFromRequestUUIDAndAwait(O,()=>this.invalidateByHref(y._links.self.href))}update(y){return this.createPatchFromCache(y).pipe((0,l.Z)(C=>((0,e.hj)(C)&&this.objectCache.addPatch(y._links.self.href,C),this.findByHref(y._links.self.href,!0,!0))))}commitUpdates(y){this.requestService.commit(y)}createPatchFromCache(y){return this.findByHref(y._links.self.href,!0,!1).pipe((0,f.yd)(),(0,f.Bo)(),(0,i.T)(O=>this.comparator.diff(O,y)))}}},91967:(N,T,n)=>{"use strict";n.d(T,{W:()=>f});var i=n(82777),t=n(28580),l=n(43052),e=n(49802);class f extends e.L{constructor(p,_,v,y,C,O){super(p,_,v,y,C,O),this.linkPath=p,this.requestService=_,this.rdbService=v,this.objectCache=y,this.halService=C,this.responseMsToLive=O}put(p){const _=this.requestService.generateRequestId(),v=new t.T(p.constructor).serialize(p),y=new l.v_(_,p._links.self.href,v);return(0,i.a4)(this.responseMsToLive)&&(y.responseMsToLive=this.responseMsToLive),this.requestService.send(y),this.rdbService.buildFromRequestUUID(_)}}},35108:(N,T,n)=>{"use strict";n.d(T,{X:()=>m});var i=n(96354),t=n(5964),l=n(82777),e=n(49802);const f=(p,_)=>`${p}/search/${_}`;class m extends e.L{constructor(_,v,y,C,O,I,D=f){if(super(_,v,y,C,O,I),this.linkPath=_,this.requestService=v,this.rdbService=y,this.objectCache=C,this.halService=O,this.responseMsToLive=I,this.constructSearchEndpoint=D,(0,l.Tn)(D))throw new Error(`SearchDataImpl initialized without a constructSearchEndpoint method (linkPath: ${_})`)}searchBy(_,v={},y=!0,C=!0,...O){const I=this.getSearchByHref(_,v,...O);return this.findListByHref(I,void 0,y,C,...O)}getSearchByHref(_,v={},...y){const C=[];return this.getSearchEndpoint(_).pipe((0,i.T)(I=>this.buildHrefFromFindOptions(I,v,C,...y)))}getSearchEndpoint(_){return this.halService.getEndpoint(this.linkPath).pipe((0,t.p)(v=>(0,l.hj)(v)),(0,i.T)(v=>this.constructSearchEndpoint(v,_)))}}},42578:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BitstreamDataService:()=>J});var i=n(21626),t=n(84572),l=n(983),e=n(25558),f=n(96354),m=n(96697),p=n(47677),_=n(82777),v=n(39806),y=n(43404),C=n(67600),O=n(72734),I=n(53954),D=n(41684),R=n(4910),h=n(80183),w=n(32089),b=n(91098),P=n(13617),M=n(63897),L=n(87158),B=n(35108),U=n(4856),$=n(81443),j=n(12598),G=n(96820),z=n(43052),V=n(32473),X=n(54438);let J=(()=>{class q extends M.W{constructor(H,Y,Q,ie,oe,pe,ne,re){super("bitstreams",H,Y,Q,ie),this.requestService=H,this.rdbService=Y,this.objectCache=Q,this.halService=ie,this.bundleService=oe,this.bitstreamFormatService=pe,this.comparator=ne,this.notificationsService=re,this.searchData=new B.X(this.linkPath,H,Y,Q,ie,this.responseMsToLive),this.patchData=new L.n(this.linkPath,H,Y,Q,ie,ne,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new P.I(this.linkPath,H,Y,Q,ie,re,this.responseMsToLive,this.constructIdEndpoint)}findAllByBundle(H,Y,Q=!0,ie=!0,...oe){return this.findListByHref(H._links.bitstreams.href,Y,Q,ie,...oe)}findAllByItemAndBundleName(H,Y,Q,ie=!0,oe=!0,...pe){return this.bundleService.findByItemAndName(H,Y).pipe((0,e.n)(ne=>ne.hasSucceeded&&(0,_.a4)(ne.payload)?this.findAllByBundle(ne.payload,Q,ie,oe,...pe):ne.hasSucceeded||404!==ne.statusCode?[ne]:(0,y.CX)((0,G.g)(new w.Q,[]),(new Date).getTime())))}updateFormat(H,Y){const Q=this.requestService.generateRequestId(),ie=this.getBrowseEndpoint().pipe((0,f.T)(pe=>`${pe}/${H.id}`),(0,e.n)(pe=>this.halService.getEndpoint("format",pe))),oe=this.bitstreamFormatService.getBrowseEndpoint().pipe((0,f.T)(pe=>`${pe}/${Y.id}`));return(0,t.z)([ie,oe]).pipe((0,f.T)(([pe,ne])=>{const re=Object.create({});let Ce=new i.Lr;return Ce=Ce.append("Content-Type","text/uri-list"),re.headers=Ce,new z.v_(Q,pe,ne,re)}),(0,b.w$)(this.requestService),(0,m.s)(1)).subscribe(()=>{this.requestService.removeByHrefSubstring(H.self+"/format")}),this.rdbService.buildFromRequestUUID(Q)}findByItemHandle(H,Y,Q,ie=!0,oe=!0,...pe){const ne=[];ne.push(new I.x("handle",H)),(0,_.a4)(Y)&&ne.push(new I.x("sequenceId",Y)),(0,_.a4)(Q)&&ne.push(new I.x("filename",Q));const re=this.getSearchByHref("byItemHandle",{searchParams:ne},...pe);return this.findByHref(re,ie,oe,...pe)}getSearchByHref(H,Y,...Q){return this.searchData.getSearchByHref(H,Y,...Q)}findPrimaryBitstreamByItemAndName(H,Y,Q=!0,ie=!0,oe){return this.bundleService.findByItemAndName(H,Y,Q,ie,oe,(0,C.s)("primaryBitstream")).pipe((0,h.qD)(),(0,e.n)(pe=>pe.hasSucceeded?pe.payload.primaryBitstream.pipe((0,h.qD)(),(0,f.T)(ne=>ne.hasSucceeded?ne.payload:null)):l.w))}searchBy(H,Y,Q,ie,...oe){return this.searchData.searchBy(H,Y,Q,ie,...oe)}commitUpdates(H){this.patchData.commitUpdates(H)}patch(H,Y){return this.patchData.patch(H,Y)}update(H){return this.patchData.update(H)}createPatchFromCache(H){return this.patchData.createPatchFromCache(H)}delete(H,Y){return this.deleteData.delete(H,Y)}deleteByHref(H,Y){return this.deleteData.deleteByHref(H,Y)}removeMultiple(H){const Y=H.map(oe=>({op:"remove",path:`/bitstreams/${oe.id}`})),Q=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,p.I)(oe=>(0,_.a4)(oe))).subscribe(oe=>{const pe=new z.EA(Q,oe,Y);(0,_.a4)(this.responseMsToLive)&&(pe.responseMsToLive=this.responseMsToLive),this.requestService.send(pe)}),this.rdbService.buildFromRequestUUIDAndAwait(Q,()=>(0,t.z)(H.map(oe=>this.invalidateByHref(oe._links.self.href))))}static{this.\u0275fac=function(Y){return new(Y||q)(X.KVO(V.B),X.KVO(O.o),X.KVO(D.$),X.KVO(R.Y),X.KVO($.BundleDataService),X.KVO(U.BitstreamFormatDataService),X.KVO(j.j),X.KVO(v.I))}}static{this.\u0275prov=X.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})()},4856:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BitstreamFormatDataService:()=>M});var i=n(25499),t=n(96354),l=n(23294),e=n(88141),f=n(29679),m=n(39806),p=n(72734),_=n(41684),v=n(47797),y=n(4910),C=n(91098),O=n(13617),I=n(46787),D=n(63897),R=n(43052),h=n(32473),w=n(54438);const b=(0,i.Mz)(v.N,L=>L.bitstreamFormats),P=(0,i.Mz)(b,L=>L.selectedBitstreamFormats);let M=(()=>{class L extends D.W{constructor(U,$,j,G,z,V){super("bitstreamformats",U,$,j,G),this.requestService=U,this.rdbService=$,this.objectCache=j,this.halService=G,this.notificationsService=z,this.store=V,this.linkPath="bitstreamformats",this.findAllData=new I.H(this.linkPath,U,$,j,G,this.responseMsToLive),this.deleteData=new O.I(this.linkPath,U,$,j,G,z,this.responseMsToLive,this.constructIdEndpoint)}getUpdateEndpoint(U){return this.getBrowseEndpoint().pipe((0,t.T)($=>this.getIDHref($,U)))}getCreateEndpoint(){return this.getBrowseEndpoint()}updateBitstreamFormat(U){const $=this.requestService.generateRequestId();return this.getUpdateEndpoint(U.id).pipe((0,l.F)(),(0,t.T)(j=>new R.v_($,j,U)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}createBitstreamFormat(U){const $=this.requestService.generateRequestId();return this.getCreateEndpoint().pipe((0,t.T)(j=>new R.Qf($,j,U)),(0,C.w$)(this.requestService)).subscribe(),this.rdbService.buildFromRequestUUID($)}clearBitStreamFormatRequests(){return this.getBrowseEndpoint().pipe((0,e.M)(U=>this.requestService.removeByHrefSubstring(U)))}getSelectedBitstreamFormats(){return this.store.pipe((0,i.Lt)(P))}selectBitstreamFormat(U){this.store.dispatch(new f.hO(U))}deselectBitstreamFormat(U){this.store.dispatch(new f.Cv(U))}deselectAllBitstreamFormats(){this.store.dispatch(new f.ZU)}findByBitstream(U){return this.findByHref(U._links.format.href)}findAll(U,$,j,...G){return this.findAllData.findAll(U,$,j,...G)}delete(U,$){return this.deleteData.delete(U,$)}deleteByHref(U,$){return this.deleteData.deleteByHref(U,$)}static{this.\u0275fac=function($){return new($||L)(w.KVO(h.B),w.KVO(p.o),w.KVO(_.$),w.KVO(y.Y),w.KVO(m.I),w.KVO(i.il))}}static{this.\u0275prov=w.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},81443:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BundleDataService:()=>h});var i=n(96354),t=n(25558),l=n(96697),e=n(82777),f=n(72734),m=n(41684),p=n(4910),_=n(63897),v=n(87158),y=n(12598),C=n(1716),O=n(43052),I=n(32473),D=n(7434),R=n(54438);let h=(()=>{class w extends _.W{constructor(P,M,L,B,U){super("bundles",P,M,L,B),this.requestService=P,this.rdbService=M,this.objectCache=L,this.halService=B,this.comparator=U,this.bitstreamsEndpoint="bitstreams",this.patchData=new v.n(this.linkPath,P,M,L,B,U,this.responseMsToLive,this.constructIdEndpoint)}findAllByItem(P,M,L=!0,B=!0,...U){return this.findListByHref(P._links.bundles.href,M,L,B,...U)}findByItemAndName(P,M,L=!0,B=!0,U,...$){return this.findAllByItem(P,U??{elementsPerPage:9999},L,B,...$).pipe((0,i.T)(G=>{if((0,e.a4)(G.payload)&&(0,e.a4)(G.payload.page)){const z=G.payload.page.find(V=>V.name===M);return(0,e.a4)(z)?new C.j(G.timeCompleted,G.msToLive,G.lastUpdated,D.zE.Success,null,z,200):new C.j(G.timeCompleted,G.msToLive,G.lastUpdated,D.zE.Error,`The bundle with name ${M} was not found.`,null,404)}return G}))}getBitstreamsEndpoint(P,M){return this.getBrowseEndpoint().pipe((0,t.n)(L=>this.halService.getEndpoint(this.bitstreamsEndpoint,`${L}/${P}`)),(0,i.T)(L=>M?M.toRestUrl(L):L))}getBitstreams(P,M,...L){const B=this.getBitstreamsEndpoint(P,M);return B.pipe((0,l.s)(1)).subscribe(U=>{const $=new O.IP(this.requestService.generateRequestId(),U);this.requestService.send($,!0)}),this.rdbService.buildList(B,...L)}commitUpdates(P){this.patchData.commitUpdates(P)}patch(P,M){return this.patchData.patch(P,M)}update(P){return this.patchData.update(P)}createPatchFromCache(P){return this.patchData.createPatchFromCache(P)}static{this.\u0275fac=function(M){return new(M||w)(R.KVO(I.B),R.KVO(f.o),R.KVO(m.$),R.KVO(p.Y),R.KVO(y.j))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},6983:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CollectionDataService:()=>j});var i=n(21626),t=n(96354),l=n(25558),e=n(96697),f=n(5964),m=n(82777),p=n(4065),_=n(39806),v=n(72734),y=n(53954),C=n(41684),O=n(28580),I=n(45348),D=n(4910),R=n(80183),h=n(42578),w=n(3440),b=n(46660),P=n(12598),M=n(41023),L=n(43052),B=n(32473),U=n(54438),$=n(41780);let j=(()=>{class G extends w.x{constructor(V,X,J,q,Z,H,Y,Q,ie){super("collections",V,X,J,q,Z,H,Y),this.requestService=V,this.rdbService=X,this.objectCache=J,this.halService=q,this.comparator=Z,this.notificationsService=H,this.bitstreamDataService=Y,this.communityDataService=Q,this.translate=ie,this.errorTitle="collection.source.update.notifications.error.title",this.contentSourceError="collection.source.update.notifications.error.content"}getAuthorizedCollection(V,X={},J=!0,q=!0,...Z){return X=Object.assign({},X,{searchParams:[new y.x("query",V)]}),this.searchBy("findSubmitAuthorized",X,J,q,...Z).pipe((0,R.bD)())}getAuthorizedCollectionByEntityType(V,X,J={},q=!0,...Z){return J=Object.assign({},J,{searchParams:[new y.x("query",V),new y.x("entityType",X)]}),this.searchBy("findSubmitAuthorizedByEntityType",J,!0,q,...Z).pipe((0,R.bD)())}getAuthorizedCollectionByCommunity(V,X,J={},q=!0){return J=Object.assign({},J,{searchParams:[new y.x("uuid",V),new y.x("query",X)]}),this.searchBy("findSubmitAuthorizedByCommunity",J,q).pipe((0,R.bD)())}getAuthorizedCollectionByCommunityAndEntityType(V,X,J={},q=!0,...Z){const Y=[new y.x("uuid",V),new y.x("entityType",X)];return J=Object.assign({},J,{searchParams:Y}),this.searchBy("findSubmitAuthorizedByCommunityAndEntityType",J,!0,q,...Z).pipe((0,R.bD)())}hasAuthorizedCollection(){const X=new M._;return X.elementsPerPage=1,this.searchBy("findSubmitAuthorized",X).pipe((0,R.qD)(),(0,t.T)(J=>J?.payload?.totalElements>0))}getHarvesterEndpoint(V){return this.halService.getEndpoint(this.linkPath).pipe((0,l.n)(X=>this.halService.getEndpoint("harvester",`${X}/${V}`)))}getContentSource(V,X=!0){const J=this.getHarvesterEndpoint(V).pipe((0,m.VT)(),(0,e.s)(1));return J.subscribe(q=>{const Z=new L.IL(this.requestService.generateRequestId(),q);this.requestService.send(Z,X)}),this.rdbService.buildSingle(J)}updateContentSource(V,X){const J=this.requestService.generateRequestId(),q=new O.T(I.Z).serialize(X);return this.getHarvesterEndpoint(V).pipe((0,e.s)(1),(0,t.T)(H=>{const Y=Object.create({});let Q=new i.Lr;return Q=Q.append("Content-Type","application/json"),Y.headers=Q,new L.xu(J,H,JSON.stringify(q),Y)})).subscribe(H=>this.requestService.send(H)),this.rdbService.buildFromRequestUUID(J).pipe((0,R.qD)(),(0,t.T)(H=>H.hasFailed?(0,m.a4)(H.errorMessage)?this.notificationsService.error(this.translate.instant(this.errorTitle),422===H.statusCode?this.translate.instant(this.contentSourceError):H.errorMessage,new p.y(-1)):void 0:H),(0,m.VT)(),(0,t.T)(H=>(0,m.hj)(H.payload)?H.payload:H))}getFindByParentHref(V){return this.halService.getEndpoint("communities").pipe((0,l.n)(X=>this.halService.getEndpoint("collections",`${X}/${V}`)))}findOwningCollectionFor(V){return this.findByHref(V._links.owningCollection.href)}findMappedCollectionsFor(V,X){return this.findListByHref(V._links.mappedCollections.href,X)}getScopeCommunityHref(V){return this.communityDataService.getEndpoint().pipe((0,t.T)(X=>this.communityDataService.getIDHref(X,V.scopeID)),(0,f.p)(X=>(0,m.hj)(X)),(0,e.s)(1))}static{this.\u0275fac=function(X){return new(X||G)(U.KVO(B.B),U.KVO(v.o),U.KVO(C.$),U.KVO(D.Y),U.KVO(P.j),U.KVO(_.I),U.KVO(h.BitstreamDataService),U.KVO(b.CommunityDataService),U.KVO($.c$))}}static{this.\u0275prov=U.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})()},3440:(N,T,n)=>{"use strict";n.d(T,{x:()=>w});var i=n(84572),t=n(25558),l=n(96354),e=n(5964),f=n(23294),m=n(96697),p=n(82777),_=n(43404),v=n(80183),y=n(45663),C=n(39280),O=n(13617),I=n(46787),D=n(63897),R=n(87158),h=n(35108);class w extends D.W{constructor(P,M,L,B,U,$,j,G){super(P,M,L,B,U),this.linkPath=P,this.requestService=M,this.rdbService=L,this.objectCache=B,this.halService=U,this.comparator=$,this.notificationsService=j,this.bitstreamDataService=G,this.createData=new C.V(this.linkPath,M,L,B,U,j,this.responseMsToLive),this.findAllData=new I.H(this.linkPath,M,L,B,U,this.responseMsToLive),this.searchData=new h.X(this.linkPath,M,L,B,U,this.responseMsToLive),this.patchData=new R.n(this.linkPath,M,L,B,U,$,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new O.I(this.linkPath,M,L,B,U,j,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(P={},M=this.linkPath){if((0,p.Im)(P.scopeID))return this.halService.getEndpoint(M);{const L=this.getScopeCommunityHref(P);return this.createAndSendGetRequest(L,!0),L.pipe((0,t.n)(B=>this.rdbService.buildSingle(B)),(0,v.qD)(),(0,l.T)(B=>{if(B.hasFailed)throw new Error(`The Community with scope ${P.scopeID} couldn't be retrieved`);return B.payload._links[M]}),(0,e.p)(B=>(0,p.hj)(B)),(0,l.T)(B=>B.href),(0,f.F)())}}findByParent(P,M={},...L){const B=this.getFindByParentHref(P).pipe((0,l.T)(U=>this.buildHrefFromFindOptions(U,M)));return this.findListByHref(B,M,!0,!0,...L)}getLogoEndpoint(P){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(M=>new y.t(M,P,"logo").toString()))}deleteLogo(P){const M=P.logo;return(0,p.a4)(M)?M.pipe((0,v.qD)(),(0,t.n)(L=>L.hasFailed?(console.error(`Couldn't retrieve the logo '${P._links.logo.href}' in order to delete it.`),[L]):this.bitstreamDataService.deleteByHref(L.payload._links.self.href))):(0,_.PM)("The given object doesn't have a logo",400)}refreshCache(P){const M=this.parentCommunityUrlLookup(P);(0,p.a4)(M)&&(0,i.z)([this.findByHref(M).pipe((0,v.qD)()),this.halService.getEndpoint("communities/search/top").pipe((0,m.s)(1))]).subscribe(([L,B])=>{L.hasSucceeded&&(0,p.hj)(L.payload)&&(0,p.hj)(L.payload.id)?this.requestService.setStaleByHrefSubstring(L.payload.id):this.requestService.setStaleByHrefSubstring(B)})}parentCommunityUrlLookup(P){const M=P._links.parentCommunity;return(0,p.hj)(M)?M.href:null}create(P,...M){return this.createData.create(P,...M)}findAll(P,M,L,...B){return this.findAllData.findAll(P,M,L,...B)}searchBy(P,M,L,B,...U){return this.searchData.searchBy(P,M,L,B,...U)}commitUpdates(P){this.patchData.commitUpdates(P)}patch(P,M){return this.patchData.patch(P,M)}update(P){return this.patchData.update(P)}createPatchFromCache(P){return this.patchData.createPatchFromCache(P)}delete(P,M){return this.deleteData.delete(P,M)}deleteByHref(P,M){return this.deleteData.deleteByHref(P,M)}}},46660:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CommunityDataService:()=>R});var i=n(96354),t=n(25558),l=n(5964),e=n(96697),f=n(82777),m=n(39806),p=n(72734),_=n(41684),v=n(4910),y=n(42578),C=n(3440),O=n(12598),I=n(32473),D=n(54438);let R=(()=>{class h extends C.x{constructor(b,P,M,L,B,U,$){super("communities",b,P,M,L,B,U,$),this.requestService=b,this.rdbService=P,this.objectCache=M,this.halService=L,this.comparator=B,this.notificationsService=U,this.bitstreamDataService=$,this.topLinkPath="search/top"}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}findTop(b={},...P){return this.getEndpoint().pipe((0,i.T)(M=>`${M}/search/top`),(0,t.n)(M=>this.findListByHref(M,b,!0,!0,...P)))}getFindByParentHref(b){return this.halService.getEndpoint(this.linkPath).pipe((0,t.n)(P=>this.halService.getEndpoint("subcommunities",`${P}/${b}`)))}getScopeCommunityHref(b){return this.getEndpoint().pipe((0,i.T)(P=>this.getIDHref(P,b.scopeID)),(0,l.p)(P=>(0,f.hj)(P)),(0,e.s)(1))}static{this.\u0275fac=function(P){return new(P||h)(D.KVO(I.B),D.KVO(p.o),D.KVO(_.$),D.KVO(v.Y),D.KVO(O.j),D.KVO(m.I),D.KVO(y.BitstreamDataService))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},8917:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ConfigurationDataService:()=>p});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let p=(()=>{class _ extends e.W{constructor(y,C,O,I){super("properties",y,C,O,I),this.requestService=y,this.rdbService=C,this.objectCache=O,this.halService=I}findByPropertyName(y){return this.findById(y)}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},37419:(N,T,n)=>{"use strict";n.d(T,{Y:()=>p});var i=n(93583),t=n(21921),l=n(74850);class e{constructor(v){this.modelType=v}serialize(v){return f((0,l.Serialize)(v,this.modelType))}serializeArray(v){return f((0,l.Serialize)(v,this.modelType))}deserialize(v){if(Array.isArray(v))throw new Error("Expected a single model, use deserializeArray() instead");return(0,l.Deserialize)(v,this.modelType)}deserializeArray(v){if(!Array.isArray(v))throw new Error("Expected an Array, use deserialize() instead");return(0,l.Deserialize)(v,this.modelType)}}function f(_){const v={};for(const[y,C]of Object.entries(_))null!==C&&(v[y]=C);return v}var m=n(54438);let p=(()=>{class _{diff(y,C){const O=new e((0,t.Qt)(y.type)),I=new e((0,t.Qt)(C.type));return(0,i.UD)(O.serialize(y),I.serialize(C))}static{this.\u0275fac=function(C){return new(C||_)}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},12598:(N,T,n)=>{"use strict";n.d(T,{j:()=>f});var i=n(93583),t=n(84418),l=n.n(t),e=n(54438);let f=(()=>{class m{diff(_,v){return(0,i.UD)(this.filterUUIDsFromMetadata(_.metadata),this.filterUUIDsFromMetadata(v.metadata)).map(y=>Object.assign({},y,{path:"/metadata"+y.path}))}filterUUIDsFromMetadata(_){const v=l()(_);for(const y of Object.keys(v))for(const C of v[y])C.uuid=void 0;return v}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},13989:(N,T,n)=>{"use strict";n.r(T),n.d(T,{DSpaceObjectDataService:()=>p});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let p=(()=>{class _ extends e.W{constructor(y,C,O,I){super("dso",y,C,O,I,void 0,(D,R)=>D.replace(/{\?uuid}/,`?uuid=${R}`)),this.requestService=y,this.rdbService=C,this.objectCache=O,this.halService=I}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},49872:(N,T,n)=>{"use strict";n.d(T,{D3:()=>h,k_:()=>I});var i=n(88280),t=n(82777),l=n(21921),e=n(41684),f=n(13808),m=n(28580),p=n(69227),_=n(32089),v=n(45663),y=n(96820),C=n(43377),O=n(54438);function I(w){return(0,t.a4)(w)&&(0,t.a4)(w._links)&&(0,t.a4)(w._links.self)&&(0,t.a4)(w._links.self.href)}const R=w=>w.split("?").map(b=>b.split("&")).reduce((b,P)=>[...b,...P]);let h=(()=>{class w{constructor(P){this.objectCache=P,this.serializerConstructor=m.T}parse(P,M){let L;M=this.ensureSelfLink(P,M),P.method===C.D.GET&&(L=(0,p.tJ)(P.href));const B=this.process(M.payload,P,L);return(0,t.a4)(B)?I(B)?new f.hT(M.statusCode,B._links.self):new f.hT(M.statusCode,void 0,B):new f.hT(M.statusCode)}process(P,M,L){const B=(0,p.fW)(M.href);if((0,t.hj)(P)){if((0,t.Tn)(P)||"object"!=typeof P)return P;if(function D(w){return(0,t.a4)(w.page)&&(0,t.a4)(w.page.size)&&(0,t.a4)(w.page.totalElements)&&(0,t.a4)(w.page.totalPages)&&(0,t.a4)(w.page.number)}(P))return this.processPaginatedList(P,M,L);if(Array.isArray(P))return this.processArray(P,M);if(I(P)){const $=this.deserialize(P);return(0,t.hj)(P._embedded)&&Object.keys(P._embedded).filter(j=>P._embedded.hasOwnProperty(j)).forEach(j=>{let G=P._links[j].href;const z=B.find(V=>V.name===j);(0,t.a4)(z)&&(G=new v.t(G,`?size=${z.size}`).toString()),null==P._embedded[j]?this.addToObjectCache(null,M,P,G):I(P._embedded[j])||this.objectCache.add(P._embedded[j],(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,G),this.process(P._embedded[j],M,G)}),this.addToObjectCache($,M,P,L),$}const U={};return Object.keys(P).filter($=>P.hasOwnProperty($)).filter($=>(0,t.a4)(P[$])).forEach($=>{U[$]=this.process(P[$],M)}),U}}ensureSelfLink(P,M){const L=(0,p.tJ)(P.href);if(P.method===C.D.GET&&(0,t.a4)(M)&&(0,t.a4)(M.payload)&&(0,t.a4)(M.payload._links))if((0,t.Tn)(M.payload._links.self)||(0,t.Tn)(M.payload._links.self.href))console.warn(`The response for '${P.href}' doesn't have a self link. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}});else{const B=R(L),U=R(M.payload._links.self.href);B[0]===U[0]&&(B.some($=>!U.includes($))||U.some($=>!B.includes($)))&&(console.warn(`The response for '${L}' has the self link '${M.payload._links.self.href}'. These don't match. This could mean there's an issue with the REST endpoint`),M.payload._links=Object.assign({},M.payload._links,{self:{href:L}}))}return M}processPaginatedList(P,M,L){const B=this.processPageInfo(P);let U=P._embedded;(0,t.Tn)(U)?U=[]:Array.isArray(U)||(U=this.flattenSingleKeyObject(U));const $=this.processArray(U,M),j=(0,y.g)(B,$,!0,P._links);return this.addToObjectCache(j,M,P,L),j}processArray(P,M){let L=[];return P.forEach(B=>{L=[...L,this.process(B,M)]}),L}deserialize(P){const M=P.type,L=this.getConstructorFor(M);return(0,t.a4)(L)?new this.serializerConstructor(L).deserialize(P):(console.warn("cannot deserialize type "+M),null)}getConstructorFor(P){return(0,t.a4)(P)?(0,l.Qt)(P):null}addToObjectCache(P,M,L,B){if((0,t.a4)(P)&&!I(P)){const U=(0,t.a4)(L)&&(0,t.a4)(L.type)?L.type:"object";let $;return $=(0,t.a4)(L._embedded)?JSON.stringify(Object.assign({},L,{_embedded:"..."})):JSON.stringify(L),void console.warn(`Can't cache incomplete ${U}: ${JSON.stringify(P)}, parsed from (partial) response: ${$}`)}(0,t.a4)(P)&&B===P._links.self.href&&(B=void 0),this.objectCache.add(P,(0,t.a4)(M.responseMsToLive)?M.responseMsToLive:i.c.cache.msToLive.default,M.uuid,B)}processPageInfo(P){if((0,t.a4)(P.page)){const M=new m.T(_.Q).deserialize(P.page);return M.currentPage>=0&&Object.assign(M,{currentPage:M.currentPage+1}),M}}flattenSingleKeyObject(P){const M=Object.keys(P);if(1!==M.length)throw new Error(`Expected an object with a single key, got: ${JSON.stringify(P)}`);return P[M[0]]}isSuccessStatus(P){return P>=200&&P<300}static{this.\u0275fac=function(M){return new(M||w)(O.KVO(e.$))}}static{this.\u0275prov=O.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},30077:(N,T,n)=>{"use strict";n.d(T,{f:()=>D});var i=n(25558),t=n(96354),l=n(96697),e=n(72734),f=n(41684),m=n(4910),p=n(80183),_=n(49802),v=n(46787),y=n(35108),C=n(38096),O=n(32473),I=n(54438);let D=(()=>{class R extends _.L{constructor(w,b,P,M,L){super("entitytypes",w,b,P,M),this.requestService=w,this.rdbService=b,this.objectCache=P,this.halService=M,this.relationshipTypeService=L,this.findAllData=new v.H(this.linkPath,w,b,P,M,this.responseMsToLive),this.searchData=new y.X(this.linkPath,w,b,P,M,this.responseMsToLive)}getBrowseEndpoint(w,b){return this.halService.getEndpoint(this.linkPath)}getRelationshipTypesEndpoint(w){return this.halService.getEndpoint(this.linkPath).pipe((0,i.n)(b=>this.halService.getEndpoint("relationshiptypes",`${b}/${w}`)))}isLeftType(w,b){return w.leftType.pipe((0,p.yd)(),(0,p.Bo)(),(0,t.T)(P=>P.uuid===b.uuid))}getAllAuthorizedRelationshipType(w={}){return this.searchBy("findAllByAuthorizedCollection",w).pipe((0,p.bD)())}hasMoreThanOneAuthorized(){return this.getAllAuthorizedRelationshipType({elementsPerPage:2,currentPage:1}).pipe((0,t.T)(b=>{let P;return P=!!b.payload&&b.payload.page.length>1,P}))}getAllAuthorizedRelationshipTypeImport(w={}){return this.searchBy("findAllByAuthorizedExternalSource",w).pipe((0,p.bD)())}hasMoreThanOneAuthorizedImport(){return this.getAllAuthorizedRelationshipTypeImport({elementsPerPage:2,currentPage:1}).pipe((0,l.s)(1),(0,t.T)(b=>b?.payload?.totalElements>1))}getEntityTypeRelationships(w,b=!0,P=!0,...M){const L=this.getRelationshipTypesEndpoint(w);return this.relationshipTypeService.findListByHref(L,void 0,b,P,...M)}getEntityTypeByLabel(w){return this.halService.getEndpoint(this.linkPath).pipe((0,l.s)(1),(0,i.n)(b=>this.findByHref(b+"/label/"+w)))}findAll(w,b,P,...M){return this.findAllData.findAll(w,b,P,...M)}searchBy(w,b,P,M,...L){return this.searchData.searchBy(w,b,P,M,...L)}static{this.\u0275fac=function(b){return new(b||R)(I.KVO(O.B),I.KVO(e.o),I.KVO(f.$),I.KVO(m.Y),I.KVO(C.RelationshipTypeDataService))}}static{this.\u0275prov=I.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},57514:(N,T,n)=>{"use strict";n.d(T,{Q:()=>I});var i=n(96354),t=n(25558),l=n(23294),e=n(96697),f=n(82777),m=n(72734),p=n(41684),_=n(4910),v=n(63897),y=n(35108),C=n(32473),O=n(54438);let I=(()=>{class D extends v.W{constructor(h,w,b,P){super("externalsources",h,w,b,P),this.requestService=h,this.rdbService=w,this.objectCache=b,this.halService=P,this.searchData=new y.X(this.linkPath,h,w,b,P,this.responseMsToLive)}getBrowseEndpoint(h={},w=this.linkPath){return this.halService.getEndpoint(w)}getEntriesEndpoint(h){return this.getBrowseEndpoint().pipe((0,i.T)(w=>this.getIDHref(w,h)),(0,t.n)(w=>this.halService.getEndpoint("entries",w)))}getExternalSourceEntries(h,w,b=!0,P=!0,...M){const L=this.getEntriesEndpoint(h).pipe((0,f.VT)(),(0,l.F)(),(0,i.T)(B=>(0,f.a4)(w)?w.toRestUrl(B):B),(0,e.s)(1));return this.hasCachedErrorResponse(L).pipe((0,t.n)(B=>this.findListByHref(L,void 0,!B,P,...M)))}searchBy(h,w,b,P,...M){return this.searchData.searchBy(h,w,b,P,...M)}static{this.\u0275fac=function(w){return new(w||D)(O.KVO(C.B),O.KVO(m.o),O.KVO(p.$),O.KVO(_.Y))}}static{this.\u0275prov=O.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},65007:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AuthorizationDataService:()=>U});var i=n(7673),t=n(96354),l=n(99437),e=n(25558),f=n(82777),m=n(67600),p=n(72734),_=n(53954),v=n(41684),y=n(4910),C=n(80183),O=n(49802),I=n(35108),D=n(41023),R=n(32473),h=n(5090);class w{constructor(j,G,z){this.objectUrl=j,this.ePersonUuid=G,this.featureId=z}}var b=n(84572),B=n(54438);let U=(()=>{class $ extends O.L{constructor(G,z,V,X,J){super("authorizations",G,z,V,X),this.requestService=G,this.rdbService=z,this.objectCache=V,this.halService=X,this.siteService=J,this.linkPath="authorizations",this.searchByObjectPath="object",this.searchData=new I.X(this.linkPath,G,z,V,X,this.responseMsToLive)}invalidateAuthorizationsRequestCache(){this.requestService.setStaleByHrefSubstring(this.linkPath)}isAuthorized(G,z,V,X=!0,J=!0){return this.searchByObject(G,z,V,{},X,J,(0,m.s)("feature")).pipe((0,C.qD)(),(0,t.T)(q=>401!==q.statusCode&&(0,f.a4)(q.payload)&&(0,f.hj)(q.payload.page)?q.payload.page:[]),(0,l.W)(()=>(0,i.of)([])),($=>j=>j.pipe((0,e.n)(G=>(0,f.hj)(G)?(0,b.z)([...G.filter(z=>(0,f.a4)(z.feature)).map(z=>z.feature.pipe((0,C.ak)()))]):(0,i.of)([])),(0,t.T)(G=>G.filter(z=>z.id===$.valueOf()).length>0)))(G))}searchByObject(G,z,V,X={},J=!0,q=!0,...Z){const H=(0,i.of)(z).pipe((0,e.n)(Q=>(0,f.Tn)(Q)?this.siteService.find().pipe((0,t.T)(ie=>ie.self)):(0,i.of)(Q))),Y=H.pipe((0,t.T)(Q=>new w(Q,V,G)),(0,e.n)(Q=>this.searchBy(this.searchByObjectPath,this.createSearchOptions(Q.objectUrl,X,Q.ePersonUuid,Q.featureId),J,q,...Z)));return this.addDependency(Y,H),Y}createSearchOptions(G,z={},V,X){let J=[];return(0,f.hj)(z.searchParams)&&(J=[...z.searchParams]),J.push(new _.x("uri",G,!1)),(0,f.a4)(X)&&J.push(new _.x("feature",X)),(0,f.a4)(V)&&J.push(new _.x("eperson",V)),Object.assign(new D._,z,{searchParams:[...J]})}searchBy(G,z,V,X,...J){return this.searchData.searchBy(G,z,V,X,...J)}static{this.\u0275fac=function(z){return new(z||$)(B.KVO(R.B),B.KVO(p.o),B.KVO(v.$),B.KVO(y.Y),B.KVO(h.SiteDataService))}}static{this.\u0275prov=B.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},36673:(N,T,n)=>{"use strict";n.d(T,{i:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.CanManageGroups))},89673:(N,T,n)=>{"use strict";n.d(T,{L:()=>l});var i=n(96354),t=n(51581);const l=(e,f,m)=>(0,t.h)((p,_)=>e(p,_).pipe((0,i.T)(v=>[v])),f,m)},36329:(N,T,n)=>{"use strict";n.d(T,{Y:()=>e});var i=n(7673),t=n(3970);const e=(0,n(89673).L)(()=>(0,i.of)(t._.AdministratorOf))},51581:(N,T,n)=>{"use strict";n.d(T,{h:()=>y});var i=n(54438),t=n(7901),l=n(7673),e=n(84572),f=n(25558),m=n(67116),p=n(308),_=n(65007);const v=()=>(0,l.of)(void 0),y=(C,O=v,I=v)=>(D,R)=>{const h=(0,i.WQX)(_.AuthorizationDataService),w=(0,i.WQX)(t.Ix),b=(0,i.WQX)(m.uR);return(0,e.z)([C(D,R),O(D,R),I(D,R)]).pipe((0,f.n)(([P,M,L])=>(0,e.z)(P.map(B=>h.isAuthorized(B,M,L)))),(0,p.ci)(w,b,R.url))}},3970:(N,T,n)=>{"use strict";n.d(T,{_:()=>i});var i=function(t){return t.LoginOnBehalfOf="loginOnBehalfOf",t.AdministratorOf="administratorOf",t.CanDelete="canDelete",t.CanEditMetadata="canEditMetadata",t.WithdrawItem="withdrawItem",t.ReinstateItem="reinstateItem",t.EPersonRegistration="epersonRegistration",t.CanManageGroups="canManageGroups",t.CanManageGroup="canManageGroup",t.IsCollectionAdmin="isCollectionAdmin",t.IsCommunityAdmin="isCommunityAdmin",t.CanChangePassword="canChangePassword",t.CanDownload="canDownload",t.CanRequestACopy="canRequestACopy",t.CanManageVersions="canManageVersions",t.CanManageBitstreamBundles="canManageBitstreamBundles",t.CanManageRelationships="canManageRelationships",t.CanManageMappings="canManageMappings",t.CanManagePolicies="canManagePolicies",t.CanMakePrivate="canMakePrivate",t.CanMove="canMove",t.CanEditVersion="canEditVersion",t.CanDeleteVersion="canDeleteVersion",t.CanCreateVersion="canCreateVersion",t.CanViewUsageStatistics="canViewUsageStatistics",t.CanSendFeedback="canSendFeedback",t.CanClaimItem="canClaimItem",t.CanSynchronizeWithORCID="canSynchronizeWithORCID",t.CanSubmit="canSubmit",t.CanEditItem="canEditItem",t.CanRegisterDOI="canRegisterDOI",t.CanSubscribe="canSubscribeDso",t.CoarNotifyEnabled="coarNotifyEnabled",t.CanSeeQA="canSeeQA",t.EPersonForgotPassword="epersonForgotPassword",t}(i||{})},41023:(N,T,n)=>{"use strict";n.d(T,{_:()=>i});class i{}},70413:(N,T,n)=>{"use strict";n.r(T),n.d(T,{HrefOnlyDataService:()=>p});var i=n(72734),t=n(41684),l=n(4910),e=n(49802),f=n(32473),m=n(54438);let p=(()=>{class _{constructor(y,C,O,I){this.requestService=y,this.rdbService=C,this.objectCache=O,this.halService=I,this.dataService=new e.L(void 0,y,C,O,I)}findByHref(y,C=!0,O=!0,...I){return this.dataService.findByHref(y,C,O,...I)}findListByHref(y,C={},O=!0,I=!0,...D){return this.dataService.findListByHref(y,C,O,I,...D)}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},29326:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BaseItemDataService:()=>G,ItemDataService:()=>z});var i=n(21626),t=n(5964),l=n(96354),e=n(23294),f=n(25558),m=n(96697),p=n(47677),_=n(82777),v=n(39806),y=n(37864),C=n(72734),O=n(41684),I=n(4910),D=n(91098),R=n(45663),h=n(39280),w=n(13617),b=n(63897),P=n(87158),M=n(81443),L=n(12598),B=n(43052),U=n(32473),$=n(14410),j=n(54438);class G extends b.W{constructor(X,J,q,Z,H,Y,Q,ie,oe,pe=((ne,re)=>`${ne}/${re}`)){super(X,J,q,Z,H,void 0,pe),this.linkPath=X,this.requestService=J,this.rdbService=q,this.objectCache=Z,this.halService=H,this.notificationsService=Y,this.comparator=Q,this.browseService=ie,this.bundleService=oe,this.constructIdEndpoint=pe,this.createData=new h.V(this.linkPath,J,q,Z,H,Y,this.responseMsToLive),this.patchData=new P.n(this.linkPath,J,q,Z,H,Q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new w.I(this.linkPath,J,q,Z,H,Y,this.responseMsToLive,this.constructIdEndpoint)}getBrowseEndpoint(X={},J=this.linkPath){let q="dc.date.issued";return X.sort&&X.sort.field&&(q=X.sort.field),this.browseService.getBrowseURLFor(q,J).pipe((0,t.p)(Z=>(0,_.hj)(Z)),(0,l.T)(Z=>new R.t(Z,`?scope=${X.scopeID}`).toString()),(0,e.F)())}getMappedCollectionsEndpoint(X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(q=>this.getIDHref(q,X)),(0,l.T)(q=>`${q}/mappedCollections${J?`/${J}`:""}`))}removeMappingFromCollection(X,J){return this.getMappedCollectionsEndpoint(X,J).pipe((0,_.VT)(),(0,e.F)(),(0,l.T)(q=>new B.$(this.requestService.generateRequestId(),q)),(0,D.w$)(this.requestService),(0,f.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)))}mapToCollection(X,J){return this.getMappedCollectionsEndpoint(X).pipe((0,_.VT)(),(0,e.F)(),(0,l.T)(q=>{const Z=Object.create({});let H=new i.Lr;return H=H.append("Content-Type","text/uri-list"),Z.headers=H,new B.Qf(this.requestService.generateRequestId(),q,J,Z)}),(0,D.w$)(this.requestService),(0,f.n)(q=>this.rdbService.buildFromRequestUUID(q.uuid)))}setWithDrawn(X,J){const q={op:"replace",path:"/withdrawn",value:J};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[q])}setDiscoverable(X,J){const q={op:"replace",path:"/discoverable",value:J};return this.requestService.removeByHrefSubstring("/discover"),this.patch(X,[q])}getBundlesEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("bundles",`${J}/${X}`)))}getBundles(X,J){const q=this.getBundlesEndpoint(X).pipe((0,l.T)(Z=>J?J.toRestUrl(Z):Z));return q.pipe((0,m.s)(1)).subscribe(Z=>{const H=new B.IP(this.requestService.generateRequestId(),Z);this.requestService.send(H)}),this.rdbService.buildList(q)}createBundle(X,J,q){const Z=this.requestService.generateRequestId(),H=this.getBundlesEndpoint(X),Y={name:J,metadata:q||{}};return H.pipe((0,m.s)(1)).subscribe(Q=>{const ie=Object.create({});let oe=new i.Lr;oe=oe.append("Content-Type","application/json"),ie.headers=oe;const pe=new B.Qf(Z,Q,JSON.stringify(Y),ie);this.requestService.send(pe)}),this.rdbService.buildFromRequestUUID(Z)}getIdentifiersEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("identifiers",`${J}/${X}`)))}getMoveItemEndpoint(X,J){return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(q=>this.getIDHref(q,X)),(0,l.T)(q=>`${q}/owningCollection?inheritPolicies=${J}`))}moveToCollection(X,J,q){const Z=Object.create({});let H=new i.Lr;H=H.append("Content-Type","text/uri-list"),Z.headers=H;const Y=this.requestService.generateRequestId();return this.getMoveItemEndpoint(X,q).pipe((0,p.I)(ie=>(0,_.a4)(ie)),(0,l.T)(ie=>{const oe=new B.v_(Y,ie,J._links.self.href,Z);return Object.assign(oe,{getResponseParser:()=>$.M}),oe})).subscribe(ie=>{this.requestService.send(ie)}),this.rdbService.buildFromRequestUUID(Y)}importExternalSourceEntry(X,J){const q=Object.create({});let Z=new i.Lr;Z=Z.append("Content-Type","text/uri-list"),q.headers=Z;const H=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,l.T)(Q=>`${Q}?owningCollection=${J}`)).pipe((0,p.I)(Q=>(0,_.a4)(Q)),(0,l.T)(Q=>{const ie=new B.Qf(H,Q,X._links.self.href,q);this.requestService.send(ie)})).subscribe(),this.rdbService.buildFromRequestUUID(H)}getBitstreamsEndpoint(X){return this.halService.getEndpoint(this.linkPath).pipe((0,f.n)(J=>this.halService.getEndpoint("bitstreams",`${J}/${X}`)))}invalidateItemCache(X){this.requestService.setStaleByHrefSubstring("item/"+X)}commitUpdates(X){this.patchData.commitUpdates(X)}patch(X,J){return this.patchData.patch(X,J)}update(X){return this.patchData.update(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}delete(X,J){return this.deleteData.delete(X,J)}deleteByHref(X,J){return this.deleteData.deleteByHref(X,J)}create(X,...J){return this.createData.create(X,...J)}}let z=(()=>{class V extends G{constructor(J,q,Z,H,Y,Q,ie,oe){super("items",J,q,Z,H,Y,Q,ie,oe),this.requestService=J,this.rdbService=q,this.objectCache=Z,this.halService=H,this.notificationsService=Y,this.comparator=Q,this.browseService=ie,this.bundleService=oe}static{this.\u0275fac=function(q){return new(q||V)(j.KVO(U.B),j.KVO(C.o),j.KVO(O.$),j.KVO(I.Y),j.KVO(v.I),j.KVO(L.j),j.KVO(y.q),j.KVO(M.BundleDataService))}}static{this.\u0275prov=j.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},57568:(N,T,n)=>{"use strict";n.d(T,{c:()=>V});var i=n(92771),t=n(30017),l=n(98071),e=n(21413),f=n(58750),m=n(39974),p=n(71985);const v={connector:()=>new e.B};var O=n(77048),I=n(79131),D=n(9326),R=n(22806),w=n(96697),b=n(96354),P=n(99172),M=n(23294),L=n(23401),B=n(33550),U=n(80183),$=n(78655),j=n(57514),G=n(32473),z=n(54438);let V=(()=>{class X{constructor(q,Z,H){this.externalSourceService=q,this.searchService=Z,this.requestService=H,this.singleResultOptions=Object.assign(new L.W,{id:"single-result-options",pageSize:1})}getLocalResults(q,Z,H=!0){const Y=Object.assign(new B.C({}),Z,{fixedFilter:q.filter,configuration:q.searchConfiguration});return H&&(this.searchConfig=Y),this.searchService.search(Y).pipe(function C(X,J){const q=(0,l.T)(X)?X:()=>X;return(0,l.T)(J)?function y(X,J=v){const{connector:q}=J;return(0,m.N)((Z,H)=>{const Y=q();(0,f.Tg)(X(function _(X){return new p.c(J=>X.subscribe(J))}(Y))).subscribe(H),H.add(Z.subscribe(Y))})}(J,{connector:q}):Z=>new t.G(Z,q)}(()=>new i.m(1),Q=>Q.pipe((0,O.v)(ie=>ie.isLoading),function h(...X){const J=(0,D.lI)(X);return(0,m.N)((q,Z)=>{(0,I.K)()((0,R.H)([q,...X],J)).subscribe(Z)})}(Q.pipe((0,w.s)(1))))))}getTotalLocalResults(q,Z){return this.getLocalResults(q,Object.assign(new B.C({}),Z,{pagination:this.singleResultOptions}),!1).pipe((0,U.v7)(),(0,U.Bo)(),(0,b.T)(H=>H.totalElements),(0,P.Z)(0))}getTotalExternalResults(q,Z){return this.externalSourceService.getExternalSourceEntries(q.id,Object.assign(new B.C({}),Z,{pagination:this.singleResultOptions})).pipe((0,U.v7)(),(0,U.Bo)(),(0,b.T)(H=>H.totalElements),(0,P.Z)(0),(0,M.F)())}removeLocalResultsCache(){this.searchService.getEndpoint().subscribe(q=>this.requestService.removeByHrefSubstring(q))}static{this.\u0275fac=function(Z){return new(Z||X)(z.KVO(j.Q),z.KVO($.S),z.KVO(G.B))}}static{this.\u0275prov=z.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}}return X})()},25103:(N,T,n)=>{"use strict";n.d(T,{B:()=>i});var i=function(t){return t[t.UPDATE=0]="UPDATE",t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t}(i||{})},16105:(N,T,n)=>{"use strict";n.d(T,{Ft:()=>t,KD:()=>m,S3:()=>y,XO:()=>e,Y8:()=>_,g$:()=>l,jX:()=>v,mW:()=>O,nY:()=>f,wS:()=>p,zJ:()=>C});var i=n(91e3);const t={INITIALIZE_FIELDS:(0,i.N)("dspace/core/cache/object-updates/INITIALIZE_FIELDS"),SET_EDITABLE_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_EDITABLE_FIELD"),SET_VALID_FIELD:(0,i.N)("dspace/core/cache/object-updates/SET_VALID_FIELD"),ADD_FIELD:(0,i.N)("dspace/core/cache/object-updates/ADD_FIELD"),SELECT_VIRTUAL_METADATA:(0,i.N)("dspace/core/cache/object-updates/SELECT_VIRTUAL_METADATA"),DISCARD:(0,i.N)("dspace/core/cache/object-updates/DISCARD"),REINSTATE:(0,i.N)("dspace/core/cache/object-updates/REINSTATE"),REMOVE:(0,i.N)("dspace/core/cache/object-updates/REMOVE"),REMOVE_ALL:(0,i.N)("dspace/core/cache/object-updates/REMOVE_ALL"),REMOVE_FIELD:(0,i.N)("dspace/core/cache/object-updates/REMOVE_FIELD")};class l{constructor(D,R,h,w){this.type=t.INITIALIZE_FIELDS,this.payload={url:D,fields:R,lastModified:h,patchOperationService:w}}}class e{constructor(D,R,h){this.type=t.ADD_FIELD,this.payload={url:D,field:R,changeType:h}}}class f{constructor(D,R,h,w){this.type=t.SELECT_VIRTUAL_METADATA,this.payload={url:D,source:R,uuid:h,select:w}}}class m{constructor(D,R,h){this.type=t.SET_EDITABLE_FIELD,this.payload={url:D,uuid:R,editable:h}}}class p{constructor(D,R,h){this.type=t.SET_VALID_FIELD,this.payload={url:D,uuid:R,isValid:h}}}class _{constructor(D,R,h=!1){this.type=t.DISCARD,this.payload={url:D,notification:R,discardAll:h}}}class v{constructor(D){this.type=t.REINSTATE,this.payload={url:D}}}class y{constructor(D){this.type=t.REMOVE,this.payload={url:D}}}class C{constructor(){this.type=t.REMOVE_ALL}}class O{constructor(D,R){this.type=t.REMOVE_FIELD,this.payload={url:D,uuid:R}}}},66898:(N,T,n)=>{"use strict";n.d(T,{O:()=>_,U:()=>e});var i=n(82777),t=n(25103),l=n(16105);const e="/trash",f={editable:!1,isNew:!1,isValid:!0},m={editable:!0,isNew:!0,isValid:void 0},p=Object.create(null);function _(U=p,$){switch($.type){case l.Ft.INITIALIZE_FIELDS:return function v(U,$){const j=$.payload.url,z=$.payload.lastModified,V=$.payload.patchOperationService,X=function B(U){const $=U.map(G=>G.uuid),j={};return $.forEach(G=>j[G]=f),j}($.payload.fields),J=Object.assign({},U[j],{fieldStates:X},{fieldUpdates:{}},{virtualMetadataSources:{}},{lastModified:z},{patchOperationService:V});return Object.assign({},U,{[j]:J})}(U,$);case l.Ft.ADD_FIELD:return function y(U,$){const j=$.payload.url,G=$.payload.field,z=$.payload.changeType,V=U[j]||{fieldUpdates:{}};let X=V.fieldStates;z===t.B.ADD&&(X=Object.assign({},{[G.uuid]:m},V.fieldStates));let J=V.fieldUpdates[G.uuid]||{};const q=function P(U,$){return(0,i.Tn)($)?U:(0,i.Tn)(U)?$:U.valueOf()>$.valueOf()?U:$}(J.changeType,z);J=Object.assign({},{field:G,changeType:q});const Z=Object.assign({},V.fieldUpdates,{[G.uuid]:J}),H=Object.assign({},V,{fieldStates:X},{fieldUpdates:Z});return Object.assign({},U,{[j]:H})}(U,$);case l.Ft.SELECT_VIRTUAL_METADATA:return function C(U,$){const j=$.payload.url,G=$.payload.source,X=U[j]||{},J=Object.assign({},X.virtualMetadataSources[G],{[$.payload.uuid]:$.payload.select}),q=Object.assign({},X.virtualMetadataSources,{[G]:J}),Z=Object.assign({},X,{virtualMetadataSources:q});return Object.assign({},U,{[j]:Z})}(U,$);case l.Ft.DISCARD:return function O(U,$){if($.payload.discardAll){let j=Object.assign({},U);return Object.keys(U).filter(G=>!G.endsWith(e)).forEach(G=>{j=I(G,j)}),j}return I($.payload.url,U)}(U,$);case l.Ft.REINSTATE:return function D(U,$){const j=$.payload.url,z=Object.assign({},U,{[j]:U[j+e]});return delete z[j+e],z}(U,$);case l.Ft.REMOVE:return function R(U,$){return function h(U,$){const j=Object.assign({},U);return delete j[$+e],j}(U,$.payload.url)}(U,$);case l.Ft.REMOVE_ALL:return function w(U){const $=Object.assign({},U);return Object.keys(U).filter(j=>j.endsWith(e)).forEach(j=>{delete $[j]}),$}(U);case l.Ft.REMOVE_FIELD:return function b(U,$){const j=$.payload.url,G=$.payload.uuid;let z=U[j];if((0,i.a4)(z)){const V=Object.assign({},z.fieldUpdates);(0,i.a4)(V[G])&&delete V[G];const X=Object.assign({},z.fieldStates);(0,i.a4)(X[G])&&(X[G].isNew?delete X[G]:X[G]=Object.assign({},X[G],{editable:!1,isValid:!0})),z=Object.assign({},U[j],{fieldUpdates:V,fieldStates:X})}return Object.assign({},U,{[j]:z})}(U,$);case l.Ft.SET_EDITABLE_FIELD:return function M(U,$){const j=$.payload.url,G=$.payload.uuid,V=U[j],J=Object.assign({},V.fieldStates[G],{editable:$.payload.editable}),q=Object.assign({},V.fieldStates,{[G]:J}),Z=Object.assign({},V,{fieldStates:q});return Object.assign({},U,{[j]:Z})}(U,$);case l.Ft.SET_VALID_FIELD:return function L(U,$){const j=$.payload.url,G=$.payload.uuid,V=U[j],J=Object.assign({},V.fieldStates[G],{isValid:$.payload.isValid}),q=Object.assign({},V.fieldStates,{[G]:J}),Z=Object.assign({},V,{fieldStates:q});return Object.assign({},U,{[j]:Z})}(U,$);default:return U}}function I(U,$){const j=$[U],G={};Object.keys(j.fieldStates).forEach(V=>{const X=j.fieldStates[V];X.isNew||(G[V]=Object.assign({},X,{editable:!1,isValid:!0}))});const z=Object.assign({},j,{fieldUpdates:{},fieldStates:G});return Object.assign({},$,{[U]:z},{[U+e]:j})}},96820:(N,T,n)=>{"use strict";n.d(T,{O:()=>C,g:()=>y});var i=n(31635),t=n(74850),l=n(82777),e=n(21921),f=n(56970),m=n(32089),p=n(42547),_=n(98688),v=n(74346);const y=(O,I,D=!1,R)=>{const h=new C;let w;return(0,l.Tn)(O)&&(O=new m.Q),h.pageInfo=O,(0,l.Im)(I)?w=[]:(w=I.map(b=>(0,l.a4)(b)&&(0,l.a4)(b._links)&&(0,l.a4)(b._links.self)?b._links.self:null),w.every(b=>(0,l.Tn)(b))&&(w=void 0)),h._links=Object.assign({},R,O._links,{page:w}),(!D||(0,l.b0)(w))&&(h.page=I),h};let C=class extends f.I{constructor(){super(...arguments),this.type=v.v}static{this.type=v.v}get elementsPerPage(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.elementsPerPage)?this.pageInfo.elementsPerPage:this.getPageLength()}set elementsPerPage(I){this.pageInfo.elementsPerPage=I}get totalElements(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.totalElements)?this.pageInfo.totalElements:this.getPageLength()}set totalElements(I){this.pageInfo.totalElements=I}get totalPages(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.totalPages)?this.pageInfo.totalPages:1}set totalPages(I){this.pageInfo.totalPages=I}get currentPage(){return(0,l.a4)(this.pageInfo)&&(0,l.a4)(this.pageInfo.currentPage)?this.pageInfo.currentPage:1}set currentPage(I){this.pageInfo.currentPage=I}get first(){if((0,l.a4)(this._links.first)&&(0,l.a4)(this._links.first.href))return this._links.first.href}set first(I){this._links.first={href:I},this.pageInfo._links.first={href:I}}get prev(){if((0,l.a4)(this._links.prev)&&(0,l.a4)(this._links.prev.href))return this._links.prev.href}set prev(I){this._links.prev={href:I},this.pageInfo._links.prev={href:I}}get next(){if((0,l.a4)(this._links.next)&&(0,l.a4)(this._links.next.href))return this._links.next.href}set next(I){this._links.next={href:I},this.pageInfo._links.next={href:I}}get last(){if((0,l.a4)(this._links.last)&&(0,l.a4)(this._links.last.href))return this._links.last.href}set last(I){this._links.last={href:I},this.pageInfo._links.last={href:I}}get self(){return this._links.self.href}set self(I){this._links.self={href:I},this.pageInfo._links.self={href:I}}getPageLength(){return Array.isArray(this.page)?this.page.length:0}};(0,i.Cg)([_.aK,(0,i.Sn)("design:type",Object)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",p.v)],C.prototype,"objectType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",m.Q)],C.prototype,"pageInfo",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([e.gV],C)},74346:(N,T,n)=>{"use strict";n.d(T,{v:()=>t});const t=new(n(42547).v)("paginated-list")},32736:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BATCH_EXPORT_SCRIPT_NAME:()=>w,BATCH_IMPORT_SCRIPT_NAME:()=>h,METADATA_EXPORT_SCRIPT_NAME:()=>R,METADATA_IMPORT_SCRIPT_NAME:()=>D,ScriptDataService:()=>b});var i=n(96697),t=n(96354),l=n(82777),e=n(72734),f=n(41684),m=n(4910),p=n(80183),_=n(45663),v=n(46787),y=n(63897),C=n(43052),O=n(32473),I=n(54438);const D="metadata-import",R="metadata-export",h="import",w="export";let b=(()=>{class P extends y.W{constructor(L,B,U,$){super("scripts",L,B,U,$),this.requestService=L,this.rdbService=B,this.objectCache=U,this.halService=$,this.findAllData=new v.H(this.linkPath,L,B,U,$,this.responseMsToLive)}invoke(L,B,U){const $=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,i.s)(1),(0,t.T)(j=>new _.t(j,L,"processes").toString()),(0,t.T)(j=>{const G=this.getInvocationFormData(B,U);return new C.E0($,j,G)})).subscribe(j=>this.requestService.send(j)),this.rdbService.buildFromRequestUUID($)}getInvocationFormData(L,B){const U=new FormData;return U.set("properties",JSON.stringify(L)),B.forEach($=>{U.append("file",$)}),U}scriptWithNameExistsAndCanExecute(L){return this.findById(L).pipe((0,p.qD)(),(0,t.T)(B=>(0,l.a4)(B.payload)))}findAll(L,B,U,...$){return this.findAllData.findAll(L,B,U,...$)}static{this.\u0275fac=function(B){return new(B||P)(I.KVO(O.B),I.KVO(e.o),I.KVO(f.$),I.KVO(m.Y))}}static{this.\u0275prov=I.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},48833:(N,T,n)=>{"use strict";n.r(T),n.d(T,{RelationshipDataService:()=>ue});var i=n(21626),t=n(25499),l=n(84572),e=n(7673),f=n(96354),m=n(96697),p=n(23294),_=n(25558),v=n(88141),y=n(5964),C=n(99172),O=n(73028),I=n(82640),D=n(72352),R=n(46588),h=n(82777),w=n(94337),b=n(67600),P=n(49656),M=n(72734),L=n(53954),B=n(41684),U=n(5410),$=n(4910),j=n(67359),G=n(93498),z=n(90424),V=n(80183),X=n(91098),J=n(63897),q=n(91967),Z=n(35108),H=n(41023),Y=n(29326),Q=n(43052),ie=n(32473),oe=n(7434),pe=n(54438);const ne=ae=>ae.relationshipLists,re=ae=>(0,D.pc)(ae,ne),Ee=ae=>ye=>ye.pipe((0,V.ak)(),(0,f.T)(De=>De.uuid===ae.uuid));let ue=(()=>{class ae extends J.W{constructor(De,tt,_t,We,dt,it,Ge,gt,Pe){super("relationships",De,tt,We,_t,9e5),this.requestService=De,this.rdbService=tt,this.halService=_t,this.objectCache=We,this.metadataService=dt,this.itemService=it,this.appStore=Ge,this.paginatedRelationsToItems=gt,this.appConfig=Pe,this.searchData=new Z.X(this.linkPath,De,tt,We,_t,this.responseMsToLive),this.putData=new q.W(this.linkPath,De,tt,We,_t,this.responseMsToLive)}getRelationshipEndpoint(De){return this.getBrowseEndpoint().pipe((0,f.T)(tt=>`${tt}/${De}`))}deleteRelationship(De,tt,_t=!0){return this.getRelationshipEndpoint(De).pipe((0,h.VT)(),(0,m.s)(1),(0,p.F)(),(0,f.T)(We=>new Q.$(this.requestService.generateRequestId(),We+"?copyVirtualMetadata="+tt)),(0,X.w$)(this.requestService),(0,_.n)(We=>this.rdbService.buildFromRequestUUID(We.uuid)),(0,V.qD)(),(0,v.M)(()=>{_t&&this.refreshRelationshipItemsInCacheByRelationship(De)}))}addRelationship(De,tt,_t,We,dt,it=!0){const Ge=Object.create({});let gt=new i.Lr;return gt=gt.append("Content-Type","text/uri-list"),Ge.headers=gt,this.halService.getEndpoint(this.linkPath).pipe((0,h.VT)(),(0,m.s)(1),(0,f.T)(Pe=>`${Pe}?relationshipType=${De}`),(0,f.T)(Pe=>(0,h.hj)(We)?`${Pe}&leftwardValue=${We}`:Pe),(0,f.T)(Pe=>(0,h.hj)(dt)?`${Pe}&rightwardValue=${dt}`:Pe),(0,f.T)(Pe=>new Q.Qf(this.requestService.generateRequestId(),Pe,`${tt.self} \n ${_t.self}`,Ge)),(0,X.w$)(this.requestService),(0,_.n)(Pe=>this.rdbService.buildFromRequestUUID(Pe.uuid)),(0,V.qD)(),(0,v.M)(()=>{it&&(this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(_t))}))}refreshRelationshipItemsInCacheByRelationship(De){this.findById(De,!0,!1,(0,b.s)("leftItem"),(0,b.s)("rightItem")).pipe((0,V.yd)(),(0,V.Bo)(),(0,_.n)(tt=>(0,l.z)(tt.leftItem.pipe((0,V.yd)(),(0,V.Bo)()),tt.rightItem.pipe((0,V.yd)(),(0,V.Bo)()))),(0,m.s)(1)).subscribe(([tt,_t])=>{this.refreshRelationshipItemsInCache(tt),this.refreshRelationshipItemsInCache(_t)})}refreshRelationshipItemsInCache(De){this.objectCache.remove(De._links.self.href),this.requestService.removeByHrefSubstring(De.uuid),(0,l.z)([this.objectCache.hasByHref$(De._links.self.href),this.requestService.hasByHref$(De.self)]).pipe((0,y.p)(([tt,_t])=>!tt&&!_t),(0,m.s)(1)).subscribe(()=>this.itemService.findByHref(De._links.self.href))}getItemRelationshipsArray(De,...tt){return this.findListByHref(De._links.relationships.href,void 0,!0,!1,...tt).pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)(_t=>_t.page),(0,h.Az)(),(0,p.F)((0,R.W2)()))}getRelationshipTypeLabelsByItem(De){return this.getItemRelationshipsArray(De,(0,b.s)("leftItem"),(0,b.s)("rightItem"),(0,b.s)("relationshipType")).pipe((0,_.n)(tt=>(0,l.z)(tt.map(_t=>this.getRelationshipTypeLabelByRelationshipAndItem(_t,De)))),(0,f.T)(tt=>Array.from(new Set(tt))))}getRelationshipTypeLabelByRelationshipAndItem(De,tt){return De.leftItem.pipe((0,V.yd)(),(0,f.T)(_t=>_t.payload),(0,_.n)(_t=>De.relationshipType.pipe((0,V.yd)(),(0,f.T)(We=>We.payload),(0,f.T)(We=>_t.uuid===tt.uuid?We.leftwardType:We.rightwardType))))}getRelatedItems(De){return this.getItemRelationshipsArray(De,(0,b.s)("leftItem"),(0,b.s)("rightItem"),(0,b.s)("relationshipType")).pipe((0,R.NG)(De.uuid))}getRelatedItemsByLabel(De,tt,_t){const We=(0,P.nW)(_t.fetchThumbnail,this.appConfig.item.showAccessStatuses);return We.push((0,b.s)("relationshipType")),this.getItemRelationshipsByLabel(De,tt,_t,!0,!0,...We).pipe(this.paginatedRelationsToItems(De.uuid))}getItemRelationshipsByLabel(De,tt,_t,We=!0,dt=!0,...it){let Ge=new H._;_t&&(Ge=Object.assign(new H._,_t));const gt=[new L.x("label",tt),new L.x("dso",De.id)];Ge.searchParams=Ge.searchParams?[...Ge.searchParams,...gt]:gt;const Pe=this.searchBy("byLabel",Ge,We,!1,...it);return this.addDependency(Pe,De._links.self.href),Pe.pipe(this.reRequestStaleRemoteData(dt,()=>this.getItemRelationshipsByLabel(De,tt,_t,We,dt,...it)))}getRelationshipsByRelatedItemIds(De,tt){return this.getItemRelationshipsArray(De,(0,b.s)("leftItem"),(0,b.s)("rightItem")).pipe((0,_.n)(_t=>(0,l.z)(_t.map(We=>{const dt=this.isItemInUUIDArray(We.leftItem,tt),it=this.isItemInUUIDArray(We.rightItem,tt);return(0,l.z)([dt,it]).pipe((0,y.p)(([Ge,gt])=>Ge||gt),(0,f.T)(()=>We),(0,C.Z)(void 0))}))),(0,f.T)(_t=>_t.filter(We=>(0,h.a4)(We))))}isItemInUUIDArray(De,tt){return De.pipe((0,V.yd)(),(0,f.T)(_t=>_t.payload),(0,f.T)(_t=>tt.includes(_t.uuid)))}getRelationshipByItemsAndLabel(De,tt,_t,We){return this.getItemRelationshipsByLabel(De,_t,We,!0,!1,(0,b.s)("relationshipType"),(0,b.s)("leftItem"),(0,b.s)("rightItem")).pipe((0,V.yd)(),(0,O.Z)(dt=>dt.payload.page),(0,O.Z)(dt=>(0,l.z)([this.itemService.findByHref(dt._links.leftItem.href).pipe(Ee(tt)),this.itemService.findByHref(dt._links.rightItem.href).pipe(Ee(tt))]).pipe((0,f.T)(([it,Ge])=>it||Ge),(0,f.T)(it=>it?dt:void 0))),(0,y.p)(dt=>(0,h.a4)(dt)),(0,m.s)(1))}setNameVariant(De,tt,_t){this.appStore.dispatch(new w.dD(De,tt,_t))}getNameVariant(De,tt){return this.appStore.pipe((0,t.Lt)(((ae,ye)=>(0,D.pc)(ye,re(ae)))(De,tt)))}removeNameVariant(De,tt){this.appStore.dispatch(new w.zH(De,tt))}getNameVariantsByListID(De){return this.appStore.pipe((0,t.Lt)(re(De)))}updateNameVariant(De,tt,_t,We){return this.getRelationshipByItemsAndLabel(De,tt,_t).pipe((0,_.n)(dt=>dt.relationshipType.pipe((0,V.yd)(),(0,V.Bo)(),(0,f.T)(it=>({relation:dt,type:it})))),(0,_.n)(dt=>{const{relation:it,type:Ge}=dt;let gt;return gt=Object.assign(new j.b,it,_t===Ge.leftwardType?{rightwardValue:We}:{leftwardValue:We}),this.update(gt)}))}isLeftItem(De,tt){return De.leftItem.pipe((0,V.yd)(),(0,V.Bo)(),(0,y.p)(_t=>(0,h.a4)(_t)&&(0,h.hj)(_t.uuid)),(0,f.T)(_t=>_t.uuid===tt.uuid))}updatePlace(De){let tt;tt=Object.assign(new j.b,De.relationship,De.useLeftItem?{rightPlace:De.newIndex}:{leftPlace:De.newIndex});const _t=this.update(tt);return _t.pipe((0,y.p)(We=>We.state===oe.zE.ResponsePending),(0,m.s)(1)).subscribe(We=>{We.state===oe.zE.ResponsePending&&this.refreshRelationshipItemsInCacheByRelationship(De.relationship.id)}),_t}update(De){return this.putData.put(De)}searchByItemsAndType(De,tt,_t,We){const dt=[new L.x("typeId",De),new L.x("focusItem",tt),new L.x("relationshipLabel",_t),new L.x("size",We.length),new L.x("embed","leftItem"),new L.x("embed","rightItem")];We.forEach(Ge=>{dt.push(new L.x("relatedItem",Ge))});const it=this.searchBy("byItemsAndType",{searchParams:dt});return We.forEach(Ge=>{this.addDependency(it,this.itemService.getIDHrefObs(encodeURIComponent(Ge)))}),it}searchBy(De,tt,_t,We,...dt){return this.searchData.searchBy(De,tt,_t,We,...dt)}resolveMetadataRepresentation(De,tt,_t){return this.metadataService.isVirtual(De)?this.findById(this.metadataService.virtualValue(De),!0,!1,(0,b.s)("leftItem"),(0,b.s)("rightItem")).pipe((0,V.yd)(),(0,_.n)(We=>(0,l.z)(We.payload.leftItem,We.payload.rightItem).pipe((0,y.p)(([dt,it])=>dt.hasCompleted&&it.hasCompleted),(0,f.T)(([dt,it])=>dt.hasSucceeded&&it.hasSucceeded?it.hasSucceeded&&dt.payload.id===tt.id?it.payload:it.payload.id===tt.id?dt.payload:void 0:null),(0,f.T)(dt=>(0,h.a4)(dt)?Object.assign(new G.y(De),dt):Object.assign(new z.Q(_t),De))))):(0,e.of)(Object.assign(new z.Q(_t),De))}static{this.\u0275fac=function(tt){return new(tt||ae)(pe.KVO(ie.B),pe.KVO(M.o),pe.KVO($.Y),pe.KVO(B.$),pe.KVO(U.T),pe.KVO(Y.ItemDataService),pe.KVO(t.il),pe.KVO(R.ky),pe.KVO(I.vQ))}}static{this.\u0275prov=pe.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})()},38096:(N,T,n)=>{"use strict";n.r(T),n.d(T,{RelationshipTypeDataService:()=>P});var i=n(84572),t=n(25558),l=n(73028),e=n(56594),f=n(96354),m=n(82777),p=n(67600),_=n(72734),v=n(53954),y=n(41684),C=n(4910),O=n(80183),I=n(49802),D=n(46787),R=n(35108),h=n(32473),w=n(54438);const b=(M,L)=>M.hasSucceeded&&M.payload.label===L;let P=(()=>{class M extends I.L{constructor(B,U,$,j){super("relationshiptypes",B,U,$,j),this.requestService=B,this.rdbService=U,this.objectCache=$,this.halService=j,this.searchData=new R.X(this.linkPath,B,U,$,j,this.responseMsToLive),this.findAllData=new D.H(this.linkPath,B,U,$,j,this.responseMsToLive)}getRelationshipTypeByLabelAndTypes(B,U,$){return this.findAllData.findAll({currentPage:1,elementsPerPage:9999},!0,!0,(0,p.s)("leftType"),(0,p.s)("rightType")).pipe((0,O.yd)(),(0,t.n)(j=>j.payload.page),(0,l.Z)(j=>j.leftwardType===B?this.checkType(j,U,$):j.rightwardType===B?this.checkType(j,$,U):[null]),(0,e.$)(),(0,f.T)(j=>{const G=j.find(z=>(0,m.a4)(z));return(0,m.a4)(G)?G:null}))}checkType(B,U,$){return(0,i.z)([B.leftType.pipe((0,O.qD)()),B.rightType.pipe((0,O.qD)())]).pipe((0,f.T)(([j,G])=>b(j,U)&&b(G,$)?B:null))}searchByEntityType(B,U=!0,$=!0,...j){return this.searchData.searchBy("byEntityType",{searchParams:[new v.x("type",B),new v.x("size",100)]},U,$,...j).pipe((0,O.yd)(),(0,O.Bo)())}static{this.\u0275fac=function(U){return new(U||M)(w.KVO(h.B),w.KVO(_.o),w.KVO(y.$),w.KVO(C.Y))}}static{this.\u0275prov=w.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},1716:(N,T,n)=>{"use strict";n.d(T,{j:()=>t});var i=n(7434);class t{constructor(e,f,m,p,_,v,y){this.timeCompleted=e,this.msToLive=f,this.lastUpdated=m,this.state=p,this.errorMessage=_,this.payload=v,this.statusCode=y}get isRequestPending(){return(0,i.DB)(this.state)}get isResponsePending(){return(0,i.vT)(this.state)}get isError(){return(0,i.bJ)(this.state)}get isSuccess(){return(0,i.oJ)(this.state)}get isErrorStale(){return(0,i.uN)(this.state)}get isSuccessStale(){return(0,i.DF)(this.state)}get isLoading(){return(0,i.VP)(this.state)}get hasFailed(){return(0,i.WN)(this.state)}get hasSucceeded(){return(0,i.yO)(this.state)}get hasCompleted(){return(0,i.Uj)(this.state)}get isStale(){return(0,i.QO)(this.state)}get hasNoContent(){return 204===this.statusCode}}},7434:(N,T,n)=>{"use strict";n.d(T,{DB:()=>t,DF:()=>m,QO:()=>I,Uj:()=>O,VP:()=>v,WN:()=>y,bJ:()=>l,oJ:()=>e,uN:()=>f,vT:()=>p,yO:()=>C,zE:()=>i});var i=function(D){return D.RequestPending="RequestPending",D.ResponsePending="ResponsePending",D.Error="Error",D.Success="Success",D.ResponsePendingStale="ResponsePendingStale",D.ErrorStale="ErrorStale",D.SuccessStale="SuccessStale",D}(i||{});const t=D=>D===i.RequestPending,l=D=>D===i.Error,e=D=>D===i.Success,f=D=>D===i.ErrorStale,m=D=>D===i.SuccessStale,p=D=>D===i.ResponsePending,_=D=>D===i.ResponsePendingStale,v=D=>t(D)||p(D)||_(D),y=D=>{if(!v(D))return l(D)||f(D)},C=D=>{if(!v(D))return e(D)||m(D)},O=D=>!v(D),I=D=>_(D)||m(D)||f(D)},10524:(N,T,n)=>{"use strict";n.d(T,{G:()=>i});class i extends Error{}},96393:(N,T,n)=>{"use strict";n.d(T,{Di:()=>m,Gl:()=>p,HL:()=>_,PW:()=>f,cX:()=>v,tO:()=>t,uw:()=>e});var i=n(91e3);const t={CONFIGURE:(0,i.N)("dspace/core/data/request/CONFIGURE"),EXECUTE:(0,i.N)("dspace/core/data/request/EXECUTE"),SUCCESS:(0,i.N)("dspace/core/data/request/SUCCESS"),ERROR:(0,i.N)("dspace/core/data/request/ERROR"),STALE:(0,i.N)("dspace/core/data/request/STALE"),RESET_TIMESTAMPS:(0,i.N)("dspace/core/data/request/RESET_TIMESTAMPS"),REMOVE:(0,i.N)("dspace/core/data/request/REMOVE")};class l{constructor(){this.lastUpdated=(new Date).getTime()}}class e extends l{constructor(O){super(),this.type=t.CONFIGURE,this.payload=O}}class f extends l{constructor(O){super(),this.type=t.EXECUTE,this.payload=O}}class m extends l{constructor(O,I,D,R){super(),this.type=t.SUCCESS,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:I,link:D,unCacheableObject:R}}}class p extends l{constructor(O,I,D){super(),this.type=t.ERROR,this.payload={uuid:O,timeCompleted:(new Date).getTime(),statusCode:I,errorMessage:D}}}class _ extends l{constructor(O){super(),this.type=t.STALE,this.payload={uuid:O}}}class v{constructor(O){this.type=t.RESET_TIMESTAMPS,this.payload=O}}},43052:(N,T,n)=>{"use strict";n.d(T,{FQ:()=>oe,IL:()=>ye,QU:()=>ae,Dk:()=>tt,$:()=>H,ld:()=>ne,IP:()=>X,Wx:()=>z,E0:()=>q,WP:()=>dt,EA:()=>ie,Qf:()=>J,v_:()=>Z,Rn:()=>Ce,e$:()=>Ee,aY:()=>ue,Iu:()=>re,_w:()=>We,$I:()=>_t,xu:()=>De});var i=n(68552),t=n(41684),l=n(13808),e=n(51538),f=n(54438);let m=(()=>{class it extends e.aE{constructor(gt){super(),this.objectCache=gt,this.toCache=!1}parse(gt,Pe){if(this.isSuccessStatus(Pe.statusCode))return new l.hT(Pe.statusCode);throw new Error("Unexpected response from server")}static{this.\u0275fac=function(Pe){return new(Pe||it)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})();var p=n(82777),_=n(87369),v=n(55451),y=n(393),C=n(98277),O=n(70035),I=n(50800),D=n(7654),R=n(49872);let h=(()=>{class it extends R.D3{constructor(gt){super(gt),this.objectCache=gt}deserialize(gt){const Pe=gt.browseType;if(gt.type===_.z.value&&(0,p.a4)(Pe)){let we;if(Pe===O.L.value)we=new this.serializerConstructor(C.R);else if(Pe===y.z.value)we=new this.serializerConstructor(v.P);else{if(Pe!==D.o.value)throw new Error("An error occurred while retrieving the browse definitions.");we=new this.serializerConstructor(I.f)}return we.deserialize(gt)}throw new Error("An error occurred while retrieving the browse definitions.")}static{this.\u0275fac=function(Pe){return new(Pe||it)(f.KVO(t.$))}}static{this.\u0275prov=f.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})();var w=n(28580),b=n(45348);class P{}let M=(()=>{class it extends R.D3{parse(gt,Pe){const we=Pe.payload,vt=new w.T(b.Z).deserialize(we);let at=[];return we._embedded&&we._embedded.harvestermetadata&&we._embedded.harvestermetadata.configs&&(at=new w.T(P).serializeArray(we._embedded.harvestermetadata.configs)),vt.metadataConfigs=at,this.addToObjectCache(vt,gt,Pe),new l.hT(Pe.statusCode,vt._links.self)}static{this.\u0275fac=(()=>{let gt;return function(we){return(gt||(gt=f.xGo(it)))(we||it)}})()}static{this.\u0275prov=f.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})();var L=n(88280),B=n(21921);let U=(()=>{class it extends R.D3{parse(gt,Pe){try{Pe=this.ensureSelfLink(gt,Pe);const we=this.process(Pe.payload,gt);if((0,p.a4)(we)){const vt=we.type;let at;return(0,p.a4)(vt)&&(at=(0,B.Qt)(vt)),(0,R.k_)(we)&&(0,p.a4)(at)?new l.hT(Pe.statusCode,we._links.self):new l.hT(Pe.statusCode,void 0,we)}return new l.hT(Pe.statusCode)}catch{return console.warn(`Couldn't parse endpoint request at ${gt.href}`),new l.hT(Pe.statusCode,void 0,{_links:Pe.payload._links})}}deserialize(gt){const Pe=gt.type;if((0,p.a4)(Pe)){const we=(0,B.Qt)(Pe);if((0,p.a4)(we))return new this.serializerConstructor(we).deserialize(gt)}return gt}addToObjectCache(gt,Pe,we,vt){if(!(0,R.k_)(gt)){const at=(0,p.a4)(we)&&(0,p.a4)(we.type)?we.type:"object";let nt;return nt=(0,p.a4)(we._embedded)?JSON.stringify(Object.assign({},we,{_embedded:"..."})):JSON.stringify(we),void console.warn(`Can't cache incomplete ${at}: ${JSON.stringify(gt)}, parsed from (partial) response: ${nt}`)}(0,p.a4)(this.getConstructorFor(gt.type))&&this.objectCache.add(gt,(0,p.a4)(Pe.responseMsToLive)?Pe.responseMsToLive:L.c.cache.msToLive.default,Pe.uuid,vt)}static{this.\u0275fac=(()=>{let gt;return function(we){return(gt||(gt=f.xGo(it)))(we||it)}})()}static{this.\u0275prov=f.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}}return it})();var $=n(43377);class j{constructor(Ge,gt,Pe=$.D.GET,we,vt){this.uuid=Ge,this.href=gt,this.method=Pe,this.body=we,this.options=vt,this.responseMsToLive=L.c.cache.msToLive.default,this.isMultipart=!1}}class G extends j{}var z=function(it){return it.UUID="uuid",it.HANDLE="handle",it}(z||{});class V extends G{getResponseParser(){return R.D3}}class X extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.GET,Pe,we),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}}class J extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.POST,Pe),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}}class q extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.POST,Pe),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we,this.isMultipart=!0}}class Z extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.PUT,Pe),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}}class H extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.DELETE,Pe),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}}class ie extends V{constructor(Ge,gt,Pe,we){super(Ge,gt,$.D.PATCH,Pe),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}}class oe extends V{getResponseParser(){return h}}class ne extends X{getResponseParser(){return U}}class re extends X{constructor(Ge,gt){super(Ge,gt)}getResponseParser(){return i.BE}}class Ce extends H{constructor(Ge,gt){super(Ge,gt),this.uuid=Ge,this.href=gt}getResponseParser(){return i.BE}}class Ee extends ie{constructor(Ge,gt,Pe){super(Ge,gt,Pe),this.uuid=Ge,this.href=gt,this.body=Pe}getResponseParser(){return i.BE}}class ue extends J{constructor(Ge,gt,Pe,we){super(Ge,gt,Pe,we),this.uuid=Ge,this.href=gt,this.body=Pe,this.options=we}getResponseParser(){return i.BE}}class ae extends J{constructor(Ge,gt,Pe,we){super(Ge,gt,Pe,we),this.body=Pe,this.options=we}}class ye extends X{constructor(Ge,gt){super(Ge,gt)}getResponseParser(){return M}}class De extends Z{constructor(Ge,gt,Pe,we){super(Ge,gt,Pe,we),this.body=Pe,this.options=we}getResponseParser(){return M}}class tt extends H{constructor(Ge,gt,Pe){super(Ge,gt),this.resourceID=Pe}}class _t extends J{constructor(Ge,gt,Pe,we){super(Ge,gt,Pe,we),this.body=Pe,this.options=we}getResponseParser(){return m}}class We extends H{constructor(Ge,gt,Pe,we){super(Ge,gt,Pe,we),this.body=Pe,this.options=we}getResponseParser(){return m}}class dt extends X{constructor(){super(...arguments),this.responseMsToLive=1e4}}},32473:(N,T,n)=>{"use strict";n.d(T,{B:()=>q});var i=n(21626),t=n(25499),l=n(84418),e=n.n(l),f=n(25007),m=n(22806),p=n(96697),_=n(96354),v=n(88141),y=n(25558),C=n(73028),O=n(47677),I=n(56594),D=n(5964),R=n(82777),h=n(41684),w=n(78394),b=n(47797),P=n(69227),M=n(96393),L=n(7434),B=n(43377),U=n(54438),$=n(30164);const j=(0,t.Mz)(b.N,Z=>Z["data/request"]),J=Z=>{if((0,R.Tn)(Z))return!1;if((0,L.VP)(Z.state))return!0;if((0,L.QO)(Z.state))return!1;{const H=Z.response.timeCompleted+Z.request.responseMsToLive;return!((new Date).getTime()>H)}};let q=(()=>{class Z{constructor(Y,Q,ie){this.objectCache=Y,this.uuidService=Q,this.store=ie,this.requestsOnTheirWayToTheStore=[]}generateRequestId(){return`client/${this.uuidService.generate()}`}isPending(Y){if(Y.method!==B.D.GET)return!1;if(this.requestsOnTheirWayToTheStore.includes(Y.href))return!0;let Q=!1;return this.getByHref(Y.href).pipe((0,p.s)(1)).subscribe(ie=>{Q=(0,R.a4)(ie)&&(0,L.VP)(ie.state)&&!(0,L.QO)(ie.state)}),Q}getByUUID(Y){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(j,H=>(0,R.a4)(H)?H[Z]:void 0))(Y)),this.fixRequestHeaders(),this.checkStale())}fixRequestHeaders(){return Y=>Y.pipe((0,_.T)(Q=>((0,R.a4)(Q)&&(0,R.a4)(Q.request)&&(0,R.a4)(Q.request.options)&&(0,R.a4)(Q.request.options.headers)&&((Q=e()(Q)).request.options.headers=Object.assign(new i.Lr,Q.request.options.headers)),Q)))}checkStale(){return Y=>Y.pipe((0,v.M)(Q=>{(0,R.a4)(Q)&&(0,R.a4)(Q.request)&&!(0,L.QO)(Q.state)&&!J(Q)&&f.$.schedule(()=>this.store.dispatch(new M.HL(Q.request.uuid)))}))}getByHref(Y){return this.store.pipe((0,t.Lt)((Z=>(0,t.Mz)(P.bS,j,(H,Y)=>{let Q;if((0,R.a4)(H))return Q=H[(0,P.tJ)(Z)],(0,R.a4)(Y)?Y[Q]:void 0}))(Y)),this.fixRequestHeaders(),this.checkStale())}send(Y,Q=!1){return Q&&Y.method!==B.D.GET&&console.warn(`${JSON.stringify(Y,null,2)} is not a GET request. In general only GET requests should reuse cached data.`),!!this.shouldDispatchRequest(Y,Q)&&(this.dispatchRequest(Y),Y.method===B.D.GET&&this.trackRequestsOnTheirWayToTheStore(Y),!0)}uriEncodeBody(Y){let Q="";return(0,R.hj)(Y)&&"object"==typeof Y&&Object.keys(Y).forEach(ie=>{const oe=encodeURIComponent(ie);if(Array.isArray(Y[ie]))for(const pe of Y[ie]){const re=`${oe}=${encodeURIComponent(pe)}`;Q=(0,R.Im)(Q)?Q.concat(re):Q.concat("&",re)}else{const ne=`${oe}=${encodeURIComponent(Y[ie])}`;Q=(0,R.Im)(Q)?Q.concat(ne):Q.concat("&",ne)}}),Q}removeByHrefSubstring(Y){return this.setStaleByHrefSubstring(Y)}setStaleByHrefSubstring(Y){const Q=this.store.pipe((0,t.Lt)(((Z,H)=>(0,t.Mz)(Z,Y=>((Z,H)=>{let Y=[];return(0,R.hj)(Z)&&(Y=Object.keys(Z).filter(Q=>Q.includes(H)).map(Q=>Z[Q])),Y})(Y,H)))(P.bS,Y)),(0,p.s)(1));return Q.subscribe(ie=>{for(const oe of ie)this.store.dispatch(new M.HL(oe))}),this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ie=>ie.indexOf(Y)<0),Q.pipe((0,y.n)(ie=>(0,R.Im)(ie)?[!0]:(0,m.H)(ie).pipe((0,C.Z)(oe=>this.getByUUID(oe)),(0,_.T)(oe=>(0,R.Tn)(oe)||(0,L.QO)(oe.state)),(0,O.I)(oe=>!0===oe),(0,I.$)(),(0,_.T)(()=>!0))))}setStaleByUUID(Y){return this.store.dispatch(new M.HL(Y)),this.getByUUID(Y).pipe((0,_.T)(Q=>(0,L.QO)(Q.state)),(0,D.p)(Q=>Q),(0,p.s)(1))}setStaleByHref(Y){const Q=this.getByHref(Y);return Q.pipe((0,D.p)(ie=>(0,R.hj)(ie)),(0,_.T)(ie=>ie.request.uuid),(0,p.s)(1)).subscribe(ie=>{this.store.dispatch(new M.HL(ie))}),Q.pipe((0,_.T)(ie=>(0,L.QO)(ie.state)),(0,D.p)(ie=>ie),(0,p.s)(1))}shouldDispatchRequest(Y,Q){if(Y.method!==B.D.GET)return!0;if(this.isPending(Y))return!1;if(Q){const ie=(0,P.tJ)(Y.href);if(!0===this.hasByHref(ie))return!1;{let oe=!1;return this.objectCache.getByHref(ie).subscribe(pe=>{oe=this.hasByUUID(pe.requestUUIDs[0])}).unsubscribe(),!oe}}return!0}dispatchRequest(Y){f.$.schedule(()=>{this.store.dispatch(new M.uw(Y)),this.store.dispatch(new M.PW(Y.uuid))})}trackRequestsOnTheirWayToTheStore(Y){this.requestsOnTheirWayToTheStore=[...this.requestsOnTheirWayToTheStore,Y.href],this.getByHref(Y.href).pipe((0,D.p)(Q=>(0,R.a4)(Q)&&(0,R.a4)(Q.request)&&Q.request.uuid===Y.uuid),(0,p.s)(1)).subscribe(Q=>{this.requestsOnTheirWayToTheStore=this.requestsOnTheirWayToTheStore.filter(ie=>ie!==Y.href)})}commit(Y){this.store.dispatch(new w.eR(Y))}hasByHref(Y,Q=!0){let ie=!1;return this.hasByHref$(Y,Q).subscribe(oe=>ie=oe).unsubscribe(),ie}hasByHref$(Y,Q=!0){return this.getByHref(Y).pipe((0,_.T)(ie=>Q?J(ie):(0,R.a4)(ie)))}hasByUUID(Y,Q=!0){let ie=!1;return this.hasByUUID$(Y,Q).subscribe(oe=>ie=oe).unsubscribe(),ie}hasByUUID$(Y,Q=!0){return this.getByUUID(Y).pipe((0,_.T)(ie=>Q?J(ie):(0,R.a4)(ie)))}static{this.\u0275fac=function(Q){return new(Q||Z)(U.KVO(h.$),U.KVO($.v),U.KVO(t.il))}}static{this.\u0275prov=U.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},43377:(N,T,n)=>{"use strict";n.d(T,{D:()=>i});var i=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS",t.HEAD="HEAD",t.PATCH="PATCH",t}(i||{})},29443:(N,T,n)=>{"use strict";n.r(T),n.d(T,{RootDataService:()=>C});var i=n(7673),t=n(99437),l=n(96354),e=n(72734),f=n(41684),m=n(4910),p=n(80183),_=n(49802),v=n(32473),y=n(54438);let C=(()=>{class O extends _.L{constructor(D,R,h,w){super("",D,R,h,w,216e5),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=w}checkServerAvailability(){return this.findRoot().pipe((0,t.W)(D=>(console.error(D),(0,i.of)(!1))),(0,p.qD)(),(0,l.T)(D=>200===D.statusCode))}findRoot(D=!0,R=!0,...h){return this.findByHref(this.halService.getRootHref(),D,R,...h)}invalidateRootCache(){this.requestService.setStaleByHref(this.halService.getRootHref())}static{this.\u0275fac=function(R){return new(R||O)(y.KVO(v.B),y.KVO(e.o),y.KVO(f.$),y.KVO(m.Y))}}static{this.\u0275prov=y.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},44701:(N,T,n)=>{"use strict";n.d(T,{z:()=>_});var i=n(82777),t=n(1102),l=n(13808),e=n(28580),f=n(14391),m=n(49872),p=n(54438);let _=(()=>{class v extends m.D3{parse(C,O){const D=O.payload._embedded.searchResult||{_embedded:{objects:[]}};D.appliedFilters=O.payload.appliedFilters,D.sort=O.payload.sort,D.scope=O.payload.scope,D.configuration=O.payload.configuration;const R=D._embedded.objects.map(P=>P.hitHighlights).map(P=>{const M={};if(P)for(const L of Object.keys(P)){const B=Object.assign(new f.vD,{value:P[L].join("..."),language:null});M[L]=[B]}return M}),h=D._embedded.objects.filter(P=>(0,i.a4)(P._embedded)).map(P=>P._embedded.indexableObject).map(P=>this.process(P,C)).map(P=>P._links.self.href).reduce((P,M)=>[...P,M],[]),w=D._embedded.objects.filter(P=>(0,i.a4)(P._embedded)).map((P,M)=>Object.assign({},P,{indexableObject:h[M],hitHighlights:R[M]}));D.objects=w;const b=new e.T(t.n).deserialize(D);return b.pageInfo=this.processPageInfo(D),this.addToObjectCache(b,C,O),new l.hT(O.statusCode,b._links.self)}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=p.xGo(v)))(I||v)}})()}static{this.\u0275prov=p.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},5090:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SiteDataService:()=>y});var i=n(96354),t=n(72734),l=n(41684),e=n(4910),f=n(80183),m=n(49802),p=n(46787),_=n(32473),v=n(54438);let y=(()=>{class C extends m.L{constructor(I,D,R,h){super("sites",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.findAllData=new p.H(this.linkPath,I,D,R,h,this.responseMsToLive)}find(){return this.findAll().pipe((0,f.yd)(),(0,i.T)(I=>I.payload),(0,i.T)(I=>I.page[0]))}findAll(I,D,R,...h){return this.findAllData.findAll(I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||C)(v.KVO(_.B),v.KVO(t.o),v.KVO(l.$),v.KVO(e.Y))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},14410:(N,T,n)=>{"use strict";n.d(T,{M:()=>l});var i=n(13808),t=n(54438);let l=(()=>{class e{parse(m,p){return new i.Ku(p.statusCode>=200&&p.statusCode<300,p.statusCode,p.statusText)}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},27795:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SystemWideAlertDataService:()=>O});var i=n(39806),t=n(72734),l=n(41684),e=n(4910),f=n(39280),m=n(46787),p=n(63897),_=n(91967),v=n(35108),y=n(32473),C=n(54438);let O=(()=>{class I extends p.W{constructor(R,h,w,b,P){super("systemwidealerts",R,h,w,b),this.requestService=R,this.rdbService=h,this.objectCache=w,this.halService=b,this.notificationsService=P,this.findAllData=new m.H(this.linkPath,R,h,w,b,this.responseMsToLive),this.createData=new f.V(this.linkPath,R,h,w,b,P,this.responseMsToLive),this.putData=new _.W(this.linkPath,R,h,w,b,this.responseMsToLive),this.searchData=new v.X(this.linkPath,R,h,w,b,this.responseMsToLive)}findAll(R,h,w,...b){return this.findAllData.findAll(R,h,w,...b)}create(R,...h){return this.createData.create(R,...h)}put(R){return this.putData.put(R)}searchBy(R,h,w,b,...P){return this.searchData.searchBy(R,h,w,b,...P)}static{this.\u0275fac=function(h){return new(h||I)(C.KVO(y.B),C.KVO(t.o),C.KVO(l.$),C.KVO(e.Y),C.KVO(i.I))}}static{this.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},52749:(N,T,n)=>{"use strict";n.r(T),n.d(T,{WorkflowActionDataService:()=>p});var i=n(72734),t=n(41684),l=n(4910),e=n(63897),f=n(32473),m=n(54438);let p=(()=>{class _ extends e.W{constructor(y,C,O,I){super("workflowactions",y,C,O,I),this.requestService=y,this.rdbService=C,this.objectCache=O,this.halService=I,this.linkPath="workflowactions"}static{this.\u0275fac=function(C){return new(C||_)(m.KVO(f.B),m.KVO(i.o),m.KVO(t.$),m.KVO(l.Y))}}static{this.\u0275prov=m.jDH({token:_,factory:_.\u0275fac,providedIn:"root"})}}return _})()},53778:(N,T,n)=>{"use strict";n.d(T,{Y:()=>y});var i=n(21626),t=n(18810),l=n(96354),e=n(99437),f=n(82777),m=n(10524),p=n(43377),_=n(54438);const v="application/json; charset=utf-8";let y=(()=>{class C{constructor(I){this.http=I}get(I){const D={observe:"response",headers:new i.Lr({"Content-Type":v})};return this.http.get(I,D).pipe((0,l.T)(R=>({payload:R.body,statusCode:R.status,statusText:R.statusText})),(0,e.W)(R=>(0,t.$)(()=>(console.log("Error: ",R),this.handleHttpError(R)))))}request(I,D,R,h,w){const b={};return b.body=R,I===p.D.POST&&(0,f.hj)(R)&&(0,f.hj)(R.name)&&(b.body=this.buildFormData(R)),b.observe="response",h&&h.responseType&&(b.responseType=h.responseType),b.headers=(0,f.Tn)(h)||(0,f.Tn)(h.headers)?new i.Lr:h.headers,h&&h.params&&(b.params=h.params),h&&h.withCredentials&&(b.withCredentials=h.withCredentials),!b.headers.has("Content-Type")&&!w&&(b.headers=b.headers.set("Content-Type",v)),this.http.request(I,D,b).pipe((0,l.T)(P=>({payload:P.body,headers:P.headers,statusCode:P.status,statusText:P.statusText})),(0,e.W)(P=>(0,t.$)(()=>this.handleHttpError(P))))}buildFormData(I){const D=new FormData;if(D.append("name",I.name),I.metadata)for(const R of Object.keys(I.metadata))for(const h of I.allMetadataValues(R))D.append(R,h);return D}handleHttpError(I){if(I instanceof i.yz){const D=new m.G((0,f.hj)(I?.error?.message)?I.error.message:I.message);return D.statusCode=I.status,D.statusText=I.statusText,D}return console.error("Cannot construct RequestError from",I),I}static{this.\u0275fac=function(D){return new(D||C)(_.KVO(i.Qq))}}static{this.\u0275prov=_.jDH({token:C,factory:C.\u0275fac})}}return C})()},28580:(N,T,n)=>{"use strict";n.d(T,{T:()=>t});var i=n(74850);class t{constructor(e){this.modelType=e}serialize(e){return(0,i.Serialize)(e,this.modelType)}serializeArray(e){return(0,i.Serialize)(e,this.modelType)}deserialize(e){if(Array.isArray(e))throw new Error("Expected a single model, use deserializeArray() instead");return(0,i.Deserialize)(e,this.modelType)}deserializeArray(e){if(!Array.isArray(e))throw new Error("Expected an Array, use deserialize() instead");return(0,i.Deserialize)(e,this.modelType)}}},17366:(N,T,n)=>{"use strict";n.d(T,{e:()=>m});var i=n(54438),t=n(7901),l=n(7673),e=n(88280),f=n(308);const m=p=>(_,v)=>{const y=(0,i.WQX)(t.Ix);return e.c.info.enableEndUserAgreement?p().pipe((0,f.gM)(y,v.url)):(0,l.of)(!0)}},3636:(N,T,n)=>{"use strict";n.d(T,{GH:()=>I,Mk:()=>O});var i=n(7673),t=n(25558),l=n(96354),e=n(96697),f=n(82777),m=n(67116),p=n(74449),_=n(93130),v=n(80183),y=n(54438);const C="hasAgreedEndUser",O="dspace.agreements.end-user";let I=(()=>{class D{constructor(h,w,b){this.cookie=h,this.authService=w,this.ePersonService=b}hasCurrentUserOrCookieAcceptedAgreement(h){return this.isCookieAccepted()?(0,i.of)(!0):this.hasCurrentUserAcceptedAgreement(h)}hasCurrentUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,l.T)(b=>(0,f.a4)(b)&&b.hasMetadata(O)&&"true"===b.firstMetadata(O).value)):(0,i.of)(h)))}setUserAcceptedAgreement(h){return this.authService.isAuthenticated().pipe((0,t.n)(w=>w?this.authService.getAuthenticatedUserFromStore().pipe((0,e.s)(1),(0,t.n)(b=>{const P={value:String(h)};let M;return M=b.hasMetadata(O)?{op:"replace",path:`/metadata/${O}/0`,value:P}:{op:"add",path:`/metadata/${O}`,value:[P]},this.ePersonService.patch(b,[M])}),(0,v.qD)(),(0,l.T)(b=>b.hasSucceeded)):(this.setCookieAccepted(h),(0,i.of)(!0))),(0,e.s)(1))}isCookieAccepted(){return!0===this.cookie.get(C)}setCookieAccepted(h){this.cookie.set(C,h)}removeCookieAccepted(){this.cookie.remove(C)}static{this.\u0275fac=function(w){return new(w||D)(y.KVO(_.O),y.KVO(m.uR),y.KVO(p.EPersonDataService))}}static{this.\u0275prov=y.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},74449:(N,T,n)=>{"use strict";n.r(T),n.d(T,{EPersonDataService:()=>X,editEPersonSelector:()=>V});var i=n(25499),t=n(96354),l=n(96697),e=n(47677),f=n(25093),m=n(19353),p=n(82777),_=n(39806),v=n(72734),y=n(53954),C=n(41684),O=n(39280),I=n(13617),D=n(63897),R=n(87158),h=n(35108),w=n(12598),b=n(41023),P=n(96820),M=n(1716),L=n(43052),B=n(32473),U=n(4910),$=n(80183),j=n(32089),G=n(54438);const V=(0,i.Mz)(J=>J.epeopleRegistry,J=>J.editEPerson);let X=(()=>{class J extends D.W{constructor(Z,H,Y,Q,ie,oe,pe){super("epersons",Z,H,Y,Q),this.requestService=Z,this.rdbService=H,this.objectCache=Y,this.halService=Q,this.comparator=ie,this.notificationsService=oe,this.store=pe,this.searchByEmailPath="byEmail",this.searchByMetadataPath="byMetadata",this.createData=new O.V(this.linkPath,Z,H,Y,Q,oe,this.responseMsToLive),this.searchData=new h.X(this.linkPath,Z,H,Y,Q,this.responseMsToLive),this.patchData=new R.n(this.linkPath,Z,H,Y,Q,ie,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,Z,H,Y,Q,oe,this.responseMsToLive,this.constructIdEndpoint)}searchByScope(Z,H,Y={},Q,ie=!0){switch(Z){case"metadata":default:return this.getEpeopleByMetadata(H.trim(),Y,Q,ie);case"email":return this.getEPersonByEmail(H.trim(),Q,ie).pipe((0,t.T)(oe=>{if(oe.hasSucceeded){let pe;return pe=204===oe.statusCode||(0,p.Tn)(oe.payload)?[]:[oe.payload],new M.j(oe.timeCompleted,oe.msToLive,oe.lastUpdated,oe.state,oe.errorMessage,(0,P.g)(new j.Q({elementsPerPage:Y.elementsPerPage,totalElements:pe.length,totalPages:pe.length,currentPage:1}),pe),oe.statusCode)}return oe}))}}getEPersonByEmail(Z,H=!0,Y=!0,...Q){const ie=new b._;ie.searchParams=[new y.x("email",Z)];const oe=this.searchData.getSearchByHref(this.searchByEmailPath,ie,...Q);return this.findByHref(oe,H,Y,...Q)}getEpeopleByMetadata(Z,H,Y=!0,Q=!0,...ie){const oe=[new y.x("query",Z)];return this.getEPeopleBy(oe,this.searchByMetadataPath,H,Y,Q,...ie)}getEPeopleBy(Z,H,Y,Q=!0,ie=!0,...oe){let pe=new b._;return Y&&(pe=Object.assign(new b._,Y)),pe.searchParams=pe.searchParams?[...pe.searchParams,...Z]:Z,this.searchBy(H,pe,Q,ie,...oe)}searchNonMembers(Z,H,Y,Q=!0,ie=!0,...oe){const pe=[new y.x("query",Z),new y.x("group",H)];let ne=new b._;return Y&&(ne=Object.assign(new b._,Y)),ne.searchParams=ne.searchParams?[...ne.searchParams,...pe]:pe,this.searchBy("isNotMemberOf",ne,Q,ie,...oe)}updateEPerson(Z){const H=this.requestService.generateRequestId();return this.findByHref(Z._links.self.href,!0,!1).pipe((0,$.yd)(),(0,$.Bo)(),(0,l.s)(1)).subscribe(Q=>{const ie=this.generateOperations(Q,Z),oe=new L.EA(H,Z._links.self.href,ie);return this.requestService.send(oe)}),this.rdbService.buildFromRequestUUID(H)}generateOperations(Z,H){let Y=this.comparator.diff(Z,H).filter(Q=>"replace"===Q.op);return(0,p.a4)(Z.email)&&Z.email!==H.email&&(Y=[...Y,{op:"replace",path:"/email",value:H.email}]),(0,p.a4)(Z.requireCertificate)&&Z.requireCertificate!==H.requireCertificate&&(Y=[...Y,{op:"replace",path:"/certificate",value:H.requireCertificate}]),(0,p.a4)(Z.canLogIn)&&Z.canLogIn!==H.canLogIn&&(Y=[...Y,{op:"replace",path:"/canLogIn",value:H.canLogIn}]),Y}clearEPersonRequests(){this.getBrowseEndpoint().pipe((0,l.s)(1)).subscribe(Z=>{this.requestService.removeByHrefSubstring(Z)})}clearLinkRequests(Z){this.requestService.setStaleByHrefSubstring(Z)}getActiveEPerson(){return this.store.pipe((0,i.Lt)(V))}cancelEditEPerson(){this.store.dispatch(new m.oQ)}editEPerson(Z){this.store.dispatch(new m._c(Z))}deleteEPerson(Z){return this.delete(Z.id)}startEditingNewEPerson(Z){return this.getActiveEPerson().pipe((0,l.s)(1)).subscribe(H=>{Z===H?this.cancelEditEPerson():this.editEPerson(Z)}),(0,f.Ax)(Z.id)}createEPersonForToken(Z,H){const Y=this.requestService.generateRequestId();return this.getBrowseEndpoint().pipe((0,t.T)(ie=>`${ie}?token=${H}`)).pipe((0,e.I)(ie=>(0,p.a4)(ie))).subscribe(ie=>{const oe=new L.Qf(Y,ie,Z);this.requestService.send(oe)}),this.rdbService.buildFromRequestUUID(Y)}patchPasswordWithToken(Z,H,Y){const Q=this.requestService.generateRequestId(),ie=Object.assign({op:"add",path:"/password",value:{new_password:Y}});return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(pe=>this.getIDHref(pe,Z)),(0,t.T)(pe=>`${pe}?token=${H}`)).pipe((0,e.I)(pe=>(0,p.a4)(pe))).subscribe(pe=>{const ne=new L.EA(Q,pe,[ie]);this.requestService.send(ne)}),this.rdbService.buildFromRequestUUID(Q)}create(Z,...H){return this.createData.create(Z,...H)}searchBy(Z,H,Y,Q,...ie){return this.searchData.searchBy(Z,H,Y,Q,...ie)}createPatchFromCache(Z){return this.patchData.createPatchFromCache(Z)}patch(Z,H){return this.patchData.patch(Z,H)}update(Z){return this.patchData.update(Z)}commitUpdates(Z){this.patchData.commitUpdates(Z)}delete(Z,H){return this.deleteData.delete(Z,H)}deleteByHref(Z,H){return this.deleteData.deleteByHref(Z,H)}static{this.\u0275fac=function(H){return new(H||J)(G.KVO(B.B),G.KVO(v.o),G.KVO(C.$),G.KVO(U.Y),G.KVO(w.j),G.KVO(_.I),G.KVO(i.il))}}static{this.\u0275prov=G.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})()},44494:(N,T,n)=>{"use strict";n.r(T),n.d(T,{GroupDataService:()=>z});var i=n(21626),t=n(25499),l=n(44437),e=n(96697),f=n(25093),m=n(85255),p=n(39806),_=n(96526),v=n(72734),y=n(53954),C=n(41684),O=n(39280),I=n(13617),D=n(63897),R=n(87158),h=n(35108),w=n(12598),b=n(41023),P=n(43052),M=n(32473),L=n(4910),B=n(80183),U=n(31924),$=n(54438);const G=(0,t.Mz)(V=>V.groupRegistry,V=>V.editGroup);let z=(()=>{class V extends D.W{constructor(J,q,Z,H,Y,Q,ie,oe){super("groups",J,q,Z,H),this.requestService=J,this.rdbService=q,this.objectCache=Z,this.halService=H,this.comparator=Y,this.notificationsService=Q,this.nameService=ie,this.store=oe,this.browseEndpoint="",this.ePersonsEndpoint="epersons",this.subgroupsEndpoint="subgroups",this.createData=new O.V(this.linkPath,J,q,Z,H,Q,this.responseMsToLive),this.searchData=new h.X(this.linkPath,J,q,Z,H,this.responseMsToLive),this.patchData=new R.n(this.linkPath,J,q,Z,H,Y,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new I.I(this.linkPath,J,q,Z,H,Q,this.responseMsToLive,this.constructIdEndpoint)}searchGroups(J,q,Z=!0,H=!0,...Y){const Q=[new y.x("query",J)];let ie=new b._;return q&&(ie=Object.assign(new b._,q)),ie.searchParams=ie.searchParams?[...ie.searchParams,...Q]:Q,this.searchBy("byMetadata",ie,Z,H,...Y)}searchNonMemberGroups(J,q,Z,H=!0,Y=!0,...Q){const ie=[new y.x("query",J),new y.x("group",q)];let oe=new b._;return Z&&(oe=Object.assign(new b._,Z)),oe.searchParams=oe.searchParams?[...oe.searchParams,...ie]:ie,this.searchBy("isNotMemberOf",oe,H,Y,...Q)}addSubGroupToGroup(J,q){const Z=this.requestService.generateRequestId(),H=Object.create({});let Y=new i.Lr;Y=Y.append("Content-Type","text/uri-list"),H.headers=Y;const Q=new P.Qf(Z,J.self+"/"+this.subgroupsEndpoint,q.self,H);return this.requestService.send(Q),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,l.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.subgroups.href).pipe((0,e.s)(1))))}deleteSubGroupFromGroup(J,q){const Z=this.requestService.generateRequestId(),H=new P.$(Z,J.self+"/"+this.subgroupsEndpoint+"/"+q.id);return this.requestService.send(H),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,l.y)(this.invalidateByHref(J._links.self.href),this.requestService.setStaleByHrefSubstring(J._links.subgroups.href).pipe((0,e.s)(1))))}addMemberToGroup(J,q){const Z=this.requestService.generateRequestId(),H=Object.create({});let Y=new i.Lr;Y=Y.append("Content-Type","text/uri-list"),H.headers=Y;const Q=new P.Qf(Z,J.self+"/"+this.ePersonsEndpoint,q.self,H);return this.requestService.send(Q),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,l.y)(this.invalidateByHref(q._links.self.href),this.requestService.setStaleByHrefSubstring(q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(J._links.epersons.href).pipe((0,e.s)(1))))}deleteMemberFromGroup(J,q){const Z=this.requestService.generateRequestId(),H=new P.$(Z,J.self+"/"+this.ePersonsEndpoint+"/"+q.id);return this.requestService.send(H),this.rdbService.buildFromRequestUUIDAndAwait(Z,()=>(0,l.y)(this.invalidateByHref(q._links.self.href),this.requestService.setStaleByHrefSubstring(q._links.groups.href).pipe((0,e.s)(1)),this.requestService.setStaleByHrefSubstring(J._links.epersons.href).pipe((0,e.s)(1))))}getActiveGroup(){return this.store.pipe((0,t.Lt)(G))}cancelEditGroup(){this.store.dispatch(new m.Sb)}editGroup(J){this.store.dispatch(new m.C(J))}clearGroupsRequests(){this.getBrowseEndpoint().pipe((0,e.s)(1)).subscribe(J=>{this.requestService.removeByHrefSubstring(J)})}clearGroupLinkRequests(J){this.requestService.setStaleByHrefSubstring(J)}getGroupRegistryRouterLink(){return"/access-control/groups"}startEditingNewGroup(J){return this.getActiveGroup().pipe((0,e.s)(1)).subscribe(q=>{J===q?this.cancelEditGroup():this.editGroup(J)}),this.getGroupEditPageRouterLinkWithID(J.id)}getGroupEditPageRouterLink(J){return(0,f.xl)(J.id)}getGroupEditPageRouterLinkWithID(J){return(0,f.xl)(J)}getUUIDFromString(J){let q="";const Z=J.match(/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return null!=Z&&(q=Z[0]),q}createComcolGroup(J,q,Z){const H=this.requestService.generateRequestId(),Y=Object.assign(new U.Y,{metadata:{"dc.description":[{value:`${this.nameService.getName(J)} ${q} group`}]}});this.requestService.send(new P.QU(H,Z,JSON.stringify(Y)));const Q=this.rdbService.buildFromRequestUUID(H).pipe((0,B.qD)());return Q.subscribe(ie=>{ie.hasSucceeded&&this.requestService.removeByHrefSubstring(Z)}),Q}deleteComcolGroup(J){const q=this.requestService.generateRequestId();this.requestService.send(new P.$(q,J));const Z=this.rdbService.buildFromRequestUUID(q).pipe((0,B.qD)());return Z.subscribe(H=>{H.hasSucceeded&&this.requestService.removeByHrefSubstring(J)}),Z}create(J,...q){return this.createData.create(J,...q)}searchBy(J,q,Z,H,...Y){return this.searchData.searchBy(J,q,Z,H,...Y)}createPatchFromCache(J){return this.patchData.createPatchFromCache(J)}patch(J,q){return this.patchData.patch(J,q)}update(J){return this.patchData.update(J)}commitUpdates(J){this.patchData.commitUpdates(J)}delete(J,q){return this.deleteData.delete(J,q)}deleteByHref(J,q){return this.deleteData.deleteByHref(J,q)}static{this.\u0275fac=function(q){return new(q||V)($.KVO(M.B),$.KVO(v.o),$.KVO(C.$),$.KVO(L.Y),$.KVO(w.j),$.KVO(p.I),$.KVO(_.f),$.KVO(t.il))}}static{this.\u0275prov=$.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}}return V})()},79145:(N,T,n)=>{"use strict";n.d(T,{h:()=>i});class i{}},26349:(N,T,n)=>{"use strict";n.d(T,{f:()=>_});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(58235),p=n(36074);let _=class extends f.M{static{this.type=m.N}get name(){return this.firstMetadataValue("eperson.firstname")+" "+this.firstMetadataValue("eperson.lastname")}getRenderTypes(){return["EPerson",this.constructor.name,...super.getRenderTypes()]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"netid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"lastActive",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"canLogIn",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"email",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"requireCertificate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"selfRegistered",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"password",void 0),(0,i.Cg)([(0,e.nf)(p.U,!0),(0,i.Sn)("design:type",l.c)],_.prototype,"groups",void 0),_=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],_)},58235:(N,T,n)=>{"use strict";n.d(T,{N:()=>t});const t=new(n(42547).v)("eperson")},31924:(N,T,n)=>{"use strict";n.d(T,{Y:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(76829),m=n(39147),p=n(98688),_=n(58235),v=n(36074);let y=class extends f.M{static{this.type=v.U}};(0,i.Cg)([p.aK,(0,t.autoserializeAs)("name"),(0,i.Sn)("design:type",String)],y.prototype,"_name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"handle",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"permanent",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.U,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"subgroups",void 0),(0,i.Cg)([(0,e.nf)(_.N,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"epersons",void 0),(0,i.Cg)([(0,e.nf)(m.X),(0,i.Sn)("design:type",l.c)],y.prototype,"object",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(f.M)],y)},36074:(N,T,n)=>{"use strict";n.d(T,{U:()=>t});const t=new(n(42547).v)("group")},54949:(N,T,n)=>{"use strict";n.d(T,{z:()=>t});const t=new(n(42547).v)("workflowitem")},6291:(N,T,n)=>{"use strict";n.d(T,{l:()=>t});const t=new(n(42547).v)("workspaceitem")},34826:(N,T,n)=>{"use strict";n.d(T,{BA:()=>w,oL:()=>h,wq:()=>b});var i=n(60177),t=n(84412),l=n(983),e=n(84572),f=n(7673),m=n(96697),p=n(96354),_=n(25558),v=n(88141),y=n(82777),C=n(8917),O=n(93130),I=n(1676),D=n(80183),R=n(54438);const h="_GRECAPTCHA",w="google-recaptcha";let b=(()=>{class P{captchaKey(){return this.captchaKeySubject$.asObservable()}captchaMode(){return this.captchaModeSubject$.asObservable()}captchaVersion(){return this.captchaVersionSubject$.asObservable()}constructor(L,B,U,$,j){this.cookieService=L,this._document=B,this._window=U,this.configService=j,this.captchaVersionSubject$=new t.t(null),this.captchaKeySubject$=new t.t(null),this.captchaModeSubject$=new t.t(null),this.refreshCaptchaScript=()=>{this.loadRecaptchaProperties().subscribe()},this._window.nativeWindow&&(this._window.nativeWindow.refreshCaptchaScript=this.refreshCaptchaScript),this.renderer=$.createRenderer(null,null),this.configService.findByPropertyName("registration.verification.enabled").pipe((0,m.s)(1),(0,D.qD)(),(0,p.T)(z=>z.hasSucceeded&&z.payload&&(0,y.hj)(z.payload.values)&&"true"===z.payload.values[0].toLowerCase())).pipe((0,_.n)(z=>z?this.loadRecaptchaProperties():l.w)).subscribe()}loadRecaptchaProperties(){const L=this.configService.findByPropertyName("google.recaptcha.key.site").pipe((0,D.qD)()),B=this.configService.findByPropertyName("google.recaptcha.version").pipe((0,D.qD)()),U=this.configService.findByPropertyName("google.recaptcha.mode").pipe((0,D.qD)());return(0,e.z)([B,U,L]).pipe((0,v.M)(([$,j,G])=>{if(this.cookieService.get("klaro-anonymous")&&this.cookieService.get("klaro-anonymous")[w]&&G.hasSucceeded&&$.hasSucceeded&&(0,y.hj)($.payload?.values)&&(0,y.hj)(G.payload?.values)){const z=G.payload?.values[0],V=$.payload?.values[0];let X;switch(this.captchaKeySubject$.next(z),this.captchaVersionSubject$.next(V),V){case"v3":G.hasSucceeded&&(0,y.hj)(G.payload?.values)&&(X=this.buildCaptchaUrl(z),this.captchaModeSubject$.next("invisible"));break;case"v2":j.hasSucceeded&&(0,y.hj)(j.payload?.values)&&(X=this.buildCaptchaUrl(),this.captchaModeSubject$.next(j.payload?.values[0]))}X&&this.loadScript(X)}}))}getRecaptchaToken(L){return this.captchaKey().pipe((0,_.n)(B=>grecaptcha.execute(B,{action:L})))}executeRecaptcha(){return(0,f.of)(grecaptcha.execute())}getRecaptchaTokenResponse(){return grecaptcha.getResponse()}buildCaptchaUrl(L){const B="https://www.google.com/recaptcha/api.js";return L?`${B}?render=${L}`:B}loadScript(L){return new Promise((B,U)=>{const $=this.renderer.createElement("script");$.type="text/javascript",$.src=L,$.text="",$.onload=B,$.onerror=U,this.renderer.appendChild(this._document.head,$)})}static{this.\u0275fac=function(B){return new(B||P)(R.KVO(O.O),R.KVO(i.qQ),R.KVO(I.lc),R.KVO(R._9s),R.KVO(C.ConfigurationDataService))}}static{this.\u0275prov=R.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},23274:(N,T,n)=>{"use strict";n.d(T,{_:()=>l,i:()=>t});var i=n(91e3);const t={ADD_TO_HISTORY:(0,i.N)("dspace/history/ADD_TO_HISTORY"),GET_HISTORY:(0,i.N)("dspace/history/GET_HISTORY")};class l{constructor(f){this.type=t.ADD_TO_HISTORY,this.payload={url:f}}}},51672:(N,T,n)=>{"use strict";n.d(T,{U:()=>i});var i=function(t){return t.OBJECT="object/uuid-to-self-link",t.REQUEST="get-request/href-to-uuid",t.ALTERNATIVE_OBJECT_LINK="object/alt-link-to-self-link",t}(i||{})},71442:(N,T,n)=>{"use strict";n.d(T,{H9:()=>e,Lv:()=>l,NL:()=>f,WJ:()=>t});var i=n(91e3);const t={ADD:(0,i.N)("dspace/core/index/ADD"),REMOVE_BY_VALUE:(0,i.N)("dspace/core/index/REMOVE_BY_VALUE"),REMOVE_BY_SUBSTRING:(0,i.N)("dspace/core/index/REMOVE_BY_SUBSTRING")};class l{constructor(p,_,v){this.type=t.ADD,this.payload={name:p,key:_,value:v}}}class e{constructor(p,_){this.type=t.REMOVE_BY_VALUE,this.payload={name:p,value:_}}}class f{constructor(p,_){this.type=t.REMOVE_BY_SUBSTRING,this.payload={name:p,value:_}}}},69227:(N,T,n)=>{"use strict";n.d(T,{Fn:()=>D,Qc:()=>I,bS:()=>y,fW:()=>p,tJ:()=>m,vH:()=>O});var i=n(25499),t=n(82777),l=n(47797),e=n(45663),f=n(51672);const m=R=>{if((0,t.hj)(R))try{const h=new URL(R);if((0,t.hj)(h.search)){const w=h.search.split(/[?|&]/).filter(P=>(0,t.hj)(P)).filter(P=>!(P.startsWith("embed=")||P.startsWith("embed.size=")));let b="";return(0,t.hj)(w)&&(b=`?${w.join("&")}`),R=new e.t(h.origin,h.pathname,b).toString()}}catch{}return R},p=R=>{if((0,t.hj)(R))try{const h=new URL(R);if((0,t.hj)(h.search))return h.search.split(/[?|&]/).filter(w=>(0,t.hj)(w)).map(w=>w.match(/^embed.size=([^=]+)=(\d+)$/)).filter(w=>(0,t.a4)(w)&&(0,t.a4)(w[1])&&(0,t.a4)(w[2])).map(w=>({name:w[1],size:Number(w[2])}))}catch{}return[]},_=(0,i.Mz)(l.N,R=>R.index),v=(0,i.Mz)(_,R=>R[f.U.OBJECT]),y=(0,i.Mz)(_,R=>R[f.U.REQUEST]),C=(0,i.Mz)(_,R=>R[f.U.ALTERNATIVE_OBJECT_LINK]),O=R=>(0,i.Mz)(v,h=>(0,t.a4)(h)?h[R]:void 0),I=R=>(0,i.Mz)(y,h=>(0,t.a4)(h)?h[m(R)]:void 0),D=R=>(0,i.Mz)(C,h=>(0,t.a4)(h)?h[R]:void 0)},92409:(N,T,n)=>{"use strict";n.d(T,{S:()=>l});var i=n(82777),t=n(45663);class l extends t.t{constructor(f,...m){super(f,...m),this._rootElement=f,this._subRootElement=m.join("/")}get rootElement(){return this._rootElement}get subRootElement(){return this._subRootElement}getPath(f){(0,i.EA)(f)&&Array.isArray(f)&&(f=f.join("/"));let m="/"+this.toString();return(0,i.EA)(f)&&(m+="/"+f),{rootElement:this._rootElement,subRootElement:this._subRootElement,path:m}}}},98107:(N,T,n)=>{"use strict";n.d(T,{Bp:()=>I,Ce:()=>t,MI:()=>l,QZ:()=>C,X2:()=>_,Zd:()=>e,kM:()=>O,pg:()=>m,qy:()=>p,td:()=>y,v$:()=>f});var i=n(91e3);const t={NEW_JSON_PATCH_ADD_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_ADD_OPERATION"),NEW_JSON_PATCH_COPY_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_COPY_OPERATION"),NEW_JSON_PATCH_MOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_MOVE_OPERATION"),NEW_JSON_PATCH_REMOVE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REMOVE_OPERATION"),NEW_JSON_PATCH_REPLACE_OPERATION:(0,i.N)("dspace/core/patch/NEW_JSON_PATCH_REPLACE_OPERATION"),COMMIT_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/COMMIT_JSON_PATCH_OPERATIONS"),ROLLBACK_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/ROLLBACK_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATIONS"),FLUSH_JSON_PATCH_OPERATION:(0,i.N)("dspace/core/patch/FLUSH_JSON_PATCH_OPERATION"),START_TRANSACTION_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/START_TRANSACTION_JSON_PATCH_OPERATIONS"),DELETE_PENDING_JSON_PATCH_OPERATIONS:(0,i.N)("dspace/core/patch/DELETE_PENDING_JSON_PATCH_OPERATIONS")};class l{constructor(R,h){this.type=t.COMMIT_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class e{constructor(R,h){this.type=t.ROLLBACK_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class f{constructor(R,h,w){this.type=t.START_TRANSACTION_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h,startTime:w}}}class m{constructor(R,h){this.type=t.FLUSH_JSON_PATCH_OPERATIONS,this.payload={resourceType:R,resourceId:h}}}class p{constructor(R,h,w){this.type=t.FLUSH_JSON_PATCH_OPERATION,this.payload={resourceType:R,resourceId:h,path:w}}}class _{constructor(R,h,w,b){this.type=t.NEW_JSON_PATCH_ADD_OPERATION,this.payload={resourceType:R,resourceId:h,path:w,value:b}}}class y{constructor(R,h,w,b){this.type=t.NEW_JSON_PATCH_MOVE_OPERATION,this.payload={resourceType:R,resourceId:h,from:w,path:b}}}class C{constructor(R,h,w){this.type=t.NEW_JSON_PATCH_REMOVE_OPERATION,this.payload={resourceType:R,resourceId:h,path:w}}}class O{constructor(R,h,w,b){this.type=t.NEW_JSON_PATCH_REPLACE_OPERATION,this.payload={resourceType:R,resourceId:h,path:w,value:b}}}class I{constructor(){this.type=t.DELETE_PENDING_JSON_PATCH_OPERATIONS}}},4047:(N,T,n)=>{"use strict";n.d(T,{M:()=>t});var i=n(59030);function t(l,e,f){return(0,i.v)(()=>l.has(e)&&"function"==typeof l.get(e)?l.get(e)().then(p=>f.get("default"in p?p.default:p)).catch(p=>{throw p}):null)}},63648:(N,T,n)=>{"use strict";n.d(T,{iH:()=>w,m4:()=>R});var i=n(60177),t=n(84572),l=n(7673),e=n(96697),f=n(73028),m=n(96354),p=n(88280),_=n(82777),v=n(67116),y=n(93130),C=n(56760),O=n(1676),I=n(54438),D=n(41780);const R="dsLanguage";var h=function(b){return b[b.UI=0]="UI",b[b.EPERSON=1]="EPERSON",b[b.BROWSER=2]="BROWSER",b}(h||{});let w=(()=>{class b{constructor(M,L,B,U,$,j){this._window=M,this.cookie=L,this.translate=B,this.authService=U,this.routeService=$,this.document=j,this.EPERSON_LANG_METADATA="eperson.language"}getCurrentLanguageCode(){let M=this.getLanguageCodeFromCookie();return((0,_.Im)(M)||void 0===p.c.languages.find(L=>L.code===M&&L.active))&&(M=this.translate.getLangs().includes(this.translate.getBrowserLang())?this.translate.getBrowserLang():p.c.defaultLanguage),M}getLanguageCodeList(){return(0,t.z)([this.authService.isAuthenticated(),this.authService.isAuthenticationLoaded()]).pipe((0,e.s)(1),(0,f.Z)(([L,B])=>(0,l.of)([]).pipe((0,m.T)($=>{const j=[];return this.translate.currentLang&&j.push(...this.setQuality([this.translate.currentLang],h.UI,!1)),(0,_.hj)($)&&j.push(...$),navigator.languages&&j.push(...this.setQuality(Object.assign([],navigator.languages),h.BROWSER,!(0,_.Im)(this.translate.currentLang))),j}))))}getLanguageCodeFromCookie(){return this.cookie.get(R)}saveLanguageCodeToCookie(M){this.cookie.set(R,M)}setCurrentLanguageCode(M){(0,_.Im)(M)&&(M=this.getCurrentLanguageCode()),this.translate.use(M),this.saveLanguageCodeToCookie(M),this.document.documentElement.lang=M}setQuality(M,L,B){const U=[];let $=0;const j=M.length>10?M.length:10;let G;switch(L){case h.EPERSON:G=2;break;case h.BROWSER:G=B?10:1;break;default:G=1}return M.forEach(z=>{let V=z+";q=",X=(j-$++)/j;X=M.length>10?X.toFixed(2):X,V+=X/G,U.push(V)}),U}refreshAfterChangeLanguage(){this.routeService.getCurrentUrl().pipe((0,e.s)(1)).subscribe(M=>{this._window.nativeWindow.location.href=`reload/${(new Date).getTime()}?redirect=`+encodeURIComponent(M)})}static{this.\u0275fac=function(L){return new(L||b)(I.KVO(O.lc),I.KVO(y.O),I.KVO(D.c$),I.KVO(v.uR),I.KVO(C.v$),I.KVO(i.qQ))}}static{this.\u0275prov=I.jDH({token:b,factory:b.\u0275fac})}}return b})()},52733:(N,T,n)=>{"use strict";n.d(T,{A:()=>C});var i=n(31635),t=n(74850),l=n(71985),e=n(82777),f=n(22878),m=n(21921),p=n(42547),_=n(98688),v=n(1259),y=n(51934);let C=class extends f.u{static{this.type=v.R}toString(I="."){let D=this.element;return(0,e.hj)(this.qualifier)&&(D+=I+this.qualifier),D}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],C.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"element",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"qualifier",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"scopeNote",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,m.nf)(y.M),(0,i.Sn)("design:type",l.c)],C.prototype,"schema",void 0),C=(0,i.Cg)([m.gV],C)},1259:(N,T,n)=>{"use strict";n.d(T,{R:()=>t});const t=new(n(42547).v)("metadatafield")},32872:(N,T,n)=>{"use strict";n.d(T,{p:()=>_});var i=n(31635),t=n(74850),l=n(22878),e=n(21921),f=n(42547),m=n(98688),p=n(51934);let _=class extends l.u{static{this.type=p.M}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],_.prototype,"id",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"prefix",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"namespace",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([e.gV],_)},51934:(N,T,n)=>{"use strict";n.d(T,{M:()=>t});const t=new(n(42547).v)("metadataschema")},5410:(N,T,n)=>{"use strict";n.d(T,{T:()=>e});var i=n(82777),t=n(14391),l=n(54438);let e=(()=>{class f{isVirtual(p){return(0,i.a4)(p?.authority)&&p.authority.startsWith(t.BY)}virtualValue(p){if(this.isVirtual)return p.authority.substring(p.authority.indexOf(t.BY)+t.BY.length)}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},61723:(N,T,n)=>{"use strict";n.r(T),n.d(T,{QualityAssuranceSourceDataService:()=>y});var i=n(39806),t=n(72734),l=n(41684),e=n(46787),f=n(63897),m=n(35108),p=n(32473),_=n(4910),v=n(54438);let y=(()=>{class C extends f.W{constructor(I,D,R,h,w){super("qualityassurancesources",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.findAllData=new e.H(this.linkPath,I,D,R,h,this.responseMsToLive),this.searchAllData=new m.X(this.linkPath,I,D,R,h,this.responseMsToLive)}getSources(I={},D=!0,R=!0,...h){return this.findAllData.findAll(I,D,R,...h)}clearFindAllSourceRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancesources")}getSource(I,D=!0,R=!0,...h){return this.findById(I,D,R,...h)}getSourcesByTarget(I={},D=!0,R=!0,...h){return this.searchAllData.searchBy(this.searchByTargetMethod,I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||C)(v.KVO(p.B),v.KVO(t.o),v.KVO(l.$),v.KVO(_.Y),v.KVO(i.I))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},31936:(N,T,n)=>{"use strict";n.r(T),n.d(T,{QualityAssuranceTopicDataService:()=>y});var i=n(39806),t=n(72734),l=n(41684),e=n(46787),f=n(63897),m=n(35108),p=n(32473),_=n(4910),v=n(54438);let y=(()=>{class C extends f.W{constructor(I,D,R,h,w){super("qualityassurancetopics",I,D,R,h),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h,this.notificationsService=w,this.searchByTargetMethod="byTarget",this.searchBySourceMethod="bySource",this.findAllData=new e.H(this.linkPath,I,D,R,h,this.responseMsToLive),this.searchData=new m.X(this.linkPath,I,D,R,h,this.responseMsToLive)}searchTopicsByTarget(I={},D=!0,R=!0,...h){return this.searchData.searchBy(this.searchByTargetMethod,I,D,R,...h)}searchTopicsBySource(I={},D=!0,R=!0,...h){return this.searchData.searchBy(this.searchBySourceMethod,I,D,R,...h)}clearFindAllTopicsRequests(){this.requestService.setStaleByHrefSubstring("qualityassurancetopics")}getTopic(I,D=!0,R=!0,...h){return this.findById(I,D,R,...h)}static{this.\u0275fac=function(D){return new(D||C)(v.KVO(p.B),v.KVO(t.o),v.KVO(l.$),v.KVO(_.Y),v.KVO(i.I))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},178:(N,T,n)=>{"use strict";n.d(T,{P:()=>t});const t=new(n(42547).v)("suggestion")},96687:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SuggestionDataService:()=>O});var i=n(39806),t=n(72734),l=n(53954),e=n(41684),f=n(13617),m=n(63897),p=n(35108),_=n(32473),v=n(4910),y=n(54438),C=n(21626);let O=(()=>{class I extends m.W{constructor(R,h,w,b,P,M){super("suggestions",R,h,w,b),this.requestService=R,this.rdbService=h,this.objectCache=w,this.halService=b,this.notificationsService=P,this.http=M,this.searchFindByTargetAndSourceMethod="findByTargetAndSource",this.deleteData=new f.I(this.linkPath,R,h,w,b,P,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new p.X(this.linkPath,R,h,w,b,this.responseMsToLive)}deleteSuggestion(R){return this.deleteData.delete(R)}getSuggestionsByTargetAndSource(R,h,w={},...b){return w.searchParams=[new l.x("target",R),new l.x("source",h)],this.searchData.searchBy(this.searchFindByTargetAndSourceMethod,w,!1,!0,...b)}clearSuggestionRequests(){this.requestService.setStaleByHrefSubstring(this.searchFindByTargetAndSourceMethod)}static{this.\u0275fac=function(h){return new(h||I)(y.KVO(_.B),y.KVO(t.o),y.KVO(e.$),y.KVO(v.Y),y.KVO(i.I),y.KVO(C.Qq))}}static{this.\u0275prov=y.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},94791:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SuggestionTargetDataService:()=>D});var i=n(39806),t=n(72734),l=n(53954),e=n(41684),f=n(46787),m=n(63897),p=n(35108),_=n(37419),v=n(32473),y=n(4910),C=n(54438),O=n(25499),I=n(21626);let D=(()=>{class R extends m.W{constructor(w,b,P,M,L,B,U,$){super("suggestiontargets",w,b,M,L),this.requestService=w,this.rdbService=b,this.store=P,this.objectCache=M,this.halService=L,this.notificationsService=B,this.http=U,this.comparator=$,this.linkPath="suggestiontargets",this.searchFindBySourceMethod="findBySource",this.searchFindByTargetMethod="findByTarget",this.findAllData=new f.H(this.linkPath,w,b,M,L,this.responseMsToLive),this.searchData=new p.X(this.linkPath,w,b,M,L,this.responseMsToLive)}getTargetsBySource(w,b={},P=!0,M=!0,...L){return b.searchParams=[new l.x("source",w)],this.searchBy(this.searchFindBySourceMethod,b,P,M,...L)}getTargetsByUser(w,b={},...P){return b.searchParams=[new l.x("target",w)],this.searchBy(this.searchFindByTargetMethod,b,!0,!0,...P)}getTargetById(w){return this.findById(w)}searchBy(w,b,P,M,...L){return this.searchData.searchBy(w,b,P,M,...L)}findAll(w={},b=!0,P=!0,...M){return this.findAllData.findAll(w,b,P,...M)}static{this.\u0275fac=function(b){return new(b||R)(C.KVO(v.B),C.KVO(t.o),C.KVO(O.il),C.KVO(e.$),C.KVO(y.Y),C.KVO(i.I),C.KVO(I.Qq),C.KVO(_.Y))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},22978:(N,T,n)=>{"use strict";n.d(T,{m:()=>D});var i=n(84572),t=n(96354),l=n(5964),e=n(96697),f=n(82777),p=n(80597),_=n(23401),v=n(6238),y=n(41023),C=n(56760),O=n(54438),I=n(7901);let D=(()=>{class R{constructor(w,b){this.routeService=w,this.router=b,this.defaultSortOptions=new v.z("dc.title",v.U.ASC),this.clearParams={}}getCurrentPagination(w,b){const P=this.routeService.getQueryParameterValue(`${w}.page`),M=this.routeService.getQueryParameterValue(`${w}.rpp`);return(0,i.z)([P,M]).pipe((0,t.T)(([L,B])=>Object.assign(new _.W,b,{currentPage:this.convertToNumeric(L,b.currentPage),pageSize:this.getBestMatchPageSize(B,b)})))}getCurrentSort(w,b,P){!P&&((0,f.Im)(b)||!(0,f.a4)(b))&&(b=this.defaultSortOptions);const M=this.routeService.getQueryParameterValue(`${w}.sd`),L=this.routeService.getQueryParameterValue(`${w}.sf`);return(0,i.z)([M,L]).pipe((0,t.T)(([B,U])=>new v.z(U||b?.field,v.U[B]||b?.direction)))}getFindListOptions(w,b,P){const M=new _.W;M.currentPage=b.currentPage,M.pageSize=b.elementsPerPage;const L=this.getCurrentPagination(w,M),B=this.getCurrentSort(w,b.sort,P);return(0,i.z)([L,B]).pipe((0,l.p)(([U,$])=>(0,f.a4)(U)&&(0,f.a4)($)),(0,t.T)(([U,$])=>Object.assign(new y._,b,{sort:$,currentPage:U.currentPage,elementsPerPage:U.pageSize})))}resetPage(w){this.updateRoute(w,{page:1})}updateRoute(w,b,P,M,L){this.updateRouteWithUrl(w,[],b,P,M,L)}updateRouteWithUrl(w,b,P,M,L,B){this.getCurrentRouting(w).subscribe(U=>{const $=this.getParametersWithIdName(w,U),j=this.getParametersWithIdName(w,P);if((0,f.hj)((0,p.iv)(j,$))||(0,f.hj)(M)||(0,f.hj)(this.clearParams)){const G=Object.assign({},this.clearParams,$,j,M);this.router.navigate(b,L?{queryParams:G,queryParamsHandling:"merge",fragment:`p-${w}`,...B}:{queryParams:G,queryParamsHandling:"merge",...B}),this.clearParams={}}})}clearPagination(w){const b={};b[`${w}.page`]=null,b[`${w}.rpp`]=null,b[`${w}.sf`]=null,b[`${w}.sd`]=null,Object.assign(this.clearParams,b)}getPageParam(w){return`${w}.page`}getCurrentRouting(w){return this.getFindListOptions(w,{},!0).pipe((0,e.s)(1),(0,t.T)(b=>({page:b.currentPage,pageSize:b.elementsPerPage,sortField:b.sort.field,sortDirection:b.sort.direction})))}getParametersWithIdName(w,b){const P={};return(0,f.a4)(b.page)&&(P[`${w}.page`]=`${b.page}`),(0,f.a4)(b.pageSize)&&(P[`${w}.rpp`]=`${b.pageSize}`),(0,f.a4)(b.sortField)&&(P[`${w}.sf`]=`${b.sortField}`),(0,f.a4)(b.sortDirection)&&(P[`${w}.sd`]=`${b.sortDirection}`),P}convertToNumeric(w,b){let P=b;return function m(R){return!Array.isArray(R)&&R-parseFloat(R)+1>=0}(w)&&(P=+w),P}getBestMatchPageSize(w,b){const P=this.convertToNumeric(w,b.pageSize),M=b.pageSizeOptions.map(B=>Math.abs(B-P)),L=Math.min.apply(Math,M);return b.pageSizeOptions[M.indexOf(L)]}static{this.\u0275fac=function(b){return new(b||R)(O.KVO(C.v$),O.KVO(I.Ix))}}static{this.\u0275prov=O.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},76151:(N,T,n)=>{"use strict";n.d(T,{w:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(56970),m=n(13868),p=n(42547),_=n(98688),v=n(71077);let y=class extends f.I{static{this.type=v.T}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)("id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"visible",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",l.c)],y.prototype,"item",void 0),y=(0,i.Cg)([e.gV],y)},71077:(N,T,n)=>{"use strict";n.d(T,{T:()=>t});const t=new(n(42547).v)("profile")},98926:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ResearcherProfileDataService:()=>G});var i=n(21626),t=n(7673),l=n(96354),e=n(47677),f=n(73028),m=n(82777),p=n(39806),_=n(43404),v=n(67600),y=n(72734),C=n(41684),O=n(39280),I=n(13617),D=n(63897),R=n(87158),h=n(35108),w=n(37419),b=n(29326),P=n(43052),M=n(32473),L=n(4910),B=n(80183),U=n(76151),$=n(54438),j=n(7901);let G=(()=>{class z extends D.W{constructor(X,J,q,Z,H,Y,Q,ie){super("profiles",X,J,q,Z,1e4),this.requestService=X,this.rdbService=J,this.objectCache=q,this.halService=Z,this.notificationsService=H,this.router=Y,this.comparator=Q,this.itemService=ie,this.createData=new O.V(this.linkPath,X,J,q,Z,H,this.responseMsToLive),this.patchData=new R.n(this.linkPath,X,J,q,Z,Q,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new h.X(this.linkPath,X,J,q,Z,this.responseMsToLive),this.deleteData=new I.I(this.linkPath,X,J,q,Z,H,this.responseMsToLive,this.constructIdEndpoint)}findByRelatedItem(X){const J=X.firstMetadata("dspace.object.owner")?.authority;return(0,m.Im)(J)?(0,_.PM)():this.findById(J)}findRelatedItemId(X){return(X.item?X.item:this.itemService.findByHref(X._links.item.href,!1)).pipe((0,B.qD)(),(0,l.T)(q=>q.hasSucceeded&&q.payload?q.payload.id:null))}setVisibility(X,J){return this.patch(X,[{path:"/visible",op:"replace",value:J}])}createFromExternalSource(X){const J=Object.create({});let q=new i.Lr;q=q.append("Content-Type","text/uri-list"),J.headers=q;const Z=this.requestService.generateRequestId();return this.halService.getEndpoint(this.getLinkPath()).pipe((0,e.I)(Y=>(0,m.a4)(Y)),(0,l.T)(Y=>this.buildHrefWithParams(Y,[],(0,v.s)("item")))).subscribe(Y=>{const Q=new P.Qf(Z,Y,X,J);this.requestService.send(Q)}),this.rdbService.buildFromRequestUUID(Z,(0,v.s)("item"))}createFromExternalSourceAndReturnRelatedItemId(X){return this.createFromExternalSource(X).pipe((0,B.qD)(),(0,f.Z)(J=>J.hasSucceeded?this.findRelatedItemId(J.payload):(0,t.of)(null)))}create(X,...J){return(0,m.Im)(X)&&(X=new U.w),this.createData.create(X,...J)}searchBy(X,J,q,Z,...H){return this.searchData.searchBy(X,J,q,Z,...H)}getSearchByHref(X,J,...q){return this.searchData.getSearchByHref(X,J,...q)}commitUpdates(X){this.patchData.commitUpdates(X)}createPatchFromCache(X){return this.patchData.createPatchFromCache(X)}patch(X,J){return this.patchData.patch(X,J)}update(X){return this.patchData.update(X)}delete(X,J){return this.deleteData.delete(X,J)}deleteByHref(X,J){return this.deleteData.deleteByHref(X,J)}static{this.\u0275fac=function(J){return new(J||z)($.KVO(M.B),$.KVO(y.o),$.KVO(C.$),$.KVO(L.Y),$.KVO(p.I),$.KVO(j.Ix),$.KVO(w.Y),$.KVO(b.ItemDataService))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},46355:(N,T,n)=>{"use strict";n.d(T,{X:()=>i});var i=function(t){return t.READ="READ",t.WRITE="WRITE",t.DELETE="DELETE",t.ADD="ADD",t.REMOVE="REMOVE",t[t.WORKFLOW_STEP_1=5]="WORKFLOW_STEP_1",t[t.WORKFLOW_STEP_2=6]="WORKFLOW_STEP_2",t[t.WORKFLOW_STEP_3=7]="WORKFLOW_STEP_3",t[t.WORKFLOW_ABORT=8]="WORKFLOW_ABORT",t.DEFAULT_BITSTREAM_READ="DEFAULT_BITSTREAM_READ",t.DEFAULT_ITEM_READ="DEFAULT_ITEM_READ",t.ADMIN="ADMIN",t.WITHDRAWN_READ="WITHDRAWN_READ",t}(i||{})},46251:(N,T,n)=>{"use strict";n.d(T,{t:()=>i});var i=function(t){return t.TYPE_SUBMISSION="TYPE_SUBMISSION",t.TYPE_WORKFLOW="TYPE_WORKFLOW",t.TYPE_INHERITED="TYPE_INHERITED",t.TYPE_CUSTOM="TYPE_CUSTOM",t}(i||{})},28235:(N,T,n)=>{"use strict";n.d(T,{h:()=>I});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(58235),p=n(36074),_=n(42547),v=n(98688),O=(n(46355),n(46251),n(88985));let I=class{static{this.type=O.O}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"policyType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],I.prototype,"action",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endDate",void 0),(0,i.Cg)([v.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a("resource-policy"),"id"),(0,i.Sn)("design:type",String)],I.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",l.c)],I.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",l.c)],I.prototype,"group",void 0),I=(0,i.Cg)([e.gV],I)},88985:(N,T,n)=>{"use strict";n.d(T,{O:()=>t});const t=new(n(42547).v)("resourcepolicy")},67944:(N,T,n)=>{"use strict";n.d(T,{T:()=>i});var i=function(t){return t.Submitter="submitter",t.Controller="controller",t.Admin="admin",t}(i||{})},46265:(N,T,n)=>{"use strict";n.d(T,{W:()=>m});var i=n(7673),t=n(23294),l=n(6983),e=n(67944),f=n(54438);let m=(()=>{class p{constructor(v){this.collectionService=v}isSubmitter(){return this.collectionService.hasAuthorizedCollection().pipe((0,t.F)())}isController(){return(0,i.of)(!0)}isAdmin(){return(0,i.of)(!1)}checkRole(v){let y;switch(v){case e.T.Submitter:y=this.isSubmitter();break;case e.T.Controller:y=this.isController();break;case e.T.Admin:y=this.isAdmin()}return y}static{this.\u0275fac=function(y){return new(y||p)(f.KVO(l.CollectionDataService))}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},93130:(N,T,n)=>{"use strict";n.d(T,{O:()=>e});var i=n(21413),t=n(59540),l=n(54438);let e=(()=>{class f{constructor(p){this.req=p,this.cookieSource=new i.B,this.cookies$=this.cookieSource.asObservable()}updateSource(){this.cookieSource.next(this.getAll())}static{this.\u0275fac=function(_){return new(_||f)(l.KVO(t.S))}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac})}}return f})()},59752:(N,T,n)=>{"use strict";n.d(T,{$:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},8865:(N,T,n)=>{"use strict";n.d(T,{m:()=>l});var i=n(60177),t=n(54438);let l=(()=>{class e{constructor(m,p){this.rendererFactory=m,this.document=p}addTag(m){try{const p=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),_=p.createElement("link"),v=this.document.head;if(null===v)throw new Error("<head> not found within DOCUMENT.");return Object.keys(m).forEach(y=>p.setAttribute(_,y,m[y])),p.appendChild(v,_),p}catch(p){console.error("Error within linkService: ",p)}}removeTag(m){if(m)try{const p=this.rendererFactory.createRenderer(this.document,{id:"-1",encapsulation:t.gXe.None,styles:[],data:{}}),_=this.document.head;if(null===_)throw new Error("<head> not found within DOCUMENT.");const v=this.document.querySelectorAll("link["+m+"]");for(const y of v)p.removeChild(_,y)}catch(p){p instanceof Error&&console.error("Error while removing tag: "+p.message)}}static{this.\u0275fac=function(p){return new(p||e)(t.KVO(t._9s),t.KVO(i.qQ))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},88091:(N,T,n)=>{"use strict";n.d(T,{f:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},61905:(N,T,n)=>{"use strict";n.d(T,{$H:()=>m,HH:()=>t,Yb:()=>_,eL:()=>p,fP:()=>e,hX:()=>l,sV:()=>v});var i=n(91e3);const t={SET_QUERY_PARAMETERS:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETERS"),SET_PARAMETERS:(0,i.N)("dspace/core/route/SET_PARAMETERS"),ADD_QUERY_PARAMETER:(0,i.N)("dspace/core/route/ADD_QUERY_PARAMETER"),ADD_PARAMETER:(0,i.N)("dspace/core/route/ADD_PARAMETER"),SET_QUERY_PARAMETER:(0,i.N)("dspace/core/route/SET_QUERY_PARAMETER"),SET_PARAMETER:(0,i.N)("dspace/core/route/SET_PARAMETER"),RESET:(0,i.N)("dspace/core/route/RESET")};class l{constructor(C){this.type=t.SET_QUERY_PARAMETERS,this.payload=C}}class e{constructor(C){this.type=t.SET_PARAMETERS,this.payload=C}}class m{constructor(C,O){this.type=t.ADD_PARAMETER,this.payload={key:C,value:O}}}class p{constructor(C,O){this.type=t.SET_QUERY_PARAMETER,this.payload={key:C,value:O}}}class _{constructor(C,O){this.type=t.SET_PARAMETER,this.payload={key:C,value:O}}}class v{constructor(){this.type=t.RESET}}},56760:(N,T,n)=>{"use strict";n.d(T,{v$:()=>L});var i=n(7901),t=n(25499),l=n(48125),e=n.n(l),f=n(84572),m=n(96354),p=n(23294),_=n(5964),v=n(96697),y=n(82777),C=n(47797),O=n(23274);const I=(0,t.Mz)(C.N,B=>B.history);var D=n(61905),R=n(54438);const h=(0,t.Mz)(C.N,B=>(0,y.a4)(B)&&(0,y.a4)(B.route)?B.route.params:void 0);(0,t.Mz)(C.N,B=>(0,y.a4)(B)&&(0,y.a4)(B.route)?B.route.queryParams:void 0);let L=(()=>{class B{constructor($,j,G){this.route=$,this.router=j,this.store=G,this.saveRouting()}getQueryParameterValues($){return this.getQueryParamMap().pipe((0,m.T)(j=>[...j.getAll($)]),(0,p.F)((j,G)=>JSON.stringify(j)===JSON.stringify(G)))}getQueryParameterValue($){return this.getQueryParamMap().pipe((0,m.T)(j=>j.get($)),(0,p.F)())}hasQueryParam($){return this.getQueryParamMap().pipe((0,m.T)(j=>j.has($)),(0,p.F)())}hasQueryParamWithValue($,j){return this.getQueryParamMap().pipe((0,m.T)(G=>G.getAll($).indexOf(j)>-1),(0,p.F)())}getRouteParameterValue($){return this.store.pipe((0,t.Lt)((B=>function M(B,U){return(0,t.Mz)(U,$=>{if((0,y.a4)($))return $[B]})}(B,h))($)))}getRouteDataValue($){return this.route.data.pipe((0,m.T)(j=>j[$]),(0,p.F)())}getQueryParamsWithPrefix($){return this.getQueryParamMap().pipe((0,m.T)(j=>{const G={};return j.keys.filter(z=>z.startsWith($)).forEach(z=>{G[z]=[...j.getAll(z)]}),G}),(0,p.F)((j,G)=>JSON.stringify(j)===JSON.stringify(G)))}getQueryParamMap(){return this.route.queryParamMap.pipe((0,m.T)($=>{const j=this.router.routerState.snapshot;return e()($,j.root.queryParamMap)?$:j.root.queryParamMap}))}saveRouting(){this.router.events.pipe((0,_.p)($=>$ instanceof i.wF)).subscribe($=>{this.store.dispatch(new O._($.urlAfterRedirects))})}getRouteParams(){let $=this.route;for(;$.firstChild;)$=$.firstChild;return $.params}getHistory(){return this.store.pipe((0,t.Lt)(I))}getCurrentUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-1]||""))}getPreviousUrl(){return this.getHistory().pipe((0,m.T)($=>$[$.length-2]||""))}addParameter($,j){this.store.dispatch(new D.$H($,j))}setParameter($,j){this.store.dispatch(new D.Yb($,j))}setQueryParameter($,j){this.store.dispatch(new D.eL($,j))}setCurrentRouteInfo(){(0,f.z)(this.getRouteParams(),this.route.queryParams).pipe((0,v.s)(1)).subscribe(([$,j])=>{this.store.dispatch(new D.fP($)),this.store.dispatch(new D.hX(j))})}getParamsExceptValue($,j){return this.route.queryParams.pipe((0,m.T)(G=>{const z=Object.assign({},G),V=z[$];return V===j||void 0===j?delete z[$]:Array.isArray(V)&&V.includes(j)&&(z[$]=V.filter(X=>X!==j),0===z[$].length&&delete z[$]),z}))}getParamsWithAdditionalValue($,j){return this.route.queryParams.pipe((0,m.T)(G=>{const z=Object.assign({},G),V=z[$];return z[$]=void 0===V?j:Array.isArray(V)?[...V,j]:[V,j],z}))}static{this.\u0275fac=function(j){return new(j||B)(R.KVO(i.nX),R.KVO(i.Ix),R.KVO(t.il))}}static{this.\u0275prov=R.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},7337:(N,T,n)=>{"use strict";n.d(T,{w:()=>l});var i=n(59540),t=n(54438);let l=(()=>{class e{constructor(m){this.response=m}setStatus(m,p){return this.response&&(this.response.statusCode=m,p&&(this.response.statusMessage=p)),this}setUnauthorized(m="Unauthorized"){return this.setStatus(401,m)}setForbidden(m="Forbidden"){return this.setStatus(403,m)}setNotFound(m="Not found"){return this.setStatus(404,m)}setInternalServerError(m="Internal Server Error"){return this.setStatus(500,m)}setHeader(m,p){this.response&&this.response.setHeader(m,p)}static{this.\u0275fac=function(p){return new(p||e)(t.KVO(i.C,8))}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},1676:(N,T,n)=>{"use strict";n.d(T,{lc:()=>t});const t=new(n(54438).nKC)("NativeWindowService",{providedIn:"root",factory:function e(){return new l}});class l{get nativeWindow(){return typeof window<"u"&&window}}},308:(N,T,n)=>{"use strict";n.d(T,{QD:()=>v,ci:()=>C,gM:()=>O});var i=n(54438),t=n(84572),l=n(53993),e=n(5964),f=n(96354),m=n(69799),p=n(16805);new i.nKC("redirectOn4xx",{providedIn:"root",factory:()=>v});const v=(I,D)=>R=>R.pipe((0,l.E)(D.isAuthenticated()),(0,e.p)(([h,w])=>{if(h.hasFailed){if(404===h.statusCode||422===h.statusCode)return I.navigateByUrl((0,m.EX)(),{skipLocationChange:!0}),!1;if(403===h.statusCode||401===h.statusCode)return w?(I.navigateByUrl((0,m.bZ)(),{skipLocationChange:!0}),!1):(D.setRedirectUrl(I.url),I.navigateByUrl("login"),!1)}return!0}),(0,f.T)(([h])=>h)),C=(I,D,R)=>h=>(0,t.z)(h,D.isAuthenticated()).pipe((0,f.T)(([w,b])=>!!w.some(P=>!0===P)||(b?I.parseUrl((0,m.bZ)()):(D.setRedirectUrl(R),I.parseUrl("login"))))),O=(I,D)=>R=>R.pipe((0,f.T)(h=>{const w={redirect:encodeURIComponent(D)};return h||I.createUrlTree([(0,p.KN)()],{queryParams:w})}))},70334:(N,T,n)=>{"use strict";n.d(T,{c:()=>i});var i=function(t){return t.Known="KNOWN",t.Unknown="UNKNOWN",t.Supported="SUPPORTED",t}(i||{})},760:(N,T,n)=>{"use strict";n.d(T,{v:()=>v});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(98688),m=n(92174),_=(n(70334),n(42547));let v=class{static{this.type=m.a}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"shortDescription",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"mimetype",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"supportLevel",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],v.prototype,"internal",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"extensions",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a("bitstream-format"),"id"),(0,i.Sn)("design:type",String)],v.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([l.gV],v)},92174:(N,T,n)=>{"use strict";n.d(T,{a:()=>t});const t=new(n(42547).v)("bitstreamformat")},33376:(N,T,n)=>{"use strict";n.d(T,{_:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(92174),p=n(2527),_=n(76829);let v=class extends _.M{static{this.type=f.e}getParentLinkKey(){return"format"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],v.prototype,"sizeBytes",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"bundleName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e,!1,"thumbnail"),(0,i.Sn)("design:type",l.c)],v.prototype,"thumbnail",void 0),(0,i.Cg)([(0,e.nf)(m.a,!1,"format"),(0,i.Sn)("design:type",l.c)],v.prototype,"format",void 0),(0,i.Cg)([(0,e.nf)(p.d),(0,i.Sn)("design:type",l.c)],v.prototype,"bundle",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],v)},96470:(N,T,n)=>{"use strict";n.d(T,{e:()=>t});const t=new(n(42547).v)("bitstream")},34427:(N,T,n)=>{"use strict";n.d(T,{o:()=>e});var i=n(31635),t=n(74850),l=n(56970);class e extends l.I{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],e.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata"),(0,i.Sn)("design:type",Array)],e.prototype,"metadataKeys",void 0)},87369:(N,T,n)=>{"use strict";n.d(T,{z:()=>t});const t=new(n(42547).v)("browse")},70673:(N,T,n)=>{"use strict";n.d(T,{N:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(2527),p=n(76829),_=n(13868);let v=class extends p.M{static{this.type=m.d}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.e),(0,i.Sn)("design:type",l.c)],v.prototype,"primaryBitstream",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",l.c)],v.prototype,"bitstreams",void 0),(0,i.Cg)([(0,e.nf)(_.U),(0,i.Sn)("design:type",l.c)],v.prototype,"item",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],v)},2527:(N,T,n)=>{"use strict";n.d(T,{d:()=>t});const t=new(n(42547).v)("bundle")},6041:(N,T,n)=>{"use strict";n.d(T,{p:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(88985),m=n(98688),p=n(96470),_=n(9927),v=n(72364),y=n(76829),C=n(18602);let O=class extends y.M{static{this.type=_.n}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get dcLicense(){return this.firstMetadataValue("dc.rights.license")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],O.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(C.m),(0,i.Sn)("design:type",l.c)],O.prototype,"license",void 0),(0,i.Cg)([(0,e.nf)(p.e),(0,i.Sn)("design:type",l.c)],O.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(f.O,!0),(0,i.Sn)("design:type",l.c)],O.prototype,"defaultAccessConditions",void 0),(0,i.Cg)([(0,e.nf)(v.G,!1),(0,i.Sn)("design:type",l.c)],O.prototype,"parentCommunity",void 0),O=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(y.M)],O)},9927:(N,T,n)=>{"use strict";n.d(T,{n:()=>t});const t=new(n(42547).v)("collection")},10046:(N,T,n)=>{"use strict";n.d(T,{E:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(98688),m=n(96470),p=n(9927),_=n(72364),v=n(76829);let y=class extends v.M{static{this.type=_.G}get handle(){return this.firstMetadataValue("dc.identifier.uri")}get introductoryText(){return this.firstMetadataValue("dc.description")}get shortDescription(){return this.firstMetadataValue("dc.description.abstract")}get copyrightText(){return this.firstMetadataValue("dc.rights")}get sidebarText(){return this.firstMetadataValue("dc.description.tableofcontents")}getParentLinkKey(){return"parentCommunity"}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"archivedItemsCount",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(m.e),(0,i.Sn)("design:type",l.c)],y.prototype,"logo",void 0),(0,i.Cg)([(0,e.nf)(p.n,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"collections",void 0),(0,i.Cg)([(0,e.nf)(_.G,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"subcommunities",void 0),(0,i.Cg)([(0,e.nf)(_.G,!1),(0,i.Sn)("design:type",l.c)],y.prototype,"parentCommunity",void 0),y=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(v.M)],y)},72364:(N,T,n)=>{"use strict";n.d(T,{G:()=>t});const t=new(n(42547).v)("community")},98179:(N,T,n)=>{"use strict";n.d(T,{l:()=>i});var i=function(t){return t[t.CF_ACCEPTED=600]="CF_ACCEPTED",t[t.CF_UNCERTAIN=500]="CF_UNCERTAIN",t[t.CF_AMBIGUOUS=400]="CF_AMBIGUOUS",t[t.CF_NOTFOUND=300]="CF_NOTFOUND",t[t.CF_FAILED=200]="CF_FAILED",t[t.CF_REJECTED=100]="CF_REJECTED",t[t.CF_NOVALUE=0]="CF_NOVALUE",t[t.CF_UNSET=-1]="CF_UNSET",t}(i||{})},54559:(N,T,n)=>{"use strict";n.d(T,{f:()=>t});var i=n(82777);class t{Serialize(e){return(0,i.Im)(e)?"all":e}Deserialize(e){return"all"===e?"":e}}},45348:(N,T,n)=>{"use strict";n.d(T,{Z:()=>y,s:()=>v});var i=n(31635),t=n(74850),l=n(21921),e=n(56970),f=n(98688),m=n(42547);const p=new m.v("contentsource");var _=n(54559),v=function(C){return C.None="NONE",C.Metadata="METADATA_ONLY",C.MetadataAndRef="METADATA_AND_REF",C.MetadataAndBitstreams="METADATA_AND_BITSTREAMS",C}(v||{});let y=class extends e.I{constructor(){super(...arguments),this.type=p,this.harvestType=v.None}static{this.type=p}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",m.v)],y.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)("self"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([(0,t.autoserializeAs)("oai_source"),(0,i.Sn)("design:type",String)],y.prototype,"oaiSource",void 0),(0,i.Cg)([(0,t.deserializeAs)(new _.f,"oai_set_id"),(0,t.serializeAs)(new _.f,"oai_set_id"),(0,i.Sn)("design:type",String)],y.prototype,"oaiSetId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("metadata_config_id"),(0,i.Sn)("design:type",String)],y.prototype,"metadataConfigId",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_type"),(0,i.Sn)("design:type",Object)],y.prototype,"harvestType",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_status"),(0,i.Sn)("design:type",String)],y.prototype,"harvestStatus",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_start_time"),(0,i.Sn)("design:type",String)],y.prototype,"harvestStartTime",void 0),(0,i.Cg)([(0,t.autoserializeAs)("last_harvested"),(0,i.Sn)("design:type",String)],y.prototype,"lastHarvested",void 0),(0,i.Cg)([(0,t.autoserializeAs)("harvest_message"),(0,i.Sn)("design:type",String)],y.prototype,"message",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([l.gV],y)},26292:(N,T,n)=>{"use strict";n.d(T,{o:()=>i});var i=function(t){return t.Any="undefined",t.ItemPage="itemPage",t.Search="search",t.Workflow="workflow",t.Workspace="workspace",t.SupervisedItems="supervisedWorkspace",t.AdminMenu="adminMenu",t.EntitySearchModalWithNameVariants="EntitySearchModalWithNameVariants",t.EntitySearchModal="EntitySearchModal",t.AdminSearch="adminSearch",t.AdminWorkflowSearch="adminWorkflowSearch",t.SideBarSearchModal="sideBarSearchModal",t.SideBarSearchModalCurrent="sideBarSearchModalCurrent",t.MyDSpaceArchived="mydspaceArchived",t.MyDSpaceWorkspace="mydspaceWorkspace",t.MyDSpaceWorkflow="mydspaceWorkflow",t.MyDSpaceDeclined="mydspaceDeclined",t.MyDSpaceApproved="mydspaceApproved",t.MyDSpaceWaitingController="mydspaceWaitingController",t.MyDSpaceValidation="mydspaceValidation",t.Bitstream="bitstream",t.CoarNotify="coarNotify",t}(i||{})},52998:(N,T,n)=>{"use strict";function i(t,l){t.getValue()!==l&&t.next(l)}n.d(T,{S:()=>i})},13864:(N,T,n)=>{"use strict";n.d(T,{W:()=>i});var i=function(t){return t.BUNDLE="BUNDLE",t.BITSTREAM="BITSTREAM",t.ITEM="ITEM",t.COLLECTION="COLLECTION",t.COMMUNITY="COMMUNITY",t.DSPACEOBJECT="DSPACEOBJECT",t}(i||{})},76829:(N,T,n)=>{"use strict";n.d(T,{M:()=>C});var i=n(31635),t=n(74850),l=n(82777),e=n(22878),f=n(21921),m=n(98688),p=n(39147),_=n(14391),v=n(39552),y=n(42547);let C=class extends e.u{static{this.type=p.X}get self(){return this._links.self.href}set self(I){this._links.self={href:I}}get name(){return(0,l.b0)(this._name)?this.firstMetadataValue("dc.title"):this._name}set name(I){(0,l.a4)(this.firstMetadata("dc.title"))&&(this.firstMetadata("dc.title").value=I),this._name=I}get metadataAsList(){return v.O.toViewModelList(this.metadata)}allMetadata(I,D){return v.O.all(this.metadata,I,D)}allMetadataValues(I,D){return v.O.allValues(this.metadata,I,D)}firstMetadata(I,D){return v.O.first(this.metadata,I,D)}firstMetadataValue(I,D){return v.O.firstValue(this.metadata,I,D)}hasMetadata(I,D){return v.O.has(this.metadata,I,D)}findMetadataSortedByPlace(I){return this.allMetadata(I).sort((D,R)=>(0,l.Tn)(D.place)&&(0,l.Tn)(R.place)?0:(0,l.Tn)(D.place)?-1:(0,l.Tn)(R.place)?1:D.place-R.place)}getRenderTypes(){return[this.constructor]}setMetadata(I,D,...R){const h=R.map((w,b)=>{const P=new _.vD;return P.value=w,P.authority=null,P.confidence=-1,P.language=D||null,P.place=b,P});(0,l.Tn)(this.metadata)&&(this.metadata=Object.create({})),this.metadata[I]=h}removeMetadata(I){delete this.metadata[I]}};(0,i.Cg)([m.aK,(0,t.deserializeAs)("name"),(0,i.Sn)("design:type",String)],C.prototype,"_name",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(String,"uuid"),(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",y.v)],C.prototype,"type",void 0),(0,i.Cg)([m.aK,(0,t.autoserializeAs)(_.Of),(0,i.Sn)("design:type",_.Cr)],C.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),C=(0,i.Cg)([f.gV],C)},39147:(N,T,n)=>{"use strict";n.d(T,{X:()=>t});const t=new(n(42547).v)("dspaceobject")},15179:(N,T,n)=>{"use strict";n.d(T,{$:()=>v});var i=n(31635),t=n(74850),l=n(22878),e=n(21921),f=n(98688),m=n(42547);const p=new m.v("externalSourceEntry");var _=n(14391);let v=class extends l.u{static{this.type=p}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"externalSource",void 0),(0,i.Cg)([(0,t.autoserializeAs)(_.Of),(0,i.Sn)("design:type",_.Cr)],v.prototype,"metadata",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV],v)},31507:(N,T,n)=>{"use strict";n.d(T,{B:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(56970),m=n(98688),p=n(42547);const _=new p.v("externalsource");var v=n(49623);let y=class extends f.I{static{this.type=_}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],y.prototype,"hierarchical",void 0),(0,i.Cg)([(0,e.nf)(v.N,!0),(0,i.Sn)("design:type",l.c)],y.prototype,"entityTypes",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),y=(0,i.Cg)([e.gV],y)},89269:(N,T,n)=>{"use strict";n.d(T,{E:()=>_});var i=n(96697),t=n(96354),l=n(82777),e=n(67116),f=n(1676),m=n(45663),p=n(54438);let _=(()=>{class v{constructor(C,O){this._window=C,this.authService=O}retrieveFileDownloadLink(C){return this.authService.getShortlivedToken().pipe((0,i.s)(1),(0,t.T)(O=>(0,l.a4)(O)?new m.t(C,`?authentication-token=${O}`).toString():C))}getFileNameFromResponseContentDisposition(C){const O=C.headers.get("content-disposition")||"";return((/filename="([^;]+)"/gi.exec(O)||[])[1]||"untitled").trim().replace(/\.[^/.]+$/,"")}static{this.\u0275fac=function(O){return new(O||v)(p.KVO(f.lc),p.KVO(e.uR))}}static{this.\u0275prov=p.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},55451:(N,T,n)=>{"use strict";n.d(T,{P:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(393),m=n(8472),p=n(42547);let _=class extends m.o{constructor(){super(...arguments),this.type=f.z}static{this.type=f.z}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",p.v)],_.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.o)],_)},393:(N,T,n)=>{"use strict";n.d(T,{z:()=>t});const t=new(n(42547).v)("flatBrowse")},4910:(N,T,n)=>{"use strict";n.d(T,{Y:()=>R});var i=n(88141),t=n(5964),l=n(96354),e=n(96697),f=n(25558),m=n(99172),p=n(23294),_=n(82777),v=n(72734),y=n(43052),C=n(32473),O=n(61424),I=n(80183),D=n(54438);let R=(()=>{class h{constructor(b,P){this.requestService=b,this.rdbService=P}getRootHref(){return(new O.F).toString()}getRootEndpointMap(){return this.getEndpointMapAt(this.getRootHref())}getEndpointMapAt(b){const P=new y.ld(this.requestService.generateRequestId(),b);return this.requestService.send(P,!0),this.rdbService.buildFromHref(b).pipe((0,i.M)(M=>{(0,_.a4)(M)&&M.isStale&&this.getEndpointMapAt(b)}),(0,t.p)(M=>!M.isStale),(0,I.qD)(),(0,l.T)(M=>{if((0,_.a4)(M.payload))return M.payload._links;console.warn(`No _links section found at ${b}`)}))}getEndpoint(b,P){const M=b.split("/").filter(L=>(0,_.hj)(L));return this.getEndpointAt(P||this.getRootHref(),...M).pipe((0,e.s)(1))}getEndpointAt(b,...P){if((0,_.Im)(P))throw new Error("cant't fetch the URL without the HAL link names");const M=this.getEndpointMapAt(b).pipe((0,l.T)(L=>{const B=P[0];if((0,_.a4)(L)&&(0,_.a4)(L[B]))return L[B].href;throw new Error(`${JSON.stringify(L)} doesn't contain the link ${B}`)}));return 1===P.length?M.pipe((0,e.s)(1)):M.pipe((0,f.n)(L=>this.getEndpointAt(L,...P.slice(1))),(0,e.s)(1))}isEnabledOnRestApi(b){return this.getRootEndpointMap().pipe((0,l.T)(P=>(0,_.hj)(P[b])),(0,m.Z)(void 0),(0,p.F)())}static{this.\u0275fac=function(P){return new(P||h)(D.KVO(C.B),D.KVO(v.o))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},11453:(N,T,n)=>{"use strict";n.d(T,{s:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],l.prototype,"_links",void 0)},98277:(N,T,n)=>{"use strict";n.d(T,{R:()=>v});var i=n(31635),t=n(74850),l=n(1624),e=n(21921),f=n(98688),m=n(34427),p=n(70035),_=n(42547);let v=class extends m.o{constructor(){super(...arguments),this.type=p.L}static{this.type=p.L}get self(){return this._links.self.href}getRenderType(){return l.O.Hierarchy}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",_.v)],v.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"facetType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"vocabulary",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.o)],v)},70035:(N,T,n)=>{"use strict";n.d(T,{L:()=>t});const t=new(n(42547).v)("hierarchicalBrowse")},23881:(N,T,n)=>{"use strict";n.d(T,{S:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(98688),m=n(42547),p=n(49623);let _=class{static{this.type=p.N}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"label",void 0),(0,i.Cg)([(0,t.deserializeAs)(new e.a(_.type.value),"id"),(0,i.Sn)("design:type",String)],_.prototype,"uuid",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV],_)},49623:(N,T,n)=>{"use strict";n.d(T,{N:()=>t,k:()=>l});const t=new(n(42547).v)("entitytype"),l="none"},59854:(N,T,n)=>{"use strict";n.d(T,{F:()=>y});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(98688),p=n(42547),_=n(49623),v=n(80284);let y=class{static{this.type=v.U}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",p.v)],y.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"label",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"id",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(y.type.value),"id"),(0,i.Sn)("design:type",String)],y.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"leftwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"leftMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"leftMinCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],y.prototype,"rightwardType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"rightMaxCardinality",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],y.prototype,"rightMinCardinality",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],y.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(_.N),(0,i.Sn)("design:type",l.c)],y.prototype,"leftType",void 0),(0,i.Cg)([(0,e.nf)(_.N),(0,i.Sn)("design:type",l.c)],y.prototype,"rightType",void 0),y=(0,i.Cg)([e.gV],y)},80284:(N,T,n)=>{"use strict";n.d(T,{U:()=>t});const t=new(n(42547).v)("relationshiptype")},67359:(N,T,n)=>{"use strict";n.d(T,{b:()=>C});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(24547),m=n(98688),p=n(13868),_=n(42547),v=n(17133),y=n(80284);let C=class{static{this.type=v.X}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",_.v)],C.prototype,"type",void 0),(0,i.Cg)([(0,t.deserializeAs)(new f.a(C.type.value),"id"),(0,i.Sn)("design:type",String)],C.prototype,"uuid",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"leftPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"rightPlace",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"leftwardValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"rightwardValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",l.c)],C.prototype,"leftItem",void 0),(0,i.Cg)([(0,e.nf)(p.U),(0,i.Sn)("design:type",l.c)],C.prototype,"rightItem",void 0),(0,i.Cg)([(0,e.nf)(y.U),(0,i.Sn)("design:type",l.c)],C.prototype,"relationshipType",void 0),C=(0,i.Cg)([e.gV],C)},17133:(N,T,n)=>{"use strict";n.d(T,{X:()=>t});const t=new(n(42547).v)("relationship")},52920:(N,T,n)=>{"use strict";n.d(T,{b:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(42547);const m=new f.v("itemrequest");let p=class{static{this.type=m}};(0,i.Cg)([e.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"token",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"allfiles",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestEmail",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestMessage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"requestDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"acceptRequest",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"decisionDate",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"expires",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"itemId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"bitstreamId",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([l.gV],p)},88318:(N,T,n)=>{"use strict";n.d(T,{q:()=>R});var i=n(31635),t=n(74850),l=n(71985),e=n(87922),f=n(82777),m=n(89177),p=n(21921),_=n(96470),v=n(2527),y=n(9927),C=n(76829),O=n(13868),I=n(17133),D=n(16321);let R=class extends C.M{static{this.type=O.U}getRenderTypes(){const w=this.firstMetadataValue("dspace.entity.type");return(0,f.Im)(w)?super.getRenderTypes():[w,...super.getRenderTypes()]}getParentLinkKey(){return"owningCollection"}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],R.prototype,"handle",void 0),(0,i.Cg)([(0,t.deserializeAs)(Date),(0,i.Sn)("design:type",Date)],R.prototype,"lastModified",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"inArchive"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isArchived",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"discoverable"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isDiscoverable",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Boolean,"withdrawn"),(0,i.Sn)("design:type",Boolean)],R.prototype,"isWithdrawn",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],R.prototype,"_links",void 0),(0,i.Cg)([(0,p.nf)(y.n),(0,i.Sn)("design:type",l.c)],R.prototype,"owningCollection",void 0),(0,i.Cg)([(0,p.nf)(D.x),(0,i.Sn)("design:type",l.c)],R.prototype,"version",void 0),(0,i.Cg)([(0,p.nf)(v.d,!0),(0,i.Sn)("design:type",l.c)],R.prototype,"bundles",void 0),(0,i.Cg)([(0,p.nf)(I.X,!0),(0,i.Sn)("design:type",l.c)],R.prototype,"relationships",void 0),(0,i.Cg)([(0,p.nf)(_.e,!1,"thumbnail"),(0,i.Sn)("design:type",l.c)],R.prototype,"thumbnail",void 0),(0,i.Cg)([(0,p.nf)(e.E),(0,i.Sn)("design:type",l.c)],R.prototype,"accessStatus",void 0),(0,i.Cg)([(0,p.nf)(m.f,!1,"identifiers"),(0,i.Sn)("design:type",l.c)],R.prototype,"identifiers",void 0),R=(0,i.Cg)([p.gV,(0,t.inheritSerialization)(C.M)],R)},13868:(N,T,n)=>{"use strict";n.d(T,{U:()=>t});const t=new(n(42547).v)("item")},18602:(N,T,n)=>{"use strict";n.d(T,{m:()=>t});const t=new(n(42547).v)("license")},93498:(N,T,n)=>{"use strict";n.d(T,{y:()=>l});var i=n(88318),t=n(85448);class l extends i.q{constructor(f){super(),this.virtualMetadata=f}get itemType(){return this.firstMetadataValue("dspace.entity.type")}get representationType(){return t.d.Item}getValue(){return this.virtualMetadata.value}}},85448:(N,T,n)=>{"use strict";n.d(T,{d:()=>i});var i=function(t){return t.None="none",t.Item="item",t.AuthorityControlled="authority_controlled",t.PlainText="plain_text",t.BrowseLink="browse_link",t}(i||{})},90424:(N,T,n)=>{"use strict";n.d(T,{Q:()=>e});var i=n(82777),t=n(14391),l=n(85448);class e extends t.vD{constructor(m,p){super(),this.itemType=m,this.browseDefinition=p}get representationType(){return(0,i.a4)(this.authority)?l.d.AuthorityControlled:(0,i.a4)(this.browseDefinition)?l.d.BrowseLink:l.d.PlainText}getValue(){return this.value}}},14391:(N,T,n)=>{"use strict";n.d(T,{BY:()=>e,Cr:()=>f,Of:()=>_,vD:()=>m});var i=n(31635),t=n(74850),l=n(36883);const e="virtual::";class f{}class m{constructor(){this.uuid=(0,l.A)()}}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"language",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"place",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],m.prototype,"confidence",void 0);const _={Serialize(v){const y={};return Object.keys(v).forEach(C=>{y[C]=(0,t.Serialize)(v[C],m)}),y},Deserialize(v){const y={};return Object.keys(v).forEach(C=>{y[C]=(0,t.Deserialize)(v[C],m)}),y}}},39552:(N,T,n)=>{"use strict";n.d(T,{O:()=>p});var i=n(28267),t=n.n(i),l=n(69136),e=n.n(l),f=n(82777),m=n(14391);class p{static all(v,y,C){const O=v instanceof Array?v:[v],I=[];for(const D of O){for(const R of p.resolveKeys(D,y)){const h=D[R];if(h)for(const w of h)p.valueMatches(w,C)&&I.push(w)}if(!(0,f.Im)(I))return I}return I}static allValues(v,y,C){return p.all(v,y,C).map(O=>O.value)}static first(v,y,C){const O=v instanceof Array?v:[v];for(const I of O)for(const D of p.resolveKeys(I,y)){const R=I[D];if(R)return R.find(h=>p.valueMatches(h,C))}}static firstValue(v,y,C){const O=p.first(v,y,C);return(0,f.b0)(O)?void 0:O.value}static has(v,y,C){return(0,f.EA)(p.first(v,y,C))}static valueMatches(v,y){if(!y)return!0;if(y.language&&y.language!==v.language)return!1;if(y.authority&&y.authority!==v.authority)return!1;if(y.value){let C=y.value,O=v.value;return y.ignoreCase&&(C=y.value.toLowerCase(),O=v.value.toLowerCase()),y.substring?O.includes(C):O===C}return!0}static resolveKeys(v={},y){const C=y instanceof Array?y:[y],O=[];for(const I of C)if(I.includes("*")){const D=new RegExp("^"+I.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$");for(const R of Object.keys(v))!O.includes(R)&&D.test(R)&&O.push(R)}else v.hasOwnProperty(I)&&!O.includes(I)&&O.push(I);return O}static toViewModelList(v){let y=[];return Object.keys(v).sort().forEach(C=>{const O=v[C].map((I,D)=>Object.assign({},I,{order:D,key:C}));y=[...y,...O]}),y}static toMetadataMap(v){const y={},C=t()(v,O=>O.key);return Object.keys(C).sort().forEach(O=>{const I=e()(C[O],["order"]);y[O]=I.map(D=>{const R=Object.assign(new m.vD,D);return delete R.order,delete R.key,R})}),y}static setFirstValue(v,y,C){(0,f.hj)(v[y])?v[y][0].value=C:v[y]=[Object.assign(new m.vD,{value:C})]}}},8472:(N,T,n)=>{"use strict";n.d(T,{o:()=>f});var i=n(31635),t=n(74850),e=(n(1624),n(34427));let f=class extends e.o{};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],f.prototype,"sortOptions",void 0),(0,i.Cg)([(0,t.autoserializeAs)("order"),(0,i.Sn)("design:type",String)],f.prototype,"defaultSortOrder",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],f.prototype,"dataType",void 0),f=(0,i.Cg)([(0,t.inheritSerialization)(e.o)],f)},80183:(N,T,n)=>{"use strict";n.d(T,{f6:()=>w,F3:()=>h,bD:()=>M,v7:()=>q,Hz:()=>z,Jq:()=>H,D4:()=>J,qD:()=>L,GD:()=>Y,yd:()=>U,ak:()=>j,QQ:()=>G,Ar:()=>V,o5:()=>$,W8:()=>P,Bo:()=>b,LB:()=>ie,qn:()=>Q,jY:()=>Z});var i=n(54438),t=n(40605),l=n(84572),e=n(39974),f=n(85343),m=n(54360),p=n(58750),v=n(70152),y=n(96354),C=n(5964),O=n(96697),I=n(47677),D=n(25558),R=n(82777);const h=(oe,pe)=>function _(oe){return(0,e.N)((pe,ne)=>{let re=!1,Ce=null,Ee=null;const ue=()=>{if(Ee?.unsubscribe(),Ee=null,re){re=!1;const ae=Ce;Ce=null,ne.next(ae)}};pe.subscribe((0,m._)(ne,ae=>{Ee?.unsubscribe(),re=!0,Ce=ae,Ee=(0,m._)(ne,ue,f.l),(0,p.Tg)(oe(ae)).subscribe(Ee)},()=>{ue(),ne.complete()},void 0,()=>{Ce=Ee=null}))})}(()=>(0,t.Y)(oe,pe)),w=new i.nKC("debounceTime",{providedIn:"root",factory:()=>v.B}),b=()=>oe=>oe.pipe((0,y.T)(pe=>pe?.payload)),P=()=>oe=>oe.pipe((0,y.T)(pe=>pe.page)),M=()=>oe=>oe.pipe((0,C.p)(pe=>(0,R.a4)(pe)&&pe.hasCompleted)),L=()=>oe=>oe.pipe(M(),(0,O.s)(1)),U=()=>oe=>oe.pipe((0,C.p)(pe=>pe.hasSucceeded),(0,O.s)(1)),$=()=>oe=>oe.pipe((0,I.I)(pe=>pe.hasSucceeded&&(0,R.hj)(pe.payload))),j=()=>oe=>oe.pipe(U(),b()),G=()=>oe=>oe.pipe($(),b()),z=()=>oe=>oe.pipe(q(),b()),V=()=>oe=>oe.pipe(U(),b(),P()),J=()=>oe=>oe.pipe((0,I.I)(pe=>!pe.isLoading)),q=()=>oe=>oe.pipe((0,C.p)(pe=>pe.hasSucceeded)),Z=()=>oe=>oe.pipe((0,C.p)(pe=>pe.hasSucceeded),(0,y.T)(pe=>{const ne=pe.payload.page.filter(Ce=>(0,R.a4)(Ce)).map(Ce=>Ce.indexableObject),re=Object.assign(pe.payload,{page:ne});return Object.assign(pe,{payload:re})})),H=oe=>pe=>pe.pipe(b(),P(),(0,y.T)(ne=>ne.find(re=>re.id===oe)),(0,y.T)(ne=>{if((0,R.hj)(ne))return ne._links;throw new Error(`No metadata browse definition could be found for id '${oe}'`)})),Y=()=>oe=>oe.pipe((0,y.T)(pe=>Object.assign(pe,{payload:pe.payload.page.length>0?pe.payload.page[0]:void 0}))),Q=()=>oe=>oe.pipe((0,R.Az)(),(0,y.T)(pe=>pe.payload.page.filter(ne=>(0,R.a4)(ne)))),ie=()=>oe=>oe.pipe((0,R.Az)(),(0,y.T)(pe=>pe.payload.page.filter(ne=>(0,R.a4)(ne))),(0,D.n)(pe=>{const ne=pe.map(re=>re.schema.pipe(j(),(0,y.T)(Ce=>({field:re,schema:Ce}))));return(0,R.hj)(ne)?(0,l.z)(ne):[[]]}),(0,y.T)(pe=>pe.map(ne=>ne.schema.prefix+"."+ne.field.toString())))},32089:(N,T,n)=>{"use strict";n.d(T,{Q:()=>e});var i=n(31635),t=n(74850),l=n(82777);class e{constructor(m){(0,l.a4)(m)&&(this.elementsPerPage=m.elementsPerPage,this.totalElements=m.totalElements,this.totalPages=m.totalPages,this.currentPage=m.currentPage)}get self(){return this._links.self.href}get last(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.last))return this._links.last.href}get next(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.next))return this._links.next.href}get prev(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.prev))return this._links.prev.href}get first(){if((0,l.a4)(this._links)&&(0,l.a4)(this._links.first))return this._links.first.href}}(0,i.Cg)([(0,t.autoserializeAs)(Number,"size"),(0,i.Sn)("design:type",Number)],e.prototype,"elementsPerPage",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalElements",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],e.prototype,"totalPages",void 0),(0,i.Cg)([(0,t.autoserializeAs)(Number,"number"),(0,i.Sn)("design:type",Number)],e.prototype,"currentPage",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],e.prototype,"_links",void 0)},71135:(N,T,n)=>{"use strict";n.d(T,{c:()=>f});var i=n(31635),t=n(21921);const e=new(n(42547).v)("registration");let f=class{static{this.type=e}};f=(0,i.Cg)([t.gV],f)},91098:(N,T,n)=>{"use strict";n.d(T,{Ky:()=>e,m9:()=>f,w$:()=>p});var i=n(73028),t=n(88141),l=n(82777);const e=_=>v=>v.pipe((0,i.Z)(y=>_.getByHref(y)),(0,l.Az)()),f=_=>v=>v.pipe((0,i.Z)(y=>_.getByUUID(y)),(0,l.Az)()),p=_=>v=>v.pipe((0,t.M)(y=>_.send(y)))},42547:(N,T,n)=>{"use strict";n.d(T,{v:()=>i});class i{constructor(l){this.value=l}}},39012:(N,T,n)=>{"use strict";n.d(T,{g:()=>Ee});var i=n(84572),t=n(84412),l=n(57786),e=n(99172),f=n(96354),m=n(5964),p=n(96697),_=n(82640),v=n(82777),y=n(23401),C=n(43404),O=n(59780),I=n(33550);class D{constructor(ae,ye,De){this.key=ae,this.values=ye,this.operator=De}}var R=n(6842),h=n(54196),w=n(1321),b=n(72734),P=n(6238),M=n(31635),L=n(74850),B=n(21921),U=n(98688);const j=new(n(42547).v)("discovery-facets");let G=class{constructor(){this.type=j}static{this.type=j}};(0,M.Cg)([U.aK,(0,M.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,M.Cg)([L.deserialize,(0,M.Sn)("design:type",Object)],G.prototype,"_links",void 0),G=(0,M.Cg)([B.gV],G);var z=n(13808),V=n(28580),X=n(49872),J=n(54438);let q=(()=>{class ue extends X.D3{parse(ye,De){const tt=De.payload._embedded.facets,We=new V.T(R.F).deserializeArray(tt),dt={self:De.payload._links.self};We.forEach(Ge=>{dt[Ge.name]={href:Ge._links.self.href}});const it=Object.assign(new G,{filters:We,_links:dt});return this.addToObjectCache(it,ye,De),new z.hT(De.statusCode,it._links.self)}static{this.\u0275fac=(()=>{let ye;return function(tt){return(ye||(ye=J.xGo(ue)))(tt||ue)}})()}static{this.\u0275prov=J.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}return ue})();var Z=n(1716),H=n(43052),Y=n(32473),Q=n(22978),ie=n(56760),oe=n(45663),pe=n(13864),ne=n(4910),re=n(80183),Ce=n(7901);let Ee=(()=>{class ue{constructor(ye,De,tt,_t,We,dt,it,Ge){this.routeService=ye,this.paginationService=De,this.route=tt,this.linkService=_t,this.halService=We,this.requestService=dt,this.rdb=it,this.appConfig=Ge,this.configurationLinkPath="discover/search",this.facetLinkPathPrefix="discover/facets/",this.paginationID="spc",this.defaultPagination=Object.assign(new y.W,{id:this.paginationID,pageSize:10,currentPage:1}),this.defaultScope="",this.defaultQuery="",this.subs=new Map(null),this.initDefaults()}get defaults(){if((0,v.Tn)(this._defaults)){const ye=new I.C({pagination:this.defaultPagination,scope:this.defaultScope,query:this.defaultQuery});this._defaults=(0,C.CX)(ye,(new Date).getTime())}return this._defaults}getCurrentConfiguration(ye){return(0,i.z)([this.routeService.getQueryParameterValue("configuration").pipe((0,e.Z)(void 0)),this.routeService.getRouteParameterValue("configuration").pipe((0,e.Z)(void 0))]).pipe((0,f.T)(([De,tt])=>De||tt||ye))}getCurrentScope(ye){return this.routeService.getQueryParameterValue("scope").pipe((0,f.T)(De=>De||ye))}getCurrentQuery(ye){return this.routeService.getQueryParameterValue("query").pipe((0,f.T)(De=>De||ye))}getCurrentDSOType(){return this.routeService.getQueryParameterValue("dsoType").pipe((0,m.p)(ye=>(0,v.hj)(ye)&&(0,v.a4)(pe.W[ye.toUpperCase()])),(0,f.T)(ye=>pe.W[ye.toUpperCase()]))}getCurrentPagination(ye,De){return this.paginationService.getCurrentPagination(ye,De)}getCurrentSort(ye,De){return this.paginationService.getCurrentSort(ye,De)}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.").pipe((0,f.T)(ye=>{if((0,v.hj)(ye)){const De=[];return Object.keys(ye).forEach(tt=>{if(tt.endsWith(".min")||tt.endsWith(".max")){const _t=tt.slice(0,-4);(0,v.Tn)(De.find(We=>We.key===_t))&&De.push(new D(_t,["["+(ye[_t+".min"]?ye[_t+".min"][0]:"*")+" TO "+(ye[_t+".max"]?ye[_t+".max"][0]:"*")+"]"],"equals"))}else De.push(new D(tt,ye[tt]))}),De}return[]}))}getCurrentFixedFilter(){return this.routeService.getRouteParameterValue("fixedFilterQuery")}getCurrentFrontendFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentViewMode(ye){return this.routeService.getQueryParameterValue("view").pipe((0,f.T)(De=>De||ye))}getConfigurationSearchConfig(ye,De){return this.getSearchConfigurationFor(De,ye).pipe((0,re.Hz)())}getConfigurationSortOptions(ye){return ye.sortOptions.map(De=>({field:De.name,direction:De.sortOrder.toLowerCase()===P.U.ASC.toLowerCase()?P.U.ASC:P.U.DESC}))}getConfigurationAdvancedSearchFilters(ye,De){return this.getConfigurationSearchConfig(ye,De).pipe((0,f.T)(tt=>tt.filters.filter(_t=>this.appConfig.search.advancedFilters.filter.includes(_t.filter)).filter(_t=>_t.type!==O.R.range)))}setPaginationId(ye){if((0,v.hj)(ye)){const De=this.paginatedSearchOptions.getValue(),tt=Object.assign(new I.C({}),De,{pagination:Object.assign({},De.pagination,{id:ye})});this.unsubscribeFromSearchOptions(this.paginationID),this.paginationID=ye,this.paginatedSearchOptions.next(tt),this.setSearchSubscription(this.paginationID,this.paginatedSearchOptions.value)}}ngOnDestroy(){this.subs.forEach(ye=>ye.filter(De=>(0,v.a4)(De)).forEach(De=>De.unsubscribe())),this.subs=new Map(null)}initDefaults(){this.defaults.pipe((0,re.yd)()).subscribe(ye=>{const De=ye.payload;this.paginatedSearchOptions=new t.t(De),this.searchOptions=new t.t(De),this.setSearchSubscription(this.paginationID,De)})}setSearchSubscription(ye,De){this.unsubscribeFromSearchOptions(ye);const tt=[this.subscribeToSearchOptions(De),this.subscribeToPaginatedSearchOptions(ye||De.pagination.id,De)];this.subs.set(this.paginationID,tt)}subscribeToSearchOptions(ye){return(0,l.h)(this.getConfigurationPart(ye.configuration),this.getScopePart(ye.scope),this.getQueryPart(ye.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(ye.view)).subscribe(De=>{const tt=this.searchOptions.getValue(),_t=Object.assign(new I.C({}),tt,De);this.searchOptions.next(_t)})}subscribeToPaginatedSearchOptions(ye,De){return(0,l.h)(this.getConfigurationPart(De.configuration),this.getPaginationPart(ye,De.pagination),this.getSortPart(ye,De.sort),this.getScopePart(De.scope),this.getQueryPart(De.query),this.getDSOTypePart(),this.getFiltersPart(),this.getFixedFilterPart(),this.getViewModePart(De.view)).subscribe(tt=>{const _t=this.paginatedSearchOptions.getValue(),We=Object.assign(new I.C({}),_t,tt);this.paginatedSearchOptions.next(We)})}unsubscribeFromSearchOptions(ye){this.subs.has(this.paginationID)&&(this.subs.get(this.paginationID).filter(De=>(0,v.a4)(De)).forEach(De=>De.unsubscribe()),this.subs.delete(ye))}getConfigurationPart(ye){return this.getCurrentConfiguration(ye).pipe((0,f.T)(De=>({configuration:De})))}getScopePart(ye){return this.getCurrentScope(ye).pipe((0,f.T)(De=>({scope:De})))}getQueryPart(ye){return this.getCurrentQuery(ye).pipe((0,f.T)(De=>({query:De})))}getDSOTypePart(){return this.getCurrentDSOType().pipe((0,f.T)(ye=>({dsoType:ye})))}getPaginationPart(ye,De){return this.getCurrentPagination(ye,De).pipe((0,f.T)(tt=>({pagination:tt})))}getSortPart(ye,De){return this.getCurrentSort(ye,De).pipe((0,f.T)(tt=>({sort:tt})))}getFiltersPart(){return this.getCurrentFilters().pipe((0,f.T)(ye=>({filters:ye})))}getFixedFilterPart(){return this.getCurrentFixedFilter().pipe((0,v.VT)(),(0,f.T)(ye=>({fixedFilter:ye})))}getSearchConfigurationFor(ye,De){const tt=this.halService.getEndpoint(this.configurationLinkPath).pipe((0,f.T)(_t=>this.getConfigUrl(_t,ye,De)));return tt.pipe((0,p.s)(1)).subscribe(_t=>{const We=new H.IP(this.requestService.generateRequestId(),_t);this.requestService.send(We,!0)}),this.rdb.buildFromHref(tt)}getConfigUrl(ye,De,tt){const _t=[];return(0,v.hj)(De)&&_t.push(`scope=${De}`),(0,v.hj)(tt)&&_t.push(`configuration=${tt}`),(0,v.hj)(_t)&&(ye=new oe.t(ye,`?${_t.join("&")}`).toString()),ye}getConfig(ye,De){const tt=this.halService.getEndpoint(this.facetLinkPathPrefix).pipe((0,f.T)(_t=>this.getConfigUrl(_t,ye,De)));return tt.pipe((0,p.s)(1)).subscribe(_t=>{let We=new H.IP(this.requestService.generateRequestId(),_t);We=Object.assign(We,{getResponseParser:()=>q}),this.requestService.send(We,!0)}),this.rdb.buildFromHref(tt).pipe((0,f.T)(_t=>{if(_t.hasSucceeded){let We;return We=(0,v.hj)(_t.payload.filters)?_t.payload.filters.map(dt=>Object.assign(new R.F,dt)):[],new Z.j(_t.timeCompleted,_t.msToLive,_t.lastUpdated,_t.state,_t.errorMessage,We,_t.statusCode)}return _t}))}unselectAppliedFilterParams(ye,De,tt){return this.routeService.getParamsExceptValue(`f.${ye}`,(0,v.a4)(tt)?(0,h.mq)(De,tt):De).pipe((0,f.T)(_t=>Object.assign(_t,{[this.paginationService.getPageParam(this.paginationID)]:1})))}selectNewAppliedFilterParams(ye,De,tt){return this.routeService.getParamsWithAdditionalValue(`f.${ye}`,(0,v.a4)(tt)?(0,h.mq)(De,tt):De).pipe((0,f.T)(_t=>Object.assign(_t,{[this.paginationService.getPageParam(this.paginationID)]:1})))}getViewModePart(ye){return this.getCurrentViewMode(ye).pipe((0,f.T)(De=>({view:De})))}static{this.\u0275fac=function(De){return new(De||ue)(J.KVO(ie.v$),J.KVO(Q.m),J.KVO(Ce.nX),J.KVO(w._),J.KVO(ne.Y),J.KVO(Y.B),J.KVO(b.o),J.KVO(_.vQ))}}static{this.\u0275prov=J.jDH({token:ue,factory:ue.\u0275fac,providedIn:"root"})}}return ue})()},15465:(N,T,n)=>{"use strict";n.d(T,{U:()=>w});var i=n(25499),t=n(84572),l=n(7673),e=n(96354),f=n(23294),m=n(82777),p=n(23401),_=n(54196),v=n(22180),y=n(54438);let C=(()=>{class M{constructor(){this.specials=["-","[","]","/","{","}","(",")","*","+","?",".","\\","^","$","|"],this.regex=RegExp("["+this.specials.join("\\")+"]","g")}transform(B,U){const $=this.escapeRegExp(U),j=new RegExp($,"gi");return B.replace(j,"<em>$&</em>")}escapeRegExp(B){return B.replace(this.regex,"\\$&")}static{this.\u0275fac=function(U){return new(U||M)}}static{this.\u0275pipe=y.EJ8({name:"dsEmphasize",type:M,pure:!0,standalone:!0})}}return M})();var O=n(6238),I=n(56760),D=n(80183),R=n(78655);const h=M=>M.searchFilter;let w=(()=>{class M{constructor(B,U,$){this.searchService=B,this.store=U,this.routeService=$}isFilterActiveWithValue(B,U){return this.routeService.hasQueryParamWithValue(B,U)}isFilterActive(B){return this.routeService.hasQueryParam(B)}getCurrentScope(){return this.routeService.getQueryParameterValue("scope")}getCurrentQuery(){return this.routeService.getQueryParameterValue("query")}getCurrentPagination(B={}){const U=this.routeService.getQueryParameterValue("page"),$=this.routeService.getQueryParameterValue("pageSize");return(0,t.z)(U,$).pipe((0,e.T)(([j,G])=>Object.assign(new p.W,B,{currentPage:j||1,pageSize:G||B.pageSize})))}getCurrentSort(B){const U=this.routeService.getQueryParameterValue("sortDirection"),$=this.routeService.getQueryParameterValue("sortField");return(0,t.z)(U,$).pipe((0,e.T)(([j,G])=>new O.z(G||B.field,O.U[j]||B.direction)))}getCurrentFilters(){return this.routeService.getQueryParamsWithPrefix("f.")}getCurrentView(){return this.routeService.getQueryParameterValue("view")}findSuggestions(B,U,$){return(0,m.hj)($)?this.searchService.getFacetValuesFor(B,1,U,$.toLowerCase()).pipe((0,D.yd)(),(0,e.T)(j=>j.payload.page.map(G=>({displayValue:this.getDisplayValue(G,$),query:(0,_.SB)(G,B),value:(0,_.gp)((0,_.SB)(G,B))})))):(0,l.of)([])}getDisplayValue(B,U){return`${(new C).transform(B.value,U)} (${B.count})`}isCollapsed(B){return this.store.pipe((0,i.Lt)(b(B)),(0,e.T)(U=>!!U&&(U.filterCollapsed||U.minimized)),(0,f.F)())}getPage(B){return this.store.pipe((0,i.Lt)(b(B)),(0,e.T)(U=>U?U.page:1),(0,f.F)())}collapse(B){this.store.dispatch(new v.ge(B))}expand(B){this.store.dispatch(new v.nj(B))}toggle(B){this.store.dispatch(new v.Fi(B))}initializeFilter(B){this.store.dispatch(new v.L2(B))}decrementPage(B){this.store.dispatch(new v.R0(B))}incrementPage(B){this.store.dispatch(new v.tq(B))}resetPage(B){this.store.dispatch(new v.Bf(B))}minimizeAll(){this.store.dispatch(new v.Po)}static{this.\u0275fac=function(U){return new(U||M)(y.KVO(R.S),y.KVO(i.il),y.KVO(I.v$))}}static{this.\u0275prov=y.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})();function b(M){return function P(M){return(0,i.Mz)(h,L=>{if((0,m.a4)(L))return L[M]})}(M)}},78655:(N,T,n)=>{"use strict";n.d(T,{S:()=>ye});var i=n(84412),t=n(84572),l=n(96354),e=n(23294),f=n(96697),m=n(25558),p=n(88141),_=n(82777),v=n(23401),y=n(33550),C=n(1102),O=n(43280),I=n(72734),D=n(49802),R=n(13989),h=n(54994),w=n(31635),b=n(74850),P=n(21921),M=n(96820),L=n(98688),U=(n(59780),n(24385));const j=new(n(42547).v)("discovery-facetvalues");let G=class extends U.a{constructor(){super(...arguments),this.type=j}static{this.type=j}};(0,w.Cg)([L.aK,(0,w.Sn)("design:type",Object)],G.prototype,"type",void 0),(0,w.Cg)([b.autoserialize,(0,w.Sn)("design:type",String)],G.prototype,"name",void 0),(0,w.Cg)([(0,b.autoserializeAs)(String,"facetType"),(0,w.Sn)("design:type",String)],G.prototype,"filterType",void 0),(0,w.Cg)([b.autoserialize,(0,w.Sn)("design:type",Number)],G.prototype,"facetLimit",void 0),(0,w.Cg)([(0,b.autoserializeAs)(h.L,"values"),(0,w.Sn)("design:type",Array)],G.prototype,"page",void 0),G=(0,w.Cg)([P.gV,(0,b.inheritSerialization)(M.O),(0,b.inheritSerialization)(U.a)],G);var z=n(13808),V=n(28580),X=n(49872),J=n(54438);let q=(()=>{class De extends X.D3{parse(_t,We){const dt=We.payload,it=new V.T(G).deserialize(dt);return it.pageInfo=this.processPageInfo(dt),it.page=new V.T(h.L).deserializeArray(dt._embedded.values),this.addToObjectCache(it,_t,We),new z.hT(We.statusCode,it._links.self)}static{this.\u0275fac=(()=>{let _t;return function(dt){return(_t||(_t=J.xGo(De)))(dt||De)}})()}static{this.\u0275prov=J.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})();var Z=n(1716),H=n(43052),Y=n(32473),Q=n(44701),ie=n(22978),oe=n(56760),pe=n(45663),ne=n(4910),re=n(80183),Ce=n(78448),Ee=n(39012),ue=n(97324);class ae extends D.L{constructor(){super("discover",void 0,void 0,void 0,void 0)}addEmbedParams(tt,_t,...We){return super.addEmbedParams(tt,_t,...We)}}let ye=(()=>{class De{constructor(_t,We,dt,it,Ge,gt,Pe,we){this.routeService=_t,this.requestService=We,this.rdb=dt,this.halService=it,this.dspaceObjectService=Ge,this.paginationService=gt,this.searchConfigurationService=Pe,this.angulartics2=we,this.searchLinkPath="discover/search/objects",this.parser=Q.z,this.request=H.IP,this.appliedFilters$=new i.t([]),this.searchDataService=new ae}getSelectedValuesForFilter(_t){return this.appliedFilters$.pipe((0,l.T)(We=>We.filter(dt=>dt.filter===_t)),(0,e.F)((We,dt)=>JSON.stringify(We)===JSON.stringify(dt)))}setServiceOptions(_t,We){_t&&(this.parser=_t),We&&(this.request=We)}getEndpoint(_t){return this.halService.getEndpoint(this.searchLinkPath).pipe((0,l.T)(We=>(0,_.a4)(_t)?_t.toRestUrl(We):We))}search(_t,We,dt=!0,it=!0,...Ge){const gt=this.getEndpoint(_t);gt.pipe((0,f.s)(1),(0,l.T)(we=>{const vt=this.searchDataService.addEmbedParams(we,[],...Ge);return(0,_.hj)(vt)?new pe.t(we,`?${vt.join("&")}`).toString():we})).subscribe(we=>{const vt=new this.request(this.requestService.generateRequestId(),we);Object.assign(vt,{responseMsToLive:(0,_.a4)(We)?We:vt.responseMsToLive,getResponseParser:()=>this.parser,searchOptions:_t}),this.requestService.send(vt,dt)});const Pe=gt.pipe((0,m.n)(we=>this.rdb.buildFromHref(we)));return this.directlyAttachIndexableObjects(Pe,dt,it,...Ge)}directlyAttachIndexableObjects(_t,We=!0,dt=!0,...it){return _t.pipe((0,m.n)(Ge=>{if((0,_.a4)(Ge.payload)&&(0,_.hj)(Ge.payload.page)){const gt=Ge.payload.page.map(Pe=>this.dspaceObjectService.findByHref(Pe._links.indexableObject.href,We,dt,...it).pipe((0,re.qD)(),(0,re.Bo)(),(0,_.Az)(),(0,l.T)(we=>{const at=(0,O.L)(we.constructor);return Object.assign(new at,Pe,{indexableObject:we})})));return(0,t.z)(gt).pipe((0,l.T)(Pe=>{const we=Object.assign(new C.n,Ge.payload,{page:Pe});return new Z.j(Ge.timeCompleted,Ge.msToLive,Ge.lastUpdated,Ge.state,Ge.errorMessage,we,Ge.statusCode)}))}return[Ge]}))}getFacetValuesFor(_t,We,dt,it,Ge=!0){let gt,Pe=[];(0,_.a4)(it)&&Pe.push(`prefix=${encodeURIComponent(it)}`),(0,_.a4)(dt)?gt=(dt=Object.assign(new y.C({}),dt,{pagination:Object.assign({},dt.pagination,{currentPage:We,pageSize:_t.pageSize})})).toRestUrl(_t._links.self.href,Pe):(Pe=["page="+(We-1),`size=${_t.pageSize}`,...Pe],gt=new pe.t(_t._links.self.href,`?${Pe.join("&")}`).toString());let we=new this.request(this.requestService.generateRequestId(),gt);return we=Object.assign(we,{getResponseParser:()=>q}),this.requestService.send(we,Ge),this.rdb.buildFromHref(gt).pipe((0,p.M)(vt=>{if(vt.hasSucceeded){const at=(vt.payload.appliedFilters??[]).filter(nt=>(0,_.a4)(nt)).map(nt=>Object.assign({},nt,{operator:(0,_.a4)(nt.value.match(/\[\s*(\*|\d+)\s*TO\s*(\*|\d+)\s*]/))?"range":nt.operator}));this.appliedFilters$.next(at)}}))}getViewMode(){return this.routeService.getQueryParamMap().pipe((0,l.T)(_t=>(0,_.hj)(_t.get("view"))&&(0,_.a4)(_t.get("view"))?_t.get("view"):Ce.n.ListElement))}setViewMode(_t,We){this.paginationService.getCurrentPagination(this.searchConfigurationService.paginationID,new v.W).pipe((0,f.s)(1)).subscribe(dt=>{let it={page:1};const Ge={view:_t};_t===Ce.n.DetailedListElement?it=Object.assign(it,{pageSize:1}):1===dt.pageSize&&(it=Object.assign(it,{pageSize:10})),this.paginationService.updateRouteWithUrl(this.searchConfigurationService.paginationID,(0,_.a4)(We)?We:[this.getSearchLink()],it,Ge)})}trackSearch(_t,We,dt){const it=[],Ge=We.appliedFilters||[];for(let gt=0,Pe=Ge.length;gt<Pe;gt++)it.push(Ge[gt]);this.angulartics2.eventTrack.next({action:"search",properties:{searchOptions:_t,page:{size:_t.pagination.size,totalElements:We.pageInfo.totalElements,totalPages:We.pageInfo.totalPages,number:_t.pagination.currentPage},sort:{by:_t.sort.field,order:_t.sort.direction},filters:it,clickedObject:dt}})}getSearchLink(){return"/search"}static{this.\u0275fac=function(We){return new(We||De)(J.KVO(oe.v$),J.KVO(Y.B),J.KVO(I.o),J.KVO(ne.Y),J.KVO(R.DSpaceObjectDataService),J.KVO(ie.m),J.KVO(Ee.g),J.KVO(ue.il))}}static{this.\u0275prov=J.jDH({token:De,factory:De.\u0275fac,providedIn:"root"})}}return De})()},30164:(N,T,n)=>{"use strict";n.d(T,{v:()=>l});var i=n(36883),t=n(54438);let l=(()=>{class e{generate(){return(0,i.A)()}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},50800:(N,T,n)=>{"use strict";n.d(T,{f:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688),f=n(8472),m=n(42547),p=n(7654);let _=class extends f.o{constructor(){super(...arguments),this.type=p.o}static{this.type=p.o}get self(){return this._links.self.href}getRenderType(){return this.dataType}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",m.v)],_.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.o)],_)},7654:(N,T,n)=>{"use strict";n.d(T,{o:()=>t});const t=new(n(42547).v)("valueList")},65592:(N,T,n)=>{"use strict";n.d(T,{s:()=>t});const t=new(n(42547).v)("versionhistory")},2035:(N,T,n)=>{"use strict";n.d(T,{R:()=>C});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(98688),p=n(76829),_=n(13868),v=n(16321),y=n(65592);let C=class extends p.M{static{this.type=v.x}};(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],C.prototype,"_links",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],C.prototype,"version",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"summary",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],C.prototype,"submitterName",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Date)],C.prototype,"created",void 0),(0,i.Cg)([m.aK,(0,e.nf)(y.s),(0,i.Sn)("design:type",l.c)],C.prototype,"versionhistory",void 0),(0,i.Cg)([m.aK,(0,e.nf)(_.U),(0,i.Sn)("design:type",l.c)],C.prototype,"item",void 0),(0,i.Cg)([m.aK,(0,e.nf)(f.N),(0,i.Sn)("design:type",l.c)],C.prototype,"eperson",void 0),C=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(p.M)],C)},16321:(N,T,n)=>{"use strict";n.d(T,{x:()=>t});const t=new(n(42547).v)("version")},78448:(N,T,n)=>{"use strict";n.d(T,{n:()=>i});var i=function(t){return t.ListElement="list",t.GridElement="grid",t.DetailedListElement="detailed",t.StandalonePage="standalone",t.Table="table",t}(i||{})},12070:(N,T,n)=>{"use strict";n.d(T,{K:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(11453),f=n(42547),m=n(98688),p=n(84276);let _=class extends e.s{static{this.type=p.N}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([(0,t.autoserializeAs)("report-type"),(0,i.Sn)("design:type",String)],_.prototype,"reportType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],_.prototype,"points",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.s)],_)},84276:(N,T,n)=>{"use strict";n.d(T,{N:()=>t});const t=new(n(42547).v)("usagereport")},92946:(N,T,n)=>{"use strict";n.d(T,{Q:()=>t});const t=new(n(42547).v)("submissioncclicense")},62572:(N,T,n)=>{"use strict";n.d(T,{C:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(11453),f=n(42547),m=n(98688),p=n(92946);let _=class extends e.s{static{this.type=p.Q}};(0,i.Cg)([m.aK,t.autoserialize,(0,i.Sn)("design:type",f.v)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],_.prototype,"fields",void 0),_=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.s)],_)},91902:(N,T,n)=>{"use strict";n.d(T,{w:()=>I});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(25168),m=n(58235),p=n(9927),_=n(76829),v=n(13868),y=n(83987),C=n(98688);let I=class extends _.M{get self(){return this._links.self.href}};(0,i.Cg)([C.aK,t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Date)],I.prototype,"lastModified",void 0),(0,i.Cg)([(0,e.nf)(p.n),(0,i.Sn)("design:type",Object)],I.prototype,"collection",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",class O{})],I.prototype,"sections",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"errors",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.U),(0,i.Sn)("design:type",Object)],I.prototype,"item",void 0),(0,i.Cg)([(0,e.nf)(f.M.type),(0,i.Sn)("design:type",Object)],I.prototype,"submissionDefinition",void 0),(0,i.Cg)([(0,e.nf)(m.N),(0,i.Sn)("design:type",Object)],I.prototype,"submitter",void 0),(0,i.Cg)([(0,e.nf)(y.T),(0,i.Sn)("design:type",l.c)],I.prototype,"supervisionOrders",void 0),I=(0,i.Cg)([(0,t.inheritSerialization)(_.M)],I)},25567:(N,T,n)=>{"use strict";n.d(T,{t:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(54949),m=n(91902);let p=class extends m.w{static{this.type=f.z}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(p.type.value),"id"),(0,i.Sn)("design:type",String)],p.prototype,"uuid",void 0),p=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.w),(0,l.o8)(m.w)],p)},91581:(N,T,n)=>{"use strict";n.d(T,{F:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(24547),f=n(6291),m=n(91902);let p=class extends m.w{static{this.type=f.l}};(0,i.Cg)([(0,t.deserializeAs)(new e.a(p.type.value),"id"),(0,i.Sn)("design:type",String)],p.prototype,"uuid",void 0),p=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(m.w),(0,l.o8)(m.w)],p)},69723:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SubmissionDuplicateDataService:()=>O});var i=n(72734),t=n(53954),l=n(41684),e=n(49802),f=n(35108),m=n(41023),p=n(43052),_=n(32473),v=n(44701),y=n(4910),C=n(54438);let O=(()=>{class I extends e.L{constructor(R,h,w,b){super("duplicates",R,h,w,b),this.requestService=R,this.rdbService=h,this.objectCache=w,this.halService=b,this.parser=v.z,this.request=p.IP,this.searchData=new f.X(this.linkPath,R,h,w,b,this.responseMsToLive)}searchBy(R,h,w,b,...P){return this.searchData.searchBy(R,h,w,b,...P)}getEndpoint(){return this.halService.getEndpoint(this.linkPath)}setServiceOptions(R,h){R&&(this.parser=R),h&&(this.request=h)}findDuplicates(R,h,w=!0,b=!0,...P){const M=[new t.x("uuid",R)];let L=new m._;return h&&(L=Object.assign(new m._,h)),L.searchParams=L.searchParams?[...L.searchParams,...M]:M,this.searchBy("findByItem",L,w,b,...P)}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(h){return new(h||I)(C.KVO(_.B),C.KVO(i.o),C.KVO(l.$),C.KVO(y.Y))}}static{this.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},83203:(N,T,n)=>{"use strict";n.d(T,{U:()=>G});var i=n(72734),t=n(43052),l=n(32473),e=n(57786);function f(z,V){return(X,J)=>!z.call(V,X,J)}var m=n(5964),_=n(73028),v=n(96697),y=n(88141),C=n(96354),O=n(47677),I=n(23294),D=n(82777),R=n(80183),h=n(98107),w=n(645),b=n(47797);function P(z){return(0,w.pc)(b.N,"json/patch",z)}class L{submitJsonPatchOperations(V,X,J){const q=this.requestService.generateRequestId();let Z=null;const[H,Y]=function p(z,V){return X=>[(0,m.p)(z,V)(X),(0,m.p)(f(z,V))(X)]}(Q=>(0,D.hj)(Q.body))(V.pipe((0,_.Z)(Q=>this.store.select(P(X)).pipe((0,v.s)(1),(0,m.p)(ie=>(0,D.b0)(ie)||!ie.commitPending),(0,y.M)(()=>Z=(new Date).getTime()),(0,C.T)(ie=>{const oe=[];return(0,D.hj)(ie)&&((0,D.hj)(J)?(0,D.EA)(ie.children[J])&&(0,D.hj)(ie.children[J].body)&&ie.children[J].body.forEach(pe=>{oe.push(pe.operation)}):Object.keys(ie.children).filter(pe=>ie.children.hasOwnProperty(pe)).filter(pe=>(0,D.a4)(ie.children[pe])).filter(pe=>(0,D.a4)(ie.children[pe].body)).forEach(pe=>{ie.children[pe].body.forEach(ne=>{oe.push(ne.operation)})})),this.getRequestInstance(q,Q,oe)})))));return(0,e.h)(Y.pipe((0,m.p)(Q=>(0,D.Im)(Q.body)),(0,y.M)(()=>Z=null),(0,C.T)(()=>null)),H.pipe((0,m.p)(Q=>(0,D.hj)(Q.body)),(0,y.M)(()=>this.store.dispatch(new h.v$(X,J,Z))),(0,y.M)(Q=>this.requestService.send(Q)),(0,_.Z)(()=>this.rdbService.buildFromRequestUUID(q).pipe((0,R.qD)(),(0,O.I)(Q=>Z<Q.timeCompleted),(0,C.T)(Q=>{if(Q.hasFailed)throw this.store.dispatch(new h.Zd(X,J)),new Error(Q.errorMessage);if((0,D.a4)(Q.payload)&&(0,D.hj)(Q.payload.dataDefinition))return this.store.dispatch(new h.MI(X,J)),Q.payload.dataDefinition}),(0,I.F)()))))}deletePendingJsonPatchOperations(){this.store.dispatch(new h.Bp)}getRequestInstance(V,X,J){return new this.patchRequestConstructor(V,X,J)}getEndpointByIDHref(V,X){return(0,D.hj)(X)?`${V}/${X}`:`${V}`}jsonPatchByResourceType(V,X,J){const q=this.halService.getEndpoint(V).pipe((0,m.p)(Z=>(0,D.hj)(Z)),(0,I.F)(),(0,C.T)(Z=>this.getEndpointByIDHref(Z,X)));return this.submitJsonPatchOperations(q,J)}hasPendingOperations(V){return this.store.select(P(V)).pipe((0,C.T)(X=>!(0,D.Im)(X)&&Object.values(X.children).filter(J=>!(0,D.Im)(J.body)).length>0),(0,I.F)())}jsonPatchByResourceID(V,X,J,q){const Z=this.halService.getEndpoint(V).pipe((0,m.p)(H=>(0,D.hj)(H)),(0,I.F)(),(0,C.T)(H=>this.getEndpointByIDHref(H,X)));return this.submitJsonPatchOperations(Z,J,q)}}var B=n(4910),U=n(45663),$=n(54438),j=n(25499);let G=(()=>{class z extends L{constructor(X,J,q,Z){super(),this.requestService=X,this.store=J,this.rdbService=q,this.halService=Z,this.linkPath="",this.patchRequestConstructor=t.e$}getRequestInstance(X,J,q){return new this.patchRequestConstructor(X,new U.t(J,"?embed=item").toString(),q)}static{this.\u0275fac=function(J){return new(J||z)($.KVO(l.B),$.KVO(j.il),$.KVO(i.o),$.KVO(B.Y))}}static{this.\u0275prov=$.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})()},49903:(N,T,n)=>{"use strict";n.d(T,{$:()=>O});var i=n(7673),t=n(96354),l=n(88280),e=n(61010),f=n(1716),m=n(7434),p=n(4910),_=n(83085),v=n(52837),y=n(24261),C=n(54438);let O=(()=>{class I{constructor(R,h,w,b){this.workspaceitemDataService=R,this.workflowItemDataService=h,this.submissionService=w,this.halService=b}getHrefByID(R){const h=this.submissionService.getSubmissionScope()===_.L.WorkspaceItem?this.workspaceitemDataService:this.workflowItemDataService;return this.halService.getEndpoint(h.getLinkPath()).pipe((0,t.T)(w=>h.getIDHref(w,encodeURIComponent(R))))}findById(R,h=!0,w=!0,...b){switch(this.submissionService.getSubmissionScope()){case _.L.WorkspaceItem:return this.workspaceitemDataService.findById(R,h,w,...b);case _.L.WorkflowItem:return this.workflowItemDataService.findById(R,h,w,...b);default:{const P=(new Date).getTime();return(0,i.of)(new f.j(P,l.c.cache.msToLive.default,P,m.zE.Error,"The request couldn't be sent. Unable to determine the type of submission object",void 0,400))}}}static{this.\u0275fac=function(h){return new(h||I)(C.KVO(y.WorkspaceitemDataService),C.KVO(v.WorkflowItemDataService),C.KVO(e.E),C.KVO(p.Y))}}static{this.\u0275prov=C.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},68552:(N,T,n)=>{"use strict";n.d(T,{BE:()=>I,Z5:()=>O});var i=n(93583),t=n(82777),l=n(61280),e=n(41684),f=n(13808),m=n(51538),p=n(54438);let _=(()=>{class D extends m.aE{constructor(h){super(),this.objectCache=h,this.toCache=!0}parse(h,w){let b;b=(0,t.a4)(w.payload)&&(0,t.a4)(w.payload.page)&&0===w.payload.page.totalElements?{page:[]}:this.process(w.payload,h);let P=b;if((0,t.Tn)(b))return new f.bM([],w.statusCode,w.statusText,void 0);(0,t.a4)(b.page)?P=b.page:Array.isArray(b)||(P=[b]);const M=P.map(L=>L._links.self.href);return new f.bM(M,w.statusCode,w.statusText,this.processPageInfo(w.payload))}static{this.\u0275fac=function(w){return new(w||D)(p.KVO(e.$))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var v=n(25567),y=n(91581);function O(D,R){let h=D;return(0,t.Pe)(D)&&("object"==typeof D&&function C(D){return"object"==typeof D&&D.hasOwnProperty("value")&&D.hasOwnProperty("language")&&D.hasOwnProperty("authority")&&D.hasOwnProperty("confidence")}(D)?h=new l.e(D.value,D.language,D.authority,D.display||D.value,D.place||R,D.confidence,D.otherInformation):Array.isArray(D)?(h=[],D.forEach((w,b)=>{h[b]=O(w,b)})):"object"==typeof D&&(h=Object.create({}),Object.keys(D).forEach(w=>{h[w]=O(D[w])}))),h}let I=(()=>{class D extends m.aE{constructor(h,w){super(),this.objectCache=h,this.dsoParser=w,this.toCache=!1,this.shouldDirectlyAttachEmbeds=!0}parse(h,w){if(this.dsoParser.parse((0,i.Go)(h),(0,i.Go)(w)),(0,t.hj)(w.payload)&&(0,t.hj)(w.payload._links)&&this.isSuccessStatus(w.statusCode)){const b=this.processResponse(w.payload,h);return new f.hT(w.statusCode,void 0,{dataDefinition:b})}if((0,t.Im)(w.payload)&&this.isSuccessStatus(w.statusCode))return new f.hT(w.statusCode);throw new Error("Unexpected response from server")}processResponse(h,w){const b=this.process(h,w),P=Array.of();return(Array.isArray(b)?b:Array.of(b)).forEach(L=>{if((L instanceof y.F||L instanceof v.t)&&L.sections){const B=Object.create({});Object.keys(L.sections).forEach(U=>{if("object"==typeof L.sections[U]&&(0,t.hj)(L.sections[U])&&(!L.sections[U].hasOwnProperty("files")||(0,t.hj)(L.sections[U].files))){const $=Object.create({});Object.keys(L.sections[U]).forEach(j=>{const G=L.sections[U][j];Array.isArray(G)?($[j]=[],G.forEach((z,V)=>{const X=O(z,V);(0,t.hj)(X)&&$[j].push(X)})):$[j]=G}),B[U]=$}}),L=Object.assign({},L,{sections:B})}P.push(L)}),P}static{this.\u0275fac=function(w){return new(w||D)(p.KVO(e.$),p.KVO(_))}}static{this.\u0275prov=p.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},67625:(N,T,n)=>{"use strict";n.d(T,{O:()=>R});var i=n(96354),t=n(23294),l=n(5964),e=n(88141),f=n(73028),m=n(82777),p=n(72734),_=n(13808),v=n(43052),y=n(32473),C=n(4910),O=n(80183),I=n(45663),D=n(54438);let R=(()=>{class h{constructor(b,P,M){this.rdbService=b,this.requestService=P,this.halService=M,this.linkPath="workspaceitems"}fetchRequest(b){return this.rdbService.buildFromRequestUUID(b).pipe((0,O.qD)(),(0,i.T)(P=>{if(P.hasFailed)throw new _._p({statusText:P.errorMessage,statusCode:P.statusCode});return(0,m.a4)(P.payload)?P.payload.dataDefinition:P.payload}),(0,t.F)())}getEndpointByIDHref(b,P,M){let L=(0,m.hj)(P)?`${b}/${P}`:`${b}`;return L=new I.t(L,"?embed=item,sections,collection").toString(),M&&(L=new I.t(L,`&owningCollection=${M}`).toString()),L}deleteById(b,P){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(P||this.linkPath).pipe((0,l.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>this.getEndpointByIDHref(L,b)),(0,i.T)(L=>new v.Rn(M,L)),(0,e.M)(L=>this.requestService.send(L)),(0,f.Z)(()=>this.fetchRequest(M)),(0,t.F)())}getDataById(b,P){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(b).pipe((0,i.T)(L=>this.getEndpointByIDHref(L,P)),(0,l.p)(L=>(0,m.hj)(L)),(0,t.F)(),(0,i.T)(L=>new v.Iu(M,L)),(0,e.M)(L=>{this.requestService.send(L)}),(0,f.Z)(()=>this.fetchRequest(M)),(0,t.F)())}postToEndpoint(b,P,M,L,B){const U=this.requestService.generateRequestId();return this.halService.getEndpoint(b).pipe((0,l.p)($=>(0,m.hj)($)),(0,i.T)($=>this.getEndpointByIDHref($,M,B)),(0,t.F)(),(0,i.T)($=>new v.aY(U,$,P,L)),(0,e.M)($=>this.requestService.send($)),(0,f.Z)(()=>this.fetchRequest(U)),(0,t.F)())}patchToEndpoint(b,P,M){const L=this.requestService.generateRequestId();return this.halService.getEndpoint(b).pipe((0,l.p)(B=>(0,m.hj)(B)),(0,i.T)(B=>this.getEndpointByIDHref(B,M)),(0,t.F)(),(0,i.T)(B=>new v.e$(L,B,P)),(0,e.M)(B=>this.requestService.send(B)),(0,f.Z)(()=>this.fetchRequest(L)),(0,t.F)())}static{this.\u0275fac=function(P){return new(P||h)(D.KVO(p.o),D.KVO(y.B),D.KVO(C.Y))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},83085:(N,T,n)=>{"use strict";n.d(T,{L:()=>i});var i=function(t){return t.WorkspaceItem="WORKSPACE",t.WorkflowItem="WORKFLOW",t}(i||{})},30056:(N,T,n)=>{"use strict";n.d(T,{Hx:()=>t,cK:()=>e,mt:()=>l});var i=n(42547);const t=new i.v("vocabulary"),l=new i.v("vocabularyEntry"),e=new i.v("vocabularyEntryDetail")},36599:(N,T,n)=>{"use strict";n.d(T,{M:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(30056),f=n(43235);let m=class extends f.b{static{this.type=e.cK}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],m.prototype,"selectable",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],m.prototype,"_links",void 0),m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.b)],m)},43235:(N,T,n)=>{"use strict";n.d(T,{b:()=>v});var i=n(31635),t=n(74850),l=n(82777),e=n(56899),f=n(22878),m=n(21921),p=n(98688),_=n(30056);let v=class extends f.u{static{this.type=_.mt}hasAuthority(){return(0,l.hj)(this.authority)}hasValue(){return(0,l.hj)(this.value)}hasOtherInformation(){return(0,l.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"authority",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"display",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"otherInformation",void 0),(0,i.Cg)([p.aK,t.autoserialize,(0,i.Sn)("design:type",Object)],v.prototype,"type",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),v=(0,i.Cg)([m.gV],v)},89293:(N,T,n)=>{"use strict";n.d(T,{n:()=>i});class i{constructor(l,e=!1){this.name=l,this.closed=e}}},75955:(N,T,n)=>{"use strict";n.r(T),n.d(T,{VocabularyEntryDetailsDataService:()=>v});var i=n(72734),t=n(41684),l=n(46787),e=n(63897),f=n(35108),m=n(32473),p=n(4910),_=n(54438);let v=(()=>{class y extends e.W{constructor(O,I,D,R){super("vocabularyEntryDetails",O,I,D,R),this.requestService=O,this.rdbService=I,this.objectCache=D,this.halService=R,this.findAllData=new l.H(this.linkPath,O,I,D,R,this.responseMsToLive),this.searchData=new f.X(this.linkPath,O,I,D,R,this.responseMsToLive)}findAll(O,I,D,...R){return this.findAllData.findAll(O,I,D,...R)}searchBy(O,I,D,R,...h){return this.searchData.searchBy(O,I,D,R,...h)}static{this.\u0275fac=function(I){return new(I||y)(_.KVO(m.B),_.KVO(i.o),_.KVO(t.$),_.KVO(p.Y))}}static{this.\u0275prov=_.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},59081:(N,T,n)=>{"use strict";n.r(T),n.d(T,{VocabularyDataService:()=>C});var i=n(72734),t=n(53954),l=n(41684),e=n(46787),f=n(63897),m=n(35108),p=n(41023),_=n(32473),v=n(4910),y=n(54438);let C=(()=>{class O extends f.W{constructor(D,R,h,w){super("vocabularies",D,R,h,w),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=w,this.searchByMetadataAndCollectionPath="byMetadataAndCollection",this.findAllData=new e.H(this.linkPath,D,R,h,w,this.responseMsToLive),this.searchData=new m.X(this.linkPath,D,R,h,w,this.responseMsToLive)}findAll(D,R,h,...w){return this.findAllData.findAll(D,R,h,...w)}getVocabularyByMetadataAndCollection(D,R,h=!0,w=!0,...b){const P=new p._;P.searchParams=[new t.x("metadata",D),new t.x("collection",R)];const M=this.searchData.getSearchByHref(this.searchByMetadataAndCollectionPath,P,...b);return this.findByHref(M,h,w,...b)}static{this.\u0275fac=function(R){return new(R||O)(y.KVO(_.B),y.KVO(i.o),y.KVO(l.$),y.KVO(v.Y))}}static{this.\u0275prov=y.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},19506:(N,T,n)=>{"use strict";n.d(T,{g:()=>R});var i=n(25558),t=n(96354),l=n(73028),e=n(82777),f=n(67600),m=n(53954),p=n(32473),_=n(80183),v=n(32089),y=n(41023);class C extends y._{constructor(w="",b,P,M,L,B,U){super(),this.query=w,this.filter=b,this.exact=P,this.entryID=M,this.elementsPerPage=L,this.currentPage=B,this.sort=U;const $=[];(0,e.hj)(w)&&$.push(new m.x("query",w)),(0,e.hj)(b)&&$.push(new m.x("filter",b)),(0,e.hj)(P)&&$.push(new m.x("exact",P.toString())),(0,e.hj)(M)&&$.push(new m.x("entryID",M)),this.searchParams=$}}var O=n(59081),I=n(75955),D=n(54438);let R=(()=>{class h{constructor(b,P,M){this.requestService=b,this.vocabularyDataService=P,this.vocabularyEntryDetailDataService=M,this.searchTopMethod="top"}findVocabularyByHref(b,P=!0,M=!0,...L){return this.vocabularyDataService.findByHref(b,P,M,...L)}findVocabularyById(b,P=!0,M=!0,...L){return this.vocabularyDataService.findById(b,P,M,...L)}findAllVocabularies(b={},P=!0,M=!0,...L){return this.vocabularyDataService.findAll(b,P,M,...L)}getVocabularyByMetadataAndCollection(b,P,M=!0,L=!0,...B){return this.vocabularyDataService.getVocabularyByMetadataAndCollection(b,P,M,L,...B)}getVocabularyEntries(b,P){const M=new C(null,null,null,null,P.elementsPerPage,P.currentPage);return this.findVocabularyById(b.name,!0,!0,(0,f.s)("entries",{findListOptions:M,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(L=>L.entries))}getVocabularyEntriesByValue(b,P,M,L){const B=new C(null,b,P,null,L.elementsPerPage,L.currentPage);return this.findVocabularyById(M.name,!0,!0,(0,f.s)("entries",{findListOptions:B,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(U=>U.entries))}getVocabularyEntryByValue(b,P){return this.getVocabularyEntriesByValue(b,!0,P,new v.Q).pipe((0,_.Ar)(),(0,t.T)(M=>(0,e.hj)(M)?M[0]:null))}getVocabularyEntryByID(b,P){const M=new v.Q,L=new C(null,null,null,b,M.elementsPerPage,M.currentPage);return this.findVocabularyById(P.name,!0,!0,(0,f.s)("entries",{findListOptions:L,shouldEmbed:!1})).pipe((0,_.ak)(),(0,i.n)(B=>B.entries),(0,_.Ar)(),(0,t.T)(B=>(0,e.hj)(B)?B[0]:null))}findEntryDetailByHref(b,P=!0,M=!0,...L){return this.vocabularyEntryDetailDataService.findByHref(b,P,M,...L)}findEntryDetailById(b,P,M=!0,L=!0,B=!0,...U){return this.vocabularyEntryDetailDataService.findById(B?`${P}:${b}`:b,M,L,...U)}getEntryDetailParent(b,P,M=!0,L=!0,...B){const U=`${P}:${b}/parent`;return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)($=>`${$}/${U}`),(0,l.Z)($=>this.vocabularyEntryDetailDataService.findByHref($,M,L,...B)))}getEntryDetailChildren(b,P,M,L=!0,B=!0,...U){const $=new C(null,null,null,null,M.elementsPerPage,M.currentPage);return this.vocabularyEntryDetailDataService.getBrowseEndpoint().pipe((0,t.T)(j=>`${j}/${P}:${b}/children`),(0,i.n)(j=>this.vocabularyEntryDetailDataService.findListByHref(j,$,L,B,...U)))}searchTopEntries(b,P,M=!0,L=!0,...B){const U=new C(null,null,null,null,P.elementsPerPage,P.currentPage);return U.searchParams=[new m.x("vocabulary",b)],this.vocabularyEntryDetailDataService.searchBy(this.searchTopMethod,U,M,L,...B)}clearSearchTopRequests(){this.requestService.removeByHrefSubstring(`search/${this.searchTopMethod}`)}static{this.\u0275fac=function(P){return new(P||h)(D.KVO(p.B),D.KVO(O.VocabularyDataService),D.KVO(I.VocabularyEntryDetailsDataService))}}static{this.\u0275prov=D.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},52837:(N,T,n)=>{"use strict";n.r(T),n.d(T,{WorkflowItemDataService:()=>w});var i=n(96354),t=n(47677),l=n(82777),e=n(39806),f=n(72734),m=n(53954),p=n(41684),_=n(13617),v=n(63897),y=n(35108),C=n(41023),O=n(43052),I=n(32473),D=n(4910),R=n(80183),h=n(54438);let w=(()=>{class b extends v.W{constructor(M,L,B,U,$){super("workflowitems",M,L,B,U),this.requestService=M,this.rdbService=L,this.objectCache=B,this.halService=U,this.notificationsService=$,this.searchByItemLinkPath="item",this.responseMsToLive=1e4,this.searchData=new y.X(this.linkPath,M,L,B,U,this.responseMsToLive),this.deleteData=new _.I(this.linkPath,M,L,B,U,$,this.responseMsToLive,this.constructIdEndpoint)}delete(M){return this.deleteWFI(M,!0)}sendBack(M){return this.deleteWFI(M,!1).pipe((0,R.qD)(),(0,i.T)(L=>L.hasSucceeded))}deleteWFI(M,L){const B=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,i.T)($=>this.deleteData.getIDHref($,M)),(0,i.T)($=>$+"?expunge="+L)).pipe((0,t.I)($=>(0,l.a4)($))).subscribe($=>{const j=new O.Dk(B,$,M);this.requestService.send(j)}),this.rdbService.buildFromRequestUUID(B)}findByItem(M,L=!1,B=!0,U={},...$){const j=new C._;j.searchParams=[new m.x("uuid",M)];const G=this.searchData.getSearchByHref(this.searchByItemLinkPath,j,...$);return this.findByHref(G,L,B,...$)}searchBy(M,L,B,U,...$){return this.searchData.searchBy(M,L,B,U,...$)}deleteByHref(M,L){return this.deleteData.deleteByHref(M,L)}static{this.\u0275fac=function(L){return new(L||b)(h.KVO(I.B),h.KVO(f.o),h.KVO(p.$),h.KVO(D.Y),h.KVO(e.I))}}static{this.\u0275prov=h.jDH({token:b,factory:b.\u0275fac,providedIn:"root"})}}return b})()},24261:(N,T,n)=>{"use strict";n.r(T),n.d(T,{WorkspaceitemDataService:()=>P});var i=n(21626),t=n(96354),l=n(47677),e=n(82777),f=n(39806),m=n(72734),p=n(53954),_=n(41684),v=n(13617),y=n(63897),C=n(35108),O=n(12598),I=n(41023),D=n(43052),R=n(32473),h=n(4910),w=n(54438),b=n(25499);let P=(()=>{class M extends y.W{constructor(B,U,$,j,G,z,V,X){super("workspaceitems",G,z,V,U),this.comparator=B,this.halService=U,this.http=$,this.notificationsService=j,this.requestService=G,this.rdbService=z,this.objectCache=V,this.store=X,this.linkPath="workspaceitems",this.searchByItemLinkPath="item",this.deleteData=new v.I(this.linkPath,G,z,V,U,j,this.responseMsToLive,this.constructIdEndpoint),this.searchData=new C.X(this.linkPath,G,z,V,U,this.responseMsToLive)}delete(B,U){return this.deleteData.delete(B,U)}deleteByHref(B,U){return this.deleteData.deleteByHref(B,U)}findByItem(B,U=!1,$=!0,j={},...G){const z=new I._;z.searchParams=[new p.x("uuid",B)];const V=this.searchData.getSearchByHref(this.searchByItemLinkPath,z,...G);return this.findByHref(V,U,$,...G)}importExternalSourceEntry(B,U){const $=Object.create({});let j=new i.Lr;j=j.append("Content-Type","text/uri-list"),$.headers=j;const G=this.requestService.generateRequestId();return this.halService.getEndpoint(this.linkPath).pipe((0,t.T)(V=>`${V}?owningCollection=${U}`)).pipe((0,l.I)(V=>(0,e.a4)(V)),(0,t.T)(V=>{const X=new D.Qf(G,V,B,$);this.requestService.send(X)})).subscribe(),this.rdbService.buildFromRequestUUID(G)}searchBy(B,U,$,j,...G){return this.searchData.searchBy(B,U,$,j,...G)}static{this.\u0275fac=function(U){return new(U||M)(w.KVO(O.j),w.KVO(h.Y),w.KVO(i.Qq),w.KVO(f.I),w.KVO(R.B),w.KVO(m.o),w.KVO(_.$),w.KVO(b.il))}}static{this.\u0275prov=w.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})()},83987:(N,T,n)=>{"use strict";n.d(T,{T:()=>t});const t=new(n(42547).v)("supervisionorder")},66129:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SupervisionOrderDataService:()=>U});var i=n(21626),t=n(96354),l=n(61594),e=n(82777),f=n(39806),m=n(72734),p=n(53954),_=n(41684),v=n(39280),y=n(13617),C=n(63897),O=n(87158),I=n(35108),D=n(37419),R=n(41023),h=n(43052),w=n(32473),b=n(14410),P=n(44494),M=n(4910),L=n(80183),B=n(54438);let U=(()=>{class $ extends C.W{constructor(G,z,V,X,J,q,Z){super("supervisionorders",G,z,V,X),this.requestService=G,this.rdbService=z,this.objectCache=V,this.halService=X,this.notificationsService=J,this.comparator=q,this.groupService=Z,this.searchByGroupMethod="group",this.searchByItemMethod="byItem",this.createData=new v.V(this.linkPath,G,z,V,X,J,this.responseMsToLive),this.searchData=new I.X(this.linkPath,G,z,V,X,this.responseMsToLive),this.patchData=new O.n(this.linkPath,G,z,V,X,q,this.responseMsToLive,this.constructIdEndpoint),this.deleteData=new y.I(this.linkPath,G,z,V,X,J,this.responseMsToLive,this.constructIdEndpoint)}create(G,z,V,X){const J=[];return J.push(new p.x("uuid",z)),J.push(new p.x("group",V)),J.push(new p.x("type",X)),this.createData.create(G,...J)}delete(G){return this.deleteData.delete(G).pipe((0,L.qD)(),(0,t.T)(z=>z.hasSucceeded))}update(G){return this.patchData.update(G)}searchByGroup(G,z,V=!0,X=!0,...J){const q=new R._;return q.searchParams=[new p.x("uuid",G)],(0,e.hj)(z)&&q.searchParams.push(new p.x("item",z)),this.searchData.searchBy(this.searchByGroupMethod,q,V,X,...J)}searchByItem(G,z=!0,V=!0,...X){const J=new R._;return J.searchParams=[new p.x("uuid",G)],this.searchData.searchBy(this.searchByItemMethod,J,z,V,...X)}updateTarget(G,z,V,X){const q=this.groupService.getIDHrefObs(V),Z=Object.create({});let H=new i.Lr;H=H.append("Content-Type","text/uri-list"),Z.headers=H;const Y=this.requestService.generateRequestId();return q.pipe((0,l.$)()).subscribe(Q=>{const oe=new h.v_(Y,z+"/"+X,Q,Z);Object.assign(oe,{getResponseParser:()=>b.M}),this.requestService.send(oe)}),this.rdbService.buildFromRequestUUIDAndAwait(Y,()=>this.invalidateByHref(z))}static{this.\u0275fac=function(z){return new(z||$)(B.KVO(w.B),B.KVO(m.o),B.KVO(_.$),B.KVO(M.Y),B.KVO(f.I),B.KVO(D.Y),B.KVO(P.GroupDataService))}}static{this.\u0275prov=B.jDH({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})()},12532:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ClaimedTaskDataService:()=>C});var i=n(21626),t=n(72734),l=n(53954),e=n(41684),f=n(41023),m=n(32473),p=n(4910),_=n(80183),v=n(67846),y=n(54438);let C=(()=>{class O extends v.w{constructor(D,R,h,w){super("claimedtasks",D,R,h,w,1e3),this.requestService=D,this.rdbService=R,this.objectCache=h,this.halService=w}claimTask(D,R){const h=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","text/uri-list"),h.headers=w,this.postToEndpoint(this.linkPath,R,null,h)}submitTask(D,R){return this.postToEndpoint(this.linkPath,this.requestService.uriEncodeBody(R),D,this.makeHttpOptions())}returnToPoolTask(D){return this.deleteById(this.linkPath,D,this.makeHttpOptions())}findByItem(D){const R=new f._;return R.searchParams=[new l.x("uuid",D)],this.searchTask("findByItem",R).pipe((0,_.yd)())}static{this.\u0275fac=function(R){return new(R||O)(y.KVO(m.B),y.KVO(t.o),y.KVO(e.$),y.KVO(p.Y))}}static{this.\u0275prov=y.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},78416:(N,T,n)=>{"use strict";n.d(T,{T:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(22822),f=n(55411);let m=class extends f.B{static{this.type=e.a}};m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.B),(0,l.o8)(f.B)],m)},22822:(N,T,n)=>{"use strict";n.d(T,{a:()=>t});const t=new(n(42547).v)("claimedtask")},27605:(N,T,n)=>{"use strict";n.d(T,{k:()=>m});var i=n(31635),t=n(74850),l=n(21921),e=n(26147),f=n(55411);let m=class extends f.B{static{this.type=e.T}};m=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(f.B),(0,l.o8)(f.B)],m)},26147:(N,T,n)=>{"use strict";n.d(T,{T:()=>t});const t=new(n(42547).v)("pooltask")},55411:(N,T,n)=>{"use strict";n.d(T,{B:()=>O});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(36074),p=n(54949),_=n(76829);const y=new(n(42547).v)("taskobject");var C=n(47069);let O=class extends _.M{static{this.type=y}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],O.prototype,"step",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],O.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N,!1,"owner"),(0,i.Sn)("design:type",l.c)],O.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(m.U),(0,i.Sn)("design:type",l.c)],O.prototype,"group",void 0),(0,i.Cg)([(0,e.nf)(p.z),(0,i.Sn)("design:type",Object)],O.prototype,"workflowitem",void 0),(0,i.Cg)([(0,e.nf)(C.f,!1,"action"),(0,i.Sn)("design:type",l.c)],O.prototype,"action",void 0),O=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(_.M)],O)},47069:(N,T,n)=>{"use strict";n.d(T,{f:()=>t});const t=new(n(42547).v)("workflowaction")},28515:(N,T,n)=>{"use strict";n.r(T),n.d(T,{PoolTaskDataService:()=>y});var i=n(72734),t=n(53954),l=n(41684),e=n(41023),f=n(32473),m=n(4910),p=n(80183),_=n(67846),v=n(54438);let y=(()=>{class C extends _.w{constructor(I,D,R,h){super("pooltasks",I,D,R,h,1e3),this.requestService=I,this.rdbService=D,this.objectCache=R,this.halService=h}findByItem(I){const D=new e._;return D.searchParams=[new t.x("uuid",I)],this.searchTask("findByItem",D).pipe((0,p.qD)())}getPoolTaskEndpointById(I){return this.getEndpointById(I)}static{this.\u0275fac=function(D){return new(D||C)(v.KVO(f.B),v.KVO(i.o),v.KVO(l.$),v.KVO(m.Y))}}static{this.\u0275prov=v.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},67846:(N,T,n)=>{"use strict";n.d(T,{w:()=>D});var i=n(21626),t=n(5964),l=n(96354),e=n(23294),f=n(88141),m=n(73028),p=n(47677),_=n(82777),v=n(63897),y=n(35108),C=n(43052),O=n(80183);class I{constructor(h,w,b){this.isSuccessful=h,this.statusCode=w,this.errorMessage=b}get hasSucceeded(){return this.isSuccessful}}class D extends v.W{constructor(h,w,b,P,M,L){super(h,w,b,P,M),this.linkPath=h,this.requestService=w,this.rdbService=b,this.objectCache=P,this.halService=M,this.responseMsToLive=L,this.searchData=new y.X(this.linkPath,w,b,P,M,this.responseMsToLive)}getEndpointByIDHref(h,w){return(0,_.hj)(w)?`${h}/${w}`:`${h}`}postToEndpoint(h,w,b,P){const M=this.requestService.generateRequestId();return this.halService.getEndpoint(h).pipe((0,t.p)(L=>(0,_.hj)(L)),(0,l.T)(L=>this.getEndpointByIDHref(L,b)),(0,e.F)(),(0,l.T)(L=>new C.$I(M,L,w,P)),(0,f.M)(L=>this.requestService.send(L)),(0,m.Z)(L=>this.fetchRequest(M)),(0,e.F)())}deleteById(h,w,b){const P=this.requestService.generateRequestId();return this.getEndpointById(w,h).pipe((0,l.T)(M=>new C._w(P,M,null,b)),(0,f.M)(M=>this.requestService.send(M)),(0,m.Z)(M=>this.fetchRequest(P)),(0,e.F)())}getEndpointById(h,w){return this.halService.getEndpoint(w||this.linkPath).pipe((0,t.p)(b=>(0,_.hj)(b)),(0,e.F)(),(0,l.T)(b=>this.getEndpointByIDHref(b,h)))}searchTask(h,w={},...b){return this.searchData.getSearchByHref(h,w,...b).pipe((0,p.I)(M=>(0,_.a4)(M)),(0,m.Z)(M=>this.findByHref(M,!1,!0).pipe((0,O.bD)(),(0,f.M)(()=>this.requestService.setStaleByHrefSubstring(M)))))}fetchRequest(h){return this.rdbService.buildFromRequestUUID(h).pipe((0,O.qD)(),(0,l.T)(w=>w.hasFailed?new I(!1,w.statusCode,w.errorMessage):new I(!0,w.statusCode)))}makeHttpOptions(){const h=Object.create({});let w=new i.Lr;return w=w.append("Content-Type","application/x-www-form-urlencoded"),h.headers=w,h}searchBy(h,w,b,P,...M){return this.searchData.searchBy(h,w,b,P,...M)}}},61424:(N,T,n)=>{"use strict";n.d(T,{F:()=>l});var i=n(88280),t=n(45663);class l extends t.t{constructor(...f){super(i.c.rest.baseUrl,"/api",...f)}}},45663:(N,T,n)=>{"use strict";n.d(T,{t:()=>t});var i=n(82777);class t{constructor(...e){this.parts=e}toString(){if((0,i.Im)(this.parts))return"";{let e=this.parts.join("/");return e=e.replace(/:\//g,"://"),e=e.replace(/([^:\s])\/+/g,"$1/"),e=e.replace(/\/($|\?|&|#[^!])/g,"$1"),e=e.replace(/(\?.+)\?/g,"$1&"),e}}}},98688:(N,T,n)=>{"use strict";n.d(T,{_U:()=>f,aK:()=>p,gM:()=>v,ug:()=>m});var i=n(82777);const t=new Map,l=new Map;function e(C,O,I){const D=I.find(R=>{if(C[R]===O[R]||(0,i.Tn)(C[R])&&(0,i.Tn)(O[R]))return!1;if((0,i.Tn)(C[R])||(0,i.Tn)(O[R]))return!0;const h=function y(C,O){return(l.get(C)||new Map).get(O)}(C.constructor,R);return(0,i.a4)(h)?!e(C[R],O[R],h):C[R]instanceof f?!C[R].equals(O[R]):"object"==typeof C[R]?!e(C[R],O[R],Object.keys(C)):C[R]!==O[R]});return(0,i.Tn)(D)}class f{equals(O){if((0,i.Tn)(O))return!1;if(this===O)return!0;const I=_(this.constructor);return e(this,O,Object.keys(this).filter(R=>!I.includes(R)))}}function m(C){return function(I){const D=_(C)||[],R=_(I)||[];t.set(I,[...R,...D]);const h=l.get(I)||new Map,w=l.get(C)||new Map;Array.from(w.keys()).filter(b=>!Array.from(h.keys()).includes(b)).forEach(b=>{v(...w.get(b))(new I,b)})}}function p(C,O){if(!C)return;let I=t.get(C.constructor);(0,i.Im)(I)&&(I=[]),t.set(C.constructor,[...I,O])}function _(C){return t.get(C)||[]}function v(...C){return function(I,D){if(!I)return;let R=l.get(I.constructor);(0,i.Im)(R)&&(R=new Map),R.set(D,C),l.set(I.constructor,R)}}},19460:(N,T,n)=>{"use strict";n.d(T,{dX:()=>l,oo:()=>t,sA:()=>i});const i="X-XSRF-TOKEN",t="DSPACE-XSRF-TOKEN",l="XSRF-TOKEN"},10110:(N,T,n)=>{"use strict";n.d(T,{N:()=>t,q:()=>l});const t={SET:(0,n(91e3).N)("dspace/core/correlationId/SET")};class l{constructor(f){this.payload=f,this.type=t.SET}}},73308:(N,T,n)=>{"use strict";n.r(T),n.d(T,{FooterComponent:()=>P});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(82640),m=n(42084),p=n(65007),_=n(3970),v=n(82777),y=n(5964),C=n(54438),O=n(80566);const I=M=>({year:M});function D(M,L){1&M&&(C.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h5",15),C.EFF(5,"Footer Content"),C.k0s(),C.j41(6,"ul",16)(7,"li")(8,"a",17),C.EFF(9,"Lorem ipsum"),C.k0s()(),C.j41(10,"li")(11,"a",17),C.EFF(12,"Ut facilisis"),C.k0s()(),C.j41(13,"li")(14,"a",17),C.EFF(15,"Aenean sit"),C.k0s()()()(),C.j41(16,"div",14)(17,"h5",15),C.EFF(18,"Footer Content"),C.k0s(),C.j41(19,"ul",16)(20,"li")(21,"a",17),C.EFF(22,"Suspendisse potenti"),C.k0s()()()(),C.j41(23,"div",18)(24,"h5",15),C.EFF(25,"Footer Content"),C.k0s(),C.j41(26,"p"),C.EFF(27," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Iste atque ea quis molestias. Fugiat pariatur maxime quis culpa corporis vitae repudiandae aliquam voluptatem veniam, est atque cumque eum delectus sint! "),C.k0s()()()()())}function R(M,L){1&M&&(C.j41(0,"li")(1,"a",19),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&M&&(C.R7$(2),C.JRh(C.bMT(3,1,"footer.link.privacy-policy")))}function h(M,L){1&M&&(C.j41(0,"li")(1,"a",20),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&M&&(C.R7$(2),C.JRh(C.bMT(3,1,"footer.link.end-user-agreement")))}function w(M,L){1&M&&(C.j41(0,"li")(1,"a",21),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&M&&(C.R7$(2),C.JRh(C.bMT(3,1,"footer.link.feedback")))}function b(M,L){1&M&&(C.j41(0,"div",22)(1,"a",23),C.nrm(2,"img",24),C.nI1(3,"translate"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()),2&M&&(C.R7$(2),C.BMQ("alt",C.bMT(3,2,"menu.header.image.logo")),C.R7$(2),C.SpI(" ",C.bMT(5,4,"footer.link.coar-notify-support")," "))}let P=(()=>{class M{constructor(B,U,$,j,G,z,V){this.cookies=B,this.authorizationService=U,this.notifyInfoService=$,this.appConfig=j,this.renderer=G,this.el=z,this.router=V,this.dateObj=Date.now(),this.showTopFooter=!1}ngOnInit(){this.showPrivacyPolicy=this.appConfig.info.enablePrivacyStatement,this.showEndUserAgreement=this.appConfig.info.enableEndUserAgreement,this.coarLdnEnabled$=this.appConfig.info.enableCOARNotifySupport?this.notifyInfoService.isCoarConfigEnabled():(0,e.of)(!1),this.showSendFeedback$=this.authorizationService.isAuthorized(_._.CanSendFeedback),this.initializeEmbedScript(),this.router.events.pipe((0,y.p)(B=>B instanceof t.wF)).subscribe(()=>{this.initializeEmbedScript()})}initializeEmbedScript(){const B=this.el.nativeElement.querySelector('script[src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"]');B&&this.renderer.removeChild(this.el.nativeElement,B);const U=this.renderer.createElement("script");U.type="text/javascript",U.async=!0,U.src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js",this.renderer.appendChild(this.el.nativeElement,U)}showCookieSettings(){return(0,v.a4)(this.cookies)&&this.cookies.showSettings(),!1}static{this.\u0275fac=function(U){return new(U||M)(C.rXU(O.$,8),C.rXU(p.AuthorizationDataService),C.rXU(m.P),C.rXU(f.vQ),C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(t.Ix))}}static{this.\u0275cmp=C.VBU({type:M,selectors:[["ds-base-footer"]],standalone:!0,features:[C.aNF],decls:25,vars:27,consts:[[1,"text-lg-start"],["class","top-footer",4,"ngIf"],[1,"bottom-footer","p-1","d-flex","justify-content-center","align-items-center","text-white"],[1,"content-container"],[1,"footer-correct","m-0"],["href","http://www.dspace.org/",1,"text-white"],["href","https://www.lyrasis.org/",1,"text-white"],[1,"footer-info","list-unstyled","d-flex","justify-content-center","mb-0"],["type","button",1,"btn","btn-link","text-white",3,"click"],[4,"ngIf"],["class","notify-enabled text-white",4,"ngIf"],[1,"top-footer"],[1,"container","p-4"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4","mb-lg-0"],[1,"text-uppercase"],[1,"list-unstyled","mb-0"],["routerLink","./",1,""],[1,"col-lg-4","col-md-12","mb-4","mb-md-0"],["routerLink","info/privacy",1,"btn","text-white"],["routerLink","info/end-user-agreement",1,"btn","text-white"],["routerLink","info/feedback",1,"btn","text-white"],[1,"notify-enabled","text-white"],["routerLink","info/coar-notify-support",1,"coar-notify-support-route"],["src","assets/images/n-coar.svg",1,"n-coar"]],template:function(U,$){1&U&&(C.j41(0,"footer",0),C.DNE(1,D,28,0,"div",1),C.j41(2,"div",2)(3,"div",3)(4,"p",4)(5,"a",5),C.EFF(6),C.nI1(7,"translate"),C.k0s(),C.EFF(8),C.nI1(9,"date"),C.nI1(10,"translate"),C.j41(11,"a",6),C.EFF(12),C.nI1(13,"translate"),C.k0s()(),C.j41(14,"ul",7)(15,"li")(16,"button",8),C.bIt("click",function(){return $.showCookieSettings()}),C.EFF(17),C.nI1(18,"translate"),C.k0s()(),C.DNE(19,R,4,3,"li",9)(20,h,4,3,"li",9)(21,w,4,3,"li",9),C.nI1(22,"async"),C.k0s()(),C.DNE(23,b,6,6,"div",10),C.nI1(24,"async"),C.k0s()()),2&U&&(C.R7$(),C.Y8G("ngIf",$.showTopFooter),C.R7$(5),C.JRh(C.bMT(7,9,"footer.link.dspace")),C.R7$(2),C.SpI(" ",C.i5U(10,14,"footer.copyright",C.eq3(25,I,C.i5U(9,11,$.dateObj,"y")))," "),C.R7$(4),C.JRh(C.bMT(13,17,"footer.link.lyrasis")),C.R7$(5),C.SpI(" ",C.bMT(18,19,"footer.link.cookies")," "),C.R7$(2),C.Y8G("ngIf",$.showPrivacyPolicy),C.R7$(),C.Y8G("ngIf",$.showEndUserAgreement),C.R7$(),C.Y8G("ngIf",C.bMT(22,21,$.showSendFeedback$)),C.R7$(2),C.Y8G("ngIf",C.bMT(24,23,$.coarLdnEnabled$)))},dependencies:[i.bT,t.Wk,i.Jj,i.vh,l.h,l.D9],styles:['[_nghost-%COMP%]   footer[_ngcontent-%COMP%]{background-color:var(--ds-footer-bg);text-align:center;z-index:var(--ds-footer-z-index);border-top:var(--ds-footer-border);padding:var(--ds-footer-padding)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:var(--ds-footer-logo-height)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .top-footer[_ngcontent-%COMP%]{background-color:var(--ds-top-footer-bg);padding:var(--ds-footer-padding);margin:calc(var(--ds-footer-padding) * -1)}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:0;margin-top:20px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .coar-notify-support-route[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   .notify-enabled[_ngcontent-%COMP%]   .n-coar[_ngcontent-%COMP%]{height:var(--ds-footer-n-coar-height);margin-bottom:8.5px}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{padding:0 calc(var(--bs-spacer) / 2);color:inherit;font-size:.875em}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus{box-shadow:none;text-decoration:underline}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .2rem #ffffff80}[_nghost-%COMP%]   footer[_ngcontent-%COMP%]   .bottom-footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child):after{content:"";border-right:1px var(--bs-secondary) solid}[_nghost-%COMP%]   .footer-correct[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:5px}']})}}return M})()},74920:(N,T,n)=>{"use strict";n.d(T,{C:()=>m});var i=n(8886),l=(n(73308),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"FooterComponent"}importThemedComponent(v){return n(43562)(`./${v}/app/footer/footer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73308))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-footer"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},1748:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ForbiddenComponent:()=>m});var i=n(7901),t=n(41780),l=n(67116),e=n(7337),f=n(54438);let m=(()=>{class p{constructor(v,y){this.authService=v,this.responseService=y,this.responseService.setForbidden()}ngOnInit(){this.authService.clearRedirectUrl()}static{this.\u0275fac=function(y){return new(y||p)(f.rXU(l.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:p,selectors:[["ds-base-forbidden"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"forbidden","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(y,C){1&y&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"403"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&y&&(f.R7$(5),f.JRh(f.bMT(6,3,"403.forbidden")),f.R7$(4),f.JRh(f.bMT(10,5,"403.help")),f.R7$(5),f.JRh(f.bMT(15,7,"403.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return p})()},78221:(N,T,n)=>{"use strict";n.r(T),n.d(T,{HeaderNavbarWrapperComponent:()=>v});var i=n(60177),t=n(95960),l=n(77632),e=n(57538),f=n(39548),m=n(19340),p=n(54438);const _=y=>({open:y});let v=(()=>{class y{constructor(O,I){this.menuService=O,this.windowService=I,this.menuID=m.D.PUBLIC,this.maxMobileWidth=e.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=function(I){return new(I||y)(p.rXU(f.$),p.rXU(e.CV))}}static{this.\u0275cmp=p.VBU({type:y,selectors:[["ds-base-header-navbar-wrapper"]],standalone:!0,features:[p.aNF],decls:4,vars:5,consts:[["id","header-navbar-wrapper",3,"ngClass"]],template:function(I,D){1&I&&(p.j41(0,"div",0),p.nI1(1,"async"),p.nrm(2,"ds-header")(3,"ds-navbar"),p.k0s()),2&I&&p.Y8G("ngClass",p.eq3(3,_,!0!==p.bMT(1,1,D.isNavBarCollapsed$)))},dependencies:[i.YU,t.q,l.D,i.Jj],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}"]})}}return y})()},77529:(N,T,n)=>{"use strict";n.d(T,{h:()=>m});var i=n(8886),l=(n(78221),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"HeaderNavbarWrapperComponent"}importThemedComponent(v){return n(20991)(`./${v}/app/header-nav-wrapper/header-navbar-wrapper.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,78221))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-header-navbar-wrapper"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},20968:(N,T,n)=>{"use strict";n.d(T,{Y:()=>p});var i=n(60177),t=n(41780),l=n(96354),e=n(40188),f=n(54438);function m(_,v){if(1&_){const y=f.RV6();f.j41(0,"div")(1,"a",1),f.nI1(2,"translate"),f.nI1(3,"translate"),f.bIt("click",function(){f.eBV(y);const O=f.XpG();return f.Njj(O.onClick())}),f.nrm(4,"i",2),f.k0s()()}2&_&&(f.R7$(),f.Y8G("title",f.bMT(2,2,"nav.context-help-toggle")),f.BMQ("aria-label",f.bMT(3,4,"nav.context-help-toggle")))}let p=(()=>{class _{constructor(y,C){this.elRef=y,this.contextHelpService=C,this.subscriptions=[]}ngOnInit(){this.buttonVisible$=this.contextHelpService.tooltipCount$().pipe((0,l.T)(y=>y>0)),this.subscriptions.push(this.buttonVisible$.subscribe(y=>{y?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}onClick(){this.contextHelpService.toggleIcons()}static{this.\u0275fac=function(C){return new(C||_)(f.rXU(f.aKT),f.rXU(e.O))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-context-help-toggle"]],standalone:!0,features:[f.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["href","javascript:void(0);","role","menuitem",3,"click","title"],[1,"fas","fa-lg","fa-fw","fa-question-circle","ds-context-help-toggle"]],template:function(C,O){1&C&&(f.DNE(0,m,5,6,"div",0),f.nI1(1,"async")),2&C&&f.Y8G("ngIf",f.bMT(1,1,O.buttonVisible$))},dependencies:[i.bT,i.Jj,t.h,t.D9],styles:[".ds-context-help-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color);background-color:var(--ds-header-bg)}.ds-context-help-toggle[_ngcontent-%COMP%]:hover, .ds-context-help-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return _})()},34912:(N,T,n)=>{"use strict";n.r(T),n.d(T,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(3224),m=n(44002),p=n(57538),_=n(34458),v=n(28068),y=n(39548),C=n(19340),O=n(20968),I=n(54438);function D(h,w){if(1&h){const b=I.RV6();I.j41(0,"div",6)(1,"button",7),I.nI1(2,"translate"),I.bIt("click",function(){I.eBV(b);const M=I.XpG();return I.Njj(M.toggleNavbar())}),I.nrm(3,"span",8),I.k0s()()}2&h&&(I.R7$(),I.BMQ("aria-label",I.bMT(2,1,"nav.toggle")))}let R=(()=>{class h{constructor(b,P){this.menuService=b,this.windowService=P,this.menuID=C.D.PUBLIC,this.maxMobileWidth=p.tP.SM}ngOnInit(){this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth)}toggleNavbar(){this.menuService.toggleMenu(this.menuID)}static{this.\u0275fac=function(P){return new(P||h)(I.rXU(y.$),I.rXU(p.CV))}}static{this.\u0275cmp=I.VBU({type:h,selectors:[["ds-base-header"]],standalone:!0,features:[I.aNF],decls:15,vars:9,consts:[[1,"container"],[1,"d-flex","flex-row","justify-content-between"],["routerLink","/home",1,"navbar-brand","my-2"],["src","assets/images/unifesp_logo.png"],["role","navigation",1,"navbar","navbar-light","navbar-expand-md","flex-shrink-0","px-0"],["class","pl-2",4,"ngIf"],[1,"pl-2"],["type","button","aria-controls","collapsingNav","aria-expanded","false",1,"navbar-toggler","px-0",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","toggler-icon"]],template:function(P,M){1&P&&(I.j41(0,"header")(1,"div",0)(2,"div",1)(3,"a",2),I.nrm(4,"img",3),I.nI1(5,"translate"),I.k0s(),I.j41(6,"nav",4),I.nI1(7,"translate"),I.nrm(8,"ds-search-navbar")(9,"ds-lang-switch")(10,"ds-context-help-toggle")(11,"ds-auth-nav-menu")(12,"ds-impersonate-navbar"),I.DNE(13,D,4,3,"div",5),I.nI1(14,"async"),I.k0s()()()()),2&P&&(I.R7$(4),I.BMQ("alt",I.bMT(5,3,"menu.header.image.logo")),I.R7$(2),I.BMQ("aria-label",I.bMT(7,5,"nav.user.description")),I.R7$(7),I.Y8G("ngIf",I.bMT(14,7,M.isMobile$)))},dependencies:[t.Wk,v.n,l.zH,l.QE,f.X,O.Y,m.v,_.d,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   header[_ngcontent-%COMP%]{background-color:var(--ds-header-bg)}[_nghost-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{border:none;color:var(--ds-header-icon-color)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}[_nghost-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]   .toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;line-height:1.5}[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;gap:calc(var(--bs-spacer) / 3);align-items:center}"]})}}return h})()},95960:(N,T,n)=>{"use strict";n.d(T,{q:()=>m});var i=n(8886),l=(n(34912),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"HeaderComponent"}importThemedComponent(v){return n(16722)(`./${v}/app/header/header.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,34912))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-header"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},16805:(N,T,n)=>{"use strict";n.d(T,{KN:()=>m,KS:()=>f,UB:()=>e,jK:()=>t,lB:()=>l});var i=n(69799);const t="end-user-agreement",l="privacy",e="feedback",f="coar-notify-support";function m(){return function y(C){return`${(0,i.e_)()}/${C}`}(t)}},4436:(N,T,n)=>{"use strict";n.d(T,{$2:()=>l,Bw:()=>m,Jr:()=>f,K4:()=>p,KY:()=>_,Pg:()=>t,RS:()=>e,kH:()=>i});const i="withdraw",t="reinstate",l="private",e="public",f="delete",m="move",p="authorizations",_="register-doi"},13933:(N,T,n)=>{"use strict";n.d(T,{W:()=>p});var i=n(60177),t=n(41780),e=(n(88318),n(54438));function f(_,v){if(1&_&&(e.j41(0,"tr",4)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&_){const y=v.$implicit,C=e.XpG().$implicit;e.R7$(2),e.JRh(C.key),e.R7$(2),e.JRh(y.value),e.R7$(2),e.JRh(y.language)}}function m(_,v){if(1&_&&(e.qex(0),e.DNE(1,f,7,3,"tr",3),e.bVm()),2&_){const y=v.$implicit;e.R7$(),e.Y8G("ngForOf",y.value)}}let p=(()=>{class _{ngOnChanges(){this.metadata=this.item?.metadata}static{this.\u0275fac=function(C){return new(C||_)}}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-modify-item-overview"]],inputs:{item:"item"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:12,consts:[["id","metadata",1,"table","table-striped","table-hover","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["class","metadata-row",4,"ngFor","ngForOf"],[1,"metadata-row"]],template:function(C,O){1&C&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",1),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",1),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,m,2,1,"ng-container",2),e.nI1(14,"keyvalue"),e.k0s()()),2&C&&(e.R7$(4),e.JRh(e.bMT(5,4,"item.edit.modify.overview.field")),e.R7$(3),e.JRh(e.bMT(8,6,"item.edit.modify.overview.value")),e.R7$(3),e.JRh(e.bMT(11,8,"item.edit.modify.overview.language")),e.R7$(3),e.Y8G("ngForOf",e.bMT(14,10,O.metadata)))},dependencies:[i.pM,i.lG,t.h,t.D9],encapsulation:2})}}return _})()},44616:(N,T,n)=>{"use strict";n.d(T,{r:()=>j});var i=n(60177),t=n(7901),l=n(41780),e=n(84412),f=n(84572),m=n(99172),p=n(88141),_=n(53993),v=n(25558),y=n(31943),C=n(96354),O=n(96526),I=n(6983),D=n(41023),h=(n(88318),n(80183)),w=n(82777),b=n(79222),P=n(54438);const M=G=>["/collections",G];function L(G,z){if(1&G&&P.nrm(0,"span",7),2&G){const V=P.XpG(2);P.Y8G("innerHTML",V.separator,P.npT)}}function B(G,z){if(1&G&&(P.j41(0,"a",5)(1,"span"),P.EFF(2),P.k0s(),P.DNE(3,L,1,1,"span",6),P.k0s()),2&G){const V=z.$implicit,X=z.last,J=P.XpG();P.Y8G("routerLink",P.eq3(3,M,V.id)),P.R7$(2),P.JRh(J.dsoNameService.getName(V)),P.R7$(),P.Y8G("ngIf",!X)}}function U(G,z){1&G&&(P.j41(0,"div"),P.EFF(1),P.nI1(2,"translate"),P.k0s()),2&G&&(P.R7$(),P.SpI(" ",P.bMT(2,1,"item.page.collections.loading")," "))}function $(G,z){if(1&G){const V=P.RV6();P.j41(0,"a",8),P.bIt("click",function(J){P.eBV(V);const q=P.XpG();return J.preventDefault(),P.Njj(q.handleLoadMore())}),P.EFF(1),P.nI1(2,"translate"),P.k0s()}2&G&&(P.R7$(),P.SpI(" ",P.bMT(2,1,"item.page.collections.load-more")," "))}let j=(()=>{class G{constructor(V,X,J){this.cds=V,this.dsoNameService=X,this.cdr=J,this.label="item.page.collections",this.separator="<br/>",this.pageSize=5,this.lastPage$=new e.t(0),this.loadMore$=new e.t(void 0),this.isLoading$=new e.t(!0),this.hasMore$=new e.t(!0)}ngOnInit(){const V=this.cds.findOwningCollectionFor(this.item).pipe((0,h.ak)(),(0,m.Z)(null)),X=this.loadMore$.pipe((0,p.M)(()=>this.isLoading$.next(!0)),(0,_.E)(this.lastPage$),(0,v.n)(([J,q])=>this.cds.findMappedCollectionsFor(this.item,Object.assign(new D._,{elementsPerPage:this.pageSize,currentPage:q+1}))),(0,h.bD)(),(0,p.M)(()=>this.isLoading$.next(!1)),(0,h.Hz)(),(0,p.M)(J=>this.hasMore$.next(J.currentPage<J.totalPages)),(0,p.M)(J=>this.lastPage$.next(J.currentPage)),(0,h.W8)(),(0,y.S)((J,q)=>[...J,...q],[]),(0,m.Z)([]));this.collections$=(0,f.z)([V,X]).pipe((0,C.T)(([J,q])=>[J,...q].filter(Z=>(0,w.a4)(Z)))),this.cdr.detectChanges()}handleLoadMore(){this.loadMore$.next()}static{this.\u0275fac=function(X){return new(X||G)(P.rXU(I.CollectionDataService),P.rXU(O.f),P.rXU(P.gRc))}}static{this.\u0275cmp=P.VBU({type:G,selectors:[["ds-item-page-collections"]],inputs:{item:"item",separator:"separator"},standalone:!0,features:[P.aNF],decls:10,vars:14,consts:[[3,"label"],[1,"collections"],[3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],["class","load-more-btn btn btn-sm btn-outline-secondary","role","button","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"routerLink"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],["role","button","href","javascript:void(0);",1,"load-more-btn","btn","btn-sm","btn-outline-secondary",3,"click"]],template:function(X,J){1&X&&(P.j41(0,"ds-metadata-field-wrapper",0),P.nI1(1,"translate"),P.j41(2,"div",1),P.DNE(3,B,4,5,"a",2),P.nI1(4,"async"),P.k0s(),P.DNE(5,U,3,3,"div",3),P.nI1(6,"async"),P.DNE(7,$,3,3,"a",4),P.nI1(8,"async"),P.nI1(9,"async"),P.k0s()),2&X&&(P.Y8G("label",P.bMT(1,4,J.label)),P.R7$(3),P.Y8G("ngForOf",P.bMT(4,6,J.collections$)),P.R7$(2),P.Y8G("ngIf",P.bMT(6,8,J.isLoading$)),P.R7$(2),P.Y8G("ngIf",!0!==P.bMT(8,10,J.isLoading$)&&P.bMT(9,12,J.hasMore$)))},dependencies:[b.Q,l.h,l.D9,i.Sq,i.Jj,t.Wk,i.bT],encapsulation:2})}}return G})()},90887:(N,T,n)=>{"use strict";n.d(T,{$r:()=>m,DL:()=>v,Fy:()=>e,_o:()=>f,_z:()=>R,aX:()=>D,jU:()=>C,nF:()=>p,vf:()=>y,xb:()=>l});var i=n(45663),t=n(82777);const l="items";function e(){return`/${l}`}function f(h){return _(h.firstMetadataValue("dspace.entity.type"),h.uuid)}function m(h){return new i.t(f(h),C).toString()}function p(h){return new i.t(f(h),C,O).toString()}function _(h,w){return(0,t.hj)(h)?new i.t("/entities",encodeURIComponent(h.toLowerCase()),w).toString():new i.t(e(),w).toString()}function v(h,w){return new i.t(_(h,w),C).toString()}function y(h){return new i.t(e(),I,h).toString()}const C="edit",O="versionhistory",I="version",D="bitstreams/new",R="orcid"},39630:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MediaViewerImageComponent:()=>f});var i=n(60177),t=n(23632),l=n(67116),e=n(54438);let f=(()=>{class m{constructor(_){this.authService=_,this.thumbnailPlaceholder="./assets/images/replacement_image.svg",this.galleryOptions=[],this.galleryImages=[]}ngOnChanges(){this.galleryOptions=[{preview:void 0===this.preview||this.preview,image:!0,imageSize:"contain",thumbnails:!1,imageArrows:!1,startIndex:0,imageAnimation:t.O7.Slide,previewCloseOnEsc:!0,previewZoom:!0,previewRotate:!0,previewFullscreen:!0}],this.galleryImages=this.image?[{small:this.image,medium:this.image,big:this.image}]:this.convertToGalleryImage(this.images)}ngOnInit(){this.isAuthenticated$=this.authService.isAuthenticated(),this.ngOnChanges()}convertToGalleryImage(_){const v=[];for(const y of _)"image"===y.format&&v.push({small:y.thumbnail?y.thumbnail:this.thumbnailPlaceholder,medium:y.thumbnail?y.thumbnail:this.thumbnailPlaceholder,big:y.bitstream._links.content.href});return v}static{this.\u0275fac=function(v){return new(v||m)(e.rXU(l.uR))}}static{this.\u0275cmp=e.VBU({type:m,selectors:[["ds-base-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[e.OA$,e.aNF],decls:3,vars:6,consts:[[1,"ngx-gallery",3,"options","images"]],template:function(v,y){1&v&&(e.j41(0,"div"),e.nI1(1,"async"),e.nrm(2,"ngx-gallery",0),e.k0s()),2&v&&(e.AVh("change-gallery",e.bMT(1,4,y.isAuthenticated$)),e.R7$(2),e.Y8G("options",y.galleryOptions)("images",y.galleryImages))},dependencies:[t.cz,t.Fv,i.Jj],styles:['[_nghost-%COMP%]     .ngx-gallery{width:unset!important;height:unset!important}[_nghost-%COMP%]     ngx-gallery-image{max-width:340px!important}[_nghost-%COMP%]     ngx-gallery-image .ngx-gallery-image{background-position:left}[_nghost-%COMP%]     ngx-gallery-image:after{padding-top:75%;display:block;content:""}']})}}return m})()},56242:(N,T,n)=>{"use strict";n.d(T,{Q:()=>m});var i=n(8886),l=(n(39630),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["images","preview","image"]}getComponentName(){return"MediaViewerImageComponent"}importThemedComponent(v){return n(52636)(`./${v}/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,39630))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-media-viewer-image"]],inputs:{images:"images",preview:"preview",image:"image"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},90823:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MediaViewerVideoComponent:()=>I});var i=n(60177),t=n(52149),l=n(41780),e=n(96526),f=n(60456);class m{constructor(R,h,w){this.src=R,this.srclang=h,this.langLabel=w}}const p={ab:"Abkhazian",aa:"Afar",af:"Afrikaans",ak:"Akan",sq:"Albanian",am:"Amharic",ar:"Arabic",an:"Aragonese",hy:"Armenian",as:"Assamese",av:"Avaric",ae:"Avestan",ay:"Aymara",az:"Azerbaijani",bm:"Bambara",ba:"Bashkir",eu:"Basque",be:"Belarusian",bn:"Bengali (Bangla)",bh:"Bihari",bi:"Bislama",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",ny:"Chichewa, Chewa, Nyanja",zh:"Chinese",cv:"Chuvash",kw:"Cornish",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",dv:"Divehi, Dhivehi, Maldivian",nl:"Dutch",dz:"Dzongkha",en:"English",eo:"Esperanto",et:"Estonian",ee:"Ewe",fo:"Faroese",fj:"Fijian",fi:"Finnish",fr:"French",ff:"Fula, Fulah, Pulaar, Pular",gl:"Galician",gd:"Gaelic (Scottish)",gv:"Gaelic (Manx)",ka:"Georgian",de:"German",el:"Greek",gn:"Guarani",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",he:"Hebrew",hz:"Herero",hi:"Hindi",ho:"Hiri Motu",hu:"Hungarian",is:"Icelandic",io:"Ido",ig:"Igbo",in:"Indonesian",ia:"Interlingua",ie:"Interlingue",iu:"Inuktitut",ik:"Inupiak",ga:"Irish",it:"Italian",ja:"Japanese",jv:"Javanese",kl:"Kalaallisut, Greenlandic",kn:"Kannada",kr:"Kanuri",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ki:"Kikuyu",rw:"Kinyarwanda (Rwanda)",rn:"Kirundi",ky:"Kyrgyz",kv:"Komi",kg:"Kongo",ko:"Korean",ku:"Kurdish",kj:"Kwanyama",lo:"Lao",la:"Latin",lv:"Latvian (Lettish)",li:"Limburgish ( Limburger)",ln:"Lingala",lt:"Lithuanian",lu:"Luga-Katanga",lg:"Luganda, Ganda",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mh:"Marshallese",mo:"Moldavian",mn:"Mongolian",na:"Nauru",nv:"Navajo",ng:"Ndonga",nd:"Northern Ndebele",ne:"Nepali",no:"Norwegian",nb:"Norwegian bokm\xe5l",nn:"Norwegian nynorsk",oc:"Occitan",oj:"Ojibwe",cu:"Old Church Slavonic, Old Bulgarian",or:"Oriya",om:"Oromo (Afaan Oromo)",os:"Ossetian",pi:"P\u0101li",ps:"Pashto, Pushto",fa:"Persian (Farsi)",pl:"Polish",pt:"Portuguese",pa:"Punjabi (Eastern)",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",se:"Sami",sm:"Samoan",sg:"Sango",sa:"Sanskrit",sr:"Serbian",sh:"Serbo-Croatian",st:"Sesotho",tn:"Setswana",sn:"Shona",ii:"Sichuan Yi, Nuosu",sd:"Sindhi",si:"Sinhalese",ss:"Siswati (Swati)",sk:"Slovak",sl:"Slovenian",so:"Somali",nr:"Southern Ndebele",es:"Spanish",su:"Sundanese",sw:"Swahili (Kiswahili)",sv:"Swedish",tl:"Tagalog",ty:"Tahitian",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ts:"Tsonga",tr:"Turkish",tk:"Turkmen",tw:"Twi",ug:"Uyghur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ve:"Venda",vi:"Vietnamese",vo:"Volap\xfck",wa:"Wallon",cy:"Welsh",wo:"Wolof",fy:"Western Frisian",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",za:"Zhuang, Chuang",zu:"Zulu"};var _=n(54438);function v(D,R){if(1&D&&(_.qex(0),_.nrm(1,"track",4),_.bVm()),2&D){const h=R.$implicit;_.R7$(),_.Y8G("src",h.src,_.B4B)("label",h.langLabel)("srclang",h.srclang)}}function y(D,R){if(1&D&&(_.qex(0),_.DNE(1,v,2,3,"ng-container",3),_.bVm()),2&D){const h=R.ngIf;_.R7$(),_.Y8G("ngForOf",h)}}function C(D,R){if(1&D){const h=_.RV6();_.j41(0,"button",12),_.bIt("click",function(){const b=_.eBV(h).index,P=_.XpG(2);return _.Njj(P.selectedMedia(b))}),_.EFF(1),_.k0s()}if(2&D){const h=R.$implicit,w=_.XpG(2);_.R7$(),_.SpI(" ",w.dsoNameService.getName(h.bitstream)," ")}}function O(D,R){if(1&D){const h=_.RV6();_.j41(0,"div",5)(1,"button",6),_.bIt("click",function(){_.eBV(h);const b=_.XpG();return _.Njj(b.prevMedia())}),_.EFF(2),_.nI1(3,"translate"),_.k0s(),_.j41(4,"button",7),_.bIt("click",function(){_.eBV(h);const b=_.XpG();return _.Njj(b.nextMedia())}),_.EFF(5),_.nI1(6,"translate"),_.k0s(),_.j41(7,"div",8)(8,"button",9),_.EFF(9),_.nI1(10,"translate"),_.k0s(),_.j41(11,"div",10),_.DNE(12,C,2,1,"button",11),_.k0s()()()}if(2&D){const h=_.XpG();_.R7$(),_.Y8G("dsBtnDisabled",0===h.currentIndex),_.R7$(),_.SpI(" ",_.bMT(3,6,"media-viewer.previous")," "),_.R7$(2),_.Y8G("dsBtnDisabled",h.currentIndex===h.medias.length-1),_.R7$(),_.SpI(" ",_.bMT(6,8,"media-viewer.next")," "),_.R7$(4),_.SpI(" ",_.bMT(10,10,"media-viewer.playlist")," "),_.R7$(3),_.Y8G("ngForOf",h.medias)}}let I=(()=>{class D{constructor(h){this.dsoNameService=h,this.captions=[],this.isCollapsed=!1,this.currentIndex=0,this.replacements={video:"./assets/images/replacement_video.svg",audio:"./assets/images/replacement_audio.svg"}}getMediaCap(h,w){const b=[],P=w.filter(M=>M.name.substring(0,M.name.length-7).toLowerCase()===h.toLowerCase());for(const M of P){const L=M.name.slice(-6,-4).toLowerCase();b.push(new m(M._links.content.href,L,p[L]))}return b}selectedMedia(h){this.currentIndex=h}nextMedia(){this.currentIndex++}prevMedia(){this.currentIndex--}static{this.\u0275fac=function(w){return new(w||D)(_.rXU(e.f))}}static{this.\u0275cmp=_.VBU({type:D,selectors:[["ds-base-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[_.aNF],decls:3,vars:4,consts:[["crossorigin","anonymous","id","singleVideo","preload","none","controls","",3,"src","poster"],[4,"ngIf"],["class","buttons",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"src","label","srclang"],[1,"buttons"],[1,"btn","btn-primary","previous",3,"click","dsBtnDisabled"],[1,"btn","btn-primary","next",3,"click","dsBtnDisabled"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary","playlist"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","class","list-element",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",1,"list-element",3,"click"]],template:function(w,b){1&w&&(_.j41(0,"video",0),_.DNE(1,y,2,1,"ng-container",1),_.k0s(),_.DNE(2,O,13,12,"div",2)),2&w&&(_.Y8G("src",b.medias[b.currentIndex].bitstream._links.content.href,_.B4B)("poster",b.medias[b.currentIndex].thumbnail||b.replacements[b.medias[b.currentIndex].format],_.B4B),_.R7$(),_.Y8G("ngIf",b.getMediaCap(b.medias[b.currentIndex].bitstream.name,b.captions)),_.R7$(),_.Y8G("ngIf",(null==b.medias?null:b.medias.length)>1))},dependencies:[i.Sq,t.zH,t.tg,t.do,t.U0,t._H,l.h,l.D9,i.bT,f.A],styles:["video[_ngcontent-%COMP%]{width:100%;height:auto;max-width:340px}.buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}"]})}}return D})()},38342:(N,T,n)=>{"use strict";n.d(T,{U:()=>m});var i=n(8886),l=(n(90823),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["medias","captions"]}getComponentName(){return"MediaViewerVideoComponent"}importThemedComponent(v){return n(38815)(`./${v}/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90823))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-media-viewer-video"]],inputs:{medias:"medias",captions:"captions"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},90337:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MediaViewerComponent:()=>Z});var i=n(60177),t=n(41780),l=n(84412),e=n(5964),f=n(96697),m=n(88280),p=n(42578);n(88318);class v{}var y=n(80183),C=n(82777),O=n(82394),I=n(67600),D=n(18226),R=n(97402),h=n(56242),w=n(38342),b=n(54438);const P=()=>["audio","video"];function M(H,Y){1&H&&(b.nrm(0,"ds-loading",4),b.nI1(1,"translate")),2&H&&(b.FS9("message",b.bMT(1,2,"loading.default")),b.Y8G("showMessage",!1))}function L(H,Y){if(1&H&&(b.nrm(0,"ds-media-viewer-video",9),b.nI1(1,"async")),2&H){const Q=b.XpG(5).ngVar,ie=b.XpG();b.Y8G("medias",Q)("captions",b.bMT(1,2,ie.captions$))}}function B(H,Y){if(1&H&&b.nrm(0,"ds-media-viewer-image",10),2&H){const Q=b.XpG(5).ngVar;b.Y8G("images",Q)}}function U(H,Y){1&H&&b.eu8(0)}function $(H,Y){if(1&H&&(b.qex(0),b.DNE(1,L,2,4,"ds-media-viewer-video",7)(2,B,1,1,"ds-media-viewer-image",8)(3,U,1,0,"ng-container",6),b.bVm()),2&H){const Q=Y.ngVar,ie=b.XpG().ngVar;b.XpG(3);const oe=b.sdS(4);b.R7$(),b.Y8G("ngIf",ie),b.R7$(),b.Y8G("ngIf",Q),b.R7$(),b.Y8G("ngIf",Q||ie)("ngIfElse",oe)}}function j(H,Y){if(1&H&&(b.qex(0),b.DNE(1,$,4,4,"ng-container",1),b.bVm()),2&H){const Q=b.XpG(3).ngVar,ie=b.XpG();b.R7$(),b.Y8G("ngVar",ie.mediaOptions.image&&"image"===(null==Q[0]?null:Q[0].format))}}function G(H,Y){if(1&H&&(b.qex(0),b.DNE(1,j,2,1,"ng-container",1),b.bVm()),2&H){const Q=b.XpG(2).ngVar,ie=b.XpG();b.R7$(),b.Y8G("ngVar",ie.mediaOptions.video&&b.lJ4(1,P).includes(null==Q[0]?null:Q[0].format))}}function z(H,Y){if(1&H&&(b.j41(0,"div",5),b.DNE(1,G,2,2,"ng-container",6),b.k0s()),2&H){const Q=b.XpG().ngVar,ie=b.sdS(4);b.R7$(),b.Y8G("ngIf",Q.length>0)("ngIfElse",ie)}}function V(H,Y){if(1&H&&(b.nrm(0,"ds-media-viewer-image",13),b.nI1(1,"async")),2&H){let Q;const ie=b.XpG(3);b.Y8G("image",(null==(Q=b.bMT(1,2,ie.thumbnailsRD$))||null==Q.payload||null==Q.payload.page[0]?null:Q.payload.page[0]._links.content.href)||ie.thumbnailPlaceholder)("preview",!1)}}function X(H,Y){if(1&H&&(b.nrm(0,"ds-thumbnail",14),b.nI1(1,"async")),2&H){let Q;const ie=b.XpG(3);b.Y8G("thumbnail",null==(Q=b.bMT(1,1,ie.thumbnailsRD$))||null==Q.payload?null:Q.payload.page[0])}}function J(H,Y){if(1&H&&b.DNE(0,V,2,4,"ds-media-viewer-image",11)(1,X,2,3,"ds-thumbnail",12),2&H){const Q=b.XpG(2);b.Y8G("ngIf",Q.mediaOptions.image&&Q.mediaOptions.video),b.R7$(),b.Y8G("ngIf",!(Q.mediaOptions.image&&Q.mediaOptions.video))}}function q(H,Y){if(1&H&&(b.qex(0),b.DNE(1,M,2,4,"ds-loading",2)(2,z,2,2,"div",3)(3,J,2,2,"ng-template",null,0,b.C5r),b.bVm()),2&H){const Q=b.XpG();b.R7$(),b.Y8G("ngIf",Q.isLoading),b.R7$(),b.Y8G("ngIf",!Q.isLoading)}}let Z=(()=>{class H{constructor(Q,ie){this.bitstreamDataService=Q,this.changeDetectorRef=ie,this.mediaOptions=m.c.mediaViewer,this.mediaList$=new l.t([]),this.captions$=new l.t([]),this.isLoading=!0,this.thumbnailPlaceholder="./assets/images/replacement_document.svg",this.subs=[]}ngOnDestroy(){this.subs.forEach(Q=>Q.unsubscribe())}ngOnInit(){const Q=[...this.mediaOptions.image?["image"]:[],...this.mediaOptions.video?["audio","video"]:[]];this.thumbnailsRD$=this.loadRemoteData("THUMBNAIL"),this.subs.push(this.loadRemoteData("ORIGINAL").subscribe(ie=>{0===ie.payload.page.length?(this.isLoading=!1,this.mediaList$.next([])):this.subs.push(this.thumbnailsRD$.subscribe(oe=>{for(let pe=0;pe<ie.payload.page.length;pe++)this.subs.push(ie.payload.page[pe].format.pipe((0,y.ak)()).subscribe(ne=>{const re=this.createMediaViewerItem(ie.payload.page[pe],ne,oe.payload&&oe.payload.page[pe]);Q.includes(re.format)?this.mediaList$.next([...this.mediaList$.getValue(),re]):"text/vtt"===ne.mimetype&&this.captions$.next([...this.captions$.getValue(),ie.payload.page[pe]])}));this.isLoading=!1,this.changeDetectorRef.detectChanges()}))}))}loadRemoteData(Q){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,Q,{},!0,!0,(0,I.s)("format")).pipe((0,e.p)(ie=>(0,C.a4)(ie)&&((0,C.a4)(ie.errorMessage)||(0,C.a4)(ie.payload))),(0,f.s)(1))}createMediaViewerItem(Q,ie,oe){const pe=new v;return pe.bitstream=Q,pe.format=ie.mimetype.split("/")[0],pe.mimetype=ie.mimetype,pe.thumbnail=oe?oe._links.content.href:null,pe}static{this.\u0275fac=function(ie){return new(ie||H)(b.rXU(p.BitstreamDataService),b.rXU(b.gRc))}}static{this.\u0275cmp=b.VBU({type:H,selectors:[["ds-base-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[b.aNF],decls:2,vars:3,consts:[["showThumbnail",""],[4,"ngVar"],[3,"message","showMessage",4,"ngIf"],["class","media-viewer",4,"ngIf"],[3,"message","showMessage"],[1,"media-viewer"],[4,"ngIf","ngIfElse"],[3,"medias","captions",4,"ngIf"],[3,"images",4,"ngIf"],[3,"medias","captions"],[3,"images"],[3,"image","preview",4,"ngIf"],[3,"thumbnail",4,"ngIf"],[3,"image","preview"],[3,"thumbnail"]],template:function(ie,oe){1&ie&&(b.DNE(0,q,5,2,"ng-container",1),b.nI1(1,"async")),2&ie&&b.Y8G("ngVar",b.bMT(1,1,oe.mediaList$))},dependencies:[h.Q,R.T,i.Jj,i.bT,w.U,t.h,t.D9,O.v,D.r]})}}return H})()},20261:(N,T,n)=>{"use strict";n.d(T,{e:()=>l});var i=n(82777),t=n(54438);let l=(()=>{class e{ngOnInit(){this.objects=[],this.subscriptions=[],this.increase()}getPage(m){}increase(){const m=this.getPage(this.objects.length+1);(0,i.a4)(m)&&this.objects.push(m)}decrease(){this.objects.length>1&&this.objects.pop()}ngOnDestroy(){(0,i.hj)(this.subscriptions)&&this.subscriptions.forEach(m=>{m.unsubscribe()})}static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["ds-abstract-incremental-list"]],standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(p,_){},encapsulation:2})}}return e})()},1231:(N,T,n)=>{"use strict";n.r(T),n.d(T,{FileSectionComponent:()=>j});var i=n(60177),t=n(41780),l=n(84412),e=n(82640),f=n(96526),m=n(42578),_=(n(88318),n(80183)),v=n(82777),y=n(28836),C=n(82394),O=n(79222),I=n(39806),D=n(43525),R=n(18226),h=n(54438);function w(G,z){1&G&&(h.j41(0,"span",11),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&G&&(h.R7$(),h.JRh(h.bMT(2,1,"item.page.bitstreams.primary")))}function b(G,z){if(1&G&&h.nrm(0,"span",12),2&G){const V=h.XpG(4);h.FS9("innerHTML",V.separator,h.npT)}}function P(G,z){if(1&G&&(h.j41(0,"ds-file-download-link",8)(1,"span"),h.DNE(2,w,3,3,"span",9),h.EFF(3),h.k0s(),h.j41(4,"span"),h.EFF(5),h.nI1(6,"dsFileSize"),h.k0s(),h.DNE(7,b,1,1,"span",10),h.k0s()),2&G){const V=z.$implicit,X=z.last,J=h.XpG(3);h.Y8G("bitstream",V)("item",J.item),h.R7$(2),h.Y8G("ngIf",J.primaryBitsreamId===V.id),h.R7$(),h.SpI(" ",J.dsoNameService.getName(V)," "),h.R7$(2),h.SpI(" (",h.bMT(6,6,null==V?null:V.sizeBytes),")"),h.R7$(2),h.Y8G("ngIf",!X)}}function M(G,z){1&G&&(h.nrm(0,"ds-loading",13),h.nI1(1,"translate")),2&G&&(h.FS9("message",h.bMT(1,2,"loading.default")),h.Y8G("showMessage",!1))}function L(G,z){if(1&G){const V=h.RV6();h.j41(0,"div",14)(1,"button",15),h.bIt("click",function(){h.eBV(V);const J=h.XpG(3);return h.Njj(J.getNextPage())}),h.EFF(2),h.nI1(3,"translate"),h.k0s()()}2&G&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.page.bitstreams.view-more")))}function B(G,z){if(1&G){const V=h.RV6();h.j41(0,"div",16)(1,"button",17),h.bIt("click",function(){h.eBV(V);const J=h.XpG(3);return J.currentPage=void 0,h.Njj(J.getNextPage())}),h.EFF(2),h.nI1(3,"translate"),h.k0s()()}2&G&&(h.R7$(2),h.JRh(h.bMT(3,1,"item.page.bitstreams.collapse")))}function U(G,z){if(1&G&&(h.j41(0,"ds-metadata-field-wrapper",2),h.nI1(1,"translate"),h.j41(2,"div",3),h.DNE(3,P,8,8,"ds-file-download-link",4)(4,M,2,4,"ds-loading",5)(5,L,4,3,"div",6)(6,B,4,3,"div",7),h.k0s()()),2&G){const V=h.XpG().ngVar,X=h.XpG();h.Y8G("label",h.bMT(1,5,X.label)),h.R7$(3),h.Y8G("ngForOf",V),h.R7$(),h.Y8G("ngIf",X.isLoading),h.R7$(),h.Y8G("ngIf",!X.isLastPage),h.R7$(),h.Y8G("ngIf",X.isLastPage&&1!==X.currentPage)}}function $(G,z){if(1&G&&(h.qex(0),h.DNE(1,U,7,7,"ds-metadata-field-wrapper",1),h.bVm()),2&G){const V=z.ngVar;h.R7$(),h.Y8G("ngIf",(null==V?null:V.length)>0)}}let j=(()=>{class G{constructor(V,X,J,q,Z){this.bitstreamDataService=V,this.notificationsService=X,this.translateService=J,this.dsoNameService=q,this.appConfig=Z,this.label="item.page.files",this.separator="<br/>",this.pageSize=this.appConfig.item.bitstream.pageSize}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPage()}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(V=>{V&&(this.primaryBitsreamId=V?.id)})}getNextPage(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new l.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize}).pipe((0,_.qD)()).subscribe(V=>{if(V.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${V.statusCode} ${V.errorMessage}`);else if((0,v.a4)(V.payload)){const X=this.bitstreams$.getValue();this.bitstreams$.next([...X,...V.payload.page]),this.isLoading=!1,this.isLastPage=this.currentPage===V.payload.totalPages}})}static{this.\u0275fac=function(X){return new(X||G)(h.rXU(m.BitstreamDataService),h.rXU(I.I),h.rXU(t.c$),h.rXU(f.f),h.rXU(e.vQ))}}static{this.\u0275cmp=h.VBU({type:G,selectors:[["ds-base-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[h.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[3,"label",4,"ngIf"],[3,"label"],[1,"file-section"],[3,"bitstream","item",4,"ngFor","ngForOf"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"bitstream","item"],["class","badge badge-primary",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"badge","badge-primary"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(X,J){1&X&&(h.DNE(0,$,2,1,"ng-container",0),h.nI1(1,"async")),2&X&&h.Y8G("ngVar",h.bMT(1,1,J.bitstreams$))},dependencies:[i.MD,i.Sq,i.bT,i.Jj,y.z,O.Q,C.v,t.h,t.D9,D.s,R.r],encapsulation:2})}}return G})()},42458:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ItemPageTitleFieldComponent:()=>p});var i=n(60177),t=n(41780),l=n(96526),f=(n(88318),n(54438));function m(_,v){if(1&_&&(f.j41(0,"div",3),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&_){const y=v.ngIf;f.R7$(),f.SpI(" ",f.bMT(2,1,y.toLowerCase()+".page.titleprefix")," ")}}let p=(()=>{class _{constructor(y){this.dsoNameService=y}static{this.\u0275fac=function(C){return new(C||_)(f.rXU(l.f))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-base-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[f.aNF],decls:4,vars:2,consts:[[1,"item-page-title-field"],["class","d-inline",4,"ngIf"],[1,"dont-break-out"],[1,"d-inline"]],template:function(C,O){1&C&&(f.j41(0,"h1",0),f.DNE(1,m,3,3,"div",1),f.j41(2,"span",2),f.EFF(3),f.k0s()()),2&C&&(f.R7$(),f.Y8G("ngIf",O.item.firstMetadataValue("dspace.entity.type")),f.R7$(2),f.JRh(O.dsoNameService.getName(O.item)))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return _})()},26077:(N,T,n)=>{"use strict";n.d(T,{V:()=>p}),n(88318);var t=n(8886),e=(n(42458),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"ItemPageTitleFieldComponent"}importThemedComponent(y){return n(17026)(`./${y}/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42458))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-item-page-title-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},46588:(N,T,n)=>{"use strict";n.d(T,{EF:()=>R,NG:()=>D,W2:()=>I,ky:()=>C});var i=n(54438),t=n(7673),l=n(44437),e=n(84572),f=n(73028),m=n(96354),p=n(23294),_=n(25558),v=n(80183),y=n(82777);const C=new i.nKC("paginatedRelationsToItems",{providedIn:"root",factory:()=>R}),I=()=>{return h=h=>(0,y.a4)(h)?h.id:void 0,(w,b)=>{if(!Array.isArray(w)||!Array.isArray(b))return!1;const P=w.map(h),M=b.map(h);return P.length===M.length&&P.every(L=>M.includes(L))&&M.every(L=>P.includes(L))};var h},D=h=>w=>w.pipe((0,f.Z)(b=>0===b.length?(0,t.of)([]):(0,l.y)(...b.map(P=>(0,e.z)([P.leftItem,P.rightItem])))),(0,m.T)(b=>b.filter(([P,M])=>P.hasSucceeded&&M.hasSucceeded).map(([P,M])=>P.payload.id===h?M.payload:M.payload.id===h?P.payload:void 0).filter(P=>(0,y.a4)(P))),(0,p.F)(I())),R=h=>w=>w.pipe((0,v.qD)(),(0,_.n)(b=>(0,e.z)(b.payload.page.map(P=>(0,e.z)([P.leftItem.pipe((0,v.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null)),P.rightItem.pipe((0,v.qD)(),(0,m.T)(M=>M.hasSucceeded?M.payload:null))]))).pipe((0,m.T)(P=>P.map(([M,L])=>(0,y.a4)(M)&&M.id===h?L:(0,y.a4)(L)&&L.id===h?M:void 0).filter(M=>(0,y.a4)(M))),(0,p.F)(I()),(0,m.T)(P=>Object.assign(b,{payload:Object.assign(b.payload,{page:P})})))))},12063:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MetadataRepresentationListComponent:()=>z});var i=n(60177),t=n(41780),l=n(44437),e=n(96354),f=n(37864),m=n(42673),p=n(48833),_=n(5410),y=(n(88318),n(14391)),C=n(90424),O=n(80183),I=n(82394),D=n(79222),R=n(32272),h=n(18226),w=n(20261),b=n(54438);const P=V=>({amount:V});function M(V,X){1&V&&b.nrm(0,"ds-metadata-representation-loader",6),2&V&&b.Y8G("mdRepresentation",X.$implicit)}function L(V,X){1&V&&(b.nrm(0,"ds-loading",7),b.nI1(1,"translate")),2&V&&b.FS9("message",b.bMT(1,1,"loading.default"))}function B(V,X){if(1&V){const J=b.RV6();b.j41(0,"div",11)(1,"button",12),b.bIt("click",function(){b.eBV(J);const Z=b.XpG(4);return b.Njj(Z.increase())}),b.EFF(2),b.nI1(3,"translate"),b.k0s()()}if(2&V){const J=b.XpG(4);b.R7$(2),b.JRh(b.i5U(3,1,"item.page.related-items.view-more",b.eq3(4,P,J.total-J.objects.length*J.incrementBy<J.incrementBy?J.total-J.objects.length*J.incrementBy:J.incrementBy)))}}function U(V,X){if(1&V){const J=b.RV6();b.j41(0,"div",13)(1,"button",12),b.bIt("click",function(){b.eBV(J);const Z=b.XpG(4);return b.Njj(Z.decrease())}),b.EFF(2),b.nI1(3,"translate"),b.k0s()()}if(2&V){const J=b.XpG(2).ngVar;b.R7$(2),b.JRh(b.i5U(3,1,"item.page.related-items.view-less",b.eq3(4,P,null==J?null:J.length)))}}function $(V,X){if(1&V&&(b.j41(0,"div",8),b.DNE(1,B,4,6,"div",9)(2,U,4,6,"div",10),b.k0s()),2&V){const J=b.XpG(3);b.R7$(),b.Y8G("ngIf",J.objects.length*J.incrementBy<J.total),b.R7$(),b.Y8G("ngIf",J.objects.length>1)}}function j(V,X){if(1&V&&(b.qex(0),b.DNE(1,M,1,1,"ds-metadata-representation-loader",3)(2,L,2,3,"ds-loading",4)(3,$,3,2,"div",5),b.bVm()),2&V){const J=X.ngVar,q=b.XpG().index,Z=b.XpG();b.R7$(),b.Y8G("ngForOf",J),b.R7$(),b.Y8G("ngIf",q+1===Z.objects.length&&q>0&&(!J||0===(null==J?null:J.length))),b.R7$(),b.Y8G("ngIf",q+1===Z.objects.length&&(null==J?null:J.length)>0)}}function G(V,X){if(1&V&&(b.qex(0),b.DNE(1,j,4,3,"ng-container",2),b.nI1(2,"async"),b.bVm()),2&V){const J=X.$implicit;b.R7$(),b.Y8G("ngVar",b.bMT(2,1,J))}}let z=(()=>{class V extends w.e{constructor(J,q,Z){super(),this.relationshipService=J,this.browseDefinitionDataService=q,this.metadataService=Z,this.incrementBy=10}getPage(J){const q=this.parentItem.findMetadataSortedByPlace(this.metadataFields);return this.total=q.length,this.resolveMetadataRepresentations(q,J)}resolveMetadataRepresentations(J,q){return(0,l.y)(...J.slice(this.objects.length*this.incrementBy,this.objects.length*this.incrementBy+this.incrementBy).map(Z=>Object.assign(new y.vD,Z)).map(Z=>{if(this.metadataService.isVirtual(Z))return this.relationshipService.resolveMetadataRepresentation(Z,this.parentItem,this.itemType);{let H=[];return this.metadataFields.forEach(Y=>{H=H.concat(f.q.toSearchKeyArray(Y))}),this.browseDefinitionDataService.findByFields(this.metadataFields).pipe((0,O.qD)(),(0,e.T)(Y=>Object.assign(new C.Q(this.itemType,Y.payload),Z)))}}))}static{this.\u0275fac=function(q){return new(q||V)(b.rXU(p.RelationshipDataService),b.rXU(m.BrowseDefinitionDataService),b.rXU(_.T))}}static{this.\u0275cmp=b.VBU({type:V,selectors:[["ds-base-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[b.Vt3,b.aNF],decls:2,vars:2,consts:[[3,"label"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"mdRepresentation",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"mdRepresentation"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left",4,"ngIf"],["class","float-right",4,"ngIf"],[1,"float-left"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"float-right"]],template:function(q,Z){1&q&&(b.j41(0,"ds-metadata-field-wrapper",0),b.DNE(1,G,3,3,"ng-container",1),b.k0s()),2&q&&(b.Y8G("label",Z.label),b.R7$(),b.Y8G("ngForOf",Z.objects))},dependencies:[D.Q,i.pM,h.r,R.V,i.bT,I.v,i.Jj,t.h,t.D9],encapsulation:2})}}return V})()},13955:(N,T,n)=>{"use strict";n.d(T,{U$:()=>L,EN:()=>M});var i=n(54438),t=n(84572),l=n(61594),e=n(96354),f=n(82640),m=n(1321),p=n(72734),_=n(6238),v=n(32473),y=n(22978),C=n(46265),O=n(56760),I=n(26292),D=n(4910),R=n(39012),h=n(23401),w=function(B){return B.Workspace="workspace",B.SupervisedItems="supervisedWorkspace",B.Workflow="workflow",B}(w||{}),b=n(7901);const P=new Map([[w.Workspace,I.o.Workspace],[w.SupervisedItems,I.o.SupervisedItems],[w.Workflow,I.o.Workflow]]),M=new i.nKC("searchConfigurationService");let L=(()=>{class B extends R.g{constructor($,j,G,z,V,X,J,q,Z){super(j,G,z,V,X,J,q,Z),this.roleService=$,this.routeService=j,this.paginationService=G,this.route=z,this.linkService=V,this.halService=X,this.requestService=J,this.rdb=q,this.appConfig=Z,this.defaultPagination=Object.assign(new h.W,{id:"mydspace-page",pageSize:10,currentPage:1}),this.defaultSort=new _.z("dc.date.issued",_.U.DESC),this.defaultConfiguration="workspace",this.defaultScope="",this.defaultQuery="",this._defaults=null,this.initDefaults(),this.isSubmitter$=this.roleService.isSubmitter(),this.isController$=this.roleService.isController(),this.isAdmin$=this.roleService.isAdmin()}getAvailableConfigurationTypes(){return(0,t.z)(this.isSubmitter$,this.isController$,this.isAdmin$).pipe((0,l.$)(),(0,e.T)(([$,j,G])=>{const z=[];return $&&z.push(w.Workspace),(j||G)&&(z.push(w.SupervisedItems),z.push(w.Workflow)),z}))}getAvailableConfigurationOptions(){return this.getAvailableConfigurationTypes().pipe((0,l.$)(),(0,e.T)($=>{const j=[];return $.forEach(G=>{const z=G,V=`mydspace.show.${z}`,X=P.get(G);j.push({value:z,label:V,context:X})}),j}))}static{this.\u0275fac=function(j){return new(j||B)(i.KVO(C.W),i.KVO(O.v$),i.KVO(y.m),i.KVO(b.nX),i.KVO(m._),i.KVO(D.Y),i.KVO(v.B),i.KVO(p.o),i.KVO(f.vQ))}}static{this.\u0275prov=i.jDH({token:B,factory:B.\u0275fac,providedIn:"root"})}}return B})()},54880:(N,T,n)=>{"use strict";n.d(T,{o:()=>Z});var i=n(60177),t=n(54438),l=n(61594),e=n(67116),f=n(4910),m=n(82777),p=n(39806),_=n(43095),v=n(32979),y=n(41780),C=n(90934),O=n(52149);let I=(()=>{class H{constructor(Q){this.activeModal=Q}selectObject(Q){this.activeModal.close(Q.collection)}close(){this.activeModal.close()}static{this.\u0275fac=function(ie){return new(ie||H)(t.rXU(O.Lw))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-collection-selector"]],standalone:!0,features:[t.aNF],decls:9,vars:3,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"selectionChange"]],template:function(ie,oe){1&ie&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return oe.close()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"ds-collection-dropdown",4),t.bIt("selectionChange",function(ne){return oe.selectObject(ne)}),t.k0s()()()),2&ie&&(t.R7$(2),t.SpI("",t.bMT(3,1,"dso-selector.create.submission.head")," "))},dependencies:[C.m,y.h,y.D9]})}}return H})();var D=n(84412),R=n(7673),h=n(73028),w=n(96697),b=n(96354),P=n(30077),M=n(60456),L=n(53948),B=n(75465),U=n(7901);function $(H,Y){if(1&H){const Q=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("click",function(){t.eBV(Q);const oe=t.XpG();return t.Njj(oe.openPage(oe.singleEntity))}),t.nrm(5,"i",4),t.k0s()()}if(2&H){const Q=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,3,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,5,Q.initialized$)),t.BMQ("aria-label",t.bMT(4,7,"mydspace.new-submission-external"))}}function j(H,Y){if(1&H){const Q=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(oe){t.eBV(Q);const pe=t.XpG();return t.Njj(pe.openPage(oe))}),t.k0s()()()}if(2&H){const Q=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission-external")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,Q.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission-external"))("data-test",t.bMT(5,11,"import-dropdown")),t.R7$(8),t.Y8G("isSubmission",!1)}}let G=(()=>{class H{constructor(Q,ie){this.entityTypeService=Q,this.router=ie,this.initialized$=new D.t(!1),this.subs=[]}ngOnInit(){this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorizedImport(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(Q=>Q?(this.initialized$.next(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipTypeImport({elementsPerPage:1,currentPage:1}).pipe((0,w.s)(1),(0,b.T)(oe=>(this.initialized$.next(!0),oe?.payload?.page[0])))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(Q=>{this.singleEntity=Q}))}openPage(Q){const ie=Object.create({});Q&&(ie.entity=Q.label),this.router.navigate(["/import-external"],{queryParams:ie})}ngOnDestroy(){this.subs.filter(Q=>(0,m.a4)(Q)).forEach(Q=>Q.unsubscribe())}static{this.\u0275fac=function(ie){return new(ie||H)(t.rXU(P.f),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-my-dspace-new-external-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"click","dsBtnDisabled","title"],["aria-hidden","true",1,"fa","fa-file-import"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownImport","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-outline-primary","mt-1","ml-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","importControlsDropdownMenu","aria-labelledby","dropdownImport",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ie,oe){1&ie&&(t.DNE(0,$,6,9,"div",0),t.nI1(1,"async"),t.DNE(2,j,10,13,"div",1),t.nI1(3,"async")),2&ie&&(t.Y8G("ngIf",!0!==t.bMT(1,2,oe.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,oe.moreThanOne$)))},dependencies:[L.Y,O.zH,O.tg,O.do,O.U0,i.Jj,y.h,y.D9,B.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#importControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}}return H})();var z=n(52798);function V(H,Y){if(1&H){const Q=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("click",function(){t.eBV(Q);const oe=t.XpG();return t.Njj(oe.openDialog(oe.singleEntity))}),t.nrm(4,"i",4),t.k0s()()}if(2&H){const Q=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",!0!==t.bMT(2,2,Q.initialized$)),t.BMQ("aria-label",t.bMT(3,4,"mydspace.new-submission"))}}function X(H,Y){if(1&H){const Q=t.RV6();t.j41(0,"div",5)(1,"button",6),t.nI1(2,"translate"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"dsBrowserOnly"),t.nrm(6,"i",4)(7,"span",7),t.k0s(),t.j41(8,"div",8)(9,"ds-entity-dropdown",9),t.bIt("selectionChange",function(oe){t.eBV(Q);const pe=t.XpG();return t.Njj(pe.openDialog(oe))}),t.k0s()()()}if(2&H){const Q=t.XpG();t.R7$(),t.FS9("title",t.bMT(2,5,"mydspace.new-submission")),t.Y8G("dsBtnDisabled",!0!==t.bMT(3,7,Q.initialized$)),t.BMQ("aria-label",t.bMT(4,9,"mydspace.new-submission"))("data-test",t.bMT(5,11,"submission-dropdown")),t.R7$(8),t.Y8G("isSubmission",!0)}}let J=(()=>{class H{constructor(Q,ie){this.entityTypeService=Q,this.modalService=ie,this.subs=[]}ngOnInit(){this.initialized$=(0,R.of)(!1),this.moreThanOne$=this.entityTypeService.hasMoreThanOneAuthorized(),this.singleEntity$=this.moreThanOne$.pipe((0,h.Z)(Q=>Q?(this.initialized$=(0,R.of)(!0),(0,R.of)(null)):this.entityTypeService.getAllAuthorizedRelationshipType({elementsPerPage:1,currentPage:1}).pipe((0,b.T)(oe=>(this.initialized$=(0,R.of)(!0),oe.payload.page[0])),(0,w.s)(1))),(0,w.s)(1)),this.subs.push(this.singleEntity$.subscribe(Q=>this.singleEntity=Q))}openDialog(Q){this.modalService.open(z.L).componentInstance.entityType=Q.label}ngOnDestroy(){this.subs.filter(Q=>(0,m.a4)(Q)).forEach(Q=>Q.unsubscribe())}static{this.\u0275fac=function(ie){return new(ie||H)(t.rXU(P.f),t.rXU(O.Bq))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-my-dspace-new-submission-dropdown"]],standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[["class","add",4,"ngIf"],["class","add w-100","display","dynamic","placement","bottom-right","ngbDropdown","",4,"ngIf"],[1,"add"],["role","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fa","fa-plus-circle"],["display","dynamic","placement","bottom-right","ngbDropdown","",1,"add","w-100"],["id","dropdownSubmission","ngbDropdownToggle","","type","button",1,"btn","btn-lg","btn-primary","mt-1","ml-2",3,"dsBtnDisabled","title"],["aria-hidden","true",1,"caret"],["ngbDropdownMenu","","id","entityControlsDropdownMenu","aria-labelledby","dropdownSubmission",1,"dropdown-menu","p-0"],[3,"selectionChange","isSubmission"]],template:function(ie,oe){1&ie&&(t.DNE(0,V,5,6,"div",0),t.nI1(1,"async"),t.DNE(2,X,10,13,"div",1),t.nI1(3,"async")),2&ie&&(t.Y8G("ngIf",!0!==t.bMT(1,2,oe.moreThanOne$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,oe.moreThanOne$)))},dependencies:[L.Y,O.zH,O.tg,O.do,O.U0,i.Jj,y.h,y.D9,B.L,i.bT,M.A],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}#entityControlsDropdownMenu[_ngcontent-%COMP%]{min-width:18rem;box-shadow:0 0 0 .2rem #2b4e7240}"]})}}return H})();function q(H,Y){if(1&H){const Q=t.RV6();t.j41(0,"ds-uploader",4),t.bIt("onCompleteItem",function(oe){t.eBV(Q);const pe=t.XpG();return t.Njj(pe.onCompleteItem(oe))})("onUploadError",function(oe){t.eBV(Q);const pe=t.XpG();return t.Njj(pe.onUploadError(oe))})("onFileSelected",function(oe){t.eBV(Q);const pe=t.XpG();return t.Njj(pe.afterFileLoaded(oe))}),t.k0s()}if(2&H){const Q=t.XpG();t.Y8G("uploadFilesOptions",Q.uploadFilesOptions)}}let Z=(()=>{class H{constructor(Q,ie,oe,pe,ne,re,Ce){this.authService=Q,this.changeDetectorRef=ie,this.halService=oe,this.notificationsService=pe,this.translate=ne,this.modalService=re,this.router=Ce,this.uploadEnd=new t.bkB,this.uploadFilesOptions=new v.H}ngOnInit(){this.uploadFilesOptions.autoUpload=!1,this.sub=this.halService.getEndpoint("workspaceitems").pipe((0,l.$)()).subscribe(Q=>{this.uploadFilesOptions.url=Q,this.uploadFilesOptions.authToken=this.authService.buildAuthHeader(),this.changeDetectorRef.detectChanges()})}onCompleteItem(Q){if(Q&&Q._embedded&&Q._embedded.workspaceitems&&Q._embedded.workspaceitems.length>0){const ie=Q._embedded.workspaceitems;this.uploadEnd.emit(ie),1===ie.length?this.router.navigateByUrl("/workspaceitems/"+ie[0].id+"/edit"):ie.length>1&&this.notificationsService.success(null,this.translate.get("mydspace.upload.upload-multiple-successful",{qty:ie.length}))}else this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed"))}onUploadError(Q){let ie="mydspace.upload.upload-failed";(0,m.a4)(Q.status)&&422===Q.status&&(ie="mydspace.upload.upload-failed-manyentries"),this.notificationsService.error(null,this.translate.get(ie))}afterFileLoaded(Q){const ie=this.uploaderComponent.uploader;(0,m.a4)(Q)&&Q.length>1?(this.notificationsService.error(null,this.translate.get("mydspace.upload.upload-failed-moreonefile")),ie.clearQueue(),this.changeDetectorRef.detectChanges()):this.modalService.open(I).result.then(pe=>{ie.onBuildItemForm=(ne,re)=>{re.append("owningCollection",pe.uuid)},ie.uploadAll()})}ngOnDestroy(){(0,m.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(ie){return new(ie||H)(t.rXU(e.uR),t.rXU(t.gRc),t.rXU(f.Y),t.rXU(p.I),t.rXU(y.c$),t.rXU(O.Bq),t.rXU(U.Ix))}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["ds-my-dspace-new-submission"]],viewQuery:function(ie,oe){if(1&ie&&t.GBs(_.y,5),2&ie){let pe;t.mGM(pe=t.lsd())&&(oe.uploaderComponent=pe.first)}},outputs:{uploadEnd:"uploadEnd"},standalone:!0,features:[t.aNF],decls:7,vars:1,consts:[[1,"parent","mb-3"],[1,"upload"],[3,"uploadFilesOptions","onCompleteItem","onUploadError","onFileSelected",4,"ngIf"],[1,"add"],[3,"onCompleteItem","onUploadError","onFileSelected","uploadFilesOptions"]],template:function(ie,oe){1&ie&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,q,1,1,"ds-uploader",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"ds-my-dspace-new-submission-dropdown"),t.k0s(),t.j41(5,"div",3),t.nrm(6,"ds-my-dspace-new-external-dropdown"),t.k0s()()),2&ie&&(t.R7$(2),t.Y8G("ngIf",""!==oe.uploadFilesOptions.url))},dependencies:[G,J,_.y,i.bT],styles:[".parent[_ngcontent-%COMP%]{display:flex}.upload[_ngcontent-%COMP%]{flex:auto}.add[_ngcontent-%COMP%]{flex:initial}"]})}}return H})()},15568:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MYDSPACE_ROUTE:()=>$,MyDSpacePageComponent:()=>j});var i=n(60177),t=n(96697),l=n(82777),e=n(1102),f=n(13808),m=n(28580),p=n(14391),_=n(49872),v=n(54438);let y=(()=>{class G extends _.D3{parse(V,X){const q=X.payload._embedded.searchResult||{_embedded:{objects:[]}},Z=q._embedded.objects.map(ie=>ie.hitHighlights).map(ie=>{const oe={};if(ie)for(const pe of Object.keys(ie)){const ne=Object.assign(new p.vD,{value:ie[pe].join("..."),language:null});oe[pe]=[ne]}return oe}),H=q._embedded.objects.filter(ie=>(0,l.a4)(ie._embedded)).map(ie=>ie._embedded.indexableObject).map(ie=>this.process(ie,V)).map(ie=>ie._links.self.href).reduce((ie,oe)=>[...ie,...oe],[]),Y=q._embedded.objects.filter(ie=>(0,l.a4)(ie._embedded)).map((ie,oe)=>Object.assign({},ie,{indexableObject:H[oe],hitHighlights:Z[oe],_embedded:this.filterEmbeddedObjects(ie)}));q.objects=Y;const Q=new m.T(e.n).deserialize(q);return Q.pageInfo=this.processPageInfo(q),this.addToObjectCache(Q,V,X),new f.hT(X.statusCode,Q._links.self)}filterEmbeddedObjects(V){const X=["submitter","item","workspaceitem","workflowitem"];return V._embedded.indexableObject&&V._embedded.indexableObject._embedded?Object.assign({},V._embedded,{indexableObject:Object.assign({},V._embedded.indexableObject,{_embedded:Object.keys(V._embedded.indexableObject._embedded).filter(J=>X.includes(J)).reduce((J,q)=>(J[q]=V._embedded.indexableObject._embedded[q],J),{})})}):V}static{this.\u0275fac=(()=>{let V;return function(J){return(V||(V=v.xGo(G)))(J||G)}})()}static{this.\u0275prov=v.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})();var C=n(43052),O=n(67944),I=n(78655),D=n(78448),R=n(7724),h=n(41477),w=n(54992),b=n(13955),P=n(54880),M=n(85592);const L=G=>[G];function B(G,z){1&G&&v.nrm(0,"ds-my-dspace-new-submission")}function U(G,z){if(1&G&&(v.nrm(0,"ds-search",3),v.nI1(1,"async")),2&G){const V=v.XpG();v.Y8G("configuration",V.configuration)("configurationList",v.bMT(1,4,V.configurationList$))("context",V.context)("viewModeList",V.viewModeList)}}const $="/mydspace";let j=(()=>{class G{constructor(V,X){this.service=V,this.searchConfigService=X,this.roleTypeEnum=O.T,this.viewModeList=[D.n.ListElement,D.n.DetailedListElement],this.service.setServiceOptions(y,C.WP)}ngOnInit(){this.configurationList$=this.searchConfigService.getAvailableConfigurationOptions(),this.configurationList$.pipe((0,t.s)(1)).subscribe(V=>{this.configuration=V[0].value,this.context=V[0].context})}static{this.\u0275fac=function(X){return new(X||G)(v.rXU(I.S),v.rXU(b.EN))}}static{this.\u0275cmp=v.VBU({type:G,selectors:[["ds-base-my-dspace-page"]],standalone:!0,features:[v.Jv_([{provide:b.EN,useClass:b.U$}]),v.aNF],decls:5,vars:4,consts:[[1,"container"],[4,"dsShowOnlyForRole"],[3,"configuration","configurationList","context","viewModeList",4,"ngIf"],[3,"configuration","configurationList","context","viewModeList"]],template:function(X,J){1&X&&(v.j41(0,"div",0),v.nrm(1,"ds-suggestions-notification")(2,"ds-my-dspace-qa-events-notifications"),v.DNE(3,B,1,0,"ds-my-dspace-new-submission",1),v.k0s(),v.DNE(4,U,2,6,"ds-search",2)),2&X&&(v.R7$(3),v.Y8G("dsShowOnlyForRole",v.eq3(2,L,J.roleTypeEnum.Submitter)),v.R7$(),v.Y8G("ngIf",J.configuration&&J.context))},dependencies:[w.N,P.o,i.Jj,h.q,i.bT,R.w,M.P],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],changeDetection:0})}}return G})()},85592:(N,T,n)=>{"use strict";n.d(T,{P:()=>h});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(88141),m=n(47483),p=n(61723),_=n(80183),v=n(54438);const y=w=>({num:w}),C=(w,b)=>[w,b],O=()=>({forward:!0});function I(w,b){if(1&w&&(v.j41(0,"div",3)(1,"div",4),v.nrm(2,"img",5),v.k0s(),v.j41(3,"div",6)(4,"div",7),v.EFF(5),v.nI1(6,"translate"),v.k0s(),v.j41(7,"button",8),v.EFF(8),v.nI1(9,"translate"),v.k0s()()()),2&w){const P=v.XpG().$implicit,M=v.XpG(2);v.R7$(2),v.Mz_("src","assets/images/qa-",P.id,"-logo.png",v.B4B),v.Mz_("alt","",P.id," logo"),v.R7$(3),v.SpI(" ",v.i5U(6,8,"mydspace.qa-event-notification.check.notification-info",v.eq3(13,y,P.totalEvents))," "),v.R7$(2),v.Y8G("routerLink",v.l_i(15,C,M.getQualityAssuranceRoute(),P.id))("queryParams",v.lJ4(18,O)),v.R7$(),v.SpI(" ",v.bMT(9,11,"mydspace.qa-event-notification-info.check.button")," ")}}function D(w,b){if(1&w&&(v.qex(0),v.DNE(1,I,10,19,"div",2),v.bVm()),2&w){const P=b.$implicit;v.R7$(),v.Y8G("ngIf",P.totalEvents>0)}}function R(w,b){if(1&w&&(v.qex(0),v.DNE(1,D,2,1,"ng-container",1),v.nI1(2,"async"),v.bVm()),2&w){const P=v.XpG();v.R7$(),v.Y8G("ngForOf",v.bMT(2,1,P.sources$))}}let h=(()=>{class w{constructor(P){this.qualityAssuranceSourceDataService=P,this.sources$=(0,e.of)([])}ngOnInit(){this.getSources()}getSources(){this.sources$=this.qualityAssuranceSourceDataService.getSources().pipe((0,_.qD)(),(0,f.M)(P=>{if(P.hasFailed)throw new Error("Can't retrieve Quality Assurance sources")}),(0,_.Bo)(),(0,_.W8)())}getQualityAssuranceRoute(){return(0,m.b7)()}static{this.\u0275fac=function(M){return new(M||w)(v.rXU(p.QualityAssuranceSourceDataService))}}static{this.\u0275cmp=v.VBU({type:w,selectors:[["ds-my-dspace-qa-events-notifications"]],standalone:!0,features:[v.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-info d-flex flex-row",4,"ngIf"],[1,"alert","alert-info","d-flex","flex-row"],[1,"source-logo-container"],["onerror","this.src='assets/images/dspace-logo.svg'",1,"source-logo",3,"src","alt"],[1,"w-100","d-flex","justify-content-between"],[1,"pl-4","align-self-center"],[1,"btn","btn-primary","align-self-center",3,"routerLink","queryParams"]],template:function(M,L){if(1&M&&(v.DNE(0,R,3,3,"ng-container",0),v.nI1(1,"async")),2&M){let B;v.Y8G("ngIf",(null==(B=v.bMT(1,1,L.sources$))?null:B.length)>0)}},dependencies:[i.Jj,i.Sq,l.h,l.D9,t.Wk,i.bT],styles:[".source-logo[_ngcontent-%COMP%]{max-height:var(--ds-header-logo-height);max-width:100%;margin:auto}.source-logo-container[_ngcontent-%COMP%]{width:var(--ds-qa-logo-width);display:flex;justify-content:center}.sections-gap[_ngcontent-%COMP%]{gap:1rem}"],changeDetection:0})}}return w})()},58499:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ExpandableNavbarSectionComponent:()=>R});var i=n(60177),t=n(7901),l=n(61594),e=n(621),f=n(57538),m=n(39548),p=n(19340),_=n(79803),v=n(26821),y=n(54438);function C(h,w){1&h&&y.eu8(0)}function O(h,w){1&h&&y.eu8(0)}function I(h,w){if(1&h&&(y.j41(0,"div",9),y.DNE(1,O,1,0,"ng-container",3),y.nI1(2,"async"),y.nI1(3,"async"),y.k0s()),2&h){const b=w.$implicit,P=y.XpG(2);y.R7$(),y.Y8G("ngComponentOutlet",y.bMT(2,2,P.sectionMap$).get(b.id).component)("ngComponentOutletInjector",y.bMT(3,4,P.sectionMap$).get(b.id).injector)}}function D(h,w){if(1&h){const b=y.RV6();y.j41(0,"div",6),y.bIt("click",function(M){y.eBV(b);const L=y.XpG();return y.Njj(L.deactivateSection(M))})("dsHoverOutside",function(M){y.eBV(b);const L=y.XpG();return y.Njj(L.deactivateSection(M,!1))}),y.j41(1,"div",7),y.DNE(2,I,4,6,"div",8),y.nI1(3,"async"),y.k0s()()}if(2&h){const b=y.XpG();y.Y8G("id",b.expandableNavbarSectionId())("dsHoverOutsideOfParentSelector","#expandable-navbar-section-"+b.section.id),y.R7$(),y.Y8G("@slide",void 0),y.R7$(),y.Y8G("ngForOf",y.bMT(3,4,b.subSections$))}}let R=(()=>{class h extends v.X{onResize(){this.isMobile$.pipe((0,l.$)()).subscribe(b=>{b!==this.wasMobile&&(this.wasMobile=b,this.menuService.deactivateSection(this.menuID,this.section.id),this.mouseEntered=!1)})}constructor(b,P,M,L){super(b,P,M),this.section=b,this.menuService=P,this.injector=M,this.windowService=L,this.menuID=p.D.PUBLIC,this.mouseEntered=!1,this.focusOnFirstChildSection=!1,this.wasMobile=void 0,this.addArrowEventListeners=!1,this.isMobile$=this.windowService.isMobile()}ngOnInit(){super.ngOnInit(),this.subs.push(this.active$.subscribe(b=>{!0===b?this.addArrowEventListeners=!0:(this.focusOnFirstChildSection=void 0,this.unsubscribeFromEventListeners())}))}ngAfterViewChecked(){this.addArrowEventListeners&&(this.dropdownItems=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`),this.dropdownItems.forEach(b=>{b.addEventListener("keydown",this.navigateDropdown.bind(this))}),this.focusOnFirstChildSection&&this.dropdownItems.length>0&&this.dropdownItems.item(0).focus(),this.addArrowEventListeners=!1)}ngOnDestroy(){super.ngOnDestroy(),this.unsubscribeFromEventListeners()}toggleSection(b){this.focusOnFirstChildSection="click"!==b.type,super.toggleSection(b)}unsubscribeFromEventListeners(){this.dropdownItems&&(this.dropdownItems.forEach(b=>{b.removeEventListener("keydown",this.navigateDropdown.bind(this))}),this.dropdownItems=void 0)}onMouseEnter(b){this.isMobile$.pipe((0,l.$)()).subscribe(P=>{!P&&!this.active$.value&&!this.mouseEntered&&this.activateSection(b),this.mouseEntered=!0})}onMouseLeave(b){this.isMobile$.pipe((0,l.$)()).subscribe(P=>{!P&&this.active$.value&&this.mouseEntered&&this.deactivateSection(b),this.mouseEntered=!1})}expandableNavbarSectionId(){return`expandable-navbar-section-${this.section.id}-dropdown`}navigateDropdown(b){if("Tab"===b.code)return void this.deactivateSection(b,!1);if("Escape"===b.code)return this.deactivateSection(b,!1),void document.querySelector(`a[aria-controls="${this.expandableNavbarSectionId()}"]`)?.focus();b.preventDefault(),b.stopPropagation();const P=document.querySelectorAll(`#${this.expandableNavbarSectionId()} *[role="menuitem"]`);if(0===P.length)return;const M=Array.from(P).findIndex(L=>L===b.target);"ArrowDown"===b.key?P[(M+1)%P.length].focus():"ArrowUp"===b.key&&P[(M-1+P.length)%P.length].focus()}keyDown(b){switch(b.code){case"Tab":this.deactivateSection(b,!1);break;case"ArrowDown":this.focusOnFirstChildSection=!0,this.activateSection(b);break;case"Space":case"Enter":b.preventDefault()}}static{this.\u0275fac=function(P){return new(P||h)(y.rXU("sectionDataProvider"),y.rXU(m.$),y.rXU(y.zZn),y.rXU(f.CV))}}static{this.\u0275cmp=y.VBU({type:h,selectors:[["ds-base-expandable-navbar-section"]],hostBindings:function(P,M){1&P&&y.bIt("resize",function(B){return M.onResize(B)},!1,y.tSv)},standalone:!0,features:[y.Vt3,y.aNF],decls:10,vars:16,consts:[["data-test","navbar-section-wrapper",1,"ds-menu-item-wrapper","text-md-center",3,"mouseenter","mouseleave","id"],["href","javascript:void(0);","routerLinkActive","active","role","menuitem","aria-haspopup","menu","data-test","navbar-section-toggler",1,"d-flex","flex-row","flex-nowrap","align-items-center","gapx-1","ds-menu-toggler-wrapper",3,"keyup.enter","keyup.space","click","keydown"],[1,"flex-fill"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["aria-hidden","true",1,"fas","fa-caret-down","fa-xs","toggle-menu-icon"],["role","menu","class","dropdown-menu show nav-dropdown-menu m-0 shadow-none border-top-0 px-3 px-md-0 pt-0 pt-md-1",3,"id","dsHoverOutsideOfParentSelector","click","dsHoverOutside",4,"ngIf"],["role","menu",1,"dropdown-menu","show","nav-dropdown-menu","m-0","shadow-none","border-top-0","px-3","px-md-0","pt-0","pt-md-1",3,"click","dsHoverOutside","id","dsHoverOutsideOfParentSelector"],["role","presentation"],["class","text-nowrap","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"text-nowrap"]],template:function(P,M){1&P&&(y.j41(0,"div",0),y.bIt("mouseenter",function(B){return M.onMouseEnter(B)})("mouseleave",function(B){return M.onMouseLeave(B)}),y.j41(1,"a",1),y.nI1(2,"async"),y.bIt("keyup.enter",function(B){return M.toggleSection(B)})("keyup.space",function(B){return M.toggleSection(B)})("click",function(B){return M.toggleSection(B)})("keydown",function(B){return M.keyDown(B)}),y.j41(3,"span",2),y.DNE(4,C,1,0,"ng-container",3),y.nI1(5,"async"),y.nI1(6,"async"),y.k0s(),y.nrm(7,"i",4),y.k0s(),y.DNE(8,D,4,6,"div",5),y.nI1(9,"async"),y.k0s()),2&P&&(y.Y8G("id","expandable-navbar-section-"+M.section.id),y.R7$(),y.AVh("disabled",null==M.section.model?null:M.section.model.disabled),y.BMQ("aria-expanded",y.bMT(2,8,M.active$).valueOf())("aria-controls",M.expandableNavbarSectionId()),y.R7$(3),y.Y8G("ngComponentOutlet",y.bMT(5,10,M.sectionMap$).get(M.section.id).component)("ngComponentOutletInjector",y.bMT(6,12,M.sectionMap$).get(M.section.id).injector),y.R7$(4),y.Y8G("ngIf",!0===y.bMT(9,14,M.active$).valueOf()))},dependencies:[i.Jj,_.l,i.OI,i.pM,i.bT,t.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 767.98px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:0;background-color:var(--ds-expandable-navbar-bg)}}@media (min-width: 768px){[_nghost-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;background-color:var(--ds-navbar-dropdown-bg)}}[_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .toggle-menu-icon[_ngcontent-%COMP%]:hover{text-decoration:none}"],data:{animation:[e.M6]}})}}return h})()},26821:(N,T,n)=>{"use strict";n.d(T,{X:()=>p});var i=n(60177),t=n(39548),l=n(19340),e=n(6446),f=n(54438);function m(_,v){1&_&&f.eu8(0)}let p=(()=>{class _ extends e.a{constructor(y,C,O){super(y,C,O),this.menuService=C,this.injector=O,this.menuID=l.D.PUBLIC}ngOnInit(){super.ngOnInit()}static{this.\u0275fac=function(C){return new(C||_)(f.rXU("sectionDataProvider"),f.rXU(t.$),f.rXU(f.zZn))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-navbar-section"]],standalone:!0,features:[f.Vt3,f.aNF],decls:4,vars:7,consts:[[1,"ds-menu-item-wrapper","text-md-center",3,"id"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(C,O){1&C&&(f.j41(0,"div",0),f.DNE(1,m,1,0,"ng-container",1),f.nI1(2,"async"),f.nI1(3,"async"),f.k0s()),2&C&&(f.Y8G("id","navbar-section-"+O.section.id),f.R7$(),f.Y8G("ngComponentOutlet",f.bMT(2,3,O.sectionMap$).get(O.section.id).component)("ngComponentOutletInjector",f.bMT(3,5,O.sectionMap$).get(O.section.id).injector))},dependencies:[i.OI,i.Jj]})}}return _})()},67454:(N,T,n)=>{"use strict";n.r(T),n.d(T,{NavbarComponent:()=>L});var i=n(60177),t=n(52149),l=n(25499),e=n(41780),f=n(38169),m=n(37864),p=n(65007),_=n(621),v=n(28619),y=n(57538),C=n(30458),O=n(39548),I=n(19340),D=n(82522),R=n(54438),h=n(7901);const w=B=>({open:B});function b(B,U){1&B&&(R.qex(0),R.nrm(1,"ds-user-menu",7),R.bVm()),2&B&&(R.R7$(),R.Y8G("inExpandableNavbar",!0))}function P(B,U){1&B&&R.eu8(0)}function M(B,U){if(1&B&&(R.qex(0),R.DNE(1,P,1,0,"ng-container",8),R.nI1(2,"async"),R.nI1(3,"async"),R.bVm()),2&B){let $,j;const G=U.$implicit,z=R.XpG();R.R7$(),R.Y8G("ngComponentOutlet",null==($=R.bMT(2,2,z.sectionMap$).get(G.id))?null:$.component)("ngComponentOutletInjector",null==(j=R.bMT(3,4,z.sectionMap$).get(G.id))?null:j.injector)}}let L=(()=>{class B extends C.Z{constructor($,j,G,z,V,X,J,q){super($,j,V,X,J),this.menuService=$,this.injector=j,this.windowService=G,this.browseService=z,this.authorizationService=V,this.route=X,this.themeService=J,this.store=q,this.menuID=I.D.PUBLIC,this.maxMobileWidth=y.tP.SM}ngOnInit(){super.ngOnInit(),this.isMobile$=this.windowService.isUpTo(this.maxMobileWidth),this.isAuthenticated$=this.store.pipe((0,l.Lt)(f.wR))}static{this.\u0275fac=function(j){return new(j||B)(R.rXU(O.$),R.rXU(R.zZn),R.rXU(y.CV),R.rXU(m.q),R.rXU(p.AuthorizationDataService),R.rXU(h.nX),R.rXU(D.Fs),R.rXU(l.il))}}static{this.\u0275cmp=R.VBU({type:B,selectors:[["ds-base-navbar"]],standalone:!0,features:[R.Vt3,R.aNF],decls:15,vars:25,consts:[["role","navigation","id","main-navbar",1,"navbar","navbar-light","navbar-expand-md","px-md-0","pt-md-0","pt-3","navbar-container",3,"ngClass"],[1,"navbar-inner-container","w-100"],[1,"w-100"],["id","collapsingNav"],[4,"ngIf"],[1,"navbar-nav","align-items-md-center","mr-auto","shadow-none","gapx-3"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(j,G){1&j&&(R.j41(0,"nav",0),R.nI1(1,"async"),R.nI1(2,"async"),R.nI1(3,"async"),R.nI1(4,"translate"),R.j41(5,"div",1),R.nI1(6,"async"),R.j41(7,"div",2)(8,"div",3),R.DNE(9,b,2,1,"ng-container",4),R.nI1(10,"async"),R.nI1(11,"async"),R.j41(12,"div",5),R.DNE(13,M,4,6,"ng-container",6),R.nI1(14,"async"),R.k0s()()()()()),2&j&&(R.Y8G("ngClass",R.eq3(23,w,!0!==R.bMT(1,7,G.menuCollapsed)))("@slideMobileNav",!0!==R.bMT(2,9,G.windowService.isXsOrSm())?"default":R.bMT(3,11,G.menuCollapsed)?"collapsed":"expanded"),R.BMQ("aria-label",R.bMT(4,13,"nav.main.description")),R.R7$(5),R.AVh("container",!0!==R.bMT(6,15,G.isMobile$)),R.R7$(4),R.Y8G("ngIf",R.bMT(10,17,G.isMobile$)&&R.bMT(11,19,G.isAuthenticated$)),R.R7$(4),R.Y8G("ngForOf",R.bMT(14,21,G.sections)))},dependencies:[t.zH,t.QE,i.YU,i.bT,v.r,i.pM,i.OI,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]{--ds-expandable-navbar-height: auto}[_nghost-%COMP%]   nav.navbar[_ngcontent-%COMP%]{background-color:var(--ds-navbar-bg);align-items:baseline;padding:0}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar[_ngcontent-%COMP%]{width:100vw;background-color:var(--bs-white);position:absolute;overflow:hidden;height:0;z-index:var(--ds-nav-z-index)}[_nghost-%COMP%]   .navbar.open[_ngcontent-%COMP%]{height:auto;min-height:100vh;border-bottom:1px var(--ds-header-navbar-border-bottom-color) solid}}@media screen and (min-width: 768px){[_nghost-%COMP%]   .reset-padding-md[_ngcontent-%COMP%]{margin-left:calc(var(--bs-spacer) / -1);margin-right:calc(var(--bs-spacer) / -1)}}@media screen and (max-width: 767.98px){[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .navbar-expand-md.navbar-container[_ngcontent-%COMP%] > .navbar-inner-container[_ngcontent-%COMP%]{padding:0 var(--bs-spacer)}}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .dropdown-menu{padding:.5rem!important}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item{display:block;color:var(--ds-navbar-link-color);padding:.5rem 0}[_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:hover, [_nghost-%COMP%]   #main-navbar[_ngcontent-%COMP%]     .ds-menu-item:focus{color:var(--ds-navbar-link-color-hover)}"],data:{animation:[_.p8]}})}}return B})()},77632:(N,T,n)=>{"use strict";n.d(T,{D:()=>m});var i=n(8886),l=(n(67454),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"NavbarComponent"}importThemedComponent(v){return n(19318)(`./${v}/app/navbar/navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67454))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-navbar"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},38571:(N,T,n)=>{"use strict";n.d(T,{W:()=>O,I:()=>I});var i=n(25499),t=n(74566);const l={source:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var f=n(79984);const m={topics:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0};var _=n(54503);const v={targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0},y={sources:{},currentUserTargets:null,currentUserTargetsVisited:!1},O={qaTopic:function p(D=m,R){switch(R.type){case f.py.RETRIEVE_ALL_TOPICS:return Object.assign({},D,{topics:[],processing:!0});case f.py.ADD_TOPICS:return Object.assign({},D,{topics:R.payload.topics,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:D.currentPage,totalElements:R.payload.totalElements});case f.py.RETRIEVE_ALL_TOPICS_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},qaSource:function e(D=l,R){switch(R.type){case t.xq.RETRIEVE_ALL_SOURCE:return Object.assign({},D,{source:[],processing:!0});case t.xq.ADD_SOURCE:return Object.assign({},D,{source:R.payload.source,processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:D.currentPage,totalElements:R.payload.totalElements});case t.xq.RETRIEVE_ALL_SOURCE_ERROR:return Object.assign({},D,{processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});default:return D}},suggestionTarget:function C(D=y,R){switch(R.type){case _.lz.RETRIEVE_TARGETS_BY_SOURCE:{const h=D.sources[R.payload.source]||Object.assign({},v),w=Object.assign({},h,{targets:[],processing:!0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:w})})}case _.lz.ADD_TARGETS:{const h=D.sources[R.payload.source]||Object.assign({},v),w=Object.assign({},h,{targets:h.targets.concat(R.payload.targets),processing:!1,loaded:!0,totalPages:R.payload.totalPages,currentPage:R.payload.currentPage,totalElements:R.payload.totalElements});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:w})})}case _.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR:{const h=D.sources[R.payload.source]||Object.assign({},v),w=Object.assign({},h,{targets:[],processing:!1,loaded:!0,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:w})})}case _.lz.ADD_USER_SUGGESTIONS:return Object.assign({},D,{currentUserTargets:R.payload.suggestionTargets});case _.lz.MARK_USER_SUGGESTIONS_AS_VISITED:return Object.assign({},D,{currentUserTargetsVisited:!0});case _.lz.CLEAR_TARGETS:{const h=D.sources[R.payload.source]||Object.assign({},v),w=Object.assign({},h,{targets:[],processing:!1,loaded:!1,totalPages:0,currentPage:0,totalElements:0});return Object.assign({},D,{sources:Object.assign({},D.sources,{[R.payload.source]:w})})}default:return D}}},I=(0,i.UX)("suggestionNotifications")},74566:(N,T,n)=>{"use strict";n.d(T,{$_:()=>f,Fx:()=>e,lZ:()=>l,xq:()=>t});var i=n(91e3);const t={ADD_SOURCE:(0,i.N)("dspace/integration/notifications/qa/ADD_SOURCE"),RETRIEVE_ALL_SOURCE:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE"),RETRIEVE_ALL_SOURCE_ERROR:(0,i.N)("dspace/integration/notifications/qa/RETRIEVE_ALL_SOURCE_ERROR")};class l{constructor(p,_){this.type=t.RETRIEVE_ALL_SOURCE,this.payload={elementsPerPage:p,currentPage:_}}}class e{constructor(){this.type=t.RETRIEVE_ALL_SOURCE_ERROR}}class f{constructor(p,_,v,y){this.type=t.ADD_SOURCE,this.payload={source:p,totalPages:_,currentPage:v,totalElements:y}}}},13246:(N,T,n)=>{"use strict";n.d(T,{p:()=>m});var i=n(96354),t=n(6238),l=n(61723),e=n(80183),f=n(54438);let m=(()=>{class p{constructor(v){this.qualityAssuranceSourceRestService=v}getSources(v,y){const C=new t.z("name",t.U.ASC);return this.qualityAssuranceSourceRestService.getSources({elementsPerPage:v,currentPage:y,sort:C}).pipe((0,e.qD)(),(0,i.T)(I=>{if(I.hasSucceeded)return I.payload;throw new Error("Can't retrieve Quality Assurance source from the Broker source REST service")}))}static{this.\u0275fac=function(y){return new(y||p)(f.KVO(l.QualityAssuranceSourceDataService))}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},79984:(N,T,n)=>{"use strict";n.d(T,{C3:()=>f,IL:()=>e,_v:()=>l,py:()=>t});var i=n(91e3);const t={ADD_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/ADD_TOPICS"),RETRIEVE_ALL_TOPICS:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS"),RETRIEVE_ALL_TOPICS_ERROR:(0,i.N)("dspace/integration/notifications/qa/topic/RETRIEVE_ALL_TOPICS_ERROR")};class l{constructor(p,_,v,y){this.type=t.RETRIEVE_ALL_TOPICS,this.payload={elementsPerPage:p,currentPage:_,source:v,target:y}}}class e{constructor(){this.type=t.RETRIEVE_ALL_TOPICS_ERROR}}class f{constructor(p,_,v,y){this.type=t.ADD_TOPICS,this.payload={topics:p,totalPages:_,currentPage:v,totalElements:y}}}},54503:(N,T,n)=>{"use strict";n.d(T,{Af:()=>_,Fz:()=>e,Gx:()=>m,Pc:()=>f,eb:()=>p,en:()=>y,g3:()=>v,lz:()=>t,ri:()=>l});var i=n(91e3);const t={ADD_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_TARGETS"),CLEAR_TARGETS:(0,i.N)("dspace/integration/openaire/suggestions/target/CLEAR_TARGETS"),RETRIEVE_TARGETS_BY_SOURCE:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE"),RETRIEVE_TARGETS_BY_SOURCE_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/RETRIEVE_TARGETS_BY_SOURCE_ERROR"),ADD_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/ADD_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS"),REFRESH_USER_SUGGESTIONS_ERROR:(0,i.N)("dspace/integration/openaire/suggestions/target/REFRESH_USER_SUGGESTIONS_ERROR"),MARK_USER_SUGGESTIONS_AS_VISITED:(0,i.N)("dspace/integration/openaire/suggestions/target/MARK_USER_SUGGESTIONS_AS_VISITED")};class l{constructor(O,I,D){this.type=t.RETRIEVE_TARGETS_BY_SOURCE,this.payload={source:O,elementsPerPage:I,currentPage:D}}}class e{constructor(O){this.type=t.RETRIEVE_TARGETS_BY_SOURCE_ERROR,this.payload={source:O}}}class f{constructor(O,I,D,R,h){this.type=t.ADD_TARGETS,this.payload={source:O,targets:I,totalPages:D,currentPage:R,totalElements:h}}}class m{constructor(O){this.type=t.ADD_USER_SUGGESTIONS,this.payload={suggestionTargets:O}}}class p{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS}}class _{constructor(){this.type=t.REFRESH_USER_SUGGESTIONS_ERROR}}class v{constructor(){this.type=t.MARK_USER_SUGGESTIONS_AS_VISITED}}class y{constructor(O){this.type=t.CLEAR_TARGETS,this.payload={source:O}}}},31224:(N,T,n)=>{"use strict";n.d(T,{x:()=>b});var i=n(25499),t=n(96354),l=n(645),e=n(38571);function m(){return(0,l.hZ)(e.I,"suggestionTarget")}function p(P){return(0,i.Mz)(m(),M=>M.sources[P])}(0,i.UX)("suggestionNotifications");const v=P=>(0,i.Mz)(p(P),M=>M?.loaded||!1),I=P=>(0,i.Mz)(p(P),M=>M?.totalElements||0);var h=n(54503),w=n(54438);let b=(()=>{class P{constructor(L){this.store=L}getSuggestionTargets(L){return this.store.pipe((0,i.Lt)(function _(P){return(0,i.Mz)(p(P),M=>M.targets)}(L)))}isSuggestionTargetsLoading(L){return this.store.pipe((0,i.Lt)(v(L)),(0,t.T)(B=>!B))}isSuggestionTargetsLoaded(L){return this.store.pipe((0,i.Lt)(v(L)))}isSuggestionTargetsProcessing(L){return this.store.pipe((0,i.Lt)((P=>(0,i.Mz)(p(P),M=>M?.processing||!1))(L)))}getSuggestionTargetsTotalPages(L){return this.store.pipe((0,i.Lt)(I(L)))}getSuggestionTargetsCurrentPage(L){return this.store.pipe((0,i.Lt)((P=>(0,i.Mz)(p(P),M=>M?.currentPage||0))(L)))}getSuggestionTargetsTotals(L){return this.store.pipe((0,i.Lt)(I(L)))}dispatchRetrieveSuggestionTargets(L,B,U){this.store.dispatch(new h.ri(L,B,U))}getCurrentUserSuggestionTargets(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),P=>P?.currentUserTargets||[])))}hasUserVisitedSuggestions(){return this.store.pipe((0,i.Lt)((0,i.Mz)(m(),P=>P?.currentUserTargetsVisited||!1)))}dispatchMarkUserSuggestionsAsVisitedAction(){this.store.dispatch(new h.g3)}dispatchClearSuggestionTargetsAction(L){this.store.dispatch(new h.en(L))}dispatchRefreshUserSuggestionsAction(){this.store.dispatch(new h.eb)}static{this.\u0275fac=function(B){return new(B||P)(w.KVO(i.il))}}static{this.\u0275prov=w.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},7724:(N,T,n)=>{"use strict";n.d(T,{w:()=>y});var i=n(60177),t=n(7901),l=n(41780),e=n(31224),f=n(67977),m=n(54438);function p(C,O){if(1&C&&(m.j41(0,"div",4),m.nrm(1,"div",5),m.nI1(2,"translate"),m.EFF(3),m.nI1(4,"translate"),m.j41(5,"a",6),m.EFF(6),m.nI1(7,"translate"),m.k0s()()),2&C){const I=m.XpG().$implicit,D=m.XpG(2);m.R7$(),m.Y8G("innerHTML",m.i5U(2,4,"notification.suggestion",D.getNotificationSuggestionInterpolation(I)),m.npT),m.R7$(2),m.SpI(" ",m.bMT(4,7,"notification.suggestion.please")," "),m.R7$(2),m.Y8G("routerLink",D.getNotificationSuggestionInterpolation(I).url),m.R7$(),m.SpI(" ",m.bMT(7,9,"notification.suggestion.review")," ")}}function _(C,O){if(1&C&&(m.qex(0,2),m.DNE(1,p,8,11,"div",3),m.bVm()),2&C){const I=O.$implicit;m.R7$(),m.Y8G("ngIf",I.total>0)}}function v(C,O){if(1&C&&(m.qex(0),m.DNE(1,_,2,1,"ng-container",1),m.bVm()),2&C){const I=O.ngIf;m.R7$(),m.Y8G("ngForOf",I)}}let y=(()=>{class C{constructor(I,D){this.suggestionTargetsStateService=I,this.suggestionsService=D}ngOnInit(){this.suggestionsRD$=this.suggestionTargetsStateService.getCurrentUserSuggestionTargets(),this.suggestionTargetsStateService.dispatchMarkUserSuggestionsAsVisitedAction()}getNotificationSuggestionInterpolation(I){return this.suggestionsService.getNotificationSuggestionInterpolation(I)}static{this.\u0275fac=function(D){return new(D||C)(m.rXU(e.x),m.rXU(f.F))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-suggestions-notification"]],standalone:!0,features:[m.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","alert alert-info",4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-success d-block",4,"ngIf"],[1,"alert","alert-success","d-block"],[3,"innerHTML"],[3,"routerLink"]],template:function(D,R){1&D&&(m.DNE(0,v,2,1,"ng-container",0),m.nI1(1,"async")),2&D&&m.Y8G("ngIf",m.bMT(1,1,R.suggestionsRD$))},dependencies:[t.Wk,l.h,l.D9,i.Jj,i.bT,i.Sq]})}}return C})()},67977:(N,T,n)=>{"use strict";n.d(T,{F:()=>b});var i=n(7673),t=n(27468),l=n(96697),e=n(96354),f=n(73028),m=n(99437),p=n(88280),_=n(6238),v=n(96687),y=n(94791),C=n(98926),O=n(80183),I=n(82777),D=n(67600),R=n(24215),h=n(54438),w=n(41780);let b=(()=>{class P{constructor(L,B,U,$){this.researcherProfileService=L,this.suggestionsDataService=B,this.suggestionTargetDataService=U,this.translateService=$}getTargets(L,B,U){const $=new _.z("display",_.U.ASC);return this.suggestionTargetDataService.getTargetsBySource(L,{elementsPerPage:B,currentPage:U,sort:$}).pipe((0,O.D4)(),(0,l.s)(1),(0,e.T)(G=>{if(G.hasSucceeded)return G.payload;throw new Error("Can't retrieve Suggestion Target from the Search Target REST service")}))}getSuggestions(L,B,U,$){const[j,G]=L.split(":");return this.suggestionsDataService.getSuggestionsByTargetAndSource(G,j,{elementsPerPage:B,currentPage:U,sort:$})}clearSuggestionRequests(){this.suggestionsDataService.clearSuggestionRequests()}deleteReviewedSuggestion(L){return this.suggestionsDataService.deleteSuggestion(L).pipe((0,e.T)(B=>{if(B.isSuccess)return B;throw new Error("Can't delete Suggestion from the Search Target REST service")}),(0,l.s)(1))}retrieveCurrentUserSuggestions(L){return(0,I.Tn)(L)?(0,i.of)([]):this.researcherProfileService.findById(L,!0,!0,(0,D.s)("item")).pipe((0,O.qD)(),(0,f.Z)(B=>(0,I.hj)(B)&&B.hasSucceeded&&(0,I.hj)(B.payload)?this.researcherProfileService.findRelatedItemId(B.payload).pipe((0,f.Z)(U=>this.suggestionTargetDataService.getTargetsByUser(U).pipe((0,O.Ar)()))):(0,i.of)([])),(0,m.W)(()=>(0,i.of)([])))}approveAndImport(L,B,U){const $=this.resolveCollectionId(B,U);return L.importExternalSourceEntry(B.externalSourceUri,$).pipe((0,O.ak)(),(0,m.W)(()=>(0,i.of)(null)))}ignoreSuggestion(L){return this.deleteReviewedSuggestion(L).pipe((0,m.W)(()=>(0,i.of)(null)))}approveAndImportMultiple(L,B,U){return(0,t.p)(B.map($=>this.approveAndImport(L,$,U))).pipe((0,e.T)($=>({success:$.filter(j=>null!=j).length,fails:$.filter(j=>null==j).length})),(0,l.s)(1))}ignoreSuggestionMultiple(L){return(0,t.p)(L.map(B=>this.ignoreSuggestion(B.id))).pipe((0,e.T)(B=>({success:B.filter(U=>null!=U).length,fails:B.filter(U=>null==U).length})),(0,l.s)(1))}getTargetUuid(L){const B=L.id.split(":");return 2===B.length?B[1]:null}getNotificationSuggestionInterpolation(L){return{count:L.total,source:this.translateService.instant(this.translateSuggestionSource(L.source)),type:this.translateService.instant(this.translateSuggestionType(L.source)),suggestionId:L.id,displayName:L.display,url:(0,R.jV)(L.id)}}translateSuggestionType(L){return"suggestion.type."+L}translateSuggestionSource(L){return"suggestion.source."+L}resolveCollectionId(L,B){return(0,I.a4)(B)?B:p.c.suggestion.find(U=>U.source===L.source).collectionId}isCollectionFixed(L){return 1===this.getFixedCollectionIds(L).length}getFixedCollectionIds(L){const B={};return L.forEach(U=>{const $=p.c.suggestion.find(j=>j.source===U.source);(0,I.a4)($)&&(B[$.collectionId]=!0)}),Object.keys(B)}static{this.\u0275fac=function(B){return new(B||P)(h.KVO(C.ResearcherProfileDataService),h.KVO(v.SuggestionDataService),h.KVO(y.SuggestionTargetDataService),h.KVO(w.c$))}}static{this.\u0275prov=h.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}}return P})()},2670:(N,T,n)=>{"use strict";n.r(T),n.d(T,{PageErrorComponent:()=>e});var i=n(41780),t=n(54438),l=n(7901);let e=(()=>{class f{constructor(p){this.activatedRoute=p,this.activatedRoute.queryParams.subscribe(_=>{this.status=_.status,this.code=_.code})}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(l.nX))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-base-page-error"]],standalone:!0,features:[t.aNF],decls:16,vars:10,consts:[[1,"page-internal-server-error","container"],["data-test","status"],[1,"text-center"],["href","/home",1,"btn","btn-primary"]],template:function(_,v){1&_&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.j41(3,"h2")(4,"small"),t.EFF(5),t.nI1(6,"translate"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"br"),t.j41(12,"p",2)(13,"a",3),t.EFF(14),t.nI1(15,"translate"),t.k0s()()()),2&_&&(t.R7$(2),t.JRh(v.status),t.R7$(3),t.JRh(t.bMT(6,4,"error-page.description."+v.status)),t.R7$(4),t.JRh(t.bMT(10,6,"error-page."+v.code)),t.R7$(5),t.JRh(t.bMT(15,8,v.status+".link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},82290:(N,T,n)=>{"use strict";n.r(T),n.d(T,{PageInternalServerErrorComponent:()=>e});var i=n(41780),t=n(7337),l=n(54438);let e=(()=>{class f{constructor(p){this.responseService=p,this.responseService.setInternalServerError()}static{this.\u0275fac=function(_){return new(_||f)(l.rXU(t.w))}}static{this.\u0275cmp=l.VBU({type:f,selectors:[["ds-base-page-internal-server-error"]],standalone:!0,features:[l.aNF],decls:16,vars:9,consts:[[1,"page-internal-server-error","container"],[1,"text-center"],["href","home",1,"btn","btn-primary"]],template:function(_,v){1&_&&(l.j41(0,"div",0)(1,"h1"),l.EFF(2,"500"),l.k0s(),l.j41(3,"h2")(4,"small"),l.EFF(5),l.nI1(6,"translate"),l.k0s()(),l.nrm(7,"br"),l.j41(8,"p"),l.EFF(9),l.nI1(10,"translate"),l.k0s(),l.nrm(11,"br"),l.j41(12,"p",1)(13,"a",2),l.EFF(14),l.nI1(15,"translate"),l.k0s()()()),2&_&&(l.R7$(5),l.SpI(" ",l.bMT(6,3,"500.page-internal-server-error")," "),l.R7$(4),l.JRh(l.bMT(10,5,"500.help")),l.R7$(5),l.JRh(l.bMT(15,7,"500.link.home-page")))},dependencies:[i.h,i.D9]})}}return f})()},53830:(N,T,n)=>{"use strict";n.r(T),n.d(T,{PageNotFoundComponent:()=>m});var i=n(7901),t=n(41780),l=n(67116),e=n(7337),f=n(54438);let m=(()=>{class p{constructor(v,y){this.authservice=v,this.responseService=y,this.responseService.setNotFound()}ngOnInit(){this.authservice.clearRedirectUrl()}static{this.\u0275fac=function(y){return new(y||p)(f.rXU(l.uR),f.rXU(e.w))}}static{this.\u0275cmp=f.VBU({type:p,selectors:[["ds-base-pagenotfound"]],standalone:!0,features:[f.aNF],decls:16,vars:9,consts:[[1,"page-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(y,C){1&y&&(f.j41(0,"div",0)(1,"h1"),f.EFF(2,"404"),f.k0s(),f.j41(3,"h2")(4,"small"),f.EFF(5),f.nI1(6,"translate"),f.k0s()(),f.nrm(7,"br"),f.j41(8,"p"),f.EFF(9),f.nI1(10,"translate"),f.k0s(),f.nrm(11,"br"),f.j41(12,"p",1)(13,"a",2),f.EFF(14),f.nI1(15,"translate"),f.k0s()()()),2&y&&(f.R7$(5),f.JRh(f.bMT(6,3,"404.page-not-found")),f.R7$(4),f.JRh(f.bMT(10,5,"404.help")),f.R7$(5),f.JRh(f.bMT(15,7,"404.link.home-page")))},dependencies:[i.Wk,t.h,t.D9]})}}return p})()},1504:(N,T,n)=>{"use strict";n.d(T,{JO:()=>l,rG:()=>t,yJ:()=>e});var i=n(45663);const t="processes",l=()=>`/${t}`,e=f=>new i.t(l(),f).toString()},73666:(N,T,n)=>{"use strict";n.d(T,{p:()=>i});class i{}},31189:(N,T,n)=>{"use strict";n.d(T,{K:()=>i});var i=function(t){return t.SCHEDULED="SCHEDULED",t.RUNNING="RUNNING",t.COMPLETED="COMPLETED",t.FAILED="FAILED",t}(i||{})},30721:(N,T,n)=>{"use strict";n.d(T,{M:()=>I});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(96470),m=n(42547);const p=new m.v("processOutput");var _=n(98688),v=n(43733);const y=new m.v("filetypes");var C=n(20930);n(31189);let I=class{static{this.type=C.A}};(0,i.Cg)([_.aK,t.autoserialize,(0,i.Sn)("design:type",m.v)],I.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String),(0,i.Sn)("design:type",String)],I.prototype,"processId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"userId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"creationTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"startTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"endTime",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"scriptName",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],I.prototype,"processStatus",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],I.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],I.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(v.M),(0,i.Sn)("design:type",l.c)],I.prototype,"script",void 0),(0,i.Cg)([(0,e.nf)(p),(0,i.Sn)("design:type",l.c)],I.prototype,"output",void 0),(0,i.Cg)([(0,e.nf)(f.e,!0),(0,i.Sn)("design:type",l.c)],I.prototype,"files",void 0),(0,i.Cg)([(0,e.nf)(y),(0,i.Sn)("design:type",l.c)],I.prototype,"filetypes",void 0),I=(0,i.Cg)([e.gV],I)},20930:(N,T,n)=>{"use strict";n.d(T,{A:()=>t});const t=new(n(42547).v)("process")},24903:(N,T,n)=>{"use strict";n.d(T,{e:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(42547),f=n(98688),m=n(43733);let p=class{static{this.type=m.M}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"name",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"description",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],p.prototype,"parameters",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([l.gV],p)},43733:(N,T,n)=>{"use strict";n.d(T,{M:()=>t});const t=new(n(42547).v)("script")},87114:(N,T,n)=>{"use strict";n.r(T),n.d(T,{RootComponent:()=>Z});var i=n(60177),t=n(7901),l=n(41780),e=n(7673),f=n(84412),m=n(84572),p=n(28492),_=n(61594),v=n(96354),y=n(99172),C=n(88280),O=n(61242),I=n(69799),D=n(46754),R=n(1676),h=n(74920),w=n(77529),b=n(621),P=n(57538),M=n(98776),L=n(82394),B=n(39548),U=n(19340),$=n(25871),j=n(1221),G=n(58429),z=n(54438);const V=(H,Y)=>({collapsedWidth:H,expandedWidth:Y}),X=(H,Y)=>({value:H,params:Y});function J(H,Y){1&H&&(z.j41(0,"div",8),z.nrm(1,"ds-loading",9),z.k0s()),2&H&&(z.R7$(),z.Y8G("showMessage",!1))}function q(H,Y){1&H&&(z.j41(0,"div",10),z.nrm(1,"ds-loading",9),z.k0s()),2&H&&(z.R7$(),z.Y8G("showMessage",!1))}let Z=(()=>{class H{constructor(Q,ie,oe,pe,ne){this.router=Q,this.cssService=ie,this.menuService=oe,this.windowService=pe,this._window=ne,this.theme=(0,e.of)({}),this.browserOsClasses=new f.t([]),this.notificationOptions=C.c.notifications}ngOnInit(){const Q=this.getBrowserName();if(Q){const oe=new Array;oe.push(`browser-${Q}`);const pe=this.getOSName();pe&&oe.push(`browser-${Q}-${pe}`),this.browserOsClasses.next(oe)}this.isSidebarVisible$=this.menuService.isMenuVisibleWithVisibleSections(U.D.ADMIN),this.expandedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-total-width").pipe((0,p.j)(oe=>!oe),(0,_.$)()),this.collapsedSidebarWidth$=this.cssService.getVariable("--ds-admin-sidebar-fixed-element-width").pipe((0,p.j)(oe=>!oe),(0,_.$)());const ie=this.menuService.isMenuCollapsed(U.D.ADMIN);this.slideSidebarOver$=(0,m.z)([ie,this.windowService.isXsOrSm()]).pipe((0,v.T)(([oe,pe])=>oe||pe),(0,y.Z)(!0)),this.router.url===(0,I.N2)()&&(this.shouldShowRouteLoader=!1)}skipToMainContent(){const Q=document.getElementById("main-content");Q&&(Q.tabIndex=-1,Q.focus())}getBrowserName(){const Q=this._window.nativeWindow.navigator?.userAgent;return/Firefox/.test(Q)?"firefox":/Safari/.test(Q)?"safari":void 0}getOSName(){const Q=this._window.nativeWindow.navigator?.userAgent;if(/Windows/.test(Q))return"windows"}static{this.\u0275fac=function(ie){return new(ie||H)(z.rXU(t.Ix),z.rXU(j.J),z.rXU(B.$),z.rXU(P.CV),z.rXU(R.lc))}}static{this.\u0275cmp=z.VBU({type:H,selectors:[["ds-base-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[z.aNF],decls:22,vars:30,consts:[["id","skip-to-main-content",1,"sr-only",3,"click"],[1,"outer-wrapper",3,"ngClass"],[3,"expandedSidebarWidth$","collapsedSidebarWidth$"],[1,"inner-wrapper"],["id","main-content",1,"my-cs"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],[3,"options"],["class","ds-full-screen-loader",4,"ngIf"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[3,"showMessage"],[1,"ds-full-screen-loader"]],template:function(ie,oe){1&ie&&(z.j41(0,"button",0),z.bIt("click",function(){return oe.skipToMainContent()}),z.EFF(1),z.nI1(2,"translate"),z.k0s(),z.j41(3,"div",1),z.nI1(4,"async"),z.nI1(5,"async"),z.nI1(6,"async"),z.nI1(7,"async"),z.nI1(8,"async"),z.nrm(9,"ds-admin-sidebar",2),z.j41(10,"div",3),z.nrm(11,"ds-system-wide-alert-banner")(12,"ds-header-navbar-wrapper")(13,"ds-breadcrumbs"),z.j41(14,"main",4),z.DNE(15,J,2,1,"div",5),z.j41(16,"div"),z.nrm(17,"router-outlet"),z.k0s()(),z.nrm(18,"ds-footer"),z.k0s()(),z.nrm(19,"ds-notifications-board",6),z.DNE(20,q,2,1,"div",7),z.nrm(21,"ds-live-region")),2&ie&&(z.R7$(),z.SpI(" ",z.bMT(2,12,"root.skip-to-content"),"\n"),z.R7$(2),z.AVh("d-none",oe.shouldShowFullscreenLoader),z.Y8G("ngClass",z.bMT(4,14,oe.browserOsClasses.asObservable()))("@slideSidebarPadding",z.l_i(27,X,!0!==z.bMT(5,16,oe.isSidebarVisible$)?"hidden":z.bMT(6,18,oe.slideSidebarOver$)?"unpinned":"pinned",z.l_i(24,V,z.bMT(7,20,oe.collapsedSidebarWidth$),z.bMT(8,22,oe.expandedSidebarWidth$)))),z.R7$(6),z.Y8G("expandedSidebarWidth$",oe.expandedSidebarWidth$)("collapsedSidebarWidth$",oe.collapsedSidebarWidth$),z.R7$(6),z.Y8G("ngIf",oe.shouldShowRouteLoader),z.R7$(),z.AVh("d-none",oe.shouldShowRouteLoader),z.R7$(3),z.Y8G("options",oe.notificationOptions),z.R7$(),z.Y8G("ngIf",oe.shouldShowFullscreenLoader))},dependencies:[l.h,l.D9,O.u,G.E,w.h,D.B,i.bT,i.YU,L.v,t.n3,h.C,$.s,i.Jj,M.E],styles:["#skip-to-main-content[_ngcontent-%COMP%]{position:absolute;top:-40px;left:0;opacity:0;transition:opacity .3s;z-index:calc(var(--ds-nav-z-index) + 1);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0}#skip-to-main-content[_ngcontent-%COMP%]:focus{opacity:1;top:0}"],data:{animation:[b.tr]}})}}return H})()},73940:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchNavbarComponent:()=>y});var i=n(89417),t=n(41780),l=n(78655),e=n(621),f=n(75465),m=n(46301),p=n(54438),_=n(7901);const v=["searchInput"];let y=(()=>{class C{constructor(I,D,R){this.formBuilder=I,this.router=D,this.searchService=R,this.searchExpanded=!1,this.isExpanded="collapsed",this.searchForm=this.formBuilder.group({query:""})}expand(){this.searchExpanded=!0,this.isExpanded="expanded",this.editSearch()}collapse(){this.searchField.nativeElement.blur(),this.searchExpanded=!1,this.isExpanded="collapsed"}editSearch(){this.searchField.nativeElement.focus()}onSubmit(I){this.collapse();const D=Object.assign({},I),R=[this.searchService.getSearchLink().replace("/","")];this.searchForm.reset(),this.router.navigate(R,{queryParams:D})}static{this.\u0275fac=function(D){return new(D||C)(p.rXU(i.ze),p.rXU(_.Ix),p.rXU(l.S))}}static{this.\u0275cmp=p.VBU({type:C,selectors:[["ds-base-search-navbar"]],viewQuery:function(D,R){if(1&D&&p.GBs(v,5),2&D){let h;p.mGM(h=p.lsd())&&(R.searchField=h.first)}},standalone:!0,features:[p.aNF],decls:13,vars:23,consts:[["searchInput",""],[3,"dsClickOutside","title"],[1,"d-inline-block","position-relative"],["autocomplete","on",1,"d-flex",3,"ngSubmit","formGroup"],["name","query","formControlName","query","type","text",1,"bg-transparent","position-absolute","form-control","dropdown-menu-right","pl-1","pr-4",3,"placeholder","tabIndex"],["type","button",1,"submit-icon","btn","btn-link","btn-link-inline",3,"click"],[1,"fas","fa-search","fa-lg","fa-fw"]],template:function(D,R){if(1&D){const h=p.RV6();p.j41(0,"div",1),p.nI1(1,"translate"),p.bIt("dsClickOutside",function(){return p.eBV(h),p.Njj(R.collapse())}),p.j41(2,"div",2)(3,"form",3),p.bIt("ngSubmit",function(){return p.eBV(h),p.Njj(R.onSubmit(R.searchForm.value))}),p.nrm(4,"input",4,0),p.nI1(6,"translate"),p.nI1(7,"translate"),p.nI1(8,"dsBrowserOnly"),p.j41(9,"button",5),p.nI1(10,"translate"),p.nI1(11,"dsBrowserOnly"),p.bIt("click",function(){return p.eBV(h),p.Njj(R.searchExpanded?R.onSubmit(R.searchForm.value):R.expand())}),p.nrm(12,"em",6),p.k0s()()()()}2&D&&(p.Y8G("title",p.bMT(1,11,"nav.search")),p.R7$(3),p.Y8G("formGroup",R.searchForm),p.R7$(),p.AVh("display",R.searchExpanded?"inline-block":"none"),p.FS9("placeholder",R.searchExpanded?p.bMT(6,13,"nav.search"):""),p.Y8G("@toggleAnimation",R.isExpanded)("tabIndex",R.searchExpanded?0:-1),p.BMQ("aria-label",p.bMT(7,15,"nav.search"))("data-test",p.bMT(8,17,"header-search-box")),p.R7$(5),p.BMQ("aria-label",p.bMT(10,19,"nav.search.button"))("data-test",p.bMT(11,21,"header-search-icon")))},dependencies:[m.z,i.YN,i.qT,i.me,i.BC,i.cb,i.X1,i.j4,i.JD,t.h,t.D9,f.L],styles:["input[type=text][_ngcontent-%COMP%]{margin-top:calc(-.5 * var(--bs-font-size-base));background-color:#fff!important;border-color:var(--ds-header-icon-color)}input[type=text].collapsed[_ngcontent-%COMP%]{opacity:0}.submit-icon[_ngcontent-%COMP%]{cursor:pointer;position:sticky;top:0;border:0!important;color:var(--ds-header-icon-color)}.submit-icon[_ngcontent-%COMP%]:hover, .submit-icon[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}@media screen and (max-width: 768px){.query[_ngcontent-%COMP%]:focus{max-width:250px!important;width:40vw!important}}"],data:{animation:[e.l9]}})}}return C})()},3224:(N,T,n)=>{"use strict";n.d(T,{X:()=>m});var i=n(8886),l=(n(73940),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"SearchNavbarComponent"}importThemedComponent(v){return n(28754)(`./${v}/app/search-navbar/search-navbar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73940))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-search-navbar"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},32487:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ConfigurationSearchPageComponent:()=>Ee});var i=n(60177),t=n(54438),l=n(41780),e=n(82640),f=n(56760),m=n(78655),p=n(39012),_=n(13955),v=n(10214),y=n(57538),C=n(77766),O=n(55366),I=n(14131),D=n(79443),R=n(18016),h=n(50919),w=n(52600),b=n(35538),P=n(7901);const M=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],L=["[searchContentTop]","[additionalSearchOptions]"];function B(ue,ae){}function U(ue,ae){1&ue&&t.DNE(0,B,0,0,"ng-template")}function $(ue,ae){if(1&ue&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,U,1,0,null,9),t.k0s()()()),2&ue){t.XpG();const ye=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",ye)}}function j(ue,ae){}function G(ue,ae){1&ue&&t.DNE(0,j,0,0,"ng-template")}function z(ue,ae){if(1&ue&&(t.j41(0,"div"),t.DNE(1,G,1,0,null,9),t.k0s()),2&ue){t.XpG();const ye=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",ye)}}function V(ue,ae){}function X(ue,ae){1&ue&&t.DNE(0,V,0,0,"ng-template")}function J(ue,ae){if(1&ue&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,X,1,0,null,9),t.k0s()),2&ue){const ye=t.XpG(),De=t.sdS(7),tt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",ye.sideBarWidth)("sidebarContent",tt),t.R7$(),t.Y8G("ngTemplateOutlet",De)}}function q(ue,ae){}function Z(ue,ae){1&ue&&t.DNE(0,q,0,0,"ng-template")}function H(ue,ae){if(1&ue&&(t.qex(0),t.DNE(1,Z,1,0,null,9),t.bVm()),2&ue){t.XpG(3);const ye=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",ye)}}function Y(ue,ae){if(1&ue&&(t.j41(0,"div",8),t.DNE(1,H,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&ue){const ye=t.XpG(2);t.R7$(),t.Y8G("ngIf",ye.searchEnabled)}}function Q(ue,ae){if(1&ue&&t.nrm(0,"ds-view-mode-switch",18),2&ue){const ye=t.XpG(2);t.Y8G("viewModeList",ye.viewModeList)("inPlaceSearch",ye.inPlaceSearch)}}function ie(ue,ae){if(1&ue){const ye=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(tt){t.eBV(ye);const _t=t.XpG(2);return t.Njj(_t.onContentChange(tt))})("deselectObject",function(tt){t.eBV(ye);const _t=t.XpG(2);return t.Njj(_t.deselectObject.emit(tt))})("selectObject",function(tt){t.eBV(ye);const _t=t.XpG(2);return t.Njj(_t.selectObject.emit(tt))}),t.k0s()}if(2&ue){const ye=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,ye.resultsRD$))("searchConfig",t.bMT(2,12,ye.searchOptions$))("configuration",t.bMT(3,14,ye.currentConfiguration$))("disableHeader",!ye.searchEnabled)("linkType",ye.linkType)("context",t.bMT(4,16,ye.currentContext$))("selectable",ye.selectable)("selectionConfig",ye.selectionConfig)("showCsvExport",ye.showCsvExport)("showThumbnails",ye.showThumbnails)}}function oe(ue,ae){if(1&ue){const ye=t.RV6();t.j41(0,"div",7),t.DNE(1,Y,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Q,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(ye);const tt=t.XpG();return t.Njj(tt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,ie,5,18,"ds-search-results",17),t.k0s()()}if(2&ue){const ye=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,ye.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",ye.inPlaceSearch&&ye.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",ye.inPlaceSearch)}}function pe(ue,ae){if(1&ue){const ye=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(tt){t.eBV(ye);const _t=t.XpG(2);return t.Njj(_t.changeContext(tt.context))})("changeViewMode",function(){t.eBV(ye);const tt=t.XpG(2);return t.Njj(tt.changeViewMode())}),t.k0s()}if(2&ue){let ye;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(ye=t.bMT(3,16,De.resultsRD$))||null==ye.payload?null:ye.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function ne(ue,ae){if(1&ue){const ye=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(ye);const tt=t.XpG(2);return t.Njj(tt.closeSidebar())})("changeConfiguration",function(tt){t.eBV(ye);const _t=t.XpG(2);return t.Njj(_t.changeContext(tt.context))})("changeViewMode",function(){t.eBV(ye);const tt=t.XpG(2);return t.Njj(tt.changeViewMode())}),t.k0s()}if(2&ue){let ye;const De=t.XpG(2);t.Y8G("configurationList",De.configurationList)("configuration",t.bMT(1,12,De.currentConfiguration$))("currentScope",t.bMT(2,14,De.currentScope$))("filters",De.filtersRD$.asObservable())("refreshFilters",De.refreshFilters)("resultCount",null==(ye=t.bMT(3,16,De.resultsRD$))||null==ye.payload?null:ye.payload.totalElements)("searchOptions",t.bMT(4,18,De.searchOptions$))("sortOptionsList",t.bMT(5,20,De.sortOptionsList$))("currentSortOption",t.bMT(6,22,De.currentSortOptions$))("inPlaceSearch",De.inPlaceSearch)("viewModeList",De.viewModeList)("showViewModes",De.showViewModes)}}function re(ue,ae){if(1&ue&&(t.DNE(0,pe,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,ne,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&ue){const ye=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,ye.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,ye.isXsOrSm$))}}function Ce(ue,ae){if(1&ue&&(t.nrm(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()),2&ue){let ye,De;const tt=t.XpG();t.Y8G("query",null==(ye=t.bMT(1,8,tt.searchOptions$))?null:ye.query)("scope",null==(De=t.bMT(2,10,tt.searchOptions$))?null:De.scope)("hideScopeInUrl",tt.hideScopeInUrl)("currentUrl",tt.searchLink)("showScopeSelector",tt.showScopeSelector)("inPlaceSearch",tt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,tt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",tt.inPlaceSearch)}}let Ee=(()=>{class ue extends C.SearchComponent{constructor(ye,De,tt,_t,We,dt,it,Ge){super(ye,De,tt,_t,We,dt,it,Ge),this.service=ye,this.sidebarService=De,this.windowService=tt,this.searchConfigService=_t,this.routeService=We,this.router=dt,this.appConfig=it,this.platformId=Ge}static{this.\u0275fac=function(De){return new(De||ue)(t.rXU(m.S),t.rXU(w.o),t.rXU(y.CV),t.rXU(_.EN),t.rXU(f.v$),t.rXU(P.Ix),t.rXU(e.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ue,selectors:[["ds-base-configuration-search-page"]],standalone:!0,features:[t.Jv_([{provide:_.EN,useClass:p.g}]),t.Vt3,t.aNF],ngContentSelectors:L,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(De,tt){1&De&&(t.NAR(M),t.DNE(0,$,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,z,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,J,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,oe,12,8,"ng-template",null,0,t.C5r)(8,re,4,6,"ng-template",null,1,t.C5r)(10,Ce,7,14,"ng-template",null,2,t.C5r)),2&De&&(t.Y8G("ngIf",tt.searchEnabled&&t.bMT(1,3,tt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!tt.showSidebar&&t.bMT(3,5,tt.initialized$)),t.R7$(2),t.Y8G("ngIf",tt.showSidebar&&t.bMT(5,7,tt.initialized$)))},dependencies:[i.bT,i.T3,h.f,b.g,I.N,D.p,R.d,O.L,i.Jj,l.h,l.D9],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[v.W]},changeDetection:0})}}return ue})()},4021:(N,T,n)=>{"use strict";n.d(T,{M:()=>_}),n(26292),n(7581);var l=n(8886),f=(n(32487),n(54438));const m=["*"];function p(v,y){}let _=(()=>{class v extends l.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl"]}getComponentName(){return"ConfigurationSearchPageComponent"}importThemedComponent(C){return n(21133)(`./${C}/app/search-page/configuration-search-page.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,32487))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=f.xGo(v)))(I||v)}})()}static{this.\u0275cmp=f.VBU({type:v,selectors:[["ds-configuration-search-page"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return v})()},22924:(N,T,n)=>{"use strict";n.d(T,{e:()=>p});var i=n(54438),t=n(82777),l=n(82522),e=n(92827);const f=["DynamicComponentLoader"];function m(_,v){}let p=(()=>{class _{constructor(y){this.themeService=y,this.subs=[],this.inputNamesDependentForComponent=[],this.inputNames=[],this.outputNames=[]}ngOnInit(){this.instantiateComponent()}ngOnChanges(y){(0,t.a4)(this.compRef)&&(this.inputNamesDependentForComponent.some(C=>(0,t.a4)(y[C])&&y[C].previousValue!==y[C].currentValue)?(this.destroyComponentInstance(),this.instantiateComponent()):this.connectInputsAndOutputs())}ngOnDestroy(){this.subs.filter(y=>(0,t.a4)(y)).forEach(y=>y.unsubscribe()),this.destroyComponentInstance()}instantiateComponent(){const y=this.getComponent(),C=this.componentViewContainerRef;C.clear(),this.compRef=C.createComponent(y,{index:0,injector:void 0}),this.connectInputsAndOutputs()}destroyComponentInstance(){(0,t.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null)}connectInputsAndOutputs(){(0,t.hj)(this.inputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.inputNames.filter(y=>void 0!==this[y]).filter(y=>this[y]!==this.compRef.instance[y]).forEach(y=>{this.compRef.setInput(y,this[y])}),(0,t.hj)(this.outputNames)&&(0,t.a4)(this.compRef)&&(0,t.a4)(this.compRef.instance)&&this.outputNames.filter(y=>void 0!==this[y]).filter(y=>this[y]!==this.compRef.instance[y]).forEach(y=>{this.compRef.instance[y]=this[y]})}static{this.\u0275fac=function(C){return new(C||_)(i.rXU(l.Fs))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ds-abstract-component-loader"]],viewQuery:function(C,O){if(1&C&&i.GBs(f,7,i.c1b),2&C){let I;i.mGM(I=i.lsd())&&(O.componentViewContainerRef=I.first)}},standalone:!0,features:[i.OA$,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,O){1&C&&i.DNE(0,m,0,0,"ng-template",1,0,i.C5r)},dependencies:[e.z],encapsulation:2})}}return _})()},92827:(N,T,n)=>{"use strict";n.d(T,{z:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.viewContainerRef=f}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsDynamicComponentLoader",""]],standalone:!0})}}return l})()},47978:(N,T,n)=>{"use strict";n.d(T,{v:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},16292:(N,T,n)=>{"use strict";n.d(T,{C:()=>y});var i=n(49969),t=n(60177),l=n(54438),e=n(41780),f=n(50332);const m=["*"];function p(C,O){if(1&C&&(l.nrm(0,"span",4),l.nI1(1,"translate")),2&C){const I=l.XpG(2);l.Y8G("innerHTML",l.bMT(1,1,I.content),l.npT)}}function _(C,O){if(1&C){const I=l.RV6();l.j41(0,"button",5),l.bIt("click",function(){l.eBV(I);const R=l.XpG(2);return l.Njj(R.dismiss())}),l.j41(1,"span",6),l.EFF(2,"\xd7"),l.k0s()()}}function v(C,O){if(1&C&&(l.j41(0,"div",1),l.DNE(1,p,2,3,"span",2),l.SdG(2),l.DNE(3,_,3,0,"button",3),l.k0s()),2&C){const I=l.XpG();l.ZvI("alert ",I.type," alert-dismissible fade show w-100 p-3"),l.Y8G("@enterLeave",I.animate),l.R7$(),l.Y8G("ngIf",I.content),l.R7$(2),l.Y8G("ngIf",I.dismissible)}}let y=(()=>{class C{constructor(I){this.cdr=I,this.dismissible=!1,this.close=new l.bkB,this.animate="fadeIn",this.dismissed=!1}dismiss(){this.dismissible&&(this.animate="fadeOut",this.cdr.detectChanges(),setTimeout(()=>{this.dismissed=!0,this.close.emit(),this.cdr.detectChanges()},300))}static{this.\u0275fac=function(D){return new(D||C)(l.rXU(l.gRc))}}static{this.\u0275cmp=l.VBU({type:C,selectors:[["ds-alert"]],inputs:{content:"content",dismissible:"dismissible",type:"type"},outputs:{close:"close"},standalone:!0,features:[l.aNF],ngContentSelectors:m,decls:1,vars:1,consts:[["role","alert",3,"class",4,"ngIf"],["role","alert"],[3,"innerHTML",4,"ngIf"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(D,R){1&D&&(l.NAR(),l.DNE(0,v,4,6,"div",0)),2&D&&l.Y8G("ngIf",!R.dismissed)},dependencies:[t.bT,e.h,e.D9],styles:[".close{opacity:.75}.close:focus{outline:none!important}button.close{opacity:.6}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[f.ai,f.wA])]}})}}return C})()},50332:(N,T,n)=>{"use strict";n.d(T,{HT:()=>t,Ws:()=>y,Xn:()=>v,ai:()=>m,e9:()=>l,qG:()=>_,wA:()=>f});var i=n(49969);const t=(0,i.wk)("fadeIn",(0,i.iF)({opacity:1})),l=(0,i.kY)("* => fadeIn",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),e=(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),f=(0,i.wk)("fadeOut",(0,i.iF)({opacity:0})),m=(0,i.kY)("fadeIn => fadeOut",[(0,i.iF)({opacity:1}),(0,i.i0)(400,(0,i.iF)({opacity:0}))]),p=(0,i.kY)(":leave",[(0,i.iF)({opacity:0}),(0,i.i0)(300,(0,i.iF)({opacity:1}))]),_=(0,i.hZ)("fadeIn",[e]),v=(0,i.hZ)("fadeOut",[p]),y=(0,i.hZ)("fadeInOut",[e,p])},6703:(N,T,n)=>{"use strict";n.d(T,{B_:()=>e,Py:()=>f,Wk:()=>t,iP:()=>l});var i=n(49969);const t=(0,i.wk)("fromTopIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),l=(0,i.kY)("* => fromTopIn",[(0,i.iF)({opacity:0,transform:"translateY(-5%)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("fromTopOut",(0,i.iF)({opacity:0,transform:"translateY(5%)"})),f=(0,i.kY)("fromTopIn => fromTopOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromTopIn",[l]),(0,i.hZ)("fromTopOut",[f]),(0,i.hZ)("fromTopInOut",[l,f])},10214:(N,T,n)=>{"use strict";n.d(T,{W:()=>t});var i=n(49969);const t=(0,i.hZ)("pushInOut",[(0,i.wk)("expanded",(0,i.iF)({left:"100%"})),(0,i.wk)("collapsed",(0,i.iF)({left:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))])},68681:(N,T,n)=>{"use strict";n.d(T,{CC:()=>l,L2:()=>e,Ru:()=>f,UE:()=>t,e$:()=>C});var i=n(49969);const t=(0,i.wk)("rotateIn",(0,i.iF)({opacity:1,transform:"rotate(0deg)"})),l=(0,i.kY)("* => rotateIn",[(0,i.iF)({opacity:0,transform:"rotate(5deg)"}),(0,i.i0)("400ms ease-in-out")]),e=(0,i.wk)("rotateOut",(0,i.iF)({opacity:0,transform:"rotate(5deg)"})),f=(0,i.kY)("rotateIn => rotateOut",[(0,i.iF)({opacity:1,transform:"rotate(0deg)"}),(0,i.i0)("400ms ease-in-out")]),C=((0,i.hZ)("rotateIn",[l]),(0,i.hZ)("rotateOut",[f]),(0,i.hZ)("rotateInOut",[l,f]),(0,i.hZ)("rotate",[(0,i.wk)("expanded",(0,i.iF)({transform:"rotate(90deg)"})),(0,i.wk)("collapsed",(0,i.iF)({transform:"rotate(0deg)"})),(0,i.kY)("expanded <=> collapsed",[(0,i.i0)("200ms")])]))},621:(N,T,n)=>{"use strict";n.d(T,{M6:()=>t,ck:()=>C,l9:()=>I,p8:()=>l,tr:()=>O});var i=n(49969);const t=(0,i.hZ)("slide",[(0,i.wk)("expanded",(0,i.iF)({height:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0})),(0,i.wk)("void",(0,i.iF)({height:0})),(0,i.wk)("*",(0,i.iF)({height:"*"})),(0,i.kY)(":enter",[(0,i.i0)("200ms")]),(0,i.kY)(":leave",[(0,i.i0)("200ms")]),(0,i.kY)("expanded <=> collapsed",(0,i.i0)(250))]),l=(0,i.hZ)("slideMobileNav",[(0,i.wk)("expanded",(0,i.iF)({height:"*",minHeight:"*"})),(0,i.wk)("collapsed",(0,i.iF)({height:0,minHeight:0})),(0,i.kY)("expanded <=> collapsed",(0,i.i0)("300ms"))]),e=(0,i.iF)({maxWidth:"{{collapsedWidth}}"}),f=(0,i.iF)({maxWidth:"{{expandedWidth}}"}),m=(0,i.iF)({paddingLeft:"{{collapsedWidth}}"}),p=(0,i.iF)({paddingLeft:"{{expandedWidth}}"}),_=(0,i.iF)({paddingLeft:"0"}),v={params:{collapsedWidth:"*",expandedWidth:"*"}},y="300ms ease-in-out",C=(0,i.hZ)("slideSidebar",[(0,i.wk)("collapsed",e,v),(0,i.wk)("expanded",f,v),(0,i.kY)("expanded => collapsed",(0,i.i0)(y,e)),(0,i.kY)("collapsed => expanded",(0,i.i0)(y,f))]),O=(0,i.hZ)("slideSidebarPadding",[(0,i.wk)("hidden",_),(0,i.wk)("unpinned",m,v),(0,i.wk)("pinned",p,v),(0,i.kY)("hidden <=> unpinned",(0,i.i0)(y)),(0,i.kY)("hidden <=> pinned",(0,i.i0)(y)),(0,i.kY)("unpinned <=> pinned",(0,i.i0)(y))]),I=(0,i.hZ)("toggleAnimation",[(0,i.wk)("collapsed",(0,i.iF)({width:"0",opacity:"0"})),(0,i.wk)("expanded",(0,i.iF)({width:"250px",opacity:"1"})),(0,i.kY)("* => collapsed",(0,i.Os)([(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"30px"})),(0,i.i0)("300ms ease-in",(0,i.iF)({opacity:"0"}))])),(0,i.kY)("* => expanded",(0,i.Os)([(0,i.i0)("300ms ease-out",(0,i.iF)({opacity:"1"})),(0,i.i0)("300ms ease-in-out",(0,i.iF)({width:"250px"}))]))])},56292:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AuthNavMenuComponent:()=>G});var i=n(60177),t=n(7901),l=n(52149),e=n(25499),f=n(41780),m=n(7673),p=n(5964),_=n(96354),v=n(72352),y=n(67116),C=n(38169),O=n(50332),I=n(82777),D=n(57538),R=n(68900),h=n(75465),w=n(28619),b=n(54438);const P=z=>({"pl-3 pr-3":z});function M(z,V){if(1&z){const X=b.RV6();b.j41(0,"div",7),b.bIt("click",function(q){return b.eBV(X),b.Njj(q.stopPropagation())}),b.j41(1,"div",8,1)(3,"a",9),b.nI1(4,"translate"),b.nI1(5,"dsBrowserOnly"),b.bIt("click",function(q){return b.eBV(X),b.Njj(q.preventDefault())}),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.j41(8,"div",10),b.nI1(9,"async"),b.nI1(10,"translate"),b.nrm(11,"ds-log-in",11),b.k0s()()()}if(2&z){const X=b.sdS(2),J=b.XpG(2);b.R7$(),b.Y8G("@fadeInOut",void 0),b.R7$(2),b.BMQ("aria-label",b.bMT(4,8,"nav.login"))("data-test",b.bMT(5,10,"login-menu"))("aria-expanded",X.isOpen()),b.R7$(3),b.JRh(b.bMT(7,12,"nav.login")),b.R7$(2),b.Y8G("ngClass",b.eq3(18,P,b.bMT(9,14,J.loading))),b.BMQ("aria-label",b.bMT(10,16,"nav.login")),b.R7$(3),b.Y8G("isStandalonePage",!1)}}function L(z,V){if(1&z){const X=b.RV6();b.j41(0,"div",12)(1,"div",8,2)(3,"a",13),b.nI1(4,"translate"),b.nI1(5,"translate"),b.nI1(6,"dsBrowserOnly"),b.bIt("click",function(q){return b.eBV(X),b.Njj(q.preventDefault())}),b.nrm(7,"i",14),b.k0s(),b.j41(8,"div",15)(9,"ds-user-menu",16),b.bIt("changedRoute",function(){b.eBV(X);const q=b.sdS(2);return b.Njj(q.close())}),b.k0s()()()()}2&z&&(b.R7$(),b.Y8G("@fadeInOut",void 0),b.R7$(2),b.Y8G("title",b.bMT(4,5,"nav.user-profile-menu-and-logout")),b.BMQ("aria-label",b.bMT(5,7,"nav.user-profile-menu-and-logout"))("data-test",b.bMT(6,9,"user-menu")),b.R7$(6),b.Y8G("inExpandableNavbar",!1))}function B(z,V){if(1&z&&(b.j41(0,"div",4),b.DNE(1,M,12,20,"div",5),b.nI1(2,"async"),b.nI1(3,"async"),b.DNE(4,L,10,11,"div",6),b.nI1(5,"async"),b.nI1(6,"async"),b.k0s()),2&z){const X=b.XpG();b.R7$(),b.Y8G("ngIf",!0!==b.bMT(2,2,X.isAuthenticated)&&b.bMT(3,4,X.showAuth)),b.R7$(3),b.Y8G("ngIf",b.bMT(5,6,X.isAuthenticated)&&b.bMT(6,8,X.showAuth))}}function U(z,V){1&z&&(b.j41(0,"a",20),b.EFF(1),b.nI1(2,"translate"),b.j41(3,"span",21),b.EFF(4,"(current)"),b.k0s()()),2&z&&(b.R7$(),b.SpI(" ",b.bMT(2,1,"nav.login"),""))}function $(z,V){1&z&&(b.j41(0,"a",22),b.nI1(1,"translate"),b.nI1(2,"translate"),b.nrm(3,"i",23),b.j41(4,"span",21),b.EFF(5,"(current)"),b.k0s()()),2&z&&(b.Y8G("title",b.bMT(1,2,"nav.logout")),b.BMQ("aria-label",b.bMT(2,4,"nav.logout")))}function j(z,V){if(1&z&&(b.j41(0,"div",17),b.DNE(1,U,5,3,"a",18),b.nI1(2,"async"),b.DNE(3,$,6,6,"a",19),b.nI1(4,"async"),b.k0s()),2&z){const X=b.XpG();b.R7$(),b.Y8G("ngIf",!0!==b.bMT(2,2,X.isAuthenticated)),b.R7$(2),b.Y8G("ngIf",b.bMT(4,4,X.isAuthenticated))}}let G=(()=>{class z{constructor(X,J,q){this.store=X,this.windowService=J,this.authService=q,this.showAuth=(0,m.of)(!1),this.isMobile$=this.windowService.isMobile()}ngOnInit(){this.isAuthenticated=this.store.pipe((0,e.Lt)(C.wR)),this.loading=this.store.pipe((0,e.Lt)(C.VV)),this.user=this.authService.getAuthenticatedUserFromStore(),this.showAuth=this.store.pipe((0,e.Lt)(v.ox),(0,p.p)(X=>(0,I.EA)(X)&&(0,I.EA)(X.state)),(0,_.T)(X=>!X.state.url.startsWith(y.S0)&&!X.state.url.startsWith(y.Ru)))}static{this.\u0275fac=function(J){return new(J||z)(b.rXU(e.il),b.rXU(D.CV),b.rXU(y.uR))}}static{this.\u0275cmp=b.VBU({type:z,selectors:[["ds-base-auth-nav-menu"]],standalone:!0,features:[b.aNF],decls:4,vars:4,consts:[["mobileButtons",""],["loginDrop","ngbDropdown"],["loggedInDrop","ngbDropdown"],["class","navbar-nav mr-auto","data-test","auth-nav",4,"ngIf","ngIfElse"],["data-test","auth-nav",1,"navbar-nav","mr-auto"],["class","nav-item",3,"click",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item",3,"click"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["href","javascript:void(0);","role","menuitem","aria-haspopup","menu","aria-controls","loginDropdownMenu","ngbDropdownToggle","",1,"dropdownLogin","px-0.5",3,"click"],["id","loginDropdownMenu","ngbDropdownMenu","","role","menu",3,"ngClass"],[3,"isStandalonePage"],[1,"nav-item"],["href","javascript:void(0);","role","menuitem","aria-controls","user-menu-dropdown","ngbDropdownToggle","",1,"dropdownLogout","px-1",3,"click","title"],[1,"fas","fa-user-circle","fa-lg","fa-fw"],["id","logoutDropdownMenu","ngbDropdownMenu",""],[3,"changedRoute","inExpandableNavbar"],["data-test","auth-nav"],["routerLink","/login","routerLinkActive","active","class","loginLink px-0.5","role","button",4,"ngIf"],["role","button","routerLink","/logout","routerLinkActive","active","class","logoutLink px-1",3,"title",4,"ngIf"],["routerLink","/login","routerLinkActive","active","role","button",1,"loginLink","px-0.5"],[1,"sr-only"],["role","button","routerLink","/logout","routerLinkActive","active",1,"logoutLink","px-1",3,"title"],[1,"fas","fa-sign-out-alt","fa-lg","fa-fw"]],template:function(J,q){if(1&J&&(b.DNE(0,B,7,10,"div",3),b.nI1(1,"async"),b.DNE(2,j,5,6,"ng-template",null,0,b.C5r)),2&J){const Z=b.sdS(3);b.Y8G("ngIf",!0!==b.bMT(1,2,q.isMobile$))("ngIfElse",Z)}},dependencies:[i.YU,i.bT,l.zH,l.tg,l.do,l.U0,R.W,t.Wk,t.wQ,w.r,i.Jj,f.h,f.D9,h.L],styles:["#loginDropdownMenu[_ngcontent-%COMP%], #logoutDropdownMenu[_ngcontent-%COMP%]{min-width:330px;z-index:1002}#loginDropdownMenu[_ngcontent-%COMP%]{min-height:75px}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active, .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{background-color:#0000!important}.loginLink[_ngcontent-%COMP%], .dropdownLogin[_ngcontent-%COMP%], .logoutLink[_ngcontent-%COMP%], .dropdownLogout[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.loginLink[_ngcontent-%COMP%]:hover, .loginLink[_ngcontent-%COMP%]:focus, .dropdownLogin[_ngcontent-%COMP%]:hover, .dropdownLogin[_ngcontent-%COMP%]:focus, .logoutLink[_ngcontent-%COMP%]:hover, .logoutLink[_ngcontent-%COMP%]:focus, .dropdownLogout[_ngcontent-%COMP%]:hover, .dropdownLogout[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogin[_ngcontent-%COMP%]:not(:focus-visible):active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible).active:focus, .dropdownLogout[_ngcontent-%COMP%]:not(:focus-visible):active:focus{box-shadow:unset}"],data:{animation:[O.Ws,O.Xn]}})}}return z})()},44002:(N,T,n)=>{"use strict";n.d(T,{v:()=>m});var i=n(8886),l=(n(56292),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"AuthNavMenuComponent"}importThemedComponent(v){return n(51808)(`./${v}/app/shared/auth-nav-menu/auth-nav-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56292))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-auth-nav-menu"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},28619:(N,T,n)=>{"use strict";n.d(T,{r:()=>m});var i=n(54438),t=n(8886);n(51609);const e=["*"];function f(p,_){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.changedRoute=new i.bkB,this.inAndOutputNames=["inExpandableNavbar","changedRoute"]}getComponentName(){return"UserMenuComponent"}importThemedComponent(v){return n(13361)(`./${v}/app/shared/auth-nav-menu/user-menu/user-menu.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,51609))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=i.xGo(p)))(C||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},51609:(N,T,n)=>{"use strict";n.r(T),n.d(T,{UserMenuComponent:()=>w});var i=n(60177),t=n(54438),l=n(7901),e=n(25499),f=n(41780),m=n(69799),p=n(67116),_=n(38169),v=n(96526),y=n(15568),C=n(82394),O=n(61980);const I=b=>[b];function D(b,P){1&b&&t.nrm(0,"ds-loading")}function R(b,P){1&b&&(t.qex(0),t.nrm(1,"li",7),t.j41(2,"li",8),t.nrm(3,"ds-log-out",9),t.k0s(),t.bVm())}function h(b,P){if(1&b){const M=t.RV6();t.j41(0,"ul",2),t.nI1(1,"translate"),t.j41(2,"li",3),t.EFF(3),t.nI1(4,"async"),t.nrm(5,"br"),t.j41(6,"span",4),t.EFF(7),t.nI1(8,"async"),t.k0s()(),t.j41(9,"li",5),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(10,"a",6),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",5),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(14,"a",6),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.j41(17,"li",5),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.onMenuItemClick())}),t.j41(18,"a",6),t.EFF(19),t.nI1(20,"translate"),t.k0s()(),t.DNE(21,R,4,0,"ng-container",0),t.k0s()}if(2&b){let M;const L=t.XpG();t.Y8G("ngClass",L.inExpandableNavbar?"user-menu-mobile pb-2 mb-2 border-bottom":"user-menu-dropdown"),t.BMQ("aria-label",t.bMT(1,11,"nav.user-profile-menu-and-logout")),t.R7$(3),t.SpI(" ",L.dsoNameService.getName(t.bMT(4,13,L.user$)),""),t.R7$(4),t.JRh(null==(M=t.bMT(8,15,L.user$))?null:M.email),t.R7$(3),t.Y8G("routerLink",t.eq3(23,I,L.profileRoute)),t.R7$(),t.JRh(t.bMT(12,17,"nav.profile")),t.R7$(3),t.Y8G("routerLink",t.eq3(25,I,L.mydspaceRoute)),t.R7$(),t.JRh(t.bMT(16,19,"nav.mydspace")),t.R7$(3),t.Y8G("routerLink",t.eq3(27,I,L.subscriptionsRoute)),t.R7$(),t.JRh(t.bMT(20,21,"nav.subscriptions")),t.R7$(2),t.Y8G("ngIf",!L.inExpandableNavbar)}}let w=(()=>{class b{constructor(M,L,B){this.store=M,this.authService=L,this.dsoNameService=B,this.inExpandableNavbar=!1,this.changedRoute=new t.bkB,this.mydspaceRoute=y.MYDSPACE_ROUTE,this.profileRoute=(0,m.Th)(),this.subscriptionsRoute=(0,m.gf)()}ngOnInit(){this.loading$=this.store.pipe((0,e.Lt)(_.VV)),this.user$=this.authService.getAuthenticatedUserFromStore()}onMenuItemClick(){this.changedRoute.emit()}static{this.\u0275fac=function(L){return new(L||b)(t.rXU(e.il),t.rXU(p.uR),t.rXU(v.f))}}static{this.\u0275cmp=t.VBU({type:b,selectors:[["ds-base-user-menu"]],inputs:{inExpandableNavbar:"inExpandableNavbar"},outputs:{changedRoute:"changedRoute"},standalone:!0,features:[t.aNF],decls:4,vars:6,consts:[[4,"ngIf"],["class","user-menu","role","menu","id","user-menu-dropdown",3,"ngClass",4,"ngIf"],["role","menu","id","user-menu-dropdown",1,"user-menu",3,"ngClass"],["role","presentation",1,"ds-menu-item-wrapper","username-email-wrapper"],[1,"text-muted"],["role","presentation",1,"ds-menu-item-wrapper",3,"click"],["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"routerLink"],["aria-hidden","true",1,"dropdown-divider"],["role","presentation",1,"ds-menu-item-wrapper"],["data-test","log-out-component"]],template:function(L,B){1&L&&(t.DNE(0,D,1,0,"ds-loading",0),t.nI1(1,"async"),t.DNE(2,h,22,29,"ul",1),t.nI1(3,"async")),2&L&&(t.Y8G("ngIf",t.bMT(1,2,B.loading$)),t.R7$(2),t.Y8G("ngIf",!0!==t.bMT(3,4,B.loading$)))},dependencies:[i.bT,C.v,l.wQ,i.YU,l.Wk,O.y,i.Jj,f.h,f.D9],styles:["[_nghost-%COMP%]   ul.user-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper.username-email-wrapper[_ngcontent-%COMP%]{padding:var(--ds-user-menu-item-vertical-padding) var(--ds-user-menu-dropdown-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]{display:block;color:var(--ds-expandable-navbar-link-color)}[_nghost-%COMP%]   ul.user-menu.user-menu-dropdown[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]   a.ds-menu-item[_ngcontent-%COMP%]:hover{color:var(--ds-expandable-navbar-link-color-hover);background-color:var(--ds-user-menu-dropdown-link-background-hover)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item-wrapper[_ngcontent-%COMP%]{padding-top:var(--ds-user-menu-item-vertical-padding);padding-bottom:var(--ds-user-menu-item-vertical-padding)}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%], [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]{color:var(--ds-expandable-navbar-link-color)!important}[_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   ul.user-menu.user-menu-mobile[_ngcontent-%COMP%]   .ds-menu-toggler-wrapper[_ngcontent-%COMP%]:focus{color:var(--ds-expandable-navbar-link-background-hover)!important}"]})}}return b})()},22192:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BrowseByComponent:()=>V});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(84572),m=n(96354),_=(n(6238),n(22978)),v=n(56760),y=n(78448),C=n(50332),O=n(82777),I=n(79632),D=n(82394),R=n(67560),h=n(4420),w=n(31956),b=n(19798),P=n(18226);function M(X,J){if(1&X&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X){const q=t.XpG(2);t.R7$(),t.JRh(t.bMT(2,1,q.title))}}function L(X,J){if(1&X&&(t.j41(0,"div",6),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&X){const q=t.XpG(3);t.R7$(),t.Y8G("back",q.back)("buttonLabel",q.buttonLabel)}}function B(X,J){if(1&X){const q=t.RV6();t.j41(0,"div"),t.DNE(1,L,2,2,"div",4),t.nI1(2,"async"),t.j41(3,"ds-viewable-collection",5),t.bIt("prev",function(){t.eBV(q);const H=t.XpG(2);return t.Njj(H.goPrev())})("next",function(){t.eBV(q);const H=t.XpG(2);return t.Njj(H.goNext())}),t.k0s()()}if(2&X){const q=t.XpG().ngVar,Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngIf",t.bMT(2,6,Z.shouldDisplayResetButton$)),t.R7$(2),t.Y8G("config",Z.paginationConfig)("sortConfig",Z.sortConfig)("showPaginator",Z.showPaginator)("objects",q)}}function U(X,J){1&X&&(t.nrm(0,"ds-loading",8),t.nI1(1,"translate")),2&X&&t.FS9("message",t.bMT(1,1,"loading.browse-by"))}function $(X,J){1&X&&(t.nrm(0,"ds-error",8),t.nI1(1,"translate")),2&X&&t.FS9("message",t.bMT(1,1,"error.browse-by"))}function j(X,J){if(1&X&&(t.j41(0,"div",11),t.nrm(1,"ds-results-back-button",7),t.k0s()),2&X){const q=t.XpG(3);t.R7$(),t.Y8G("back",q.back)("buttonLabel",q.buttonLabel)}}function G(X,J){if(1&X&&(t.j41(0,"div"),t.DNE(1,j,2,2,"div",9),t.nI1(2,"async"),t.j41(3,"div",10),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&X){const q=t.XpG(2);t.R7$(),t.Y8G("ngIf",t.bMT(2,2,q.shouldDisplayResetButton$)),t.R7$(3),t.SpI(" ",t.bMT(5,4,"browse.empty")," ")}}function z(X,J){if(1&X&&(t.qex(0),t.DNE(1,M,3,3,"h1",1),t.nrm(2,"ds-starts-with-loader",2),t.DNE(3,B,4,8,"div",1)(4,U,2,3,"ds-loading",3)(5,$,2,3,"ds-error",3)(6,G,6,6,"div",1),t.bVm()),2&X){const q=J.ngVar,Z=t.XpG();t.R7$(),t.Y8G("ngIf",Z.displayTitle),t.R7$(),t.Y8G("paginationId",null==Z.paginationConfig?null:Z.paginationConfig.id)("startsWithOptions",Z.startsWithOptions)("type",Z.type),t.R7$(),t.Y8G("ngIf",(null==q?null:q.hasSucceeded)&&!(null!=q&&q.isLoading)&&(null==q||null==q.payload?null:q.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!q||(null==q?null:q.isLoading)),t.R7$(),t.Y8G("ngIf",null==q?null:q.hasFailed),t.R7$(),t.Y8G("ngIf",!(null!=q&&q.isLoading)&&0===(null==q||null==q.payload?null:q.payload.page.length))}}let V=(()=>{class X{constructor(q,Z,H,Y){this.injector=q,this.paginationService=Z,this.translateService=H,this.routeService=Y,this.viewMode=y.n.ListElement,this.displayTitle=!0,this.type=b.c.text,this.startsWithOptions=[],this.showPaginator=!0,this.hideGear=!1,this.prev=new t.bkB,this.next=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.previousPage$=new e.t("1"),this.buttonLabel=this.translateService.get("browse.back.all-results"),this.back=()=>{this.paginationService.updateRoute(this.paginationConfig.id,{page:+this.previousPage$.value>1?+this.previousPage$.value:1},{[this.paginationConfig.id+".return"]:null,value:null,startsWith:null})}}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}ngOnInit(){const q=this.routeService.getQueryParameterValue("startsWith"),Z=this.routeService.getQueryParameterValue("value");this.shouldDisplayResetButton$=(0,f.z)([q,Z]).pipe((0,m.T)(([H,Y])=>(0,O.a4)(H)||(0,O.a4)(Y)))}ngOnChanges(){this.sub&&this.sub.unsubscribe(),this.sub=this.routeService.getQueryParameterValue(this.paginationConfig.id+".return").subscribe(this.previousPage$)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(Z){return new(Z||X)(t.rXU(t.zZn),t.rXU(_.m),t.rXU(l.c$),t.rXU(v.v$))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-base-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"paginationId","startsWithOptions","type"],[3,"message",4,"ngIf"],["class","mb-2 reset",4,"ngIf"],[3,"prev","next","config","sortConfig","showPaginator","objects"],[1,"mb-2","reset"],[3,"back","buttonLabel"],[3,"message"],["class","d-inline-block mb-4 reset",4,"ngIf"],["role","alert",1,"alert","alert-info","w-100"],[1,"d-inline-block","mb-4","reset"]],template:function(Z,H){1&Z&&(t.DNE(0,z,7,8,"ng-container",0),t.nI1(1,"async")),2&Z&&t.Y8G("ngVar",t.bMT(1,1,H.objects$))},dependencies:[P.r,i.bT,h.U,R.h,D.v,I.A,i.Jj,l.h,l.D9,w.u],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"],data:{animation:[C.qG,C.Ws]}})}}return X})()},37958:(N,T,n)=>{"use strict";n.d(T,{U:()=>_});var i=n(54438),e=(n(6238),n(19798),n(8886));n(22192);const m=["*"];function p(v,y){}let _=(()=>{class v extends e.J{constructor(){super(...arguments),this.prev=new i.bkB,this.next=new i.bkB,this.pageSizeChange=new i.bkB,this.sortDirectionChange=new i.bkB,this.inAndOutputNames=["title","displayTitle","objects$","paginationConfig","sortConfig","type","startsWithOptions","showPaginator","hideGear","prev","next","pageSizeChange","sortDirectionChange"]}getComponentName(){return"BrowseByComponent"}importThemedComponent(C){return n(60939)(`./${C}/app/shared/browse-by/browse-by.component.ts`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22192))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=i.xGo(v)))(I||v)}})()}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-browse-by"]],inputs:{title:"title",displayTitle:"displayTitle",objects$:"objects$",paginationConfig:"paginationConfig",sortConfig:"sortConfig",type:"type",startsWithOptions:"startsWithOptions",showPaginator:"showPaginator",hideGear:"hideGear"},outputs:{prev:"prev",next:"next",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return v})()},60456:(N,T,n)=>{"use strict";n.d(T,{A:()=>t});var i=n(54438);let t=(()=>{class l{constructor(){this.isDisabled=!1}set dsBtnDisabled(f){this.isDisabled=!!f}get disabledClass(){return this.isDisabled}handleClick(f){this.isDisabled&&(f.preventDefault(),f.stopImmediatePropagation())}handleKeydown(f){this.isDisabled&&("Enter"===f.key||"Space"===f.key)&&(f.preventDefault(),f.stopImmediatePropagation())}static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsBtnDisabled",""]],hostVars:3,hostBindings:function(m,p){1&m&&i.bIt("click",function(v){return p.handleClick(v)})("keydown",function(v){return p.handleKeydown(v)}),2&m&&(i.BMQ("aria-disabled",p.isDisabled),i.AVh("disabled",p.disabledClass))},inputs:{dsBtnDisabled:"dsBtnDisabled"},standalone:!0})}}return l})()},14860:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CollectionDropdownComponent:()=>X});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(86820),m=n(84412),p=n(22806),_=n(7673),v=n(70152),y=n(23294),C=n(99172),O=n(25558),I=n(73028),D=n(96354),R=n(19852),h=n(96697),w=n(96526),b=n(6983),P=n(80183),M=n(82777),L=n(82394),B=n(67600);function U(J,q){if(1&J){const Z=t.RV6();t.j41(0,"div",6)(1,"input",7,0),t.nI1(3,"translate"),t.bIt("click",function(Y){return t.eBV(Z),t.Njj(Y.stopPropagation())}),t.k0s()()}if(2&J){const Z=t.XpG();t.R7$(),t.FS9("placeholder",t.bMT(3,2,"submission.sections.general.search-collection")),t.Y8G("formControl",Z.searchField)}}function $(J,q){1&J&&(t.j41(0,"li",8),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&J&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.general.no-collection")," "))}function j(J,q){if(1&J&&(t.j41(0,"div",14),t.EFF(1),t.nrm(2,"i",15),t.k0s()),2&J){const Z=q.$implicit;t.R7$(),t.SpI(" ",Z.name," ")}}function G(J,q){if(1&J){const Z=t.RV6();t.j41(0,"li",10),t.bIt("click",function(){const Y=t.eBV(Z).$implicit,Q=t.XpG(2);return t.Njj(Q.onSelect(Y))}),t.j41(1,"div",11),t.DNE(2,j,3,1,"div",12),t.j41(3,"div",13),t.EFF(4),t.k0s()()()}if(2&J){const Z=q.$implicit;t.FS9("title",Z.collection.name),t.R7$(2),t.Y8G("ngForOf",Z.communities),t.R7$(2),t.JRh(Z.collection.name)}}function z(J,q){if(1&J&&(t.qex(0),t.DNE(1,G,5,3,"li",9),t.bVm()),2&J){const Z=t.XpG();t.R7$(),t.Y8G("ngForOf",Z.searchListCollection)}}function V(J,q){1&J&&(t.j41(0,"li")(1,"button",16),t.nrm(2,"ds-loading",17),t.nI1(3,"translate"),t.k0s()()),2&J&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let X=(()=>{class J{constructor(Z,H,Y,Q){this.changeDetectorRef=Z,this.collectionDataService=H,this.el=Y,this.dsoNameService=Q,this.searchField=new l.hs,this.scrollableBottom=!1,this.scrollableTop=!1,this.subs=[],this.searchListCollection=[],this.selectionChange=new t.bkB,this.isLoading=new m.t(!1),this.searchComplete=new t.bkB,this.theOnlySelectable=new t.bkB}onMousewheel(Z){Z.wheelDelta>0&&this.scrollableTop&&Z.preventDefault(),Z.wheelDelta<0&&this.scrollableBottom&&Z.preventDefault()}ngOnInit(){this.isLoading.next(!1),this.subs.push(this.searchField.valueChanges.pipe((0,v.B)(500),(0,y.F)(),(0,C.Z)("")).subscribe(Z=>{(0,M.a4)(Z)&&Z!==this.currentQuery&&(this.resetPagination(),this.currentQuery=Z,this.populateCollectionList(this.currentQuery,this.currentPage))})),setTimeout(()=>this.el.nativeElement.querySelector("input").focus(),0)}onScroll(Z){this.scrollableBottom=Z.target.scrollTop+Z.target.clientHeight===Z.target.scrollHeight,this.scrollableTop=0===Z.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateCollectionList(this.currentQuery,++this.currentPage)}onSelect(Z){this.isLoading.next(!0),this.selectionChange.emit(Z)}populateCollectionList(Z,H){this.isLoading.next(!0);const Y={elementsPerPage:10,currentPage:H};let Q;Q=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(Z,this.entityType,Y,!0,(0,B.s)("parentCommunity")):this.collectionDataService.getAuthorizedCollection(Z,Y,!0,!0,(0,B.s)("parentCommunity")),this.searchListCollection$=Q.pipe((0,P.qD)(),(0,O.n)(ie=>(this.searchComplete.emit(),ie.hasSucceeded&&ie.payload.totalElements>0?(this.searchListCollection.length>=ie.payload.totalElements&&(this.hasNextPage=!1),this.emitSelectionEvents(ie),(0,p.H)(ie.payload.page).pipe((0,I.Z)(oe=>oe.parentCommunity.pipe((0,P.ak)(),(0,D.T)(pe=>({communities:[{id:pe.id,name:this.dsoNameService.getName(pe)}],collection:{id:oe.id,uuid:oe.id,name:this.dsoNameService.getName(oe)}})))),(0,R.T)((oe,pe)=>[...oe,pe],[]))):(this.hasNextPage=!1,(0,_.of)([]))))),this.subs.push(this.searchListCollection$.subscribe(ie=>{this.searchListCollection.push(...ie),this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(Z=>(0,M.a4)(Z)).forEach(Z=>Z.unsubscribe())}reset(){this.searchField.setValue("")}resetPagination(){this.currentPage=1,this.currentQuery="",this.hasNextPage=!0,this.searchListCollection=[]}hideShowLoader(Z){this.isLoading.next(Z)}emitSelectionEvents(Z){if(1===Z.payload.totalElements){const H=Z.payload.page[0];Z.payload.page[0].parentCommunity.pipe((0,P.ak)(),(0,h.s)(1)).subscribe(Y=>{this.theOnlySelectable.emit({communities:[{id:Y.id,name:this.dsoNameService.getName(Y),uuid:Y.id}],collection:{id:H.id,uuid:H.id,name:this.dsoNameService.getName(H)}})})}}static{this.\u0275fac=function(H){return new(H||J)(t.rXU(t.gRc),t.rXU(b.CollectionDataService),t.rXU(t.aKT),t.rXU(w.f))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-base-collection-dropdown"]],hostBindings:function(H,Y){1&H&&t.bIt("mousewheel",function(ie){return Y.onMousewheel(ie)})},inputs:{entityType:"entityType"},outputs:{selectionChange:"selectionChange",searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable"},standalone:!0,features:[t.aNF],decls:8,vars:13,consts:[["searchFieldEl",""],["class","form-group w-100 pr-2 pl-2 my-2",4,"ngIf"],[1,"dropdown-divider","m-0"],["role","menu","infiniteScroll","",1,"scrollable-menu","p-0","m-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],["class","dropdown-item disabled","role","menuitem",4,"ngIf"],[4,"ngIf"],[1,"form-group","w-100","pr-2","pl-2","my-2"],["type","search",1,"form-control","w-100",3,"click","placeholder","formControl"],["role","menuitem",1,"dropdown-item","disabled"],["class","dropdown-item collection-item","role","menuitem",3,"title","click",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","collection-item",3,"click","title"],[1,"list-unstyled","mb-0"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],[1,"list-item","text-truncate","text-secondary"],["aria-hidden","true",1,"fa","fa-level-down"],[1,"dropdown-item","disabled"],[3,"message"]],template:function(H,Y){1&H&&(t.DNE(0,U,4,4,"div",1),t.nrm(1,"div",2),t.j41(2,"ul",3),t.bIt("scroll",function(ie){return Y.onScroll(ie)})("scrolled",function(){return Y.onScrollDown()}),t.DNE(3,$,3,3,"li",4),t.nI1(4,"async"),t.DNE(5,z,2,1,"ng-container",5)(6,V,4,3,"li",5),t.nI1(7,"async"),t.k0s()),2&H&&(t.Y8G("ngIf",Y.searchField),t.R7$(2),t.Y8G("infiniteScrollDistance",1.5)("infiniteScrollThrottle",0)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==Y.searchListCollection?null:Y.searchListCollection.length)&&!0!==t.bMT(4,9,Y.isLoading)),t.R7$(2),t.Y8G("ngIf",(null==Y.searchListCollection?null:Y.searchListCollection.length)>0),t.R7$(),t.Y8G("ngIf",t.bMT(7,11,Y.isLoading)))},dependencies:[i.bT,l.YN,l.me,l.BC,l.X1,l.l_,f.eO,f.DP,i.pM,L.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type), .dropdown-divider[_ngcontent-%COMP%]{border-top:none;border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#collectionControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return J})()},90934:(N,T,n)=>{"use strict";n.d(T,{m:()=>m});var i=n(54438),t=n(8886);n(14860);const e=["*"];function f(p,_){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.searchComplete=new i.bkB,this.theOnlySelectable=new i.bkB,this.selectionChange=new i.bkB,this.inAndOutputNames=["entityType","searchComplete","theOnlySelectable","selectionChange"]}getComponentName(){return"CollectionDropdownComponent"}importThemedComponent(v){return n(80882)(`./${v}/app/shared/collection-dropdown/collection-dropdown.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14860))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=i.xGo(p)))(C||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-collection-dropdown"]],inputs:{entityType:"entityType"},outputs:{searchComplete:"searchComplete",theOnlySelectable:"theOnlySelectable",selectionChange:"selectionChange"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},9284:(N,T,n)=>{"use strict";n.d(T,{M:()=>p});var i=n(60177),t=n(54438),l=n(41780),e=n(52149);const f=_=>({dsoName:_});function m(_,v){if(1&_&&t.nrm(0,"i"),2&_){const y=t.XpG();t.HbH(y.confirmIcon)}}let p=(()=>{class _{constructor(y){this.activeModal=y,this.brandColor="primary",this.response=new t.bkB}confirmPressed(){this.response.emit(!0),this.close()}cancelPressed(){this.response.emit(!1),this.close()}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||_)(t.rXU(e.Lw))}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["ds-confirmation-modal"]],inputs:{headerLabel:"headerLabel",infoLabel:"infoLabel",cancelLabel:"cancelLabel",confirmLabel:"confirmLabel",confirmIcon:"confirmIcon",brandColor:"brandColor",name:"name"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:20,vars:28,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Cancel",1,"cancel","btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],["type","button","aria-label","Confirm","ngbAutofocus","",3,"click"],[3,"class",4,"ngIf"]],template:function(C,O){1&C&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return O.close()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"p"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.j41(11,"div",4)(12,"button",5),t.bIt("click",function(){return O.cancelPressed()}),t.nrm(13,"i",6),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"button",7),t.bIt("click",function(){return O.confirmPressed()}),t.DNE(17,m,1,3,"i",8),t.EFF(18),t.nI1(19,"translate"),t.k0s()()()),2&C&&(t.R7$(2),t.SpI("",t.i5U(3,8,O.headerLabel,t.eq3(20,f,O.name))," "),t.R7$(7),t.JRh(t.i5U(10,11,O.infoLabel,t.eq3(22,f,O.name))),t.R7$(5),t.SpI(" ",t.i5U(15,14,O.cancelLabel,t.eq3(24,f,O.name))," "),t.R7$(2),t.ZvI("confirm btn btn-",O.brandColor,""),t.R7$(),t.Y8G("ngIf",O.confirmIcon),t.R7$(),t.SpI(" ",t.i5U(19,17,O.confirmLabel,t.eq3(26,f,O.name))," "))},dependencies:[i.bT,l.h,l.D9],encapsulation:2})}}return _})()},55116:(N,T,n)=>{"use strict";n.d(T,{C:()=>v,Ed:()=>p,JD:()=>_,Ln:()=>l,Xd:()=>f,eE:()=>e,y5:()=>t});var i=n(91e3);const t={CONTEXT_HELP_TOGGLE_ICONS:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_ICONS"),CONTEXT_HELP_ADD:(0,i.N)("dspace/context-help/CONTEXT_HELP_ADD"),CONTEXT_HELP_REMOVE:(0,i.N)("dspace/context-help/CONTEXT_HELP_REMOVE"),CONTEXT_HELP_TOGGLE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_TOGGLE_TOOLTIP"),CONTEXT_HELP_SHOW_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_SHOW_TOOLTIP"),CONTEXT_HELP_HIDE_TOOLTIP:(0,i.N)("dspace/context-help/CONTEXT_HELP_HIDE_TOOLTIP")};class l{constructor(){this.type=t.CONTEXT_HELP_TOGGLE_ICONS}}class e{constructor(C){this.type=t.CONTEXT_HELP_ADD,this.model=C}}class f{constructor(C){this.type=t.CONTEXT_HELP_REMOVE,this.id=C}}class m{constructor(C){this.id=C}}class p extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_TOGGLE_TOOLTIP}}class _ extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_SHOW_TOOLTIP}}class v extends m{constructor(){super(...arguments),this.type=t.CONTEXT_HELP_HIDE_TOOLTIP}}},48674:(N,T,n)=>{"use strict";n.d(T,{G:()=>L});var i=n(40188),t=n(60177),l=n(52149),e=n(84412),f=n(84572),m=n(23294),p=n(73028),_=n(96354),v=n(82777),y=n(54438),C=n(41780);const O=["tooltip"],I=(B,U)=>({"ds-context-help-icon fas fa-question-circle shadow-sm":!0,"ds-context-help-icon-right":B,"ds-context-help-icon-left":U});function D(B,U){if(1&B&&(y.qex(0),y.j41(1,"a",7),y.EFF(2),y.k0s(),y.bVm()),2&B){const $=y.XpG().$implicit;y.R7$(),y.FS9("href",$.href,y.B4B),y.R7$(),y.JRh($.text)}}function R(B,U){if(1&B&&(y.qex(0),y.EFF(1),y.bVm()),2&B){const $=y.XpG().$implicit;y.R7$(),y.SpI(" ",$," ")}}function h(B,U){if(1&B&&(y.qex(0),y.DNE(1,D,3,2,"ng-container",6)(2,R,2,1,"ng-container",6),y.bVm()),2&B){const $=U.$implicit;y.R7$(),y.Y8G("ngIf",$.href),y.R7$(),y.Y8G("ngIf",void 0===$.href)}}function w(B,U){if(1&B&&(y.j41(0,"div",4),y.DNE(1,h,3,2,"ng-container",5),y.nI1(2,"async"),y.k0s()),2&B){const $=y.XpG();y.R7$(),y.Y8G("ngForOf",y.bMT(2,1,$.parsedContent$))}}function b(B,U){if(1&B){const $=y.RV6();y.j41(0,"i",8,1),y.bIt("click",function(){y.eBV($);const G=y.XpG();return y.Njj(G.onClick())}),y.k0s()}if(2&B){const $=y.XpG(),j=y.sdS(1);y.Y8G("ngClass",y.l_i(3,I,"left"!==$.iconPlacement,"left"===$.iconPlacement))("ngbTooltip",j)("placement",$.tooltipPlacement)}}function P(B,U){1&B&&y.eu8(0)}let M=(()=>{class B{set dontParseLinks($){this.dontParseLinks$.next($)}set content($){this.content$.next($)}constructor($,j){this.translateService=$,this.contextHelpService=j,this.tooltipPlacement=[],this.iconPlacement="left",this.dontParseLinks$=new e.t(!1),this.content$=new e.t(void 0),this.subs=[]}ngOnInit(){this.parsedContent$=(0,f.z)([this.content$.pipe((0,m.F)(),(0,p.Z)($=>this.translateService.get($))),this.dontParseLinks$.pipe((0,m.F)())]).pipe((0,_.T)(([$,j])=>j?[$]:this.parseLinks($))),this.shouldShowIcon$=this.contextHelpService.shouldShowIcons$()}set setTooltip($){this.tooltip=$,this.clearSubs(),void 0!==this.tooltip&&(this.subs=[this.contextHelpService.getContextHelp$(this.id).pipe((0,v.Az)()).subscribe(j=>{j.isTooltipVisible&&!this.tooltip.isOpen()?this.tooltip.open():!j.isTooltipVisible&&this.tooltip.isOpen()&&this.tooltip.close()}),this.tooltip.shown.subscribe(()=>{this.contextHelpService.showTooltip(this.id)}),this.tooltip.hidden.subscribe(()=>{this.contextHelpService.hideTooltip(this.id)})])}ngOnDestroy(){this.clearSubs()}onClick(){this.contextHelpService.toggleTooltip(this.id)}parseLinks($){const G=/^\[([^\]]*)\]\(([^\)]*)\)$/;return $.match(/[^\[]+|\[([^\]]*)\]\(([^\)]*)\)/g).map(z=>{const V=z.match(G);return null===V?z:{href:V[2],text:V[1]}})}clearSubs(){this.subs.forEach($=>$.unsubscribe()),this.subs=[]}static{this.\u0275fac=function(j){return new(j||B)(y.rXU(C.c$),y.rXU(i.O))}}static{this.\u0275cmp=y.VBU({type:B,selectors:[["ds-context-help-wrapper"]],viewQuery:function(j,G){if(1&j&&y.GBs(O,5),2&j){let z;y.mGM(z=y.lsd())&&(G.setTooltip=z.first)}},inputs:{templateRef:"templateRef",id:"id",tooltipPlacement:"tooltipPlacement",iconPlacement:"iconPlacement",dontParseLinks:"dontParseLinks",content:"content"},standalone:!0,features:[y.aNF],decls:5,vars:4,consts:[["help",""],["tooltip","ngbTooltip"],["autoClose","outside","triggers","manual","container","body",3,"ngClass","ngbTooltip","placement","click",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"preserve-line-breaks","ds-context-help-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank","rel","noopener noreferrer",3,"href"],["autoClose","outside","triggers","manual","container","body",3,"click","ngClass","ngbTooltip","placement"]],template:function(j,G){1&j&&(y.DNE(0,w,3,3,"ng-template",null,0,y.C5r)(2,b,2,6,"i",2),y.nI1(3,"async"),y.DNE(4,P,1,0,"ng-container",3)),2&j&&(y.R7$(2),y.Y8G("ngIf",y.bMT(3,2,G.shouldShowIcon$)),y.R7$(2),y.Y8G("ngTemplateOutlet",G.templateRef))},dependencies:[t.pM,t.bT,t.YU,l.n8,l.md,t.T3,t.Jj],styles:["[_nghost-%COMP%]{position:relative}.ds-context-help-icon[_ngcontent-%COMP%]{position:absolute;top:0;cursor:pointer;color:var(--bs-info);background-color:var(--bs-white);font-size:16px;line-height:1;border-radius:50%}.ds-context-help-icon-left[_ngcontent-%COMP%]{left:var(--ds-context-x-offset)}.ds-context-help-icon-right[_ngcontent-%COMP%]{right:calc(-1 * var(--ds-context-help-icon-size))}  .tooltip-inner{width:var(--ds-context-help-tooltip-width);max-width:var(--ds-context-help-tooltip-width)}  .tooltip-inner a{color:var(--ds-context-help-tooltip-link-color);text-decoration:underline}"]})}}return B})(),L=(()=>{class B{constructor($,j,G){this.templateRef=$,this.viewContainerRef=j,this.contextHelpService=G,this.mostRecentId=void 0}ngOnChanges(){this.clearMostRecentId(),this.mostRecentId=this.dsContextHelp.id,this.contextHelpService.add({id:this.dsContextHelp.id,isTooltipVisible:!1}),void 0===this.wrapper&&(this.wrapper=this.viewContainerRef.createComponent(M)),this.wrapper.setInput("templateRef",this.templateRef),this.wrapper.setInput("content",this.dsContextHelp.content),this.wrapper.setInput("id",this.dsContextHelp.id),this.wrapper.setInput("tooltipPlacement",this.dsContextHelp.tooltipPlacement),this.wrapper.setInput("iconPlacement",this.dsContextHelp.iconPlacement)}ngOnDestroy(){this.clearMostRecentId(),(0,v.a4)(this.wrapper)&&(this.wrapper.destroy(),this.wrapper=void 0)}clearMostRecentId(){void 0!==this.mostRecentId&&this.contextHelpService.remove(this.mostRecentId)}static{this.\u0275fac=function(j){return new(j||B)(y.rXU(y.C4Q),y.rXU(y.c1b),y.rXU(i.O))}}static{this.\u0275dir=y.FsC({type:B,selectors:[["","dsContextHelp",""]],inputs:{dsContextHelp:"dsContextHelp"},standalone:!0,features:[y.OA$]})}}return B})()},40188:(N,T,n)=>{"use strict";n.d(T,{O:()=>v});var i=n(25499),t=n(96354),l=n(55116),e=n(54438);const f=(0,i.UX)("contextHelp"),m=(0,i.Mz)(f,y=>y.allIconsVisible),_=(0,i.Mz)(f,y=>y.models);let v=(()=>{class y{constructor(O){this.store=O}shouldShowIcons$(){return this.store.pipe((0,i.Lt)(m))}getContextHelp$(O){return this.store.pipe((0,i.Lt)((y=>(0,i.Mz)(f,C=>C.models[y]))(O)))}tooltipCount$(){return this.store.pipe((0,i.Lt)(_)).pipe((0,t.T)(O=>Object.keys(O).length))}toggleIcons(){this.store.dispatch(new l.Ln)}add(O){this.store.dispatch(new l.eE(O))}remove(O){this.store.dispatch(new l.Xd(O))}toggleTooltip(O){this.store.dispatch(new l.Ed(O))}showTooltip(O){this.store.dispatch(new l.JD(O))}hideTooltip(O){this.store.dispatch(new l.C(O))}static{this.\u0275fac=function(I){return new(I||y)(e.KVO(i.il))}}static{this.\u0275prov=e.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},80566:(N,T,n)=>{"use strict";n.d(T,{$:()=>t});var i=n(54438);let t=(()=>{class l{static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275prov=i.jDH({token:l,factory:l.\u0275fac})}}return l})()},12866:(N,T,n)=>{"use strict";function i(b){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(b)}function t(b,P){if(P.length<b)throw new TypeError(b+" argument"+(b>1?"s":"")+" required, but only "+P.length+" present")}n.d(T,{Sd:()=>C,$T:()=>R,z5:()=>y,vd:()=>h,PR:()=>I,zX:()=>w});var m=n(56106),p=n(83278),_=n.n(p),v=n(82777);function y(b){return _()(b)&&b.hasOwnProperty("day")&&b.hasOwnProperty("month")&&b.hasOwnProperty("year")}function C(b){const P=b instanceof Date?b:O("string"==typeof b?I(b):b);return(0,m.formatInTimeZone)(P,"UTC","yyyy-MM-dd'T'HH:mm:ss'Z'")}function O(b){return new Date(Date.UTC(b.year,b.month-1,b.day))}function I(b){return function D(b){return(0,v.Tn)(b)&&(b=new Date),{year:b.getUTCFullYear(),month:b.getUTCMonth()+1,day:b.getUTCDate()}}(new Date(b))}function R(b){const P=b instanceof Date?b:O(b);return(0,m.formatInTimeZone)(P,"UTC","yyyy-MM-dd")}function h(b){return!(0,v.Tn)(b)&&function f(b){if(t(1,arguments),!function l(b){return t(1,arguments),b instanceof Date||"object"===i(b)&&"[object Date]"===Object.prototype.toString.call(b)}(b)&&"number"!=typeof b)return!1;var P=function e(b){t(1,arguments);var P=Object.prototype.toString.call(b);return b instanceof Date||"object"===i(b)&&"[object Date]"===P?new Date(b.getTime()):"number"==typeof b||"[object Number]"===P?new Date(b):(("string"==typeof b||"[object String]"===P)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(b);return!isNaN(Number(P))}(new Date(b))}function w(b){return h(b)?new Date(b).getUTCFullYear():null}},17807:(N,T,n)=>{"use strict";n.d(T,{T:()=>C});var i=n(60177),t=n(65007),l=n(30458),e=n(39548),f=n(19340),m=n(82522),p=n(54438),_=n(7901);function v(O,I){1&O&&p.eu8(0)}function y(O,I){if(1&O&&(p.j41(0,"div",2),p.DNE(1,v,1,0,"ng-container",3),p.nI1(2,"async"),p.nI1(3,"async"),p.k0s()),2&O){let D,R;const h=I.$implicit,w=p.XpG();p.R7$(),p.Y8G("ngComponentOutlet",null==(D=p.bMT(2,2,w.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(R=p.bMT(3,4,w.sectionMap$).get(h.id))?null:R.injector)}}let C=(()=>{class O extends l.Z{constructor(D,R,h,w,b){super(D,R,h,w,b),this.menuService=D,this.injector=R,this.authorizationService=h,this.route=w,this.themeService=b,this.menuID=f.D.DSO_EDIT}static{this.\u0275fac=function(R){return new(R||O)(p.rXU(e.$),p.rXU(p.zZn),p.rXU(t.AuthorizationDataService),p.rXU(_.nX),p.rXU(m.Fs))}}static{this.\u0275cmp=p.VBU({type:O,selectors:[["ds-dso-edit-menu"]],standalone:!0,features:[p.Vt3,p.aNF],decls:3,vars:3,consts:[[1,"dso-edit-menu","d-flex"],["class","ml-1",4,"ngFor","ngForOf"],[1,"ml-1"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,h){1&R&&(p.j41(0,"div",0),p.DNE(1,y,4,6,"div",1),p.nI1(2,"async"),p.k0s()),2&R&&(p.R7$(),p.Y8G("ngForOf",p.bMT(2,1,h.sections)))},dependencies:[i.pM,i.OI,i.Jj]})}}return O})()},76052:(N,T,n)=>{"use strict";n.d(T,{e:()=>z});var i=n(60177),t=n(89417),l=n(41780),e=n(86820),f=n(96354),m=n(96526),p=n(6983),_=n(96820),v=n(1716),y=n(80183),C=n(78655),O=n(82777),I=n(59458),D=n(82394),R=n(39806),h=n(77537),w=n(17191),b=n(67600),P=n(73183),M=n(54438);const L=V=>({type:V}),B=V=>({"bg-primary":V});function U(V,X){if(1&V&&(M.j41(0,"button",10),M.EFF(1),M.nI1(2,"translate"),M.k0s()),2&V){const J=M.XpG(2);M.R7$(),M.SpI(" ",M.i5U(2,1,"dso-selector.no-results",M.eq3(4,L,J.typesString))," ")}}function $(V,X){if(1&V){const J=M.RV6();M.j41(0,"button",11,0),M.bIt("click",function(){const Z=M.eBV(J).$implicit,H=M.XpG(2);return M.Njj(H.onClick(Z))}),M.nrm(2,"ds-listable-object-component-loader",12),M.k0s()}if(2&V){const J=X.$implicit,q=M.XpG(2);M.FS9("title",q.getName(J)),M.Y8G("ngClass",M.eq3(6,B,J.id===q.currentDSOId)),M.R7$(2),M.Y8G("object",J)("viewMode",q.viewMode)("linkType",q.linkTypes.None)("context",q.getContext(J.id))}}function j(V,X){if(1&V&&(M.qex(0),M.DNE(1,U,3,6,"button",8),M.nI1(2,"async"),M.DNE(3,$,3,8,"button",9),M.nI1(4,"async"),M.bVm()),2&V){const J=M.XpG();M.R7$(),M.Y8G("ngIf",0===M.bMT(2,2,J.listEntries$).length),M.R7$(2),M.Y8G("ngForOf",M.bMT(4,4,J.listEntries$))}}function G(V,X){1&V&&(M.j41(0,"button",13),M.nI1(1,"translate"),M.nrm(2,"ds-loading",14),M.k0s()),2&V&&(M.FS9("title",M.bMT(1,2,"loading.default")),M.R7$(2),M.Y8G("showMessage",!1))}let z=(()=>{class V extends P.x{constructor(J,q,Z,H,Y){super(J,Z,H,Y),this.searchService=J,this.collectionDataService=q,this.notifcationsService=Z,this.translate=H,this.dsoNameService=Y}getCurrentDSOQuery(){return this.currentDSOId}search(J,q,Z=!0){let H=null;const Y={currentPage:q,elementsPerPage:this.defaultPagination.pageSize};return H=this.entityType?this.collectionDataService.getAuthorizedCollectionByEntityType(J,this.entityType,Y):this.collectionDataService.getAuthorizedCollection(J,Y,Z,!1,(0,b.s)("parentCommunity")),H.pipe((0,y.qD)(),(0,f.T)(Q=>Object.assign(new v.j(null,null,null,null),Q,{payload:(0,O.a4)(Q.payload)?(0,_.g)(Q.payload.pageInfo,Q.payload.page.map(ie=>Object.assign(new h.A,{indexableObject:ie}))):null})))}static{this.\u0275fac=function(q){return new(q||V)(M.rXU(C.S),M.rXU(p.CollectionDataService),M.rXU(R.I),M.rXU(l.c$),M.rXU(m.f))}}static{this.\u0275cmp=M.VBU({type:V,selectors:[["ds-authorized-collection-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[M.Vt3,M.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(q,Z){1&q&&(M.j41(0,"div",1)(1,"input",2),M.nI1(2,"translate"),M.nI1(3,"translate"),M.bIt("click",function(Y){return Y.stopPropagation()})("keyup.enter",function(){return Z.selectSingleResult()}),M.k0s()(),M.nrm(4,"div",3),M.j41(5,"div",4)(6,"div",5),M.bIt("scrolled",function(){return Z.onScrollDown()}),M.DNE(7,j,5,6,"ng-container",6),M.nI1(8,"async"),M.DNE(9,G,3,4,"button",7),M.k0s()()),2&q&&(M.R7$(),M.FS9("placeholder",M.i5U(2,11,"dso-selector.placeholder",M.eq3(19,L,Z.typesString))),M.Y8G("formControl",Z.input),M.BMQ("aria-label",M.i5U(3,14,"dso-selector.placeholder",M.eq3(21,L,Z.typesString))),M.R7$(4),M.Mz_("id","scrollable-menu-dso-selector-",Z.randomSeed,""),M.R7$(),M.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+Z.randomSeed)("fromRoot",!0),M.R7$(),M.Y8G("ngIf",M.bMT(8,17,Z.listEntries$)),M.R7$(2),M.Y8G("ngIf",Z.loading))},dependencies:[t.YN,t.me,t.BC,t.X1,t.l_,e.eO,e.DP,i.bT,i.pM,I.k,i.YU,w.v,D.v,i.Jj,l.h,l.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return V})()},73183:(N,T,n)=>{"use strict";n.d(T,{x:()=>pe});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(86820),m=n(84412),p=n(7673),_=n(84572),v=n(70152),y=n(99172),C=n(88141),O=n(25558),I=n(96354),D=n(96526),h=(n(6238),n(96820)),w=n(26292),b=n(80183),P=n(78655),M=n(78448),L=n(82777),B=n(59458),U=n(82394),$=n(3050),j=n(39806),G=n(7581),z=n(17191),V=n(51805),X=n(83851),J=n(33550);const q=["listEntryElement"],Z=ne=>({type:ne}),H=ne=>({"bg-primary":ne});function Y(ne,re){if(1&ne&&(t.j41(0,"button",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&ne){const Ce=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(2,1,"dso-selector.no-results",t.eq3(4,Z,Ce.typesString))," ")}}function Q(ne,re){if(1&ne){const Ce=t.RV6();t.j41(0,"button",11,0),t.bIt("click",function(){const ue=t.eBV(Ce).$implicit,ae=t.XpG(2);return t.Njj(ae.onClick(ue))}),t.nrm(2,"ds-listable-object-component-loader",12),t.k0s()}if(2&ne){const Ce=re.$implicit,Ee=t.XpG(2);t.FS9("title",Ee.getName(Ce)),t.Y8G("ngClass",t.eq3(6,H,Ce.id===Ee.currentDSOId)),t.R7$(2),t.Y8G("object",Ce)("viewMode",Ee.viewMode)("linkType",Ee.linkTypes.None)("context",Ee.getContext(Ce.id))}}function ie(ne,re){if(1&ne&&(t.qex(0),t.DNE(1,Y,3,6,"button",8),t.nI1(2,"async"),t.DNE(3,Q,3,8,"button",9),t.nI1(4,"async"),t.bVm()),2&ne){const Ce=t.XpG();t.R7$(),t.Y8G("ngIf",0===t.bMT(2,2,Ce.listEntries$).length),t.R7$(2),t.Y8G("ngForOf",t.bMT(4,4,Ce.listEntries$))}}function oe(ne,re){1&ne&&(t.j41(0,"button",13),t.nI1(1,"translate"),t.nrm(2,"ds-loading",14),t.k0s()),2&ne&&(t.FS9("title",t.bMT(1,2,"loading.default")),t.R7$(2),t.Y8G("showMessage",!1))}let pe=(()=>{class ne{constructor(Ce,Ee,ue,ae){this.searchService=Ce,this.notifcationsService=Ee,this.translate=ue,this.dsoNameService=ae,this.viewMode=M.n.ListElement,this.searchBoxId=null,this.onSelect=new t.bkB,this.input=new l.hs,this.defaultPagination={id:"dso-selector",currentPage:1,pageSize:10},this.listEntries$=new m.t(null),this.currentPage$=new m.t(1),this.hasNextPage=!1,this.loading=!1,this.debounceTime=500,this.linkTypes=G.n,this.subs=[],this.randomSeed=Math.random().toString(36).substring(2,6)}ngOnInit(){let Ce;this.typesString=this.types.map(Ee=>this.translate.instant(`dso-selector.placeholder.type.${Ee.toString().toLowerCase()}`)).join(", "),Ce=(0,L.hj)(this.currentDSOId)?this.search(this.getCurrentDSOQuery(),1).pipe((0,b.ak)()):(0,p.of)((0,h.g)(void 0,[])),this.subs.push((0,_.z)(Ce,this.input.valueChanges.pipe((0,v.B)(this.debounceTime),(0,y.Z)(""),(0,C.M)(()=>this.currentPage$.next(1))),this.currentPage$).pipe((0,O.n)(([Ee,ue,ae])=>(this.loading=!0,1===ae&&this.listEntries$.next(null),this.search(ue,ae).pipe((0,I.T)(ye=>(ye.hasSucceeded?ye.payload.page=[...(0,L.Im)(ue)&&1===ae?Ee.page:[],...ye.payload.page.filter(De=>(0,L.hj)(ue)||De.indexableObject.id!==this.currentDSOId)]:ye.hasFailed&&this.notifcationsService.error(this.translate.instant("dso-selector.error.title",{type:this.typesString}),ye.errorMessage),ye)))))).subscribe(Ee=>{this.updateList(Ee)}))}updateList(Ce){this.loading=!1;const Ee=this.listEntries$.getValue();Ce.hasSucceeded?((0,L.Tn)(Ee)?this.listEntries$.next(Ce.payload.page):this.listEntries$.next([...Ee,...Ce.payload.page]),this.hasNextPage=Ce.payload.totalElements>this.listEntries$.getValue().length):(this.listEntries$.next([...(0,L.Tn)(Ee)?[]:this.listEntries$.getValue(),new V.t($._.Error,"dso-selector.results-could-not-be-retrieved",X.t.value)]),this.hasNextPage=!1)}getCurrentDSOQuery(){return`search.resourceid:${this.currentDSOId}`}search(Ce,Ee,ue=!0){const ae=Ce?null:this.sort;return this.searchService.search(new J.C({query:Ce,dsoTypes:this.types,pagination:Object.assign({},this.defaultPagination,{currentPage:Ee}),sort:ae}),null,ue).pipe((0,b.qD)())}onScrollDown(){this.hasNextPage&&!this.loading&&this.currentPage$.next(this.currentPage$.value+1)}selectSingleResult(){this.listElements.length>0&&this.listElements.first.nativeElement.click()}getContext(Ce){return Ce===this.currentDSOId?w.o.SideBarSearchModalCurrent:w.o.SideBarSearchModal}ngOnDestroy(){this.subs.filter(Ce=>(0,L.a4)(Ce)).forEach(Ce=>Ce.unsubscribe())}onClick(Ce){(0,L.a4)(Ce.indexableObject)?this.onSelect.emit(Ce.indexableObject):(this.listEntries$.value.pop(),this.hasNextPage=!0,this.search(this.input.value?this.input.value:"",this.currentPage$.value,!1).pipe((0,b.qD)()).subscribe(Ee=>{this.updateList(Ee)}))}getName(Ce){return(0,L.a4)(Ce.indexableObject)?this.dsoNameService.getName(Ce.indexableObject):null}static{this.\u0275fac=function(Ee){return new(Ee||ne)(t.rXU(P.S),t.rXU(j.I),t.rXU(e.c$),t.rXU(D.f))}}static{this.\u0275cmp=t.VBU({type:ne,selectors:[["ds-dso-selector"]],viewQuery:function(Ee,ue){if(1&Ee&&t.GBs(q,5),2&Ee){let ae;t.mGM(ae=t.lsd())&&(ue.listElements=ae)}},inputs:{currentDSOId:"currentDSOId",types:"types",sort:"sort",searchBoxId:"searchBoxId"},outputs:{onSelect:"onSelect"},standalone:!0,features:[t.aNF],decls:10,vars:23,consts:[["listEntryElement",""],[1,"form-group","w-100","pr-2","pl-2"],["type","search","ngbAutofocus","",1,"form-control",3,"click","keyup.enter","placeholder","formControl"],[1,"dropdown-divider"],[1,"scrollable-menu","list-group",3,"id"],["infiniteScroll","",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot"],[4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry",3,"title",4,"ngIf"],["class","list-group-item list-group-item-action border-0 disabled",4,"ngIf"],["class","list-group-item list-group-item-action border-0 list-entry","dsHoverClass","ds-hover",3,"ngClass","title","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action","border-0","disabled"],["dsHoverClass","ds-hover",1,"list-group-item","list-group-item-action","border-0","list-entry",3,"click","ngClass","title"],[3,"object","viewMode","linkType","context"],[1,"list-group-item","list-group-item-action","border-0","list-entry",3,"title"],[3,"showMessage"]],template:function(Ee,ue){1&Ee&&(t.j41(0,"div",1)(1,"input",2),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(ye){return ye.stopPropagation()})("keyup.enter",function(){return ue.selectSingleResult()}),t.k0s()(),t.nrm(4,"div",3),t.j41(5,"div",4)(6,"div",5),t.bIt("scrolled",function(){return ue.onScrollDown()}),t.DNE(7,ie,5,6,"ng-container",6),t.nI1(8,"async"),t.DNE(9,oe,3,4,"button",7),t.k0s()()),2&Ee&&(t.R7$(),t.FS9("placeholder",t.i5U(2,11,"dso-selector.placeholder",t.eq3(19,Z,ue.typesString))),t.Y8G("formControl",ue.input),t.BMQ("aria-label",t.i5U(3,14,"dso-selector.placeholder",t.eq3(21,Z,ue.typesString))),t.R7$(4),t.Mz_("id","scrollable-menu-dso-selector-",ue.randomSeed,""),t.R7$(),t.Y8G("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("infiniteScrollContainer","#scrollable-menu-dso-selector-"+ue.randomSeed)("fromRoot",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,17,ue.listEntries$)),t.R7$(2),t.Y8G("ngIf",ue.loading))},dependencies:[l.YN,l.me,l.BC,l.X1,l.l_,f.eO,f.DP,i.bT,i.pM,B.k,i.YU,z.v,U.v,i.Jj,e.h,e.D9],styles:[".scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dso-selector-list-max-height);overflow-x:hidden}"]})}}return ne})()},10270:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CreateCollectionParentSelectorComponent:()=>I});var i=n(60177),t=n(41780),l=n(88280),e=n(64611),f=n(6238),m=n(13864),p=n(73183),_=n(54705),v=n(54438),y=n(52149),C=n(7901);function O(D,R){if(1&D&&(v.j41(0,"span",6),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&D){const h=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,h.header))}}let I=(()=>{class D extends _.${constructor(h,w,b){super(h,w),this.activeModal=h,this.route=w,this.router=b,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COMMUNITY],this.action=_.u.CREATE,this.header="dso-selector.create.collection.sub-level",this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(h){const w={queryParams:{[e.Cb]:h.uuid}};this.router.navigate([(0,e.gH)()],w)}static{this.\u0275fac=function(w){return new(w||D)(v.rXU(y.Lw),v.rXU(C.nX),v.rXU(C.Ix))}}static{this.\u0275cmp=v.VBU({type:D,selectors:[["ds-base-create-collection-parent-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,b){1&w&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return b.close()}),v.j41(5,"span",2),v.EFF(6,"\xd7"),v.k0s()()(),v.j41(7,"div",3),v.DNE(8,O,3,3,"span",4),v.j41(9,"ds-dso-selector",5),v.bIt("onSelect",function(M){return b.selectObject(M)}),v.k0s()()()),2&w&&(v.R7$(2),v.SpI("",v.bMT(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),v.R7$(6),v.Y8G("ngIf",b.header),v.R7$(),v.Y8G("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[i.bT,p.x,t.h,t.D9],encapsulation:2})}}return D})()},76538:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CreateCommunityParentSelectorComponent:()=>h});var i=n(60177),t=n(41780),l=n(88280),e=n(54671),f=n(6238),m=n(65007),p=n(3970),_=n(13864),v=n(82777),y=n(73183),C=n(54705),O=n(54438),I=n(52149),D=n(7901);function R(w,b){if(1&w){const P=O.RV6();O.j41(0,"div",7)(1,"button",8),O.bIt("click",function(){O.eBV(P);const L=O.XpG();return O.Njj(L.selectObject(void 0))}),O.EFF(2),O.nI1(3,"translate"),O.k0s(),O.j41(4,"div",9),O.nrm(5,"hr"),O.j41(6,"div",10)(7,"span",11),O.EFF(8),O.nI1(9,"translate"),O.k0s()()()()}2&w&&(O.R7$(2),O.JRh(O.bMT(3,2,"dso-selector.create.community.top-level")),O.R7$(6),O.JRh(O.bMT(9,4,"dso-selector.create.community.or-divider")))}let h=(()=>{class w extends C.${constructor(P,M,L,B){super(P,M),this.activeModal=P,this.route=M,this.router=L,this.authorizationService=B,this.objectType=_.W.COMMUNITY,this.selectorTypes=[_.W.COMMUNITY],this.action=C.u.CREATE,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}ngOnInit(){this.isAdmin$=this.authorizationService.isAuthorized(p._.AdministratorOf)}navigate(P){let M={};(0,v.a4)(P)&&(M={queryParams:{[e.f2]:P.uuid}}),this.router.navigate([(0,e.lG)()],M)}static{this.\u0275fac=function(M){return new(M||w)(O.rXU(I.Lw),O.rXU(D.nX),O.rXU(D.Ix),O.rXU(m.AuthorizationDataService))}}static{this.\u0275cmp=O.VBU({type:w,selectors:[["ds-base-create-community-parent-selector"]],standalone:!0,features:[O.Vt3,O.aNF],decls:14,vars:12,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["data-test","admin-div",4,"ngIf"],[1,"h5","px-2"],[3,"onSelect","currentDSOId","types","sort"],["data-test","admin-div"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"h3","position-relative","py-1","my-3","font-weight-normal"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"]],template:function(M,L){1&M&&(O.j41(0,"div")(1,"div",0),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"button",1),O.bIt("click",function(){return L.close()}),O.j41(5,"span",2),O.EFF(6,"\xd7"),O.k0s()()(),O.j41(7,"div",3),O.DNE(8,R,10,6,"div",4),O.nI1(9,"async"),O.j41(10,"span",5),O.EFF(11),O.nI1(12,"translate"),O.k0s(),O.j41(13,"ds-dso-selector",6),O.bIt("onSelect",function(U){return L.selectObject(U)}),O.k0s()()()),2&M&&(O.R7$(2),O.SpI("",O.bMT(3,6,"dso-selector."+L.action+"."+L.objectType.toString().toLowerCase()+".head")," "),O.R7$(6),O.Y8G("ngIf",O.bMT(9,8,L.isAdmin$)),O.R7$(3),O.JRh(O.bMT(12,10,"dso-selector.create.community.sub-level")),O.R7$(2),O.Y8G("currentDSOId",null==L.dsoRD?null:L.dsoRD.payload.uuid)("types",L.selectorTypes)("sort",L.defaultSort))},dependencies:[i.Jj,y.x,i.bT,t.h,t.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return w})()},86866:(N,T,n)=>{"use strict";n.r(T),n.d(T,{CreateItemParentSelectorComponent:()=>O});var i=n(60177),t=n(41780),l=n(88280),e=n(6238),f=n(13864),m=n(76052),p=n(54705),_=n(54438),v=n(52149),y=n(7901);function C(I,D){if(1&I&&(_.j41(0,"span",6),_.EFF(1),_.nI1(2,"translate"),_.k0s()),2&I){const R=_.XpG();_.R7$(),_.JRh(_.bMT(2,1,R.header))}}let O=(()=>{class I extends p.${constructor(R,h,w){super(R,h),this.activeModal=R,this.route=h,this.router=w,this.objectType=f.W.ITEM,this.selectorTypes=[f.W.COLLECTION],this.action=p.u.CREATE,this.header="dso-selector.create.item.sub-level",this.defaultSort=new e.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(R){const h={queryParams:{collection:R.uuid}};this.entityType&&(h.queryParams.entityType=this.entityType),this.router.navigate(["/submit"],h)}static{this.\u0275fac=function(h){return new(h||I)(_.rXU(v.Lw),_.rXU(y.nX),_.rXU(y.Ix))}}static{this.\u0275cmp=_.VBU({type:I,selectors:[["ds-base-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[_.Vt3,_.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","entityType","types"],[1,"h5","px-2"]],template:function(h,w){1&h&&(_.j41(0,"div")(1,"div",0),_.EFF(2),_.nI1(3,"translate"),_.j41(4,"button",1),_.bIt("click",function(){return w.close()}),_.j41(5,"span",2),_.EFF(6,"\xd7"),_.k0s()()(),_.j41(7,"div",3),_.DNE(8,C,3,3,"span",4),_.j41(9,"ds-authorized-collection-selector",5),_.bIt("onSelect",function(P){return w.selectObject(P)}),_.k0s()()()),2&h&&(_.R7$(2),_.SpI("",_.bMT(3,5,"dso-selector."+w.action+"."+w.objectType.toString().toLowerCase()+".head")," "),_.R7$(6),_.Y8G("ngIf",w.header),_.R7$(),_.Y8G("currentDSOId",null==w.dsoRD?null:w.dsoRD.payload.uuid)("entityType",w.entityType)("types",w.selectorTypes))},dependencies:[i.bT,m.e,t.h,t.D9],encapsulation:2})}}return I})()},52798:(N,T,n)=>{"use strict";n.d(T,{L:()=>m});var i=n(8886),l=(n(86866),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["entityType"]}getComponentName(){return"CreateItemParentSelectorComponent"}importThemedComponent(v){return n(25074)(`./${v}/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,86866))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-create-item-parent-selector"]],inputs:{entityType:"entityType"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},54705:(N,T,n)=>{"use strict";n.d(T,{$:()=>p,u:()=>m});var i=n(54438),l=(n(1716),n(82777)),e=n(52149),f=n(7901),m=function(_){return _.CREATE="create",_.EDIT="edit",_.EXPORT_METADATA="export-metadata",_.IMPORT_BATCH="import-batch",_.SET_SCOPE="set-scope",_.EXPORT_BATCH="export-batch",_}(m||{});let p=(()=>{class _{constructor(y,C){this.activeModal=y,this.route=C,this.emitOnly=!1,this.select=new i.bkB}ngOnInit(){const y=this.findRouteData(C=>(0,l.a4)(C.data.dso),this.route.root.snapshot);(0,l.a4)(y)&&(this.dsoRD=y.data.dso)}findRouteData(y,...C){const O=C.find(y);if((0,l.a4)(O))return O;{const I=C.map(D=>D.children).reduce((D,R)=>[...D,...R]);return(0,l.hj)(I)?this.findRouteData(y,...I):void 0}}selectObject(y){this.close(),this.emitOnly?this.select.emit(y):this.navigate(y)}close(){this.activeModal.close()}static{this.\u0275fac=function(C){return new(C||_)(i.rXU(e.Lw),i.rXU(f.nX))}}static{this.\u0275cmp=i.VBU({type:_,selectors:[["ds-dso-selector-modal"]],inputs:{dsoRD:"dsoRD",emitOnly:"emitOnly",header:"header"},outputs:{select:"select"},decls:0,vars:0,template:function(C,O){},encapsulation:2})}}return _})()},73234:(N,T,n)=>{"use strict";n.r(T),n.d(T,{EditCollectionSelectorComponent:()=>I});var i=n(60177),t=n(41780),l=n(88280),e=n(64611),f=n(6238),m=n(13864),p=n(73183),_=n(54705),v=n(54438),y=n(52149),C=n(7901);function O(D,R){if(1&D&&(v.j41(0,"span",6),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&D){const h=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,h.header))}}let I=(()=>{class D extends _.${constructor(h,w,b){super(h,w),this.activeModal=h,this.route=w,this.router=b,this.objectType=m.W.COLLECTION,this.selectorTypes=[m.W.COLLECTION],this.action=_.u.EDIT,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(h){this.router.navigate([(0,e._E)(h.uuid)])}static{this.\u0275fac=function(w){return new(w||D)(v.rXU(y.Lw),v.rXU(C.nX),v.rXU(C.Ix))}}static{this.\u0275cmp=v.VBU({type:D,selectors:[["ds-base-edit-collection-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,b){1&w&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return b.close()}),v.j41(5,"span",2),v.EFF(6,"\xd7"),v.k0s()()(),v.j41(7,"div",3),v.DNE(8,O,3,3,"span",4),v.j41(9,"ds-dso-selector",5),v.bIt("onSelect",function(M){return b.selectObject(M)}),v.k0s()()()),2&w&&(v.R7$(2),v.SpI("",v.bMT(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),v.R7$(6),v.Y8G("ngIf",b.header),v.R7$(),v.Y8G("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[i.bT,p.x,t.h,t.D9],encapsulation:2})}}return D})()},64990:(N,T,n)=>{"use strict";n.r(T),n.d(T,{EditCommunitySelectorComponent:()=>I});var i=n(60177),t=n(41780),l=n(88280),e=n(54671),f=n(6238),m=n(13864),p=n(73183),_=n(54705),v=n(54438),y=n(52149),C=n(7901);function O(D,R){if(1&D&&(v.j41(0,"span",6),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&D){const h=v.XpG();v.R7$(),v.JRh(v.bMT(2,1,h.header))}}let I=(()=>{class D extends _.${constructor(h,w,b){super(h,w),this.activeModal=h,this.route=w,this.router=b,this.objectType=m.W.COMMUNITY,this.selectorTypes=[m.W.COMMUNITY],this.action=_.u.EDIT,this.defaultSort=new f.z(l.c.comcolSelectionSort.sortField,l.c.comcolSelectionSort.sortDirection)}navigate(h){this.router.navigate([(0,e.pk)(h.uuid)])}static{this.\u0275fac=function(w){return new(w||D)(v.rXU(y.Lw),v.rXU(C.nX),v.rXU(C.Ix))}}static{this.\u0275cmp=v.VBU({type:D,selectors:[["ds-base-edit-community-selector"]],standalone:!0,features:[v.Vt3,v.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(w,b){1&w&&(v.j41(0,"div")(1,"div",0),v.EFF(2),v.nI1(3,"translate"),v.j41(4,"button",1),v.bIt("click",function(){return b.close()}),v.j41(5,"span",2),v.EFF(6,"\xd7"),v.k0s()()(),v.j41(7,"div",3),v.DNE(8,O,3,3,"span",4),v.j41(9,"ds-dso-selector",5),v.bIt("onSelect",function(M){return b.selectObject(M)}),v.k0s()()()),2&w&&(v.R7$(2),v.SpI("",v.bMT(3,5,"dso-selector."+b.action+"."+b.objectType.toString().toLowerCase()+".head")," "),v.R7$(6),v.Y8G("ngIf",b.header),v.R7$(),v.Y8G("currentDSOId",null==b.dsoRD?null:b.dsoRD.payload.uuid)("types",b.selectorTypes)("sort",b.defaultSort))},dependencies:[i.bT,p.x,t.h,t.D9],encapsulation:2})}}return D})()},29380:(N,T,n)=>{"use strict";n.r(T),n.d(T,{EditItemSelectorComponent:()=>C});var i=n(60177),t=n(41780),l=n(13864),e=n(90887),f=n(73183),m=n(54705),p=n(54438),_=n(52149),v=n(7901);function y(O,I){if(1&O&&(p.j41(0,"span",6),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&O){const D=p.XpG();p.R7$(),p.JRh(p.bMT(2,1,D.header))}}let C=(()=>{class O extends m.${constructor(D,R,h){super(D,R),this.activeModal=D,this.route=R,this.router=h,this.objectType=l.W.ITEM,this.selectorTypes=[l.W.ITEM],this.action=m.u.EDIT}navigate(D){this.router.navigate([(0,e.$r)(D)])}static{this.\u0275fac=function(R){return new(R||O)(p.rXU(_.Lw),p.rXU(v.nX),p.rXU(v.Ix))}}static{this.\u0275cmp=p.VBU({type:O,selectors:[["ds-base-edit-item-selector"]],standalone:!0,features:[p.Vt3,p.aNF],decls:10,vars:6,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types"],[1,"h5","px-2"]],template:function(R,h){1&R&&(p.j41(0,"div")(1,"div",0),p.EFF(2),p.nI1(3,"translate"),p.j41(4,"button",1),p.bIt("click",function(){return h.close()}),p.j41(5,"span",2),p.EFF(6,"\xd7"),p.k0s()()(),p.j41(7,"div",3),p.DNE(8,y,3,3,"span",4),p.j41(9,"ds-dso-selector",5),p.bIt("onSelect",function(b){return h.selectObject(b)}),p.k0s()()()),2&R&&(p.R7$(2),p.SpI("",p.bMT(3,4,"dso-selector."+h.action+"."+h.objectType.toString().toLowerCase()+".head")," "),p.R7$(6),p.Y8G("ngIf",h.header),p.R7$(),p.Y8G("currentDSOId",null==h.dsoRD?null:h.dsoRD.payload.uuid)("types",h.selectorTypes))},dependencies:[i.bT,f.x,t.h,t.D9],encapsulation:2})}}return O})()},82777:(N,T,n)=>{"use strict";n.d(T,{Az:()=>_,EA:()=>f,Im:()=>v,Pe:()=>l,Tn:()=>m,VT:()=>C,a4:()=>p,b0:()=>e,hj:()=>y,kZ:()=>t});var i=n(5964);function t(D){return null===D}function l(D){return null!==D}function e(D){return void 0===D}function f(D){return void 0!==D}function m(D){return e(D)||t(D)}function p(D){return f(D)&&l(D)}const _=()=>D=>D.pipe((0,i.p)(R=>p(R)));function v(D){if(m(D))return!0;if("number"==typeof D.size)return!D.size;const R=typeof D;if("object"===R){const h=D.size;if("number"==typeof h)return!h}if("number"==typeof D.length&&"function"!==R)return!D.length;if("object"===R){if(0===Object.keys(D).length)return!0;const h=D.length;if("number"==typeof h)return!h}return!1}function y(D){return!v(D)}const C=()=>D=>D.pipe((0,i.p)(R=>y(R)))},53948:(N,T,n)=>{"use strict";n.d(T,{Y:()=>h});var i=n(60177),t=n(54438),l=n(41780),e=n(86820),f=n(84412),m=n(25558),p=n(19852),_=n(99172),v=n(30077),y=n(80183),C=n(82777),O=n(82394);function I(w,b){1&w&&(t.j41(0,"li")(1,"button",3),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&w&&(t.R7$(2),t.SpI(" ",t.bMT(3,1,"submission.sections.general.no-entity")," "))}function D(w,b){if(1&w){const P=t.RV6();t.j41(0,"li",4)(1,"button",5),t.bIt("click",function(){const L=t.eBV(P).$implicit,B=t.XpG();return t.Njj(B.onSelect(L))}),t.j41(2,"span",6),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()}if(2&w){const P=b.$implicit;t.R7$(),t.FS9("title",P.label),t.R7$(2),t.JRh(t.bMT(4,2,P.label.toLowerCase()+".listelement.badge"))}}function R(w,b){1&w&&(t.j41(0,"li")(1,"button",3),t.nrm(2,"ds-loading",7),t.nI1(3,"translate"),t.k0s()()),2&w&&(t.R7$(2),t.FS9("message",t.bMT(3,1,"loading.default")))}let h=(()=>{class w{constructor(P,M,L){this.changeDetectorRef=P,this.entityTypeService=M,this.el=L,this.scrollableBottom=!1,this.scrollableTop=!1,this.searchListEntity=[],this.selectionChange=new t.bkB,this.isLoadingList=new f.t(!1),this.subs=[]}onMousewheel(P){P.wheelDelta>0&&this.scrollableTop&&P.preventDefault(),P.wheelDelta<0&&this.scrollableBottom&&P.preventDefault()}ngOnInit(){this.resetPagination(),this.populateEntityList(this.currentPage)}onScroll(P){this.scrollableBottom=P.target.scrollTop+P.target.clientHeight===P.target.scrollHeight,this.scrollableTop=0===P.target.scrollTop}onScrollDown(){this.hasNextPage&&this.populateEntityList(++this.currentPage)}onSelect(P){this.selectionChange.emit(P)}populateEntityList(P){this.isLoadingList.next(!0);const M={elementsPerPage:10,currentPage:P};let L;L=this.isSubmission?this.entityTypeService.getAllAuthorizedRelationshipType(M):this.entityTypeService.getAllAuthorizedRelationshipTypeImport(M),this.searchListEntity$=L.pipe((0,y.o5)(),(0,m.n)(B=>(this.searchListEntity.length+M.elementsPerPage>=B.payload.totalElements&&(this.hasNextPage=!1),B.payload.page)),(0,p.T)((B,U)=>[...B,U],[]),(0,_.Z)([])),this.subs.push(this.searchListEntity$.subscribe(B=>{this.searchListEntity.push(...B)},void 0,()=>{this.hideShowLoader(!1),this.changeDetectorRef.detectChanges()}))}resetPagination(){this.currentPage=1,this.hasNextPage=!0,this.searchListEntity=[]}hideShowLoader(P){this.isLoadingList.next(P)}ngOnDestroy(){this.subs.filter(P=>(0,C.a4)(P)).forEach(P=>P.unsubscribe())}static{this.\u0275fac=function(M){return new(M||w)(t.rXU(t.gRc),t.rXU(v.f),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["ds-entity-dropdown"]],hostBindings:function(M,L){1&M&&t.bIt("mousewheel",function(U){return L.onMousewheel(U)})},inputs:{isSubmission:"isSubmission"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[t.aNF],decls:6,vars:12,consts:[["role","menu","infiniteScroll","",1,"scrollable-menu","list-unstyled","mb-0",3,"scroll","scrolled","infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","fromRoot","scrollWindow"],[4,"ngIf"],["class","entity-item text-primary",4,"ngFor","ngForOf"],["role","menuitem",1,"dropdown-item","disabled"],[1,"entity-item","text-primary"],["role","menuitem",1,"dropdown-item",3,"click","title"],[1,"text-truncate","font-weight-bold"],[3,"message"]],template:function(M,L){1&M&&(t.j41(0,"ul",0),t.bIt("scroll",function(U){return L.onScroll(U)})("scrolled",function(){return L.onScrollDown()}),t.DNE(1,I,4,3,"li",1),t.nI1(2,"async"),t.DNE(3,D,5,4,"li",2)(4,R,4,3,"li",1),t.nI1(5,"async"),t.k0s()),2&M&&(t.Y8G("infiniteScrollDistance",5)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",1.5)("fromRoot",!0)("scrollWindow",!1),t.R7$(),t.Y8G("ngIf",0===(null==L.searchListEntity?null:L.searchListEntity.length)&&!0!==t.bMT(2,8,L.isLoadingList)),t.R7$(2),t.Y8G("ngForOf",L.searchListEntity),t.R7$(),t.Y8G("ngIf",t.bMT(5,10,L.isLoadingList)))},dependencies:[e.eO,e.DP,i.bT,i.pM,O.v,i.Jj,l.h,l.D9],styles:[".dropdown-item[_ngcontent-%COMP%]{padding:.35rem 1rem}.dropdown-item[_ngcontent-%COMP%]:active{color:#fff!important}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}li[_ngcontent-%COMP%]:not(:last-of-type)   .dropdown-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}#entityControlsDropdownMenu[_ngcontent-%COMP%]{outline:0;left:0!important;box-shadow:var(--bs-btn-focus-box-shadow)}"]})}}return w})()},50518:(N,T,n)=>{"use strict";n.d(T,{T:()=>z});var i=n(60177),t=n(54438),l=n(41780),e=n(59519),f=n.n(e),m=n(84412),p=n(96354),_=n(82640),v=n(96526),y=n(41023),C=n(58235),O=n(36074),I=n(4047),D=n(22978),R=n(80183),h=n(50332),w=n(82777),b=n(5682),P=n(23401),M=n(89417);let L=(()=>{class V{constructor(J){this.formBuilder=J,this.labelPrefix="admin.access-control.epeople.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}reset(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}submit(J){const q={scope:(0,w.Pe)(J)?J.scope:"metadata",query:(0,w.Pe)(J)?J.query:""};this.search.emit(q)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:21,vars:13,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],["name","scope","id","scope","formControlName","scope","aria-label","Search scope",1,"form-control"],["value","metadata"],["value","email"],[1,"flex-grow-1","mr-3","ml-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(q,Z){1&q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Y){return Z.submit(Z.searchForm.value),Y.stopImmediatePropagation()}),t.j41(1,"div")(2,"select",1)(3,"option",2),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"option",3),t.EFF(7),t.nI1(8,"translate"),t.k0s()()(),t.j41(9,"div",4)(10,"div",5),t.nrm(11,"input",6),t.j41(12,"span",7)(13,"button",8),t.nrm(14,"i",9),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()(),t.j41(17,"div")(18,"button",10),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(19),t.nI1(20,"translate"),t.k0s()()()),2&q&&(t.Y8G("formGroup",Z.searchForm),t.R7$(4),t.JRh(t.bMT(5,5,Z.labelPrefix+"search.scope.metadata")),t.R7$(3),t.JRh(t.bMT(8,7,Z.labelPrefix+"search.scope.email")),t.R7$(8),t.SpI(" ",t.bMT(16,9,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(20,11,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.xH,M.y7,M.me,M.wz,M.BC,M.cb,M.X1,M.j4,M.JD,l.h,l.D9],encapsulation:2})}}return V})(),B=(()=>{class V{constructor(J){this.formBuilder=J,this.labelPrefix="admin.access-control.groups.",this.subs=[],this.search=new t.bkB,this.searchForm=this.formBuilder.group({query:""})}reset(){this.searchForm=this.formBuilder.group({query:""})}submit(J){const q={scope:"",query:(0,w.Pe)(J)?J.query:""};this.search.emit(q)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(M.ze))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-group-search-box"]],outputs:{search:"search"},standalone:!0,features:[t.aNF],decls:13,vars:7,consts:[[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],["type","button",1,"search-button","btn","btn-secondary",3,"click"]],template:function(q,Z){1&q&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(Y){return Z.submit(Z.searchForm.value),Y.stopImmediatePropagation()}),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"button",5),t.nrm(6,"i",6),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()(),t.j41(9,"div")(10,"button",7),t.bIt("click",function(){return Z.submit(null),Z.reset()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()),2&q&&(t.Y8G("formGroup",Z.searchForm),t.R7$(7),t.SpI(" ",t.bMT(8,3,Z.labelPrefix+"search.button")," "),t.R7$(4),t.SpI(" ",t.bMT(12,5,Z.labelPrefix+"button.see-all")," "))},dependencies:[M.YN,M.qT,M.me,M.BC,M.cb,M.X1,M.j4,M.JD,l.h,l.D9],encapsulation:2})}}return V})();function U(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-eperson-search-box",3),t.bIt("search",function(Z){t.eBV(J);const H=t.XpG();return t.Njj(H.onSearch(Z))}),t.k0s()}}function $(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-group-search-box",3),t.bIt("search",function(Z){t.eBV(J);const H=t.XpG();return t.Njj(H.onSearch(Z))}),t.k0s()}}function j(V,X){if(1&V){const J=t.RV6();t.j41(0,"tr"),t.nI1(1,"async"),t.j41(2,"td"),t.EFF(3),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",7)(7,"button",9),t.bIt("click",function(){const Z=t.eBV(J).$implicit,H=t.XpG(2);return t.Njj(H.emitSelect(Z))}),t.EFF(8),t.nI1(9,"translate"),t.k0s()()()}if(2&V){const J=X.$implicit,q=t.XpG(2);t.AVh("table-primary",t.bMT(1,5,q.isSelected(J))),t.R7$(3),t.JRh(J.id),t.R7$(2),t.JRh(q.dsoNameService.getName(J)),t.R7$(3),t.SpI(" ",t.bMT(9,7,"resource-policies.form.eperson-group-list.select.btn")," ")}}function G(V,X){if(1&V&&(t.j41(0,"ds-pagination",4),t.nI1(1,"async"),t.j41(2,"div",5)(3,"table",6)(4,"thead")(5,"tr",7)(6,"th"),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"th"),t.EFF(10),t.nI1(11,"translate"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translate"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,j,10,9,"tr",8),t.nI1(17,"async"),t.k0s()()()()),2&V){let J,q;const Z=t.XpG();t.Y8G("paginationOptions",Z.paginationOptions)("collectionSize",null==(J=t.bMT(1,8,Z.getList()))||null==J.payload?null:J.payload.totalElements)("retainScrollPosition",!0)("hideGear",!0),t.R7$(7),t.JRh(t.bMT(8,10,"resource-policies.form.eperson-group-list.table.headers.id")),t.R7$(3),t.JRh(t.bMT(11,12,"resource-policies.form.eperson-group-list.table.headers.name")),t.R7$(3),t.JRh(t.bMT(14,14,"resource-policies.form.eperson-group-list.table.headers.action")),t.R7$(3),t.Y8G("ngForOf",null==(q=t.bMT(17,16,Z.getList()))||null==q.payload?null:q.payload.page)}}let z=(()=>{class V{constructor(J,q,Z,H){this.dsoNameService=J,this.parentInjector=q,this.paginationService=Z,this.dataServiceMap=H,this.isListOfEPerson=!0,this.select=new t.bkB,this.currentSearchQuery="",this.currentSearchScope="metadata",this.paginationOptions=new P.W,this.list$=new m.t({}),this.entrySelectedId=new m.t(""),this.subs=[]}ngOnInit(){(0,I.M)(this.dataServiceMap,(this.isListOfEPerson?C.N:O.U).value,this.parentInjector).subscribe(Z=>{this.dataService=Z,this.paginationOptions.id=f()("egl"),this.paginationOptions.pageSize=5,this.initSelected&&this.entrySelectedId.next(this.initSelected),this.updateList(this.currentSearchScope,this.currentSearchQuery)})}emitSelect(J){this.select.emit(J),this.entrySelectedId.next(J.id)}getList(){return this.list$.asObservable()}isSelected(J){return this.entrySelectedId.asObservable().pipe((0,p.T)(q=>(0,w.hj)(q)&&q===J.id))}onSearch(J){this.currentSearchQuery=J.query,this.currentSearchScope=J.scope,this.paginationService.resetPage(this.paginationOptions.id),this.updateList(this.currentSearchScope,this.currentSearchQuery)}updateList(J,q){(0,w.a4)(this.pageConfigSub)&&this.pageConfigSub.unsubscribe(),this.pageConfigSub=this.paginationService.getCurrentPagination(this.paginationOptions.id,this.paginationOptions).subscribe(Z=>{const H=Object.assign({},new y._,{elementsPerPage:Z.pageSize,currentPage:Z.currentPage}),Y=this.isListOfEPerson?this.dataService.searchByScope(J,q,H):this.dataService.searchGroups(q,H);this.subs.push(Y.pipe((0,R.qD)()).subscribe(Q=>{(0,w.a4)(this.list$)&&this.list$.next(Q)}))})}ngOnDestroy(){this.list$=null,this.subs.filter(J=>(0,w.a4)(J)).forEach(J=>J.unsubscribe()),this.paginationService.clearPagination(this.paginationOptions.id)}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(v.f),t.rXU(t.zZn),t.rXU(D.m),t.rXU(_.l9))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-eperson-group-list"]],inputs:{isListOfEPerson:"isListOfEPerson",initSelected:"initSelected"},outputs:{select:"select"},standalone:!0,features:[t.aNF],decls:5,vars:6,consts:[[1,"mt-3"],[3,"search",4,"ngIf"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear",4,"ngIf"],[3,"search"],[3,"paginationOptions","collectionSize","retainScrollPosition","hideGear"],[1,"table-responsive"],["id","groups",1,"table","table-sm","table-striped","table-hover","table-bordered"],[1,"text-center"],[3,"table-primary",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-primary",3,"click"]],template:function(q,Z){if(1&q&&(t.j41(0,"div",0),t.DNE(1,U,1,0,"ds-eperson-search-box",1)(2,$,1,0,"ds-group-search-box",1)(3,G,18,18,"ds-pagination",2),t.nI1(4,"async"),t.k0s()),2&q){let H;t.Y8G("@fadeInOut",void 0),t.R7$(),t.Y8G("ngIf",Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",!Z.isListOfEPerson),t.R7$(),t.Y8G("ngIf",(null==(H=t.bMT(4,4,Z.getList()))||null==H.payload?null:H.payload.totalElements)>0)}},dependencies:[i.bT,L,B,b.e,i.pM,i.Jj,l.h,l.D9],data:{animation:[h.Ws]}})}}return V})()},79632:(N,T,n)=>{"use strict";n.d(T,{A:()=>f});var i=n(16292),t=n(47978),l=n(54438),e=n(41780);let f=(()=>{class m{constructor(_){this.translate=_,this.message="Error...",this.AlertTypeEnum=t.v}ngOnInit(){void 0===this.message&&(this.subscription=this.translate.get("error.default").subscribe(_=>{this.message=_}))}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(v){return new(v||m)(l.rXU(e.c$))}}static{this.\u0275cmp=l.VBU({type:m,selectors:[["ds-error"]],inputs:{message:"message"},standalone:!0,features:[l.aNF],decls:2,vars:3,consts:[[3,"type","dismissible"],[3,"innerHTML"]],template:function(v,y){1&v&&(l.j41(0,"ds-alert",0),l.nrm(1,"span",1),l.k0s()),2&v&&(l.Y8G("type",y.AlertTypeEnum.Error)("dismissible",!1),l.R7$(),l.Y8G("innerHTML",y.message,l.npT))},dependencies:[i.C]})}}return m})()},10634:(N,T,n)=>{"use strict";n.r(T),n.d(T,{FileDownloadLinkComponent:()=>P});var i=n(60177),t=n(7901),l=n(41780),e=n(84572),f=n(7673),m=n(96354),p=n(69799),_=n(96526),v=n(65007),y=n(3970),I=(n(33376),n(88318),n(82777)),D=n(54438);const R=["*"];function h(M,L){1&M&&(D.j41(0,"span",4),D.nI1(1,"translate"),D.nrm(2,"i",5),D.k0s()),2&M&&D.BMQ("aria-label",D.bMT(1,1,"file-download-link.restricted"))}function w(M,L){1&M&&D.eu8(0)}function b(M,L){1&M&&D.SdG(0)}let P=(()=>{class M{constructor(B,U){this.authorizationService=B,this.dsoNameService=U,this.cssClasses="",this.isBlank=!1,this.enableRequestACopy=!0}ngOnInit(){if(this.enableRequestACopy){this.canDownload$=this.authorizationService.isAuthorized(y._.CanDownload,(0,I.hj)(this.bitstream)?this.bitstream.self:void 0);const B=this.authorizationService.isAuthorized(y._.CanRequestACopy,(0,I.hj)(this.bitstream)?this.bitstream.self:void 0);this.bitstreamPath$=(0,e.z)([this.canDownload$,B]).pipe((0,m.T)(([U,$])=>this.getBitstreamPath(U,$)))}else this.bitstreamPath$=(0,f.of)(this.getBitstreamDownloadPath()),this.canDownload$=(0,f.of)(!0)}getBitstreamPath(B,U){return!B&&U&&(0,I.a4)(this.item)?(0,p.ET)(this.item,this.bitstream):this.getBitstreamDownloadPath()}getBitstreamDownloadPath(){return{routerLink:(0,p.hV)(this.bitstream),queryParams:{}}}static{this.\u0275fac=function(U){return new(U||M)(D.rXU(v.AuthorizationDataService),D.rXU(_.f))}}static{this.\u0275cmp=D.VBU({type:M,selectors:[["ds-base-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[D.aNF],ngContentSelectors:R,decls:9,vars:15,consts:[["content",""],[1,"dont-break-out",3,"routerLink","queryParams","target","ngClass"],["role","img","class","pr-1",4,"ngIf"],[4,"ngTemplateOutlet"],["role","img",1,"pr-1"],[1,"fas","fa-lock"]],template:function(U,$){if(1&U&&(D.NAR(),D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"async"),D.nI1(3,"translate"),D.DNE(4,h,3,3,"span",2),D.nI1(5,"async"),D.DNE(6,w,1,0,"ng-container",3),D.k0s(),D.DNE(7,b,1,0,"ng-template",null,0,D.C5r)),2&U){let j,G;const z=D.sdS(8);D.Y8G("routerLink",null==(j=D.bMT(1,7,$.bitstreamPath$))?null:j.routerLink)("queryParams",null==(G=D.bMT(2,9,$.bitstreamPath$))?null:G.queryParams)("target",$.isBlank?"_blank":"_self")("ngClass",$.cssClasses),D.BMQ("aria-label",D.bMT(3,11,"file-download-link.download")+$.dsoNameService.getName($.bitstream)),D.R7$(4),D.Y8G("ngIf",!0!==D.bMT(5,13,$.canDownload$)),D.R7$(2),D.Y8G("ngTemplateOutlet",z)}},dependencies:[t.Wk,i.YU,i.bT,i.T3,i.Jj,l.h,l.D9]})}}return M})()},28836:(N,T,n)=>{"use strict";n.d(T,{z:()=>_}),n(33376),n(88318);var l=n(8886),f=(n(10634),n(54438));const m=["*"];function p(v,y){}let _=(()=>{class v extends l.J{constructor(){super(...arguments),this.inAndOutputNames=["bitstream","item","cssClasses","isBlank","enableRequestACopy"]}getComponentName(){return"FileDownloadLinkComponent"}importThemedComponent(C){return n(72834)(`./${C}/app/shared/file-download-link/file-download-link.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10634))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=f.xGo(v)))(I||v)}})()}static{this.\u0275cmp=f.VBU({type:v,selectors:[["ds-file-download-link"]],inputs:{bitstream:"bitstream",item:"item",cssClasses:"cssClasses",isBlank:"isBlank",enableRequestACopy:"enableRequestACopy"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return v})()},56899:(N,T,n)=>{"use strict";n.d(T,{N:()=>t,T:()=>i});const i="RELATION",t="#PLACEHOLDER_PARENT_METADATA_VALUE#"},10460:(N,T,n)=>{"use strict";n.d(T,{_:()=>At});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(1473),m=n(41780),p=n(84572),_=n(47677),v=n(25558),y=n(96697),C=n(96354),O=n(99172),I=n(82640),D=n(48833),R=n(5410),h=n(14391),w=n(80183),b=n(49903),P=n(46588),M=n(61010),L=n(82777),B=n(27442),U=n(13329),$=n(67600),j=n(49656),G=n(33126),z=n(61280),V=n(56568),X=n(56899);let J=(()=>{class Ot{constructor(Dt,Lt,st,Le){this.dynamicMatchers=Dt,this.dynamicFormRelationService=Lt,this.formBuilderService=st,this.injector=Le}getTypeBindValue(Dt){let Lt;return Lt=(0,L.Tn)(Dt)||"string"==typeof Dt?Dt:Dt instanceof z.e&&Dt.hasAuthority()?Dt.authority:Dt.value,Lt}getRelatedFormModel(Dt){const Lt=[];return Dt.typeBindRelations.forEach(st=>st.when.forEach(Le=>{if(Dt.id===Le.id)throw new Error(`FormControl ${Dt.id} cannot depend on itself`);const je=this.formBuilderService.getTypeBindModel();Dt&&!Lt.some(He=>He===je)&&Lt.push(je)})),Lt}matchesCondition(Dt,Lt){const st=Dt.operator||f.fXj;return Dt.when.reduce((Le,je,He)=>{const Be=this.formBuilderService.getTypeBindModel();let Pt,Je=Be.value;Be.type===X.T&&(Je=Be.value.map(Et=>Et[Be.mandatoryField])),Pt=Array.isArray(Je)?[...Je.map(Et=>this.getTypeBindValue(Et))]:[this.getTypeBindValue(Je)];let Nt=!(Be&&Dt.match===Lt.match);for(const Et of Pt){if(Be&&Dt.match===Lt.match){if(He>0&&st===f.fcY&&!Le)return!1;if(He>0&&st===f.fXj&&Le)return!0;if(Nt=je.value===Et,Nt)break}if(Be&&Dt.match===Lt.opposingMatch){if(He>0&&st===f.fcY&&Le)return!0;if(He>0&&st===f.fXj&&!Le)return!1;if(Nt=je.value!==Et,!Nt)break}}return Nt},!1)}subscribeRelations(Dt,Lt){const st=this.getRelatedFormModel(Dt),Le=[];return Object.values(st).forEach(je=>{if((0,L.a4)(je)){const He=(0,L.Tn)(je.value)||"string"==typeof je.value||Array.isArray(je.value)?je.value:je.value.value,Pt=("CHECKBOX_GROUP"===je.type?je.valueUpdates:je.valueChanges).pipe((0,O.Z)(He));Le.push(Pt.subscribe(()=>{(0,L.a4)(this.dynamicMatchers)&&this.dynamicMatchers.forEach(Je=>{const Nt=this.dynamicFormRelationService.findRelationByMatcher(Dt.typeBindRelations,Je);if(void 0!==Nt){const Et=this.matchesCondition(Nt,Je);Je.onChange(Et,Dt,Lt,this.injector)}})}))}}),Le}getTypeBindRelations(Dt){const Lt=[];return Dt.forEach(st=>{Lt.push({id:"dc.type",value:st})}),[{match:f.zUr,operator:f.fXj,when:Lt}]}static{this.\u0275fac=function(Lt){return new(Lt||Ot)(t.KVO(f._sU,8),t.KVO(f.$eO),t.KVO(G.j),t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}}return Ot})();var q=n(84412),Z=n(5964),Y=(n(88318),n(93498)),Q=n(82394),ie=n(32272),oe=n(59496),pe=n(25499);function ne(Ot,Zt){1&Ot&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&Ot&&(t.R7$(),t.Y8G("showMessage",!1))}function re(Ot,Zt){if(1&Ot&&(t.qex(0),t.nrm(1,"ds-metadata-representation-loader",6),t.nI1(2,"async"),t.bVm()),2&Ot){const Dt=t.XpG();t.R7$(),t.Y8G("mdRepresentation",t.bMT(2,1,Dt.metadataRepresentation$))}}class Ce{constructor(Zt,Dt){this.oldIndex=Zt,this.newIndex=Dt}update(){this.oldIndex=this.newIndex}get hasMoved(){return this.oldIndex!==this.newIndex}}class ue extends Ce{constructor(Zt,Dt,Lt,st,Le,je){super(Le,je),this.relationship=Zt,this.useLeftItem=Dt,this.store=Lt,this.submissionID=st,this.relationship=Zt,this.useLeftItem=Dt}getId(){return this.relationship.id}getPlace(){return this.useLeftItem?this.relationship.rightPlace:this.relationship.leftPlace}}let ae=(()=>{class Ot{constructor(Dt,Lt,st){this.selectableListService=Dt,this.store=Lt,this.submissionService=st,this.metadataRepresentation$=new q.t(void 0),this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Z.p)(Lt=>(0,L.a4)(Lt)&&(0,L.hj)(Lt.uuid))).subscribe(Lt=>{this.relatedItem=Lt;const st=this.submissionItem.firstMetadata(this.relationshipOptions.metadataField,{value:this.relatedItem.uuid});if((0,L.a4)(st)){const Le=this.submissionItem.firstMetadata(this.metadataFields,{authority:st.authority}),je=Object.assign(new Y.y(Le),this.relatedItem);this.metadataRepresentation$.next(je)}}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.submissionService.getSubmissionObject(this.submissionId).pipe((0,Z.p)(Dt=>!Dt.savePending&&!Dt.isLoading),(0,y.s)(1)).subscribe(()=>{this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem})),this.store.dispatch(new oe.Fw(this.submissionItem,this.relatedItem,this.relationshipOptions.relationshipType,this.submissionId)),this.remove.emit()})}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}static{this.\u0275fac=function(Lt){return new(Lt||Ot)(t.rXU(U.K),t.rXU(pe.il),t.rXU(M.E))}}static{this.\u0275cmp=t.VBU({type:Ot,selectors:[["ds-existing-metadata-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:9,vars:9,consts:[[1,"d-flex"],[1,"mr-auto","text-contents"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"mdRepresentation"]],template:function(Lt,st){1&Lt&&(t.j41(0,"div",0)(1,"span",1),t.DNE(2,ne,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,re,3,3,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.nI1(7,"translate"),t.bIt("click",function(){return st.removeSelection()}),t.nrm(8,"i",4),t.k0s()()),2&Lt&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,3,st.metadataRepresentation$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,5,st.metadataRepresentation$)),t.R7$(2),t.FS9("title",t.bMT(7,7,"form.remove")))},dependencies:[i.bT,Q.v,i.Jj,ie.V,m.h,m.D9]})}}return Ot})();var ye=n(78448),De=n(17191);function tt(Ot,Zt){1&Ot&&(t.qex(0),t.nrm(1,"ds-loading",5),t.bVm()),2&Ot&&(t.R7$(),t.Y8G("showMessage",!1))}function _t(Ot,Zt){if(1&Ot&&(t.qex(0),t.nrm(1,"ds-listable-object-component-loader",6),t.nI1(2,"async"),t.bVm()),2&Ot){const Dt=t.XpG();t.R7$(),t.Y8G("showLabel",!1)("viewMode",Dt.viewType)("object",t.bMT(2,3,Dt.relatedItem$))}}let dt=(()=>{class Ot{constructor(Dt,Lt,st){this.selectableListService=Dt,this.submissionService=Lt,this.store=st,this.relatedItem$=new q.t(void 0),this.viewType=ye.n.ListElement,this.remove=new t.bkB,this.subs=[]}ngOnInit(){this.ngOnChanges()}ngOnChanges(){(0,L.a4)(this.reoRel)&&this.subs.push((this.reoRel.useLeftItem?this.reoRel.relationship.leftItem:this.reoRel.relationship.rightItem).pipe((0,w.v7)(),(0,w.Bo)(),(0,Z.p)(Lt=>(0,L.a4)(Lt)&&(0,L.hj)(Lt.uuid))).subscribe(Lt=>{this.relatedItem$.next(Lt)}))}removeSelection(){this.submissionService.dispatchSave(this.submissionId),this.selectableListService.deselectSingle(this.listId,Object.assign(new B.H,{indexableObject:this.relatedItem$.getValue()})),this.store.dispatch(new oe.Fw(this.submissionItem,this.relatedItem$.getValue(),this.relationshipOptions.relationshipType,this.submissionId))}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}static{this.\u0275fac=function(Lt){return new(Lt||Ot)(t.rXU(U.K),t.rXU(M.E),t.rXU(pe.il))}}static{this.\u0275cmp=t.VBU({type:Ot,selectors:[["ds-existing-relation-list-element"]],inputs:{listId:"listId",submissionItem:"submissionItem",reoRel:"reoRel",metadataFields:"metadataFields",relationshipOptions:"relationshipOptions",submissionId:"submissionId"},outputs:{remove:"remove"},standalone:!0,features:[t.OA$,t.aNF],decls:8,vars:6,consts:[[1,"d-flex"],[1,"flex-grow-1","mr-auto"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[3,"showMessage"],[3,"showLabel","viewMode","object"]],template:function(Lt,st){1&Lt&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,tt,2,1,"ng-container",2),t.nI1(3,"async"),t.DNE(4,_t,3,5,"ng-container",2),t.nI1(5,"async"),t.k0s(),t.j41(6,"button",3),t.bIt("click",function(){return st.removeSelection()}),t.nrm(7,"i",4),t.k0s()()),2&Lt&&(t.R7$(2),t.Y8G("ngIf",void 0===t.bMT(3,2,st.relatedItem$)),t.R7$(2),t.Y8G("ngIf",t.bMT(5,4,st.relatedItem$)))},dependencies:[Q.v,i.Jj,De.v,i.bT],styles:["span.text-contents[_ngcontent-%COMP%]{padding:var(--bs-btn-padding-y) 0}"]})}}return Ot})();var it=n(37636),Ge=n(6011);const gt=["componentViewContainer"],Pe=["*"],we=(Ot,Zt)=>[Ot,Zt],vt=Ot=>({$implicit:Ot}),at=(Ot,Zt)=>({"form-row":Ot,"d-none":Zt}),nt=()=>({standalone:!0}),lt=Ot=>({"d-block pb-2 pt-2":Ot});function ve(Ot,Zt){if(1&Ot&&(t.nrm(0,"label",12),t.nI1(1,"translate"),t.nI1(2,"translate")),2&Ot){const Dt=t.XpG();t.Y8G("id","label_"+Dt.model.id)("for",Dt.id)("innerHTML",Dt.model.required&&Dt.model.label?t.bMT(1,4,Dt.model.label)+" *":t.bMT(2,6,Dt.model.label),t.npT)("ngClass",t.l_i(8,we,Dt.getClass("element","label"),Dt.getClass("grid","label")))}}function Ne(Ot,Zt){1&Ot&&t.eu8(0)}function ut(Ot,Zt){if(1&Ot&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&Ot){const Dt=t.XpG();t.Y8G("innerHTML",t.bMT(1,2,Dt.model.hint),t.npT)("ngClass",Dt.getClass("element","hint"))}}function cn(Ot,Zt){1&Ot&&t.nrm(0,"div",14)}function nn(Ot,Zt){if(1&Ot&&(t.j41(0,"small",17),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Ot){const Dt=Zt.$implicit,Lt=t.XpG(2);t.R7$(),t.JRh(t.i5U(2,1,Dt,Lt.model.validators))}}function Mn(Ot,Zt){if(1&Ot&&(t.j41(0,"div",15),t.DNE(1,nn,3,4,"small",16),t.k0s()),2&Ot){const Dt=t.XpG();t.Y8G("id",Dt.id+"_errors")("ngClass",t.l_i(3,we,Dt.getClass("element","errors"),Dt.getClass("grid","errors"))),t.R7$(),t.Y8G("ngForOf",Dt.errorMessages)}}function Tt(Ot,Zt){if(1&Ot&&(t.j41(0,"option",21),t.EFF(1),t.k0s()),2&Ot){const Dt=Zt.$implicit;t.Y8G("value",Dt.code),t.R7$(),t.JRh(Dt.display)}}function $t(Ot,Zt){if(1&Ot){const Dt=t.RV6();t.j41(0,"div",18)(1,"select",19,1),t.mxI("ngModelChange",function(st){t.eBV(Dt);const Le=t.XpG();return t.DH7(Le.model.language,st)||(Le.model.language=st),t.Njj(st)}),t.bIt("blur",function(st){t.eBV(Dt);const Le=t.XpG();return t.Njj(Le.onBlur(st))})("change",function(st){t.eBV(Dt);const Le=t.XpG();return t.Njj(Le.onChangeLanguage(st))}),t.DNE(3,Tt,2,2,"option",20),t.k0s()()}if(2&Ot){const Dt=t.XpG();t.R7$(),t.Y8G("disabled",Dt.model.readOnly),t.R50("ngModel",Dt.model.language),t.Y8G("ngModelOptions",t.lJ4(4,nt)),t.R7$(2),t.Y8G("ngForOf",Dt.model.languageCodes)}}function St(Ot,Zt){if(1&Ot){const Dt=t.RV6();t.j41(0,"div",22)(1,"button",23),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(st){return t.eBV(Dt),t.XpG().openLookup(),t.Njj(st.stopPropagation())}),t.nrm(4,"i",24),t.k0s()()}2&Ot&&(t.R7$(),t.FS9("ngbTooltip",t.bMT(2,2,"form.lookup-help")),t.BMQ("aria-label",t.bMT(3,4,"form.lookup-help")))}function Jt(Ot,Zt){1&Ot&&t.eu8(0)}function ln(Ot,Zt){if(1&Ot){const Dt=t.RV6();t.j41(0,"ds-existing-metadata-list-element",27),t.nI1(1,"async"),t.nI1(2,"async"),t.bIt("remove",function(){t.eBV(Dt);const st=t.XpG(2);return t.Njj(st.onRemove())}),t.k0s()}if(2&Ot){const Dt=t.XpG(2);t.Y8G("reoRel",t.bMT(1,6,Dt.relationshipValue$))("submissionItem",t.bMT(2,8,Dt.item$))("listId",Dt.listId)("metadataFields",Dt.model.metadataFields)("submissionId",Dt.model.submissionId)("relationshipOptions",Dt.model.relationship)}}function It(Ot,Zt){if(1&Ot&&(t.nrm(0,"ds-existing-relation-list-element",28),t.nI1(1,"async"),t.nI1(2,"async")),2&Ot){const Dt=t.XpG(2);t.Y8G("ngClass",t.eq3(11,lt,!(null!=Dt.context&&Dt.context.index)))("reoRel",t.bMT(1,7,Dt.relationshipValue$))("submissionItem",t.bMT(2,9,Dt.item$))("listId",Dt.listId)("metadataFields",Dt.model.metadataFields)("submissionId",Dt.model.submissionId)("relationshipOptions",Dt.model.relationship)}}function zt(Ot,Zt){if(1&Ot&&(t.nrm(0,"small",13),t.nI1(1,"translate")),2&Ot){const Dt=t.XpG(2);t.Y8G("innerHTML",t.bMT(1,2,Dt.model.hint),t.npT)("ngClass",Dt.getClass("element","hint"))}}function Ht(Ot,Zt){if(1&Ot&&(t.qex(0),t.DNE(1,ln,3,10,"ds-existing-metadata-list-element",25)(2,It,3,13,"ds-existing-relation-list-element",26)(3,zt,2,4,"small",6),t.nrm(4,"div",14),t.bVm()),2&Ot){const Dt=t.XpG();t.R7$(),t.Y8G("ngIf",Dt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",!Dt.model.hasSelectableMetadata),t.R7$(),t.Y8G("ngIf",Dt.hasHint&&(!1===Dt.model.repeatable||(null==Dt.context?null:Dt.context.index)===(null==Dt.context||null==Dt.context.context||null==Dt.context.context.groups?null:Dt.context.context.groups.length)-1)&&(!Dt.showErrorMessages||0===Dt.errorMessages.length))}}let At=(()=>{class Ot extends f.R7k{get componentType(){return this.dynamicFormControlFn(this.model)}constructor(Dt,Lt,st,Le,je,He,Be,Pt,Je,Nt,Et,qt,fn,Cn,ns,hs,Gs,yt){super(fn,Dt,st,Le,Lt,Be),this.componentFactoryResolver=Dt,this.dynamicFormComponentService=Lt,this.layoutService=st,this.validationService=Le,this.typeBindRelationService=je,this.translateService=He,this.relationService=Be,this.modalService=Pt,this.relationshipService=Je,this.selectableListService=Nt,this.store=Et,this.submissionObjectService=qt,this.ref=fn,this.formBuilderService=Cn,this.submissionService=ns,this.metadataService=hs,this.appConfig=Gs,this.dynamicFormControlFn=yt,this.asBootstrapFormGroup=!1,this.bindId=!0,this.context=null,this.hasErrorMessaging=!1,this.layout=null,this.subs=[],this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.isRelationship=(0,L.a4)(this.model.relationship);const Dt=(0,L.a4)(this.model.relationshipConfig);if(this.isRelationship||Dt){const Lt=this.model.relationshipConfig||this.model.relationship,st=Object.assign(new V.j,Lt);if(this.listId=`list-${this.model.submissionId}-${st.relationshipType}`,this.setItem(),Dt||!this.model.repeatable){const Le=this.selectableListService.getSelectableList(this.listId).pipe((0,_.I)(je=>(0,L.Tn)(je)),(0,v.n)(()=>this.item$.pipe((0,y.s)(1))),(0,v.n)(je=>{const He=this.relationshipService.getItemRelationshipsByLabel(je,st.relationshipType,void 0,!0,!0,(0,$.s)("leftItem"),(0,$.s)("rightItem"),(0,$.s)("relationshipType"));return He.pipe((0,w.ak)(),(0,w.W8)()).subscribe(Be=>{Be.forEach(Pt=>{const Je=je.firstMetadata(st.metadataField,{authority:`${h.BY}${Pt.id}`}),Nt=je.firstMetadata(this.model.metadataFields,{authority:`${h.BY}${Pt.id}`});(0,L.a4)(Je)&&(0,L.hj)(Je.value)&&(0,L.a4)(Nt)&&(0,L.hj)(Nt.value)&&this.relationshipService.setNameVariant(this.listId,Je.value,Nt.value)})}),He.pipe((0,P.EF)(je.uuid),(0,w.yd)(),(0,C.T)(Be=>Be.payload.page.map(Pt=>Object.assign(new B.H,{indexableObject:Pt}))))})).subscribe(je=>this.selectableListService.select(this.listId,je));this.subs.push(Le)}if(this.value=(0,L.a4)(this.model.metadataValue)?Object.assign(new z.e,this.model.metadataValue):Object.assign(new z.e,this.model.value),(0,L.a4)(this.value)&&this.metadataService.isVirtual(this.value)){const Le=this.relationshipService.findById(this.metadataService.virtualValue(this.value),!0,!0,...(0,j.nW)(this.fetchThumbnail,this.appConfig.item.showAccessStatuses)).pipe((0,w.v7)(),(0,w.Bo)());this.relationshipValue$=(0,p.z)([this.item$.pipe((0,y.s)(1)),Le]).pipe((0,v.n)(([je,He])=>He.leftItem.pipe((0,w.v7)(),(0,w.Bo)(),(0,C.T)(Be=>new ue(He,Be.uuid!==je.uuid,this.store,this.model.submissionId)))),(0,O.Z)(void 0))}}}get isCheckbox(){return this.model.type===f.eU4||this.model.type===it.L}ngOnChanges(Dt){Dt&&!this.isRelationship&&(0,L.a4)(this.group.get(this.model.id))&&(super.ngOnChanges(Dt),this.model&&this.model.placeholder&&(this.model.placeholder=this.translateService.instant(this.model.placeholder)),this.model.typeBindRelations&&this.model.typeBindRelations.length>0&&this.subscriptions.push(...this.typeBindRelationService.subscribeRelations(this.model,this.control)))}ngDoCheck(){(0,L.EA)(this.showErrorMessagesPreviousStage)&&this.showErrorMessagesPreviousStage!==this.showErrorMessages&&(this.showErrorMessagesPreviousStage=this.showErrorMessages,this.forceShowErrorDetection())}ngAfterViewInit(){this.showErrorMessagesPreviousStage=this.showErrorMessages}createFormControlComponent(){if(super.createFormControlComponent(),null!==this.componentType){let Dt;this.context&&this.context instanceof f.fHx&&(Dt=this.context.index);const Lt=this.dynamicFormComponentService.getFormControlRef(this.model,Dt);Lt&&(Lt.formModel=this.formModel,Lt.formGroup=this.formGroup)}}forceShowErrorDetection(){this.showErrorMessages&&(this.destroyFormControlComponent(),this.createFormControlComponent())}onChangeLanguage(Dt){(0,L.hj)(this.model.value)&&this.onChange(Dt)}hasRelationship(){return(0,L.hj)(this.model)&&this.model.hasOwnProperty("relationship")&&(0,L.hj)(this.model.relationship)}isVirtual(){const Dt=this.model.metadataValue;return(0,L.hj)(Dt)&&Dt.isVirtual}hasResultsSelected(){return this.model.value.pipe((0,C.T)(Dt=>(0,L.hj)(Dt)))}openLookup(){this.modalRef=this.modalService.open(Ge.d,{size:"lg"}),(0,L.a4)(this.model.value)&&(this.focus.emit({$event:new Event("focus"),context:this.context,control:this.control,model:this.model,type:f.HkG.Focus}),this.change.emit({$event:new Event("change"),context:this.context,control:this.control,model:this.model,type:f.HkG.Change})),this.submissionService.dispatchSave(this.model.submissionId);const Dt=this.modalRef.componentInstance;(0,L.a4)(this.model.value)&&!this.model.readOnly&&("string"==typeof this.model.value?Dt.query=this.model.value:"string"==typeof this.model.value.value&&(Dt.query=this.model.value.value)),Dt.repeatable=this.model.repeatable,Dt.listId=this.listId,Dt.relationshipOptions=this.model.relationship,Dt.label=this.model.relationship.relationshipType,Dt.metadataFields=this.model.metadataFields,Dt.item=this.item,Dt.collection=this.collection,Dt.submissionId=this.model.submissionId}onRemove(){const Dt=this.context.context,Lt=this.formBuilderService.getPath(Dt),st=this.group.root.get(Lt);this.formBuilderService.removeFormArrayGroup(this.context.index,st,Dt),0===this.model.parent.context.groups.length&&this.formBuilderService.addFormArrayGroup(st,Dt)}ngOnDestroy(){this.subs.filter(Dt=>(0,L.a4)(Dt)).forEach(Dt=>Dt.unsubscribe())}get hasHint(){return(0,L.hj)(this.model.hint)&&"&nbsp;"!==this.model.hint}setItem(){const Dt=this.submissionObjectService.findById(this.model.submissionId,!0,!0,(0,$.s)("item"),(0,$.s)("collection")).pipe((0,w.v7)(),(0,w.Bo)());this.item$=Dt.pipe((0,v.n)(st=>st.item.pipe((0,w.v7)(),(0,w.Bo)())));const Lt=Dt.pipe((0,v.n)(st=>st.collection.pipe((0,w.v7)(),(0,w.Bo)())));this.subs.push(this.item$.subscribe(st=>this.item=st)),this.subs.push(Lt.subscribe(st=>this.collection=st))}static{this.\u0275fac=function(Lt){return new(Lt||Ot)(t.rXU(t.OM3),t.rXU(f.cYz),t.rXU(f.fpj),t.rXU(f.STK),t.rXU(J),t.rXU(m.c$),t.rXU(f.$eO),t.rXU(e.Bq),t.rXU(D.RelationshipDataService),t.rXU(U.K),t.rXU(pe.il),t.rXU(b.$),t.rXU(t.gRc),t.rXU(G.j),t.rXU(M.E),t.rXU(R.T),t.rXU(I.vQ),t.rXU(f.Fdw))}}static{this.\u0275cmp=t.VBU({type:Ot,selectors:[["ds-dynamic-form-control-container"]],contentQueries:function(Lt,st,Le){if(1&Lt&&t.wni(Le,f.vJF,4),2&Lt){let je;t.mGM(je=t.lsd())&&(st.contentTemplateList=je)}},viewQuery:function(Lt,st){if(1&Lt&&t.GBs(gt,7,t.c1b),2&Lt){let Le;t.mGM(Le=t.lsd())&&(st.componentViewContainerRef=Le.first)}},inputs:{inputTemplateList:[t.Mj6.None,"templates","inputTemplateList"],hasMetadataModel:"hasMetadataModel",formId:"formId",formGroup:"formGroup",formModel:"formModel",asBootstrapFormGroup:"asBootstrapFormGroup",bindId:"bindId",context:"context",group:"group",hostClass:"hostClass",hasErrorMessaging:"hasErrorMessaging",layout:"layout",model:"model"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.OA$,t.aNF],ngContentSelectors:Pe,decls:16,vars:27,consts:[["componentViewContainer",""],["language","ngModel"],[3,"formGroup","ngClass"],[3,"id","for","innerHTML","ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["class","text-muted ds-hint",3,"innerHTML","ngClass",4,"ngIf"],["class","clearfix w-100 mb-2",4,"ngIf"],[3,"id","ngClass",4,"ngIf"],["class","col-xs-2",4,"ngIf"],["class","col-auto text-center",4,"ngIf"],[4,"ngIf"],[3,"id","for","innerHTML","ngClass"],[1,"text-muted","ds-hint",3,"innerHTML","ngClass"],[1,"clearfix","w-100","mb-2"],[3,"id","ngClass"],["class","invalid-feedback d-block",4,"ngFor","ngForOf"],[1,"invalid-feedback","d-block"],[1,"col-xs-2"],["required","",1,"form-control",3,"ngModelChange","blur","change","disabled","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-auto","text-center"],["type","button","placement","top","data-test","lookup-button",1,"btn","btn-secondary",3,"click","ngbTooltip"],[1,"fa","fa-search"],[3,"reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions","remove",4,"ngIf"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions",4,"ngIf"],[3,"remove","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"],[3,"ngClass","reoRel","submissionItem","listId","metadataFields","submissionId","relationshipOptions"]],template:function(Lt,st){1&Lt&&(t.NAR(),t.j41(0,"div",2),t.DNE(1,ve,3,11,"label",3)(2,Ne,1,0,"ng-container",4),t.j41(3,"div",5)(4,"div",5)(5,"div"),t.eu8(6,null,0),t.k0s(),t.DNE(8,ut,2,4,"small",6)(9,cn,1,0,"div",7)(10,Mn,2,6,"div",8),t.k0s(),t.DNE(11,$t,4,5,"div",9)(12,St,5,6,"div",10),t.k0s(),t.DNE(13,Jt,1,0,"ng-container",4)(14,Ht,5,3,"ng-container",11),t.SdG(15),t.k0s()),2&Lt&&(t.AVh("form-group","GROUP"!==st.model.type&&st.asBootstrapFormGroup||st.getClass("element","container").includes("form-group"))("d-none",st.model.hidden),t.Y8G("formGroup",st.group)("ngClass",t.l_i(19,we,st.getClass("element","container"),st.getClass("grid","container"))),t.R7$(),t.Y8G("ngIf",!st.isCheckbox&&st.hasLabel),t.R7$(),t.Y8G("ngTemplateOutlet",null==st.startTemplate?null:st.startTemplate.templateRef)("ngTemplateOutletContext",t.eq3(22,vt,st.model)),t.R7$(),t.Y8G("ngClass",t.l_i(24,at,st.model.hasLanguages||st.isRelationship,st.metadataService.isVirtual(st.value)&&(st.model.hasSelectableMetadata||(null==st.context?null:st.context.index)>0))),t.R7$(),t.Y8G("ngClass",st.getClass("grid","control")),t.R7$(4),t.Y8G("ngIf",st.hasHint&&(st.formBuilderService.hasArrayGroupValue(st.model)||!st.model.repeatable&&(!1===st.isRelationship||null===(null==st.value?null:st.value.value))||!0===st.model.repeatable&&(null==st.context?null:st.context.index)===(null==st.context||null==st.context.context||null==st.context.context.groups?null:st.context.context.groups.length)-1)&&(!st.showErrorMessages||0===st.errorMessages.length)),t.R7$(),t.Y8G("ngIf",null!==(null==st.context?null:st.context.index)&&(!st.showErrorMessages||0===st.errorMessages.length)),t.R7$(),t.Y8G("ngIf",!st.model.hideErrorMessages&&st.showErrorMessages),t.R7$(),t.Y8G("ngIf",st.model.languageCodes&&st.model.languageCodes.length>0),t.R7$(),t.Y8G("ngIf",st.isRelationship),t.R7$(),t.Y8G("ngTemplateOutlet",null==st.endTemplate?null:st.endTemplate.templateRef)("ngTemplateOutletContext",st.model),t.R7$(),t.Y8G("ngIf",st.metadataService.isVirtual(st.value)))},dependencies:[ae,i.bT,i.YU,i.Jj,m.h,m.D9,l.X1,l.xH,l.y7,l.wz,l.BC,l.cb,l.YS,l.j4,i.Sq,l.YN,l.vS,e.n8,e.md,i.T3,dt],styles:["[_nghost-%COMP%]     .ds-form-input-addon{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}[_nghost-%COMP%]     .ds-form-input-btn{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}[_nghost-%COMP%]     .ds-form-input-btn:focus{box-shadow:none!important}[_nghost-%COMP%]     button.ds-form-add-more:focus{outline:none;box-shadow:none!important}[_nghost-%COMP%]     .ds-form-input-value{border-top-left-radius:0!important;border-bottom-left-radius:0!important}[_nghost-%COMP%]     .fa-spin{pointer-events:none}[_nghost-%COMP%]     .left-addon .far, [_nghost-%COMP%]     .left-addon .fas, [_nghost-%COMP%]     .left-addon i{left:0}[_nghost-%COMP%]     .right-addon .far, [_nghost-%COMP%]     .right-addon .fas, [_nghost-%COMP%]     .right-addon i{right:0}[_nghost-%COMP%]     .left-addon input{padding-left:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .right-addon input{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]     .custom-select{appearance:none}"]})}}return Ot})()},37636:(N,T,n)=>{"use strict";n.d(T,{L:()=>l,i:()=>e});var i=n(31635),t=n(1473);const l="CUSTOM_SWITCH";class e extends t.M7d{constructor(m,p){super(m,p),this.type=l}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"type",void 0)},33382:(N,T,n)=>{"use strict";n.d(T,{q:()=>w,P:()=>b});var i=n(60177),t=n(54438),l=n(89417),e=n(1473),f=n(41780),m=n(48125),p=n.n(m),_=n(82777),v=n(60456);const y=P=>({field:P}),C=P=>({"is-invalid":P});let O=(()=>{class P{constructor(L,B,U){this.fb=L,this.cd=B,this.translate=U,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB}ngOnInit(){this.step=this.step||1,this.min=this.min||0,this.max=this.max||100,this.size=this.size||1,this.disabled=this.disabled||!1,this.invalid=this.invalid||!1,this.cd.detectChanges()}ngOnChanges(L){this.value?L.max&&(this.value=this.value>this.max?this.max:this.value):L.value&&null===L.value.currentValue?this.value=null:L.invalid&&(this.invalid=L.invalid.currentValue)}changeValue(L=!1){if((0,_.Im)(this.value))this.value=this.startValue;else{this.startValue=this.value;let B=this.value;L?B-=this.step:B+=this.step,this.value=B>=this.min&&B<=this.max?B:B>this.max?this.min:this.max}this.emitChange()}toggleDown(){this.changeValue(!0)}toggleUp(){this.changeValue()}update(L){try{const B=Number.parseInt(L.target.value,10);this.value=B>=this.min&&B<=this.max?B:null===L.target.value||""===L.target.value?null:void 0,this.emitChange()}catch{this.value=void 0}}onBlur(L){this.blur.emit(L)}onFocus(L){this.value&&(this.startValue=this.value),this.focus.emit(L)}writeValue(L){this.startValue=L||this.min}registerOnChange(L){}registerOnTouched(L){}emitChange(){this.change.emit({field:this.name,value:this.value})}static{this.\u0275fac=function(B){return new(B||P)(t.rXU(l.ze),t.rXU(t.gRc),t.rXU(f.c$))}}static{this.\u0275cmp=t.VBU({type:P,selectors:[["ds-number-picker"]],inputs:{id:"id",step:"step",min:"min",max:"max",size:"size",placeholder:"placeholder",name:"name",disabled:"disabled",invalid:"invalid",value:"value"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Jv_([{provide:l.kq,useExisting:P,multi:!0}]),t.OA$,t.aNF],decls:12,vars:27,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-around","mr-3"],["type","button","tabindex","0",1,"btn","btn-link-focus",3,"click","dsBtnDisabled"],[1,"chevron"],[1,"sr-only"],["type","text",1,"form-control","d-inline-block","text-center",3,"ngModelChange","blur","change","focus","id","maxlength","size","placeholder","name","ngModel","readonly","disabled","ngClass","title"],[1,"chevron","bottom"]],template:function(B,U){1&B&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return U.toggleUp()}),t.nrm(2,"span",2),t.j41(3,"span",3),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"input",4),t.mxI("ngModelChange",function(j){return t.DH7(U.value,j)||(U.value=j),j}),t.bIt("blur",function(j){return U.onBlur(j),j.stopPropagation()})("change",function(j){return U.update(j),j.stopPropagation()})("focus",function(j){return U.onFocus(j),j.stopPropagation()}),t.k0s(),t.j41(7,"button",1),t.bIt("click",function(){return U.toggleDown()}),t.nrm(8,"span",5),t.j41(9,"span",3),t.EFF(10),t.nI1(11,"translate"),t.k0s()()()),2&B&&(t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(5,15,"form.number-picker.increment",t.eq3(21,y,U.name))),t.R7$(2),t.FS9("id",U.id),t.FS9("maxlength",U.size),t.FS9("size",U.size),t.FS9("placeholder",U.placeholder),t.FS9("title",U.placeholder),t.Y8G("name",U.name),t.R50("ngModel",U.value),t.Y8G("readonly",U.disabled)("disabled",U.disabled)("ngClass",t.eq3(23,C,U.invalid)),t.BMQ("aria-label",U.placeholder),t.R7$(),t.Y8G("dsBtnDisabled",U.disabled),t.R7$(3),t.JRh(t.i5U(11,18,"form.number-picker.decrement",t.eq3(25,y,U.name))))},dependencies:[i.YU,l.YN,l.me,l.BC,l.tU,l.vS,f.h,f.D9,v.A],styles:['[_nghost-%COMP%]{outline:none}.chevron[_ngcontent-%COMP%]:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.71em}.chevron.bottom[_ngcontent-%COMP%]:before{top:-.3em;transform:rotate(135deg)}input[_ngcontent-%COMP%]{max-width:80px!important}.btn-link-focus[_ngcontent-%COMP%]{font-weight:400;color:#1f7293;text-decoration:none}.btn-link-focus[_ngcontent-%COMP%]:hover{color:#124154;text-decoration:underline}.btn-link-focus[_ngcontent-%COMP%]:disabled, .btn-link-focus.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none}.btn-link-focus[_ngcontent-%COMP%]:focus, .btn-link-focus.focus[_ngcontent-%COMP%]{text-decoration:underline}']})}}return P})();n(87668);const D=(P,M)=>[P,M];function R(P,M){1&P&&(t.j41(0,"span"),t.EFF(1,"*"),t.k0s())}function h(P,M){if(1&P&&(t.j41(0,"legend",5),t.EFF(1),t.DNE(2,R,2,0,"span",6),t.k0s()),2&P){const L=t.XpG();t.Y8G("id","legend_"+L.model.id)("ngClass",t.l_i(4,D,L.getClass("element","label"),L.getClass("grid","label"))),t.R7$(),t.SpI(" ",L.model.placeholder," "),t.R7$(),t.Y8G("ngIf",L.model.required)}}const w="-";let b=(()=>{class P extends e.S6A{constructor(L,B,U,$){super(L,B),this.layoutService=L,this.validationService=B,this.renderer=U,this._document=$,this.bindId=!0,this.selected=new t.bkB,this.remove=new t.bkB,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.minMonth=1,this.maxMonth=12,this.minDay=1,this.maxDay=31,this.disabledMonth=!0,this.disabledDay=!0,this.fields=["_year","_month","_day"]}ngOnInit(){const L=new Date;if(this.initialYear=L.getUTCFullYear(),this.initialMonth=L.getUTCMonth()+1,this.initialDay=L.getUTCDate(),this.model&&null!==this.model.value){const B=this.model.value.toString().split(w);B.length>0&&(this.initialYear=parseInt(B[0],10),this.year=this.initialYear,this.disabledMonth=!1),B.length>1&&(this.initialMonth=parseInt(B[1],10),this.month=this.initialMonth,this.disabledDay=!1),B.length>2&&(this.initialDay=parseInt(B[2],10),this.day=this.initialDay)}this.maxYear=L.getUTCFullYear()+100}onBlur(L){this.blur.emit()}onChange(L){switch(L.field){case"year":null!==L.value?this.year=L.value:(this.year=void 0,this.month=void 0,this.day=void 0,this.disabledMonth=!0,this.disabledDay=!0);break;case"month":null!==L.value?this.month=L.value:(this.month=void 0,this.day=void 0,this.disabledDay=!0);break;case"day":this.day=null!==L.value?L.value:void 0}if(!this.disabledDay){const $=new Date(this.year,this.month?this.month-1:0,1);this.maxDay=this.getLastDay($),this.day>this.maxDay&&(this.day=this.maxDay)}(0,_.a4)(this.year)&&"year"===L.field?this.disabledMonth=!1:(0,_.a4)(this.month)&&"month"===L.field&&(this.disabledDay=!1);let B=null;if((0,_.a4)(this.year)){let U=this.year.toString();for(;U.length<4;)U="0"+U;B=U}if((0,_.a4)(this.month)){const U=1===this.month.toString().length?"0"+this.month.toString():this.month.toString();B+=w+U}if((0,_.a4)(this.day)){const U=1===this.day.toString().length?"0"+this.day.toString():this.day.toString();B+=w+U}this.model.value=B,this.change.emit(B)}onTabKeydown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const U=this.selectedFieldIndex(B);if(U<0)return;const $=U+1;$<this.fields.length&&this.focusInput(this.fields[$])}onShiftTabKeyDown(L){L.preventDefault();const B=this._document.activeElement;B.blur();const $=this.selectedFieldIndex(B)-1;$>=0&&this.focusInput(this.fields[$])}selectedFieldIndex(L){return this.fields.findIndex(B=>p()(L.id,this.model.id.concat(B)))}focusInput(L){const B=this._document.getElementById(this.model.id.concat(L));B&&((0,_.a4)(this.year)&&p()(L,"_year")&&(this.disabledMonth=!0,this.disabledDay=!0),(0,_.a4)(this.year)&&p()(L,"_month")?this.disabledMonth=!1:(0,_.a4)(this.month)&&p()(L,"_day")&&(this.disabledDay=!1),setTimeout(()=>{this.renderer.selectRootElement(B).focus()},100))}onFocus(L){this.focus.emit(L)}getLastDay(L){return L.setMonth(L.getMonth()+1,0),L.getDate()}static{this.\u0275fac=function(B){return new(B||P)(t.rXU(e.fpj),t.rXU(e.STK),t.rXU(t.sFG),t.rXU(i.qQ))}}static{this.\u0275cmp=t.VBU({type:P,selectors:[["ds-date-picker"]],hostBindings:function(B,U){1&B&&t.bIt("keydown.tab",function(j){return U.onTabKeydown(j)})("keydown.shift.tab",function(j){return U.onShiftTabKeyDown(j)})},inputs:{bindId:"bindId",group:"group",model:"model",legend:"legend"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:14,vars:38,consts:[[1,"d-flex","data"],[3,"id","ngClass",4,"ngIf"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","disabled","min","max","name","size","ngModel","value","invalid","placeholder"],["tabindex","0",3,"ngModelChange","blur","change","focus","id","min","max","name","size","ngModel","value","placeholder","disabled"],[1,"clearfix"],[3,"id","ngClass"],[4,"ngIf"]],template:function(B,U){1&B&&(t.j41(0,"div")(1,"fieldset",0),t.DNE(2,h,3,7,"legend",1),t.nrm(3,"br"),t.j41(4,"span"),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"ds-number-picker",2),t.nI1(8,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialYear,j)||(U.initialYear=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s(),t.j41(9,"ds-number-picker",3),t.nI1(10,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialMonth,j)||(U.initialMonth=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s(),t.j41(11,"ds-number-picker",3),t.nI1(12,"translate"),t.mxI("ngModelChange",function(j){return t.DH7(U.initialDay,j)||(U.initialDay=j),j}),t.bIt("blur",function(j){return U.onBlur(j)})("change",function(j){return U.onChange(j)})("focus",function(j){return U.onFocus(j)}),t.k0s()()(),t.nrm(13,"div",4)),2&B&&(t.R7$(2),t.Y8G("ngIf",!U.model.repeatable),t.R7$(3),t.JRh(t.bMT(6,30,"date.picker.hint.neki")),t.R7$(2),t.Y8G("id",U.model.id+"_year")("disabled",U.model.disabled)("min",U.minYear)("max",U.maxYear)("name","year")("size",4),t.R50("ngModel",U.initialYear),t.Y8G("value",U.year)("invalid",U.showErrorMessages)("placeholder",t.bMT(8,32,"form.date-picker.placeholder.year")),t.R7$(2),t.Y8G("id",U.model.id+"_month")("min",U.minMonth)("max",U.maxMonth)("name","month")("size",6),t.R50("ngModel",U.initialMonth),t.Y8G("value",U.month)("placeholder",t.bMT(10,34,"form.date-picker.placeholder.month"))("disabled",!U.year||U.model.disabled),t.R7$(2),t.Y8G("id",U.model.id+"_day")("min",U.minDay)("max",U.maxDay)("name","day")("size",2),t.R50("ngModel",U.initialDay),t.Y8G("value",U.day)("placeholder",t.bMT(12,36,"form.date-picker.placeholder.day"))("disabled",!U.month||U.model.disabled))},dependencies:[i.YU,i.bT,O,l.YN,l.BC,l.vS,f.h,f.D9],styles:[".col-lg-1[_ngcontent-%COMP%]{width:auto}legend[_ngcontent-%COMP%]{font-size:initial}.data[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}"]})}}return P})()},87668:(N,T,n)=>{"use strict";n.d(T,{g:()=>_,s:()=>p});var i=n(31635),t=n(1473),l=n(84412),e=n(21413),f=n(14391),m=n(82777);const p="DATE";class _ extends t.eGm{constructor(y,C){super(y,C),this.type=p,this.hasLanguages=!1,this.repeatable=!1,this.malformedDate=!1,this.legend=y.legend,this.metadataValue=y.metadataValue,this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[],this.hiddenUpdates=new l.t(this.hidden),this.repeatable=y.repeatable;const O=this.getRootParent(this);O&&(0,m.EA)(O.hidden)&&(O.hidden=this.hidden)}getRootParent(y){return(0,m.Im)(y)||(0,m.Im)(y.parent)?y:this.getRootParent(y.parent)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.B)],_.prototype,"hiddenUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",f.vD)],_.prototype,"metadataValue",void 0)},6458:(N,T,n)=>{"use strict";n.d(T,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="EMPTY";class f extends l.C{constructor(p,_){super(p,_),this.type=e,this.readOnly=!0,this.disabled=!0,this.hasSelectableMetadata=p.hasSelectableMetadata,this.value=p.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0)},66733:(N,T,n)=>{"use strict";n.d(T,{C:()=>_});var i=n(31635),t=n(1473),l=n(21413),e=n(89293),f=n(82777),m=n(61280),p=n(56568);class _ extends t.rA_{constructor(y,C){super(y,C),this.typeBindHidden=!1,this.repeatable=y.repeatable,this.metadataFields=y.metadataFields,this.hint=y.hint,this.readOnly=y.readOnly,this.disabled=y.readOnly,this.value=y.value,this.relationship=y.relationship,this.submissionId=y.submissionId,this.hasSelectableMetadata=y.hasSelectableMetadata,this.metadataValue=y.metadataValue,this.place=y.place,this.isModelOfInnerForm=!!(0,f.a4)(y.isModelOfInnerForm)&&y.isModelOfInnerForm,this.hideErrorMessages=y.hideErrorMessages,this.language=y.language,this.language||(y.value instanceof m.e?this.language=y.value.language:Array.isArray(y.value)&&y.value[0].language&&(this.language=y.value[0].language)),this.languageCodes=y.languageCodes,this.languageUpdates=new l.B,this.languageUpdates.subscribe(O=>{this.language=O}),this.typeBindRelations=y.typeBindRelations?y.typeBindRelations:[],this.vocabularyOptions=y.vocabularyOptions}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get hasLanguages(){return this.languageCodes&&this.languageCodes.length>1}get language(){return this._language}set language(y){this._language=y}get languageCodes(){return this._languageCodes}set languageCodes(y){this._languageCodes=y,(!this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],_.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"_languageCodes",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"_language",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",l.B)],_.prototype,"languageUpdates",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],_.prototype,"place",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],_.prototype,"typeBindHidden",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",p.j)],_.prototype,"relationship",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],_.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],_.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",m.e)],_.prototype,"metadataValue",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"isModelOfInnerForm",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],_.prototype,"hideErrorMessages",void 0)},8590:(N,T,n)=>{"use strict";n.d(T,{m:()=>f});var i=n(31635),t=n(1473),l=n(82777),e=n(56568);class f extends t.UqU{constructor(p,_){super(p,_),this.notRepeatable=!1,this.required=!1,this.showButtons=!0,this.isRowArray=!0,this.isInlineGroupArray=!1,(0,l.a4)(p.notRepeatable)&&(this.notRepeatable=p.notRepeatable),(0,l.a4)(p.required)&&(this.required=p.required),(0,l.a4)(p.showButtons)&&(this.showButtons=p.showButtons),this.submissionId=p.submissionId,this.relationshipConfig=p.relationshipConfig,this.metadataKey=p.metadataKey,this.metadataFields=p.metadataFields,this.hasSelectableMetadata=p.hasSelectableMetadata,this.isDraggable=p.isDraggable,this.typeBindRelations=p.typeBindRelations?p.typeBindRelations:[],this.isInlineGroupArray=!!p.isInlineGroupArray&&p.isInlineGroupArray}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"notRepeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.j)],f.prototype,"relationshipConfig",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"metadataKey",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"metadataFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"hasSelectableMetadata",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"isDraggable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],f.prototype,"showButtons",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0)},77485:(N,T,n)=>{"use strict";n.d(T,{E:()=>e});var i=n(31635),t=n(1473),l=n(66733);class e extends l.C{constructor(m,p){super(m,p),this.type=t.TwG,this.cols=m.cols,this.rows=m.rows,this.wrap=m.wrap}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"cols",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],e.prototype,"rows",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],e.prototype,"wrap",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Object)],e.prototype,"type",void 0)},54875:(N,T,n)=>{"use strict";n.d(T,{o:()=>C});var i=n(1473),t=n(7673),l=n(96354),e=n(32089),f=n(43235),m=n(19506),p=n(82777),_=n(61280),y=(n(66733),n(54438));let C=(()=>{class O extends i.S6A{constructor(D,R,h){super(R,h),this.vocabularyService=D,this.layoutService=R,this.validationService=h}getInitValueFromModel(D=!1){let R;if((0,p.hj)(this.model.value)&&this.model.value instanceof _.e&&!this.model.value.hasAuthorityToGenerate()){let h;h=this.model.value.hasAuthority()?this.vocabularyService.getVocabularyEntryByID(this.model.value.authority,this.model.vocabularyOptions):this.vocabularyService.getVocabularyEntryByValue(this.model.value.value,this.model.vocabularyOptions),R=h.pipe((0,l.T)(w=>{if((0,p.hj)(w)){const b=new _.e(w.value,null,w.authority,w.display,this.model.value.place,null,w.otherInformation||null);return D&&(b.confidence=this.model.value.confidence),b}return this.model.value}))}else R=(0,p.hj)(this.model.value)&&this.model.value instanceof f.b?(0,t.of)(new _.e(this.model.value.value,null,this.model.value.authority,this.model.value.display,0,null,this.model.value.otherInformation||null)):(0,t.of)(new _.e(this.model.value));return R}onBlur(D){this.blur.emit(D)}onFocus(D){this.focus.emit(D)}dispatchUpdate(D){this.model.value=D,this.change.emit(D)}updatePageInfo(D,R,h,w){this.pageInfo=Object.assign(new e.Q,{elementsPerPage:D,currentPage:R,totalElements:h,totalPages:w})}static{this.\u0275fac=function(R){return new(R||O)(y.rXU(m.g),y.rXU(i.fpj),y.rXU(i.STK))}}static{this.\u0275cmp=y.VBU({type:O,selectors:[["ds-dynamic-vocabulary"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[y.Vt3],decls:0,vars:0,template:function(R,h){},encapsulation:2})}}return O})()},29658:(N,T,n)=>{"use strict";n.d(T,{R:()=>m});var i=n(31635),t=n(1473),l=n(21413),e=n(89293),f=n(82777);class m extends t.JVJ{constructor(_,v){super(_,v),this.isListGroup=!0,this.vocabularyOptions=_.vocabularyOptions,this.groupLength=_.groupLength||5,this._value=[],this.repeatable=_.repeatable,this.required=_.required,this.hint=_.hint,this.valueUpdates=new l.B,this.valueUpdates.subscribe(y=>this.value=y),this.valueUpdates.next(_.value),this.typeBindRelations=_.typeBindRelations?_.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,f.a4)(this.vocabularyOptions.name)}get value(){return this._value}set value(_){_&&(this._value=Array.isArray(_)?_:this.value.concat([_]))}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",e.n)],m.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],m.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"_value",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],m.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"hint",void 0)},90558:(N,T,n)=>{"use strict";n.d(T,{t:()=>f});var i=n(31635),t=n(1473),l=n(89293),e=n(82777);class f extends t.tK_{constructor(p,_){super(p,_),this.isListGroup=!0,this.vocabularyOptions=p.vocabularyOptions,this.groupLength=p.groupLength||5,this.repeatable=p.repeatable,this.required=p.required,this.hint=p.hint,this.value=p.value,this.typeBindRelations=p.typeBindRelations?p.typeBindRelations:[]}get hasAuthority(){return this.vocabularyOptions&&(0,e.a4)(this.vocabularyOptions.name)}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",l.n)],f.prototype,"vocabularyOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"repeatable",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],f.prototype,"typeBindRelations",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"groupLength",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Boolean)],f.prototype,"required",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"hint",void 0)},37146:(N,T,n)=>{"use strict";n.d(T,{V:()=>e,_:()=>f});var i=n(31635),t=n(1473),l=n(80902);const e="LOOKUP_NAME";class f extends l.P{constructor(p,_){super(p,_),this.type=e,this.separator=p.separator||",",this.placeholder=p.firstPlaceholder||"form.last-name",this.secondPlaceholder=p.secondPlaceholder||"form.first-name"}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"separator",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"secondPlaceholder",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},80902:(N,T,n)=>{"use strict";n.d(T,{P:()=>f,d:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="LOOKUP";class f extends l.C{constructor(p,_){super(p,_),this.type=e,this.autoComplete=t.DAG,this.maxOptions=p.maxOptions||10,this.value=p.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},18302:(N,T,n)=>{"use strict";n.d(T,{d:()=>Ce});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(41780),m=n(71985),p=n(21413),_=n(7673),v=n(79335),y=n(70152),C=n(23294),O=n(88141),I=n(25558),D=n(99437),R=n(96354),h=n(5964),w=n(96697),b=n(96820),P=n(80183),M=n(32089),L=n(19506),B=n(82777),U=n(99390),$=n(39729),j=n(38443),G=n(61280),z=n(54875),X=(n(45500),n(1473));const J=["instance"],q=Ee=>({entry:Ee});function Z(Ee,ue){if(1&Ee&&t.eu8(0,5),2&Ee){const ae=ue.result;t.XpG();const ye=t.sdS(3),De=t.sdS(5);t.Y8G("ngTemplateOutlet",ae.hasOtherInformation()?ye:De)("ngTemplateOutletContext",t.eq3(2,q,ae))}}function H(Ee,ue){if(1&Ee&&(t.j41(0,"li",9),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Ee){const ae=ue.$implicit;t.R7$(),t.Lme(" ",t.bMT(2,2,"form.other-information."+ae.key)," : ",ae.value," ")}}function Y(Ee,ue){if(1&Ee&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s(),t.DNE(3,H,3,4,"li",8),t.nI1(4,"dsObjNgFor"),t.k0s()),2&Ee){const ae=ue.entry;t.R7$(2),t.JRh(ae.value),t.R7$(),t.Y8G("ngForOf",t.bMT(4,2,ae.otherInformation))}}function Q(Ee,ue){if(1&Ee&&(t.j41(0,"ul",6)(1,"li",7),t.EFF(2),t.k0s()()),2&Ee){const ae=ue.entry;t.R7$(2),t.JRh(ae.value)}}function ie(Ee,ue){1&Ee&&t.nrm(0,"i",15)}function oe(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"i",16),t.bIt("whenClickOnConfidenceNotAccepted",function(De){t.eBV(ae);const tt=t.XpG(2);return t.Njj(tt.whenClickOnConfidenceNotAccepted(De))}),t.k0s()}if(2&Ee){const ae=t.XpG(2);t.Y8G("authorityValue",ae.currentValue)}}function pe(Ee,ue){1&Ee&&(t.j41(0,"div",17),t.EFF(1,"Sorry, suggestions could not be loaded."),t.k0s())}function ne(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"div",10),t.DNE(1,ie,1,0,"i",11)(2,oe,1,1,"i",12),t.j41(3,"input",13,3),t.nI1(5,"translate"),t.mxI("ngModelChange",function(De){t.eBV(ae);const tt=t.XpG();return t.DH7(tt.currentValue,De)||(tt.currentValue=De),t.Njj(De)}),t.bIt("blur",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onBlur(De))})("focus",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onFocus(De))})("change",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onChange(De))})("input",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onInput(De))})("selectItem",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onSelectItem(De))}),t.k0s(),t.DNE(6,pe,2,0,"div",14),t.k0s()}if(2&Ee){const ae=t.XpG(),ye=t.sdS(1);t.R7$(),t.Y8G("ngIf",ae.searching||ae.loadingInitialValue),t.R7$(),t.Y8G("ngIf",!ae.searching&&!ae.loadingInitialValue),t.R7$(),t.AVh("is-invalid",ae.showErrorMessages),t.Y8G("id",ae.model.id)("inputFormatter",ae.formatter)("name",ae.model.name)("ngbTypeahead",ae.search)("placeholder",ae.model.placeholder)("readonly",ae.model.readOnly)("disabled",ae.model.readOnly)("resultTemplate",ye)("type",ae.model.inputType),t.R50("ngModel",ae.currentValue),t.BMQ("aria-labelledby","label_"+ae.model.id)("autoComplete",ae.model.autoComplete)("aria-label",t.bMT(5,18,ae.model.label)),t.R7$(3),t.Y8G("ngIf",ae.searchFailed)}}function re(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"div",10)(1,"i",18),t.bIt("click",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.openTree(De))}),t.k0s(),t.j41(2,"input",19),t.nI1(3,"translate"),t.bIt("focus",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onFocus(De))})("change",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.onChange(De))})("click",function(De){t.eBV(ae);const tt=t.XpG();return t.Njj(tt.openTree(De))})("keydown",function(De){return t.eBV(ae),t.Njj(De.preventDefault())})("keypress",function(De){return t.eBV(ae),t.Njj(De.preventDefault())})("keyup",function(De){return t.eBV(ae),t.Njj(De.preventDefault())}),t.k0s()()}if(2&Ee){const ae=t.XpG();t.R7$(2),t.AVh("is-invalid",ae.showErrorMessages)("tree-input",!ae.model.readOnly),t.Y8G("id",ae.id)("name",ae.model.name)("placeholder",ae.model.placeholder)("readonly",!0)("disabled",ae.model.readOnly)("type",ae.model.inputType)("value",null==ae.currentValue?null:ae.currentValue.display),t.BMQ("aria-labelledby","label_"+ae.model.id)("autoComplete",ae.model.autoComplete)("aria-label",t.bMT(3,14,ae.model.label))}}let Ce=(()=>{class Ee extends z.o{constructor(ae,ye,De,tt,_t){super(ae,De,_t),this.vocabularyService=ae,this.cdr=ye,this.layoutService=De,this.modalService=tt,this.validationService=_t,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.pageInfo=new M.Q,this.searching=!1,this.loadingInitialValue=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed$=new m.c(()=>()=>this.changeSearchingStatus(!1)),this.click$=new p.B,this.subs=[],this.formatter=We=>"object"==typeof We?We.display:We,this.search=We=>We.pipe((0,v.h)(this.click$),(0,y.B)(300),(0,C.F)(),(0,O.M)(()=>this.changeSearchingStatus(!0)),(0,I.n)(dt=>""===dt||dt.length<this.model.minChars?(0,_.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(dt,!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,P.ak)(),(0,O.M)(()=>this.searchFailed=!1),(0,D.W)(()=>(this.searchFailed=!0,(0,_.of)((0,b.g)(new M.Q,[])))))),(0,R.T)(dt=>dt.page),(0,O.M)(()=>this.changeSearchingStatus(!1)),(0,v.h)(this.hideSearchingWhenUnsubscribed$))}ngOnInit(){this.model.value&&this.setCurrentValue(this.model.value,!0),this.vocabulary$=this.vocabularyService.findVocabularyById(this.model.vocabularyOptions.name).pipe((0,P.ak)(),(0,C.F)()),this.isHierarchicalVocabulary$=this.vocabulary$.pipe((0,R.T)(ae=>ae.hierarchical)),this.subs.push(this.group.get(this.model.id).valueChanges.pipe((0,h.p)(ae=>this.currentValue!==ae)).subscribe(ae=>{this.setCurrentValue(this.model.value)}))}changeSearchingStatus(ae){this.searching=ae,this.cdr.detectChanges()}changeLoadingInitialValueStatus(ae){this.loadingInitialValue=ae,this.cdr.detectChanges()}isHierarchicalVocabulary(){return this.isHierarchicalVocabulary$}onInput(ae){!this.model.vocabularyOptions.closed&&(0,B.hj)(ae.target.value)&&(this.inputValue=new G.e(ae.target.value))}onBlur(ae){this.instance.isPopupOpen()?(ae.preventDefault(),ae.stopImmediatePropagation(),!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null)):(!this.model.vocabularyOptions.closed&&(0,B.hj)(this.inputValue)&&((0,B.Pe)(this.inputValue)&&this.model.value!==this.inputValue&&this.dispatchUpdate(this.inputValue),this.inputValue=null),this.blur.emit(ae))}onChange(ae){ae.stopPropagation(),(0,B.Im)(this.currentValue)&&this.dispatchUpdate(null)}onSelectItem(ae){this.inputValue=null,this.setCurrentValue(ae.item),this.dispatchUpdate(ae.item)}openTree(ae){this.model.readOnly||(ae.preventDefault(),ae.stopImmediatePropagation(),this.subs.push(this.vocabulary$.pipe((0,R.T)(ye=>ye.preloadLevel),(0,w.s)(1)).subscribe(ye=>{const De=this.modalService.open(j._,{size:"lg",windowClass:"treeview"});De.componentInstance.vocabularyOptions=this.model.vocabularyOptions,De.componentInstance.preloadLevel=ye,De.componentInstance.selectedItems=this.currentValue?[this.currentValue]:[],De.result.then(tt=>{tt&&(this.currentValue=tt,this.dispatchUpdate(tt))},()=>{})})))}whenClickOnConfidenceNotAccepted(ae){this.model.readOnly||this.click$.next(this.formatter(this.currentValue))}setCurrentValue(ae,ye=!1){let De;ye?(this.changeLoadingInitialValueStatus(!0),this.getInitValueFromModel(!0).subscribe(tt=>{this.changeLoadingInitialValueStatus(!1),this.currentValue=tt,this.cdr.detectChanges()})):(De=(0,B.Im)(ae)?"":ae.value,this.currentValue=De,this.cdr.detectChanges())}ngOnDestroy(){this.subs.filter(ae=>(0,B.a4)(ae)).forEach(ae=>ae.unsubscribe())}static{this.\u0275fac=function(ye){return new(ye||Ee)(t.rXU(L.g),t.rXU(t.gRc),t.rXU(X.fpj),t.rXU(e.Bq),t.rXU(X.STK))}}static{this.\u0275cmp=t.VBU({type:Ee,selectors:[["ds-dynamic-onebox"]],viewQuery:function(ye,De){if(1&ye&&t.GBs(J,5),2&ye){let tt;t.mGM(tt=t.lsd())&&(De.instance=tt.first)}},inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:10,vars:6,consts:[["rt",""],["hasInfo",""],["noInfo",""],["instance","ngbTypeahead"],["class","position-relative right-addon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["dsAuthorityConfidenceState","","class","far fa-circle fa-2x fa-fw position-absolute mt-1 p-0","aria-hidden","true",3,"authorityValue","whenClickOnConfidenceNotAccepted",4,"ngIf"],[1,"form-control",3,"ngModelChange","blur","focus","change","input","selectItem","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","disabled","resultTemplate","type","ngModel"],["class","invalid-feedback",4,"ngIf"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"invalid-feedback"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","tree-toggle",3,"click"],[1,"form-control",3,"focus","change","click","keydown","keypress","keyup","id","name","placeholder","readonly","disabled","type","value"]],template:function(ye,De){1&ye&&(t.DNE(0,Z,1,4,"ng-template",null,0,t.C5r)(2,Y,5,4,"ng-template",null,1,t.C5r)(4,Q,3,1,"ng-template",null,2,t.C5r)(6,ne,7,20,"div",4),t.nI1(7,"async"),t.DNE(8,re,4,16,"div",4),t.nI1(9,"async")),2&ye&&(t.R7$(6),t.Y8G("ngIf",!0!==t.bMT(7,2,De.isHierarchicalVocabulary())),t.R7$(2),t.Y8G("ngIf",t.bMT(9,4,De.isHierarchicalVocabulary())))},dependencies:[e.h_,e.$n,i.bT,i.Jj,$.K,i.T3,f.h,f.D9,U.U,i.Sq,l.YN,l.me,l.BC,l.vS],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.treeview[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{max-height:85vh!important;overflow-y:auto}.tree-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.tree-input[readonly][_ngcontent-%COMP%]{background-color:#fff}"]})}}return Ee})()},45500:(N,T,n)=>{"use strict";n.d(T,{K:()=>f,m:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="ONEBOX";class f extends l.C{constructor(p,_){super(p,_),this.type=e,this.autoComplete=t.DAG,this.minChars=p.minChars||3}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},11166:(N,T,n)=>{"use strict";n.d(T,{W:()=>m});var i=n(31635),t=n(1473),l=n(82777),e=n(56899),f=n(66733);class m extends f.C{constructor(_,v){super(_,v),this.type=e.T,this.submissionId=_.submissionId,this.formConfiguration=_.formConfiguration,this.mandatoryField=_.mandatoryField,this.relationFields=_.relationFields,this.scopeUUID=_.scopeUUID,this.submissionScope=_.submissionScope,this.value=_.value||[]}isEmpty(){const _=this.getGroupValue();return 1===_.length&&(0,l.kZ)(_[0][this.mandatoryField])}getGroupValue(){if((0,l.Im)(this.value)){const _=Object.create({});return _[this.mandatoryField]=null,this.relationFields.forEach(v=>{_[v]=null}),[_]}return this.value}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionId",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"formConfiguration",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"mandatoryField",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Array)],m.prototype,"relationFields",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"scopeUUID",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"submissionScope",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],m.prototype,"type",void 0)},83766:(N,T,n)=>{"use strict";n.d(T,{s:()=>V});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(86820),m=n(7673),p=n(96697),_=n(23294),v=n(99437),y=n(88141),C=n(96354),O=n(82640),I=n(96820),D=n(4047),R=n(80183),h=n(32089),w=n(19506),b=n(82777),P=n(54875),L=(n(11220),n(1473));const B=["dropdownMenu"];function U(X,J){1&X&&t.nrm(0,"i",13)}function $(X,J){1&X&&t.nrm(0,"i",14)}function j(X,J){1&X&&(t.j41(0,"button",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&X&&(t.R7$(),t.JRh(t.bMT(2,1,"form.no-results")))}function G(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",16),t.nI1(1,"async"),t.bIt("keydown.enter",function(){const H=t.eBV(q).$implicit,Y=t.XpG(),Q=t.sdS(1);return Y.onSelect(H),t.Njj(Q.close())})("mousedown",function(){const H=t.eBV(q).$implicit,Y=t.XpG(),Q=t.sdS(1);return Y.onSelect(H),t.Njj(Q.close())}),t.EFF(2),t.k0s()}if(2&X){const q=J.$implicit,Z=J.index,H=t.XpG();t.AVh("active",Z===H.selectedIndex),t.FS9("title",H.inputFormatter(q)),t.BMQ("id",H.inputFormatter(q)===t.bMT(1,5,H.currentValue)?"combobox_"+H.id+"_selected":null),t.R7$(2),t.SpI(" ",H.inputFormatter(q)," ")}}function z(X,J){1&X&&(t.j41(0,"div",17)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&X&&(t.R7$(2),t.JRh(t.bMT(3,1,"form.loading")))}let V=(()=>{class X extends P.o{constructor(q,Z,H,Y,Q,ie){super(q,H,Y),this.vocabularyService=q,this.cdr=Z,this.layoutService=H,this.validationService=Y,this.parentInjector=Q,this.dataServiceMap=ie,this.bindId=!0,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.loading=!1,this.inputText=null,this.selectedIndex=0,this.acceptableKeys=["Space","NumpadMultiply","NumpadAdd","NumpadSubtract","NumpadDecimal","Semicolon","Equal","Comma","Minus","Period","Quote","Backquote"],this.inputFormatter=oe=>this.model.formatFunction?this.model.formatFunction(oe):oe.display||oe.value}ngOnInit(){((0,b.a4)(this.model.resourceType)?(0,D.M)(this.dataServiceMap,this.model.resourceType.value,this.parentInjector):(0,m.of)(null)).pipe((0,p.s)(1)).subscribe(Z=>{this.findAllService=Z,this.useFindAllService=(0,b.a4)(this.findAllService?.findAll)&&"function"==typeof this.findAllService.findAll,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!0)}),this.group.get(this.model.id).valueChanges.pipe((0,_.F)()).subscribe(Z=>{this.setCurrentValue(Z)})}getDataFromService(){return this.useFindAllService?this.findAllService.findAll({elementsPerPage:this.pageInfo.elementsPerPage,currentPage:this.pageInfo.currentPage}):this.vocabularyService.getVocabularyEntriesByValue(this.inputText,!1,this.model.vocabularyOptions,this.pageInfo)}loadOptions(q){this.loading=!0,this.getDataFromService().pipe((0,R.ak)(),(0,v.W)(()=>(0,m.of)((0,I.g)(new h.Q,[]))),(0,y.M)(()=>this.loading=!1)).subscribe(Z=>{this.optionsList=Z.page,q&&this.model.value&&this.setCurrentValue(this.model.value,!0),this.updatePageInfo(Z.pageInfo.elementsPerPage,Z.pageInfo.currentPage,Z.pageInfo.totalElements,Z.pageInfo.totalPages),this.selectedIndex=0,this.cdr.detectChanges()})}openDropdown(q){this.model.readOnly||(this.group.markAsUntouched(),this.inputText=null,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1),q.open())}navigateDropdown(q){"ArrowDown"===q.key?this.selectedIndex=Math.min(this.selectedIndex+1,this.optionsList.length-1):"ArrowUp"===q.key&&(this.selectedIndex=Math.max(this.selectedIndex-1,0)),this.scrollToSelected()}scrollToSelected(){const Z=this.dropdownMenu.nativeElement.querySelectorAll(".dropdown-item")[this.selectedIndex];Z&&Z.scrollIntoView({block:"nearest"})}selectOnKeyDown(q,Z){const H=q.key;"Enter"===H?(q.preventDefault(),q.stopPropagation(),Z.isOpen()?(this.onSelect(this.optionsList[this.selectedIndex]),Z.close()):Z.open()):"ArrowDown"===H||"ArrowUp"===H?(q.preventDefault(),q.stopPropagation(),this.navigateDropdown(q)):"Backspace"===H?this.removeKeyFromInput():this.isAcceptableKey(H)&&this.addKeyToInput(H)}addKeyToInput(q){null===this.inputText&&(this.inputText=""),this.inputText+=q,this.updatePageInfo(this.model.maxOptions,1),this.loadOptions(!1)}removeKeyFromInput(){null!==this.inputText&&(this.inputText=this.inputText.slice(0,-1),""===this.inputText&&(this.inputText=null),this.loadOptions(!1))}isAcceptableKey(q){return!(1!==q.length||!q.match(/^[a-zA-Z0-9]*$/))||this.acceptableKeys.includes(q)}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.loading=!0,this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.getDataFromService().pipe((0,R.ak)(),(0,v.W)(()=>(0,m.of)((0,I.g)(new h.Q,[]))),(0,y.M)(()=>this.loading=!1)).subscribe(q=>{this.optionsList=this.optionsList.concat(q.page),this.updatePageInfo(q.pageInfo.elementsPerPage,q.pageInfo.currentPage,q.pageInfo.totalElements,q.pageInfo.totalPages),this.cdr.detectChanges()}))}onSelect(q){this.group.markAsDirty(),this.dispatchUpdate(q),this.setCurrentValue(q)}setCurrentValue(q,Z=!1){let H;H=Z&&!this.useFindAllService?this.getInitValueFromModel().pipe((0,C.T)(Y=>Y.display)):(0,b.Im)(q)?(0,m.of)(""):(0,m.of)("string"==typeof q?q:this.useFindAllService?q[this.model.displayKey]:q.display),this.currentValue=H}static{this.\u0275fac=function(Z){return new(Z||X)(t.rXU(w.g),t.rXU(t.gRc),t.rXU(L.fpj),t.rXU(L.STK),t.rXU(t.zZn),t.rXU(O.l9))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-dynamic-scrollable-dropdown"]],viewQuery:function(Z,H){if(1&Z&&t.GBs(B,5,t.aKT),2&Z){let Y;t.mGM(Y=t.lsd())&&(H.dropdownMenu=Y.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[t.Vt3,t.aNF],decls:19,vars:38,consts:[["sdRef","ngbDropdown"],["dropdownMenu",""],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"w-100"],["role","combobox",1,"position-relative","right-addon"],["ngbDropdownToggle","","class","position-absolute scrollable-dropdown-toggle","aria-hidden","true",4,"ngIf"],["class","dropdown-toggle position-absolute toggle-icon","aria-hidden","true",4,"ngIf"],[1,"form-control",3,"blur","click","focus","keydown","id","name","readonly","disabled","type","value"],["ngbDropdownMenu","",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["role","listbox","infiniteScroll","",1,"scrollable-menu",3,"scrolled","id","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",4,"ngIf"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"click","mousedown","title"],["class","dropdown-item collection-item text-truncate","role","option","type","button",3,"active","title","keydown.enter","mousedown",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],["ngbDropdownToggle","","aria-hidden","true",1,"position-absolute","scrollable-dropdown-toggle"],["aria-hidden","true",1,"dropdown-toggle","position-absolute","toggle-icon"],["type","button",1,"dropdown-item","disabled"],["role","option","type","button",1,"dropdown-item","collection-item","text-truncate",3,"keydown.enter","mousedown","title"],[1,"scrollable-dropdown-loading","text-center"]],template:function(Z,H){if(1&Z){const Y=t.RV6();t.j41(0,"div",2,0)(2,"div",3),t.nI1(3,"async"),t.DNE(4,U,1,0,"i",4)(5,$,1,0,"i",5),t.j41(6,"input",6),t.nI1(7,"async"),t.bIt("blur",function(ie){return t.eBV(Y),t.Njj(H.onBlur(ie))})("click",function(ie){t.eBV(Y);const oe=t.sdS(1);return ie.stopPropagation(),t.Njj(H.openDropdown(oe))})("focus",function(ie){return t.eBV(Y),t.Njj(H.onFocus(ie))})("keydown",function(ie){t.eBV(Y);const oe=t.sdS(1);return t.Njj(H.selectOnKeyDown(ie,oe))}),t.k0s()(),t.j41(8,"div",7,1)(10,"div",8),t.bIt("scrolled",function(){return t.eBV(Y),t.Njj(H.onScroll())}),t.DNE(11,j,3,3,"button",9),t.j41(12,"button",10),t.nI1(13,"translate"),t.bIt("click",function(){t.eBV(Y);const ie=t.sdS(1);return H.onSelect(void 0),t.Njj(ie.close())})("mousedown",function(){t.eBV(Y);const ie=t.sdS(1);return H.onSelect(void 0),t.Njj(ie.close())}),t.j41(14,"i"),t.EFF(15),t.nI1(16,"translate"),t.k0s()(),t.DNE(17,G,3,7,"button",11)(18,z,4,3,"div",12),t.k0s()()()}if(2&Z){const Y=t.sdS(1);t.R7$(2),t.BMQ("aria-label",H.model.label)("aria-owns","combobox_"+H.id+"_listbox")("aria-expanded",Y.isOpen())("aria-activedescendant",t.bMT(3,30,H.currentValue)?"combobox_"+H.id+"_selected":null),t.R7$(2),t.Y8G("ngIf",!H.model.readOnly),t.R7$(),t.Y8G("ngIf",H.model.readOnly),t.R7$(),t.AVh("is-invalid",H.showErrorMessages)("scrollable-dropdown-input",!H.model.readOnly),t.Y8G("id",H.id)("name",H.model.name)("readonly",!0)("disabled",H.model.readOnly)("type",H.model.inputType)("value",t.bMT(7,32,H.currentValue)),t.BMQ("aria-controls","combobox_"+H.id+"_listbox")("aria-label",H.model.placeholder)("autoComplete",H.model.autoComplete),t.R7$(2),t.BMQ("aria-label",H.model.placeholder),t.R7$(2),t.Y8G("id","combobox_"+H.id+"_listbox")("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),t.BMQ("aria-label",H.model.placeholder),t.R7$(),t.Y8G("ngIf",H.optionsList&&0===H.optionsList.length),t.R7$(),t.FS9("title",t.bMT(13,34,"dropdown.clear.tooltip")),t.R7$(3),t.JRh(t.bMT(16,36,"dropdown.clear")),t.R7$(2),t.Y8G("ngForOf",H.optionsList),t.R7$(),t.Y8G("ngIf",H.loading)}},dependencies:[l.zH,l.tg,l.do,l.U0,i.bT,i.Jj,f.eO,f.DP,i.Sq,e.h,e.D9],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.scrollable-menu[_ngcontent-%COMP%]{height:auto;max-height:var(--ds-dropdown-menu-max-height);overflow-x:hidden}.collection-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}.scrollable-dropdown-loading[_ngcontent-%COMP%]{background-color:var(--bs-primary);color:#fff;height:calc(var(--bs-spacer) * 2)!important;line-height:calc(var(--bs-spacer) * 2);position:sticky;bottom:0}.scrollable-dropdown-menu[_ngcontent-%COMP%]{left:0!important;margin-bottom:var(--bs-spacer);z-index:1000}.scrollable-dropdown-toggle[_ngcontent-%COMP%]{padding:.7rem .7rem 0}.scrollable-dropdown-input[readonly][_ngcontent-%COMP%]{background-color:#fff}.toggle-icon[_ngcontent-%COMP%]{padding:.7rem .7rem 0}"]})}}return X})()},11220:(N,T,n)=>{"use strict";n.d(T,{W:()=>e,j:()=>f});var i=n(31635),t=n(1473),l=n(66733);const e="SCROLLABLE_DROPDOWN";class f extends l.C{constructor(p,_){super(p,_),this.type=e,this.autoComplete=t.DAG,this.vocabularyOptions=p.vocabularyOptions,this.maxOptions=p.maxOptions||10,this.displayKey=p.displayKey||"display",this.formatFunction=p.formatFunction,this.resourceType=p.resourceType}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"maxOptions",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"displayKey",void 0)},38512:(N,T,n)=>{"use strict";n.d(T,{H:()=>f,v:()=>e});var i=n(31635),t=n(1473),l=n(66733);const e="TAG";class f extends l.C{constructor(p,_){super(p,_),this.type=e,this.autoComplete=t.DAG,this.minChars=p.minChars||3,this.value=p.value||[]}}(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",Number)],f.prototype,"minChars",void 0),(0,i.Cg)([(0,t.sU3)(),(0,i.Sn)("design:type",String)],f.prototype,"type",void 0)},6011:(N,T,n)=>{"use strict";n.d(T,{d:()=>Mn});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(84412),m=n(84572),p=n(96354),_=n(96697),v=n(65245),y=n(25558),C=n(72734),O=n(53954),I=n(57514),D=n(41023),R=n(57568),h=n(48833),w=n(26292),b=n(80183),P=n(39012),M=n(13955),L=n(60456),B=n(82777),U=n(82394),$=n(13329),j=n(67600),X=(n(6041),n(31507),n(88318),n(8886));n(4089);const q=["*"];function Z(Tt,$t){}let H=(()=>{class Tt extends X.J{constructor(){super(...arguments),this.inAndOutputNames=["label","listId","item","collection","relationship","context","query","repeatable","importedObject","externalSource"],this.importedObject=new t.bkB}getComponentName(){return"DsDynamicLookupRelationExternalSourceTabComponent"}importThemedComponent(St){return n(90331)(`./${St}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,4089))}static{this.\u0275fac=(()=>{let St;return function(ln){return(St||(St=t.xGo(Tt)))(ln||Tt)}})()}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:q,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Jt,ln){1&Jt&&(t.NAR(),t.DNE(0,Z,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Tt})();var Y=n(59496);n(59854),n(26091);const oe=["*"];function pe(Tt,$t){}let ne=(()=>{class Tt extends X.J{constructor(){super(...arguments),this.inAndOutputNames=["relationship","listId","query","hiddenQuery","repeatable","selection$","context","relationshipType","item","isLeft","toRemove","isEditRelationship","deselectObject","selectObject","resultFound"],this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultFound=new t.bkB}getComponentName(){return"DsDynamicLookupRelationSearchTabComponent"}importThemedComponent(St){return n(37919)(`./${St}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,26091))}static{this.\u0275fac=(()=>{let St;return function(ln){return(St||(St=t.xGo(Tt)))(ln||Tt)}})()}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",hiddenQuery:"hiddenQuery",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:oe,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Jt,ln){1&Jt&&(t.NAR(),t.DNE(0,pe,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Tt})();var re=n(96820),Ce=n(22978),Ee=n(32089),ue=n(67560),ae=n(46580),ye=n(23401),De=n(43404),tt=n(7901);const _t=(Tt,$t)=>({repeatable:Tt,listId:$t});function We(Tt,$t){1&Tt&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Tt&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"submission.sections.describe.relationship-lookup.selection-tab.no-selection")," "))}function dt(Tt,$t){if(1&Tt){const St=t.RV6();t.j41(0,"div")(1,"h3"),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ds-viewable-collection",4),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("deselectObject",function(ln){t.eBV(St);const It=t.XpG();return t.Njj(It.deselectObject.emit(ln))})("selectObject",function(ln){t.eBV(St);const It=t.XpG();return t.Njj(It.selectObject.emit(ln))}),t.k0s()()}if(2&Tt){const St=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,"submission.sections.describe.relationship-lookup.selection-tab.title."+St.relationshipType)),t.R7$(2),t.Y8G("objects",t.bMT(5,9,St.selectionRD$))("selectable",!0)("selectionConfig",t.l_i(13,_t,St.repeatable,St.listId))("config",t.bMT(6,11,St.currentPagination$))("hideGear",!0)("context",St.context)}}let it=(()=>{class Tt{constructor(St,Jt,ln){this.router=St,this.searchConfigService=Jt,this.paginationService=ln,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.initialPagination=Object.assign(new ye.W,{id:"spc",pageSize:5})}ngOnInit(){this.resetRoute(),this.selectionRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,p.T)(St=>St.pagination),(0,y.n)(St=>this.selection$.pipe((0,_.s)(1),(0,p.T)(Jt=>{const ln=(St.currentPage-1)*St.pageSize,zt=Jt.slice(ln,ln+St.pageSize>Jt.length?Jt.length:ln+St.pageSize),Ht=new Ee.Q({elementsPerPage:St.pageSize,totalElements:Jt.length,currentPage:St.currentPage,totalPages:Math.ceil(Jt.length/St.pageSize)});return(0,De.SP)((0,re.g)(Ht,zt))})))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination)}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(Jt){return new(Jt||Tt)(t.rXU(tt.Ix),t.rXU(P.g),t.rXU(Ce.m))}}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-selection-tab"]],inputs:{relationshipType:"relationshipType",listId:"listId",repeatable:"repeatable",selection$:"selection$",selectionRD$:"selectionRD$",context:"context"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:P.g}]),t.aNF],decls:11,vars:9,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[4,"ngIf"],[3,"deselectObject","selectObject","objects","selectable","selectionConfig","config","hideGear","context"]],template:function(Jt,ln){if(1&Jt&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.DNE(7,We,3,3,"div",3),t.nI1(8,"async"),t.DNE(9,dt,7,16,"div",3),t.nI1(10,"async"),t.k0s()()),2&Jt){let It,zt;t.R7$(3),t.JRh(t.bMT(4,3,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("ngIf",(null==(It=t.bMT(8,5,ln.selectionRD$))?null:It.payload.page)<1),t.R7$(2),t.Y8G("ngIf",(null==(zt=t.bMT(10,7,ln.selectionRD$))?null:zt.payload.page.length)>=1)}},dependencies:[ae.b,ue.h,i.Jj,i.bT,e.h,e.D9]})}}return Tt})();var Ge=n(25499);const gt=Tt=>({size:Tt}),Pe=Tt=>({count:Tt});function we(Tt,$t){1&Tt&&t.nrm(0,"ds-loading")}function vt(Tt,$t){if(1&Tt){const St=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-search-tab",18),t.bIt("selectObject",function(ln){t.eBV(St);const It=t.XpG(2);return t.Njj(It.select(ln))})("deselectObject",function(ln){t.eBV(St);const It=t.XpG(2);return t.Njj(It.deselect(ln))})("resultFound",function(ln){t.eBV(St);const It=t.XpG(2);return t.Njj(It.setTotalInternals(ln.pageInfo.totalElements))}),t.k0s()}if(2&Tt){const St=t.XpG(2);t.Y8G("selection$",St.selection$)("listId",St.listId)("relationship",St.relationshipOptions)("repeatable",St.repeatable)("context",St.context)("query",St.query)("hiddenQuery",St.hiddenQuery)("relationshipType",St.relationshipType)("isLeft",St.isLeft)("item",St.item)("isEditRelationship",St.isEditRelationship)("toRemove",St.toRemove)}}function at(Tt,$t){if(1&Tt){const St=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-external-source-tab",19),t.bIt("importedObject",function(ln){t.eBV(St);const It=t.XpG(3);return t.Njj(It.imported(ln))}),t.k0s()}if(2&Tt){const St=t.XpG().$implicit,Jt=t.XpG(2);t.Y8G("label",Jt.label)("listId",Jt.listId)("repeatable",Jt.repeatable)("item",Jt.item)("collection",Jt.collection)("relationship",Jt.relationshipOptions)("context",Jt.context)("query",Jt.query)("externalSource",St)}}function nt(Tt,$t){if(1&Tt&&(t.j41(0,"li",12)(1,"a",13),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,at,1,9,"ng-template",14),t.k0s()),2&Tt){let St;const Jt=$t.$implicit,ln=$t.index,It=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+Jt.id,t.eq3(6,Pe,null==(St=t.bMT(3,1,It.totalExternal$))?null:St[ln])))}}function lt(Tt,$t){if(1&Tt){const St=t.RV6();t.j41(0,"ds-dynamic-lookup-relation-selection-tab",20),t.bIt("selectObject",function(ln){t.eBV(St);const It=t.XpG(3);return t.Njj(It.select(ln))})("deselectObject",function(ln){t.eBV(St);const It=t.XpG(3);return t.Njj(It.deselect(ln))}),t.k0s()}if(2&Tt){const St=t.XpG(3);t.Y8G("selection$",St.selection$)("listId",St.listId)("relationshipType",St.relationshipOptions.relationshipType)("repeatable",St.repeatable)("context",St.context)}}function ve(Tt,$t){if(1&Tt&&(t.j41(0,"li",12)(1,"a",13),t.EFF(2),t.nI1(3,"async"),t.nI1(4,"translate"),t.k0s(),t.DNE(5,lt,1,5,"ng-template",14),t.k0s()),2&Tt){let St;const Jt=t.XpG(2);t.R7$(2),t.JRh(t.i5U(4,3,"submission.sections.describe.relationship-lookup.selection-tab.tab-title",t.eq3(6,Pe,null==(St=t.bMT(3,1,Jt.selection$))?null:St.length)))}}function Ne(Tt,$t){if(1&Tt&&(t.qex(0),t.j41(1,"ul",11,0)(3,"li",12)(4,"a",13),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s(),t.DNE(8,vt,1,12,"ng-template",14),t.k0s(),t.DNE(9,nt,6,8,"li",15),t.nI1(10,"async"),t.DNE(11,ve,6,8,"li",16),t.k0s(),t.nrm(12,"div",17),t.bVm()),2&Tt){const St=t.sdS(2),Jt=t.XpG();t.R7$(5),t.JRh(t.i5U(7,6,"submission.sections.describe.relationship-lookup.search-tab.tab-title."+Jt.relationshipOptions.relationshipType,t.eq3(11,Pe,t.bMT(6,4,Jt.totalInternal$)))),t.R7$(4),t.Y8G("ngForOf",t.bMT(10,9,Jt.externalSourcesRD$)),t.R7$(2),t.Y8G("ngIf",!Jt.isEditRelationship),t.R7$(),t.Y8G("ngbNavOutlet",St)}}function ut(Tt,$t){1&Tt&&t.nrm(0,"span",27)}function cn(Tt,$t){1&Tt&&t.nrm(0,"i",28)}function nn(Tt,$t){if(1&Tt){const St=t.RV6();t.qex(0),t.j41(1,"button",21),t.bIt("click",function(){t.eBV(St);const ln=t.XpG();return t.Njj(ln.discardEv())}),t.nrm(2,"i",22),t.j41(3,"span",23),t.EFF(4),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"button",24),t.bIt("click",function(){t.eBV(St);const ln=t.XpG();return t.Njj(ln.submitEv())}),t.DNE(7,ut,1,0,"span",25)(8,cn,1,0,"i",26),t.j41(9,"span",23),t.EFF(10),t.nI1(11,"translate"),t.k0s()(),t.bVm()}if(2&Tt){const St=t.XpG();t.R7$(),t.Y8G("dsBtnDisabled",0===St.toAdd.length&&0===St.toRemove.length||St.isPending),t.R7$(3),t.SpI("\xa0",t.bMT(5,6,"item.edit.metadata.discard-button"),""),t.R7$(2),t.Y8G("dsBtnDisabled",0===St.toAdd.length&&0===St.toRemove.length||St.isPending),t.R7$(),t.Y8G("ngIf",St.isPending),t.R7$(),t.Y8G("ngIf",!St.isPending),t.R7$(2),t.SpI("\xa0",t.bMT(11,8,"item.edit.metadata.save-button"),"")}}let Mn=(()=>{class Tt{constructor(St,Jt,ln,It,zt,Ht,At,Ot,Zt,Dt){this.modal=St,this.selectableListService=Jt,this.relationshipService=ln,this.externalSourceService=It,this.lookupRelationService=zt,this.searchConfigService=Ht,this.rdbService=At,this.zone=Ot,this.store=Zt,this.router=Dt,this.selectEvent=new t.bkB,this.subMap={},this.totalInternal$=new f.t(0),this.isLeft=!1,this.isEditRelationship=!1,this.toAdd=[],this.toRemove=[],this.isPending=!1}ngOnInit(){if(this.currentItemIsLeftItem$&&this.currentItemIsLeftItem$.subscribe(St=>{this.isLeft=St,this.label=this.relationshipType.leftwardType}),this.selection$=this.selectableListService.getSelectableList(this.listId).pipe((0,p.T)(St=>(0,B.a4)(St)&&(0,B.a4)(St.selection)?St.selection:[])),this.selection$.pipe((0,_.s)(1)).subscribe(St=>St.map(Jt=>this.addNameVariantSubscription(Jt))),this.context="true"===this.relationshipOptions.nameVariants?w.o.EntitySearchModalWithNameVariants:w.o.EntitySearchModal,(0,B.hj)(this.relationshipOptions.externalSources))this.externalSourcesRD$=this.rdbService.aggregate(this.relationshipOptions.externalSources.map(St=>this.externalSourceService.findById(St,!0,!0,(0,j.s)("entityTypes")))).pipe((0,b.Hz)());else{const St=Object.assign({},new D._,{elementsPerPage:5,currentPage:1,searchParams:[new O.x("entityType",this.relationshipOptions.relationshipType)]});this.externalSourcesRD$=this.externalSourceService.searchBy("findByEntityType",St,!0,!0,(0,j.s)("entityTypes")).pipe((0,b.ak)(),(0,p.T)(Jt=>Jt.page))}this.setTotals()}close(){this.toAdd=[],this.toRemove=[],this.modal.close(),this.closeEv()}select(...St){this.zone.runOutsideAngular(()=>{(0,m.z)([...St.map(ln=>(this.addNameVariantSubscription(ln),this.relationshipService.getNameVariant(this.listId,ln.indexableObject.uuid).pipe((0,_.s)(1),(0,p.T)(It=>({item:ln.indexableObject,nameVariant:It})))))]).subscribe(ln=>ln.forEach(It=>{const zt=new Y.aS(this.item,It.item,this.relationshipOptions.relationshipType,this.submissionId,It.nameVariant);this.store.dispatch(zt)}))})}addNameVariantSubscription(St){const Jt=this.relationshipService.getNameVariant(this.listId,St.indexableObject.uuid);this.subMap[St.indexableObject.uuid]=Jt.pipe((0,v.i)(1)).subscribe(ln=>this.store.dispatch(new Y._I(this.item,St.indexableObject,this.relationshipOptions.relationshipType,this.submissionId,ln)))}deselect(...St){this.zone.runOutsideAngular(()=>St.forEach(Jt=>{this.subMap[Jt.indexableObject.uuid].unsubscribe(),this.store.dispatch(new Y.Fw(this.item,Jt.indexableObject,this.relationshipOptions.relationshipType,this.submissionId))}))}imported(St){this.setTotals(),this.select(St)}setTotals(){const St=(0,m.z)([this.externalSourcesRD$,this.searchConfigService.paginatedSearchOptions]);this.totalExternal$=St.pipe((0,y.n)(([Jt,ln])=>(0,m.z)([...Jt.map(It=>this.lookupRelationService.getTotalExternalResults(It,ln))])))}setTotalInternals(St){this.totalInternal$.next(St)}ngOnDestroy(){this.router.navigate([],{}),Object.values(this.subMap).forEach(St=>St.unsubscribe())}closeEv(){}discardEv(){}submitEv(){}static{this.\u0275fac=function(Jt){return new(Jt||Tt)(t.rXU(l.Lw),t.rXU($.K),t.rXU(h.RelationshipDataService),t.rXU(I.Q),t.rXU(R.c),t.rXU(P.g),t.rXU(C.o),t.rXU(t.SKi),t.rXU(Ge.il),t.rXU(tt.Ix))}}static{this.\u0275cmp=t.VBU({type:Tt,selectors:[["ds-dynamic-lookup-relation-modal"]],outputs:{selectEvent:"selectEvent"},standalone:!0,features:[t.Jv_([{provide:M.EN,useClass:P.g}]),t.aNF],decls:21,vars:19,consts:[["nav","ngbNav"],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click","dsBtnDisabled"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[1,"modal-footer"],[1,"d-flex","float-right","space-children-mr"],[1,"close-button"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["ngbNav","",1,"nav-tabs"],["ngbNavItem","","role","presentation"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","","role","presentation",4,"ngFor","ngForOf"],["ngbNavItem","","role","presentation",4,"ngIf"],[3,"ngbNavOutlet"],[1,"d-block","pt-3",3,"selectObject","deselectObject","resultFound","selection$","listId","relationship","repeatable","context","query","hiddenQuery","relationshipType","isLeft","item","isEditRelationship","toRemove"],[1,"d-block","pt-3",3,"importedObject","label","listId","repeatable","item","collection","relationship","context","query","externalSource"],[1,"d-block","pt-3",3,"selectObject","deselectObject","selection$","listId","relationshipType","repeatable","context"],[1,"btn","btn-danger","discard",3,"click","dsBtnDisabled"],[1,"fas","fa-times"],[1,"d-none","d-sm-inline"],[1,"btn","btn-primary","submit",3,"click","dsBtnDisabled"],["class","spinner-border spinner-border-sm mr-1","role","status","aria-hidden","true",4,"ngIf"],["class","fas fa-save",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","mr-1"],[1,"fas","fa-save"]],template:function(Jt,ln){if(1&Jt&&(t.j41(0,"div",1)(1,"h4",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return ln.close()}),t.j41(5,"span",4),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",5),t.DNE(8,we,1,0,"ds-loading",6)(9,Ne,13,13,"ng-container",6),t.k0s(),t.j41(10,"div",7)(11,"small"),t.EFF(12),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",8)(16,"div",9)(17,"button",10),t.bIt("click",function(){return ln.close()}),t.EFF(18),t.nI1(19,"translate"),t.k0s()(),t.DNE(20,nn,12,10,"ng-container",6),t.k0s()()),2&Jt){let It;t.R7$(2),t.JRh(t.bMT(3,8,"submission.sections.describe.relationship-lookup.title."+ln.relationshipOptions.relationshipType)),t.R7$(2),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(4),t.Y8G("ngIf",!ln.item||!ln.collection),t.R7$(),t.Y8G("ngIf",ln.item&&ln.collection),t.R7$(3),t.JRh(t.i5U(14,12,"submission.sections.describe.relationship-lookup.selected",t.eq3(17,gt,(null==(It=t.bMT(13,10,ln.selection$))?null:It.length)||0))),t.R7$(5),t.Y8G("dsBtnDisabled",ln.isPending),t.R7$(),t.SpI(" ",t.bMT(19,15,"submission.sections.describe.relationship-lookup.close"),""),t.R7$(2),t.Y8G("ngIf",ln.isEditRelationship)}},dependencies:[H,e.h,e.D9,U.v,i.bT,l.Pv,l.Um,l.X9,l.sy,l.Ri,l.m_,ne,i.Jj,i.Sq,it,L.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}[_nghost-%COMP%]     .modal-content{width:90%;margin:5%}[_nghost-%COMP%]   .spinner-border[_ngcontent-%COMP%]{vertical-align:middle}"]})}}return Tt})()},4089:(N,T,n)=>{"use strict";n.r(T),n.d(T,{DsDynamicLookupRelationExternalSourceTabComponent:()=>ne});var i=n(60177),t=n(54438),l=n(41780),e=n(96354),f=n(25558),m=n(99172),p=n(57514),_=n(22978),I=(n(6041),n(26292),n(31507),n(88318),n(80183)),D=n(39012),R=n(13955),h=n(50332),w=n(82777),b=n(79632),P=n(82394),M=n(67560),L=n(13329),B=n(46580),U=n(23401),$=n(18016),j=n(18226),G=n(8886);n(1277);const V=["*"];function X(re,Ce){}let J=(()=>{class re extends G.J{getComponentName(){return"ExternalSourceEntryImportModalComponent"}importThemedComponent(Ee){return n(14651)(`./${Ee}/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1277))}static{this.\u0275fac=(()=>{let Ee;return function(ae){return(Ee||(Ee=t.xGo(re)))(ae||re)}})()}static{this.\u0275cmp=t.VBU({type:re,selectors:[["ds-external-source-entry-import-modal"]],standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:V,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(ue,ae){1&ue&&(t.NAR(),t.DNE(0,X,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return re})();var q=n(7901),Z=n(52149);const H=(re,Ce)=>({repeatable:re,listId:Ce});function Y(re,Ce){if(1&re){const Ee=t.RV6();t.j41(0,"ds-viewable-collection",8),t.nI1(1,"async"),t.bIt("importObject",function(ae){t.eBV(Ee);const ye=t.XpG(2);return t.Njj(ye.import(ae))}),t.k0s()}if(2&re){const Ee=t.XpG().ngVar,ue=t.XpG();t.Y8G("@fadeIn",void 0)("objects",Ee)("selectionConfig",t.l_i(10,H,ue.repeatable,ue.listId))("config",t.bMT(1,8,ue.currentPagination$))("hideGear",!0)("context",ue.context)("importable",!0)("importConfig",ue.importConfig)}}function Q(re,Ce){1&re&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&re&&t.FS9("message",t.bMT(1,1,"loading.search-results"))}function ie(re,Ce){1&re&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&re&&t.FS9("message",t.bMT(1,1,"error.search-results"))}function oe(re,Ce){1&re&&(t.j41(0,"div",10),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&re&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.results.empty")," "))}function pe(re,Ce){if(1&re&&(t.qex(0),t.DNE(1,Y,2,13,"ds-viewable-collection",5)(2,Q,2,3,"ds-loading",6)(3,ie,2,3,"ds-error",6)(4,oe,3,3,"div",7),t.bVm()),2&re){const Ee=Ce.ngVar;t.R7$(),t.Y8G("ngIf",(null==Ee?null:Ee.hasSucceeded)&&!(null!=Ee&&Ee.isLoading)&&(null==Ee||null==Ee.payload||null==Ee.payload.page?null:Ee.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",!Ee||(null==Ee?null:Ee.isLoading)),t.R7$(),t.Y8G("ngIf",(null==Ee?null:Ee.hasFailed)&&(!(null!=Ee&&Ee.errorMessage)||400!==(null==Ee?null:Ee.statusCode))),t.R7$(),t.Y8G("ngIf",0===(null==Ee||null==Ee.payload||null==Ee.payload.page?null:Ee.payload.page.length)||400===(null==Ee?null:Ee.statusCode))}}let ne=(()=>{class re{constructor(Ee,ue,ae,ye,De,tt){this.router=Ee,this.searchConfigService=ue,this.externalSourceService=ae,this.modalService=ye,this.selectableListService=De,this.paginationService=tt,this.importedObject=new t.bkB,this.initialPagination=Object.assign(new U.W,{id:"spc",pageSize:5}),this.subs=[]}ngOnInit(){this.externalSource.entityTypes.pipe((0,I.qD)(),(0,e.T)(Ee=>Ee.hasSucceeded&&Ee.payload.totalElements>0?Ee.payload.page[0]:null)).subscribe(Ee=>{this.relatedEntityType=Ee}),this.resetRoute(),this.entriesRD$=this.searchConfigService.paginatedSearchOptions.pipe((0,f.n)(Ee=>(""===Ee.query&&(Ee.query=this.query),this.externalSourceService.getExternalSourceEntries(this.externalSource.id,Ee).pipe((0,m.Z)(void 0))))),this.currentPagination$=this.paginationService.getCurrentPagination(this.searchConfigService.paginationID,this.initialPagination),this.importConfig={buttonLabel:"submission.sections.describe.relationship-lookup.external-source.import-button-title."+this.label}}import(Ee){this.modalRef=this.modalService.open(J,{size:"lg",container:"ds-dynamic-lookup-relation-modal"});const ue=this.modalRef.componentInstance.compRef$.pipe((0,w.Az)(),(0,e.T)(ae=>ae.instance));this.subs.push(ue.subscribe(ae=>{ae.externalSourceEntry=Ee,ae.item=this.item,ae.relationship=this.relationship,ae.label=this.label,ae.relatedEntityType=this.relatedEntityType})),this.subs.push(ue.pipe((0,f.n)(ae=>ae.importedObject)).subscribe(ae=>{this.selectableListService.selectSingle(this.listId,ae),this.importedObject.emit(ae)}))}ngOnDestroy(){this.subs.filter(Ee=>(0,w.a4)(Ee)).forEach(Ee=>Ee.unsubscribe())}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,{page:1,pageSize:5})}static{this.\u0275fac=function(ue){return new(ue||re)(t.rXU(q.Ix),t.rXU(D.g),t.rXU(p.Q),t.rXU(Z.Bq),t.rXU(L.K),t.rXU(_.m))}}static{this.\u0275cmp=t.VBU({type:re,selectors:[["ds-base-dynamic-lookup-relation-external-source-tab"]],inputs:{label:"label",listId:"listId",item:"item",collection:"collection",relationship:"relationship",context:"context",query:"query",repeatable:"repeatable",externalSource:"externalSource"},outputs:{importedObject:"importedObject"},standalone:!0,features:[t.Jv_([{provide:R.EN,useClass:D.g}]),t.aNF],decls:16,vars:16,consts:[[1,"row"],[1,"col-4"],[1,"col-8"],[3,"query","inPlaceSearch","searchPlaceholder"],[4,"ngVar"],[3,"objects","selectionConfig","config","hideGear","context","importable","importConfig","importObject",4,"ngIf"],[3,"message",4,"ngIf"],["id","empty-external-entry-list",4,"ngIf"],[3,"importObject","objects","selectionConfig","config","hideGear","context","importable","importConfig"],[3,"message"],["id","empty-external-entry-list"]],template:function(ue,ae){if(1&ue&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.nrm(5,"ds-page-size-selector"),t.k0s(),t.j41(6,"div",2),t.nrm(7,"ds-search-form",3),t.nI1(8,"async"),t.nI1(9,"translate"),t.j41(10,"div")(11,"h3"),t.EFF(12),t.nI1(13,"translate"),t.k0s(),t.DNE(14,pe,5,4,"ng-container",4),t.nI1(15,"async"),t.k0s()()()),2&ue){let ye;t.R7$(3),t.JRh(t.bMT(4,6,"submission.sections.describe.relationship-lookup.selection-tab.settings")),t.R7$(4),t.Y8G("query",null==(ye=t.bMT(8,8,ae.searchConfigService.paginatedSearchOptions))?null:ye.query)("inPlaceSearch",!0)("searchPlaceholder",t.bMT(9,10,"submission.sections.describe.relationship-lookup.selection-tab.search-form.placeholder")),t.R7$(5),t.JRh(t.bMT(13,12,"submission.sections.describe.relationship-lookup.selection-tab.title."+ae.externalSource.id)),t.R7$(2),t.Y8G("ngVar",t.bMT(15,14,ae.entriesRD$))}},dependencies:[$.d,B.b,M.h,j.r,i.Jj,l.h,l.D9,b.A,i.bT,P.v],data:{animation:[h.qG,h.Ws]}})}}return re})()},1277:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ExternalSourceEntryImportModalComponent:()=>G,ImportType:()=>j});var i=n(60177),t=n(54438),l=n(41780),e=n(25558),f=n(96697),m=n(29326),p=n(57568),_=n(26292),v=n(39552),y=n(80183),C=n(98794),O=n(60456),I=n(39806),D=n(7581),R=n(27442),h=n(13329),w=n(23401),b=n(33550),P=n(14131),M=n(52149);const L=z=>({repeatable:!1,listId:z});function B(z,V){if(1&z&&(t.j41(0,"div")(1,"a",17),t.EFF(2),t.k0s()()),2&z){const X=t.XpG();t.R7$(),t.FS9("href",X.uri.value,t.B4B),t.R7$(),t.JRh(X.uri.value)}}function U(z,V){if(1&z){const X=t.RV6();t.j41(0,"ds-search-results",18),t.nI1(1,"async"),t.bIt("deselectObject",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.deselectEntity())})("selectObject",function(q){t.eBV(X);const Z=t.XpG();return t.Njj(Z.selectEntity(q))}),t.k0s()}if(2&z){const X=t.XpG();t.Y8G("searchResults",t.bMT(1,9,X.localEntitiesRD$))("sortConfig",null==X.lookupRelationService.searchConfig?null:X.lookupRelationService.searchConfig.sort)("searchConfig",X.lookupRelationService.searchConfig)("selectable",!0)("disableHeader",!0)("hidePaginationDetail",!0)("selectionConfig",t.eq3(11,L,X.entityListId))("linkType",X.linkTypes.ExternalLink)("context",X.context)}}function $(z,V){if(1&z){const X=t.RV6();t.j41(0,"div",19)(1,"h5",8),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"div",10)(5,"input",20),t.bIt("click",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.selectNewAuthority())}),t.k0s(),t.j41(6,"label",21),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()}if(2&z){const X=t.XpG();t.R7$(2),t.JRh(t.bMT(3,3,X.labelPrefix+"authority")),t.R7$(3),t.Y8G("checked",X.selectedImportType===X.importType.NewAuthority),t.R7$(2),t.JRh(t.bMT(8,5,X.labelPrefix+"authority.new"))}}var j=function(z){return z.None="None",z.LocalEntity="LocalEntity",z.LocalAuthority="LocalAuthority",z.NewEntity="NewEntity",z.NewAuthority="NewAuthority",z}(j||{});let G=(()=>{class z{constructor(X,J,q,Z,H,Y,Q){this.modal=X,this.lookupRelationService=J,this.modalService=q,this.selectService=Z,this.itemService=H,this.notificationsService=Y,this.translateService=Q,this.labelPrefix="submission.sections.describe.relationship-lookup.external-source.import-modal.",this.linkTypes=D.n,this.context=_.o.EntitySearchModalWithNameVariants,this.entityListId="external-source-import-entity",this.authorityListId="external-source-import-authority",this.importType=j,this.selectedImportType=j.None,this.importedObject=new t.bkB,this.authorityEnabled=!1}ngOnInit(){this.uri=v.O.first(this.externalSourceEntry.metadata,"dc.identifier.uri");const X=Object.assign(new w.W,{id:"external-entry-import",pageSize:5});this.searchOptions=Object.assign(new b.C({query:this.externalSourceEntry.value,pagination:X})),this.localEntitiesRD$=this.lookupRelationService.getLocalResults(this.relationship,this.searchOptions)}close(){this.modal.close()}import(){switch(this.selectedImportType){case j.LocalEntity:this.importLocalEntity();break;case j.NewEntity:this.importNewEntity();break;case j.LocalAuthority:this.importLocalAuthority();break;case j.NewAuthority:this.importNewAuthority()}this.selectedImportType=j.None,this.deselectAllLists(),this.close()}importLocalEntity(){void 0!==this.selectedEntity&&(this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.local-entity")),this.importedObject.emit(this.selectedEntity))}importNewEntity(){this.modalRef=this.modalService.open(C.m,{size:"lg"}),this.modalRef.componentInstance.entityType=this.relatedEntityType.label,this.modalRef.componentInstance.selectedEvent.pipe((0,e.n)(X=>this.itemService.importExternalSourceEntry(this.externalSourceEntry,X.collection.id).pipe((0,y.yd)(),(0,y.Bo)(),(0,f.s)(1)))).subscribe(X=>{this.lookupRelationService.removeLocalResultsCache();const J=Object.assign(new R.H,{indexableObject:X});this.notificationsService.success(this.translateService.get(this.labelPrefix+this.label+".added.new-entity")),this.modalRef.close(),this.importedObject.emit(J)})}importLocalAuthority(){}importNewAuthority(){}deselectEntity(){this.selectedEntity=void 0,this.selectedImportType===j.LocalEntity&&(this.selectedImportType=j.None)}selectEntity(X){this.selectedEntity=X,this.selectedImportType=j.LocalEntity}selectNewEntity(){this.selectedImportType===j.NewEntity?this.selectedImportType=j.None:(this.selectedImportType=j.NewEntity,this.deselectAllLists())}deselectAuthority(){this.selectedAuthority=void 0,this.selectedImportType===j.LocalAuthority&&(this.selectedImportType=j.None)}selectAuthority(X){this.selectedAuthority=X,this.selectedImportType=j.LocalAuthority}selectNewAuthority(){this.selectedImportType===j.NewAuthority?this.selectedImportType=j.None:(this.selectedImportType=j.NewAuthority,this.deselectAllLists())}deselectAllLists(){this.selectService.deselectAll(this.entityListId),this.selectService.deselectAll(this.authorityListId)}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(M.Lw),t.rXU(p.c),t.rXU(M.Bq),t.rXU(h.K),t.rXU(m.ItemDataService),t.rXU(I.I),t.rXU(l.c$))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-external-source-entry-import-modal"]],standalone:!0,features:[t.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-label","Close button","aria-describedby","modal-title",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["id","external-source-entry-information",1,"mb-3"],[4,"ngIf"],["id","external-source-entry-entities",1,"mb-3"],[1,"font-weight-bold"],[3,"searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context","deselectObject","selectObject",4,"ngIf"],[1,"ml-4"],["type","radio","name","new-entity","id","new-entity","value","new-entity",1,"form-check-input",3,"click","checked"],["for","new-entity",1,"form-check-label"],["id","external-source-entry-authority",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","dsBtnDisabled"],[3,"href"],[3,"deselectObject","selectObject","searchResults","sortConfig","searchConfig","selectable","disableHeader","hidePaginationDetail","selectionConfig","linkType","context"],["id","external-source-entry-authority"],["type","radio","name","new-authority","id","new-authority","value","new-authority",1,"form-check-input",3,"click","checked"],["for","new-authority",1,"form-check-label"]],template:function(J,q){if(1&J&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return q.modal.dismiss()}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4)(8,"h4"),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",5)(12,"div")(13,"span"),t.EFF(14),t.k0s()(),t.DNE(15,B,3,2,"div",6),t.k0s(),t.j41(16,"h4"),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"div",7)(20,"h5",8),t.EFF(21),t.nI1(22,"translate"),t.k0s(),t.DNE(23,U,2,13,"ds-search-results",9),t.nI1(24,"async"),t.j41(25,"div",10)(26,"input",11),t.bIt("click",function(){return q.selectNewEntity()}),t.k0s(),t.j41(27,"label",12),t.EFF(28),t.nI1(29,"translate"),t.k0s()()(),t.DNE(30,$,9,7,"div",13),t.k0s(),t.j41(31,"div",14)(32,"div")(33,"button",15),t.bIt("click",function(){return q.close()}),t.EFF(34),t.nI1(35,"translate"),t.k0s()(),t.j41(36,"div")(37,"button",16),t.bIt("click",function(){return q.import()}),t.EFF(38),t.nI1(39,"translate"),t.k0s()()()),2&J){let Z;t.R7$(2),t.JRh(t.bMT(3,13,q.labelPrefix+q.label+".title")),t.R7$(7),t.JRh(t.bMT(10,15,q.labelPrefix+"head."+q.externalSourceEntry.externalSource)),t.R7$(5),t.JRh(q.externalSourceEntry.display),t.R7$(),t.Y8G("ngIf",q.uri),t.R7$(2),t.JRh(t.bMT(18,17,q.labelPrefix+"select")),t.R7$(4),t.JRh(t.bMT(22,19,q.labelPrefix+"entities")),t.R7$(2),t.Y8G("ngIf",(null==(Z=t.bMT(24,21,q.localEntitiesRD$))||null==Z.payload||null==Z.payload.page?null:Z.payload.page.length)>0),t.R7$(3),t.Y8G("checked",q.selectedImportType===q.importType.NewEntity),t.R7$(2),t.JRh(t.bMT(29,23,q.labelPrefix+"entities.new")),t.R7$(2),t.Y8G("ngIf",q.authorityEnabled),t.R7$(4),t.JRh(t.bMT(35,25,q.labelPrefix+"cancel")),t.R7$(3),t.Y8G("dsBtnDisabled",q.selectedImportType===q.importType.None),t.R7$(),t.JRh(t.bMT(39,27,q.labelPrefix+"import"))}},dependencies:[l.h,l.D9,P.N,i.bT,i.Jj,O.A],styles:[".modal-footer[_ngcontent-%COMP%]{justify-content:space-between}"]})}}return z})()},94337:(N,T,n)=>{"use strict";n.d(T,{SF:()=>t,dD:()=>e,zH:()=>f});var i=n(91e3);const t={SET_NAME_VARIANT:(0,i.N)("dspace/name-variant/SET_NAME_VARIANT"),REMOVE_NAME_VARIANT:(0,i.N)("dspace/name-variant/REMOVE_NAME_VARIANT")};class l{constructor(p,_){this.payload={listID:p,itemID:_}}}class e extends l{constructor(p,_,v){super(p,_),this.type=t.SET_NAME_VARIANT,this.payload.nameVariant=v}}class f extends l{constructor(p,_){super(p,_),this.type=t.REMOVE_NAME_VARIANT}}},59496:(N,T,n)=>{"use strict";n.d(T,{Fw:()=>m,_I:()=>e,aS:()=>l,oE:()=>t});var i=n(91e3);const t={ADD_RELATIONSHIP:(0,i.N)("dspace/relationship/ADD_RELATIONSHIP"),REMOVE_RELATIONSHIP:(0,i.N)("dspace/relationship/REMOVE_RELATIONSHIP"),UPDATE_NAME_VARIANT:(0,i.N)("dspace/relationship/UPDATE_NAME_VARIANT"),UPDATE_RELATIONSHIP:(0,i.N)("dspace/relationship/UPDATE_RELATIONSHIP")};class l{constructor(_,v,y,C,O){this.type=t.ADD_RELATIONSHIP,this.payload={item1:_,item2:v,relationshipType:y,submissionId:C,nameVariant:O}}}class e{constructor(_,v,y,C,O){this.type=t.UPDATE_NAME_VARIANT,this.payload={item1:_,item2:v,relationshipType:y,submissionId:C,nameVariant:O}}}class m{constructor(_,v,y,C){this.type=t.REMOVE_RELATIONSHIP,this.payload={item1:_,item2:v,relationshipType:y,submissionId:C}}}},26091:(N,T,n)=>{"use strict";n.r(T),n.d(T,{DsDynamicLookupRelationSearchTabComponent:()=>z});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(84412),m=n(96697),p=n(57568),_=n(48833),v=n(22978),I=(n(26292),n(88318),n(59854),n(80183)),D=n(78655),R=n(39012),h=n(13955),w=n(82777),b=n(7581),P=n(13329),M=n(54992),L=n(18226);const B=(V,X)=>({repeatable:V,listId:X});function U(V,X){1&V&&(t.j41(0,"button",10),t.nrm(1,"span",11),t.j41(2,"span",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&V&&(t.R7$(3),t.JRh(t.bMT(4,1,"submission.sections.describe.relationship-lookup.search-tab.loading")))}function $(V,X){if(1&V){const J=t.RV6();t.j41(0,"div",12)(1,"button",13),t.bIt("click",function(){const Z=t.eBV(J).ngVar,H=t.XpG(3);return t.Njj(H.selectPage(null==Z?null:Z.page))}),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",13),t.bIt("click",function(){const Z=t.eBV(J).ngVar,H=t.XpG(3);return t.Njj(H.deselectPage(null==Z?null:Z.page))}),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}2&V&&(t.R7$(2),t.JRh(t.bMT(3,2,"submission.sections.describe.relationship-lookup.search-tab.select-page")),t.R7$(3),t.JRh(t.bMT(6,4,"submission.sections.describe.relationship-lookup.search-tab.deselect-page")))}function j(V,X){if(1&V&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.DNE(3,U,5,3,"button",6),t.j41(4,"button",7)(5,"span",8),t.EFF(6),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,$,7,6,"div",9),t.nI1(9,"async"),t.k0s()()()),2&V){const J=t.XpG(2);t.R7$(3),t.Y8G("ngIf",J.selectAllLoading),t.R7$(),t.Y8G("hidden",J.selectAllLoading),t.R7$(2),t.JRh(t.bMT(7,4,"submission.sections.describe.relationship-lookup.toggle-dropdown")),t.R7$(2),t.Y8G("ngVar",t.bMT(9,6,J.resultsRD$))}}function G(V,X){if(1&V){const J=t.RV6();t.j41(0,"ds-search",1),t.bIt("resultFound",function(Z){t.eBV(J);const H=t.XpG();return t.Njj(H.onResultFound(Z))})("deselectObject",function(Z){t.eBV(J);const H=t.XpG();return t.Njj(H.deselectObject.emit(Z))})("selectObject",function(Z){t.eBV(J);const H=t.XpG();return t.Njj(H.selectObject.emit(Z))}),t.DNE(1,j,10,8,"div",2),t.k0s()}if(2&V){const J=t.XpG();t.Y8G("configuration",J.relationship.searchConfiguration)("context",J.context)("fixedFilterQuery",J.relationship.filter)("hiddenQuery",J.hiddenQuery)("inPlaceSearch",!0)("linkType",J.linkTypes.ExternalLink)("searchFormPlaceholder","submission.sections.describe.relationship-lookup.search-tab.search-form.placeholder")("selectable",!0)("selectionConfig",t.l_i(13,B,J.repeatable,J.listId))("showScopeSelector",!1)("showViewModes",!1)("query",J.query),t.R7$(),t.Y8G("ngIf",J.repeatable)}}let z=(()=>{class V{constructor(J,q,Z,H,Y,Q){this.searchService=J,this.selectableListService=q,this.searchConfigService=Z,this.lookupRelationService=H,this.relationshipService=Y,this.paginationService=Q,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.resultsRD$=new f.t(null),this.initialPagination={page:1,pageSize:5},this.linkTypes=b.n,this.resultFound=new t.bkB}ngOnInit(){this.resetRoute()}resetRoute(){this.paginationService.updateRoute(this.searchConfigService.paginationID,this.initialPagination)}selectPage(J){this.selection$.pipe((0,m.s)(1)).subscribe(q=>{const Z=J.filter(H=>q.findIndex(Y=>Y.equals(H))<0);this.selectObject.emit(...Z)}),this.selectableListService.select(this.listId,J)}deselectPage(J){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(q=>{const Z=J.filter(H=>q.findIndex(Y=>Y.equals(H))>=0);this.deselectObject.emit(...Z)}),this.selectableListService.deselect(this.listId,J)}setSelectedIds(J,q){let Z=this.relationshipType.rightwardType;this.isLeft&&(Z=this.relationshipType.leftwardType),this.relationshipService.searchByItemsAndType(this.relationshipType.id,this.item.uuid,Z,J).pipe((0,I.yd)(),(0,I.Bo)()).subscribe(H=>{let Y=H.page.map(Q=>{let ie=[];return ie=this.isLeft?Q._links.rightItem.href.split("/"):Q._links.leftItem.href.split("/"),this.getRelatedItem(ie[ie.length-1],q)});Y=Y.filter(Q=>!this.getIfInRemove(Q.indexableObject.uuid)),Y.length>0&&this.selectableListService.select(this.listId,Y)})}deselectAll(){this.allSelected=!1,this.selection$.pipe((0,m.s)(1)).subscribe(J=>this.deselectObject.emit(...J)),this.selectableListService.deselectAll(this.listId)}getRelatedItem(J,q){return q.find(Z=>Z.indexableObject.uuid===J)}getIfInRemove(J){return!!this.toRemove.find(q=>q.indexableObject.uuid===J)}ngOnDestroy(){(0,w.a4)(this.subscription)&&this.subscription.unsubscribe()}onResultFound(J){if(this.resultsRD$.next(J),this.resultFound.emit(J),this.isEditRelationship){const q=J.page.map(Z=>Z.indexableObject.uuid);this.setSelectedIds(q,J.page)}}static{this.\u0275fac=function(q){return new(q||V)(t.rXU(D.S),t.rXU(P.K),t.rXU(R.g),t.rXU(p.c),t.rXU(_.RelationshipDataService),t.rXU(v.m))}}static{this.\u0275cmp=t.VBU({type:V,selectors:[["ds-base-dynamic-lookup-relation-search-tab"]],inputs:{relationship:"relationship",listId:"listId",query:"query",repeatable:"repeatable",selection$:"selection$",context:"context",relationshipType:"relationshipType",item:"item",isLeft:"isLeft",toRemove:"toRemove",isEditRelationship:"isEditRelationship",hiddenQuery:"hiddenQuery"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject",resultFound:"resultFound"},standalone:!0,features:[t.Jv_([{provide:h.EN,useClass:R.g}]),t.aNF],decls:1,vars:1,consts:[[3,"configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query","resultFound","deselectObject","selectObject",4,"ngIf"],[3,"resultFound","deselectObject","selectObject","configuration","context","fixedFilterQuery","hiddenQuery","inPlaceSearch","linkType","searchFormPlaceholder","selectable","selectionConfig","showScopeSelector","showViewModes","query"],["additionalSearchOptions","","class","position-absolute",4,"ngIf"],["additionalSearchOptions","",1,"position-absolute"],[1,"input-group","mb-3"],["ngbDropdown","",1,"input-group","dropdown-button"],["type","button","class","btn btn-outline-secondary rounded-right",4,"ngIf"],["id","resultdropdown","type","button","ngbDropdownToggle","","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-outline-secondary","dropdown-toggle-split",3,"hidden"],[1,"sr-only"],["ngbDropdownMenu","","aria-labelledby","resultdropdown",4,"ngVar"],["type","button",1,"btn","btn-outline-secondary","rounded-right"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["ngbDropdownMenu","","aria-labelledby","resultdropdown"],[1,"dropdown-item",3,"click"]],template:function(q,Z){1&q&&t.DNE(0,G,2,16,"ds-search",0),2&q&&t.Y8G("ngIf",Z.relationship.searchConfiguration&&Z.context)},dependencies:[i.Jj,L.r,e.h,e.D9,l.zH,l.tg,l.do,l.U0,i.bT,M.N],styles:[".position-absolute[_ngcontent-%COMP%]{right:var(--bs-spacer)}.dropdown-button[_ngcontent-%COMP%]{z-index:3}"]})}}return V})()},33126:(N,T,n)=>{"use strict";n.d(T,{j:()=>Dt});var i=n(1473),t=n(83278),l=n.n(t),e=n(78124),f=n.n(e),m=n(25689),p=n.n(m),_=n(8917),v=n(14391),y=n(80183),C=n(12866),O=n(82777),I=n(56899),D=n(31635),R=n(21413),h=n(61280),w=n(56568);const b="_CONCAT_GROUP";class L extends i.iO5{constructor(st,Le){super(st,Le),this.hasLanguages=!1,this.typeBindHidden=!1,this.isCustomGroup=!0,this.separator=st.separator+" ",this.relationship=st.relationship,this.repeatable=st.repeatable,this.required=st.required,this.hint=st.hint,this.metadataFields=st.metadataFields,this.submissionId=st.submissionId,this.hasSelectableMetadata=st.hasSelectableMetadata,this.metadataValue=st.metadataValue,this.valueUpdates=new R.B,this.valueUpdates.subscribe(je=>this.value=je),this.typeBindRelations=st.typeBindRelations?st.typeBindRelations:[],this.readOnly=st.disabled}get value(){const[st,Le]=this.group.map(je=>"string"==typeof je.value?Object.assign(new h.e,{value:je.value,display:je.value}):je.value);return(0,O.hj)(st)&&(0,O.hj)(st.value)&&(0,O.hj)(Le)&&(0,O.hj)(Le.value)?Object.assign(new h.e,st,{value:st.value+this.separator+Le.value}):(0,O.hj)(st)&&(0,O.hj)(st.value)?Object.assign(new h.e,st):(0,O.hj)(Le)&&(0,O.hj)(Le.value)?Object.assign(new h.e,Le):null}set value(st){let Le;Le="string"==typeof st?st:st.value,(0,O.Tn)(Le)&&(Le="");const je=[...Le.split(this.separator),null].map(He=>Object.assign(new h.e,st,{display:He,value:He}));this.get(0).value=je[0].value?je[0]:void 0,this.get(1).value=je[1].value?je[1]:void 0}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"separator",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],L.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],L.prototype,"typeBindRelations",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],L.prototype,"typeBindHidden",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",w.j)],L.prototype,"relationship",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"repeatable",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"required",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],L.prototype,"metadataFields",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],L.prototype,"submissionId",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"hasSelectableMetadata",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",v.vD)],L.prototype,"metadataValue",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],L.prototype,"readOnly",void 0);var B=n(38512),U=n(54438),$=n(59519),j=n.n($),G=n(83085);class z extends i.iO5{constructor(){super(...arguments),this.isRowGroup=!0}}var V=function(Lt){return Lt.WorkspaceItem="SUBMISSION",Lt.WorkflowItem="WORKFLOW",Lt}(V||{}),X=n(41780),J=n(89293),q=n(8590),Z=n(74850);class H{}(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"hints",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"label",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Array)],H.prototype,"languageCodes",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"mandatoryMessage",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"mandatory",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Boolean)],H.prototype,"repeatable",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Object)],H.prototype,"input",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Array)],H.prototype,"selectableMetadata",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",w.j)],H.prototype,"selectableRelationship",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Array)],H.prototype,"rows",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"scope",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",String)],H.prototype,"style",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Array)],H.prototype,"typeBind",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Object)],H.prototype,"value",void 0),(0,D.Cg)([Z.autoserialize,(0,D.Sn)("design:type",Object)],H.prototype,"visibility",void 0);var Y=n(14723);function Q(Lt,st,Le,je){(0,O.kZ)(Lt.layout)?(Lt.layout={},Lt.layout[st]={},Lt.layout[st][Le]=je):(0,O.b0)(Lt.layout[st])?(Lt.layout[st]={},Lt.layout[st][Le]=je):Lt.layout[st][Le]=(0,O.b0)(Lt.layout[st][Le])?je:Lt.layout[st][Le].concat(` ${je}`)}var ie=function(Lt){return Lt.Date="date",Lt.Dropdown="dropdown",Lt.RelationGroup="group",Lt.List="list",Lt.Lookup="lookup",Lt.LookupName="lookup-name",Lt.LookupRelation="lookup-relation",Lt.Onebox="onebox",Lt.Name="name",Lt.Series="series",Lt.Tag="tag",Lt.Textarea="textarea",Lt}(ie||{});const oe=new U.nKC("submissionId"),pe=new U.nKC("configData"),ne=new U.nKC("initFormValues"),re=new U.nKC("parserOptions"),Ce=new RegExp("(\\/?)(.+)\\1([gimsuy]*)","i");let Ee=class{constructor(st,Le,je,He,Be){this.submissionId=st,this.configData=Le,this.initFormValues=je,this.parserOptions=He,this.translate=Be}parse(){if((this.getInitValueCount()>1&&!this.configData.repeatable||this.configData.repeatable)&&this.configData.input.type!==ie.List.valueOf()&&this.configData.input.type!==ie.Tag.valueOf()){let je,st=0,Le=0;Array.isArray(this.configData.selectableMetadata)&&1===this.configData.selectableMetadata.length&&(je=this.configData.selectableMetadata[0].metadata);let He=!0;this.configData.input.type===ie.Onebox.valueOf()&&this.configData?.selectableMetadata?.length>1&&(He=!1);const Be={id:j()()+"_array",label:this.configData.label,initialCount:this.getInitArrayIndex(),notRepeatable:!this.configData.repeatable,relationshipConfig:this.configData.selectableRelationship,required:JSON.parse(this.configData.mandatory),submissionId:this.submissionId,metadataKey:je,metadataFields:this.getAllFieldIds(),hasSelectableMetadata:(0,O.hj)(this.configData.selectableMetadata),isDraggable:He,typeBindRelations:(0,O.hj)(this.configData.typeBind)?this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField):null,groupFactory:()=>{let Je;if(0===st)Je=this.modelFactory(),st++;else{const Nt=this.getInitValueCount(st-1);let Et=null;Nt>0&&(Et=this.getInitFieldValue(st-1,Le++),Le===Nt&&(Le=0,st++)),Je=this.modelFactory(Et,!1)}return Q(Je,"element","host","col"),(Je.hasLanguages||(0,O.hj)(Je.relationship))&&Q(Je,"grid","control","col"),[Je]}};return new q.m(Be,{grid:{group:"form-row"}})}{const st=this.modelFactory(this.getInitFieldValue());return st.submissionId=this.submissionId,(st.hasLanguages||(0,O.hj)(st.relationship))&&Q(st,"grid","control","col"),st}}setVocabularyOptions(st){(0,O.hj)(this.configData.selectableMetadata)&&(0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary)&&(st.vocabularyOptions=new J.n(this.configData.selectableMetadata[0].controlledVocabulary,this.configData.selectableMetadata[0].closed))}setValues(st,Le,je=!1,He){if((0,O.hj)(Le)){if(He)return st.value=this.getInitGroupValues(),void(Array.isArray(st.value)&&st.value.length>0&&st.value[0].language&&(st.language=st.value[0].language));(0,C.z5)(Le)?st.value=Le:"object"==typeof Le?(st.metadataValue=Le,st.language=Le.language,st.place=Le.place,st.value=je?Le:Le.value):je?st.value=new h.e(Le):"string"==typeof Le&&(st.value=Le)}return st}getInitValueCount(st=0,Le){const je=Le||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(je)&&1===je.length&&this.initFormValues.hasOwnProperty(je[0]))return this.initFormValues[je[0]].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(je)&&je.length>1){const He=[];return je.forEach(Be=>{this.initFormValues.hasOwnProperty(Be)&&He.push(this.initFormValues[Be].length)}),He[st]}return 0}getInitGroupValues(){const st=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(st)&&1===st.length&&this.initFormValues.hasOwnProperty(st[0]))return this.initFormValues[st[0]]}getInitFieldValues(st){if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(st)&&this.initFormValues.hasOwnProperty(st))return this.initFormValues[st]}getInitFieldValue(st=0,Le=0,je){const He=je||this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(He)&&1===He.length&&this.initFormValues.hasOwnProperty(He[st])&&this.initFormValues[He[st]].length>Le)return this.initFormValues[He[st]][Le];if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(He)&&He.length>1){const Be=[];return He.forEach(Pt=>{if(this.initFormValues.hasOwnProperty(Pt)){const Je=Object.assign(new h.e,this.initFormValues[Pt][Le]);Je.metadata=Pt,Be.push(Je)}}),Be[st]}return null}getInitArrayIndex(){const st=this.getAllFieldIds();if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(st)&&1===st.length&&this.initFormValues.hasOwnProperty(st))return this.initFormValues[st].length;if((0,O.hj)(this.initFormValues)&&(0,O.Pe)(st)&&st.length>1){let Le=0;return st.forEach(je=>{this.initFormValues.hasOwnProperty(je)&&(Le+=this.initFormValues[je].length)}),0===Le?1:Le}return 1}getFieldId(){const st=this.getAllFieldIds();return(0,O.Pe)(st)?st[0]:null}getAllFieldIds(){if(Array.isArray(this.configData.selectableMetadata)){if(1===this.configData.selectableMetadata.length)return[this.configData.selectableMetadata[0].metadata];{const st=[];return this.configData.selectableMetadata.forEach(Le=>st.push(Le.metadata)),st}}return["relation."+this.configData.selectableRelationship.relationshipType]}initModel(st,Le=!0,je=!1,He=!0,Be=!0){const Pt=Object.create(null);return this.fieldId=st||this.getFieldId(),Pt.name=this.fieldId,Pt.id=this.fieldId.replace(/\./g,"_"),Pt.readOnly=this.parserOptions.readOnly||this.isFieldReadOnly(this.configData.visibility,this.configData.scope,this.parserOptions.submissionScope),Pt.disabled=Pt.readOnly,(0,O.a4)(this.configData.selectableRelationship)&&(Pt.relationship=Object.assign(new w.j,this.configData.selectableRelationship)),Pt.repeatable=this.configData.repeatable,Pt.metadataFields=this.getAllFieldIds()||[],Pt.hasSelectableMetadata=(0,O.hj)(this.configData.selectableMetadata),Pt.submissionId=this.submissionId,this.setLabel(Pt,Le),Be&&(Pt.hint=this.configData.hints||"&nbsp;"),Pt.placeholder=this.configData.label,this.configData.mandatory&&He&&this.markAsRequired(Pt),this.hasRegex()&&this.addPatternValidator(Pt),this.configData.languageCodes&&this.configData.languageCodes.length>0&&(Pt.languageCodes=this.configData.languageCodes),(0,O.hj)(this.configData.typeBind)&&(Pt.typeBindRelations=this.getTypeBindRelations(this.configData.typeBind,this.parserOptions.typeField)),Pt}isFieldReadOnly(st,Le,je){return(0,O.hj)(je)&&(0,O.hj)(Le)&&(0,O.hj)(st)&&(je===G.L.WorkspaceItem.valueOf()&&st.main===Y.x.READONLY||st.other===Y.x.READONLY&&je===G.L.WorkflowItem.valueOf())}getTypeBindRelations(st,Le){const je=[];return st.forEach(He=>{je.push({id:Le,value:He})}),[{match:i.zUr,operator:i.fXj,when:je}]}hasRegex(){return(0,O.a4)(this.configData.input.regex)}addPatternValidator(st){const Le=this.configData.input.regex.match(Ce);let je;je=null!=Le&&Le.length>3?new RegExp(Le[2],Le[3]):new RegExp(this.configData.input.regex);const He="error.validation.pattern",Be=`${He}.${st.id}`,Pt=this.translate.instant(Be)!==Be;st.validators=Object.assign({},st.validators,{pattern:je}),st.errorMessages=Object.assign({},st.errorMessages,{pattern:Pt?Be:He})}markAsRequired(st){st.required=!0,st.validators=Object.assign({},st.validators,{required:null}),st.errorMessages=Object.assign({},st.errorMessages,{required:this.configData.mandatoryMessage})}setLabel(st,Le=!0,je=!1){Le&&(st.label=je?"&nbsp;":this.configData.label)}setOptions(st){(0,O.EA)(this.configData.selectableMetadata)&&this.configData.selectableMetadata.length>1&&(st.options=[],this.configData.selectableMetadata.forEach((Le,je)=>{0===je&&(st.value=Le.metadata),st.options.push({label:Le.label,value:Le.metadata})}))}};Ee=(0,D.Cg)([(0,D.Qj)(0,(0,U.y_5)(oe)),(0,D.Qj)(1,(0,U.y_5)(pe)),(0,D.Qj)(2,(0,U.y_5)(ne)),(0,D.Qj)(3,(0,U.y_5)(re)),(0,D.Sn)("design:paramtypes",[String,H,Object,Object,X.c$])],Ee);var ue=n(33382),ae=n(87668);class ye extends Ee{modelFactory(st,Le){let je=!1;const He=this.initModel(null,!1,!0);if(He.legend=this.configData.label,He.disabled=He.readOnly,He.toggleIcon="fas fa-calendar",this.setValues(He,st),(0,O.hj)(He.value)){const Pt=He.value.toString();if(Pt.length>=4){const Je=Pt.split(ue.q);if(Je.length<4)for(let Nt=0;Nt<Je.length;Nt++)Je[Nt].length!==(0===Nt?4:2)&&(je=!0)}}const Be=new ae.g(He);return Be.malformedDate=je,Be}}var De=n(6458);class tt extends Ee{modelFactory(st,Le){const je=this.initModel(null,Le);return this.setValues(je,st,!0),new De.H(je)}}var _t=n(11220);let We=class extends Ee{constructor(st,Le,je,He,Be){super(st,Le,je,He,Be)}modelFactory(st,Le){const je=this.initModel(null,Le);let He;if((0,O.hj)(this.configData.selectableMetadata[0].controlledVocabulary))return this.setVocabularyOptions(je),(0,O.hj)(st)&&(je.value=st),He={element:{control:"col"},grid:{host:"col"}},new _t.j(je,He);throw Error("Controlled Vocabulary name is not available. Please check the form configuration file.")}};We=(0,D.Cg)([(0,D.Qj)(0,(0,U.y_5)(oe)),(0,D.Qj)(1,(0,U.y_5)(pe)),(0,D.Qj)(2,(0,U.y_5)(ne)),(0,D.Qj)(3,(0,U.y_5)(re)),(0,D.Sn)("design:paramtypes",[String,H,Object,Object,X.c$])],We);var dt=n(29658),it=n(90558);class Ge extends Ee{modelFactory(st,Le){const je=this.initModel(null,Le);let He;return je.repeatable=this.configData.repeatable,this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&((0,O.hj)(this.getInitGroupValues())&&(je.value=[],this.getInitGroupValues().forEach(Be=>{if(Be instanceof h.e)je.value.push(Be);else{const Pt=new h.e(Be);je.value.push(Pt)}})),this.setVocabularyOptions(je)),je.repeatable?(je.group=[],He=new dt.R(je)):(je.options=[],He=new it.t(je)),He}}var gt=n(80902);class Pe extends Ee{modelFactory(st,Le){if(this.configData.selectableMetadata[0].controlledVocabulary){const je=this.initModel(null,Le);return this.setVocabularyOptions(je),this.setValues(je,st,!0),new gt.P(je)}}}var we=n(37146);class vt extends Ee{modelFactory(st,Le){if(this.configData.selectableMetadata[0].controlledVocabulary){const je=this.initModel(null,Le);return this.setVocabularyOptions(je),this.setValues(je,st,!0),new we._(je)}}}var at=n(66733);let nt=class extends Ee{constructor(st,Le,je,He,Be,Pt,Je=null,Nt=null){super(st,Le,je,He,Be),this.separator=Pt,this.firstPlaceholder=Je,this.secondPlaceholder=Nt,this.separator=Pt,this.firstPlaceholder=Je,this.secondPlaceholder=Nt}modelFactory(st,Le){const je=this.configData.selectableMetadata[0].metadata,He={grid:{host:"col-sm-6"}},Be=je.replace(/\./g,"_")+b,Pt=this.initModel(Be,Le,!1,!0);Pt.group=[],Pt.separator=this.separator;const Je=this.initModel(je+"_CONCAT_FIRST_INPUT",!1,!0,!0,!1),Nt=this.initModel(je+"_CONCAT_SECOND_INPUT",!1,!0,!0,!1);Je.hideErrorMessages=!0,Nt.hideErrorMessages=!0,(0,O.Tn)(Pt.hint)&&(0,O.a4)(Je.hint)&&(0,O.Tn)(Nt.hint)&&(Pt.hint=Je.hint,Je.hint=void 0),this.configData.mandatory&&(Pt.required=!0,Je.required=!0),Pt.disabled=Je.readOnly,(0,O.hj)(this.firstPlaceholder)&&(Je.placeholder=this.firstPlaceholder),(0,O.hj)(this.secondPlaceholder)&&(Nt.placeholder=this.secondPlaceholder);const Et=this.configData.label.split("/");2===Et.length&&(Je.placeholder=Et[0],Nt.placeholder=Et[1]);const qt=new at.C(Je,He),fn=new at.C(Nt,He);Pt.group.push(qt),Pt.group.push(fn);const ns=new L(Pt,{element:{control:"form-row"}});return ns.name=this.getFieldId(),(0,O.hj)(st)&&(ns.value=st),ns}};nt=(0,D.Cg)([(0,D.Qj)(0,(0,U.y_5)(oe)),(0,D.Qj)(1,(0,U.y_5)(pe)),(0,D.Qj)(2,(0,U.y_5)(ne)),(0,D.Qj)(3,(0,U.y_5)(re)),(0,D.Sn)("design:paramtypes",[String,H,Object,Object,X.c$,String,String,String])],nt);let lt=class extends nt{constructor(st,Le,je,He,Be){super(st,Le,je,He,Be,",","form.last-name","form.first-name")}};lt=(0,D.Cg)([(0,D.Qj)(0,(0,U.y_5)(oe)),(0,D.Qj)(1,(0,U.y_5)(pe)),(0,D.Qj)(2,(0,U.y_5)(ne)),(0,D.Qj)(3,(0,U.y_5)(re)),(0,D.Sn)("design:paramtypes",[String,H,Object,Object,X.c$])],lt);class cn extends i.iO5{constructor(st,Le){super(st,Le),this.hasLanguages=!1,this.isCustomGroup=!0,this.readOnly=st.readOnly,this.required=st.required,this.language=st.language,this.languageCodes=st.languageCodes,this.languageUpdates=new R.B,this.languageUpdates.subscribe(je=>{this.language=je}),this.hint=st.hint}get value(){return this.get(1).value}get qualdropId(){return this.get(0).value.toString()}get language(){return this._language}set language(st){this._language=st}get languageCodes(){return this._languageCodes}set languageCodes(st){this._languageCodes=st,(!this.language||null===this.language||""===this.language)&&(this.language=this.languageCodes?this.languageCodes[0].code:null)}}(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],cn.prototype,"_language",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Array)],cn.prototype,"_languageCodes",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",R.B)],cn.prototype,"languageUpdates",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Object)],cn.prototype,"hasLanguages",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],cn.prototype,"readOnly",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",String)],cn.prototype,"hint",void 0),(0,D.Cg)([(0,i.sU3)(),(0,D.Sn)("design:type",Boolean)],cn.prototype,"required",void 0);var nn=n(45500);class Mn extends Ee{modelFactory(st,Le){if(this.configData.selectableMetadata.length>1){const je={element:{control:"form-row",hint:"ds-form-qualdrop-hint"}},He={element:{control:"ds-form-input-addon custom-select"},grid:{host:"col-sm-4 pr-0"}},Be={element:{control:"ds-form-input-value"},grid:{host:"col-sm-8 pl-0"}},Pt=this.configData.selectableMetadata[0].metadata.split(".").slice(0,this.configData.selectableMetadata[0].metadata.split(".").length-1).join("."),Je=Object.create(null);Je.id=Pt.replace(/\./g,"_")+"_QUALDROP_GROUP",Je.group=[],Je.legend=this.configData.label,Je.hint=this.configData.hints,this.setLabel(Je,Le),Je.required=(0,O.hj)(this.configData.mandatory);const Nt=this.initModel(Pt+"_QUALDROP_VALUE",Le,!1,!1);Nt.hint=null,this.setValues(Nt,st);const Et=this.initModel(Pt+"_QUALDROP_METADATA",Le,!1,!1);return Et.hint=null,this.setOptions(Et),(0,O.hj)(st)&&(Et.value=st.metadata),Et.disabled=Nt.readOnly,Je.readOnly=Et.disabled&&Nt.readOnly,Je.group.push(new i.z4z(Et,He)),Je.group.push(new at.C(Nt,Be)),new cn(Je,je)}if(this.configData.selectableMetadata[0].controlledVocabulary){const je=this.initModel(null,Le);return this.setVocabularyOptions(je),this.setValues(je,st,!0),new nn.K(je)}{const je=this.initModel(null,Le);return this.setValues(je,st),new at.C(je)}}}var Tt=n(11166);class $t extends Ee{modelFactory(st,Le){const je=this.initModel(null,Le);if(je.submissionId=this.submissionId,je.scopeUUID=this.parserOptions.collectionUUID,je.submissionScope=this.parserOptions.submissionScope,!(this.configData&&this.configData.rows&&this.configData.rows.length>0))throw new Error(`Configuration not valid: ${je.name}`);je.formConfiguration=this.configData.rows,je.relationFields=[],this.configData.rows.forEach(Pt=>{Pt.fields.forEach(Je=>{Je.selectableMetadata[0].metadata===this.configData.selectableMetadata[0].metadata?je.mandatoryField=this.configData.selectableMetadata[0].metadata:je.relationFields.push(Je.selectableMetadata[0].metadata)})}),(0,O.hj)(this.getInitGroupValues())&&(je.value=[],this.getInitFieldValues(je.mandatoryField).forEach((Je,Nt)=>{const Et=Object.create(null);[je.mandatoryField].concat(je.relationFields).forEach(fn=>{const Cn=this.getInitFieldValue(0,Nt,[fn]);Et[fn]=(0,O.hj)(Cn)?Cn:I.N}),je.value.push(Et)}));const Be=new Tt.W(je,{element:{container:"mb-3"}});return Be.name=this.getFieldId(),Be}}let St=class extends nt{constructor(st,Le,je,He,Be){super(st,Le,je,He,Be,";")}};St=(0,D.Cg)([(0,D.Qj)(0,(0,U.y_5)(oe)),(0,D.Qj)(1,(0,U.y_5)(pe)),(0,D.Qj)(2,(0,U.y_5)(ne)),(0,D.Qj)(3,(0,U.y_5)(re)),(0,D.Sn)("design:paramtypes",[String,H,Object,Object,X.c$])],St);class Jt extends Ee{modelFactory(st,Le){const je=this.initModel(null,Le);return this.configData.selectableMetadata[0].controlledVocabulary&&this.configData.selectableMetadata[0].controlledVocabulary.length>0&&this.setVocabularyOptions(je),this.setValues(je,st,null,!0),new B.H(je)}}var ln=n(88280),It=n(77485);class zt extends Ee{modelFactory(st,Le){const je=this.initModel(null,Le);return je.rows=10,je.spellCheck=ln.c.form.spellCheck,this.setValues(je,st),new It.E(je,{element:{label:"col-form-label"}})}}const Ht=[oe,pe,ne,re,X.c$];class At{static getProvider(st){switch(st){case ie.Date:return{provide:Ee,useClass:ye,deps:[...Ht]};case ie.Dropdown:return{provide:Ee,useClass:We,deps:[...Ht]};case ie.RelationGroup:return{provide:Ee,useClass:$t,deps:[...Ht]};case ie.List:return{provide:Ee,useClass:Ge,deps:[...Ht]};case ie.Lookup:return{provide:Ee,useClass:Pe,deps:[...Ht]};case ie.LookupName:return{provide:Ee,useClass:vt,deps:[...Ht]};case ie.Onebox:return{provide:Ee,useClass:Mn,deps:[...Ht]};case ie.Name:return{provide:Ee,useClass:lt,deps:[...Ht]};case ie.Series:return{provide:Ee,useClass:St,deps:[...Ht]};case ie.Tag:return{provide:Ee,useClass:Jt,deps:[...Ht]};case ie.Textarea:return{provide:Ee,useClass:zt,deps:[...Ht]};case void 0:return{provide:Ee,useClass:tt,deps:[...Ht]};default:return}}}let Zt=(()=>{class Lt{constructor(Le){this.parentInjector=Le}parse(Le,je,He,Be,Pt,Je,Nt){let Et=null,qt=null;const fn={id:j()("df-row-group-config-"),group:[]},Cn=this.filterScopedFields(je.fields,Pt),ns=" col-sm-"+Math.trunc(12/Cn.length),Gs={readOnly:Je,submissionScope:Pt,collectionUUID:He,typeField:Nt};if(Cn.forEach(yt=>{const ct=(yt.style||ns)+" d-flex flex-column justify-content-start",Xt=At.getProvider(yt.input.type);if(!Xt)throw new Error(`unknown form control model type "${yt.input.type}" defined for Input field with label "${yt.label}".`);if(Et=U.zZn.create({providers:[Xt,{provide:oe,useValue:Le},{provide:pe,useValue:yt},{provide:ne,useValue:Be},{provide:re,useValue:Gs}],parent:this.parentInjector}).get(Ee).parse(),Et){if(Et.type===i.WlY||Et.type===I.T)return void(je.fields.length>1?(Q(Et,"grid","host",ct),fn.group.push(Et)):qt=Et);Array.isArray(Et)?Et.forEach(Pn=>{qt=Pn}):(Q(Et,"grid","host",ct),fn.group.push(Et)),Et=null}}),fn&&!(0,O.Im)(fn.group)){const ct=new z(fn,{element:{control:"form-row"}});Array.isArray(qt)?qt.push(ct):qt=ct}return qt}checksFieldScope(Le,je,He){return(0,O.Im)(Le)||!this.isHidden(He,Le,je)}isHidden(Le,je,He){return(0,O.hj)(je)&&(0,O.Im)(Le)&&(He===G.L.WorkspaceItem.valueOf()&&je!==V.WorkspaceItem.valueOf()||He===G.L.WorkflowItem.valueOf()&&je!==V.WorkflowItem.valueOf())}filterScopedFields(Le,je){const He=[];return Le.forEach(Be=>{this.checksFieldScope(Be.scope,je,Be.visibility)&&He.push(Be)}),He}static{this.\u0275fac=function(je){return new(je||Lt)(U.KVO(U.zZn))}}static{this.\u0275prov=U.jDH({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}}return Lt})(),Dt=(()=>{class Lt extends i.J9r{constructor(Le,je,He,Be){super(Le,je),this.rowParser=He,this.configService=Be,this.formModels=new Map,this.formGroups=new Map,(0,O.a4)(this.configService)&&this.setTypeBindFieldFromConfig()}createDynamicFormControlEvent(Le,je,He,Be){return{$event:{value:He.value,autoSave:!1},context:He?.parent instanceof i.fHx?He?.parent:null,control:Le,group:je,model:He,type:Be}}getTypeBindModel(){return this.typeBindModel}setTypeBindModel(Le){this.typeBindModel=Le}findById(Le,je,He=null){let Be=null;const Pt=(Je,Nt,Et)=>{for(const qt of Nt){if(qt.id===Je){Be=this.isArrayGroup(qt)&&(0,O.Pe)(Et)?qt.get(Et):qt;break}if(this.isConcatGroup(qt)&&qt.id.match(new RegExp(Je+b))){Be=qt;break}if(this.isGroup(qt)&&Pt(Je,qt.group,Et),this.isArrayGroup(qt)&&((0,O.kZ)(Et)||qt.size>Et)){const fn=(0,O.kZ)(Et)?0:Et;Pt(Je,qt.get(fn).group,fn)}}};return Pt(Le,je,He),Be}clearAllModelsValue(Le){const je=He=>{for(const Be of He)this.isGroup(Be)?je(Be.group):this.isArrayGroup(Be)?je(Be.groupFactory()):Be.hasOwnProperty("valueChanges")&&(Be.value=void 0)};je(Le)}getValueFromModel(Le){let je=Object.create({});const He=(Je,Nt)=>{if(Array.isArray(Je))return Je.concat(Nt)},Be=(Je,Nt,Et)=>{const qt=Je.hasLanguages?Je.language:null;if(Je?.metadataValue?.authority?.includes(v.BY))return Je.metadataValue;if(f()(Nt))return new h.e(Nt,qt,null,null,Et);if((0,C.z5)(Nt))return new h.e((0,C.$T)(Nt));if(l()(Nt)){const fn=Nt.authority||Nt.id||null,Cn=Et||Nt.place;return(0,C.z5)(Nt)?new h.e(Nt,qt,fn,Nt,Cn):new h.e(Nt.value,qt,fn,Nt.display,Cn,Nt.confidence)}return Nt},Pt=(Je,Nt=0)=>{let Et=Object.create({});for(const qt of Je){if(this.isRowGroup(qt)&&!this.isCustomOrListGroup(qt)){Et=p()(Et,Pt(qt.group),He);continue}if(this.isGroup(qt)&&!this.isCustomOrListGroup(qt)){Et[qt.name]=Pt(qt.group);continue}if(this.isRowArrayGroup(qt)){for(const Cn of qt.groups)Et=p()(Et,Pt(Cn.group,Cn.index),He);continue}if(this.isArrayGroup(qt)){Et[qt.name]=[];for(const Cn of qt.groups)Et[qt.name].push(Pt(Cn.group,Cn.index));continue}let fn;if(fn=this.isQualdropGroup(qt)?qt.qualdropId:qt.name,this.isRelationGroup(qt))qt.getGroupValue().forEach((ns,hs)=>{Object.keys(ns).forEach(yt=>{const ct=Be(qt,ns[yt],hs);(0,O.hj)(ct)&&ct.hasValue()&&(Et.hasOwnProperty(yt)?Et[yt].push(ct):Et[yt]=[ct])})});else if((0,O.EA)(qt.value)&&(0,O.hj)(qt.value)){const Cn=[];(Array.isArray(qt.value)?qt.value:[qt.value]).forEach(hs=>{Cn.push(Be(qt,hs,Nt))}),Et[fn]=fn&&Et.hasOwnProperty(fn)&&(0,O.Pe)(Et[fn])?Et[fn].concat(Cn):(0,O.hj)(Cn)?Cn:null}}return Et};return je=Pt(Le),je}modelFromConfiguration(Le,je,He,Be={},Pt,Je=!1,Nt=null,Et=!1){let qt=[];const fn="string"==typeof je?JSON.parse(je,i.zno):je;return fn.rows&&!(0,O.Im)(fn.rows)&&fn.rows.forEach(Cn=>{const ns=this.rowParser.parse(Le,Cn,He,Be,Pt,Je,this.getTypeField());(0,O.Pe)(ns)&&(Array.isArray(ns)?qt=qt.concat(ns):qt.push(ns))}),(0,O.Tn)(Nt)&&(Nt=this.findById(this.typeField,qt)),(0,O.a4)(Nt)&&this.setTypeBindModel(Nt),qt}isModelInCustomGroup(Le){return this.isCustomGroup(Le.parent)}hasArrayGroupValue(Le){return Le&&(this.isListGroup(Le)||Le.type===B.v)}hasMappedGroupValue(Le){return this.isQualdropGroup(Le.parent)||this.isRelationGroup(Le.parent)}isGroup(Le){return Le&&(Le.type===i.wnr||Le.type===i.W25)}isQualdropGroup(Le){return Le&&Le.type===i.wnr&&(0,O.a4)(Le.qualdropId)}isCustomGroup(Le){return Le&&Le.type===i.wnr&&!0===Le.isCustomGroup}isConcatGroup(Le){return this.isCustomGroup(Le)&&-1!==Le.id.indexOf(b)}isRowGroup(Le){return Le&&Le.type===i.wnr&&!0===Le.isRowGroup}isCustomOrListGroup(Le){return Le&&(this.isCustomGroup(Le)||this.isListGroup(Le))}isListGroup(Le){return Le&&(Le.type===i.W25&&!0===Le.isListGroup||Le.type===i.KMD&&!0===Le.isListGroup)}isRelationGroup(Le){return Le&&Le.type===I.T}isRowArrayGroup(Le){return Le.type===i.WlY&&!0===Le.isRowArray}isArrayGroup(Le){return Le.type===i.WlY}isInputModel(Le){return Le.type===i.FlA}getFormControlById(Le,je,He,Be=0){const Pt=this.findById(Le,He,Be);return(0,O.hj)(Pt)?je.get(this.getPath(Pt)):null}getFormControlByModel(Le,je){return(0,O.hj)(je)?Le.get(this.getPath(je)):null}getId(Le){let je;return this.isArrayGroup(Le)?Le.index.toString():(je=this.isModelInCustomGroup(Le)?Le.parent:Le,je.id!==je.name?je.name:je.id)}removeFormModel(Le){this.formModels.has(Le)&&this.formModels.delete(Le)}addFormGroups(Le,je){this.formGroups.set(Le,je)}removeFormGroup(Le){this.formGroups.has(Le)&&this.formGroups.delete(Le)}getMetadataIdsFromEvent(Le){let je=Le.model;for(;je.parent;)je=je.parent;const He=(Pt,Je=0)=>{let Nt=Object.create({});for(const Et of Pt){if(this.isRowGroup(Et)&&!this.isCustomOrListGroup(Et)){Nt=p()(Nt,He(Et.group));continue}if(this.isGroup(Et)&&!this.isCustomOrListGroup(Et)){Nt[Et.name]=He(Et.group);continue}if(this.isRowArrayGroup(Et)){for(const fn of Et.groups)Nt=p()(Nt,He(fn.group,fn.index));continue}if(this.isArrayGroup(Et)){Nt[Et.name]=[];for(const fn of Et.groups)Nt[Et.name].push(He(fn.group,fn.index));continue}let qt;qt=this.isQualdropGroup(Et)?Et.qualdropId:Et.name,this.isRelationGroup(Et)?Et.getGroupValue().forEach((Cn,ns)=>{Object.keys(Cn).forEach(hs=>{Nt[hs]=!0})}):Nt[qt]=!0}return Nt},Be=He([je]);return Object.keys(Be)}setTypeBindFieldFromConfig(){this.configService.findByPropertyName("submit.type-bind.field").pipe((0,y.qD)()).subscribe(Le=>{if(!Le.hasSucceeded)return void(this.typeField="dc_type");const je=Le.payload.values[0];this.typeField=(0,O.Im)(je)?"dc_type":je.replace(/\./g,"_")})}getTypeField(){return(0,O.a4)(this.configService)&&(0,O.Tn)(this.typeField)?this.setTypeBindFieldFromConfig():(0,O.Tn)(this.typeField)&&(this.typeField="dc_type"),this.typeField}static{this.\u0275fac=function(je){return new(je||Lt)(U.KVO(i.cYz),U.KVO(i.STK),U.KVO(Zt),U.KVO(_.ConfigurationDataService,8))}}static{this.\u0275prov=U.jDH({token:Lt,factory:Lt.\u0275fac,providedIn:"root"})}}return Lt})()},61280:(N,T,n)=>{"use strict";n.d(T,{e:()=>f});var i=n(98179),t=n(14391),l=n(82777),e=n(56899);class f{static{this.AUTHORITY_SPLIT="::"}static{this.AUTHORITY_GENERATE="will be generated"+f.AUTHORITY_SPLIT}constructor(p=null,_=null,v=null,y=null,C=0,O=null,I=null,D=null){this.value=(0,l.Pe)(p)?"string"==typeof p?p.trim():p:null,this.language=_,this.authority=v,this.display=y||p,this.confidence=O,this.confidence=null==v||!(0,l.Im)(O)&&-1!==O?(0,l.hj)(O)?O:i.l.CF_UNSET:i.l.CF_ACCEPTED,this.place=C,(0,l.hj)(D)&&(this.metadata=D),this.otherInformation=I}hasAuthority(){return(0,l.hj)(this.authority)}hasAuthorityToGenerate(){return(0,l.hj)(this.authority)&&this.authority.startsWith(f.AUTHORITY_GENERATE)}hasValue(){return(0,l.hj)(this.value)}hasOtherInformation(){return(0,l.hj)(this.otherInformation)}hasPlaceholder(){return this.hasValue()&&this.value===e.N}get isVirtual(){return(0,l.a4)(this.authority)&&this.authority.startsWith(t.BY)}get virtualValue(){if(this.isVirtual)return this.authority.substring(this.authority.indexOf(t.BY)+t.BY.length)}toString(){return this.display||this.value}}},56568:(N,T,n)=>{"use strict";n.d(T,{j:()=>t});class t{get metadataField(){return"relation."+this.relationshipType}}},39729:(N,T,n)=>{"use strict";n.d(T,{K:()=>O});var i=n(54438),t=n(48376),l=n.n(t),e=n(88280),f=n(98179),m=n(14391),p=n(43235),_=n(36599),v=n(82777),y=n(61280),C=n(41780);let O=(()=>{class I{onClick(){(0,v.hj)(this.authorityValue)&&this.getConfidenceByValue(this.authorityValue)!==f.l.CF_ACCEPTED&&this.whenClickOnConfidenceNotAccepted.emit(this.getConfidenceByValue(this.authorityValue))}constructor(R,h,w){this.elem=R,this.renderer=h,this.translate=w,this.visibleWhenAuthorityEmpty=!0,this.iconMode=!1,this.previousClass=null,this.whenClickOnConfidenceNotAccepted=new i.bkB}ngOnChanges(R){R.authorityValue.firstChange||(this.previousClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.previousValue))),this.newClass=this.getClassByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));const h=this.getNameByConfidence(this.getConfidenceByValue(R.authorityValue.currentValue));(0,v.kZ)(this.previousClass)?(this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`))):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass),this.iconMode&&this.renderer.setAttribute(this.elem.nativeElement,"title",this.translate.instant(`confidence.indicator.help-text.${h}`)))}ngAfterViewInit(){(0,v.kZ)(this.previousClass)?this.renderer.addClass(this.elem.nativeElement,this.newClass):this.previousClass!==this.newClass&&(this.renderer.removeClass(this.elem.nativeElement,this.previousClass),this.renderer.addClass(this.elem.nativeElement,this.newClass))}getConfidenceByValue(R){let h=f.l.CF_UNSET;return(0,v.hj)(R)&&(R instanceof p.b||R instanceof _.M)&&R.hasAuthority()&&(h=f.l.CF_ACCEPTED),(0,v.hj)(R)&&R instanceof y.e&&(h=R.confidence),(0,v.hj)(R)&&R instanceof m.vD&&(h=R.confidence),(0,v.hj)(R)&&Object.values(f.l).includes(R)&&(h=R),h}getClassByConfidence(R){if(!this.visibleWhenAuthorityEmpty&&R===f.l.CF_UNSET)return"d-none";const h=e.c.submission.icons.authority.confidence,w=l()(h,{value:R}),b=l()(h,{value:"default"});return this.iconMode?-1!==w?h[w].icon:-1!==b?h[b].icon:"":-1!==w?h[w].style:-1!==b?h[b].style:""}getNameByConfidence(R){const h=f.l[R];return(0,v.hj)(h)?h.replace("CF_","").toLowerCase():"unknown"}static{this.\u0275fac=function(h){return new(h||I)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(C.c$))}}static{this.\u0275dir=i.FsC({type:I,selectors:[["","dsAuthorityConfidenceState",""]],hostBindings:function(h,w){1&h&&i.bIt("click",function(){return w.onClick()})},inputs:{authorityValue:"authorityValue",visibleWhenAuthorityEmpty:"visibleWhenAuthorityEmpty",iconMode:"iconMode"},outputs:{whenClickOnConfidenceNotAccepted:"whenClickOnConfidenceNotAccepted"},standalone:!0,features:[i.OA$]})}}return I})()},32710:(N,T,n)=>{"use strict";n.d(T,{AI:()=>t,Dn:()=>m,Dp:()=>y,PW:()=>p,SD:()=>f,Tr:()=>v,V2:()=>e,bS:()=>l,yo:()=>_});var i=n(91e3);const t={FORM_INIT:(0,i.N)("dspace/form/FORM_INIT"),FORM_CHANGE:(0,i.N)("dspace/form/FORM_CHANGE"),FORM_ADD_TOUCHED:(0,i.N)("dspace/form/FORM_ADD_TOUCHED"),FORM_REMOVE:(0,i.N)("dspace/form/FORM_REMOVE"),FORM_STATUS_CHANGE:(0,i.N)("dspace/form/FORM_STATUS_CHANGE"),FORM_ADD_ERROR:(0,i.N)("dspace/form/FORM_ADD_ERROR"),FORM_REMOVE_ERROR:(0,i.N)("dspace/form/FORM_REMOVE_ERROR"),FORM_CLEAR_ERRORS:(0,i.N)("dspace/form/FORM_CLEAR_ERRORS")};class l{constructor(O,I,D){this.type=t.FORM_INIT,this.payload={formId:O,formData:I,valid:D}}}class e{constructor(O,I){this.type=t.FORM_CHANGE,this.payload={formId:O,formData:I}}}class f{constructor(O,I){this.type=t.FORM_ADD_TOUCHED,this.payload={formId:O,touched:I}}}class m{constructor(O){this.type=t.FORM_REMOVE,this.payload={formId:O}}}class p{constructor(O,I){this.type=t.FORM_STATUS_CHANGE,this.payload={formId:O,valid:I}}}class _{constructor(O,I,D,R){this.type=t.FORM_ADD_ERROR,this.payload={formId:O,fieldId:I,fieldIndex:D,errorMessage:R}}}class v{constructor(O,I,D){this.type=t.FORM_REMOVE_ERROR,this.payload={formId:O,fieldId:I,fieldIndex:D}}}class y{constructor(O){this.type=t.FORM_CLEAR_ERRORS,this.payload={formId:O}}}},13143:(N,T,n)=>{"use strict";n.d(T,{s:()=>V});var i=n(60177),t=n(54438),l=n(89417),e=n(1473),f=n(41780),m=n(48376),p=n.n(m),_=n(5964),v=n(96354),y=n(23294),C=n(60456),O=n(82777),I=n(10460);function D(X,J){if(1&X){const q=t.RV6();t.j41(0,"ds-dynamic-form-control-container",1),t.bIt("dfBlur",function(H){t.eBV(q);const Y=t.XpG();return t.Njj(Y.onCustomEvent(H,Y.blur))})("dfChange",function(H){t.eBV(q);const Y=t.XpG();return t.Njj(Y.onCustomEvent(H,Y.change))})("dfFocus",function(H){t.eBV(q);const Y=t.XpG();return t.Njj(Y.onCustomEvent(H,Y.focus))})("ngbEvent",function(H){t.eBV(q);const Y=t.XpG();return t.Njj(Y.onCustomEvent(H,Y.ngbEvent))}),t.k0s()}if(2&X){const q=J.$implicit,Z=t.XpG();t.AVh("d-none",q.hidden),t.Y8G("formId",Z.formId)("group",Z.formGroup)("hasErrorMessaging",q.hasErrorMessages)("hidden",q.hidden)("layout",Z.formLayout)("model",q)("templates",Z.templates)("asBootstrapFormGroup",!0)}}let R=(()=>{class X extends e.f4U{constructor(q,Z){super(q,Z),this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.ngbEvent=new t.bkB}static{this.\u0275fac=function(Z){return new(Z||X)(t.rXU(t.gRc),t.rXU(e.cYz))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-dynamic-form"]],contentQueries:function(Z,H,Y){if(1&Z&&t.wni(Y,e.vJF,4),2&Z){let Q;t.mGM(Q=t.lsd())&&(H.templates=Q)}},viewQuery:function(Z,H){if(1&Z&&t.GBs(I._,5),2&Z){let Y;t.mGM(Y=t.lsd())&&(H.components=Y)}},inputs:{formId:"formId",formGroup:"formGroup",formModel:"formModel",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",ngbEvent:"ngbEvent"},standalone:!0,features:[t.Vt3,t.aNF],decls:1,vars:2,consts:[[3,"formId","group","hasErrorMessaging","hidden","d-none","layout","model","templates","asBootstrapFormGroup","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formId","group","hasErrorMessaging","hidden","layout","model","templates","asBootstrapFormGroup"]],template:function(Z,H){1&Z&&t.DNE(0,D,1,10,"ds-dynamic-form-control-container",0),2&Z&&t.Y8G("ngForOf",H.formModel)("ngForTrackBy",H.trackByFn)},dependencies:()=>[I._,i.Sq],encapsulation:2})}}return X})();var h=n(33126),w=n(54002);const b=[[["","additional",""]],"*",[["","before",""]],[["","between",""]],[["","after",""]]],P=["[additional]","*","[before]","[between]","[after]"];function M(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",7)(1,"button",8),t.nI1(2,"translate"),t.nI1(3,"translate"),t.bIt("click",function(H){t.eBV(q);const Y=t.XpG(),Q=Y.index,ie=Y.context,oe=t.XpG();return t.Njj(oe.removeItem(H,ie,Q))}),t.j41(4,"span"),t.nrm(5,"i",9),t.k0s()()()}2&X&&(t.R7$(),t.FS9("title",t.bMT(2,2,"form.remove")),t.BMQ("aria-label",t.bMT(3,4,"form.remove")))}function L(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",10)(1,"div",11)(2,"button",12),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(H){t.eBV(q);const Y=t.XpG().$implicit,Q=t.XpG();return t.Njj(Q.insertItem(H,Y.context,Y.context.groups.length))}),t.j41(5,"span"),t.nrm(6,"i",13),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()()}2&X&&(t.R7$(2),t.FS9("title",t.bMT(3,3,"form.add")),t.BMQ("aria-label",t.bMT(4,5,"form.add")),t.R7$(5),t.SpI(" ",t.bMT(8,7,"form.add"),""))}function B(X,J){if(1&X){const q=t.RV6();t.j41(0,"div",7)(1,"div",14)(2,"button",15),t.nI1(3,"translate"),t.nI1(4,"translate"),t.bIt("click",function(H){t.eBV(q);const Y=t.XpG(),Q=Y.index,ie=Y.context,oe=t.XpG();return t.Njj(oe.removeItem(H,ie,Q))}),t.j41(5,"span"),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()()}if(2&X){const q=t.XpG(),Z=q.$implicit,H=q.index,Y=q.context,Q=t.XpG();t.R7$(2),t.FS9("title",t.bMT(3,4,"form.discard")),t.Y8G("dsBtnDisabled",1===Z.context.groups.length||Q.isItemReadOnly(Y,H)),t.BMQ("aria-label",t.bMT(4,6,"form.discard")),t.R7$(4),t.JRh(t.bMT(7,8,"form.discard"))}}function U(X,J){if(1&X&&t.DNE(0,M,6,6,"div",5)(1,L,9,9,"div",6)(2,B,8,10,"div",5),2&X){const q=J.$implicit,Z=J.index,H=J.context,Y=t.XpG();t.Y8G("ngIf",!H.notRepeatable&&!Y.isVirtual(H,Z)&&1!==q.context.groups.length&&!Y.isItemReadOnly(H,Z)),t.R7$(),t.Y8G("ngIf",!H.notRepeatable&&Z===q.context.groups.length-1&&!Y.isItemReadOnly(H,Z)),t.R7$(),t.Y8G("ngIf",H.notRepeatable&&H.showButtons&&q.context.groups.length>1)}}function $(X,J){1&X&&t.SdG(0,1,["*ngIf","!displaySubmit && !displayCancel"])}function j(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(q);const H=t.XpG(2);return t.Njj(H.reset())}),t.nrm(1,"i",21),t.EFF(2),t.nI1(3,"translate"),t.k0s()}if(2&X){const q=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,q.cancelLabel)," ")}}function G(X,J){if(1&X){const q=t.RV6();t.j41(0,"button",22),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(q);const H=t.XpG(2);return t.Njj(H.onSubmit())}),t.nrm(2,"i",23),t.EFF(3),t.nI1(4,"translate"),t.k0s()}if(2&X){const q=t.XpG(2);t.Y8G("dsBtnDisabled",!0!==t.bMT(1,2,q.isValid())),t.R7$(3),t.SpI(" ",t.bMT(4,4,q.submitLabel)," ")}}function z(X,J){if(1&X&&(t.j41(0,"div"),t.nrm(1,"hr"),t.j41(2,"div",16)(3,"div",17),t.SdG(4,2),t.DNE(5,j,4,3,"button",18),t.SdG(6,3),t.DNE(7,G,5,6,"button",19),t.SdG(8,4),t.k0s()()()),2&X){const q=t.XpG();t.R7$(5),t.Y8G("ngIf",q.displayCancel),t.R7$(2),t.Y8G("ngIf",q.displaySubmit)}}let V=(()=>{class X{constructor(q,Z,H){this.formService=q,this.changeDetectorRef=Z,this.formBuilderService=H,this.formErrors=[],this.displaySubmit=!0,this.displayCancel=!0,this.emitChange=!0,this.submitLabel="form.submit",this.cancelLabel="form.cancel",this.formLayout=null,this.blur=new t.bkB,this.change=new t.bkB,this.focus=new t.bkB,this.customEvent=new t.bkB,this.addArrayItem=new t.bkB,this.removeArrayItem=new t.bkB,this.cancel=new t.bkB,this.submitForm=new t.bkB,this.subs=[]}getFormGroup(){return this.parentFormModel?this.formGroup.parent:this.formGroup}getFormGroupValue(){return this.getFormGroup().value}getFormGroupValidStatus(){return this.getFormGroup().valid}ngOnInit(){this.formGroup?this.formModel.forEach(q=>{this.parentFormModel&&this.formBuilderService.addFormGroupControl(this.formGroup,this.parentFormModel,q)}):this.formGroup=this.formBuilderService.createFormGroup(this.formModel),this.formService.initForm(this.formId,this.formModel,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus(),this.subs.push(this.formGroup.statusChanges.pipe((0,_.p)(()=>this.formValid!==this.getFormGroupValidStatus())).subscribe(()=>{this.formService.setStatusChanged(this.formId,this.getFormGroupValidStatus()),this.formValid=this.getFormGroupValidStatus()})),this.subs.push(this.formService.getForm(this.formId).pipe((0,_.p)(q=>!!q&&((0,O.hj)(q.errors)||(0,O.hj)(this.formErrors))),(0,v.T)(q=>q.errors),(0,y.F)()).subscribe(q=>{const{formGroup:Z,formModel:H}=this;q.filter(Y=>-1===p()(this.formErrors,{fieldId:Y.fieldId,fieldIndex:Y.fieldIndex})).forEach(Y=>{const{fieldId:Q}=Y,{fieldIndex:ie}=Y;let oe;if(oe=this.formBuilderService.getFormControlById(Q,this.parentFormModel?Z.parent:Z,H,ie),oe){const pe=this.formBuilderService.findById(Q,H);this.formService.addErrorToField(oe,pe,Y.message),this.changeDetectorRef.detectChanges()}}),this.formErrors.filter(Y=>-1===p()(q,{fieldId:Y.fieldId,fieldIndex:Y.fieldIndex})).forEach(Y=>{const{fieldId:Q}=Y,{fieldIndex:ie}=Y;let oe;if(oe=this.formBuilderService.getFormControlById(Q,this.parentFormModel?Z.parent:Z,H,ie),oe){const pe=this.formBuilderService.findById(Q,H);this.formService.removeErrorFromField(oe,pe,Y.message)}}),this.formErrors=q,this.changeDetectorRef.detectChanges()}))}ngOnDestroy(){this.subs.filter(q=>(0,O.a4)(q)).forEach(q=>q.unsubscribe()),this.formService.removeForm(this.formId)}isValid(){return this.formService.isValid(this.formId)}keepSync(){this.subs.push(this.formService.getFormData(this.formId).subscribe(q=>{!Object.is(q,this.formGroup.value)&&this.formGroup&&this.formGroup.setValue(q)}))}onBlur(q){this.blur.emit(q);const Z=q.control,H=q.context&&q.context.index?q.context.index:0;Z.valid?this.formService.removeError(this.formId,q.model.name,H):this.formService.addControlErrors(Z,this.formId,q.model.name,H)}onCustomEvent(q){this.customEvent.emit(q)}onFocus(q){this.formService.setTouched(this.formId,this.formModel,q),this.focus.emit(q)}onChange(q){this.formService.changeForm(this.formId,this.formModel),this.formGroup.markAsPristine(),this.emitChange&&this.change.emit(q),q.control.valid&&this.formService.removeError(this.formId,q.model.id,q.context&&q.context.index?q.context.index:0)}onSubmit(){this.getFormGroupValidStatus()?this.submitForm.emit(this.formService.getFormData(this.formId)):this.formService.validateAllFormFields(this.formGroup)}reset(){this.formGroup.reset(),this.cancel.emit()}isItemReadOnly(q,Z){return q.groups[Z].group[0].readOnly}removeItem(q,Z,H){const Y=this.formGroup.get(this.formBuilderService.getPath(Z)),Q=this.getEvent(q,Z,H,"remove");this.formBuilderService.isQualdropGroup(Q.model)&&this.removeArrayItem.emit(Q),this.formBuilderService.removeFormArrayGroup(H,Y,Z),this.formService.changeForm(this.formId,this.formModel),this.formBuilderService.isQualdropGroup(Q.model)||this.removeArrayItem.emit(Q)}insertItem(q,Z,H){const Y=this.formGroup.get(this.formBuilderService.getPath(Z));this.formBuilderService.insertFormArrayGroup(H,Y,Z),this.addArrayItem.emit(this.getEvent(q,Z,H,"add")),this.formService.changeForm(this.formId,this.formModel)}isVirtual(q,Z){const Y=q.groups[Z].group[0].metadataValue;return(0,O.hj)(Y)&&Y.isVirtual}getEvent(q,Z,H,Y){const Q=Z.groups[H],ie=Q.context;let oe=this.formGroup.get(ie.id);if((0,O.kZ)(oe))for(const re of Object.keys(this.formGroup.controls))if(oe=this.formGroup.controls[re].get(ie.id),(0,O.Pe)(oe))break;return{$event:q,context:Q,control:oe.controls[H],group:oe,model:Q.group[0],type:Y}}static{this.\u0275fac=function(Z){return new(Z||X)(t.rXU(w.u),t.rXU(t.gRc),t.rXU(h.j))}}static{this.\u0275cmp=t.VBU({type:X,selectors:[["ds-form"]],inputs:{displaySubmit:"displaySubmit",displayCancel:"displayCancel",emitChange:"emitChange",formId:"formId",submitLabel:"submitLabel",cancelLabel:"cancelLabel",formModel:"formModel",parentFormModel:"parentFormModel",formGroup:"formGroup",formLayout:"formLayout"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent",addArrayItem:"addArrayItem",removeArrayItem:"removeArrayItem",cancel:"cancel",submitForm:"submitForm"},exportAs:["formComponent"],standalone:!0,features:[t.aNF],ngContentSelectors:P,decls:7,vars:7,consts:[[1,"container-fluid"],[1,"form-horizontal",3,"formGroup"],[3,"change","dfBlur","dfChange","dfFocus","ngbEvent","formId","formGroup","formModel","formLayout"],["modelType","ARRAY"],[4,"ngIf"],["class","col-xs-2 d-flex flex-column justify-content-sm-start align-items-end",4,"ngIf"],["class","clearfix pl-4 w-100",4,"ngIf"],[1,"col-xs-2","d-flex","flex-column","justify-content-sm-start","align-items-end"],["type","button","role","button",1,"btn","btn-secondary",3,"click","title"],["aria-hidden","true",1,"fas","fa-trash"],[1,"clearfix","pl-4","w-100"],["role","group",1,"btn-group"],["type","button","role","button",1,"ds-form-add-more","btn","btn-link",3,"click","title"],[1,"fas","fa-plus"],["role","button",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click","title","dsBtnDisabled"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],["type","reset","class","btn btn-outline-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"dsBtnDisabled","click",4,"ngIf"],["type","reset",1,"btn","btn-outline-secondary",3,"click"],["aria-hidden","true",1,"fa","fa-times"],["type","submit",1,"btn","btn-primary",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save"]],template:function(Z,H){1&Z&&(t.NAR(b),t.j41(0,"div",0)(1,"form",1)(2,"ds-dynamic-form",2),t.bIt("change",function(Q){return Q.stopPropagation()})("dfBlur",function(Q){return H.onBlur(Q)})("dfChange",function(Q){return H.onChange(Q)})("dfFocus",function(Q){return H.onFocus(Q)})("ngbEvent",function(Q){return H.onCustomEvent(Q)}),t.DNE(3,U,3,3,"ng-template",3),t.k0s(),t.SdG(4),t.DNE(5,$,1,0,"ng-content",4)(6,z,9,2,"div",4),t.k0s()()),2&Z&&(t.R7$(),t.Y8G("formGroup",H.formGroup),t.R7$(),t.Y8G("formId",H.formId)("formGroup",H.formGroup)("formModel",H.formModel)("formLayout",H.formLayout),t.R7$(3),t.Y8G("ngIf",!H.displaySubmit&&!H.displayCancel),t.R7$(),t.Y8G("ngIf",H.displaySubmit||H.displayCancel))},dependencies:[R,l.X1,l.qT,l.cb,l.j4,f.h,f.D9,e.EET,e.vJF,i.bT,i.Jj,C.A],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}"]})}}return X})()},54002:(N,T,n)=>{"use strict";n.d(T,{u:()=>h});var i=n(89417),t=n(1473),l=n(25499),e=n(59519),f=n.n(e),m=n(5964),p=n(96354),_=n(23294),v=n(88280),y=n(82777),C=n(33126),O=n(32710);const I=w=>w.forms;function D(w){return(0,l.Mz)(I,b=>b[w])}var R=n(54438);let h=(()=>{class w{constructor(P,M){this.formBuilderService=P,this.store=M}isValid(P){return this.store.pipe((0,l.Lt)(D(P)),(0,m.p)(M=>(0,y.EA)(M)),(0,p.T)(M=>M.valid),(0,_.F)())}getFormData(P){return this.store.pipe((0,l.Lt)(D(P)),(0,m.p)(M=>(0,y.EA)(M)),(0,p.T)(M=>M.data),(0,_.F)())}getFormTouchedState(P){return this.store.pipe((0,l.Lt)(D(P)),(0,m.p)(M=>(0,y.EA)(M)),(0,p.T)(M=>M.touched),(0,_.F)())}getFormErrors(P){return this.store.pipe((0,l.Lt)(D(P)),(0,m.p)(M=>(0,y.EA)(M)),(0,p.T)(M=>M.errors),(0,_.F)())}isFormInitialized(P){return this.store.pipe((0,l.Lt)(D(P)),(0,_.F)(),(0,p.T)(M=>(0,y.EA)(M)))}getUniqueId(P){return f()()+"_"+P}validateAllFormFields(P){Object.keys(P.controls).forEach(M=>{const L=P.get(M);L instanceof i.hs?(L.markAsTouched({onlySelf:!0}),L.markAsDirty({onlySelf:!0})):(L instanceof i.J3||L instanceof i.Bm)&&this.validateAllFormFields(L)})}hasValidationErrors(P){let M=!1;const L=Object.keys(P.controls);for(const B of L){const U=P.get(B);if(U instanceof i.hs?M=!U.valid&&U.touched:(U instanceof i.J3||U instanceof i.Bm)&&(M=this.hasValidationErrors(U)),M)break}return M}addControlErrors(P,M,L,B){null!==P.errors&&Object.keys(P.errors).filter($=>!0===P.errors[$]).map($=>`error.validation.${$}`).forEach($=>this.addError(M,L,B,$))}addErrorToField(P,M,L){const B={},U=this.getValidatorNameFromMap(L);let $=L;M.errorMessages||(M.errorMessages={}),(0,y.Im)(M.errorMessages[U])?M.errorMessages[U]=L:$=M.errorMessages[U],P.hasError(U)||(B[U]=!0,P.setErrors(B)),P instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach(j=>{this.addErrorToField(P.controls[j.id],j,L)}),P.markAsTouched()}removeErrorFromField(P,M,L){const B={},U=this.getValidatorNameFromMap(L);P.hasError(U)&&(B[U]=null,P.setErrors(B)),P instanceof i.J3&&M instanceof t.iO5&&this.formBuilderService.isConcatGroup(M)&&M.group.forEach($=>{this.removeErrorFromField(P.controls[$.id],$,L)}),P.markAsUntouched()}resetForm(P,M,L){this.formBuilderService.clearAllModelsValue(M),P.reset(),this.store.dispatch(new O.V2(L,P.value))}getValidatorNameFromMap(P){if(P.includes(".")){const M=P.split(".");M&&M.length>0&&(P=this.getValidatorNameFromMap(M[M.length-1]))}return v.c.form.validatorMap.hasOwnProperty(P)?v.c.form.validatorMap[P]:P}initForm(P,M,L){this.store.dispatch(new O.bS(P,this.formBuilderService.getValueFromModel(M),L))}setStatusChanged(P,M){this.store.dispatch(new O.PW(P,M))}getForm(P){return this.store.pipe((0,l.Lt)(D(P)))}removeForm(P){this.store.dispatch(new O.Dn(P))}changeForm(P,M){this.store.dispatch(new O.V2(P,this.formBuilderService.getValueFromModel(M)))}setTouched(P,M,L){const B=this.formBuilderService.getMetadataIdsFromEvent(L);this.store.dispatch(new O.SD(P,B))}addError(P,M,L,B){const U=M.replace(/\./g,"_");this.store.dispatch(new O.yo(P,U,L,B))}removeError(P,M,L){const B=M.replace(/\./g,"_");this.store.dispatch(new O.Tr(P,B,L))}static{this.\u0275fac=function(M){return new(M||w)(R.KVO(C.j),R.KVO(l.il))}}static{this.\u0275prov=R.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},38443:(N,T,n)=>{"use strict";n.d(T,{_:()=>f});var i=n(54438),t=n(41780),l=n(77516),e=n(52149);let f=(()=>{class m{constructor(_,v){this.activeModal=_,this.translate=v,this.preloadLevel=2,this.selectedItems=[],this.multiSelect=!1,this.showAdd=!0,this.select=new i.bkB(null)}ngOnInit(){this.setDescription()}onSelect(_){this.select.emit(_),this.activeModal.close(_)}setDescription(){this.description=this.translate.instant("vocabulary-treeview.tree.description."+this.vocabularyOptions.name)}static{this.\u0275fac=function(v){return new(v||m)(i.rXU(e.Lw),i.rXU(t.c$))}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["ds-vocabulary-treeview-modal"]],inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",selectedItems:"selectedItems",multiSelect:"multiSelect",showAdd:"showAdd"},outputs:{select:"select"},standalone:!0,features:[i.aNF],decls:10,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"p-3"],[3,"select","vocabularyOptions","description","preloadLevel","selectedItems","multiSelect","showAdd"]],template:function(v,y){1&v&&(i.j41(0,"div",0)(1,"h4",1),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.j41(4,"button",2),i.bIt("click",function(){return y.activeModal.dismiss("Cross click")}),i.j41(5,"span",3),i.EFF(6,"\xd7"),i.k0s()()(),i.j41(7,"div",4)(8,"div",5)(9,"ds-vocabulary-treeview",6),i.bIt("select",function(O){return y.onSelect(O)}),i.k0s()()()),2&v&&(i.R7$(2),i.JRh(i.bMT(3,7,"vocabulary-treeview.header")),i.R7$(7),i.Y8G("vocabularyOptions",y.vocabularyOptions)("description",y.description)("preloadLevel",y.preloadLevel)("selectedItems",y.selectedItems)("multiSelect",y.multiSelect)("showAdd",y.showAdd))},dependencies:[l.P,t.h,t.D9]})}}return m})()},77516:(N,T,n)=>{"use strict";n.d(T,{P:()=>We});var i=n(64109),t=n(60177),l=n(54438),e=n(89417),f=n(52149),m=n(41780),p=n(32089),_=n(16292),v=n(47978),y=n(60456),C=n(82777),O=n(82394),I=n(45024),D=n(84412),R=n(57786),h=n(96354);class w extends I.qS{get data(){return this._data.value}set data(it){this._data.next(it),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(it,Ge,gt=[]){super(),this._treeControl=it,this._treeFlattener=Ge,this._flattenedData=new D.t([]),this._expandedData=new D.t([]),this._data=new D.t(gt)}connect(it){return(0,R.h)(it.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,h.T)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}var b=n(96697);class P{constructor(it,Ge,gt,Pe){this.transformFunction=it,this.getLevel=Ge,this.isExpandable=gt,this.getChildren=Pe}_flattenNode(it,Ge,gt,Pe){const we=this.transformFunction(it,Ge);if(gt.push(we),this.isExpandable(we)){const vt=this.getChildren(it);vt&&(Array.isArray(vt)?this._flattenChildren(vt,Ge,gt,Pe):vt.pipe((0,b.s)(1)).subscribe(at=>{this._flattenChildren(at,Ge,gt,Pe)}))}return gt}_flattenChildren(it,Ge,gt,Pe){it.forEach((we,vt)=>{const at=Pe.slice();at.push(vt!==it.length-1),this._flattenNode(we,Ge+1,gt,at)})}flattenNodes(it){const Ge=[];return it.forEach(gt=>this._flattenNode(gt,0,Ge,[])),Ge}expandFlattenedNodes(it,Ge){const gt=[],Pe=[];return Pe[0]=!0,it.forEach(we=>{let vt=!0;for(let at=0;at<=this.getLevel(we);at++)vt=vt&&Pe[at];vt&&gt.push(we),this.isExpandable(we)&&(Pe[this.getLevel(we)+1]=Ge.isExpanded(we))}),gt}}var M=n(48376),L=n.n(M),B=n(71985),U=n(7673),$=n(73028),j=n(31943),G=n(79335),z=n(80183),V=n(19506);const X="LOAD_MORE",J="LOAD_MORE_ROOT",q={id:X},Z={id:J};class H{get children(){return this.childrenChange.value}constructor(it,Ge=!1,gt=new p.Q,Pe=null,we=!1,vt=!1,at=!1){this.item=it,this.hasChildren=Ge,this.pageInfo=gt,this.loadMoreParentItem=Pe,this.isSearchNode=we,this.isInInitValueHierarchy=vt,this.isSelected=at,this.childrenChange=new D.t([])}updatePageInfo(it){this.pageInfo=it}}class Y{constructor(it,Ge=1,gt=!1,Pe=!1,we=new p.Q,vt=null,at=!1,nt=!1,lt=!1){this.item=it,this.level=Ge,this.expandable=gt,this.childrenLoaded=Pe,this.pageInfo=we,this.loadMoreParentItem=vt,this.isSearchNode=at,this.isInInitValueHierarchy=nt,this.isSelected=lt}}let Q=(()=>{class dt{constructor(Ge){this.vocabularyService=Ge,this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.vocabularyName="",this.dataChange=new D.t([]),this.initValueHierarchy=[],this.loading=new D.t(!1),this.hideSearchingWhenUnsubscribed$=new B.c(()=>()=>this.loading.next(!1))}cleanTree(){this.nodeMap=new Map,this.storedNodeMap=new Map,this.storedNodes=[],this.initValueHierarchy=[],this.dataChange.next([])}initialize(Ge,gt,Pe,we){this.loading.next(!0),this.vocabularyOptions=Ge,this.vocabularyName=Ge.name,this.pageInfo=gt,(0,C.hj)(we)?this.getNodeHierarchyById(we,Pe).subscribe(vt=>{this.initValueHierarchy=vt,this.retrieveTopNodes(gt,[],Pe)}):this.retrieveTopNodes(gt,[],Pe)}getData(){return this.dataChange}loadMoreRoot(Ge,gt){const Pe=this.dataChange.value;Pe.pop(),this.retrieveTopNodes(Ge.pageInfo,Pe,gt)}loadMore(Ge,gt,Pe=!1){if(!this.nodeMap.has(Ge.otherInformation.id))return;const we=this.nodeMap.get(Ge.otherInformation.id),vt=this.nodeMap.get(Ge.otherInformation.id).children||[];vt.pop(),this.getChildrenNodesByParent(Ge.otherInformation.id,we.pageInfo).subscribe(at=>{if(Pe&&we.children.length>0)return;const nt=at.page.map(lt=>this._generateNode(lt,gt));if(vt.push(...nt),at.pageInfo.currentPage+1<=at.pageInfo.totalPages){const lt=Object.assign(new p.Q,at.pageInfo,{currentPage:at.pageInfo.currentPage+1});we.updatePageInfo(lt),vt.push(new H(q,!1,lt,Ge))}we.childrenChange.next(vt),this.dataChange.next(this.dataChange.value)})}isLoading(){return this.loading}searchByQuery(Ge,gt){this.loading.next(!0),(0,C.Im)(this.storedNodes)&&(this.storedNodes=this.dataChange.value,this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.dataChange.next([]),this.vocabularyService.getVocabularyEntriesByValue(Ge,!1,this.vocabularyOptions,new p.Q).pipe((0,z.Ar)(),(0,$.Z)(Pe=>Pe.length>0?Pe:(0,U.of)(null)),(0,$.Z)(Pe=>this.vocabularyService.findEntryDetailById(Pe.otherInformation.id,this.vocabularyName).pipe((0,z.ak)())),(0,$.Z)(Pe=>this.getNodeHierarchy(Pe,gt)),(0,j.S)((Pe,we)=>(0,C.Im)(we)||-1!==L()(Pe,vt=>vt.item.otherInformation.id===we.item.otherInformation.id)?Pe:[...Pe,we],[]),(0,G.h)(this.hideSearchingWhenUnsubscribed$)).subscribe(Pe=>{this.dataChange.next(Pe),this.loading.next(!1)})}restoreNodes(){this.loading.next(!1),this.dataChange.next(this.storedNodes),this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.storedNodes=[]}_generateNode(Ge,gt,Pe=!1,we=!0){const vt=Ge.otherInformation.id;if(this.nodeMap.has(vt))return this.nodeMap.get(vt);const at=Ge.hasOtherInformation()&&"true"===Ge.otherInformation.hasChildren,nt=this.pageInfo,lt=this.initValueHierarchy.includes(vt),ve=gt.some(()=>gt.includes(vt)),Ne=new H(Ge,at,nt,null,Pe,lt,ve);return we&&this.nodeMap.set(vt,Ne),Ne}getNodeHierarchyById(Ge,gt){return this.getById(Ge).pipe((0,$.Z)(Pe=>this.getNodeHierarchy(Pe,gt,[],!1)),(0,h.T)(Pe=>this.getNodeHierarchyIds(Pe,gt)))}getChildrenNodesByParent(Ge,gt){return this.vocabularyService.getEntryDetailChildren(Ge,this.vocabularyName,gt).pipe((0,z.ak)())}getParentNode(Ge){return this.vocabularyService.getEntryDetailParent(Ge,this.vocabularyName).pipe((0,z.ak)())}getById(Ge){return this.vocabularyService.findEntryDetailById(Ge,this.vocabularyName).pipe((0,z.ak)())}retrieveTopNodes(Ge,gt,Pe){this.vocabularyService.searchTopEntries(this.vocabularyName,Ge).pipe((0,z.ak)()).subscribe(we=>{this.vocabularyService.clearSearchTopRequests();const vt=we.page.map(at=>this._generateNode(at,Pe));if(gt.push(...vt),we.pageInfo.currentPage+1<=we.pageInfo.totalPages){const at=Object.assign(new p.Q,we.pageInfo,{currentPage:we.pageInfo.currentPage+1}),nt=new H(Z,!1,at);nt.updatePageInfo(at),gt.push(nt)}this.loading.next(!1),this.dataChange.next(gt)})}getNodeHierarchy(Ge,gt,Pe,we=!0){if((0,C.Im)(Ge))return(0,U.of)(null);const vt=this._generateNode(Ge,gt,we,we);if((0,C.hj)(Pe)){const at=Pe.filter(nt=>-1===L()(vt.children,lt=>lt.item.otherInformation.id===nt.item.otherInformation.id));at.forEach(nt=>{nt.loadMoreParentItem=vt.item}),vt.children.push(...at)}return vt.item.hasOtherInformation()&&(0,C.hj)(vt.item.otherInformation.parent)?this.getParentNode(vt.item.otherInformation.id).pipe((0,$.Z)(at=>this.getNodeHierarchy(at,gt,[vt],we))):(0,U.of)(vt)}getNodeHierarchyIds(Ge,gt,Pe=[]){return Pe.includes(Ge.item.otherInformation.id)||Pe.push(Ge.item.otherInformation.id),(0,C.hj)(Ge.children)?this.getNodeHierarchyIds(Ge.children[0],gt,Pe):Pe}static{this.\u0275fac=function(gt){return new(gt||dt)(l.KVO(V.g))}}static{this.\u0275prov=l.jDH({token:dt,factory:dt.\u0275fac,providedIn:"root"})}}return dt})();const ie=["searchInput"];function oe(dt,it){if(1&dt&&l.nrm(0,"ds-alert",19),2&dt){const Ge=l.XpG();l.Y8G("content",Ge.description)("type",Ge.AlertType.Info)}}function pe(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"button",20),l.nI1(1,"translate"),l.bIt("click",function(){l.eBV(Ge);const Pe=l.XpG();return l.Njj(Pe.add())}),l.EFF(2),l.nI1(3,"translate"),l.k0s()}2&dt&&(l.BMQ("aria-label",l.bMT(1,2,"vocabulary-treeview.search.form.add")),l.R7$(2),l.SpI(" ",l.bMT(3,4,"vocabulary-treeview.search.form.add")," "))}function ne(dt,it){1&dt&&l.nrm(0,"ds-loading",21),2&dt&&l.Y8G("showMessage",!1)}function re(dt,it){1&dt&&(l.j41(0,"h2",22)(1,"span"),l.EFF(2),l.nI1(3,"translate"),l.k0s()()),2&dt&&(l.R7$(2),l.JRh(l.bMT(3,1,"vocabulary-treeview.search.no-result")))}function Ce(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"label",28)(1,"input",29),l.mxI("ngModelChange",function(Pe){l.eBV(Ge);const we=l.XpG().$implicit;return l.DH7(we.isSelected,Pe)||(we.isSelected=Pe),l.Njj(Pe)}),l.bIt("change",function(){l.eBV(Ge);const Pe=l.XpG().$implicit,we=l.XpG();return l.Njj(we.onSelect(Pe.item))}),l.k0s(),l.j41(2,"span"),l.EFF(3),l.k0s()()}if(2&dt){const Ge=l.XpG().$implicit;l.AVh("text-success",Ge.isSelected),l.Y8G("ngbTooltip",null==Ge.item||null==Ge.item.otherInformation?null:Ge.item.otherInformation.note)("openDelay",500),l.R7$(),l.Y8G("disabled",!(null!=Ge.item&&Ge.item.selectable)),l.R50("ngModel",Ge.isSelected),l.Y8G("checked",Ge.isSelected),l.R7$(2),l.JRh(Ge.item.display)}}function Ee(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"button",30),l.bIt("click",function(){l.eBV(Ge);const Pe=l.XpG().$implicit,we=l.XpG();return l.Njj(we.onSelect(Pe.item))}),l.j41(1,"span"),l.EFF(2),l.k0s()()}if(2&dt){const Ge=l.XpG().$implicit;l.AVh("text-success",Ge.isSelected),l.Y8G("dsBtnDisabled",!(null!=Ge.item&&Ge.item.selectable))("ngbTooltip",null==Ge.item||null==Ge.item.otherInformation?null:Ge.item.otherInformation.note)("openDelay",500),l.R7$(2),l.JRh(Ge.item.display)}}function ue(dt,it){if(1&dt&&(l.j41(0,"cdk-tree-node",23)(1,"span",24),l.nrm(2,"i",25),l.k0s(),l.DNE(3,Ce,4,8,"label",26)(4,Ee,3,6,"button",27),l.k0s()),2&dt){const Ge=l.XpG();l.R7$(3),l.Y8G("ngIf",Ge.multiSelect),l.R7$(),l.Y8G("ngIf",!Ge.multiSelect)}}function ae(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"label",28)(1,"input",29),l.mxI("ngModelChange",function(Pe){l.eBV(Ge);const we=l.XpG().$implicit;return l.DH7(we.isSelected,Pe)||(we.isSelected=Pe),l.Njj(Pe)}),l.bIt("change",function(){l.eBV(Ge);const Pe=l.XpG().$implicit,we=l.XpG();return l.Njj(we.onSelect(Pe.item))}),l.k0s(),l.j41(2,"span"),l.EFF(3),l.k0s()()}if(2&dt){const Ge=l.XpG().$implicit;l.AVh("text-success",Ge.isSelected),l.Y8G("ngbTooltip",null==Ge.item||null==Ge.item.otherInformation?null:Ge.item.otherInformation.note)("openDelay",500),l.R7$(),l.Y8G("disabled",!(null!=Ge.item&&Ge.item.selectable)),l.R50("ngModel",Ge.isSelected),l.Y8G("checked",Ge.isSelected),l.R7$(2),l.JRh(Ge.item.display)}}function ye(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"button",30),l.bIt("click",function(){l.eBV(Ge);const Pe=l.XpG().$implicit,we=l.XpG();return l.Njj(we.onSelect(Pe.item))}),l.j41(1,"span"),l.EFF(2),l.k0s()()}if(2&dt){const Ge=l.XpG().$implicit;l.AVh("text-success",Ge.isSelected),l.Y8G("dsBtnDisabled",!(null!=Ge.item&&Ge.item.selectable))("ngbTooltip",null==Ge.item||null==Ge.item.otherInformation?null:Ge.item.otherInformation.note)("openDelay",500),l.R7$(2),l.JRh(Ge.item.display)}}function De(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"cdk-tree-node",23)(1,"button",31),l.bIt("click",function(){const Pe=l.eBV(Ge).$implicit,we=l.XpG();return l.Njj(we.loadChildren(Pe))}),l.nrm(2,"i"),l.k0s(),l.DNE(3,ae,4,8,"label",26)(4,ye,3,6,"button",27),l.k0s()}if(2&dt){const Ge=it.$implicit,gt=l.XpG();l.R7$(),l.BMQ("aria-label","toggle "+Ge.name),l.R7$(),l.ZvI("fas fa-fw ",gt.treeControl.isExpanded(Ge)?"fa-angle-down":"fa-angle-right",""),l.R7$(),l.Y8G("ngIf",gt.multiSelect),l.R7$(),l.Y8G("ngIf",!gt.multiSelect)}}function tt(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"cdk-tree-node",32)(1,"button",33),l.nI1(2,"translate"),l.bIt("click",function(){const Pe=l.eBV(Ge).$implicit,we=l.XpG();return l.Njj(we.loadMore(Pe.loadMoreParentItem))}),l.EFF(3),l.nI1(4,"translate"),l.k0s()()}2&dt&&(l.R7$(),l.BMQ("aria-label",l.bMT(2,2,"vocabulary-treeview.load-more")),l.R7$(2),l.SpI(" ",l.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}function _t(dt,it){if(1&dt){const Ge=l.RV6();l.j41(0,"cdk-tree-node")(1,"button",33),l.nI1(2,"translate"),l.bIt("click",function(){const Pe=l.eBV(Ge).$implicit,we=l.XpG();return l.Njj(we.loadMoreRoot(Pe))}),l.EFF(3),l.nI1(4,"translate"),l.k0s()()}2&dt&&(l.R7$(),l.BMQ("aria-label",l.bMT(2,2,"vocabulary-treeview.load-more")),l.R7$(2),l.SpI(" ",l.bMT(4,4,"vocabulary-treeview.load-more"),"... "))}let We=(()=>{class dt{constructor(Ge){this.vocabularyTreeviewService=Ge,this.preloadLevel=2,this.description="",this.multiSelect=!1,this.showAdd=!0,this.selectedItems=[],this.nodeMap=new Map,this.storedNodeMap=new Map,this.select=new l.bkB(null),this.deselect=new l.bkB(null),this.subs=[],this.AlertType=v.v,this.getChildren=gt=>gt.childrenChange,this.transformer=(gt,Pe)=>{const we=this.getEntryId(gt.item),vt=this.nodeMap.get(we);if(vt&&vt.item.id!==X&&vt.item.id!==J)return vt;const at=new Y(gt.item,Pe,gt.hasChildren,gt.hasChildren&&(0,C.hj)(gt.children),gt.pageInfo,gt.loadMoreParentItem,gt.isSearchNode,gt.isInInitValueHierarchy,gt.isSelected);return this.nodeMap.set(we,at),(Pe+1<this.preloadLevel&&at.childrenLoaded||at.isSearchNode&&at.childrenLoaded||at.isInInitValueHierarchy)&&(at.isSearchNode||this.loadChildren(at),this.treeControl.expand(at)),at},this.getLevel=gt=>gt.level,this.isExpandable=gt=>gt.expandable,this.hasChildren=(gt,Pe)=>Pe.expandable,this.isLoadMore=(gt,Pe)=>Pe.item.id===X,this.isLoadMoreRoot=(gt,Pe)=>Pe.item.id===J,this.treeFlattener=new P(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.treeControl=new i.XW(this.getLevel,this.isExpandable),this.dataSource=new w(this.treeControl,this.treeFlattener)}ngOnInit(){this.subs.push(this.vocabularyTreeviewService.getData().subscribe(gt=>{this.dataSource.data=gt})),this.loading=this.vocabularyTreeviewService.isLoading();const Ge=this.selectedItems?.length>0?this.getEntryId(this.selectedItems[0]):null;this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new p.Q,this.getSelectedEntryIds(),Ge)}loadMore(Ge){this.vocabularyTreeviewService.loadMore(Ge,this.getSelectedEntryIds())}loadMoreRoot(Ge){this.vocabularyTreeviewService.loadMoreRoot(Ge,this.getSelectedEntryIds())}loadChildren(Ge){this.vocabularyTreeviewService.loadMore(Ge.item,this.getSelectedEntryIds(),!0)}onSelect(Ge){this.getSelectedEntryIds().includes(this.getEntryId(Ge))?(this.selectedItems=this.selectedItems.filter(gt=>this.getEntryId(gt)!==this.getEntryId(Ge)),this.deselect.emit(Ge)):(this.selectedItems.push(Ge),this.select.emit(Ge))}search(){(0,C.hj)(this.searchText)&&((0,C.Im)(this.storedNodeMap)&&(this.storedNodeMap=this.nodeMap),this.nodeMap=new Map,this.vocabularyTreeviewService.searchByQuery(this.searchText,this.getSelectedEntryIds()))}isSearchEnabled(){return(0,C.hj)(this.searchText)}reset(){this.searchText="";for(const Ge of this.selectedItems)this.deselect.emit(Ge),this.nodeMap.get(this.getEntryId(Ge)).isSelected=!1;this.selectedItems=[],(0,C.hj)(this.storedNodeMap)&&(this.nodeMap=this.storedNodeMap,this.storedNodeMap=new Map,this.vocabularyTreeviewService.restoreNodes()),this.searchInput&&this.searchInput.nativeElement.focus()}add(){this.select.emit({value:this.searchText,display:this.searchText})}ngOnDestroy(){this.vocabularyTreeviewService.cleanTree(),this.subs.filter(Ge=>(0,C.a4)(Ge)).forEach(Ge=>Ge.unsubscribe())}getEntryId(Ge){return Ge?.authority||Ge?.otherInformation?.id||Ge?.id||void 0}getSelectedEntryIds(){return this.selectedItems.map(Ge=>this.getEntryId(Ge)).filter(Ge=>(0,C.hj)(Ge))}ngOnChanges(Ge){!Ge.vocabularyOptions.isFirstChange()&&Ge.vocabularyOptions.currentValue!==Ge.vocabularyOptions.previousValue&&(this.selectedItems=[],this.searchText="",this.vocabularyTreeviewService.cleanTree(),this.vocabularyTreeviewService.initialize(this.vocabularyOptions,new p.Q,this.getSelectedEntryIds(),null))}static{this.\u0275fac=function(gt){return new(gt||dt)(l.rXU(Q))}}static{this.\u0275cmp=l.VBU({type:dt,selectors:[["ds-vocabulary-treeview"]],viewQuery:function(gt,Pe){if(1&gt&&l.GBs(ie,5),2&gt){let we;l.mGM(we=l.lsd())&&(Pe.searchInput=we.first)}},inputs:{vocabularyOptions:"vocabularyOptions",preloadLevel:"preloadLevel",description:"description",multiSelect:"multiSelect",showAdd:"showAdd",selectedItems:"selectedItems"},outputs:{select:"select",deselect:"deselect"},standalone:!0,features:[l.OA$,l.aNF],decls:33,vars:40,consts:[["searchInput",""],[3,"content","type",4,"ngIf"],[1,"treeview-header","row","mb-1"],[1,"col-12"],[1,"input-group"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","ngModel","placeholder"],["id","button-addon4",1,"input-group-append"],["type","button",1,"btn","btn-outline-primary",3,"click","dsBtnDisabled"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],[1,"treeview-container"],[3,"showMessage",4,"ngIf"],["aria-live","polite"],["class","h4 text-center text-muted mt-4",4,"ngIf"],[3,"dataSource","treeControl"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef"],["cdkTreeNodePadding","","class","d-flex",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],["cdkTreeNodePadding","",4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[4,"cdkTreeNodeDef","cdkTreeNodeDefWhen"],[3,"content","type"],["type","button",1,"btn","btn-outline-primary",3,"click"],[3,"showMessage"],[1,"h4","text-center","text-muted","mt-4"],["cdkTreeNodePadding","",1,"d-flex"],["aria-hidden","true","type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1"],[1,"fas","fa-fw","fa-angle-right","invisible"],["class","d-flex align-items-center m-0 p-0 form-check","container","body",3,"text-success","ngbTooltip","openDelay",4,"ngIf"],["class","btn btn-outline-link btn-sm text-left","container","body",3,"text-success","dsBtnDisabled","ngbTooltip","openDelay","click",4,"ngIf"],["container","body",1,"d-flex","align-items-center","m-0","p-0","form-check",3,"ngbTooltip","openDelay"],["type","checkbox",1,"mr-2",3,"ngModelChange","change","disabled","ngModel","checked"],["container","body",1,"btn","btn-outline-link","btn-sm","text-left",3,"click","dsBtnDisabled","ngbTooltip","openDelay"],["type","button","cdkTreeNodeToggle","",1,"btn","btn-default","px-2","mr-1",3,"click"],["cdkTreeNodePadding",""],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(gt,Pe){if(1&gt){const we=l.RV6();l.DNE(0,oe,1,2,"ds-alert",1),l.j41(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),l.nI1(6,"translate"),l.nI1(7,"translate"),l.mxI("ngModelChange",function(at){return l.eBV(we),l.DH7(Pe.searchText,at)||(Pe.searchText=at),l.Njj(at)}),l.bIt("keyup.enter",function(){return l.eBV(we),l.Njj(Pe.search())}),l.k0s(),l.j41(8,"div",6)(9,"button",7),l.nI1(10,"translate"),l.bIt("click",function(){return l.eBV(we),l.Njj(Pe.search())}),l.EFF(11),l.nI1(12,"translate"),l.k0s(),l.j41(13,"button",8),l.nI1(14,"translate"),l.bIt("click",function(){return l.eBV(we),l.Njj(Pe.reset())}),l.EFF(15),l.nI1(16,"translate"),l.k0s(),l.DNE(17,pe,4,6,"button",9),l.j41(18,"button",7),l.nI1(19,"translate"),l.bIt("click",function(){return l.eBV(we),l.Njj(Pe.add())}),l.EFF(20),l.nI1(21,"translate"),l.k0s()()()()(),l.j41(22,"div",10),l.DNE(23,ne,1,1,"ds-loading",11),l.nI1(24,"async"),l.j41(25,"div",12),l.DNE(26,re,4,3,"h2",13),l.nI1(27,"async"),l.k0s(),l.j41(28,"cdk-tree",14),l.DNE(29,ue,5,2,"cdk-tree-node",15)(30,De,5,6,"cdk-tree-node",16)(31,tt,5,6,"cdk-tree-node",17)(32,_t,5,6,"cdk-tree-node",18),l.k0s()()}2&gt&&(l.Y8G("ngIf",Pe.description),l.R7$(4),l.R50("ngModel",Pe.searchText),l.Y8G("placeholder",l.bMT(6,20,"vocabulary-treeview.search.form.search-placeholder")),l.BMQ("aria-label",l.bMT(7,22,"vocabulary-treeview.search.form.search-placeholder")),l.R7$(5),l.Y8G("dsBtnDisabled",!Pe.isSearchEnabled()),l.BMQ("aria-label",l.bMT(10,24,"vocabulary-treeview.search.form.search")),l.R7$(2),l.SpI(" ",l.bMT(12,26,"vocabulary-treeview.search.form.search")," "),l.R7$(2),l.BMQ("aria-label",l.bMT(14,28,"vocabulary-treeview.search.form.reset")),l.R7$(2),l.SpI(" ",l.bMT(16,30,"vocabulary-treeview.search.form.reset")," "),l.R7$(2),l.Y8G("ngIf",Pe.showAdd&&Pe.vocabularyOptions.closed),l.R7$(),l.Y8G("dsBtnDisabled",Pe.vocabularyOptions.closed),l.BMQ("aria-label",l.bMT(19,32,"vocabulary-treeview.search.form.add")),l.R7$(2),l.SpI(" ",l.bMT(21,34,"vocabulary-treeview.search.form.add")," "),l.R7$(3),l.Y8G("ngIf",l.bMT(24,36,Pe.loading)),l.R7$(3),l.Y8G("ngIf",!0!==l.bMT(27,38,Pe.loading)&&0===Pe.dataSource.data.length),l.R7$(2),l.Y8G("dataSource",Pe.dataSource)("treeControl",Pe.treeControl),l.R7$(2),l.Y8G("cdkTreeNodeDefWhen",Pe.hasChildren),l.R7$(),l.Y8G("cdkTreeNodeDefWhen",Pe.isLoadMore),l.R7$(),l.Y8G("cdkTreeNodeDefWhen",Pe.isLoadMoreRoot))},dependencies:[e.YN,e.me,e.Zm,e.BC,e.vS,f.n8,f.md,t.bT,i.Dc,i.Sz,i.aI,i.Hy,i.NL,i.xn,m.h,m.D9,t.Jj,O.v,_.C,y.A],styles:[".tooltip-inner{text-align:left}label[_ngcontent-%COMP%]{cursor:pointer}"]})}}return dt})()},73335:(N,T,n)=>{"use strict";n.d(T,{e:()=>C});var i=n(7673),t=n(96354),l=n(96697),e=n(8917),f=n(80183),m=n(82777),p=n(54438);const y=/^([^\/]+\/[^\/]+)$/;let C=(()=>{class O{constructor(D){this.configurationService=D}normalizeHandle(D){return(0,m.Tn)(D)?(0,i.of)(null):this.configurationService.findByPropertyName("handle.canonical.prefix").pipe((0,f.qD)(),(0,t.T)(R=>{if(R.hasSucceeded)return R.payload.values.length>=1?R.payload.values[0]:void 0}),(0,t.T)(R=>{let h;return h=D.match((O=>{const I=O?.replace(/\/$/,"");return new RegExp(`(${I?I+"|":""}handle)/([^/]+/[^/]+)$`)})(R)),((0,m.Im)(h)||h.length<3)&&(h=D.match(y)),(0,m.Im)(h)||h.length<2?null:h[h.length-1]}),(0,l.s)(1))}static{this.\u0275fac=function(R){return new(R||O)(p.KVO(e.ConfigurationDataService))}}static{this.\u0275prov=p.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}}return O})()},65354:(N,T,n)=>{"use strict";n.d(T,{O:()=>t,l:()=>l});const t={RESIZE:(0,n(91e3).N)("dspace/host-window/RESIZE")};class l{constructor(f,m){this.type=t.RESIZE,this.payload={width:f,height:m}}}},57538:(N,T,n)=>{"use strict";n.d(T,{CV:()=>I,tP:()=>v});var i=n(25499),t=n(84572),l=n(5964),e=n(96354),f=n(23294),m=n(82777),p=n(1221),_=n(54438),v=function(D){return D[D.XS=0]="XS",D[D.SM=1]="SM",D[D.MD=2]="MD",D[D.LG=3]="LG",D[D.XL=4]="XL",D}(v||{});const y=v.SM,O=(0,i.Mz)(D=>D.hostWindow,D=>D.width);let I=(()=>{class D{constructor(h,w){this.store=h,this.variableService=w,this.breakPoints={},w.getAllVariables().subscribe(b=>{this.breakPoints.XL_MIN=parseInt(b["--bs-xl-min"],10),this.breakPoints.LG_MIN=parseInt(b["--bs-lg-min"],10),this.breakPoints.MD_MIN=parseInt(b["--bs-md-min"],10),this.breakPoints.SM_MIN=parseInt(b["--bs-sm-min"],10)})}getWidthObs(){return this.store.pipe((0,i.Lt)(O),(0,l.p)(h=>(0,m.a4)(h)))}get widthCategory(){return this.getWidthObs().pipe((0,e.T)(h=>h<this.breakPoints.SM_MIN?v.XS:h>=this.breakPoints.SM_MIN&&h<this.breakPoints.MD_MIN?v.SM:h>=this.breakPoints.MD_MIN&&h<this.breakPoints.LG_MIN?v.MD:h>=this.breakPoints.LG_MIN&&h<this.breakPoints.XL_MIN?v.LG:v.XL),(0,f.F)())}isXs(){return this.widthCategory.pipe((0,e.T)(h=>h===v.XS),(0,f.F)())}isSm(){return this.widthCategory.pipe((0,e.T)(h=>h===v.SM),(0,f.F)())}isMd(){return this.widthCategory.pipe((0,e.T)(h=>h===v.MD),(0,f.F)())}isLg(){return this.widthCategory.pipe((0,e.T)(h=>h===v.LG),(0,f.F)())}isXl(){return this.widthCategory.pipe((0,e.T)(h=>h===v.XL),(0,f.F)())}is(h){return this.widthCategory.pipe((0,e.T)(w=>w===h),(0,f.F)())}isIn(h){return this.widthCategory.pipe((0,e.T)(w=>h.includes(w)),(0,f.F)())}isUpTo(h){return this.widthCategory.pipe((0,e.T)(w=>w<=h),(0,f.F)())}isMobile(){return this.widthCategory.pipe((0,e.T)(h=>h<=y),(0,f.F)())}isDesktop(){return this.widthCategory.pipe((0,e.T)(h=>h>y),(0,f.F)())}isXsOrSm(){return(0,t.z)(this.isXs(),this.isSm()).pipe((0,e.T)(([h,w])=>h||w),(0,f.F)())}static{this.\u0275fac=function(w){return new(w||D)(_.KVO(i.il),_.KVO(p.J))}}static{this.\u0275prov=_.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})()},59458:(N,T,n)=>{"use strict";n.d(T,{k:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.elementRef=f}onMouseEnter(){this.elementRef.nativeElement.classList.add(this.hoverClass)}onMouseLeave(){this.elementRef.nativeElement.classList.remove(this.hoverClass)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsHoverClass",""]],hostBindings:function(m,p){1&m&&i.bIt("mouseenter",function(){return p.onMouseEnter()})("mouseleave",function(){return p.onMouseLeave()})},inputs:{hoverClass:[i.Mj6.None,"dsHoverClass","hoverClass"]},standalone:!0})}}return l})()},34458:(N,T,n)=>{"use strict";n.d(T,{d:()=>y});var i=n(60177),t=n(52149),l=n(25499),e=n(41780),f=n(96354),m=n(67116),p=n(38169),_=n(54438);function v(C,O){if(1&C){const I=_.RV6();_.j41(0,"ul",1)(1,"li",2)(2,"button",3),_.nI1(3,"translate"),_.bIt("click",function(){_.eBV(I);const R=_.XpG();return _.Njj(R.stopImpersonating())}),_.nrm(4,"i",4),_.k0s()()()}2&C&&(_.R7$(2),_.FS9("ngbTooltip",_.bMT(3,1,"nav.stop-impersonating")))}let y=(()=>{class C{constructor(I,D,R){this.elRef=I,this.store=D,this.authService=R,this.subscriptions=[]}ngOnInit(){this.isImpersonating$=this.store.pipe((0,l.Lt)(p.wR)).pipe((0,f.T)(I=>I&&this.authService.isImpersonating())),this.subscriptions.push(this.isImpersonating$.subscribe(I=>{I?this.elRef.nativeElement.classList.remove("d-none"):this.elRef.nativeElement.classList.add("d-none")}))}stopImpersonating(){this.authService.stopImpersonatingAndRefresh()}static{this.\u0275fac=function(D){return new(D||C)(_.rXU(_.aKT),_.rXU(l.il),_.rXU(m.uR))}}static{this.\u0275cmp=_.VBU({type:C,selectors:[["ds-impersonate-navbar"]],standalone:!0,features:[_.aNF],decls:2,vars:3,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],[1,"btn","btn-sm","btn-dark",3,"click","ngbTooltip"],[1,"fa","fa-user-secret"]],template:function(D,R){1&D&&(_.DNE(0,v,5,3,"ul",0),_.nI1(1,"async")),2&D&&_.Y8G("ngIf",_.bMT(1,1,R.isImpersonating$))},dependencies:[i.bT,t.n8,t.md,i.Jj,e.h,e.D9],encapsulation:2})}}return C})()},81648:(N,T,n)=>{"use strict";n.d(T,{H:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(46301),m=n(56386),p=n(14412);const _=h=>({show:h}),v=h=>({"is-invalid":h}),y=()=>({standalone:!0});function C(h,w){1&h&&t.eu8(0)}function O(h,w){if(1&h&&(t.j41(0,"label",11)(1,"span",12),t.EFF(2),t.k0s(),t.DNE(3,C,1,0,"ng-container",13),t.k0s()),2&h){const b=t.XpG(),P=t.sdS(5);t.R7$(2),t.SpI(" ",b.label," "),t.R7$(),t.Y8G("ngTemplateOutlet",P)}}function I(h,w){if(1&h){const b=t.RV6();t.j41(0,"input",14,2),t.mxI("ngModelChange",function(M){t.eBV(b);const L=t.XpG();return t.DH7(L.value,M)||(L.value=M),t.Njj(M)}),t.bIt("onDebounce",function(M){t.eBV(b);const L=t.XpG();return t.Njj(L.find(M))}),t.k0s()}if(2&h){const b=t.XpG();t.R50("ngModel",b.value),t.Y8G("name",b.name)("ngClass",t.eq3(6,v,!b.valid))("dsDebounce",b.debounceTime)("placeholder",b.placeholder)("ngModelOptions",t.lJ4(8,y))}}function D(h,w){if(1&h){const b=t.RV6();t.j41(0,"div")(1,"a",15,3),t.bIt("click",function(){const M=t.eBV(b).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(M))}),t.nrm(3,"span",16),t.k0s()()}if(2&h){const b=w.$implicit;t.R7$(3),t.Y8G("innerHTML",b.displayValue,t.npT)}}let R=(()=>{class h extends p.t{constructor(){super(...arguments),this.suggestions=[]}onSubmit(b){this.value=b,this.submitSuggestion.emit(b)}onClickSuggestion(b){return this.value=b.value,this.clickSuggestion.emit(b),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let b;return function(M){return(b||(b=t.xGo(h)))(M||h)}})()}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-filter-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[t.Jv_([{provide:l.kq,useExisting:(0,t.Rfq)(()=>h),multi:!0}]),t.Vt3,t.aNF],decls:13,vars:12,consts:[["form","ngForm"],["searchInput",""],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],[1,"form-group","mb-0"],["class","mb-0 w-100",4,"ngIf","ngIfElse"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],[1,"mb-0","w-100"],[1,"font-weight-bold"],[4,"ngTemplateOutlet"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(P,M){if(1&P){const L=t.RV6();t.j41(0,"form",4,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(M.onSubmit(M.value))})("keydown",function(U){return t.eBV(L),t.Njj(M.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(L),t.Njj(M.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(L),t.Njj(M.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(L),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(M.close())}),t.j41(2,"div",5),t.DNE(3,O,4,2,"label",6),t.k0s(),t.DNE(4,I,2,9,"ng-template",null,1,t.C5r),t.j41(6,"button",7),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"div",8),t.nI1(10,"async"),t.j41(11,"div",9),t.DNE(12,D,4,1,"div",10),t.k0s()()()}if(2&P){const L=t.sdS(5);t.Y8G("action",M.action,t.B4B),t.R7$(3),t.Y8G("ngIf",M.label)("ngIfElse",L),t.R7$(4),t.SpI(" ",t.bMT(8,6,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(10,_,t.bMT(10,8,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions)}},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,f.z,i.bT,i.T3,m.R,i.YU,i.pM,i.Jj,e.h,e.D9],styles:[".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return h})()},14412:(N,T,n)=>{"use strict";n.d(T,{t:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(84412),m=n(82777),p=n(46301),_=n(56386);const v=["inputField"],y=["suggestion"],C=h=>({"is-invalid":h}),O=()=>({standalone:!0}),I=h=>({show:h});function D(h,w){if(1&h){const b=t.RV6();t.j41(0,"div")(1,"a",9,2),t.bIt("click",function(){const M=t.eBV(b).$implicit,L=t.XpG();return t.Njj(L.onClickSuggestion(M.value))}),t.nrm(3,"span",10),t.k0s()()}if(2&h){const b=w.$implicit;t.R7$(3),t.Y8G("innerHTML",b.displayValue,t.npT)}}let R=(()=>{class h{constructor(){this.suggestions=[],this.debounceTime=500,this.placeholder="",this.valid=!0,this.label="",this.submitSuggestion=new t.bkB,this.clickSuggestion=new t.bkB,this.typeSuggestion=new t.bkB,this.findSuggestions=new t.bkB,this.show=new f.t(!1),this.selectedIndex=-1,this.blockReopen=!1,this.disabled=!1,this.propagateChange=b=>{},this.propagateTouch=b=>{}}ngOnChanges(b){(0,m.a4)(b.suggestions)&&this.show.next((0,m.hj)(b.suggestions.currentValue)&&!b.suggestions.firstChange)}shiftFocusUp(b){b.preventDefault(),this.selectedIndex>0?(this.selectedIndex--,this.selectedIndex=(this.selectedIndex+this.resultViews.length)%this.resultViews.length):this.selectedIndex=this.resultViews.length-1,this.changeFocus()}shiftFocusDown(b){b.preventDefault(),this.selectedIndex>=0?(this.selectedIndex++,this.selectedIndex%=this.resultViews.length):this.selectedIndex=0,this.changeFocus()}changeFocus(){this.resultViews.length>0&&this.resultViews.toArray()[this.selectedIndex].nativeElement.focus()}onKeydown(b){"Enter"!==b.key&&this.queryInput.nativeElement.focus()}close(){this.show.next(!1)}open(){this.blockReopen||this.show.next(!0)}isNotEmpty(b){return(0,m.hj)(b)}onSubmit(b){}onClickSuggestion(b){}find(b){this.blockReopen||(this.findSuggestions.emit(b),this.typeSuggestion.emit(b)),this.blockReopen=!1}registerOnChange(b){this.propagateChange=b}registerOnTouched(b){this.propagateTouch=b}setDisabledState(b){this.disabled=b}writeValue(b){this.value=b}get value(){return this._value}set value(b){this._value=b,this.propagateChange(this._value)}static{this.\u0275fac=function(P){return new(P||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-input-suggestions"]],viewQuery:function(P,M){if(1&P&&(t.GBs(v,5),t.GBs(y,5)),2&P){let L;t.mGM(L=t.lsd())&&(M.queryInput=L.first),t.mGM(L=t.lsd())&&(M.resultViews=L)}},inputs:{suggestions:"suggestions",debounceTime:"debounceTime",placeholder:"placeholder",action:"action",name:"name",valid:"valid",label:"label",disabled:"disabled"},outputs:{submitSuggestion:"submitSuggestion",clickSuggestion:"clickSuggestion",typeSuggestion:"typeSuggestion",findSuggestions:"findSuggestions"},standalone:!0,features:[t.OA$,t.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(P,M){if(1&P){const L=t.RV6();t.j41(0,"form",3,0),t.bIt("ngSubmit",function(){return t.eBV(L),t.Njj(M.onSubmit(M.value))})("keydown",function(U){return t.eBV(L),t.Njj(M.onKeydown(U))})("keydown.arrowdown",function(U){return t.eBV(L),t.Njj(M.shiftFocusDown(U))})("keydown.arrowup",function(U){return t.eBV(L),t.Njj(M.shiftFocusUp(U))})("keydown.esc",function(){return t.eBV(L),t.Njj(M.close())})("dsClickOutside",function(){return t.eBV(L),t.Njj(M.close())}),t.j41(2,"input",4,1),t.mxI("ngModelChange",function(U){return t.eBV(L),t.DH7(M.value,U)||(M.value=U),t.Njj(U)}),t.bIt("onDebounce",function(U){return t.eBV(L),t.Njj(M.find(U))}),t.k0s(),t.j41(4,"button",5),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"div",6),t.nI1(8,"async"),t.j41(9,"div",7),t.DNE(10,D,4,1,"div",8),t.k0s()()()}2&P&&(t.Y8G("action",M.action,t.B4B),t.R7$(2),t.R50("ngModel",M.value),t.Y8G("name",M.name)("ngClass",t.eq3(14,C,!M.valid))("dsDebounce",M.debounceTime)("placeholder",M.placeholder)("ngModelOptions",t.lJ4(16,O)),t.R7$(3),t.SpI(" ",t.bMT(6,10,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngClass",t.eq3(17,I,t.bMT(8,12,M.show)&&M.isNotEmpty(M.suggestions))),t.R7$(3),t.Y8G("ngForOf",M.suggestions))},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,p.z,_.R,i.YU,i.pM,i.Jj,e.h,e.D9],encapsulation:2})}}return h})()},31580:(N,T,n)=>{"use strict";n.r(T),n.d(T,{LangSwitchComponent:()=>v});var i=n(60177),t=n(52149),l=n(41780),e=n(88280),f=n(63648),m=n(54438);function p(y,C){if(1&y){const O=m.RV6();m.j41(0,"li",7,0),m.bIt("keyup.enter",function(){const D=m.eBV(O).$implicit,R=m.XpG(2);return m.Njj(R.useLang(D))})("click",function(){const D=m.eBV(O).$implicit,R=m.XpG(2);return m.Njj(R.useLang(D))}),m.EFF(2),m.k0s()}if(2&y){const O=C.$implicit,I=m.XpG(2);m.AVh("active",O===I.translate.currentLang),m.R7$(2),m.SpI(" ",I.langLabel(O)," ")}}function _(y,C){if(1&y){const O=m.RV6();m.j41(0,"div",2)(1,"a",3),m.nI1(2,"translate"),m.nI1(3,"translate"),m.bIt("click",function(D){return m.eBV(O),m.Njj(D.preventDefault())}),m.nrm(4,"i",4),m.k0s(),m.j41(5,"ul",5),m.nI1(6,"translate"),m.DNE(7,p,3,3,"li",6),m.k0s()()}if(2&y){const O=m.XpG();m.R7$(),m.Y8G("title",m.bMT(2,4,"nav.language")),m.BMQ("aria-label",m.bMT(3,6,"nav.language")),m.R7$(4),m.BMQ("aria-label",m.bMT(6,8,"nav.language")),m.R7$(2),m.Y8G("ngForOf",O.translate.getLangs())}}let v=(()=>{class y{constructor(O,I,D){this.el=O,this.translate=I,this.localeService=D}ngOnInit(){this.activeLangs=e.c.languages.filter(O=>!0===O.active),this.moreThanOneLanguage=this.activeLangs.length>1,this.moreThanOneLanguage||this.el.nativeElement.parentElement.classList.add("d-none")}currentLangLabel(){return this.activeLangs.find(O=>O.code===this.translate.currentLang).label}langLabel(O){return this.activeLangs.find(I=>I.code===O).label}useLang(O){this.localeService.setCurrentLanguageCode(O),this.localeService.refreshAfterChangeLanguage()}static{this.\u0275fac=function(I){return new(I||y)(m.rXU(m.aKT),m.rXU(l.c$),m.rXU(f.iH))}}static{this.\u0275cmp=m.VBU({type:y,selectors:[["ds-base-lang-switch"]],standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[["langSelect",""],["ngbDropdown","","class","navbar-nav","display","dynamic","placement","bottom-right",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"navbar-nav"],["href","javascript:void(0);","role","menuitem","aria-controls","language-menu-list","aria-haspopup","menu","data-toggle","dropdown","ngbDropdownToggle","","data-test","lang-switch","tabindex","0",3,"click","title"],[1,"fas","fa-globe-asia","fa-lg","fa-fw"],["ngbDropdownMenu","","id","language-menu-list","role","menu",1,"dropdown-menu"],["class","dropdown-item","tabindex","0","role","menuitem",3,"active","keyup.enter","click",4,"ngFor","ngForOf"],["tabindex","0","role","menuitem",1,"dropdown-item",3,"keyup.enter","click"]],template:function(I,D){1&I&&m.DNE(0,_,8,10,"div",1),2&I&&m.Y8G("ngIf",D.moreThanOneLanguage)},dependencies:[i.bT,t.zH,t.tg,t.do,t.U0,i.pM,l.h,l.D9],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}.dropdown-toggle[_ngcontent-%COMP%]:hover, .dropdown-toggle[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}"]})}}return y})()},28068:(N,T,n)=>{"use strict";n.d(T,{n:()=>m});var i=n(8886),l=(n(31580),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{getComponentName(){return"LangSwitchComponent"}importThemedComponent(v){return n(97394)(`./${v}/app/shared/lang-switch/lang-switch.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,31580))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-lang-switch"]],standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},98776:(N,T,n)=>{"use strict";n.d(T,{E:()=>m});var i=n(60177),t=n(25488),l=n(54438);const e=p=>({"visually-hidden":p});function f(p,_){if(1&p&&(l.j41(0,"div",2),l.EFF(1),l.k0s()),2&p){const v=_.$implicit;l.R7$(),l.JRh(v)}}let m=(()=>{class p{constructor(v){this.liveRegionService=v}ngOnInit(){this.isVisible=this.liveRegionService.getLiveRegionVisibility(),this.messages$=this.liveRegionService.getMessages$()}static{this.\u0275fac=function(y){return new(y||p)(l.rXU(t.A))}}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-live-region"]],standalone:!0,features:[l.aNF],decls:3,vars:6,consts:[["aria-live","assertive","role","log","aria-relevant","additions","aria-atomic","true",1,"live-region",3,"ngClass"],["class","live-region-message",4,"ngFor","ngForOf"],[1,"live-region-message"]],template:function(y,C){1&y&&(l.j41(0,"div",0),l.DNE(1,f,2,1,"div",1),l.nI1(2,"async"),l.k0s()),2&y&&(l.Y8G("ngClass",l.eq3(4,e,!C.isVisible)),l.R7$(),l.Y8G("ngForOf",l.bMT(2,2,C.messages$)))},dependencies:[i.YU,i.pM,i.Jj],styles:[".live-region[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;padding-left:60px;height:90px;line-height:18px;color:var(--bs-white);background-color:var(--bs-dark);opacity:.94;z-index:var(--ds-live-region-z-index)}"]})}}return p})()},25488:(N,T,n)=>{"use strict";n.d(T,{A:()=>f});var i=n(84412),t=n(88280),l=n(54438),e=n(30164);let f=(()=>{class m{constructor(_){this.uuidService=_,this.messageTimeOutDurationMs=t.c.liveRegion.messageTimeOutDurationMs,this.messages=[],this.messages$=new i.t([]),this.liveRegionIsVisible=t.c.liveRegion.isVisible}getMessages(){return this.messages.map(_=>_.message)}getMessages$(){return this.messages$}addMessage(_){const v=this.uuidService.generate();return this.messages.push({message:_,uuid:v}),setTimeout(()=>this.clearMessageByUUID(v),this.messageTimeOutDurationMs),this.emitCurrentMessages(),v}clear(){this.messages=[],this.emitCurrentMessages()}clearMessageByUUID(_){const v=this.messages.findIndex(y=>y.uuid===_);-1!==v&&(this.messages.splice(v,1),this.emitCurrentMessages())}emitCurrentMessages(){this.messages$.next(this.getMessages())}getLiveRegionVisibility(){return this.liveRegionIsVisible}setLiveRegionVisibility(_){this.liveRegionIsVisible=_}getMessageTimeOutMs(){return this.messageTimeOutDurationMs}setMessageTimeOutMs(_){this.messageTimeOutDurationMs=_}static{this.\u0275fac=function(v){return new(v||m)(l.KVO(e.v))}}static{this.\u0275prov=l.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},82394:(N,T,n)=>{"use strict";n.d(T,{v:()=>m});var i=n(82522),t=n(8886),l=n(54438);const e=["*"];function f(p,_){}let m=(()=>{class p extends t.J{constructor(v,y){super(v,y),this.cdr=v,this.themeService=y,this.inAndOutputNames=["message","showMessage","spinner"]}getComponentName(){return"LoadingComponent"}importThemedComponent(v){return n(54512)(`./${v}/app/shared/loading/loading.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,32280))}static{this.\u0275fac=function(y){return new(y||p)(l.rXU(l.gRc),l.rXU(i.Fs))}}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-loading"]],inputs:{message:"message",showMessage:"showMessage",spinner:"spinner"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},91956:(N,T,n)=>{"use strict";n.d(T,{u:()=>m});var i=n(60177),t=n(54438),e=(n(52027),n(96756));function f(p,_){1&p&&t.eu8(0)}let m=(()=>{class p{constructor(v){this.injector=v}ngOnInit(){this.objectInjector=t.zZn.create({providers:[{provide:"authMethodProvider",useFactory:()=>this.authMethod,deps:[]},{provide:"isStandalonePage",useFactory:()=>this.isStandalonePage,deps:[]}],parent:this.injector})}getAuthMethodContent(){return(0,e.HF)(this.authMethod.authMethodType)}static{this.\u0275fac=function(y){return new(y||p)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:p,selectors:[["ds-log-in-container"]],inputs:{authMethod:"authMethod",isStandalonePage:"isStandalonePage"},standalone:!0,features:[t.aNF],decls:1,vars:2,consts:[[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(y,C){1&y&&t.DNE(0,f,1,0,"ng-container",0),2&y&&t.Y8G("ngComponentOutlet",C.getAuthMethodContent())("ngComponentOutletInjector",C.objectInjector)},dependencies:[i.OI],styles:["[_nghost-%COMP%]     .card{margin-bottom:var(--ds-submission-sections-margin-bottom);overflow:unset}.section-focus[_ngcontent-%COMP%]{border-radius:var(--bs-border-radius);box-shadow:var(--bs-btn-focus-box-shadow)}[_nghost-%COMP%]     .card:first-of-type{border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)!important;border-bottom-left-radius:var(--bs-card-border-radius)!important;border-bottom-right-radius:var(--bs-card-border-radius)!important}[_nghost-%COMP%]     .card-header button{box-shadow:none!important;width:100%}"]})}}return p})()},38790:(N,T,n)=>{"use strict";n.r(T),n.d(T,{LogInComponent:()=>R});var i=n(60177),t=n(25499),l=n(96354),e=n(67116),f=n(38169),m=n(82777),p=n(82394),_=n(91956),v=n(96756),y=n(54438);function C(h,w){1&h&&y.nrm(0,"ds-loading",2)}function O(h,w){1&h&&y.nrm(0,"div",7)}function I(h,w){if(1&h&&(y.qex(0),y.nrm(1,"ds-log-in-container",5),y.DNE(2,O,1,0,"div",6),y.bVm()),2&h){const b=w.$implicit,P=w.last,M=y.XpG(2);y.R7$(),y.Y8G("authMethod",b)("isStandalonePage",M.isStandalonePage),y.R7$(),y.Y8G("ngIf",!P)}}function D(h,w){if(1&h&&(y.j41(0,"div",3),y.DNE(1,I,3,3,"ng-container",4),y.nI1(2,"async"),y.k0s()),2&h){const b=y.XpG();y.R7$(),y.Y8G("ngForOf",y.bMT(2,1,b.authMethods))}}let R=(()=>{class h{constructor(b,P){this.store=b,this.authService=P}ngOnInit(){this.authMethods=this.store.pipe((0,t.Lt)(f.hx),(0,l.T)(b=>b.filter(P=>void 0!==(0,v.HF)(P.authMethodType)).sort((P,M)=>P.position-M.position))),this.loading=this.store.pipe((0,t.Lt)(f.VV)),this.isAuthenticated=this.store.pipe((0,t.Lt)(f.wR)),this.store.pipe((0,t.Lt)(f.H8)).subscribe(b=>{(0,m.a4)(b)&&!this.isStandalonePage&&this.authService.clearRedirectUrl()})}static{this.\u0275fac=function(P){return new(P||h)(y.rXU(t.il),y.rXU(e.uR))}}static{this.\u0275cmp=y.VBU({type:h,selectors:[["ds-base-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[y.aNF],decls:6,vars:10,consts:[["class","m-5",4,"ngIf"],["class","px-4 py-3 mx-auto login-container",4,"ngIf"],[1,"m-5"],[1,"px-4","py-3","mx-auto","login-container"],[4,"ngFor","ngForOf"],[3,"authMethod","isStandalonePage"],["class","dropdown-divider my-2",4,"ngIf"],[1,"dropdown-divider","my-2"]],template:function(P,M){1&P&&(y.DNE(0,C,1,0,"ds-loading",0),y.nI1(1,"async"),y.nI1(2,"async"),y.DNE(3,D,3,3,"div",1),y.nI1(4,"async"),y.nI1(5,"async")),2&P&&(y.Y8G("ngIf",y.bMT(1,2,M.loading)||y.bMT(2,4,M.isAuthenticated)),y.R7$(3),y.Y8G("ngIf",!0!==y.bMT(4,6,M.loading)&&!0!==y.bMT(5,8,M.isAuthenticated)))},dependencies:[i.bT,p.v,i.pM,_.u,i.Jj],styles:[".login-container[_ngcontent-%COMP%]{max-width:350px}a[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],changeDetection:0})}}return h})()},96756:(N,T,n)=>{"use strict";n.d(T,{HF:()=>Z});var i=n(2044),t=n(25499),l=n(41780),e=n(96697),f=n(67116),p=(n(52027),n(38169)),_=n(1676),v=n(45663),y=n(82777),C=n(54438),O=n(59752);let I=(()=>{class H{constructor(Q,ie,oe,pe,ne,re){this.injectedAuthMethodModel=Q,this.isStandalonePage=ie,this._window=oe,this.authService=pe,this.hardRedirectService=ne,this.store=re,this.authMethod=Q}ngOnInit(){this.isAuthenticated=this.store.pipe((0,t.Lt)(p.wR)),this.loading=this.store.pipe((0,t.Lt)(p.VV)),this.location=decodeURIComponent(this.injectedAuthMethodModel.location)}redirectToExternalProvider(){this.authService.getRedirectUrl().pipe((0,e.s)(1)).subscribe(Q=>{this.isStandalonePage?(0,y.Im)(Q)&&(Q="/"):Q=this.hardRedirectService.getCurrentRoute();const ie=new v.t(this._window.nativeWindow.origin,Q).toString();let oe=this.location;const ne=/\?redirectUrl=(.*)/g.exec(this.location),re=ne&&ne[1]?ne[1]:null;(0,y.Pe)(re)&&re!==ie&&(oe=this.location.replace(/\?redirectUrl=(.*)/g,`?redirectUrl=${ie}`)),this.hardRedirectService.redirect(oe)})}getButtonLabel(){return`login.form.${this.authMethod.authMethodType}`}static{this.\u0275fac=function(ie){return new(ie||H)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(_.lc),C.rXU(f.uR),C.rXU(O.$),C.rXU(t.il))}}static{this.\u0275cmp=C.VBU({type:H,selectors:[["ds-log-in-external-provider"]],standalone:!0,features:[C.aNF],decls:4,vars:3,consts:[[1,"btn","btn-lg","btn-primary","btn-block","text-white",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(ie,oe){1&ie&&(C.j41(0,"button",0),C.bIt("click",function(){return oe.redirectToExternalProvider()}),C.nrm(1,"i",1),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&ie&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,oe.getButtonLabel()),"\n"))},dependencies:[l.h,l.D9]})}}return H})();var D=n(60177),R=n(89417),h=n(44668),w=n(84572),b=n(96354),P=n(5964),M=n(69799),L=n(59836),B=n(65007),U=n(3970),$=n(50332),j=n(60456),G=n(75465);function z(H,Y){if(1&H&&(C.j41(0,"div",7),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&H){const Q=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,Q.error)))}}function V(H,Y){if(1&H&&(C.j41(0,"div",8),C.EFF(1),C.nI1(2,"async"),C.nI1(3,"translate"),C.k0s()),2&H){const Q=C.XpG();C.Y8G("@fadeOut",void 0),C.R7$(),C.JRh(C.bMT(3,4,C.bMT(2,2,Q.message)))}}const J=new Map([[i.Q.Password,(()=>{class H{constructor(Q,ie,oe,pe,ne,re,Ce){this.injectedAuthMethodModel=Q,this.isStandalonePage=ie,this.authService=oe,this.hardRedirectService=pe,this.formBuilder=ne,this.store=re,this.authorizationService=Ce,this.hasError=!1,this.hasMessage=!1,this.authMethod=Q}ngOnInit(){this.form=this.formBuilder.group({email:["",R.k0.required],password:["",R.k0.required]}),this.error=this.store.pipe((0,t.Lt)(p.H8),(0,b.T)(Q=>(this.hasError=(0,y.hj)(Q),Q))),this.message=this.store.pipe((0,t.Lt)(p.dx),(0,b.T)(Q=>(this.hasMessage=(0,y.hj)(Q),Q))),this.canRegister$=this.authorizationService.isAuthorized(U._.EPersonRegistration).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canForgot$=this.authorizationService.isAuthorized(U._.EPersonForgotPassword).pipe((0,h.t)({refCount:!1,bufferSize:1})),this.canShowDivider$=(0,w.z)([this.canRegister$,this.canForgot$]).pipe((0,b.T)(([Q,ie])=>Q||ie),(0,P.p)(Boolean))}getRegisterRoute(){return(0,M.Do)()}getForgotRoute(){return(0,M.al)()}resetErrorOrMessage(){(this.hasError||this.hasMessage)&&(this.store.dispatch(new L.eh),this.hasError=!1,this.hasMessage=!1)}submit(){this.resetErrorOrMessage();const Q=this.form.get("email").value,ie=this.form.get("password").value;Q.trim(),ie.trim(),this.isStandalonePage?this.authService.setRedirectUrlIfNotSet("/"):this.authService.setRedirectUrl(this.hardRedirectService.getCurrentRoute()),this.store.dispatch(new L.Sn(Q,ie)),this.form.reset()}static{this.\u0275fac=function(ie){return new(ie||H)(C.rXU("authMethodProvider"),C.rXU("isStandalonePage"),C.rXU(f.uR),C.rXU(O.$),C.rXU(R.ze),C.rXU(t.il),C.rXU(B.AuthorizationDataService))}}static{this.\u0275cmp=C.VBU({type:H,selectors:[["ds-log-in-password"]],standalone:!0,features:[C.aNF],decls:18,vars:32,consts:[["novalidate","",1,"form-login",3,"ngSubmit","formGroup"],["autocomplete","username","autofocus","","formControlName","email","required","","type","email",1,"form-control","form-control-lg","position-relative",3,"placeholder"],["autocomplete","current-password","formControlName","password","required","","type","password",1,"form-control","form-control-lg","position-relative","mb-3",3,"placeholder"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"dsBtnDisabled"],[1,"fas","fa-sign-in-alt"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-info"]],template:function(ie,oe){1&ie&&(C.j41(0,"form",0),C.bIt("ngSubmit",function(){return oe.submit()}),C.nrm(1,"input",1),C.nI1(2,"translate"),C.nI1(3,"translate"),C.nI1(4,"dsBrowserOnly"),C.nrm(5,"input",2),C.nI1(6,"translate"),C.nI1(7,"translate"),C.nI1(8,"dsBrowserOnly"),C.DNE(9,z,4,6,"div",3),C.nI1(10,"async"),C.DNE(11,V,4,6,"div",4),C.nI1(12,"async"),C.j41(13,"button",5),C.nI1(14,"dsBrowserOnly"),C.nrm(15,"i",6),C.EFF(16),C.nI1(17,"translate"),C.k0s()()),2&ie&&(C.Y8G("formGroup",oe.form),C.R7$(),C.FS9("placeholder",C.bMT(2,12,"login.form.email")),C.BMQ("aria-label",C.bMT(3,14,"login.form.email"))("data-test",C.bMT(4,16,"email")),C.R7$(4),C.FS9("placeholder",C.bMT(6,18,"login.form.password")),C.BMQ("aria-label",C.bMT(7,20,"login.form.password"))("data-test",C.bMT(8,22,"password")),C.R7$(4),C.Y8G("ngIf",C.bMT(10,24,oe.error)&&oe.hasError),C.R7$(2),C.Y8G("ngIf",C.bMT(12,26,oe.message)&&oe.hasMessage),C.R7$(2),C.Y8G("dsBtnDisabled",!oe.form.valid),C.BMQ("data-test",C.bMT(14,28,"login-button")),C.R7$(3),C.SpI(" ",C.bMT(17,30,"login.form.submit"),""))},dependencies:[R.YN,R.qT,R.me,R.BC,R.cb,R.YS,R.X1,R.j4,R.JD,D.bT,D.Jj,l.h,l.D9,G.L,j.A],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[$.Xn]}})}}return H})()],[i.Q.Shibboleth,I],[i.Q.Oidc,I],[i.Q.Orcid,I]]);function Z(H){return J.get(H)}},68900:(N,T,n)=>{"use strict";n.d(T,{W:()=>m});var i=n(8886),l=(n(38790),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["isStandalonePage"]}getComponentName(){return"LogInComponent"}importThemedComponent(v){return n(43800)(`./${v}/app/shared/log-in/log-in.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,38790))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-log-in"]],inputs:{isStandalonePage:"isStandalonePage"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},61980:(N,T,n)=>{"use strict";n.d(T,{y:()=>C});var i=n(60177),t=n(25499),l=n(41780),e=n(59836),f=n(38169),m=n(50332),p=n(75465),_=n(54438),v=n(7901);function y(O,I){if(1&O&&(_.j41(0,"div",4),_.EFF(1),_.nI1(2,"async"),_.k0s()),2&O){const D=_.XpG();_.Y8G("@fadeOut",void 0),_.R7$(),_.JRh(_.bMT(2,2,D.error))}}let C=(()=>{class O{constructor(D,R){this.router=D,this.store=R}ngOnInit(){this.error=this.store.pipe((0,t.Lt)(f.F8))}home(){this.router.navigate(["/home"])}logOut(){this.store.dispatch(new e.du)}static{this.\u0275fac=function(R){return new(R||O)(_.rXU(v.Ix),_.rXU(t.il))}}static{this.\u0275cmp=_.VBU({type:O,selectors:[["ds-log-out"]],standalone:!0,features:[_.aNF],decls:8,vars:9,consts:[[1,"form-login","px-4"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","menuitem",1,"btn","btn-lg","btn-primary","btn-block","mt-3",3,"click"],[1,"fas","fa-sign-out-alt"],["role","alert",1,"alert","alert-danger"]],template:function(R,h){1&R&&(_.j41(0,"div",0),_.DNE(1,y,3,4,"div",1),_.nI1(2,"async"),_.j41(3,"button",2),_.nI1(4,"dsBrowserOnly"),_.bIt("click",function(){return h.logOut()}),_.nrm(5,"i",3),_.EFF(6),_.nI1(7,"translate"),_.k0s()()),2&R&&(_.R7$(),_.Y8G("ngIf",_.bMT(2,3,h.error)),_.R7$(2),_.BMQ("data-test",_.bMT(4,5,"logout-button")),_.R7$(3),_.SpI(" ",_.bMT(7,7,"logout.form.submit"),""))},dependencies:[i.bT,i.Jj,l.h,l.D9,p.L],styles:[".form-login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{z-index:2}.form-login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.dropdown-item[_ngcontent-%COMP%]{white-space:normal;padding:.25rem .75rem}"],data:{animation:[m.Xn]}})}}return O})()},19340:(N,T,n)=>{"use strict";n.d(T,{D:()=>i});var i=function(t){return t.ADMIN="admin-sidebar",t.PUBLIC="public",t.DSO_EDIT="dso-edit",t}(i||{})},34237:(N,T,n)=>{"use strict";n.d(T,{x:()=>i});var i=function(t){return t[t.TEXT=0]="TEXT",t[t.LINK=1]="LINK",t[t.ALTMETRIC=2]="ALTMETRIC",t[t.SEARCH=3]="SEARCH",t[t.ONCLICK=4]="ONCLICK",t[t.EXTERNAL=5]="EXTERNAL",t}(i||{})},6446:(N,T,n)=>{"use strict";n.d(T,{a:()=>z});var i=n(54438),t=n(84412),l=n(23294),e=n(25558),f=n(82777),m=n(39548),p=n(60177),_=n(7901),v=n(41780),y=n(34237);const O=V=>({disabled:V});let I=(()=>{class V{constructor(J){this.item=J}ngOnInit(){this.hasLink=(0,f.hj)(this.item.href)}get href(){if(this.hasLink)return this.item.href}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-external-link-menu-item"]],standalone:!0,features:[i.aNF],decls:4,vars:11,consts:[["role","menuitem","routerLinkActive","active",1,"ds-menu-item",3,"click","ngClass","href","title"]],template:function(q,Z){1&q&&(i.j41(0,"a",0),i.nI1(1,"translate"),i.bIt("click",function(Y){return Y.stopPropagation()}),i.EFF(2),i.nI1(3,"translate"),i.k0s()),2&q&&(i.Y8G("ngClass",i.eq3(9,O,!Z.hasLink))("href",Z.href,i.B4B)("title",i.bMT(1,5,Z.item.text)),i.BMQ("aria-disabled",!Z.hasLink),i.R7$(2),i.JRh(i.bMT(3,7,Z.item.text)))},dependencies:[p.YU,v.h,v.D9,_.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();const R=V=>({disabled:V});let h=(()=>{class V{constructor(J,q){this.router=q,this.item=J}ngOnInit(){this.hasLink=(0,f.hj)(this.item.link)}getRouterLink(){if(this.hasLink)return this.item.link}navigate(J){J.preventDefault(),!this.item.disabled&&this.getRouterLink()&&this.router.navigate([this.getRouterLink()]),J.stopPropagation()}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"),i.rXU(_.Ix))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-link-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:10,consts:[["role","menuitem","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keydown.enter","ngClass","routerLink","queryParams"]],template:function(q,Z){1&q&&(i.j41(0,"a",0),i.bIt("click",function(Y){return Y.stopPropagation()})("keyup.space",function(Y){return Z.navigate(Y)})("keydown.enter",function(Y){return Z.navigate(Y)}),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&q&&(i.Y8G("ngClass",i.eq3(8,R,!Z.hasLink||Z.item.disabled))("routerLink",Z.getRouterLink())("queryParams",Z.item.queryParams),i.BMQ("aria-disabled",!Z.hasLink||Z.item.disabled)("data-test","link-menu-item."+Z.item.text),i.R7$(),i.JRh(i.bMT(2,6,Z.item.text)))},dependencies:[p.YU,_.Wk,v.h,v.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();function b(V,X){if(1&V){const J=i.RV6();i.j41(0,"a",2),i.nI1(1,"translate"),i.bIt("click",function(Z){i.eBV(J);const H=i.XpG();return i.Njj(H.activate(Z))})("keyup.space",function(Z){i.eBV(J);const H=i.XpG();return i.Njj(H.activate(Z))})("keyup.enter",function(Z){i.eBV(J);const H=i.XpG();return i.Njj(H.activate(Z))}),i.EFF(2),i.nI1(3,"translate"),i.k0s()}if(2&V){const J=i.XpG();i.Y8G("title",i.bMT(1,3,J.item.text)),i.BMQ("data-test",J.item.text),i.R7$(2),i.JRh(i.bMT(3,5,J.item.text))}}function P(V,X){if(1&V&&(i.j41(0,"span",3),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&V){const J=i.XpG();i.BMQ("data-test",J.item.text),i.R7$(),i.JRh(i.bMT(2,2,J.item.text))}}let M=(()=>{class V{constructor(J){this.item=J}activate(J){this.item.disabled||(J.preventDefault(),this.item.function(),J.stopPropagation())}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-onclick-menu-item"]],standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[["class","ds-menu-item","role","menuitem","routerLinkActive","active","href","javascript:void(0);",3,"title","click","keyup.space","keyup.enter",4,"ngIf"],["class","nav-item nav-link disabled",4,"ngIf"],["role","menuitem","routerLinkActive","active","href","javascript:void(0);",1,"ds-menu-item",3,"click","keyup.space","keyup.enter","title"],[1,"nav-item","nav-link","disabled"]],template:function(q,Z){1&q&&i.DNE(0,b,4,7,"a",0)(1,P,3,4,"span",1),2&q&&(i.Y8G("ngIf",!Z.item.disabled),i.R7$(),i.Y8G("ngIf",Z.item.disabled))},dependencies:[p.bT,v.h,v.D9,_.wQ],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}","a[_ngcontent-%COMP%]{cursor:pointer}"]})}}return V})(),B=(()=>{class V{constructor(J){this.item=J}static{this.\u0275fac=function(q){return new(q||V)(i.rXU("itemModelProvider"))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-text-menu-item"]],standalone:!0,features:[i.aNF],decls:3,vars:5,consts:[[1,"ds-menu-item"]],template:function(q,Z){1&q&&(i.j41(0,"span",0),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&q&&(i.AVh("disabled",Z.item.disabled),i.R7$(),i.JRh(i.bMT(2,3,Z.item.text)))},dependencies:[v.h,v.D9],styles:["[_nghost-%COMP%]   .ds-menu-item[_ngcontent-%COMP%]{display:inline-block}"]})}}return V})();const U=new Map;U.set(y.x.EXTERNAL,I),U.set(y.x.LINK,h),U.set(y.x.ONCLICK,M),U.set(y.x.TEXT,B);class G{constructor(){this.shouldPersistOnRouteChange=!1}}let z=(()=>{class V{constructor(J,q,Z){this.section=J,this.menuService=q,this.injector=Z,this.active$=new t.t(!1),this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.subs.push(this.menuService.isSectionActive(this.menuID,this.section.id).pipe((0,l.F)()).subscribe(J=>{this.active$.value!==J&&this.active$.next(J)})),this.initializeInjectorData()}toggleSection(J){J.preventDefault(),this.section.model?.disabled||this.menuService.toggleActiveSection(this.menuID,this.section.id)}activateSection(J,q=!0){q&&J.preventDefault(),this.section.model?.disabled||this.menuService.activateSection(this.menuID,this.section.id)}deactivateSection(J,q=!0){q&&J.preventDefault(),this.menuService.deactivateSection(this.menuID,this.section.id)}initializeInjectorData(){this.updateSectionMap(this.section.id,this.getItemModelInjector(this.section.model),this.getMenuItemComponent(this.section.model)),this.subSections$=this.menuService.getSubSectionsByParentID(this.menuID,this.section.id),this.subs.push(this.subSections$.pipe((0,e.n)(J=>J)).subscribe(J=>{this.updateSectionMap(J.id,this.getItemModelInjector(J.model),this.getMenuItemComponent(J.model))}))}updateSectionMap(J,q,Z){const H=this.sectionMap$.getValue();H.set(J,{injector:q,component:Z}),this.sectionMap$.next(H)}getMenuItemComponent(J){return(0,f.Tn)(J)&&(J=this.section.model),function j(V){return U.get(V)}(J.type)}getItemModelInjector(J){return(0,f.Tn)(J)&&(J=this.section.model),i.zZn.create({providers:[{provide:"itemModelProvider",useFactory:()=>J,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(J=>(0,f.a4)(J)).forEach(J=>J.unsubscribe())}static{this.\u0275fac=function(q){return new(q||V)(i.rXU(G),i.rXU(m.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:V,selectors:[["ds-menu-section"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(q,Z){},encapsulation:2})}}return V})()},54476:(N,T,n)=>{"use strict";n.d(T,{C0:()=>R,F$:()=>l,FH:()=>D,Hw:()=>I,JG:()=>m,JK:()=>_,PM:()=>y,YN:()=>O,cf:()=>h,eq:()=>e,ie:()=>p,j$:()=>w,jZ:()=>t,oh:()=>v,sP:()=>f,tU:()=>b});var i=n(91e3);const t={COLLAPSE_MENU:(0,i.N)("dspace/menu/COLLAPSE_MENU"),TOGGLE_MENU:(0,i.N)("dspace/menu/TOGGLE_MENU"),EXPAND_MENU:(0,i.N)("dspace/menu/EXPAND_MENU"),SHOW_MENU:(0,i.N)("dspace/menu/SHOW_MENU"),HIDE_MENU:(0,i.N)("dspace/menu/HIDE_MENU"),REINIT_MENUS:(0,i.N)("dspace/menu/REINIT_MENUS"),COLLAPSE_MENU_PREVIEW:(0,i.N)("dspace/menu/COLLAPSE_MENU_PREVIEW"),EXPAND_MENU_PREVIEW:(0,i.N)("dspace/menu/EXPAND_MENU_PREVIEW"),ADD_SECTION:(0,i.N)("dspace/menu-section/ADD_SECTION"),REMOVE_SECTION:(0,i.N)("dspace/menu-section/REMOVE_SECTION"),SHOW_SECTION:(0,i.N)("dspace/menu-section/SHOW_SECTION"),HIDE_SECTION:(0,i.N)("dspace/menu-section/HIDE_SECTION"),ACTIVATE_SECTION:(0,i.N)("dspace/menu-section/ACTIVATE_SECTION"),DEACTIVATE_SECTION:(0,i.N)("dspace/menu-section/DEACTIVATE_SECTION"),TOGGLE_ACTIVE_SECTION:(0,i.N)("dspace/menu-section/TOGGLE_ACTIVE_SECTION")};class l{constructor(M){this.type=t.COLLAPSE_MENU,this.menuID=M}}class e{constructor(M){this.type=t.EXPAND_MENU,this.menuID=M}}class f{constructor(M){this.type=t.TOGGLE_MENU,this.menuID=M}}class m{constructor(M){this.type=t.SHOW_MENU,this.menuID=M}}class p{constructor(M){this.type=t.HIDE_MENU,this.menuID=M}}class _{constructor(M){this.type=t.COLLAPSE_MENU_PREVIEW,this.menuID=M}}class v{constructor(M){this.type=t.EXPAND_MENU_PREVIEW,this.menuID=M}}class y{constructor(){this.type=t.REINIT_MENUS}}class C{constructor(M,L){this.menuID=M,this.id=L}}class O extends C{constructor(M,L){super(M,L.id),this.type=t.ADD_SECTION,this.section=L}}class I extends C{constructor(M,L){super(M,L),this.type=t.REMOVE_SECTION}}class D extends C{constructor(M,L){super(M,L),this.type=t.HIDE_SECTION}}class R extends C{constructor(M,L){super(M,L),this.type=t.SHOW_SECTION}}class h extends C{constructor(M,L){super(M,L),this.type=t.ACTIVATE_SECTION}}class w extends C{constructor(M,L){super(M,L),this.type=t.DEACTIVATE_SECTION}}class b extends C{constructor(M,L){super(M,L),this.type=t.TOGGLE_ACTIVE_SECTION}}},30458:(N,T,n)=>{"use strict";n.d(T,{Z:()=>ue});var i=n(54438),t=n(84412),l=n(7673),e=n(25558),f=n(73028),m=n(96354),p=n(23294),_=n(65007),v=n(3970),y=n(82777),C=n(82522),O=n(39548),I=n(9901),D=n(99452),R=n(8886);n(58499);const w=["*"];function b(ae,ye){}let P=(()=>{class ae extends R.J{getComponentName(){return"ExpandableNavbarSectionComponent"}importThemedComponent(De){return n(88289)(`./${De}/app/navbar/expandable-navbar-section/expandable-navbar-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,58499))}static{this.\u0275fac=(()=>{let De;return function(_t){return(De||(De=i.xGo(ae)))(_t||ae)}})()}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-expandable-navbar-section"]],standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:w,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(tt,_t){1&tt&&(i.NAR(),i.DNE(0,b,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return ae})();var M=n(26821),L=n(60177),B=n(52149),U=n(41780),$=n(19340),j=n(6446),G=n(60456),z=n(7901);function V(ae,ye){if(1&ae&&i.nrm(0,"i"),2&ae){const De=i.XpG(2).$implicit;i.ZvI("fas fa-",De.icon," fa-fw")}}function X(ae,ye){1&ae&&i.nrm(0,"i",11)}function J(ae,ye){if(1&ae&&(i.j41(0,"div",9),i.DNE(1,V,1,3,"i",10)(2,X,1,0,"ng-template",null,0,i.C5r),i.k0s()),2&ae){const De=i.sdS(3),tt=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",tt.icon)("ngIfElse",De)}}function q(ae,ye){1&ae&&i.eu8(0)}function Z(ae,ye){if(1&ae&&(i.j41(0,"li",6),i.DNE(1,J,4,2,"div",7),i.nI1(2,"async"),i.DNE(3,q,1,0,"ng-container",8),i.nI1(4,"async"),i.nI1(5,"async"),i.k0s()),2&ae){const De=ye.$implicit,tt=i.XpG();i.R7$(),i.Y8G("ngIf",i.bMT(2,3,tt.renderIcons$)),i.R7$(2),i.Y8G("ngComponentOutlet",i.bMT(4,5,tt.sectionMap$).get(De.id).component)("ngComponentOutletInjector",i.bMT(5,7,tt.sectionMap$).get(De.id).injector)}}let H=(()=>{class ae extends j.a{constructor(De,tt,_t,We){super(De,tt,_t),this.menuService=tt,this.injector=_t,this.router=We,this.menuID=$.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.menuService.activateSection(this.menuID,this.section.id),super.ngOnInit(),this.renderIcons$=this.subSections$.pipe((0,m.T)(De=>De.some(tt=>(0,y.a4)(tt.icon))))}static{this.\u0275fac=function(tt){return new(tt||ae)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn),i.rXU(z.Ix))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-dso-edit-menu-expandable-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:10,vars:16,consts:[["spacer",""],["ngbDropdown","","container","body","placement","bottom-right",1,"dso-button-menu","mb-1"],["container","body",1,"d-flex","flex-row","flex-nowrap",3,"ngbTooltip"],["ngbDropdownToggle","",1,"btn","btn-dark","btn-sm",3,"title","dsBtnDisabled"],["ngbDropdownMenu","",1,"dso-edit-menu-dropdown"],["class","nav-item nav-link d-flex flex-row",4,"ngFor","ngForOf"],[1,"nav-item","nav-link","d-flex","flex-row"],["class","mr-2",4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"mr-2"],[3,"class",4,"ngIf","ngIfElse"],[1,"fas","fa-fw"]],template:function(tt,_t){1&tt&&(i.j41(0,"div",1)(1,"div",2),i.nI1(2,"translate"),i.j41(3,"button",3),i.nI1(4,"translate"),i.nI1(5,"translate"),i.nrm(6,"i"),i.k0s(),i.j41(7,"ul",4),i.DNE(8,Z,6,9,"li",5),i.nI1(9,"async"),i.k0s()()()),2&tt&&(i.R7$(),i.Y8G("ngbTooltip",i.bMT(2,8,_t.itemModel.text)),i.R7$(2),i.Y8G("title",i.bMT(4,10,_t.itemModel.text))("dsBtnDisabled",null==_t.section.model?null:_t.section.model.disabled),i.BMQ("aria-label",i.bMT(5,12,_t.itemModel.text)),i.R7$(3),i.ZvI("fas fa-",_t.section.icon," fa-fw"),i.R7$(2),i.Y8G("ngForOf",i.bMT(9,14,_t.subSections$)))},dependencies:[B.zH,B.tg,B.do,B.U0,B.n8,B.md,L.pM,L.bT,L.OI,U.h,U.D9,L.Jj,G.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}.dso-button-menu[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}ul.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg);color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a{color:#fff}ul.dropdown-menu[_ngcontent-%COMP%]     a.disabled{color:var(--bs-btn-link-disabled-color)}ul.dropdown-menu[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{color:var(--bs-btn-link-disabled-color)}.dso-edit-menu-dropdown[_ngcontent-%COMP%]{max-width:min(600px,75vw)}"]})}}return ae})();function Y(ae,ye){if(1&ae&&(i.j41(0,"a",4),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&ae){const De=i.XpG(2);i.Y8G("routerLink",De.itemModel.link),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function Q(ae,ye){if(1&ae&&(i.j41(0,"button",7),i.nrm(1,"i",5),i.j41(2,"span",6),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&ae){const De=i.XpG(2);i.Y8G("dsBtnDisabled",!0),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(4,5,De.itemModel.text))}}function ie(ae,ye){if(1&ae&&(i.j41(0,"div",1),i.nI1(1,"translate"),i.DNE(2,Y,5,7,"a",2)(3,Q,5,7,"button",3),i.k0s()),2&ae){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,3,De.itemModel.text)),i.R7$(2),i.Y8G("ngIf",!De.section.model.disabled),i.R7$(),i.Y8G("ngIf",De.section.model.disabled)}}function oe(ae,ye){if(1&ae){const De=i.RV6();i.j41(0,"div",1),i.nI1(1,"translate"),i.j41(2,"button",8),i.bIt("click",function(_t){i.eBV(De);const We=i.XpG();return i.Njj(We.activate(_t))}),i.nrm(3,"i",5),i.j41(4,"span",6),i.EFF(5),i.nI1(6,"translate"),i.k0s()()()}if(2&ae){const De=i.XpG();i.Y8G("ngbTooltip",i.bMT(1,6,De.itemModel.text)),i.R7$(2),i.Y8G("dsBtnDisabled",De.section.model.disabled),i.R7$(),i.ZvI("fas fa-",De.section.icon," fa-fw"),i.R7$(2),i.JRh(i.bMT(6,8,De.itemModel.text))}}let pe=(()=>{class ae extends j.a{constructor(De,tt,_t){super(De,tt,_t),this.menuService=tt,this.injector=_t,this.menuID=$.D.DSO_EDIT,this.itemModel=De.model}ngOnInit(){this.hasLink=(0,y.hj)(this.itemModel?.link),this.canActivate=(0,y.hj)(this.itemModel?.function),super.ngOnInit()}activate(De){De.preventDefault(),this.itemModel.disabled||this.itemModel.function(),De.stopPropagation()}static{this.\u0275fac=function(tt){return new(tt||ae)(i.rXU("sectionDataProvider"),i.rXU(O.$),i.rXU(i.zZn))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-dso-edit-menu-section"]],standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:2,consts:[["class","dso-button-menu mb-1",3,"ngbTooltip",4,"ngIf"],[1,"dso-button-menu","mb-1",3,"ngbTooltip"],["class","btn btn-dark btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-dark btn-sm",3,"dsBtnDisabled",4,"ngIf"],[1,"btn","btn-dark","btn-sm",3,"routerLink"],["aria-hidden","true"],[1,"sr-only"],[1,"btn","btn-dark","btn-sm",3,"dsBtnDisabled"],[1,"btn","btn-dark","btn-sm",3,"click","dsBtnDisabled"]],template:function(tt,_t){1&tt&&i.DNE(0,ie,4,5,"div",0)(1,oe,7,10,"div",0),2&tt&&(i.Y8G("ngIf",!_t.canActivate),i.R7$(),i.Y8G("ngIf",_t.canActivate))},dependencies:[L.bT,B.n8,B.md,z.Wk,U.h,U.D9,G.A],styles:[".btn-dark[_ngcontent-%COMP%]{background-color:var(--ds-admin-sidebar-bg)}"]})}}return ae})();var ne=n(81569);const re=new Map;re.set($.D.ADMIN,new Map),re.get($.D.ADMIN).set(!1,new Map),re.get($.D.ADMIN).get(!1).set(ne.SS,I.g),re.get($.D.ADMIN).set(!0,new Map),re.get($.D.ADMIN).get(!0).set(ne.SS,D.W),re.set($.D.PUBLIC,new Map),re.get($.D.PUBLIC).set(!1,new Map),re.get($.D.PUBLIC).get(!1).set(ne.SS,M.X),re.get($.D.PUBLIC).set(!0,new Map),re.get($.D.PUBLIC).get(!0).set(ne.SS,P),re.set($.D.DSO_EDIT,new Map),re.get($.D.DSO_EDIT).set(!1,new Map),re.get($.D.DSO_EDIT).get(!1).set(ne.SS,pe),re.get($.D.DSO_EDIT).set(!0,new Map),re.get($.D.DSO_EDIT).get(!0).set(ne.SS,H);let ue=(()=>{class ae{constructor(De,tt,_t,We,dt){this.menuService=De,this.injector=tt,this.authorizationService=_t,this.route=We,this.themeService=dt,this.sectionMap$=new t.t(new Map),this.subs=[]}ngOnInit(){this.activatedRouteLastChild=this.getActivatedRoute(this.route),this.menuCollapsed=this.menuService.isMenuCollapsed(this.menuID),this.menuPreviewCollapsed=this.menuService.isMenuPreviewCollapsed(this.menuID),this.menuVisible=this.menuService.isMenuVisible(this.menuID),this.sections=this.menuService.getMenuTopSections(this.menuID),this.subs.push(this.sections.pipe((0,e.n)(De=>De),(0,f.Z)(De=>De.id.includes("statistics")?this.getAuthorizedStatistics(De):(0,l.of)(De)),(0,y.VT)(),(0,e.n)(De=>this.getSectionComponent(De).pipe((0,m.T)(tt=>({section:De,component:tt})))),(0,p.F)((De,tt)=>De.section.id===tt.section.id&&De.component.prototype===tt.component.prototype)).subscribe(({section:De,component:tt})=>{const _t=this.sectionMap$.getValue();_t.set(De.id,{injector:this.getSectionDataInjector(De),component:tt}),this.sectionMap$.next(_t)}))}getActivatedRoute(De){return De.children.length>0?this.getActivatedRoute(De.firstChild):De}getAuthorizedStatistics(De){return this.activatedRouteLastChild.data.pipe((0,e.n)(tt=>this.authorizationService.isAuthorized(v._.CanViewUsageStatistics,this.getObjectUrl(tt)).pipe((0,m.T)(_t=>_t?De:{}))))}getObjectUrl(De){return(De.site?De.site:De.dso?.payload)?._links?.self?.href}toggle(De){De.preventDefault(),this.menuService.toggleMenu(this.menuID)}expand(De){De.preventDefault(),this.menuService.expandMenu(this.menuID)}collapse(De){De.preventDefault(),this.menuService.collapseMenu(this.menuID)}expandPreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.expandMenuPreview(this.menuID),100)}collapsePreview(De){De.preventDefault(),this.previewToggleDebounce(()=>this.menuService.collapseMenuPreview(this.menuID),400)}previewToggleDebounce(De,tt){(0,y.a4)(this.previewTimer)&&clearTimeout(this.previewTimer),this.previewTimer=setTimeout(De,tt)}getSectionComponent(De){return this.menuService.hasSubSections(this.menuID,De.id).pipe((0,m.T)(tt=>function Ee(ae,ye,De){const tt=re.get(ae).get(ye).get(De);return(0,y.a4)(tt)?tt:re.get(ae).get(ye).get(ne.SS)}(this.menuID,tt,this.themeService.getThemeName())))}getSectionDataInjector(De){return i.zZn.create({providers:[{provide:"sectionDataProvider",useFactory:()=>De,deps:[]}],parent:this.injector})}ngOnDestroy(){this.subs.filter(De=>(0,y.a4)(De)).forEach(De=>De.unsubscribe())}static{this.\u0275fac=function(tt){return new(tt||ae)(i.rXU(O.$),i.rXU(i.zZn),i.rXU(_.AuthorizationDataService),i.rXU(z.nX),i.rXU(C.Fs))}}static{this.\u0275cmp=i.VBU({type:ae,selectors:[["ds-menu"]],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(tt,_t){},encapsulation:2})}}return ae})()},39548:(N,T,n)=>{"use strict";n.d(T,{$:()=>B});var i=n(7901),t=n(25499),l=n(84572),e=n(96354),f=n(23294),m=n(25558),p=n(5964),_=n(96697),v=n(72352),y=n(46588),C=n(82777),O=n(54476),I=n(19340),D=n(54438);function R(U,$){return(0,t.Mz)($,j=>{if((0,C.a4)(j))return j[U]})}const h=U=>U.menus,w=U=>(0,v.pc)(U,h),b=U=>(0,C.a4)(U)?U.sections:{},M=U=>U.sectionToSubsectionIndex,L=U=>R(U,M);let B=(()=>{class U{constructor(j,G,z){this.store=j,this.route=G,this.router=z}getMenu(j){return this.store.pipe((0,t.Lt)(w(j)))}getMenuTopSections(j,G=!0){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(b),(0,e.T)(z=>Object.values(z)),(0,f.F)((0,y.W2)()),(0,e.T)(z=>z.filter(V=>(0,C.Tn)(V.parentID)).filter(V=>!G||V.visible)))}getSubSectionsByParentID(j,G,z=!0){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(L(G)),(0,e.T)(V=>(0,C.hj)(V)?V:[]),(0,m.n)(V=>(0,l.z)(V.map(X=>this.getMenuSection(j,X)))),(0,e.T)(V=>V.filter(X=>(0,C.a4)(X)&&(!z||X.visible))))}hasSubSections(j,G){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)(L(G)),(0,e.T)(z=>(0,C.hj)(z)))}getMenuSection(j,G){return this.store.pipe((0,t.Lt)(w(j)),(0,t.Lt)((U=>R(U,b))(G)))}getNonPersistentMenuSections(j){return this.getMenu(j).pipe((0,e.T)(G=>Object.values(G.sections).filter(z=>!z.shouldPersistOnRouteChange)))}addSection(j,G){this.store.dispatch(new O.YN(j,G))}removeSection(j,G){this.store.dispatch(new O.Hw(j,G))}isMenuCollapsed(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,C.a4)(G)?G.collapsed:void 0))}isMenuPreviewCollapsed(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,C.a4)(G)?G.previewCollapsed:void 0))}isMenuVisibleWithVisibleSections(j){return(0,l.z)([this.isMenuVisible(j),this.menuHasVisibleSections(j)]).pipe((0,e.T)(([G,z])=>G&&z))}isMenuVisible(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,C.a4)(G)?G.visible:void 0))}menuHasVisibleSections(j){return this.getMenu(j).pipe((0,e.T)(G=>(0,C.a4)(G)?Object.values(G.sections).some(z=>z.visible&&void 0===z.parentID):void 0))}expandMenu(j){this.store.dispatch(new O.eq(j))}collapseMenu(j){this.store.dispatch(new O.F$(j))}expandMenuPreview(j){this.store.dispatch(new O.oh(j))}collapseMenuPreview(j){this.store.dispatch(new O.JK(j))}toggleMenu(j){this.store.dispatch(new O.sP(j))}showMenu(j){this.store.dispatch(new O.JG(j))}showMenuSection(j,G){this.store.dispatch(new O.C0(j,G))}hideMenu(j){this.store.dispatch(new O.ie(j))}hideMenuSection(j,G){this.store.dispatch(new O.FH(j,G))}toggleActiveSection(j,G){this.store.dispatch(new O.tU(j,G))}activateSection(j,G){this.store.dispatch(new O.cf(j,G))}deactivateSection(j,G){this.store.dispatch(new O.j$(j,G))}isSectionActive(j,G){return this.getMenuSection(j,G).pipe((0,C.Az)(),(0,e.T)(z=>z.active))}isSectionVisible(j,G){return this.getMenuSection(j,G).pipe((0,e.T)(z=>z.visible))}listenForRouteChanges(){this.router.events.pipe((0,p.p)(j=>j instanceof i.wF)).subscribe(()=>{Object.values(I.D).forEach(j=>{this.buildRouteMenuSections(j)})})}buildRouteMenuSections(j){this.getNonPersistentMenuSections(j).pipe((0,e.T)(G=>G.map(z=>z.id)),(0,_.s)(1)).subscribe(G=>{this.resolveRouteMenuSections(this.route.root,j).forEach(V=>{const X=G.indexOf(V.id);X>-1?G.splice(X,1):this.addSection(j,V)}),G.forEach(V=>{this.removeSection(j,V)})})}resolveRouteMenuSections(j,G){const z=j.snapshot.data,V=j.snapshot.params,X=(0,C.Tn)(j.firstChild);if((0,C.a4)(z)&&(0,C.a4)(z.menu)&&(0,C.a4)(z.menu[G])){let J=z.menu[G];if(J=this.resolveSubstitutions(J,V),Array.isArray(J)||(J=[J]),X)return[...J];{const q=this.resolveRouteMenuSections(j.firstChild,G);return[...J.filter(Z=>!q.map(H=>H.id).includes(Z.id)),...q]}}return X?[]:this.resolveRouteMenuSections(j.firstChild,G)}resolveSubstitutions(j,G){let z;return(0,C.Im)(G)?z=j:"string"==typeof j?(z=j,Object.entries(G).forEach(([V,X])=>z=z.replaceAll(`:${V}`,X))):Array.isArray(j)?(z=[],j.forEach((V,X)=>{z[X]=this.resolveSubstitutions(j[X],G)})):"object"==typeof j?(z={},Object.keys(j).forEach(V=>{z[V]=this.resolveSubstitutions(j[V],G)})):z=j,z}static{this.\u0275fac=function(G){return new(G||U)(D.KVO(t.il),D.KVO(i.nX),D.KVO(i.Ix))}}static{this.\u0275prov=D.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}}return U})()},79222:(N,T,n)=>{"use strict";n.d(T,{Q:()=>f});var i=n(60177),t=n(54438);const l=["*"];function e(m,p){if(1&m&&(t.j41(0,"h2",4),t.EFF(1),t.k0s()),2&m){const _=t.XpG();t.R7$(),t.JRh(_.label)}}let f=(()=>{class m{constructor(){this.hideIfNoTextContent=!0}static{this.\u0275fac=function(v){return new(v||m)}}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-metadata-field-wrapper"]],inputs:{label:"label",hideIfNoTextContent:"hideIfNoTextContent"},standalone:!0,features:[t.aNF],ngContentSelectors:l,decls:5,vars:3,consts:[["content",""],[1,"simple-view-element"],["class","simple-view-element-header",4,"ngIf"],[1,"simple-view-element-body"],[1,"simple-view-element-header"]],template:function(v,y){if(1&v&&(t.NAR(),t.j41(0,"div",1),t.DNE(1,e,2,1,"h2",2),t.j41(2,"div",3,0),t.SdG(4),t.k0s()()),2&v){const C=t.sdS(3);t.AVh("d-none",y.hideIfNoTextContent&&0===C.textContent.trim().length),t.R7$(),t.Y8G("ngIf",y.label)}},dependencies:[i.bT],styles:["[_nghost-%COMP%]   .simple-view-element[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]   .simple-view-element-header[_ngcontent-%COMP%]{font-size:1.25rem}"]})}}return m})()},32272:(N,T,n)=>{"use strict";n.d(T,{V:()=>p}),n(26292);var t=n(22924),l=n(82522),e=n(90190),f=n(54438);function m(_,v){}let p=(()=>{class _ extends t.e{constructor(y,C){super(y),this.themeService=y,this.getMetadataRepresentationComponent=C,this.inputNamesDependentForComponent=["context","mdRepresentation"],this.inputNames=["context","mdRepresentation"]}getComponent(){return this.getMetadataRepresentationComponent(this.mdRepresentation.itemType,this.mdRepresentation.representationType,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(C){return new(C||_)(f.rXU(l.Fs),f.rXU(e.RM))}}static{this.\u0275cmp=f.VBU({type:_,selectors:[["ds-metadata-representation-loader"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[f.Vt3,f.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(C,O){1&C&&f.DNE(0,m,0,0,"ng-template",1,0,f.C5r)},encapsulation:2})}}return _})()},90190:(N,T,n)=>{"use strict";n.d(T,{RM:()=>_t});var i=n(54438),t=n(85448),l=n(7901),e=n(52149),m=(n(93498),n(90887));n(26292);let _=(()=>{class Pe{isLink(){return new RegExp(/^https?:\/\/.*/).test(this.mdRepresentation.getValue())}static{this.\u0275fac=function(at){return new(at||Pe)}}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-metadata-representation-list-element"]],inputs:{context:"context",mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(at,nt){},encapsulation:2})}}return Pe})(),v=(()=>{class Pe extends _{ngOnInit(){this.itemPageRoute=(0,m._o)(this.mdRepresentation)}static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-item-metadata-representation-list-element"]],inputs:{mdRepresentation:"mdRepresentation"},standalone:!0,features:[i.Vt3,i.aNF],decls:0,vars:0,template:function(at,nt){},encapsulation:2})}}return Pe})();var y=n(21308);const C=Pe=>[Pe],O=()=>["dc.description"];function I(Pe,we){if(1&Pe&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Pe){const vt=i.XpG();i.R7$(2),i.Y8G("innerHTML",vt.mdRepresentation.firstMetadataValue(i.lJ4(1,O)),i.npT)}}let D=(()=>{class Pe extends v{static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-org-unit-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:7,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-job-title"],[3,"innerHTML"]],template:function(at,nt){if(1&at&&(i.DNE(0,I,3,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&at){const lt=i.sdS(1);i.R7$(2),i.Y8G("id",nt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,C,nt.itemPageRoute))("innerHTML",nt.mdRepresentation.getValue(),i.npT)("ngbTooltip",nt.mdRepresentation.allMetadata(i.lJ4(6,O)).length>0?lt:null)}},dependencies:[y.d,l.Wk,e.n8,e.md],encapsulation:2})}}return Pe})();var R=n(60177),w=(n(14391),n(41780));const b=Pe=>({"not-authenticated":Pe});function P(Pe,we){if(1&Pe&&(i.j41(0,"span",2),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.R7$(),i.JRh(vt.orcidTooltip)}}let M=(()=>{class Pe{constructor(vt){this.translateService=vt}ngOnInit(){this.orcidTooltip=this.translateService.instant(this.authenticatedTimestamp?"person.orcid-tooltip.authenticated":"person.orcid-tooltip.not-authenticated",{orcid:this.orcid.value})}static{this.\u0275fac=function(at){return new(at||Pe)(i.rXU(w.c$))}}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-orcid-badge-and-tooltip"]],inputs:{orcid:"orcid",authenticatedTimestamp:"authenticatedTimestamp"},standalone:!0,features:[i.aNF],decls:3,vars:6,consts:[["orcidTooltipTemplate",""],["placement","top","src","assets/images/orcid.logo.icon.svg","data-test","orcidIcon",1,"orcid-icon",3,"ngbTooltip","ngClass","alt"],[1,"text-muted"]],template:function(at,nt){if(1&at&&(i.nrm(0,"img",1),i.DNE(1,P,2,1,"ng-template",null,0,i.C5r)),2&at){const lt=i.sdS(2);i.Mz_("alt","ORCID ",nt.orcidTooltip,""),i.Y8G("ngbTooltip",lt)("ngClass",i.eq3(4,b,!nt.authenticatedTimestamp))}},dependencies:[e.n8,e.md,R.YU],styles:["[_nghost-%COMP%]{display:inline-block}.orcid-icon[_ngcontent-%COMP%]{height:1.2rem}.orcid-icon.not-authenticated[_ngcontent-%COMP%]{filter:grayscale(100%)}"]})}}return Pe})();const L=Pe=>[Pe],B=()=>["person.jobTitle"];function U(Pe,we){1&Pe&&(i.j41(0,"span"),i.EFF(1,"; "),i.k0s())}function $(Pe,we){if(1&Pe&&(i.j41(0,"span"),i.nrm(1,"span",8),i.DNE(2,U,2,0,"span",9),i.k0s()),2&Pe){const vt=we.$implicit,at=we.last;i.R7$(),i.Y8G("innerHTML",vt,i.npT),i.R7$(),i.Y8G("ngIf",!at)}}function j(Pe,we){if(1&Pe&&(i.j41(0,"span",6),i.DNE(1,$,3,2,"span",7),i.k0s()),2&Pe){const vt=i.XpG(2);i.R7$(),i.Y8G("ngForOf",vt.mdRepresentation.allMetadataValues(i.lJ4(1,B)))}}function G(Pe,we){if(1&Pe&&(i.j41(0,"span",4),i.DNE(1,j,2,2,"span",5),i.k0s()),2&Pe){const vt=i.XpG();i.R7$(),i.Y8G("ngIf",vt.mdRepresentation.allMetadata(i.lJ4(1,B)).length>0)}}function z(Pe,we){if(1&Pe&&i.nrm(0,"ds-orcid-badge-and-tooltip",10),2&Pe){const vt=i.XpG();i.Y8G("orcid",vt.mdRepresentation.firstMetadata("person.identifier.orcid"))("authenticatedTimestamp",vt.mdRepresentation.firstMetadata("dspace.orcid.authenticated"))}}let V=(()=>{class Pe extends v{static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-person-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:8,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],["class","ml-1",3,"orcid","authenticatedTimestamp",4,"ngIf"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"ml-1",3,"orcid","authenticatedTimestamp"]],template:function(at,nt){if(1&at&&(i.DNE(0,G,2,2,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.DNE(4,z,1,2,"ds-orcid-badge-and-tooltip",3),i.k0s()),2&at){const lt=i.sdS(1);i.R7$(2),i.Y8G("id",nt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(5,L,nt.itemPageRoute))("innerHTML",nt.mdRepresentation.getValue(),i.npT)("ngbTooltip",nt.mdRepresentation.allMetadata(i.lJ4(7,B)).length>0?lt:null),i.R7$(),i.Y8G("ngIf",nt.mdRepresentation.firstMetadata("person.identifier.orcid"))}},dependencies:[R.bT,R.pM,y.d,l.Wk,e.n8,e.md,M],encapsulation:2})}}return Pe})();var X=n(96526);const J=Pe=>[Pe];function q(Pe,we){if(1&Pe&&(i.j41(0,"span",3)(1,"span",4),i.nrm(2,"span",5),i.k0s()()),2&Pe){const vt=i.XpG();i.R7$(2),i.Y8G("innerHTML",vt.dsoNameService.getName(vt.mdRepresentation),i.npT)}}let Z=(()=>{class Pe extends v{constructor(vt){super(),this.dsoNameService=vt}static{this.\u0275fac=function(at){return new(at||Pe)(i.rXU(X.f))}}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-project-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:6,consts:[["descTemplate",""],[3,"id"],[3,"routerLink","innerHTML","ngbTooltip"],[1,"text-muted"],[1,"item-list-project-title"],[3,"innerHTML"]],template:function(at,nt){if(1&at&&(i.DNE(0,q,3,1,"ng-template",null,0,i.C5r),i.j41(2,"ds-truncatable",1),i.nrm(3,"a",2),i.k0s()),2&at){const lt=i.sdS(1);i.R7$(2),i.Y8G("id",nt.mdRepresentation.id),i.R7$(),i.Y8G("routerLink",i.eq3(4,J,nt.itemPageRoute))("innerHTML",nt.dsoNameService.getName(nt.mdRepresentation),i.npT)("ngbTooltip",nt.dsoNameService.getName(nt.mdRepresentation).length>0?lt:null)}},dependencies:[y.d,l.Wk,e.n8,e.md],encapsulation:2})}}return Pe})();var H=n(82777),Y=n(81569),Q=n(7654);const ie=Pe=>["/browse/",Pe];function oe(Pe,we){if(1&Pe&&(i.j41(0,"a",1),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.Y8G("routerLink",i.eq3(3,ie,vt.mdRepresentation.browseDefinition.id))("queryParams",vt.getQueryParams()),i.R7$(),i.SpI(" ",vt.mdRepresentation.getValue()," ")}}let pe=(()=>{class Pe extends _{getQueryParams(){const vt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===Q.o.value?{value:this.mdRepresentation.getValue()}:vt}static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-browse-link-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:4,vars:1,consts:[["target","_blank","class","dont-break-out",3,"routerLink","queryParams",4,"ngIf"],["target","_blank",1,"dont-break-out",3,"routerLink","queryParams"]],template:function(at,nt){1&at&&(i.j41(0,"div"),i.DNE(1,oe,2,5,"a",0),i.j41(2,"b"),i.EFF(3,"(new browse link page)"),i.k0s()()),2&at&&(i.R7$(),i.Y8G("ngIf","browse_link"===nt.mdRepresentation.representationType))},dependencies:[R.bT,l.Wk],encapsulation:2})}}return Pe})();var ne=n(78448),re=n(17191);let Ce=(()=>{class Pe extends _{constructor(){super(...arguments),this.viewMode=ne.n.ListElement}static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-item-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:1,vars:2,consts:[[3,"object","viewMode"]],template:function(at,nt){1&at&&i.nrm(0,"ds-listable-object-component-loader",0),2&at&&i.Y8G("object",nt.mdRepresentation)("viewMode",nt.viewMode)},dependencies:[re.v],encapsulation:2})}}return Pe})();const Ee=Pe=>["/browse/",Pe];function ue(Pe,we){if(1&Pe&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.R7$(),i.SpI(" ",vt.mdRepresentation.getValue()," ")}}function ae(Pe,we){if(1&Pe&&(i.j41(0,"a",4),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.Y8G("href",vt.mdRepresentation.getValue(),i.B4B),i.R7$(),i.SpI(" ",vt.mdRepresentation.getValue()," ")}}function ye(Pe,we){if(1&Pe&&(i.j41(0,"span",3),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.R7$(),i.JRh(vt.mdRepresentation.getValue())}}function De(Pe,we){if(1&Pe&&(i.j41(0,"a",5),i.EFF(1),i.k0s()),2&Pe){const vt=i.XpG();i.Y8G("routerLink",i.eq3(3,Ee,vt.mdRepresentation.browseDefinition.id))("queryParams",vt.getQueryParams()),i.R7$(),i.SpI(" ",vt.mdRepresentation.getValue()," ")}}let tt=(()=>{class Pe extends _{getQueryParams(){const vt={startsWith:this.mdRepresentation.getValue()};return this.mdRepresentation.browseDefinition.getRenderType()===Q.o.value?{value:this.mdRepresentation.getValue()}:vt}static{this.\u0275fac=(()=>{let vt;return function(nt){return(vt||(vt=i.xGo(Pe)))(nt||Pe)}})()}static{this.\u0275cmp=i.VBU({type:Pe,selectors:[["ds-plain-text-metadata-list-element"]],standalone:!0,features:[i.Vt3,i.aNF],decls:5,vars:4,consts:[["class","dont-break-out",4,"ngIf"],["class","dont-break-out","target","_blank",3,"href",4,"ngIf"],["class","dont-break-out ds-browse-link",3,"routerLink","queryParams",4,"ngIf"],[1,"dont-break-out"],["target","_blank",1,"dont-break-out",3,"href"],[1,"dont-break-out","ds-browse-link",3,"routerLink","queryParams"]],template:function(at,nt){1&at&&(i.j41(0,"div"),i.DNE(1,ue,2,1,"span",0)(2,ae,2,2,"a",1)(3,ye,2,1,"span",0)(4,De,2,5,"a",2),i.k0s()),2&at&&(i.R7$(),i.Y8G("ngIf","plain_text"===nt.mdRepresentation.representationType&&!nt.isLink()),i.R7$(),i.Y8G("ngIf","plain_text"===nt.mdRepresentation.representationType&&nt.isLink()),i.R7$(),i.Y8G("ngIf","authority_controlled"===nt.mdRepresentation.representationType),i.R7$(),i.Y8G("ngIf","browse_link"===nt.mdRepresentation.representationType))},dependencies:[R.bT,l.Wk],encapsulation:2})}}return Pe})();const _t=new i.nKC("getMetadataRepresentationComponent",{providedIn:"root",factory:()=>gt}),We="Publication",dt=t.d.PlainText,it=new Map([["Publication",new Map([[t.d.PlainText,new Map([[Y.A2,new Map([[Y.SS,tt]])]])],[t.d.AuthorityControlled,new Map([[Y.A2,new Map([[Y.SS,tt]])]])],[t.d.BrowseLink,new Map([[Y.A2,new Map([[Y.SS,pe]])]])],[t.d.Item,new Map([[Y.A2,new Map([[Y.SS,Ce]])]])]])],["Person",new Map([[t.d.Item,new Map([[Y.A2,new Map([[Y.SS,V]])]])]])],["OrgUnit",new Map([[t.d.Item,new Map([[Y.A2,new Map([[Y.SS,D]])]])]])],["Project",new Map([[t.d.Item,new Map([[Y.A2,new Map([[Y.SS,Z]])]])]])]]);function gt(Pe,we,vt=Y.A2,at=Y.SS){const nt=it.get(Pe);if((0,H.a4)(nt)){const lt=nt.get(we);if((0,H.a4)(lt)){const ve=lt.get(vt);if((0,H.a4)(ve)){const Ne=(0,Y.eW)(ve,at);if((0,H.a4)(Ne))return Ne;if((0,H.a4)(ve.get(Y.SS)))return ve.get(Y.SS)}if((0,H.a4)(lt.get(Y.A2))&&(0,H.a4)(lt.get(Y.A2).get(Y.SS)))return lt.get(Y.A2).get(Y.SS)}if((0,H.a4)(nt.get(dt))&&(0,H.a4)(nt.get(dt).get(Y.A2))&&(0,H.a4)(nt.get(dt).get(Y.A2).get(Y.SS)))return nt.get(dt).get(Y.A2).get(Y.SS)}return it.get(We).get(dt).get(Y.A2).get(Y.SS)}},43796:(N,T,n)=>{"use strict";n.d(T,{SU:()=>Gt,u3:()=>mt});var i=n(60177),t=n(89417),l=n(52149),e=n(41780),f=n(13933),m=n(18226),p=n(96354),_=n(32473),v=n(52749),y=n(56760),C=n(80183),O=n(52837),I=n(12532),D=n(39806),R=n(43782),h=n(54438),w=n(7901);let b=(()=>{class $e extends R.${constructor(rt,ht,Ct,kt,sn,Tn,Vn,Ln,ms,Os){super(rt,ht,Ct,kt,sn,Tn,ms,Os),this.route=rt,this.workflowItemService=ht,this.router=Ct,this.routeService=kt,this.notificationsService=sn,this.translationService=Tn,this.workflowActionService=Vn,this.claimedTaskDataService=Ln,this.requestService=ms,this.location=Os}ngOnInit(){super.ngOnInit(),this.workflowAction$=this.workflowActionService.findById(this.route.snapshot.queryParams.workflow).pipe((0,C.ak)())}performAction(){this.sendRequest(this.route.snapshot.queryParams.claimedTask).subscribe(rt=>{if(rt){const ht=this.translationService.get("workflow-item."+this.type+".notification.success.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(ht,Ct),this.previousPage()}else{const ht=this.translationService.get("workflow-item."+this.type+".notification.error.title"),Ct=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(ht,Ct)}})}sendRequest(rt){return this.claimedTaskDataService.submitTask(rt,this.createBody()).pipe((0,p.T)(ht=>ht.hasSucceeded))}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(w.nX),h.rXU(O.WorkflowItemDataService),h.rXU(w.Ix),h.rXU(y.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(v.WorkflowActionDataService),h.rXU(I.ClaimedTaskDataService),h.rXU(_.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-workflow-action"]],features:[h.Vt3],decls:0,vars:0,template:function(ht,Ct){},encapsulation:2})}}return $e})();const P=$e=>({"is-invalid":$e}),M=$e=>({"text-danger":$e});function L($e,en){1&$e&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description-requiredDescription")," "))}function B($e,en){1&$e&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.description")," "))}function U($e,en){1&$e&&(h.j41(0,"span"),h.EFF(1,"*"),h.k0s())}function $($e,en){1&$e&&(h.j41(0,"small",15),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.review.error")," "))}function j($e,en){1&$e&&(h.j41(0,"small",15),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.rating.form.rating.error")," "))}function G($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"form",7),h.bIt("ngSubmit",function(){h.eBV(rt);const Ct=h.XpG(2);return h.Njj(Ct.performAction())}),h.j41(1,"div",8)(2,"label",9)(3,"span"),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.DNE(6,U,2,0,"span",1),h.k0s(),h.j41(7,"textarea",10),h.EFF(8,"      "),h.k0s(),h.DNE(9,$,3,3,"small",11),h.k0s(),h.j41(10,"div",8)(11,"label",12),h.EFF(12),h.nI1(13,"translate"),h.k0s(),h.j41(14,"div",13),h.nrm(15,"ngb-rating",14),h.k0s(),h.DNE(16,j,3,3,"small",11),h.k0s()()}if(2&$e){const rt=h.XpG().ngVar,ht=h.XpG();h.Y8G("formGroup",ht.ratingForm),h.R7$(4),h.JRh(h.bMT(5,10,"advanced-workflow-action.rating.form.review.label")),h.R7$(2),h.Y8G("ngIf",null==rt?null:rt.descriptionRequired),h.R7$(),h.Y8G("ngClass",h.eq3(14,P,ht.isInvalid("review")))("required",null==rt?null:rt.descriptionRequired),h.R7$(2),h.Y8G("ngIf",ht.isInvalid("review")),h.R7$(3),h.SpI(" ",h.bMT(13,12,"advanced-workflow-action.rating.form.rating.label"),"* "),h.R7$(3),h.Y8G("max",null==rt?null:rt.maxValue)("ngClass",h.eq3(16,M,ht.isInvalid("rating"))),h.R7$(),h.Y8G("ngIf",ht.isInvalid("rating"))}}function z($e,en){if(1&$e&&(h.nrm(0,"ds-modify-item-overview",16),h.nI1(1,"async")),2&$e){const rt=h.XpG(2);h.Y8G("item",h.bMT(1,1,rt.item$))}}function V($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"div"),h.DNE(1,L,3,3,"p",1)(2,B,3,3,"p",1)(3,G,17,18,"form",2)(4,z,2,3,"ds-modify-item-overview",3),h.nI1(5,"async"),h.j41(6,"div",4)(7,"button",5),h.bIt("click",function(){h.eBV(rt);const Ct=h.XpG();return h.Njj(Ct.previousPage())}),h.EFF(8),h.nI1(9,"translate"),h.k0s(),h.j41(10,"button",6),h.bIt("click",function(){h.eBV(rt);const Ct=h.XpG();return h.Njj(Ct.performAction())}),h.EFF(11),h.nI1(12,"translate"),h.k0s()()()}if(2&$e){const rt=en.ngVar,ht=h.XpG();h.R7$(),h.Y8G("ngIf",null==rt?null:rt.descriptionRequired),h.R7$(),h.Y8G("ngIf",!(null!=rt&&rt.descriptionRequired)),h.R7$(),h.Y8G("ngIf",ht.ratingForm),h.R7$(),h.Y8G("ngIf",h.bMT(5,6,ht.item$)),h.R7$(4),h.SpI(" ",h.bMT(9,8,"workflow-item."+ht.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(12,10,"workflow-item."+ht.getType()+".button.confirm")," ")}}const X="submit_score",J="scorereviewaction";let q=(()=>{class $e extends b{ngOnInit(){super.ngOnInit(),this.ratingForm=new t.J3({review:new t.hs(""),rating:new t.hs(0,t.k0.min(1))})}performAction(){this.ratingForm.updateValueAndValidity(),this.ratingForm.valid?super.performAction():this.ratingForm.markAllAsTouched()}createBody(){const rt={[X]:!0,score:this.ratingForm.get("rating").value};if(""!==this.ratingForm.get("review").value){const ht=this.ratingForm.get("review").value;Object.assign(rt,{review:ht})}return rt}getType(){return J}getAdvancedInfo(rt){return rt?rt.advancedInfo[0]:null}isInvalid(rt){return this.ratingForm.get(rt).touched&&!this.ratingForm.get(rt).valid}static{this.\u0275fac=(()=>{let rt;return function(Ct){return(rt||(rt=h.xGo($e)))(Ct||$e)}})()}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-workflow-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"control-label"],["formControlName","review",1,"form-control",3,"ngClass","required"],["class","invalid-feedback d-block",4,"ngIf"],[1,"control-label","mb-1"],[1,"d-block"],["formControlName","rating",3,"max","ngClass"],[1,"invalid-feedback","d-block"],[3,"item"]],template:function(ht,Ct){1&ht&&(h.DNE(0,V,13,12,"div",0),h.nI1(1,"async")),2&ht&&h.Y8G("ngVar",Ct.getAdvancedInfo(h.bMT(1,1,Ct.workflowAction$)))},dependencies:[f.W,i.bT,i.Jj,e.h,e.D9,l.Ny,l.hC,i.YU,t.X1,t.qT,t.me,t.BC,t.cb,t.YS,t.j4,t.JD,m.r]})}}return $e})();var Z=n(82777),H=n(7673),Y=n(72796),Q=n(96526),ie=n(96820),oe=n(74449),pe=n(44494),ne=n(79145),re=n(22978),Ce=n(60456),Ee=n(48674),ue=n(5682);const ae=()=>["top","right","bottom"],ye=$e=>({content:"admin.access-control.groups.form.tooltip.editGroup.addEpeople",id:"edit-group-add-epeople",iconPlacement:"right",tooltipPlacement:$e}),De=$e=>({name:$e}),tt=$e=>["btn btn-sm",$e];function _t($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"button",22),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(rt);const Ct=h.XpG().$implicit,kt=h.XpG(2);return h.Njj(kt.deleteMemberFromGroup(Ct.eperson))}),h.nrm(2,"i",23),h.k0s()}if(2&$e){const rt=h.XpG().$implicit,ht=h.XpG(2);h.FS9("title",h.i5U(1,4,ht.messagePrefix+".table.edit.buttons.remove",h.eq3(7,De,ht.dsoNameService.getName(rt.eperson)))),h.Y8G("dsBtnDisabled",ht.actionConfig.remove.disabled)("ngClass",h.eq3(9,tt,ht.actionConfig.remove.css)),h.R7$(2),h.Y8G("ngClass",ht.actionConfig.remove.icon)}}function We($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"button",22),h.nI1(1,"translate"),h.bIt("click",function(){h.eBV(rt);const Ct=h.XpG().$implicit,kt=h.XpG(2);return h.Njj(kt.addMemberToGroup(Ct.eperson))}),h.nrm(2,"i",23),h.k0s()}if(2&$e){const rt=h.XpG().$implicit,ht=h.XpG(2);h.FS9("title",h.i5U(1,4,ht.messagePrefix+".table.edit.buttons.add",h.eq3(7,De,ht.dsoNameService.getName(rt.eperson)))),h.Y8G("dsBtnDisabled",ht.actionConfig.add.disabled)("ngClass",h.eq3(9,tt,ht.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",ht.actionConfig.add.icon)}}function dt($e,en){if(1&$e&&(h.j41(0,"tr")(1,"td",17),h.EFF(2),h.k0s(),h.j41(3,"td",17)(4,"a",19),h.EFF(5),h.k0s()(),h.j41(6,"td",17),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",17)(13,"div",20),h.DNE(14,_t,3,11,"button",21)(15,We,3,11,"button",21),h.k0s()()()),2&$e){const rt=en.$implicit,ht=h.XpG(2);h.R7$(2),h.JRh(rt.eperson.id),h.R7$(2),h.Y8G("routerLink",ht.getEPersonEditRoute(rt.eperson.id)),h.R7$(),h.SpI(" ",ht.dsoNameService.getName(rt.eperson)," "),h.R7$(2),h.Lme(" ",h.bMT(8,9,ht.messagePrefix+".table.email"),": ",rt.eperson.email?rt.eperson.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,11,ht.messagePrefix+".table.netid"),": ",rt.eperson.netid?rt.eperson.netid:"-"," "),h.R7$(4),h.Y8G("ngIf",rt.ableToDelete),h.R7$(),h.Y8G("ngIf",!rt.ableToDelete)}}function it($e,en){if(1&$e&&(h.j41(0,"ds-pagination",13),h.nI1(1,"async"),h.j41(2,"div",14)(3,"table",15)(4,"thead")(5,"tr")(6,"th",16),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",16),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",16),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",17),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.DNE(19,dt,16,13,"tr",18),h.nI1(20,"async"),h.k0s()()()()),2&$e){let rt,ht;const Ct=h.XpG();h.Y8G("paginationOptions",Ct.config)("collectionSize",null==(rt=h.bMT(1,9,Ct.ePeopleMembersOfGroup))?null:rt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,11,Ct.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,13,Ct.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,15,Ct.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,17,Ct.messagePrefix+".table.edit")),h.R7$(3),h.Y8G("ngForOf",null==(ht=h.bMT(20,19,Ct.ePeopleMembersOfGroup))?null:ht.page)}}function Ge($e,en){if(1&$e&&(h.j41(0,"div",24),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e){const rt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,rt.messagePrefix+".no-members-yet")," ")}}function gt($e,en){if(1&$e&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e){const rt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,rt.messagePrefix+".search.head")," ")}}function Pe($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"tr")(1,"td",17),h.EFF(2),h.k0s(),h.j41(3,"td",17)(4,"a",19),h.EFF(5),h.k0s()(),h.j41(6,"td",17),h.EFF(7),h.nI1(8,"translate"),h.nrm(9,"br"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"td",17)(13,"div",20)(14,"button",22),h.nI1(15,"translate"),h.bIt("click",function(){const Ct=h.eBV(rt).$implicit,kt=h.XpG(2);return h.Njj(kt.addMemberToGroup(Ct))}),h.nrm(16,"i",23),h.k0s()()()()}if(2&$e){const rt=en.$implicit,ht=h.XpG(2);h.R7$(2),h.JRh(rt.id),h.R7$(2),h.Y8G("routerLink",ht.getEPersonEditRoute(rt.id)),h.R7$(),h.SpI(" ",ht.dsoNameService.getName(rt)," "),h.R7$(2),h.Lme(" ",h.bMT(8,11,ht.messagePrefix+".table.email"),": ",rt.email?rt.email:"-",""),h.R7$(3),h.Lme(" ",h.bMT(11,13,ht.messagePrefix+".table.netid"),": ",rt.netid?rt.netid:"-"," "),h.R7$(4),h.FS9("title",h.i5U(15,15,ht.messagePrefix+".table.edit.buttons.add",h.eq3(18,De,ht.dsoNameService.getName(rt)))),h.Y8G("dsBtnDisabled",ht.actionConfig.add.disabled)("ngClass",h.eq3(20,tt,ht.actionConfig.add.css)),h.R7$(2),h.Y8G("ngClass",ht.actionConfig.add.icon)}}function we($e,en){if(1&$e&&(h.j41(0,"ds-pagination",13),h.nI1(1,"async"),h.j41(2,"div",14)(3,"table",25)(4,"thead")(5,"tr")(6,"th",16),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",16),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",16),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"th",17),h.EFF(16),h.nI1(17,"translate"),h.k0s()()(),h.j41(18,"tbody"),h.DNE(19,Pe,17,22,"tr",18),h.nI1(20,"async"),h.k0s()()()()),2&$e){let rt,ht;const Ct=h.XpG();h.Y8G("paginationOptions",Ct.configSearch)("collectionSize",null==(rt=h.bMT(1,9,Ct.ePeopleSearch))?null:rt.totalElements)("hideGear",!0)("hidePagerWhenSinglePage",!0),h.R7$(7),h.JRh(h.bMT(8,11,Ct.messagePrefix+".table.id")),h.R7$(3),h.JRh(h.bMT(11,13,Ct.messagePrefix+".table.name")),h.R7$(3),h.JRh(h.bMT(14,15,Ct.messagePrefix+".table.identity")),h.R7$(3),h.JRh(h.bMT(17,17,Ct.messagePrefix+".table.edit")),h.R7$(3),h.Y8G("ngForOf",null==(ht=h.bMT(20,19,Ct.ePeopleSearch))?null:ht.page)}}function vt($e,en){if(1&$e&&(h.j41(0,"div",24),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e){const rt=h.XpG();h.R7$(),h.SpI(" ",h.bMT(2,1,rt.messagePrefix+".no-items")," ")}}var at=function($e){return $e[$e.ActiveGroup=0]="ActiveGroup",$e[$e.Members=1]="Members",$e[$e.SearchResults=2]="SearchResults",$e}(at||{});let nt=(()=>{class $e extends Y.v{constructor(rt,ht,Ct,kt,sn,Tn,Vn,Ln){super(rt,ht,Ct,kt,sn,Tn,Vn,Ln),this.groupService=rt,this.ePersonDataService=ht,this.translateService=Ct,this.notificationsService=kt,this.formBuilder=sn,this.paginationService=Tn,this.router=Vn,this.dsoNameService=Ln,this.selectedReviewersUpdated=new h.bkB,this.selectedReviewers=[]}ngOnInit(){this.searchForm=this.formBuilder.group({scope:"metadata",query:""})}ngOnChanges(rt){this.groupId=rt.groupId.currentValue,rt.groupId.currentValue!==rt.groupId.previousValue&&(null===this.groupId?this.retrieveMembers(this.config.currentPage):(this.unsubFrom(at.ActiveGroup),this.subs.set(at.ActiveGroup,this.groupService.findById(this.groupId).pipe((0,C.ak)()).subscribe(ht=>{null!=ht&&(this.groupDataService.editGroup(ht),this.groupBeingEdited=ht,this.retrieveMembers(this.config.currentPage))}))))}retrieveMembers(rt){if(this.config.currentPage=rt,null===this.groupId){const ht=new ie.O;ht.page=this.selectedReviewers.map(Ct=>Object.assign(new ne.h,{eperson:Ct,ableToDelete:this.isMemberOfGroup(Ct)})),this.ePeopleMembersOfGroup.next(ht)}else super.retrieveMembers(rt)}isMemberOfGroup(rt){return(0,H.of)((0,Z.a4)(this.selectedReviewers.find(ht=>ht.id===rt.id)))}deleteMemberFromGroup(rt){const ht=this.selectedReviewers.findIndex(Ct=>Ct.id===rt.id);-1!==ht&&this.selectedReviewers.splice(ht,1),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}addMemberToGroup(rt){this.multipleReviewers||(this.selectedReviewers=[]),this.selectedReviewers.push(rt),this.retrieveMembers(this.config.currentPage),this.selectedReviewersUpdated.emit(this.selectedReviewers)}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(pe.GroupDataService),h.rXU(oe.EPersonDataService),h.rXU(e.c$),h.rXU(D.I),h.rXU(t.ze),h.rXU(re.m),h.rXU(w.Ix),h.rXU(Q.f))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-reviewers-list"]],inputs:{groupId:"groupId",actionConfig:"actionConfig",multipleReviewers:"multipleReviewers"},outputs:{selectedReviewersUpdated:"selectedReviewersUpdated"},standalone:!0,features:[h.Vt3,h.OA$,h.aNF],decls:31,vars:31,consts:[[1,"border-bottom","pb-2"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage",4,"ngIf"],["class","alert alert-info w-100 mb-2","role","alert",4,"ngIf"],["id","search",1,"border-bottom","pb-2"],[4,"dsContextHelp"],[1,"d-flex","justify-content-between",3,"ngSubmit","formGroup"],[1,"flex-grow-1","mr-3"],[1,"form-group","input-group","mr-3"],["type","text","name","query","id","query","formControlName","query","aria-label","Search input",1,"form-control"],[1,"input-group-append"],["type","submit",1,"search-button","btn","btn-primary"],[1,"fas","fa-search"],[1,"btn","btn-secondary",3,"click"],[3,"paginationOptions","collectionSize","hideGear","hidePagerWhenSinglePage"],[1,"table-responsive"],["id","ePeopleMembersOfGroup",1,"table","table-striped","table-hover","table-bordered"],["scope","col",1,"align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"btn-group","edit-field"],[3,"dsBtnDisabled","ngClass","title","click",4,"ngIf"],[3,"click","dsBtnDisabled","ngClass","title"],[3,"ngClass"],["role","alert",1,"alert","alert-info","w-100","mb-2"],["id","epersonsSearch",1,"table","table-striped","table-hover","table-bordered"]],template:function(ht,Ct){if(1&ht&&(h.qex(0),h.j41(1,"h2",0),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"h3"),h.EFF(5),h.nI1(6,"translate"),h.k0s(),h.DNE(7,it,21,21,"ds-pagination",1),h.nI1(8,"async"),h.DNE(9,Ge,3,3,"div",2),h.nI1(10,"async"),h.nI1(11,"async"),h.j41(12,"h3",3),h.DNE(13,gt,3,3,"span",4),h.k0s(),h.j41(14,"form",5),h.bIt("ngSubmit",function(){return Ct.search(Ct.searchForm.value)}),h.j41(15,"div",6)(16,"div",7),h.nrm(17,"input",8),h.j41(18,"span",9)(19,"button",10),h.nrm(20,"i",11),h.EFF(21),h.nI1(22,"translate"),h.k0s()()()(),h.j41(23,"div")(24,"button",12),h.bIt("click",function(){return Ct.clearFormAndResetResult()}),h.EFF(25),h.nI1(26,"translate"),h.k0s()()(),h.DNE(27,we,21,21,"ds-pagination",1),h.nI1(28,"async"),h.DNE(29,vt,3,3,"div",2),h.nI1(30,"async"),h.bVm()),2&ht){let kt,sn,Tn,Vn;h.R7$(2),h.JRh(h.bMT(3,10,Ct.messagePrefix+".head")),h.R7$(3),h.JRh(h.bMT(6,12,Ct.messagePrefix+".headMembers")),h.R7$(2),h.Y8G("ngIf",(null==(kt=h.bMT(8,14,Ct.ePeopleMembersOfGroup))?null:kt.totalElements)>0),h.R7$(2),h.Y8G("ngIf",void 0===h.bMT(10,16,Ct.ePeopleMembersOfGroup)||0===(null==(sn=h.bMT(11,18,Ct.ePeopleMembersOfGroup))?null:sn.totalElements)),h.R7$(4),h.Y8G("dsContextHelp",h.eq3(29,ye,h.lJ4(28,ae))),h.R7$(),h.Y8G("formGroup",Ct.searchForm),h.R7$(7),h.SpI(" ",h.bMT(22,20,Ct.messagePrefix+".search.button"),""),h.R7$(4),h.JRh(h.bMT(26,22,Ct.messagePrefix+".button.see-all")),h.R7$(2),h.Y8G("ngIf",(null==(Tn=h.bMT(28,24,Ct.ePeopleSearch))?null:Tn.totalElements)>0),h.R7$(2),h.Y8G("ngIf",0===(null==(Vn=h.bMT(30,26,Ct.ePeopleSearch))?null:Vn.totalElements)&&Ct.searchDone)}},dependencies:[e.h,e.D9,Ee.G,t.X1,t.qT,t.me,t.BC,t.cb,t.j4,t.JD,ue.e,i.bT,i.Jj,w.Wk,i.YU,i.Sq,Ce.A],encapsulation:2})}}return $e})();function lt($e,en){1&$e&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-multiple")))}function ve($e,en){1&$e&&(h.j41(0,"p"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.JRh(h.bMT(2,1,"advanced-workflow-action.select-reviewer.description-single")))}function Ne($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"ds-reviewers-list",7),h.bIt("selectedReviewersUpdated",function(Ct){h.eBV(rt);const kt=h.XpG();return kt.selectedReviewers=Ct,h.Njj(kt.displayError=!1)}),h.k0s()}if(2&$e){const rt=h.XpG();h.Y8G("actionConfig",rt.reviewersListActionConfig)("groupId",rt.groupId)("ngClass",rt.groupId?"reviewersListWithGroup":"")("multipleReviewers",rt.multipleReviewers)}}function ut($e,en){1&$e&&(h.j41(0,"small",8),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"advanced-workflow-action.select-reviewer.no-reviewer-selected.error")," "))}function cn($e,en){if(1&$e&&(h.nrm(0,"ds-modify-item-overview",9),h.nI1(1,"async")),2&$e){const rt=h.XpG();h.Y8G("item",h.bMT(1,1,rt.item$))}}const nn="submit_select_reviewer",Mn="selectrevieweraction";let Tt=(()=>{class $e extends b{constructor(rt,ht,Ct,kt,sn,Tn,Vn,Ln,ms,Os){super(rt,ht,Ct,kt,sn,Tn,Vn,Ln,ms,Os),this.route=rt,this.workflowItemService=ht,this.router=Ct,this.routeService=kt,this.notificationsService=sn,this.translationService=Tn,this.workflowActionService=Vn,this.claimedTaskDataService=Ln,this.requestService=ms,this.location=Os,this.multipleReviewers=!0,this.selectedReviewers=[],this.subs=[],this.displayError=!1}ngOnDestroy(){this.subs.forEach(rt=>rt.unsubscribe())}ngOnInit(){super.ngOnInit(),this.reviewersListActionConfig=this.multipleReviewers?{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-plus"},remove:{css:"btn-outline-danger",disabled:!1,icon:"fas fa-minus"}}:{add:{css:"btn-outline-primary",disabled:!1,icon:"fas fa-check"},remove:{css:"btn-primary",disabled:!0,icon:"fas fa-check"}},this.subs.push(this.workflowAction$.subscribe(rt=>{this.groupId=rt?rt.advancedInfo[0].group:null}))}getType(){return Mn}performAction(){this.selectedReviewers.length>0?super.performAction():this.displayError=!0}createBody(){return{[nn]:!0,eperson:this.selectedReviewers.map(rt=>rt.id)}}previousPage(){let rt=this.previousQueryParameters;(0,Z.a4)(rt)||(rt={configuration:"workflow"}),this.router.navigate(["/mydspace"],{queryParams:rt})}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(w.nX),h.rXU(O.WorkflowItemDataService),h.rXU(w.Ix),h.rXU(y.v$),h.rXU(D.I),h.rXU(e.c$),h.rXU(v.WorkflowActionDataService),h.rXU(I.ClaimedTaskDataService),h.rXU(_.B),h.rXU(i.aZ))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-workflow-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:14,vars:13,consts:[[4,"ngIf"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"actionConfig","groupId","ngClass","multipleReviewers","selectedReviewersUpdated",4,"ngIf"],["class","invalid-feedback d-block mb-3",4,"ngIf"],[3,"item",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-end"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-primary",3,"click"],["messagePrefix","advanced-workflow-action-select-reviewer.groups.form.reviewers-list",3,"selectedReviewersUpdated","actionConfig","groupId","ngClass","multipleReviewers"],[1,"invalid-feedback","d-block","mb-3"],[3,"item"]],template:function(ht,Ct){1&ht&&(h.j41(0,"div"),h.DNE(1,lt,3,3,"p",0)(2,ve,3,3,"p",0)(3,Ne,1,4,"ds-reviewers-list",1)(4,ut,3,3,"small",2)(5,cn,2,3,"ds-modify-item-overview",3),h.nI1(6,"async"),h.j41(7,"div",4)(8,"button",5),h.bIt("click",function(){return Ct.previousPage()}),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"button",6),h.bIt("click",function(){return Ct.performAction()}),h.EFF(12),h.nI1(13,"translate"),h.k0s()()()),2&ht&&(h.R7$(),h.Y8G("ngIf",Ct.multipleReviewers),h.R7$(),h.Y8G("ngIf",!Ct.multipleReviewers),h.R7$(),h.Y8G("ngIf",void 0!==Ct.groupId),h.R7$(),h.Y8G("ngIf",Ct.displayError),h.R7$(),h.Y8G("ngIf",h.bMT(6,7,Ct.item$)),h.R7$(4),h.SpI(" ",h.bMT(10,9,"workflow-item."+Ct.getType()+".button.cancel")," "),h.R7$(3),h.SpI(" ",h.bMT(13,11,"workflow-item."+Ct.getType()+".button.confirm")," "))},dependencies:[i.MD,i.YU,i.bT,i.Jj,f.W,e.h,e.D9,nt],styles:["[_nghost-%COMP%]     .reviewersListWithGroup #search, [_nghost-%COMP%]     .reviewersListWithGroup #search+form, [_nghost-%COMP%]     .reviewersListWithGroup #search+form+ds-pagination{display:none!important}"]})}}return $e})();var $t=n(78655),St=n(48622),Jt=n(96697),zt=(n(88318),n(25567),n(22822)),Ht=n(46369);let At=(()=>{class $e extends Ht.i{constructor(rt,ht,Ct,kt,sn,Tn){super(zt.a,rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.subs=[]}submitTask(){this.subs.push(this.startActionExecution().pipe((0,Jt.s)(1)).subscribe())}createbody(){return{[this.option]:"true"}}reloadObjectExecution(){return this.objectDataService.findByItem(this.itemUuid)}actionExecution(){return this.objectDataService.submitTask(this.object.id,this.createbody())}initObjects(rt){this.object=rt}initReloadAnchor(){(0,Z.Im)(this.item)||(this.itemUuid=this.item.uuid)}ngOnDestroy(){this.subs.forEach(rt=>rt.unsubscribe())}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-action-abstract"]],inputs:{option:"option",item:"item",workflowitem:"workflowitem"},features:[h.Vt3],decls:0,vars:0,template:function(ht,Ct){},encapsulation:2})}}return $e})();function Ot($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Zt($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",3),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.approve"),""))}let Lt=(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn,Vn){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.workflowItemDataService=Vn}reloadObjectExecution(){return(0,H.of)(this.object)}convertReloadedObject(rt){return Object.assign(new St.t,rt,{indexableObject:rt})}handleReloadableActionResponse(rt,ht){super.handleReloadableActionResponse(rt,ht),this.workflowItemDataService.invalidateByHref(this.object?._links.workflowitem?.href)}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(O.WorkflowItemDataService))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-actions-approve"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-thumbs-up"]],template:function(ht,Ct){1&ht&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Ct.submitTask()}),h.DNE(3,Ot,4,3,"span",1),h.nI1(4,"async"),h.DNE(5,Zt,4,3,"span",1),h.nI1(6,"async"),h.k0s()),2&ht&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.approve_help")),h.Y8G("className","btn btn-success")("dsBtnDisabled",h.bMT(2,7,Ct.processing$)),h.R7$(3),h.Y8G("ngIf",h.bMT(4,9,Ct.processing$)),h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(6,11,Ct.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ce.A]})}}return $e})();var st=n(66211);function Le($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing")," "))}function je($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",3),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.decline")," "))}let Be=(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn}reloadObjectExecution(){return(0,H.of)(this.object)}convertReloadedObject(rt){return Object.assign(new st.H,rt,{indexableObject:rt})}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-actions-decline-task"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:12,consts:[["type","button",1,"declineTaskAction","btn","btn-warning",3,"click","dsBtnDisabled","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-ban"]],template:function(ht,Ct){1&ht&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Ct.submitTask()}),h.DNE(3,Le,4,3,"span",1),h.nI1(4,"async"),h.DNE(5,je,4,3,"span",1),h.nI1(6,"async"),h.k0s()),2&ht&&(h.FS9("ngbTooltip",h.bMT(1,4,"submission.workflow.tasks.claimed.decline_help")),h.Y8G("dsBtnDisabled",h.bMT(2,6,Ct.processing$)),h.R7$(3),h.Y8G("ngIf",h.bMT(4,8,Ct.processing$)),h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(6,10,Ct.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ce.A]})}}return $e})();const Pt=$e=>[$e];function Je($e,en){if(1&$e&&(h.j41(0,"a",1),h.nI1(1,"translate"),h.nI1(2,"async"),h.nrm(3,"i",2),h.EFF(4),h.nI1(5,"translate"),h.k0s()),2&$e){let rt;const ht=h.XpG();h.FS9("ngbTooltip",h.bMT(1,3,"submission.workflow.tasks.claimed.edit_help")),h.Y8G("routerLink",h.eq3(9,Pt,"/workflowitems/"+(null==(rt=h.bMT(2,5,ht.object.workflowitem))||null==rt.payload?null:rt.payload.id)+"/edit")),h.R7$(4),h.SpI(" ",h.bMT(5,7,"submission.workflow.tasks.claimed.edit"),"\n")}}let Et=(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-actions-edit-metadata"]],standalone:!0,features:[h.Vt3,h.aNF],decls:1,vars:1,consts:[["class","btn btn-primary","role","button",3,"ngbTooltip","routerLink",4,"ngIf"],["role","button",1,"btn","btn-primary",3,"ngbTooltip","routerLink"],[1,"fa","fa-edit"]],template:function(ht,Ct){1&ht&&h.DNE(0,Je,6,11,"a",0),2&ht&&h.Y8G("ngIf",Ct.object)},dependencies:[i.bT,l.n8,l.md,w.Wk,i.Jj,e.h,e.D9]})}}return $e})();var qt=n(79951);let fn=(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn,Vn){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.route=Vn}ngOnInit(){super.ngOnInit(),this.initPageRoute()}initPageRoute(){this.subs.push(this.object.workflowitem.pipe((0,C.ak)()).subscribe(rt=>{this.workflowTaskPageRoute=(0,qt.HJ)(rt.id)}))}openAdvancedClaimedTaskTab(){const rt={queryParams:this.getQueryParams()};Object.keys(this.route.snapshot.queryParams).length>0&&(rt.state={},rt.state.previousQueryParams=this.route.snapshot.queryParams),this.router.navigate([this.workflowTaskPageRoute],rt)}getQueryParams(){return{workflow:this.workflowType,claimedTask:this.object.id}}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(w.nX))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-claimed-task-action-abstract"]],features:[h.Vt3],decls:0,vars:0,template:function(ht,Ct){},encapsulation:2})}}return $e})(),Cn=(()=>{class $e extends fn{constructor(rt,ht,Ct,kt,sn,Tn,Vn){super(rt,ht,Ct,kt,sn,Tn,Vn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.route=Vn,this.workflowType=J}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(w.nX))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-claimed-task-action-rating-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"ratingReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-star-half-alt"]],template:function(ht,Ct){1&ht&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&ht&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[l.n8,l.md,e.h,e.D9]})}}return $e})();var ns=n(83233);function hs($e,en){1&$e&&(h.nrm(0,"p",4),h.nI1(1,"translate")),2&$e&&h.Y8G("innerHTML",h.bMT(1,1,"submission.workflow.tasks.claimed.reject_help"),h.npT)}function Gs($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function yt($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",6),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.reject.submit"),""))}function ct($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",5),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Xt($e,en){1&$e&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&$e&&(h.R7$(),h.JRh(h.bMT(2,1,"submission.workflow.tasks.claimed.reject.reason.submit")))}function Pn($e,en){if(1&$e){const rt=h.RV6();h.j41(0,"div",7)(1,"h4",8),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"button",9),h.bIt("click",function(){const Ct=h.eBV(rt).dismiss;return h.Njj(Ct("Cross click"))}),h.j41(5,"span",10),h.EFF(6,"\xd7"),h.k0s()()(),h.j41(7,"div",11)(8,"div",12),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"form",13),h.bIt("ngSubmit",function(){h.eBV(rt);const Ct=h.XpG();return h.Njj(Ct.submitTask())}),h.nrm(12,"textarea",14),h.nI1(13,"translate"),h.j41(14,"button",15),h.nI1(15,"async"),h.DNE(16,ct,4,3,"span",3),h.nI1(17,"async"),h.DNE(18,Xt,3,3,"span",3),h.nI1(19,"async"),h.k0s()()()}if(2&$e){const rt=h.XpG();h.R7$(2),h.JRh(h.bMT(3,7,"submission.workflow.tasks.claimed.reject.reason.title")),h.R7$(7),h.SpI(" ",h.bMT(10,9,"submission.workflow.tasks.claimed.reject.reason.info")," "),h.R7$(2),h.Y8G("formGroup",rt.rejectForm),h.R7$(),h.FS9("placeholder",h.bMT(13,11,"submission.workflow.tasks.claimed.reject.reason.placeholder")),h.R7$(2),h.Y8G("dsBtnDisabled",!rt.rejectForm.valid||h.bMT(15,13,rt.processing$)),h.R7$(2),h.Y8G("ngIf",h.bMT(17,15,rt.processing$)),h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(19,17,rt.processing$))}}let rs=(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn,Vn,Ln){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.formBuilder=Vn,this.modalService=Ln}ngOnInit(){this.rejectForm=this.formBuilder.group({reason:["",t.k0.required]})}submitTask(){if(this.rejectForm.valid){let rt=this.rejectForm.get("reason").value;rt=rt.replace(/\n/g,"<br>"),this.rejectForm.patchValue({reason:rt}),this.modalRef.close("Send Button"),super.submitTask()}}createbody(){const rt=this.rejectForm.get("reason").value;return Object.assign(super.createbody(),{reason:rt})}openRejectModal(rt){this.rejectForm.reset(),this.modalRef=this.modalService.open(rt)}reloadObjectExecution(){return(0,H.of)(this.object)}convertReloadedObject(rt){return Object.assign(new ns.q,rt,{indexableObject:rt})}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(t.ze),h.rXU(l.Bq))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-actions-reject"]],standalone:!0,features:[h.Vt3,h.aNF],decls:10,vars:11,consts:[["rejectTipContent",""],["rejectModal",""],[3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[3,"innerHTML"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["role","alert",1,"alert","alert-info"],[3,"ngSubmit","formGroup"],["formControlName","reason","rows","4",2,"width","100%",3,"placeholder"],["id","btn-chat","type","submit",1,"btn","btn-danger","btn-lg","btn-block","mt-3",3,"dsBtnDisabled"]],template:function(ht,Ct){if(1&ht){const kt=h.RV6();h.DNE(0,hs,2,3,"ng-template",null,0,h.C5r),h.j41(2,"button",2),h.nI1(3,"async"),h.bIt("click",function(){h.eBV(kt);const Tn=h.sdS(9);return h.Njj(Ct.openRejectModal(Tn))}),h.DNE(4,Gs,4,3,"span",3),h.nI1(5,"async"),h.DNE(6,yt,4,3,"span",3),h.nI1(7,"async"),h.k0s(),h.DNE(8,Pn,20,19,"ng-template",null,1,h.C5r)}if(2&ht){const kt=h.sdS(1);h.R7$(2),h.Y8G("className","btn btn-danger")("ngbTooltip",kt)("dsBtnDisabled",h.bMT(3,5,Ct.processing$)),h.R7$(2),h.Y8G("ngIf",h.bMT(5,7,Ct.processing$)),h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(7,9,Ct.processing$))}},dependencies:[l.n8,l.md,i.bT,t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.Jj,e.h,e.D9,Ce.A]})}}return $e})();var as=n(28515);function Qs($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",2),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function gs($e,en){1&$e&&(h.j41(0,"span"),h.nrm(1,"i",3),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&$e&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"submission.workflow.tasks.claimed.return"),""))}const pn=new Map([["submit_approve",Lt],["submit_decline_task",Be],["submit_edit_metadata",Et],[X,Cn],["submit_reject",rs],["return_to_pool",(()=>{class $e extends At{constructor(rt,ht,Ct,kt,sn,Tn,Vn){super(rt,ht,Ct,kt,sn,Tn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.poolTaskService=Vn}reloadObjectExecution(){return this.poolTaskService.findByItem(this.itemUuid).pipe((0,Jt.s)(1))}actionExecution(){return this.objectDataService.returnToPoolTask(this.object.id)}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(as.PoolTaskDataService))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-claimed-task-actions-return-to-pool"]],standalone:!0,features:[h.Vt3,h.aNF],decls:7,vars:13,consts:[["type","button",3,"click","className","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-undo"]],template:function(ht,Ct){1&ht&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.nI1(2,"async"),h.bIt("click",function(){return Ct.submitTask()}),h.DNE(3,Qs,4,3,"span",1),h.nI1(4,"async"),h.DNE(5,gs,4,3,"span",1),h.nI1(6,"async"),h.k0s()),2&ht&&(h.FS9("ngbTooltip",h.bMT(1,5,"submission.workflow.tasks.claimed.return_help")),h.Y8G("className","btn btn-secondary")("dsBtnDisabled",h.bMT(2,7,Ct.processing$)),h.R7$(3),h.Y8G("ngIf",h.bMT(4,9,Ct.processing$)),h.R7$(2),h.Y8G("ngIf",!0!==h.bMT(6,11,Ct.processing$)))},dependencies:[l.n8,l.md,i.bT,i.Jj,e.h,e.D9,Ce.A]})}}return $e})()],[nn,(()=>{class $e extends fn{constructor(rt,ht,Ct,kt,sn,Tn,Vn){super(rt,ht,Ct,kt,sn,Tn,Vn),this.injector=rt,this.router=ht,this.notificationsService=Ct,this.translate=kt,this.searchService=sn,this.requestService=Tn,this.route=Vn,this.workflowType=Mn}static{this.\u0275fac=function(ht){return new(ht||$e)(h.rXU(h.zZn),h.rXU(w.Ix),h.rXU(D.I),h.rXU(e.c$),h.rXU($t.S),h.rXU(_.B),h.rXU(w.nX))}}static{this.\u0275cmp=h.VBU({type:$e,selectors:[["ds-advanced-claimed-task-action-select-reviewer"]],standalone:!0,features:[h.Vt3,h.aNF],decls:5,vars:6,consts:[[1,"selectReviewerAction","btn","btn-primary",3,"click","ngbTooltip"],[1,"fa","fa-user"]],template:function(ht,Ct){1&ht&&(h.j41(0,"button",0),h.nI1(1,"translate"),h.bIt("click",function(){return Ct.openAdvancedClaimedTaskTab()}),h.nrm(2,"i",1),h.EFF(3),h.nI1(4,"translate"),h.k0s()),2&ht&&(h.FS9("ngbTooltip",h.bMT(1,2,"submission.workflow.generic."+Ct.option+"-help")),h.R7$(3),h.SpI(" ",h.bMT(4,4,"submission.workflow.generic."+Ct.option),"\n"))},dependencies:[l.n8,l.md,e.h,e.D9]})}}return $e})()]]),Zn=new Map([[J,q],[Mn,Tt]]);function mt($e){return pn.get($e)}function Gt($e){return Zn.get($e)}},5845:(N,T,n)=>{"use strict";n.d(T,{p:()=>$});var i=n(54438),t=n(84412),l=n(96697),e=n(88141),f=n(32473),m=n(80183),p=n(78655),_=n(4065),v=n(39806),y=n(29326),C=n(88318),O=n(25567),I=n(91581),D=n(52837),R=n(24261),h=n(12532),w=n(78416),b=n(27605),P=n(28515);class M{getConstructor(G){switch(G){case C.q.type:return y.ItemDataService;case I.F.type:return R.WorkspaceitemDataService;case O.t.type:return D.WorkflowItemDataService;case w.T.type:return h.ClaimedTaskDataService;case b.k.type:return P.PoolTaskDataService;default:return}}}var L=n(42547),B=n(7901),U=n(41780);let $=(()=>{class j{constructor(z,V,X,J,q,Z,H){this.objectType=z,this.injector=V,this.router=X,this.notificationsService=J,this.translate=q,this.searchService=Z,this.requestService=H,this.processCompleted=new i.bkB,this.processing$=new t.t(!1);const Y=new M;this.objectDataService=V.get(Y.getConstructor(z))}reload(){this.router.navigated=!1;const z=decodeURIComponent(this.router.url);this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.searchService.getEndpoint().pipe((0,l.s)(1),(0,e.M)(V=>this.requestService.removeByHrefSubstring(V))).subscribe(()=>this.router.navigateByUrl(z))}refresh(){this.objectDataService.findById(this.object.id,!1).pipe((0,m.yd)()).subscribe(z=>{this.initObjects(z.payload)})}handleActionResponse(z){z?(this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new _.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new _.y(2e4,!0))}static{this.\u0275fac=function(V){return new(V||j)(i.rXU(L.v),i.rXU(i.zZn),i.rXU(B.Ix),i.rXU(v.I),i.rXU(U.c$),i.rXU(p.S),i.rXU(f.B))}}static{this.\u0275cmp=i.VBU({type:j,selectors:[["ds-mydspace-actions-abstract"]],inputs:{object:"object"},outputs:{processCompleted:"processCompleted"},decls:0,vars:0,template:function(V,X){},encapsulation:2})}}return j})()},46369:(N,T,n)=>{"use strict";n.d(T,{i:()=>b});var i=n(7673),t=n(96697),l=n(25558),e=n(88141),f=n(96354),m=n(1716),p=n(32473),_=n(80183),v=n(78655),y=n(4065),C=n(39806),O=n(43280),I=n(5845),D=n(54438),R=n(42547),h=n(7901),w=n(41780);let b=(()=>{class P extends I.p{constructor(L,B,U,$,j,G,z){super(L,B,U,$,j,G,z),this.objectType=L,this.injector=B,this.router=U,this.notificationsService=$,this.translate=j,this.searchService=G,this.requestService=z}ngOnInit(){this.initReloadAnchor(),this.initObjects(this.object)}startActionExecution(){return this.processing$.next(!0),this.actionExecution().pipe((0,t.s)(1),(0,l.n)(L=>L.hasSucceeded?this._reloadObject().pipe((0,e.M)(B=>{this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,B)})):(this.processing$.next(!1),this.handleReloadableActionResponse(L.hasSucceeded,null),(0,i.of)(null))))}handleReloadableActionResponse(L,B){L?(B?this.processCompleted.emit({result:L,reloadedObject:B}):this.reload(),this.notificationsService.success(null,this.translate.get("submission.workflow.tasks.generic.success"),new y.y(5e3,!1))):this.notificationsService.error(null,this.translate.get("submission.workflow.tasks.generic.error"),new y.y(2e4,!0))}initReloadAnchor(){}convertReloadedObject(L){const B=(0,O.L)(L.constructor);return Object.assign(new B,L,{indexableObject:L})}_reloadObject(){return this.reloadObjectExecution().pipe((0,l.n)(L=>L instanceof m.j?(0,i.of)(L).pipe((0,_.qD)(),(0,f.T)(B=>B.payload)):(0,i.of)(L))).pipe((0,f.T)(L=>L&&this.convertReloadedObject(L)))}static{this.\u0275fac=function(B){return new(B||P)(D.rXU(R.v),D.rXU(D.zZn),D.rXU(h.Ix),D.rXU(C.I),D.rXU(w.c$),D.rXU(v.S),D.rXU(p.B))}}static{this.\u0275cmp=D.VBU({type:P,selectors:[["ds-mydspace-reloadable-actions"]],features:[D.Vt3],decls:0,vars:0,template:function(B,U){},encapsulation:2})}}return P})()},43323:(N,T,n)=>{"use strict";n.d(T,{L:()=>l,o:()=>t});const t=(0,n(91e3).N)("dspace/ngrx/NO_OP_ACTION");class l{constructor(){this.type=t}}},91e3:(N,T,n)=>{"use strict";n.d(T,{N:()=>l});const i={};function l(e){if(i[e])throw new Error(`Action type "${e}" is not unique"`);return i[e]=!0,e}},16358:(N,T,n)=>{"use strict";n.d(T,{n:()=>i,p:()=>t});var i=function(l){return l.Fade="fade",l.FromTop="fromTop",l.FromRight="fromRight",l.FromBottom="fromBottom",l.FromLeft="fromLeft",l.Rotate="rotate",l.Scale="scale",l}(i||{}),t=function(l){return l.In="In",l.Out="Out",l}(t||{})},4065:(N,T,n)=>{"use strict";n.d(T,{y:()=>t});var i=n(16358);class t{constructor(e=5e3,f=!0,m=i.n.Scale,p=!0){this.timeOut=e,this.clickToClose=f,this.animate=m,this.announceContentInLiveRegion=p}}},3050:(N,T,n)=>{"use strict";n.d(T,{_:()=>i});var i=function(t){return t.Success="alert-success",t.Error="alert-danger",t.Info="alert-info",t.Warning="alert-warning",t}(i||{})},55709:(N,T,n)=>{"use strict";n.d(T,{z:()=>lt});var i=n(49969),t=n(60177),l=n(54438),e=n(7673),f=n(71985),m=n(5964),p=n(61594),_=n(50332);const v=(0,i.wk)("fromBottomIn",(0,i.iF)({opacity:1,transform:"translateY(0)"})),y=(0,i.kY)("* => fromBottomIn",[(0,i.iF)({opacity:0,transform:"translateY(5%)"}),(0,i.i0)("400ms ease-in-out")]),C=(0,i.wk)("fromBottomOut",(0,i.iF)({opacity:0,transform:"translateY(-5%)"})),O=(0,i.kY)("fromBottomIn => fromBottomOut",[(0,i.iF)({opacity:1,transform:"translateY(0)"}),(0,i.i0)("300ms ease-in-out")]),h=((0,i.hZ)("fromBottomIn",[y]),(0,i.hZ)("fromBottomOut",[O]),(0,i.hZ)("fromBottomInOut",[y,O]),(0,i.wk)("fromLeftIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),w=(0,i.kY)("* => fromLeftIn",[(0,i.iF)({opacity:0,transform:"translateX(-5%)"}),(0,i.i0)("400ms ease-in-out")]),b=(0,i.wk)("fromLeftOut",(0,i.iF)({opacity:0,transform:"translateX(5%)"})),P=(0,i.kY)("fromLeftIn => fromLeftOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]),U=((0,i.hZ)("fromLeftIn",[w]),(0,i.hZ)("fromLeftOut",[P]),(0,i.hZ)("fromLeftInOut",[w,P]),(0,i.wk)("fromRightIn",(0,i.iF)({opacity:1,transform:"translateX(0)"}))),$=(0,i.kY)("* => fromRightIn",[(0,i.iF)({opacity:0,transform:"translateX(5%)"}),(0,i.i0)("400ms ease-in-out")]),j=(0,i.wk)("fromRightOut",(0,i.iF)({opacity:0,transform:"translateX(-5%)"})),G=(0,i.kY)("fromRightIn => fromRightOut",[(0,i.iF)({opacity:1,transform:"translateX(0)"}),(0,i.i0)("300ms ease-in-out")]);(0,i.hZ)("fromRightIn",[$]),(0,i.hZ)("fromRightOut",[G]),(0,i.hZ)("fromRightInOut",[$,G]);var J=n(6703),q=n(68681);const Z=(0,i.wk)("scaleIn",(0,i.iF)({opacity:1,transform:"scale(1)"})),H=(0,i.kY)("* => scaleIn",[(0,i.iF)({opacity:0,transform:"scale(0)"}),(0,i.i0)("400ms ease-in-out")]),Y=(0,i.wk)("scaleOut",(0,i.iF)({opacity:0,transform:"scale(0)"})),Q=(0,i.kY)("scaleIn => scaleOut",[(0,i.iF)({opacity:1,transform:"scale(1)"}),(0,i.i0)("400ms ease-in-out")]);(0,i.hZ)("scaleIn",[H]),(0,i.hZ)("scaleOut",[Q]),(0,i.hZ)("scaleInOut",[H,Q]);var ne=n(82777),re=n(16358),Ce=n(39806),Ee=n(345);const ue=(ve,Ne,ut,cn)=>({"fas fa-2x":!0,"fa-check-circle":ve,"fa-times-circle":Ne,"fa-exclamation-triangle":ut,"fa-info-circle":cn}),ae=ve=>({width:ve});function ye(ve,Ne){if(1&ve&&(l.j41(0,"div",12),l.nrm(1,"span",13),l.k0s()),2&ve){const ut=l.XpG();l.R7$(),l.Y8G("ngStyle",l.eq3(1,ae,ut.progressWidth+"%"))}}function De(ve,Ne){if(1&ve){const ut=l.RV6();l.j41(0,"button",14),l.bIt("click",function(){l.eBV(ut);const nn=l.XpG();return l.Njj(nn.remove())}),l.j41(1,"span",15),l.EFF(2,"\xd7"),l.k0s()()}}function tt(ve,Ne){1&ve&&l.eu8(0)}function _t(ve,Ne){if(1&ve&&(l.j41(0,"div",18),l.DNE(1,tt,1,0,"ng-container",19),l.k0s()),2&ve){const ut=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",ut.title)}}function We(ve,Ne){if(1&ve&&(l.j41(0,"div",18),l.EFF(1),l.nI1(2,"async"),l.k0s()),2&ve){const ut=l.XpG(2);l.R7$(),l.JRh(l.bMT(2,1,ut.title))}}function dt(ve,Ne){if(1&ve&&(l.j41(0,"div",16)(1,"strong"),l.DNE(2,_t,2,1,"div",17)(3,We,3,3,"ng-template",null,0,l.C5r),l.k0s()()),2&ve){const ut=l.sdS(4),cn=l.XpG();l.R7$(2),l.Y8G("ngIf",cn.titleIsTemplate)("ngIfElse",ut)}}function it(ve,Ne){1&ve&&l.eu8(0)}function Ge(ve,Ne){if(1&ve&&(l.j41(0,"div",21),l.DNE(1,it,1,0,"ng-container",19),l.k0s()),2&ve){const ut=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",ut.content)}}function gt(ve,Ne){if(1&ve&&(l.j41(0,"div",21),l.EFF(1),l.nI1(2,"async"),l.k0s()),2&ve){const ut=l.XpG(2);l.R7$(),l.JRh(l.bMT(2,1,ut.content))}}function Pe(ve,Ne){if(1&ve&&(l.j41(0,"div",16),l.DNE(1,Ge,2,1,"div",20)(2,gt,3,3,"ng-template",null,1,l.C5r),l.k0s()),2&ve){const ut=l.sdS(3),cn=l.XpG();l.R7$(),l.Y8G("ngIf",cn.contentIsTemplate)("ngIfElse",ut)}}function we(ve,Ne){1&ve&&l.eu8(0)}function vt(ve,Ne){if(1&ve&&(l.j41(0,"div",23),l.DNE(1,we,1,0,"ng-container",19),l.k0s()),2&ve){const ut=l.XpG(2);l.R7$(),l.Y8G("ngTemplateOutlet",ut.content)}}function at(ve,Ne){if(1&ve&&l.nrm(0,"div",24),2&ve){const ut=l.XpG(2);l.Y8G("innerHTML",ut.content,l.npT)}}function nt(ve,Ne){if(1&ve&&(l.j41(0,"div",16),l.DNE(1,vt,2,1,"div",22)(2,at,1,1,"ng-template",null,2,l.C5r),l.k0s()),2&ve){const ut=l.sdS(3),cn=l.XpG();l.R7$(),l.Y8G("ngIf",cn.contentIsTemplate)("ngIfElse",ut)}}let lt=(()=>{class ve{constructor(ut,cn,nn,Mn){this.notificationService=ut,this.domSanitizer=cn,this.cdr=nn,this.zone=Mn,this.notification=null,this.isPaused$=(0,e.of)(!1),this.showProgressBar=!1,this.titleIsTemplate=!1,this.contentIsTemplate=!1,this.htmlIsTemplate=!1,this.progressWidth=0,this.stopTime=!1,this.count=0,this.instance=()=>{this.diff=(new Date).getTime()-this.start-this.count*this.speed,this.isPaused$.pipe((0,m.p)(Tt=>!Tt),(0,p.$)()).subscribe(()=>{this.count++===this.steps?this.remove():this.stopTime||(this.showProgressBar&&(this.progressWidth+=100/this.steps),this.timer=setTimeout(this.instance,this.speed-this.diff)),this.zone.run(()=>this.cdr.detectChanges())})}}ngOnInit(){this.animate=this.notification.options.animate+re.p.In,0!==this.notification.options.timeOut&&(this.startTimeOut(),this.showProgressBar=!0),this.html=this.notification.html,this.contentType(this.notification.title,"title"),this.contentType(this.notification.content,"content")}startTimeOut(){this.steps=this.notification.options.timeOut/10,this.speed=this.notification.options.timeOut/this.steps,this.start=(new Date).getTime(),this.zone.runOutsideAngular(()=>this.timer=setTimeout(this.instance,this.speed))}ngOnDestroy(){clearTimeout(this.timer)}remove(){this.animate?(this.setAnimationOut(),setTimeout(()=>{this.notificationService.remove(this.notification)},1e3)):this.notificationService.remove(this.notification)}contentType(ut,cn){if(ut instanceof l.C4Q)this[cn]=ut;else if("title"===cn||"content"===cn&&!this.html){let nn=null;(0,ne.hj)(ut)&&("string"==typeof ut?nn=(0,e.of)(ut):ut instanceof f.c?nn=ut:"object"==typeof ut&&(0,ne.hj)(ut.value)&&(nn=(0,e.of)(ut.value))),this[cn]=nn}else this[cn]=this.domSanitizer.bypassSecurityTrustHtml(ut);this[cn+"IsTemplate"]=ut instanceof l.C4Q}setAnimationOut(){this.animate=this.notification.options.animate+re.p.Out,this.cdr.detectChanges()}static{this.\u0275fac=function(cn){return new(cn||ve)(l.rXU(Ce.I),l.rXU(Ee.up),l.rXU(l.gRc),l.rXU(l.SKi))}}static{this.\u0275cmp=l.VBU({type:ve,selectors:[["ds-notification"]],inputs:{notification:"notification",isPaused$:"isPaused$"},standalone:!0,features:[l.aNF],decls:11,vars:15,consts:[["regularTitle",""],["regularContent",""],["regularHtml",""],["role","alert"],["class","notification-progress-loader position-absolute w-100",4,"ngIf"],["type","button","class","close pt-0 pr-1 pl-0 pb-0","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"notification-icon","d-flex","justify-content-center"],[3,"ngClass"],[1,"d-flex","flex-column","justify-content-center","align-content-stretch"],["class","p-2 mr-3",4,"ngIf"],[1,"notification-progress-loader","position-absolute","w-100"],[1,"h-100","float-left",3,"ngStyle"],["type","button","data-dismiss","alert","aria-label","Close",1,"close","pt-0","pr-1","pl-0","pb-0",3,"click"],["aria-hidden","true"],[1,"p-2","mr-3"],["class","notification-title pl-1",4,"ngIf","ngIfElse"],[1,"notification-title","pl-1"],[4,"ngTemplateOutlet"],["class","notification-content pl-1",4,"ngIf","ngIfElse"],[1,"notification-content","pl-1"],["class","notification-html pl-1",4,"ngIf","ngIfElse"],[1,"notification-html","pl-1"],[1,"notification-html","pl-1",3,"innerHTML"]],template:function(cn,nn){1&cn&&(l.j41(0,"div",3),l.DNE(1,ye,2,3,"div",4)(2,De,3,0,"button",5),l.j41(3,"div",6)(4,"div",7)(5,"div",8),l.nrm(6,"i",9),l.k0s()(),l.j41(7,"div",10),l.DNE(8,dt,5,2,"div",11)(9,Pe,4,2,"div",11)(10,nt,4,2,"div",11),l.k0s()()()),2&cn&&(l.ZvI("notification alert ",nn.notification.type," alert-dismissible m-3 shadow"),l.Y8G("@enterLeave",nn.animate),l.R7$(),l.Y8G("ngIf",nn.showProgressBar),l.R7$(),l.Y8G("ngIf",nn.notification.options.clickToClose),l.R7$(4),l.Y8G("ngClass",l.ziG(10,ue,"alert-success"===nn.notification.type,"alert-danger"===nn.notification.type,"alert-warning"===nn.notification.type,"alert-info"===nn.notification.type)),l.R7$(2),l.Y8G("ngIf",nn.title),l.R7$(),l.Y8G("ngIf",nn.content&&!nn.html),l.R7$(),l.Y8G("ngIf",nn.content&&nn.html))},dependencies:[t.bT,t.B3,t.YU,t.T3,t.Jj],styles:[".notification{display:inline-block;min-width:var(--bs-modal-sm);text-align:left}.close{outline:none!important;opacity:.8}.notification-icon{min-width:3rem}.notification-progress-loader{top:-1px;left:0;height:1px}.alert-success .notification-progress-loader span{background:var(--ds-notification-bg-success)}.alert-danger .notification-progress-loader span{background:var(--ds-notification-bg-danger)}.alert-info .notification-progress-loader span{background:var(--ds-notification-bg-info)}.alert-warning .notification-progress-loader span{background:var(--ds-notification-bg-warning)}\n"],encapsulation:2,data:{animation:[(0,i.hZ)("enterLeave",[_.e9,_.HT,_.ai,_.wA,y,v,O,C,$,U,G,j,w,h,P,b,J.iP,J.Wk,J.Py,J.B_,q.UE,q.CC,q.L2,q.Ru,Z,H,Y,Q])]},changeDetection:0})}}return ve})()},25871:(N,T,n)=>{"use strict";n.d(T,{s:()=>R});var i=n(60177),t=n(25499),l=n(22458),e=n.n(l),f=n(84412),m=n(7673),p=n(96697),_=n(82777),v=n(25488),y=n(55709),C=n(39806);const O=h=>h.notifications;var I=n(54438);function D(h,w){if(1&h&&I.nrm(0,"ds-notification",2),2&h){const b=w.$implicit,P=I.XpG();I.Y8G("notification",b)("isPaused$",P.isPaused$)}}let R=(()=>{class h{set options(b){this.attachChanges(b)}constructor(b,P,M,L){this.service=b,this.store=P,this.cdr=M,this.liveRegionService=L,this.notifications=[],this.position=["bottom","right"],this.maxStack=8,this.rtl=!1,this.animate="fromRight",this.isPaused$=new f.t(!1)}ngOnInit(){this.sub=this.store.pipe((0,t.Lt)(O)).subscribe(b=>{0===b.length?this.notifications=[]:b.length>this.notifications.length?e()(b,this.notifications).forEach(M=>{this.add(M)}):e()(this.notifications,b).forEach(M=>{this.notifications=this.notifications.filter(L=>L.id!==M.id)}),this.cdr.detectChanges()})}add(b){this.block(b)?this.service.remove(b):(this.notifications.length>=this.maxStack&&this.notifications.splice(this.notifications.length-1,1),this.notifications.splice(0,0,b),this.addContentToLiveRegion(b))}addContentToLiveRegion(b){let P=b.content;!b.options.announceContentInLiveRegion||(0,_.Tn)(P)||("string"==typeof P&&(P=(0,m.of)(P)),P.pipe((0,_.VT)(),(0,p.s)(1)).subscribe(M=>this.liveRegionService.addMessage(M)))}block(b){const P=b.html?this.checkHtml:this.checkStandard;return this.notifications.forEach(M=>{if(P(M,b))return!0}),!1}checkStandard(b,P){return b.type===P.type&&b.title===P.title&&b.content===P.content}checkHtml(b,P){return!!b.html&&b.type===P.type&&b.title===P.title&&b.content===P.content&&b.html===P.html}attachChanges(b){Object.keys(b).forEach(P=>{this.hasOwnProperty(P)&&(this[P]=b[P])})}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(P){return new(P||h)(I.rXU(C.I),I.rXU(t.il),I.rXU(I.gRc),I.rXU(v.A))}}static{this.\u0275cmp=I.VBU({type:h,selectors:[["ds-notifications-board"]],inputs:{options:"options"},standalone:!0,features:[I.aNF],decls:2,vars:2,consts:[[1,"notifications-wrapper","position-fixed",3,"mouseenter","mouseleave","ngClass"],["class","notification",3,"notification","isPaused$",4,"ngFor","ngForOf"],[1,"notification",3,"notification","isPaused$"]],template:function(P,M){1&P&&(I.j41(0,"div",0),I.bIt("mouseenter",function(){return M.isPaused$.next(!0)})("mouseleave",function(){return M.isPaused$.next(!1)}),I.DNE(1,D,1,2,"ds-notification",1),I.k0s()),2&P&&(I.Y8G("ngClass",M.position),I.R7$(),I.Y8G("ngForOf",M.notifications))},dependencies:[i.YU,i.pM,y.z],styles:[".notifications-wrapper{z-index:var(--bs-zindex-popover);text-align:right;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;hyphens:auto}.notifications-wrapper .notification{display:block}.notifications-wrapper.left{left:0}.notifications-wrapper.top{top:0}.notifications-wrapper.right{right:0}.notifications-wrapper.bottom{bottom:0}.notifications-wrapper.center{left:50%;transform:translate(-50%)}.notifications-wrapper.middle{top:50%;transform:translateY(-50%)}.notifications-wrapper.middle.center{transform:translate(-50%,-50%)}@media screen and (max-width: 576px){.notifications-wrapper{width:auto;left:0;right:0}}\n"],encapsulation:2,changeDetection:0})}}return h})()},11568:(N,T,n)=>{"use strict";n.d(T,{Is:()=>t,Sc:()=>l,e0:()=>f,o4:()=>e});var i=n(91e3);const t={NEW_NOTIFICATION:(0,i.N)("dspace/notifications/NEW_NOTIFICATION"),REMOVE_ALL_NOTIFICATIONS:(0,i.N)("dspace/notifications/REMOVE_ALL_NOTIFICATIONS"),REMOVE_NOTIFICATION:(0,i.N)("dspace/notifications/REMOVE_NOTIFICATION")};class l{constructor(p){this.type=t.NEW_NOTIFICATION,this.payload=p}}class e{constructor(p){this.payload=p,this.type=t.REMOVE_ALL_NOTIFICATIONS}}class f{constructor(p){this.type=t.REMOVE_NOTIFICATION,this.payload=p}}},39806:(N,T,n)=>{"use strict";n.d(T,{I:()=>D});var i=n(59519),t=n.n(i),l=n(7673),e=n(61594),f=n(88280),m=n(82777),p=n(4065);class _{constructor(h,w,b,P,M,L){this.id=h,this.type=w,this.title=b,this.content=P,this.options=(0,m.Im)(M)?new p.y:M,this.html=L}}var v=n(3050),y=n(11568),C=n(54438),O=n(25499),I=n(41780);let D=(()=>{class R{constructor(w,b){this.store=w,this.translate=b}add(w){const b=new y.Sc(w);this.store.dispatch(b)}success(w=(0,l.of)(""),b=(0,l.of)(""),P={},M=!1){const L={...this.getDefaultOptions(),...P},B=new _(t()(),v._.Success,w,b,L,M);return this.add(B),B}error(w=(0,l.of)(""),b=(0,l.of)(""),P={},M=!1){const L={...this.getDefaultOptions(),...P},B=new _(t()(),v._.Error,w,b,L,M);return this.add(B),B}info(w=(0,l.of)(""),b=(0,l.of)(""),P={},M=!1){const L={...this.getDefaultOptions(),...P},B=new _(t()(),v._.Info,w,b,L,M);return this.add(B),B}warning(w=(0,l.of)(""),b=(0,l.of)(""),P=this.getDefaultOptions(),M=!1){const L={...this.getDefaultOptions(),...P},B=new _(t()(),v._.Warning,w,b,L,M);return this.add(B),B}notificationWithAnchor(w,b,P,M,L,B){this.translate.get(M).pipe((0,e.$)()).subscribe(U=>{const $=`<a class="align-baseline btn btn-link p-0 m-0" href="${P}" >\n                        <strong>${U}</strong>\n                      </a>`,j=Object.create({});j[B]=$,this.translate.get(L,j).pipe((0,e.$)()).subscribe(G=>{switch(w){case v._.Success:this.success(null,G,b,!0);break;case v._.Error:this.error(null,G,b,!0);break;case v._.Info:this.info(null,G,b,!0);break;case v._.Warning:this.warning(null,G,b,!0)}})})}remove(w){const b=new y.e0(w.id);this.store.dispatch(b)}removeAll(){const w=new y.o4;this.store.dispatch(w)}getDefaultOptions(){return new p.y(f.c.notifications.timeOut,f.c.notifications.clickToClose,f.c.notifications.animate)}static{this.\u0275fac=function(b){return new(b||R)(C.KVO(O.il),C.KVO(I.c$))}}static{this.\u0275prov=C.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}}return R})()},7581:(N,T,n)=>{"use strict";n.d(T,{n:()=>i});var i=function(t){return t[t.None=0]="None",t[t.Link=1]="Link",t[t.ExternalLink=2]="ExternalLink",t}(i||{})},67560:(N,T,n)=>{"use strict";n.d(T,{h:()=>He});var i=n(60177),t=n(54438),l=n(96354),e=n(23294),p=(n(6238),n(1716),n(26292)),_=n(78448),v=n(82777),y=n(41780),C=n(50332),O=n(79632),I=n(82394),D=n(7581),R=n(17191),h=n(5682);function w(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"div",5)(1,"ds-listable-object-component-loader",6),t.bIt("contentChange",function(Et){t.eBV(Je);const qt=t.XpG(2);return t.Njj(qt.contentChange.emit(Et))}),t.k0s()()}if(2&Be){const Je=Pt.$implicit,Nt=t.XpG(2);t.R7$(),t.Y8G("object",Je)("viewMode",Nt.viewMode)("context",Nt.context)("showThumbnails",Nt.showThumbnails)}}function b(Be,Pt){if(1&Be&&(t.j41(0,"div",3),t.DNE(1,w,2,4,"div",4),t.k0s()),2&Be){const Je=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",null==Je.objects||null==Je.objects.payload?null:Je.objects.payload.page)}}function P(Be,Pt){1&Be&&(t.nrm(0,"ds-error",7),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function M(Be,Pt){1&Be&&(t.nrm(0,"ds-loading",7),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let L=(()=>{class Be{constructor(){this.viewMode=_.n.DetailedListElement,this.hideGear=!0,this.hidePagerWhenSinglePage=!0,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.hidePaginationDetail=!0,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB}set objects(Je){this._objects=Je}get objects(){return this._objects}onPageChange(Je){this.pageChange.emit(Je)}onPageSizeChange(Je){this.pageSizeChange.emit(Je)}onSortDirectionChange(Je){this.sortDirectionChange.emit(Je)}onSortFieldChange(Je){this.sortFieldChange.emit(Je)}onPaginationChange(Je){this.paginationChange.emit(Je)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Nt){return new(Nt||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-detail"]],inputs:{config:"config",sortConfig:"sortConfig",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects",hidePaginationDetail:"hidePaginationDetail"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","objects","hideGear","hidePaginationDetail","hidePagerWhenSinglePage","showPaginator"],["class","row mt-2",4,"ngIf"],[3,"message",4,"ngIf"],[1,"row","mt-2"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[3,"contentChange","object","viewMode","context","showThumbnails"],[3,"message"]],template:function(Nt,Et){1&Nt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return Et.onPageChange(fn)})("pageSizeChange",function(fn){return Et.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return Et.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return Et.onSortFieldChange(fn)})("paginationChange",function(fn){return Et.onPaginationChange(fn)})("prev",function(){return Et.goPrev()})("next",function(){return Et.goNext()}),t.DNE(1,b,2,2,"div",1)(2,P,2,3,"ds-error",2)(3,M,2,3,"ds-loading",2),t.k0s()),2&Nt&&(t.Y8G("paginationOptions",Et.config)("collectionSize",null==Et.objects||null==Et.objects.payload?null:Et.objects.payload.totalElements)("sortOptions",Et.sortConfig)("objects",Et.objects)("hideGear",Et.hideGear)("hidePaginationDetail",Et.hidePaginationDetail)("hidePagerWhenSinglePage",Et.hidePagerWhenSinglePage)("showPaginator",Et.showPaginator),t.R7$(),t.Y8G("ngIf",null==Et.objects?null:Et.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",Et.objects.hasFailed),t.R7$(),t.Y8G("ngIf",Et.objects.isLoading))},dependencies:[h.e,i.bT,i.pM,R.v,O.A,I.v,y.h,y.D9],styles:["[_nghost-%COMP%]  div.thumbnail>img{height:var(--ds-card-thumbnail-height);width:100%}"],data:{animation:[C.qG]}})}}return Be})();var B=n(84412),U=n(84572),$=n(99172),j=n(57538),G=n(75465);function z(Be,Pt){if(1&Be&&(t.j41(0,"div",7),t.nI1(1,"dsBrowserOnly"),t.nrm(2,"ds-listable-object-component-loader",8),t.k0s()),2&Be){const Je=Pt.$implicit,Nt=t.XpG(3);t.BMQ("data-test",t.bMT(1,6,"grid-object")),t.R7$(2),t.Y8G("object",Je)("viewMode",Nt.viewMode)("context",Nt.context)("showThumbnails",Nt.showThumbnails)("linkType",Nt.linkType)}}function V(Be,Pt){if(1&Be&&(t.j41(0,"div",5),t.DNE(1,z,3,8,"div",6),t.k0s()),2&Be){const Je=Pt.$implicit;t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("ngForOf",Je)}}function X(Be,Pt){if(1&Be&&(t.j41(0,"div",3),t.DNE(1,V,2,2,"div",4),t.nI1(2,"async"),t.k0s()),2&Be){const Je=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,Je.columns$))}}function J(Be,Pt){1&Be&&(t.nrm(0,"ds-error",9),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function q(Be,Pt){1&Be&&(t.nrm(0,"ds-loading",9),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Z=(()=>{class Be{set objects(Je){this._objects$.next(Je)}get objects(){return this._objects$.getValue()}constructor(Je){this.hostWindow=Je,this.viewMode=_.n.GridElement,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}ngOnInit(){const Je=this.hostWindow.widthCategory.pipe((0,l.T)(Nt=>{switch(Nt){case j.tP.XL:case j.tP.LG:return 3;case j.tP.MD:case j.tP.SM:return 2;default:return 1}}),(0,e.F)()).pipe((0,$.Z)(3));this.columns$=(0,U.z)(Je,this._objects$).pipe((0,l.T)(([Nt,Et])=>{if((0,v.a4)(Et)&&(0,v.a4)(Et.payload)&&(0,v.a4)(Et.payload.page)){const fn=[];return Et.payload.page.forEach((Cn,ns)=>{const hs=ns%Nt;let Gs=fn[hs];(0,v.Tn)(Gs)&&(Gs=[]),fn[hs]=[...Gs,Cn]}),fn}return[]}))}onPageChange(Je){this.pageChange.emit(Je)}onPageSizeChange(Je){this.pageSizeChange.emit(Je)}onSortDirectionChange(Je){this.sortDirectionChange.emit(Je)}onSortFieldChange(Je){this.sortFieldChange.emit(Je)}onPaginationChange(Je){this.paginationChange.emit(Je)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(j.CV))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-grid"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:11,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","card-columns row",4,"ngIf"],[3,"message",4,"ngIf"],[1,"card-columns","row"],["class","card-column col col-sm-6 col-lg-4",4,"ngFor","ngForOf"],[1,"card-column","col","col-sm-6","col-lg-4"],["class","card-element",4,"ngFor","ngForOf"],[1,"card-element"],[3,"object","viewMode","context","showThumbnails","linkType"],[3,"message"]],template:function(Nt,Et){1&Nt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return Et.onPageChange(fn)})("pageSizeChange",function(fn){return Et.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return Et.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return Et.onSortFieldChange(fn)})("paginationChange",function(fn){return Et.onPaginationChange(fn)})("prev",function(){return Et.goPrev()})("next",function(){return Et.goNext()}),t.DNE(1,X,3,3,"div",1)(2,J,2,3,"ds-error",2)(3,q,2,3,"ds-loading",2),t.k0s()),2&Nt&&(t.Y8G("paginationOptions",Et.config)("collectionSize",null==Et.objects||null==Et.objects.payload?null:Et.objects.payload.totalElements)("sortOptions",Et.sortConfig)("hideGear",Et.hideGear)("objects",Et.objects)("hidePagerWhenSinglePage",Et.hidePagerWhenSinglePage)("hidePaginationDetail",Et.hidePaginationDetail)("showPaginator",Et.showPaginator),t.R7$(),t.Y8G("ngIf",null==Et.objects?null:Et.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",Et.objects.hasFailed),t.R7$(),t.Y8G("ngIf",Et.objects.isLoading))},dependencies:[h.e,i.bT,i.pM,R.v,O.A,I.v,i.Jj,y.h,y.D9,G.L],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     div.card{margin-top:var(--ds-wrapper-grid-spacing);margin-bottom:var(--ds-wrapper-grid-spacing)}[_nghost-%COMP%]     div.card div.thumbnail>.thumbnail-content{height:var(--ds-card-thumbnail-height);width:100%;display:block;min-width:100%;min-height:100%;object-fit:cover;object-position:50% 15%}.card-columns[_ngcontent-%COMP%]{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}.card-columns[_ngcontent-%COMP%]   .card-column[_ngcontent-%COMP%]{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"],data:{animation:[C.qG]}})}}return Be})();var H=n(8886);n(52304);const Q=["*"];function ie(Be,Pt){}let oe=(()=>{class Be extends H.J{constructor(){super(...arguments),this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB,this.inAndOutputNames=["config","sortConfig","hasBorder","hideGear","hidePagerWhenSinglePage","selectable","selectionConfig","linkType","context","hidePaginationDetail","importable","importConfig","showPaginator","showThumbnails","contentChange","prev","next","objects","change","pageChange","pageSizeChange","sortDirectionChange","paginationChange","deselectObject","selectObject","importObject","sortFieldChange"]}getComponentName(){return"ObjectListComponent"}importThemedComponent(Je){return n(8894)(`./${Je}/app/shared/object-list/object-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,52304))}static{this.\u0275fac=(()=>{let Je;return function(Et){return(Je||(Je=t.xGo(Be)))(Et||Be)}})()}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:Q,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(Nt,Et){1&Nt&&(t.NAR(),t.DNE(0,ie,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return Be})();var pe=n(7673),ne=n(96697),Ce=(n(96820),n(82522)),Ee=n(7901),ue=n(39012),ae=n(13955);let ye=(()=>{class Be{constructor(){this.showLabel=!0,this.reloadedObject=new t.bkB,this.linkTypes=D.n,this.viewModes=_.n,this.contexts=p.o}static{this.\u0275fac=function(Nt){return new(Nt||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-objects-collection-tabulatable"]],inputs:{objects:"objects",linkType:"linkType",listID:"listID",value:"value",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Nt,Et){},encapsulation:2})}}return Be})(),De=(()=>{class Be extends ye{static{this.\u0275fac=(()=>{let Je;return function(Et){return(Je||(Je=t.xGo(Be)))(Et||Be)}})()}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-search-result-table-element"]],standalone:!0,features:[t.Vt3,t.aNF],decls:0,vars:0,template:function(Nt,Et){},encapsulation:2})}}return Be})();var tt=n(21308),_t=n(44869),We=n(25543),it=(n(3e3),n(52149));const Ge=Be=>({default:Be});function gt(Be,Pt){if(1&Be&&(t.j41(0,"div")(1,"div",9)(2,"div",10),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"div",11),t.EFF(6),t.nI1(7,"translate"),t.k0s()()()),2&Be){let Je;const Nt=Pt.$implicit,Et=t.XpG();t.R7$(3),t.JRh(t.bMT(4,2,Nt+".notify-detail-modal")),t.R7$(3),t.JRh(t.i5U(7,4,"notify-detail-modal."+Et.notifyMessage[Nt],t.eq3(7,Ge,null!==(Je=Et.notifyMessage[Nt])&&void 0!==Je?Je:"n/a")))}}function Pe(Be,Pt){if(1&Be&&t.nrm(0,"pre",12),2&Be){const Je=t.XpG();t.Y8G("@fadeIn",void 0)("innerHTML",Je.notifyMessage.message,t.npT)}}let we=(()=>{class Be{constructor(Je,Nt){this.activeModal=Je,this.translationsService=Nt,this.response=new t.bkB,this.isCoarMessageVisible=!1,this.translationsService.missingTranslationHandler=new We.M}closeModal(){this.activeModal.close(),this.response.emit(!0)}toggleCoarMessage(){this.isCoarMessageVisible=!this.isCoarMessageVisible}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(it.Lw),t.rXU(y.c$))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-admin-notify-detail-modal"]],inputs:{notifyMessage:"notifyMessage",notifyMessageKeys:"notifyMessageKeys"},outputs:{response:"response"},standalone:!0,features:[t.aNF],decls:14,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-4"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn-primary",3,"click"],["class","bg-secondary text-white mt-2 p-2",3,"innerHTML",4,"ngIf"],[1,"row","mb-4"],[1,"font-weight-bold","col"],[1,"col","text-right"],[1,"bg-secondary","text-white","mt-2","p-2",3,"innerHTML"]],template:function(Nt,Et){1&Nt&&(t.j41(0,"div",0)(1,"h4",1),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return Et.activeModal.dismiss("Cross click")}),t.j41(5,"span",3),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",4),t.DNE(8,gt,8,9,"div",5),t.j41(9,"div",6)(10,"button",7),t.bIt("click",function(){return Et.toggleCoarMessage()}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,Pe,1,2,"pre",8),t.k0s()),2&Nt&&(t.R7$(2),t.JRh(t.bMT(3,4,"notify-message-modal.title")),t.R7$(6),t.Y8G("ngForOf",Et.notifyMessageKeys),t.R7$(3),t.SpI(" ",t.bMT(12,6,"notify-message-modal.show-message")," "),t.R7$(2),t.Y8G("ngIf",Et.isCoarMessageVisible))},dependencies:[i.Sq,y.h,y.D9,i.bT],encapsulation:2,data:{animation:[C.qG]}})}}return Be})();var vt=n(88857);function at(Be,Pt){if(1&Be&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&Be){const Je=t.XpG().$implicit;t.R7$(),t.JRh(t.i5U(2,1,Je.queueLastStartTime,"YYYY/MM/d hh:mm:ss"))}}function nt(Be,Pt){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function lt(Be,Pt){if(1&Be&&(t.j41(0,"a",12),t.EFF(1),t.k0s()),2&Be){const Je=t.XpG().$implicit;t.Y8G("routerLink","/items/"+(Je.context||Je.object)),t.R7$(),t.JRh(Je.relatedItem)}}function ve(Be,Pt){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function Ne(Be,Pt){if(1&Be&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&Be){const Je=t.XpG().$implicit;t.R7$(),t.JRh(Je.ldnService)}}function ut(Be,Pt){1&Be&&(t.j41(0,"div"),t.EFF(1,"n/a"),t.k0s())}function cn(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Je);const Et=t.XpG().$implicit,qt=t.XpG();return t.Njj(qt.reprocessMessage(Et))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&Be&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"notify-message-result.reprocess")," "))}function nn(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"tr")(1,"td",2),t.DNE(2,at,3,4,"div",5)(3,nt,2,0,"div",5),t.k0s(),t.j41(4,"td")(5,"ds-truncatable",6)(6,"ds-truncatable-part",7),t.DNE(7,lt,2,2,"a",8),t.k0s()(),t.DNE(8,ve,2,0,"div",5),t.k0s(),t.j41(9,"td"),t.DNE(10,Ne,2,1,"div",5)(11,ut,2,0,"div",5),t.k0s(),t.j41(12,"td")(13,"div"),t.EFF(14),t.k0s()(),t.j41(15,"td")(16,"div",2),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.j41(19,"td")(20,"div",9)(21,"button",10),t.bIt("click",function(){const Et=t.eBV(Je).$implicit,qt=t.XpG();return t.Njj(qt.openDetailModal(Et))}),t.EFF(22),t.nI1(23,"translate"),t.k0s(),t.DNE(24,cn,3,3,"button",11),t.k0s()()()}if(2&Be){const Je=Pt.$implicit,Nt=t.XpG();t.R7$(2),t.Y8G("ngIf",Je.queueLastStartTime),t.R7$(),t.Y8G("ngIf",!Je.queueLastStartTime),t.R7$(2),t.Y8G("id",Je.id),t.R7$(),t.Y8G("id",Je.id)("minLines",2),t.R7$(),t.Y8G("ngIf",Je.relatedItem),t.R7$(),t.Y8G("ngIf",!Je.relatedItem),t.R7$(2),t.Y8G("ngIf",Je.ldnService),t.R7$(),t.Y8G("ngIf",!Je.ldnService),t.R7$(3),t.JRh(Je.activityStreamType),t.R7$(3),t.JRh(t.bMT(18,13,"notify-detail-modal."+Je.queueStatusLabel)),t.R7$(5),t.JRh(t.bMT(23,15,"notify-message-result.detail")),t.R7$(2),t.Y8G("ngIf",Je.queueStatusLabel!==Nt.reprocessStatus&&Nt.validStatusesForReprocess.includes(Je.queueStatusLabel))}}let Mn=(()=>{class Be extends De{constructor(Je,Nt,Et,qt){super(),this.modalService=Je,this.adminNotifyMessagesService=Nt,this.datePipe=Et,this.searchConfigService=qt,this.messagesSubject$=new B.t([]),this.reprocessStatus="QUEUE_STATUS_QUEUED_FOR_RETRY",this.validStatusesForReprocess=["QUEUE_STATUS_UNTRUSTED","QUEUE_STATUS_UNTRUSTED_IP","QUEUE_STATUS_FAILED","QUEUE_STATUS_UNMAPPED_ACTION"],this.subs=[],this.dateTypeKeys=["queueLastStartTime","queueTimeout"],this.messageKeys=["type","id","coarNotifyType","activityStreamType","inReplyTo","queueAttempts","queueLastStartTime","queueStatusLabel","queueTimeout"],this.dateFormat="YYYY/MM/d hh:mm:ss"}ngOnInit(){this.mapDetailsToMessages(),this.subs.push(this.searchConfigService.getCurrentConfiguration("").subscribe(Je=>{this.isInbound=Je.startsWith("NOTIFY.incoming")}))}ngOnDestroy(){this.subs.forEach(Je=>Je.unsubscribe())}openDetailModal(Je){const Nt=this.modalService.open(we),Et={...Je};this.messageKeys.forEach(qt=>{this.dateTypeKeys.includes(qt)&&(Et[qt]=this.datePipe.transform(Et[qt],this.dateFormat))}),Et.message=JSON.stringify(JSON.parse(Je.message),null,2),Nt.componentInstance.notifyMessage=Et,Nt.componentInstance.notifyMessageKeys=this.messageKeys}reprocessMessage(Je){this.subs.push(this.adminNotifyMessagesService.reprocessMessage(Je,this.messagesSubject$).subscribe(Nt=>{this.messagesSubject$.next(Nt)}))}mapDetailsToMessages(){this.subs.push(this.adminNotifyMessagesService.getDetailedMessages(this.objects?.page.map(Je=>Je.indexableObject)).subscribe(Je=>{this.messagesSubject$.next(Je)}))}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(it.Bq),t.rXU(vt.AdminNotifyMessagesService),t.rXU(i.vh),t.rXU(ae.EN))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-admin-notify-search-result"]],standalone:!0,features:[t.Jv_([i.vh,{provide:ae.EN,useClass:ue.g}]),t.Vt3,t.aNF],decls:25,vars:21,consts:[[1,"table-responsive","mt-2"],[1,"table","table-striped","table-hover"],[1,"text-nowrap"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"],[3,"id","minLines"],[3,"routerLink",4,"ngIf"],[1,"d-flex","flex-column"],[1,"btn","mb-2","btn-dark",3,"click"],["class","btn btn-warning",3,"click",4,"ngIf"],[3,"routerLink"],[1,"btn","btn-warning",3,"click"]],template:function(Nt,Et){1&Nt&&(t.j41(0,"div",0)(1,"table",1)(2,"thead")(3,"tr",2)(4,"th",3),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.j41(7,"th",3),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th",3),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th",3),t.EFF(14),t.nI1(15,"translate"),t.k0s(),t.j41(16,"th",3),t.EFF(17),t.nI1(18,"translate"),t.k0s(),t.j41(19,"th",3),t.EFF(20),t.nI1(21,"translate"),t.k0s()()(),t.j41(22,"tbody"),t.DNE(23,nn,25,17,"tr",4),t.nI1(24,"async"),t.k0s()()()),2&Nt&&(t.R7$(5),t.JRh(t.bMT(6,7,"notify-message-result.timestamp")),t.R7$(3),t.JRh(t.bMT(9,9,"notify-message-result.repositoryItem")),t.R7$(3),t.JRh(t.bMT(12,11,"notify-message-result.ldnService")),t.R7$(3),t.JRh(t.bMT(15,13,"notify-message-result.type")),t.R7$(3),t.JRh(t.bMT(18,15,"notify-message-result.status")),t.R7$(3),t.JRh(t.bMT(21,17,"notify-message-result.action")),t.R7$(3),t.Y8G("ngForOf",t.bMT(24,19,Et.messagesSubject$)))},dependencies:[y.h,y.D9,i.Sq,i.bT,i.vh,i.Jj,tt.d,_t.W,Ee.Wk],encapsulation:2})}}return Be})();var Tt=n(40887),$t=n(81569);const St=new Map([[Tt.o,new Map([[_.n.Table,new Map([[p.o.CoarNotify,new Map([[$t.SS,Mn]])]])]])]]);let ln=(()=>{class Be{constructor(Je){this.viewContainerRef=Je}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:Be,selectors:[["","dsTabulatableObjects",""]],standalone:!0})}}return Be})();function It(Be,Pt){}let zt=(()=>{class Be{constructor(Je,Nt){this.cdr=Je,this.themeService=Nt,this.showLabel=!0,this.contentChange=new t.bkB,this.subs=[],this.viewMode=_.n.Table,this.inAndOutputNames=["objects","linkType","listID","showLabel","showThumbnails","context","viewMode","value","hideBadges","contentChange"]}ngOnInit(){this.instantiateComponent(this.objects)}ngOnChanges(Je){(0,v.Tn)(this.compRef)?this.instantiateComponent(this.objects,Je):this.inAndOutputNames.some(Nt=>(0,v.a4)(Je[Nt]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(Je))}ngOnDestroy(){this.subs.filter(Je=>(0,v.a4)(Je)).forEach(Je=>Je.unsubscribe())}instantiateComponent(Je,Nt){const Et=this.getComponent(Je?.page[0]?.getRenderTypes(),this.viewMode,this.context),qt=this.tabulatableObjectsDirective.viewContainerRef;qt.clear(),this.compRef=qt.createComponent(Et,{index:0,injector:void 0}),(0,v.a4)(Nt)?this.ngOnChanges(Nt):this.connectInputsAndOutputs(),this.compRef.instance.reloadedObject&&(0,U.z)([(0,pe.of)(Nt),this.compRef.instance.reloadedObject.pipe((0,ne.s)(1))]).subscribe(([fn,Cn])=>{Cn&&(this.compRef.destroy(),this.objects=Cn,this.instantiateComponent(Cn,fn),this.cdr.detectChanges(),this.contentChange.emit(Cn))})}getComponent(Je,Nt,Et){return function Jt(Be,Pt,Je=$t.A2,Nt=$t.SS){let Et=null;for(const qt of Be){const fn=St.get(qt);if((0,v.a4)(fn)){const Cn=(0,$t.mo)(fn,[Pt,Je,Nt],[$t.e8,$t.A2,$t.SS]);((0,v.Tn)(Et)||Et.isLessRelevantThan(Cn))&&(Et=Cn)}}return(0,v.a4)(Et)?Et.match:null}(Je,Nt,Et,this.themeService.getThemeName())}connectInputsAndOutputs(){(0,v.hj)(this.inAndOutputNames)&&(0,v.a4)(this.compRef)&&(0,v.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(Je=>void 0!==this[Je]).forEach(Je=>{this.compRef.instance[Je]=this[Je]})}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(t.gRc),t.rXU(Ce.Fs))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-tabulatable-objects-loader"]],viewQuery:function(Nt,Et){if(1&Nt&&t.GBs(ln,7),2&Nt){let qt;t.mGM(qt=t.lsd())&&(Et.tabulatableObjectsDirective=qt.first)}},inputs:{objects:"objects",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[t.OA$,t.aNF],decls:1,vars:0,consts:[["dsTabulatableObjects",""]],template:function(Nt,Et){1&Nt&&t.DNE(0,It,0,0,"ng-template",0)},dependencies:[ln],encapsulation:2})}}return Be})();function Ht(Be,Pt){if(1&Be&&(t.j41(0,"div")(1,"div"),t.nrm(2,"ds-tabulatable-objects-loader",3),t.k0s()()),2&Be){const Je=t.XpG();t.R7$(),t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("objects",Je.objects.payload)("context",Je.context)("showThumbnails",Je.showThumbnails)("linkType",Je.linkType)}}function At(Be,Pt){1&Be&&(t.nrm(0,"ds-error",4),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"error.objects"))}function Ot(Be,Pt){1&Be&&(t.nrm(0,"ds-loading",4),t.nI1(1,"translate")),2&Be&&t.FS9("message",t.bMT(1,1,"loading.objects"))}let Zt=(()=>{class Be{set objects(Je){this._objects$.next(Je)}get objects(){return this._objects$.getValue()}constructor(){this.viewMode=_.n.Table,this.showPaginator=!0,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.hidePaginationDetail=!1,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.data={},this._objects$=new B.t(void 0)}onPageChange(Je){this.pageChange.emit(Je)}onPageSizeChange(Je){this.pageSizeChange.emit(Je)}onSortDirectionChange(Je){this.sortDirectionChange.emit(Je)}onSortFieldChange(Je){this.sortFieldChange.emit(Je)}onPaginationChange(Je){this.paginationChange.emit(Je)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Nt){return new(Nt||Be)}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-object-table"]],inputs:{config:"config",sortConfig:"sortConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",objects:"objects"},outputs:{change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:4,vars:12,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","sortOptions","hideGear","objects","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator","retainScrollPosition"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"objects","context","showThumbnails","linkType"],[3,"message"]],template:function(Nt,Et){1&Nt&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(fn){return Et.onPageChange(fn)})("pageSizeChange",function(fn){return Et.onPageSizeChange(fn)})("sortDirectionChange",function(fn){return Et.onSortDirectionChange(fn)})("sortFieldChange",function(fn){return Et.onSortFieldChange(fn)})("paginationChange",function(fn){return Et.onPaginationChange(fn)})("prev",function(){return Et.goPrev()})("next",function(){return Et.goNext()}),t.DNE(1,Ht,3,5,"div",1)(2,At,2,3,"ds-error",2)(3,Ot,2,3,"ds-loading",2),t.k0s()),2&Nt&&(t.Y8G("paginationOptions",Et.config)("collectionSize",null==Et.objects||null==Et.objects.payload?null:Et.objects.payload.totalElements)("sortOptions",Et.sortConfig)("hideGear",Et.hideGear)("objects",Et.objects)("hidePagerWhenSinglePage",Et.hidePagerWhenSinglePage)("hidePaginationDetail",Et.hidePaginationDetail)("showPaginator",Et.showPaginator)("retainScrollPosition",!0),t.R7$(),t.Y8G("ngIf",null==Et.objects?null:Et.objects.hasSucceeded),t.R7$(),t.Y8G("ngIf",null==Et.objects?null:Et.objects.hasFailed),t.R7$(),t.Y8G("ngIf",null==Et.objects?null:Et.objects.isLoading))},dependencies:[h.e,i.bT,I.v,O.A,y.h,y.D9,zt],data:{animation:[C.qG]}})}}return Be})();var Dt=n(74430);function Lt(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"ds-object-list",3),t.bIt("paginationChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPaginationChange(Et))})("pageChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageChange(Et))})("pageSizeChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageSizeChange(Et))})("sortDirectionChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortDirectionChange(Et))})("deselectObject",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.deselectObject.emit(Et))})("selectObject",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.selectObject.emit(Et))})("sortFieldChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortFieldChange(Et))})("importObject",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.importObject.emit(Et))})("contentChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.contentChange.emit(Et))})("prev",function(){t.eBV(Je);const Et=t.XpG();return t.Njj(Et.goPrev())})("next",function(){t.eBV(Je);const Et=t.XpG();return t.Njj(Et.goNext())}),t.k0s()}if(2&Be){const Je=t.XpG();t.Y8G("ngClass",Je.placeholderFontClass)("config",Je.config)("sortConfig",Je.sortConfig)("objects",Je.objects)("hasBorder",Je.hasBorder)("hideGear",Je.hideGear)("linkType",Je.linkType)("context",Je.context)("hidePaginationDetail",Je.hidePaginationDetail)("showPaginator",Je.showPaginator)("showThumbnails",Je.showThumbnails)("selectable",Je.selectable)("selectionConfig",Je.selectionConfig)("importable",Je.importable)("importConfig",Je.importConfig)}}function st(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"ds-object-grid",4),t.bIt("paginationChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPaginationChange(Et))})("pageChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageChange(Et))})("pageSizeChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageSizeChange(Et))})("sortDirectionChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortDirectionChange(Et))})("sortFieldChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortFieldChange(Et))}),t.k0s()}if(2&Be){const Je=t.XpG();t.Y8G("config",Je.config)("sortConfig",Je.sortConfig)("objects",Je.objects)("hideGear",Je.hideGear)("linkType",Je.linkType)("context",Je.context)("hidePaginationDetail",Je.hidePaginationDetail)("showPaginator",Je.showPaginator)("showThumbnails",Je.showThumbnails)}}function Le(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"ds-object-detail",5),t.bIt("contentChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.contentChange.emit(Et))}),t.k0s()}if(2&Be){const Je=t.XpG();t.Y8G("config",Je.config)("sortConfig",Je.sortConfig)("objects",Je.objects)("hideGear",Je.hideGear)("linkType",Je.linkType)("context",Je.context)("hidePaginationDetail",Je.hidePaginationDetail)("showPaginator",Je.showPaginator)("showThumbnails",Je.showThumbnails)}}function je(Be,Pt){if(1&Be){const Je=t.RV6();t.j41(0,"ds-object-table",4),t.bIt("paginationChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPaginationChange(Et))})("pageChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageChange(Et))})("pageSizeChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onPageSizeChange(Et))})("sortDirectionChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortDirectionChange(Et))})("sortFieldChange",function(Et){t.eBV(Je);const qt=t.XpG();return t.Njj(qt.onSortFieldChange(Et))}),t.k0s()}if(2&Be){const Je=t.XpG();t.Y8G("config",Je.config)("sortConfig",Je.sortConfig)("objects",Je.objects)("hideGear",Je.hideGear)("linkType",Je.linkType)("context",Je.context)("hidePaginationDetail",Je.hidePaginationDetail)("showPaginator",Je.showPaginator)("showThumbnails",Je.showThumbnails)}}let He=(()=>{class Be{constructor(Je,Nt,Et,qt,fn){this.cdRef=Je,this.route=Nt,this.router=Et,this.elementRef=qt,this.platformId=fn,this.hasBorder=!1,this.hideGear=!1,this.selectable=!1,this.customEvent=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.contentChange=new t.bkB,this.importable=!1,this.importObject=new t.bkB,this.hidePaginationDetail=!1,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.sortFieldChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.viewModeEnum=_.n}ngOnInit(){this.currentMode$=this.route.queryParams.pipe((0,l.T)(Je=>(0,v.Im)(Je?.view)?_.n.ListElement:Je.view),(0,e.F)()),this.placeholderFontClass=(0,i.UE)(this.platformId)?(0,Dt.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text"}onPageChange(Je){this.pageChange.emit(Je)}onPageSizeChange(Je){this.pageSizeChange.emit(Je)}onSortDirectionChange(Je){this.sortDirectionChange.emit(Je)}onSortFieldChange(Je){this.sortFieldChange.emit(Je)}onPaginationChange(Je){this.paginationChange.emit(Je)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function(Nt){return new(Nt||Be)(t.rXU(t.gRc),t.rXU(Ee.nX),t.rXU(Ee.Ix),t.rXU(t.aKT),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:Be,selectors:[["ds-viewable-collection"]],inputs:{objects:"objects",config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",selectable:"selectable",selectionConfig:"selectionConfig",importable:"importable",importConfig:"importConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",showPaginator:"showPaginator",showThumbnails:"showThumbnails"},outputs:{customEvent:"customEvent",deselectObject:"deselectObject",selectObject:"selectObject",contentChange:"contentChange",importObject:"importObject",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",sortFieldChange:"sortFieldChange",prev:"prev",next:"next"},standalone:!0,features:[t.aNF],decls:8,vars:12,consts:[[3,"ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig","paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange",4,"ngIf"],[3,"config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","contentChange",4,"ngIf"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","deselectObject","selectObject","sortFieldChange","importObject","contentChange","prev","next","ngClass","config","sortConfig","objects","hasBorder","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails","selectable","selectionConfig","importable","importConfig"],[3,"paginationChange","pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"],[3,"contentChange","config","sortConfig","objects","hideGear","linkType","context","hidePaginationDetail","showPaginator","showThumbnails"]],template:function(Nt,Et){1&Nt&&(t.DNE(0,Lt,1,15,"ds-object-list",0),t.nI1(1,"async"),t.DNE(2,st,1,9,"ds-object-grid",1),t.nI1(3,"async"),t.DNE(4,Le,1,9,"ds-object-detail",2),t.nI1(5,"async"),t.DNE(6,je,1,9,"ds-object-table",1),t.nI1(7,"async")),2&Nt&&(t.Y8G("ngIf",t.bMT(1,4,Et.currentMode$)===Et.viewModeEnum.ListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(3,6,Et.currentMode$)===Et.viewModeEnum.GridElement),t.R7$(2),t.Y8G("ngIf",t.bMT(5,8,Et.currentMode$)===Et.viewModeEnum.DetailedListElement),t.R7$(2),t.Y8G("ngIf",t.bMT(7,10,Et.currentMode$)===Et.viewModeEnum.Table))},dependencies:[i.bT,oe,i.YU,Z,L,i.Jj,Zt],styles:["[_nghost-%COMP%]{display:block}"]})}}return Be})()},67604:(N,T,n)=>{"use strict";n.r(T),n.d(T,{AccessStatusBadgeComponent:()=>D});var i=n(60177),t=n(41780),l=n(7673),e=n(96354),f=n(99437),m=n(45022),p=n(88280),v=(n(76829),n(13868)),y=n(82777),C=n(54438);function O(R,h){if(1&R&&(C.j41(0,"span")(1,"span"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&R){const w=h.ngIf,b=C.XpG(2);C.R7$(),C.HbH("badge badge-secondary access-status-list-element-badge "+b.accessStatusClass),C.R7$(),C.JRh(C.bMT(3,3,w))}}function I(R,h){if(1&R&&(C.qex(0),C.DNE(1,O,4,5,"span",0),C.nI1(2,"async"),C.bVm()),2&R){const w=C.XpG();C.R7$(),C.Y8G("ngIf",C.bMT(2,1,w.accessStatus$))}}let D=(()=>{class R{constructor(w){this.accessStatusDataService=w,this.subs=[]}ngOnInit(){if(this.showAccessStatus=p.c.item.showAccessStatuses,this.object.type.toString()!==v.U.value||!this.showAccessStatus||null==this.object)return;const w=this.object;null==w.accessStatus&&(w.accessStatus=this.accessStatusDataService.findAccessStatusFor(w)),this.accessStatus$=w.accessStatus.pipe((0,e.T)(b=>401!==b.statusCode&&(0,y.a4)(b.payload)?b.payload:[]),(0,e.T)(b=>(0,y.a4)(b.status)?b.status:"unknown"),(0,e.T)(b=>`access-status.${b.toLowerCase()}.listelement.badge`),(0,f.W)(()=>(0,l.of)("access-status.unknown.listelement.badge"))),this.subs.push(this.accessStatus$.pipe((0,e.T)(b=>b.replace(/\./g,"-"))).subscribe(b=>{this.accessStatusClass=b}))}ngOnDestroy(){this.subs.filter(w=>(0,y.a4)(w)).forEach(w=>w.unsubscribe())}static{this.\u0275fac=function(b){return new(b||R)(C.rXU(m.AccessStatusDataService))}}static{this.\u0275cmp=C.VBU({type:R,selectors:[["ds-base-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(b,P){1&b&&C.DNE(0,I,3,3,"ng-container",0),2&b&&C.Y8G("ngIf",P.showAccessStatus)},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return R})()},87922:(N,T,n)=>{"use strict";n.d(T,{E:()=>t});const t=new(n(42547).v)("accessStatus")},34272:(N,T,n)=>{"use strict";n.d(T,{I:()=>p}),n(76829);var t=n(8886),e=(n(67604),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"AccessStatusBadgeComponent"}importThemedComponent(y){return n(50822)(`./${y}/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,67604))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-access-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},22285:(N,T,n)=>{"use strict";n.r(T),n.d(T,{BadgesComponent:()=>O});var i=n(60177),t=n(26292),e=(n(76829),n(34272)),f=n(38968),m=n(13760),p=n(74448),_=n(54438);function v(I,D){if(1&I&&(_.qex(0),_.nrm(1,"ds-my-dspace-status-badge",3),_.bVm()),2&I){const R=_.XpG();_.R7$(),_.Y8G("context",R.context)}}function y(I,D){if(1&I&&(_.qex(0),_.nrm(1,"ds-access-status-badge",0),_.bVm()),2&I){const R=_.XpG();_.R7$(),_.Y8G("object",R.object)}}const C=[t.o.MyDSpaceArchived,t.o.MyDSpaceWorkspace,t.o.MyDSpaceWorkflow,t.o.MyDSpaceDeclined,t.o.MyDSpaceApproved,t.o.MyDSpaceWaitingController,t.o.MyDSpaceValidation];let O=(()=>{class I{constructor(){this.showAccessStatus=!1}get isMyDSpaceStatus(){return C.includes(this.context)}static{this.\u0275fac=function(h){return new(h||I)}}static{this.\u0275cmp=_.VBU({type:I,selectors:[["ds-base-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[_.aNF],decls:5,vars:4,consts:[[3,"object"],[4,"ngIf"],[1,"pr-1",3,"object"],[3,"context"]],template:function(h,w){1&h&&(_.nrm(0,"ds-status-badge",0),_.DNE(1,v,2,1,"ng-container",1),_.j41(2,"div"),_.nrm(3,"ds-type-badge",2),_.DNE(4,y,2,1,"ng-container",1),_.k0s()),2&h&&(_.Y8G("object",w.object),_.R7$(),_.Y8G("ngIf",w.isMyDSpaceStatus),_.R7$(2),_.Y8G("object",w.object),_.R7$(),_.Y8G("ngIf",w.showAccessStatus))},dependencies:[m.o,i.bT,f.Q,p.C,e.I]})}}return I})()},14430:(N,T,n)=>{"use strict";n.r(T),n.d(T,{MyDSpaceStatusBadgeComponent:()=>e});var i=n(41780),t=n(26292),l=n(54438);let e=(()=>{class f{ngOnInit(){switch(this.badgeContent=this.context,this.badgeClass="text-light badge ",this.context){case t.o.MyDSpaceValidation:this.badgeClass+="badge-validation";break;case t.o.MyDSpaceWaitingController:this.badgeClass+="badge-waiting-controller";break;case t.o.MyDSpaceWorkspace:this.badgeClass+="badge-workspace";break;case t.o.MyDSpaceArchived:this.badgeClass+="badge-archived";break;case t.o.MyDSpaceWorkflow:this.badgeClass+="badge-workflow"}}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=l.VBU({type:f,selectors:[["ds-base-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[l.aNF],decls:4,vars:4,consts:[[3,"className"]],template:function(_,v){1&_&&(l.j41(0,"div")(1,"span",0),l.EFF(2),l.nI1(3,"translate"),l.k0s()()),2&_&&(l.R7$(),l.Y8G("className",v.badgeClass),l.R7$(),l.SpI(" ",l.bMT(3,2,"mydspace.status."+v.badgeContent)," "))},dependencies:[i.h,i.D9]})}}return f})()},38968:(N,T,n)=>{"use strict";n.d(T,{Q:()=>p}),n(26292);var t=n(8886),e=(n(14430),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["context"]}getComponentName(){return"MyDSpaceStatusBadgeComponent"}importThemedComponent(y){return n(87596)(`./${y}/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,14430))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-my-dspace-status-badge"]],inputs:{context:"context"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},16482:(N,T,n)=>{"use strict";n.r(T),n.d(T,{StatusBadgeComponent:()=>_});var i=n(60177),t=n(41780),e=(n(76829),n(82777)),f=n(54438);function m(v,y){1&v&&(f.j41(0,"div",2)(1,"span",3),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&v&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.private")))}function p(v,y){1&v&&(f.j41(0,"div",4)(1,"span",5),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&v&&(f.R7$(2),f.JRh(f.bMT(3,1,"item.badge.withdrawn")))}let _=(()=>{class v{constructor(){this.privateBadge=!1,this.withdrawnBadge=!1}ngOnInit(){let C=this.object;(0,e.a4)(C.indexableObject)&&(C=C.indexableObject);const O=(0,e.a4)(C);this.privateBadge=O&&(0,e.a4)(C.isDiscoverable)&&!C.isDiscoverable,this.withdrawnBadge=O&&(0,e.a4)(C.isWithdrawn)&&C.isWithdrawn}static{this.\u0275fac=function(O){return new(O||v)}}static{this.\u0275cmp=f.VBU({type:v,selectors:[["ds-base-status-badge"]],inputs:{object:"object"},standalone:!0,features:[f.aNF],decls:2,vars:2,consts:[["class","private-badge",4,"ngIf"],["class","withdrawn-badge",4,"ngIf"],[1,"private-badge"],[1,"badge","badge-danger"],[1,"withdrawn-badge"],[1,"badge","badge-warning"]],template:function(O,I){1&O&&f.DNE(0,m,4,3,"div",0)(1,p,4,3,"div",1),2&O&&(f.Y8G("ngIf",I.privateBadge),f.R7$(),f.Y8G("ngIf",I.withdrawnBadge))},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return v})()},13760:(N,T,n)=>{"use strict";n.d(T,{o:()=>p}),n(76829);var t=n(8886),e=(n(16482),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"StatusBadgeComponent"}importThemedComponent(y){return n(52504)(`./${y}/app/shared/object-collection/shared/badges/status-badge/status-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,16482))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-status-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},55309:(N,T,n)=>{"use strict";n.d(T,{F:()=>_}),n(26292),n(76829);var l=n(8886),f=(n(22285),n(54438));const m=["*"];function p(v,y){}let _=(()=>{class v extends l.J{constructor(){super(...arguments),this.showAccessStatus=!1,this.inAndOutputNames=["object","context","showAccessStatus"]}getComponentName(){return"BadgesComponent"}importThemedComponent(C){return n(70295)(`./${C}/app/shared/object-collection/shared/badges/badges.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,22285))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=f.xGo(v)))(I||v)}})()}static{this.\u0275cmp=f.VBU({type:v,selectors:[["ds-badges"]],inputs:{object:"object",context:"context",showAccessStatus:"showAccessStatus"},standalone:!0,features:[f.Vt3,f.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(f.NAR(),f.DNE(0,p,0,0,"ng-template",null,0,f.C5r),f.j41(2,"div",null,1),f.SdG(4),f.k0s())},encapsulation:2})}}return v})()},74448:(N,T,n)=>{"use strict";n.d(T,{C:()=>p}),n(76829);var t=n(8886),e=(n(3310),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["object"]}getComponentName(){return"TypeBadgeComponent"}importThemedComponent(y){return n(45796)(`./${y}/app/shared/object-collection/shared/badges/type-badge/type-badge.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3310))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-type-badge"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},3310:(N,T,n)=>{"use strict";n.r(T),n.d(T,{TypeBadgeComponent:()=>_});var i=n(60177),t=n(41780),l=n(87891),f=(n(76829),n(82777)),m=n(54438);function p(v,y){if(1&v&&(m.j41(0,"span")(1,"span",1),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&v){const C=m.XpG();m.R7$(2),m.JRh(m.bMT(3,1,C.typeMessage))}}let _=(()=>{class v{set object(C){this._object=C;const O=this._object.getRenderTypes();if(!(0,f.Im)(O.length)){const I=O[0];if(I instanceof Function){const D=(0,l.zA)(C.type);this._typeMessage=(0,f.a4)(D)?`${D.toLowerCase()}.listelement.badge`:`${I.name.toLowerCase()}.listelement.badge`}else this._typeMessage=`${I.toLowerCase()}.listelement.badge`}}get object(){return this._object}get typeMessage(){return this._typeMessage}static{this.\u0275fac=function(O){return new(O||v)}}static{this.\u0275cmp=m.VBU({type:v,selectors:[["ds-base-type-badge"]],inputs:{object:"object"},standalone:!0,features:[m.aNF],decls:1,vars:1,consts:[[4,"ngIf"],[1,"badge","badge-info"]],template:function(O,I){1&O&&m.DNE(0,p,4,3,"span",0),2&O&&m.Y8G("ngIf",I.typeMessage)},dependencies:[i.bT,t.h,t.D9],encapsulation:2})}}return v})()},48622:(N,T,n)=>{"use strict";n.d(T,{t:()=>t});var i=n(78541);class t extends i.q{}},83233:(N,T,n)=>{"use strict";n.d(T,{q:()=>t});var i=n(78541);class t extends i.q{}},66211:(N,T,n)=>{"use strict";n.d(T,{H:()=>t});var i=n(78541);class t extends i.q{}},34532:(N,T,n)=>{"use strict";n.d(T,{y:()=>t});var i=n(78541);class t extends i.q{}},77537:(N,T,n)=>{"use strict";n.d(T,{A:()=>t});var i=n(78541);class t extends i.q{}},17132:(N,T,n)=>{"use strict";n.d(T,{L:()=>t});var i=n(78541);class t extends i.q{}},88261:(N,T,n)=>{"use strict";n.d(T,{$:()=>e});var i=n(54438),t=n(41780);n(22878);let e=(()=>{class f{constructor(){this.importObject=new i.bkB}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-importable-list-item-control"]],inputs:{object:"object",importConfig:"importConfig"},outputs:{importObject:"importObject"},standalone:!0,features:[i.aNF],decls:4,vars:3,consts:[[1,"mr-2"],[1,"btn","btn-outline-primary","btn-sm","float-left",3,"click","title"],[1,"fas","fa-cloud-download-alt","fa-fw"]],template:function(_,v){1&_&&(i.j41(0,"div",0)(1,"button",1),i.nI1(2,"translate"),i.bIt("click",function(){return v.importObject.emit(v.object)}),i.nrm(3,"i",2),i.k0s()()),2&_&&(i.R7$(),i.FS9("title",i.bMT(2,1,null==v.importConfig?null:v.importConfig.buttonLabel)))},dependencies:[t.h,t.D9],encapsulation:2})}}return f})()},27442:(N,T,n)=>{"use strict";n.d(T,{H:()=>e});var i=n(31635),t=n(98688),l=n(78541);let e=class extends l.q{getRenderTypes(){return this.indexableObject.getRenderTypes().map(m=>"string"==typeof m?m+"SearchResult":this.constructor)}};e=(0,i.Cg)([(0,t.ug)(l.q)],e)},22878:(N,T,n)=>{"use strict";n.d(T,{u:()=>t});var i=n(98688);class t extends i._U{}},17191:(N,T,n)=>{"use strict";n.d(T,{v:()=>C});var i=n(54438),t=n(96697),f=(n(26292),n(78448),n(22924)),m=n(82522),v=(n(7581),n(22878),n(81569));function y(O,I){}let C=(()=>{class O extends f.e{constructor(D,R){super(D),this.themeService=D,this.cdr=R,this.showLabel=!0,this.contentChange=new i.bkB,this.inputNamesDependentForComponent=["object","viewMode","context"],this.inputNames=["object","index","context","linkType","listID","showLabel","showThumbnails","viewMode","value"],this.outputNames=["contentChange"]}instantiateComponent(){super.instantiateComponent(),this.compRef.instance.reloadedObject&&this.compRef.instance.reloadedObject.pipe((0,t.s)(1)).subscribe(D=>{D&&(this.destroyComponentInstance(),this.object=D,this.instantiateComponent(),this.cdr.detectChanges(),this.contentChange.emit(D))})}getComponent(){return(0,v.Zx)(this.object.getRenderTypes(),this.viewMode,this.context,this.themeService.getThemeName())}static{this.\u0275fac=function(R){return new(R||O)(i.rXU(m.Fs),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:O,selectors:[["ds-listable-object-component-loader"]],inputs:{object:"object",index:"index",viewMode:"viewMode",context:"context",linkType:"linkType",listID:"listID",showLabel:"showLabel",showThumbnails:"showThumbnails",value:"value"},outputs:{contentChange:"contentChange"},standalone:!0,features:[i.Vt3,i.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(R,h){1&R&&i.DNE(0,y,0,0,"ng-template",1,0,i.C5r)},styles:["[_nghost-%COMP%]{width:100%}"]})}}return O})()},81569:(N,T,n)=>{"use strict";n.d(T,{A2:()=>p,SS:()=>_,VK:()=>O,Zx:()=>I,e8:()=>m,eW:()=>h,mo:()=>D,zD:()=>y});var i=n(54438),t=n(88280),l=n(26292),e=n(78448),f=n(82777);const m=e.n.ListElement,p=l.o.Any,_="*";class v{constructor(b,P,M){this.match=b,this.level=P,this.relevancy=M}isMoreRelevantThan(b){return!!(0,f.Tn)(b)||!(b.level>this.level||b.level===this.level&&b.relevancy>this.relevancy)}isLessRelevantThan(b){return!this.isMoreRelevantThan(b)}}const y=new i.nKC("getThemeConfigFor",{providedIn:"root",factory:()=>R}),C=new Map;function O(w,b,P=p,M=_){return function(B){(0,f.Tn)(w)||((0,f.Tn)(C.get(w))&&C.set(w,new Map),(0,f.Tn)(C.get(w).get(b))&&C.get(w).set(b,new Map),(0,f.Tn)(C.get(w).get(b).get(P))&&C.get(w).get(b).set(P,new Map),C.get(w).get(b).get(P).set(M,B))}}function I(w,b,P=p,M=_){let L=null;for(const B of w){const U=C.get(B);if((0,f.a4)(U)){const $=D(U,[b,P,M],[m,p,_]);((0,f.Tn)(L)||L.isLessRelevantThan($))&&(L=$)}}return(0,f.a4)(L)?L.match:null}function D(w,b,P){let M=w,L=-1,B=0;for(let U=0;U<b.length;U++){let $=P[U]===_?h(M,b[U]):M.get(b[U]);if((0,f.Tn)($)?($=M.get(P[U]),-1===L&&(L=U)):B++,!(0,f.a4)($))return null;if(!($ instanceof Map))return new v($,L>-1?L:U+1,B);M=$}return null}const R=w=>t.c.themes.find(b=>b.name===w),h=(w,b,P=[])=>{const M=w.get(b);if((0,f.a4)(M))return M;{const L=R(b);if((0,f.a4)(L)&&(0,f.hj)(L.extends)){const B=L.extends,U=[...P,b];if(P.includes(B))throw new Error("Theme extension cycle detected: "+[...U,B].join(" -> "));return h(w,B,U)}}}},47598:(N,T,n)=>{"use strict";n.d(T,{b:()=>R});var i=n(60177),t=n(7901),l=n(41780),e=n(983),f=n(73028),m=n(96354),p=n(96526),_=n(1321),v=n(80183),y=n(82777),C=n(67600),O=n(54438);const I=h=>["/collections",h];function D(h,w){if(1&h&&(O.j41(0,"div",1)(1,"span",2),O.EFF(2),O.nI1(3,"translate"),O.j41(4,"a",3),O.nI1(5,"async"),O.EFF(6),O.nI1(7,"async"),O.k0s()()()),2&h){let b;const P=O.XpG();O.R7$(2),O.SpI("",O.bMT(3,3,"collection.listelement.badge"),": "),O.R7$(2),O.Y8G("routerLink",O.eq3(9,I,null==(b=O.bMT(5,5,P.collection$))?null:b.id)),O.R7$(2),O.SpI(" ",P.dsoNameService.getName(O.bMT(7,7,P.collection$))," ")}}let R=(()=>{class h{constructor(b,P){this.linkService=b,this.dsoNameService=P}ngOnInit(){this.linkService.resolveLinks(this.object,(0,C.s)("workflowitem",{isOptional:!0},(0,C.s)("collection",{}))),this.collection$=this.object.workflowitem.pipe((0,v.qD)(),(0,f.Z)(b=>b.hasSucceeded&&(0,y.hj)(b.payload)?b.payload.collection.pipe((0,v.qD)(),(0,m.T)(P=>P.hasSucceeded&&(0,y.hj)(P.payload)?P.payload:null)):e.w))}static{this.\u0275fac=function(P){return new(P||h)(O.rXU(_._),O.rXU(p.f))}}static{this.\u0275cmp=O.VBU({type:h,selectors:[["ds-item-collection"]],inputs:{object:"object"},standalone:!0,features:[O.aNF],decls:2,vars:3,consts:[["class","mt-2 mb-2",4,"ngIf"],[1,"mt-2","mb-2"],[1,"text-muted"],[3,"routerLink"]],template:function(P,M){1&P&&(O.DNE(0,D,8,11,"div",0),O.nI1(1,"async")),2&P&&O.Y8G("ngIf",O.bMT(1,1,M.collection$))},dependencies:[i.bT,t.Wk,i.Jj,l.h,l.D9]})}}return h})()},21546:(N,T,n)=>{"use strict";n.d(T,{s:()=>h});var i=n(60177),t=n(41780),l=n(983),e=n(73028),f=n(96354),m=n(96526),p=n(1321),_=n(80183),v=n(82777),y=n(67600),C=n(54438);function O(w,b){if(1&w&&(C.qex(0),C.EFF(1),C.bVm()),2&w){const P=b.ngIf,M=C.XpG();C.R7$(),C.SpI(" ",M.dsoNameService.getName(P)," ")}}function I(w,b){1&w&&(C.EFF(0),C.nI1(1,"translate")),2&w&&C.SpI(" ",C.bMT(1,1,"submitter.empty")," ")}function D(w,b){if(1&w&&(C.qex(0),C.EFF(1),C.bVm()),2&w){const P=b.ngIf;C.R7$(),C.SpI(" ",P.email," ")}}function R(w,b){1&w&&(C.EFF(0),C.nI1(1,"translate")),2&w&&C.SpI(" ",C.bMT(1,1,"submitter.email.empty")," ")}let h=(()=>{class w{constructor(P,M){this.dsoNameService=P,this.linkService=M}ngOnInit(){this.linkService.resolveLinks(this.object,(0,y.s)("workflowitem",{},(0,y.s)("submitter",{}))),this.submitter$=this.object.workflowitem.pipe((0,_.qD)(),(0,e.Z)(P=>P.hasSucceeded&&(0,v.hj)(P.payload)?P.payload.submitter.pipe((0,_.qD)(),(0,f.T)(M=>M.hasSucceeded&&(0,v.hj)(M.payload)?M.payload:null)):l.w))}static{this.\u0275fac=function(M){return new(M||w)(C.rXU(m.f),C.rXU(p._))}}static{this.\u0275cmp=C.VBU({type:w,selectors:[["ds-item-submitter"]],inputs:{object:"object"},standalone:!0,features:[C.aNF],decls:18,vars:14,consts:[["noSubmitter",""],["noEmail",""],[1,"mt-2","mb-2"],[1,"text-muted"],[1,"badge","badge-info"],[4,"ngIf","ngIfElse"]],template:function(M,L){if(1&M&&(C.j41(0,"div",2)(1,"span",3),C.EFF(2),C.nI1(3,"translate"),C.j41(4,"span",4),C.DNE(5,O,2,1,"ng-container",5),C.nI1(6,"async"),C.DNE(7,I,2,3,"ng-template",null,0,C.C5r),C.k0s()(),C.nrm(9,"br"),C.j41(10,"span",3),C.EFF(11),C.nI1(12,"translate"),C.j41(13,"span",4),C.DNE(14,D,2,1,"ng-container",5),C.nI1(15,"async"),C.DNE(16,R,2,3,"ng-template",null,1,C.C5r),C.k0s()()()),2&M){const B=C.sdS(8),U=C.sdS(17);C.R7$(2),C.SpI(" ",C.bMT(3,6,"submission.workflow.tasks.generic.submitter"),": "),C.R7$(3),C.Y8G("ngIf",C.bMT(6,8,L.submitter$))("ngIfElse",B),C.R7$(6),C.SpI(" ",C.bMT(12,10,"submission.workflow.tasks.generic.submitter.email"),": "),C.R7$(3),C.Y8G("ngIf",C.bMT(15,12,L.submitter$))("ngIfElse",U)}},dependencies:[i.bT,i.Jj,t.h,t.D9]})}}return w})()},73584:(N,T,n)=>{"use strict";n.d(T,{C:()=>m});var i=n(54438),t=n(96526),l=n(26292),e=n(78448),f=n(7581);let m=(()=>{class p{constructor(v){this.dsoNameService=v,this.showLabel=!0,this.reloadedObject=new i.bkB,this.linkTypes=f.n,this.viewModes=e.n,this.contexts=l.o}static{this.\u0275fac=function(y){return new(y||p)(i.rXU(t.f))}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-abstract-object-element"]],inputs:{object:"object",linkType:"linkType",listID:"listID",value:"value",index:"index",showLabel:"showLabel",showThumbnails:"showThumbnails",context:"context",viewMode:"viewMode"},outputs:{reloadedObject:"reloadedObject"},standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(y,C){},encapsulation:2})}}return p})()},24205:(N,T,n)=>{"use strict";n.d(T,{d:()=>t});var i=n(78541);class t extends i.q{}},35323:(N,T,n)=>{"use strict";n.d(T,{Y:()=>D});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(65245),m=n(96697),p=n(96354),_=n(13329),v=n(18226);function C(R,h){if(1&R){const w=t.RV6();t.j41(0,"input",4,0),t.nI1(2,"async"),t.nI1(3,"translate"),t.bIt("ngModelChange",function(P){t.eBV(w);const M=t.XpG(2);return t.Njj(M.selectCheckbox(P))}),t.k0s()}if(2&R){const w=t.sdS(1),b=t.XpG(2);t.Y8G("name","checkbox"+b.index)("id","object"+b.index)("ngModel",t.bMT(2,4,b.selected$)),t.BMQ("aria-label",t.bMT(3,6,w.checked?"selectable-list-item-control.deselect":"selectable-list-item-control.select"))}}function O(R,h){if(1&R){const w=t.RV6();t.j41(0,"input",5),t.nI1(1,"async"),t.nI1(2,"translate"),t.bIt("click",function(){t.eBV(w);const P=t.XpG().ngVar,M=t.XpG();return t.Njj(M.selectRadio(!P))}),t.k0s()}if(2&R){const w=t.XpG(2);t.Y8G("name","radio"+w.index)("id","object"+w.index)("checked",t.bMT(1,4,w.selected$)),t.BMQ("aria-label",t.bMT(2,6,"selectable-list-item-control.select"))}}function I(R,h){if(1&R&&(t.qex(0),t.DNE(1,C,4,8,"input",2)(2,O,3,8,"input",3),t.bVm()),2&R){const w=t.XpG();t.R7$(),t.Y8G("ngIf",w.selectionConfig.repeatable),t.R7$(),t.Y8G("ngIf",!w.selectionConfig.repeatable)}}n(22878);let D=(()=>{class R{constructor(w){this.selectionService=w,this.deselectObject=new t.bkB,this.selectObject=new t.bkB}ngOnInit(){this.selected$=this.selectionService.isObjectSelected(this.selectionConfig.listId,this.object),this.selected$.pipe((0,f.i)(1)).subscribe(w=>{w?this.selectObject.emit(this.object):this.deselectObject.emit(this.object)})}selectCheckbox(w){w?this.selectionService.selectSingle(this.selectionConfig.listId,this.object):this.selectionService.deselectSingle(this.selectionConfig.listId,this.object)}selectRadio(w){w&&this.selectionService.getSelectableList(this.selectionConfig.listId).pipe((0,m.s)(1),(0,p.T)(P=>P?P.selection:[])).subscribe(P=>{P.forEach(M=>{this.selectionService.deselectSingle(this.selectionConfig.listId,M),this.deselectObject.emit(M)}),this.selectionService.selectSingle(this.selectionConfig.listId,this.object),this.selectObject.emit(this.object)})}static{this.\u0275fac=function(b){return new(b||R)(t.rXU(_.K))}}static{this.\u0275cmp=t.VBU({type:R,selectors:[["ds-selectable-list-item-control"]],inputs:{object:"object",selectionConfig:"selectionConfig",index:"index"},outputs:{deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["selectListItemCheckbox",""],[4,"ngVar"],["class","form-check-input","type","checkbox",3,"name","id","ngModel","ngModelChange",4,"ngIf"],["class","form-check-input mt-2","type","radio",3,"name","id","checked","click",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],["type","radio",1,"form-check-input","mt-2",3,"click","name","id","checked"]],template:function(b,P){1&b&&(t.DNE(0,I,3,2,"ng-container",1),t.nI1(1,"async")),2&b&&t.Y8G("ngVar",t.bMT(1,1,null==P.selectionService?null:P.selectionService.isObjectSelected(null==P.selectionConfig?null:P.selectionConfig.listId,P.object)))},dependencies:[v.r,i.bT,l.YN,l.Zm,l.BC,l.vS,i.Jj,e.h,e.D9],encapsulation:2})}}return R})()},38786:(N,T,n)=>{"use strict";n.d(T,{q:()=>t});var i=n(78541);class t extends i.q{}},95010:(N,T,n)=>{"use strict";n.d(T,{I:()=>t});var i=n(78541);class t extends i.q{}},3736:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ItemDetailPreviewFieldComponent:()=>O});var i=n(60177),t=n(41780),e=(n(88318),n(39552)),f=n(79222),p=(n(78541),n(54438));function _(I,D){if(1&I&&p.nrm(0,"span",4),2&I){const R=p.XpG(3);p.Y8G("innerHTML",R.separator,p.npT)}}function v(I,D){if(1&I&&(p.j41(0,"span"),p.EFF(1),p.DNE(2,_,1,1,"span",3),p.k0s()),2&I){const R=D.$implicit,h=D.last;p.R7$(),p.SpI(" ",R,""),p.R7$(),p.Y8G("ngIf",!h)}}function y(I,D){if(1&I&&(p.qex(0),p.DNE(1,v,3,2,"span",2),p.bVm()),2&I){const R=p.XpG();p.R7$(),p.Y8G("ngForOf",R.allMetadataValues(R.metadata))}}function C(I,D){if(1&I&&(p.qex(0),p.j41(1,"span",5),p.EFF(2),p.nI1(3,"translate"),p.k0s(),p.bVm()),2&I){const R=p.XpG();p.R7$(2),p.JRh(p.bMT(3,1,R.placeholder))}}let O=(()=>{class I{allMetadataValues(R){return e.O.allValues([this.object.hitHighlights,this.item.metadata],R)}static{this.\u0275fac=function(h){return new(h||I)}}static{this.\u0275cmp=p.VBU({type:I,selectors:[["ds-base-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[p.aNF],decls:4,vars:5,consts:[[3,"label"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"]],template:function(h,w){1&h&&(p.j41(0,"ds-metadata-field-wrapper",0),p.nI1(1,"translate"),p.DNE(2,y,2,1,"ng-container",1)(3,C,4,3,"ng-container",1),p.k0s()),2&h&&(p.Y8G("label",p.bMT(1,3,w.label)),p.R7$(2),p.Y8G("ngIf",w.item.hasMetadata(w.metadata)),p.R7$(),p.Y8G("ngIf",!w.item.hasMetadata(w.metadata)))},dependencies:[f.Q,i.pM,i.bT,t.h,t.D9],encapsulation:2})}}return I})()},89177:(N,T,n)=>{"use strict";n.d(T,{f:()=>t});const t=new(n(42547).v)("identifiers")},51805:(N,T,n)=>{"use strict";n.d(T,{t:()=>m});var i=n(31635),t=n(21921),l=n(3050),e=n(22878),f=n(83851);let m=class extends e.u{static{this.type=f.t}constructor(_=l._.Error,v="listable-notification-object.default-message",...y){super(),this.notificationType=_,this.message=v,this.type=f.t,this.renderTypes=y}getRenderTypes(){return[...this.renderTypes,this.constructor]}};m=(0,i.Cg)([t.gV,(0,i.Sn)("design:paramtypes",[String,String,String])],m)},83851:(N,T,n)=>{"use strict";n.d(T,{t:()=>t});const t=new(n(42547).v)("listable-notification-object")},56577:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ItemListPreviewComponent:()=>V});var i=n(60177),t=n(41780),f=(n(26292),n(25567),n(82640)),m=n(96526),_=(n(88318),n(97402)),v=n(50332),y=n(55309),C=n(47598),O=n(21546),D=(n(78541),n(21308)),R=n(44869),h=n(54438);const w=X=>({lead:!0,"text-muted":X}),b=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],P=X=>({"text-muted":X});function M(X,J){if(1&X&&(h.j41(0,"div",4),h.nrm(1,"ds-thumbnail",5),h.nI1(2,"async"),h.k0s()),2&X){const q=h.XpG();h.R7$(),h.Y8G("thumbnail",h.bMT(2,2,null==q.item?null:q.item.thumbnail))("limitWidth",!0)}}function L(X,J){if(1&X&&h.nrm(0,"span",19),2&X){const q=h.XpG(2);h.Y8G("innerHTML",q.item.firstMetadataValue("dc.publisher")+", ",h.npT)}}function B(X,J){1&X&&(h.j41(0,"span"),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&X&&(h.R7$(),h.JRh(h.bMT(2,1,"mydspace.results.no-authors")))}function U(X,J){1&X&&(h.j41(0,"span"),h.EFF(1,"; "),h.k0s())}function $(X,J){if(1&X&&(h.j41(0,"span")(1,"span",22),h.nrm(2,"span",22),h.k0s(),h.DNE(3,U,2,0,"span",3),h.k0s()),2&X){const q=J.$implicit,Z=J.last;h.R7$(),h.Y8G("innerHTML",q,h.npT),h.R7$(),h.Y8G("innerHTML",q,h.npT),h.R7$(),h.Y8G("ngIf",!Z)}}function j(X,J){if(1&X&&(h.j41(0,"span",20),h.DNE(1,B,3,3,"span",3)(2,$,4,3,"span",21),h.k0s()),2&X){const q=h.XpG(2);h.R7$(),h.Y8G("ngIf",0===q.item.allMetadataValues(h.lJ4(2,b)).length),h.R7$(),h.Y8G("ngForOf",q.item.allMetadataValues(h.lJ4(3,b)))}}function G(X,J){if(1&X&&h.nrm(0,"ds-item-submitter",18),2&X){const q=h.XpG(2);h.Y8G("object",q.object.indexableObject)}}function z(X,J){if(1&X&&(h.j41(0,"div")(1,"div",6),h.nrm(2,"ds-badges",7),h.k0s(),h.j41(3,"ds-truncatable",8),h.nrm(4,"h2",9),h.j41(5,"div")(6,"span",10)(7,"ds-truncatable-part",11),h.EFF(8," ("),h.DNE(9,L,1,1,"span",12),h.nrm(10,"span",13),h.nI1(11,"translate"),h.EFF(12,") "),h.DNE(13,j,3,4,"span",14),h.k0s()(),h.j41(14,"ds-truncatable-part",15),h.nrm(15,"span",16),h.nI1(16,"translate"),h.k0s()()(),h.DNE(17,G,1,1,"ds-item-submitter",17),h.nrm(18,"ds-item-collection",18),h.k0s()),2&X){const q=h.XpG();h.Y8G("@fadeInOut",void 0),h.R7$(2),h.Y8G("object",q.item)("context",q.badgeContext)("showAccessStatus",!0),h.R7$(),h.Y8G("id",q.item.id),h.R7$(),h.Y8G("innerHTML",q.dsoTitle,h.npT)("ngClass",h.eq3(22,w,!q.item.firstMetadataValue("dc.title"))),h.R7$(3),h.Y8G("id",q.item.id)("minLines",1),h.R7$(2),h.Y8G("ngIf",q.item.hasMetadata("dc.publisher")),h.R7$(),h.Y8G("innerHTML",q.item.firstMetadataValue("dc.date.issued")||h.bMT(11,18,"mydspace.results.no-date"),h.npT),h.R7$(3),h.Y8G("ngIf",q.item.hasMetadata(h.lJ4(24,b))),h.R7$(),h.Y8G("id",q.item.id)("minLines",1),h.R7$(),h.Y8G("ngClass",h.eq3(25,P,!q.item.firstMetadataValue("dc.description.abstract")))("innerHTML",q.item.firstMetadataValue("dc.description.abstract")||h.bMT(16,20,"mydspace.results.no-abstract"),h.npT),h.R7$(2),h.Y8G("ngIf",q.showSubmitter),h.R7$(),h.Y8G("object",q.object.indexableObject)}}let V=(()=>{class X{constructor(q,Z){this.appConfig=q,this.dsoNameService=Z,this.showSubmitter=!1}ngOnInit(){this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.item)}static{this.\u0275fac=function(Z){return new(Z||X)(h.rXU(f.vQ),h.rXU(m.f))}}static{this.\u0275cmp=h.VBU({type:X,selectors:[["ds-base-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[h.aNF],decls:4,vars:3,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[1,"col-3","col-md-2"],[3,"thumbnail","limitWidth"],[1,"d-flex"],[3,"object","context","showAccessStatus"],[3,"id"],[3,"innerHTML","ngClass"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],[1,"item-list-date",3,"innerHTML"],["class","item-list-authors",4,"ngIf"],[1,"item-list-abstract",3,"id","minLines"],[3,"ngClass","innerHTML"],[3,"object",4,"ngIf"],[3,"object"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Z,H){1&Z&&(h.j41(0,"div",0),h.DNE(1,M,3,4,"div",1),h.j41(2,"div",2),h.DNE(3,z,19,27,"div",3),h.k0s()()),2&Z&&(h.R7$(),h.Y8G("ngIf",H.showThumbnails),h.R7$(),h.Y8G("ngClass",H.showThumbnails?"col-9":"col-md-12"),h.R7$(),h.Y8G("ngIf",H.item))},dependencies:[i.Jj,C.b,O.s,i.YU,i.pM,i.bT,y.F,_.T,t.h,t.D9,D.d,R.W],data:{animation:[v.Ws]}})}}return X})()},52304:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ObjectListComponent:()=>M});var i=n(60177),t=n(54438),m=(n(6238),n(1716),n(26292),n(78448)),p=n(50332),v=(n(7581),n(88261)),y=n(17191),C=n(35323),O=n(5682),I=n(75465),D=n(13329);const R=L=>({"ml-4":L});function h(L,B){if(1&L){const U=t.RV6();t.j41(0,"ds-selectable-list-item-control",8),t.bIt("deselectObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.deselectObject.emit(j))})("selectObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.selectObject.emit(j))}),t.k0s()}if(2&L){const U=t.XpG(),$=U.$implicit,j=U.index,G=t.XpG(2);t.Y8G("index",j)("object",$)("selectionConfig",G.selectionConfig)}}function w(L,B){if(1&L){const U=t.RV6();t.j41(0,"ds-importable-list-item-control",9),t.bIt("importObject",function(j){t.eBV(U);const G=t.XpG(3);return t.Njj(G.importObject.emit(j))}),t.k0s()}if(2&L){const U=t.XpG().$implicit,$=t.XpG(2);t.Y8G("object",U)("importConfig",$.importConfig)}}function b(L,B){if(1&L){const U=t.RV6();t.j41(0,"li",4),t.nI1(1,"dsBrowserOnly"),t.DNE(2,h,1,3,"ds-selectable-list-item-control",5)(3,w,1,2,"ds-importable-list-item-control",6),t.j41(4,"ds-listable-object-component-loader",7),t.bIt("contentChange",function(j){t.eBV(U);const G=t.XpG(2);return t.Njj(G.contentChange.emit(j))}),t.k0s()()}if(2&L){const U=B.$implicit,$=B.index,j=B.last,G=t.XpG(2);t.AVh("border-bottom",G.hasBorder&&!j),t.BMQ("data-test",t.bMT(1,11,"list-object")),t.R7$(2),t.Y8G("ngIf",G.selectable),t.R7$(),t.Y8G("ngIf",G.importable),t.R7$(),t.Y8G("object",U)("viewMode",G.viewMode)("index",$)("context",G.context)("linkType",G.linkType)("listID",null==G.selectionConfig?null:G.selectionConfig.listId)}}function P(L,B){if(1&L&&(t.j41(0,"ul",2),t.DNE(1,b,5,13,"li",3),t.k0s()),2&L){const U=t.XpG();t.Y8G("ngClass",t.eq3(2,R,U.selectable)),t.R7$(),t.Y8G("ngForOf",null==U.objects||null==U.objects.payload?null:U.objects.payload.page)}}let M=(()=>{class L{set objects(U){this._objects=U}get objects(){return this._objects}constructor(U){this.selectionService=U,this.viewMode=m.n.ListElement,this.hasBorder=!1,this.hideGear=!1,this.hidePagerWhenSinglePage=!0,this.selectable=!1,this.hidePaginationDetail=!1,this.importable=!1,this.showPaginator=!0,this.contentChange=new t.bkB,this.prev=new t.bkB,this.next=new t.bkB,this.change=new t.bkB,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.paginationChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.importObject=new t.bkB,this.sortFieldChange=new t.bkB}onPageChange(U){this.pageChange.emit(U)}onPageSizeChange(U){this.pageSizeChange.emit(U)}onSortDirectionChange(U){this.sortDirectionChange.emit(U)}onSortFieldChange(U){this.sortFieldChange.emit(U)}onPaginationChange(U){this.paginationChange.emit(U)}goPrev(){this.prev.emit(!0)}goNext(){this.next.emit(!0)}static{this.\u0275fac=function($){return new($||L)(t.rXU(D.K))}}static{this.\u0275cmp=t.VBU({type:L,selectors:[["ds-base-object-list"]],inputs:{config:"config",sortConfig:"sortConfig",hasBorder:"hasBorder",hideGear:"hideGear",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",selectable:"selectable",selectionConfig:"selectionConfig",linkType:"linkType",context:"context",hidePaginationDetail:"hidePaginationDetail",importable:"importable",importConfig:"importConfig",showPaginator:"showPaginator",showThumbnails:"showThumbnails",objects:"objects"},outputs:{contentChange:"contentChange",prev:"prev",next:"next",change:"change",pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",paginationChange:"paginationChange",deselectObject:"deselectObject",selectObject:"selectObject",importObject:"importObject",sortFieldChange:"sortFieldChange"},standalone:!0,features:[t.aNF],decls:2,vars:9,consts:[[3,"pageChange","pageSizeChange","sortDirectionChange","sortFieldChange","paginationChange","prev","next","paginationOptions","collectionSize","objects","sortOptions","hideGear","hidePagerWhenSinglePage","hidePaginationDetail","showPaginator"],["class","list-unstyled","data-test","objects",3,"ngClass",4,"ngIf"],["data-test","objects",1,"list-unstyled",3,"ngClass"],["class","mt-4 mb-4 d-flex",3,"border-bottom",4,"ngFor","ngForOf"],[1,"mt-4","mb-4","d-flex"],[3,"index","object","selectionConfig","deselectObject","selectObject",4,"ngIf"],[3,"object","importConfig","importObject",4,"ngIf"],[3,"contentChange","object","viewMode","index","context","linkType","listID"],[3,"deselectObject","selectObject","index","object","selectionConfig"],[3,"importObject","object","importConfig"]],template:function($,j){1&$&&(t.j41(0,"ds-pagination",0),t.bIt("pageChange",function(z){return j.onPageChange(z)})("pageSizeChange",function(z){return j.onPageSizeChange(z)})("sortDirectionChange",function(z){return j.onSortDirectionChange(z)})("sortFieldChange",function(z){return j.onSortFieldChange(z)})("paginationChange",function(z){return j.onPaginationChange(z)})("prev",function(){return j.goPrev()})("next",function(){return j.goNext()}),t.DNE(1,P,2,4,"ul",1),t.k0s()),2&$&&(t.Y8G("paginationOptions",j.config)("collectionSize",null==j.objects||null==j.objects.payload?null:j.objects.payload.totalElements)("objects",j.objects)("sortOptions",j.sortConfig)("hideGear",j.hideGear)("hidePagerWhenSinglePage",j.hidePagerWhenSinglePage)("hidePaginationDetail",j.hidePaginationDetail)("showPaginator",j.showPaginator),t.R7$(),t.Y8G("ngIf",null==j.objects?null:j.objects.hasSucceeded))},dependencies:[O.e,i.bT,i.YU,i.pM,C.Y,v.$,y.v,I.L],styles:["ds-selectable-list-item-control[_ngcontent-%COMP%]{z-index:1}"],data:{animation:[p.qG]}})}}return L})()},94418:(N,T,n)=>{"use strict";n.d(T,{k:()=>q});var i=n(31635),t=n(60177),l=n(7901),e=n(78448),f=n(90887),m=n(97402),p=n(55309),_=n(27442),v=n(81569),y=n(21308),C=n(44869),O=n(79411),I=n(54438);const D=Z=>[Z],R=()=>["dc.contributor.author","dc.creator","dc.contributor.*"];function h(Z,H){if(1&Z&&(I.j41(0,"a",9),I.nrm(1,"ds-thumbnail",10),I.nI1(2,"async"),I.k0s()),2&Z){const Y=I.XpG(2);I.Y8G("target",Y.linkType===Y.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(7,D,Y.itemPageRoute)),I.BMQ("rel",Y.linkType===Y.linkTypes.ExternalLink?"noopener noreferrer":null),I.R7$(),I.Y8G("thumbnail",I.bMT(2,5,null==Y.dso?null:Y.dso.thumbnail))("limitWidth",!0)}}function w(Z,H){if(1&Z&&(I.j41(0,"span",11),I.nrm(1,"ds-thumbnail",10),I.nI1(2,"async"),I.k0s()),2&Z){const Y=I.XpG(2);I.R7$(),I.Y8G("thumbnail",I.bMT(2,2,null==Y.dso?null:Y.dso.thumbnail))("limitWidth",!0)}}function b(Z,H){if(1&Z&&(I.j41(0,"div",6),I.DNE(1,h,3,9,"a",7)(2,w,3,4,"span",8),I.k0s()),2&Z){const Y=I.XpG();I.R7$(),I.Y8G("ngIf",Y.linkType!==Y.linkTypes.None),I.R7$(),I.Y8G("ngIf",Y.linkType===Y.linkTypes.None)}}function P(Z,H){if(1&Z&&I.nrm(0,"ds-badges",12),2&Z){const Y=I.XpG();I.Y8G("object",Y.dso)("context",Y.context)("showAccessStatus",!0)}}function M(Z,H){if(1&Z&&I.nrm(0,"a",21),2&Z){const Y=I.XpG(2);I.Y8G("target",Y.linkType===Y.linkTypes.ExternalLink?"_blank":"_self")("routerLink",I.eq3(4,D,Y.itemPageRoute))("innerHTML",Y.dsoTitle,I.npT),I.BMQ("rel",Y.linkType===Y.linkTypes.ExternalLink?"noopener noreferrer":null)}}function L(Z,H){if(1&Z&&I.nrm(0,"span",22),2&Z){const Y=I.XpG(2);I.Y8G("innerHTML",Y.dsoTitle,I.npT)}}function B(Z,H){if(1&Z&&I.nrm(0,"span",25),2&Z){const Y=I.XpG(3);I.Y8G("innerHTML",Y.firstMetadataValue("dc.publisher"),I.npT)}}function U(Z,H){1&Z&&(I.j41(0,"span"),I.EFF(1,", "),I.k0s())}function $(Z,H){if(1&Z&&I.nrm(0,"span",26),2&Z){const Y=I.XpG(3);I.Y8G("innerHTML",Y.firstMetadataValue("dc.date.issued"),I.npT)}}function j(Z,H){if(1&Z&&(I.qex(0),I.EFF(1," ("),I.DNE(2,B,1,1,"span",23)(3,U,2,0,"span",18)(4,$,1,1,"span",24),I.EFF(5,") "),I.bVm()),2&Z){const Y=I.XpG(2);I.R7$(2),I.Y8G("ngIf",Y.dso.firstMetadataValue("dc.publisher")),I.R7$(),I.Y8G("ngIf",Y.dso.firstMetadataValue("dc.publisher")&&Y.dso.firstMetadataValue("dc.date.issued")),I.R7$(),I.Y8G("ngIf",Y.dso.firstMetadataValue("dc.date.issued"))}}function G(Z,H){1&Z&&(I.j41(0,"span"),I.EFF(1,"; "),I.k0s())}function z(Z,H){if(1&Z&&(I.j41(0,"span")(1,"span",29),I.nrm(2,"span",29),I.k0s(),I.DNE(3,G,2,0,"span",18),I.k0s()),2&Z){const Y=H.$implicit,Q=H.last;I.R7$(),I.Y8G("innerHTML",Y,I.npT),I.R7$(),I.Y8G("innerHTML",Y,I.npT),I.R7$(),I.Y8G("ngIf",!Q)}}function V(Z,H){if(1&Z&&(I.j41(0,"span",27),I.DNE(1,z,4,3,"span",28),I.k0s()),2&Z){const Y=I.XpG(2);I.R7$(),I.Y8G("ngForOf",Y.allMetadataValues(I.lJ4(1,R)))}}function X(Z,H){if(1&Z&&(I.j41(0,"div",30)(1,"ds-truncatable-part",17),I.nrm(2,"span",29),I.k0s()()),2&Z){const Y=I.XpG(2);I.R7$(),I.Y8G("id",Y.dso.id)("minLines",3),I.R7$(),I.Y8G("innerHTML",Y.firstMetadataValue("dc.description.abstract"),I.npT)}}function J(Z,H){if(1&Z&&(I.j41(0,"ds-truncatable",13),I.DNE(1,M,1,6,"a",14)(2,L,1,1,"span",15),I.j41(3,"span",16)(4,"ds-truncatable-part",17),I.DNE(5,j,6,3,"ng-container",18)(6,V,2,2,"span",19),I.k0s()(),I.DNE(7,X,3,3,"div",20),I.k0s()),2&Z){const Y=I.XpG();I.Y8G("id",Y.dso.id),I.R7$(),I.Y8G("ngIf",Y.linkType!==Y.linkTypes.None),I.R7$(),I.Y8G("ngIf",Y.linkType===Y.linkTypes.None),I.R7$(2),I.Y8G("id",Y.dso.id)("minLines",1),I.R7$(),I.Y8G("ngIf",Y.dso.firstMetadataValue("dc.publisher")||Y.dso.firstMetadataValue("dc.date.issued")),I.R7$(),I.Y8G("ngIf",Y.dso.allMetadata(I.lJ4(8,R)).length>0),I.R7$(),I.Y8G("ngIf",Y.dso.firstMetadataValue("dc.description.abstract"))}}let q=class Pb extends O.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails,this.itemPageRoute=(0,f._o)(this.dso)}static{this.\u0275fac=(()=>{let H;return function(Q){return(H||(H=I.xGo(Pb)))(Q||Pb)}})()}static{this.\u0275cmp=I.VBU({type:Pb,selectors:[["ds-item-search-result-list-element"]],standalone:!0,features:[I.Vt3,I.aNF],decls:6,vars:4,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"dont-break-out"],[3,"object","context","showAccessStatus"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],[4,"ngIf"],["class","item-list-authors",4,"ngIf"],["class","item-list-abstract",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],["class","item-list-publisher",3,"innerHTML",4,"ngIf"],["class","item-list-date",3,"innerHTML",4,"ngIf"],[1,"item-list-publisher",3,"innerHTML"],[1,"item-list-date",3,"innerHTML"],[1,"item-list-authors"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[1,"item-list-abstract"]],template:function(Y,Q){1&Y&&(I.j41(0,"div",0),I.DNE(1,b,3,2,"div",1),I.j41(2,"div",2)(3,"div",3),I.DNE(4,P,1,3,"ds-badges",4),I.k0s(),I.DNE(5,J,8,9,"ds-truncatable",5),I.k0s()()),2&Y&&(I.R7$(),I.Y8G("ngIf",Q.showThumbnails),I.R7$(),I.Y8G("ngClass",Q.showThumbnails?"col-9":"col-md-12"),I.R7$(2),I.Y8G("ngIf",Q.showLabel),I.R7$(),I.Y8G("ngIf",null!=Q.object))},dependencies:[t.bT,l.Wk,m.T,t.YU,p.F,y.d,C.W,t.pM,t.Jj],styles:[".item-list-supervision[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}"]})}};q=(0,i.Cg)([(0,v.VK)("PublicationSearchResult",e.n.ListElement),(0,v.VK)(_.H,e.n.ListElement)],q)},79411:(N,T,n)=>{"use strict";n.d(T,{P:()=>_});var i=n(82640),t=n(96526),l=n(39552),e=n(82777),f=n(73584),m=n(39092),p=n(54438);let _=(()=>{class v extends f.C{constructor(C,O,I){super(O),this.truncatableService=C,this.dsoNameService=O,this.appConfig=I}ngOnInit(){(0,e.a4)(this.object)&&(this.dso=this.object.indexableObject,this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso))}allMetadataValues(C){const O=l.O.allValues([this.dso.metadata],C),I=l.O.allValues([this.object.hitHighlights],C),D=I.map(R=>R.replace(/<\/?em>/g,""));for(let R=0;R<D.length;R++){const h=O.indexOf(D[R]);-1!==h&&(O[h]=I[R])}return O}firstMetadataValue(C){return l.O.firstValue([this.object.hitHighlights,this.dso.metadata],C)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(O){return new(O||v)(p.rXU(m.F),p.rXU(t.f),p.rXU(i.vQ))}}static{this.\u0275cmp=p.VBU({type:v,selectors:[["ds-search-result-list-element"]],standalone:!0,features:[p.Vt3,p.aNF],decls:0,vars:0,template:function(O,I){},encapsulation:2})}}return v})()},61281:(N,T,n)=>{"use strict";n.d(T,{Gk:()=>p,Sg:()=>t,Yd:()=>m,ZH:()=>e,hf:()=>v,t3:()=>f});var i=n(91e3);const t={SELECT:(0,i.N)("dspace/selectable-lists/SELECT"),SELECT_SINGLE:(0,i.N)("dspace/selectable-lists/SELECT_SINGLE"),DESELECT:(0,i.N)("dspace/selectable-lists/DESELECT"),DESELECT_SINGLE:(0,i.N)("dspace/selectable-lists/DESELECT_SINGLE"),SET_SELECTION:(0,i.N)("dspace/selectable-lists/SET_SELECTION"),DESELECT_ALL:(0,i.N)("dspace/selectable-lists/DESELECT_ALL")};class l{constructor(C,O){this.type=C,this.id=O}}class e extends l{constructor(C,O){super(t.SELECT,C),this.payload=O}}class f extends l{constructor(C,O){super(t.SELECT_SINGLE,C),this.payload={object:O}}}class m extends l{constructor(C,O){super(t.DESELECT_SINGLE,C),this.payload=O}}class p extends l{constructor(C,O){super(t.DESELECT,C),this.payload=O}}class v extends l{constructor(C){super(t.DESELECT_ALL,C)}}},13329:(N,T,n)=>{"use strict";n.d(T,{K:()=>y});var i=n(25499),t=n(96354),l=n(23294),e=n(72352),f=n(82777),m=n(61281),p=n(54438);const _=C=>C.selectableLists;let y=(()=>{class C{constructor(I){this.store=I}getSelectableList(I){return this.store.pipe((0,i.Lt)((C=>(0,e.pc)(C,_))(I)))}selectSingle(I,D){this.store.dispatch(new m.t3(I,D))}select(I,D){this.store.dispatch(new m.ZH(I,D))}deselectSingle(I,D){this.store.dispatch(new m.Yd(I,D))}deselect(I,D){this.store.dispatch(new m.Gk(I,D))}deselectAll(I){this.store.dispatch(new m.hf(I))}isObjectSelected(I,D){return this.getSelectableList(I).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)&&(0,f.a4)(R.selection.find(h=>h.equals(D)))),(0,l.F)())}findSelectedByCondition(I,D){return this.getSelectableList(I).pipe((0,t.T)(R=>(0,f.a4)(R)&&(0,f.hj)(R.selection)?R.selection.find(h=>D(h)):void 0))}static{this.\u0275fac=function(D){return new(D||C)(p.KVO(i.il))}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},65580:(N,T,n)=>{"use strict";n.d(T,{AS:()=>m,NE:()=>e,T8:()=>t,Vu:()=>p,YE:()=>_,bx:()=>v,u7:()=>f});var i=n(91e3);const t={INITIAL_DESELECT:(0,i.N)("dspace/object-select/INITIAL_DESELECT"),INITIAL_SELECT:(0,i.N)("dspace/object-select/INITIAL_SELECT"),SELECT:(0,i.N)("dspace/object-select/SELECT"),DESELECT:(0,i.N)("dspace/object-select/DESELECT"),SWITCH:(0,i.N)("dspace/object-select/SWITCH"),RESET:(0,i.N)("dspace/object-select/RESET")};class l{constructor(C,O){this.key=C,this.id=O}}class e extends l{constructor(){super(...arguments),this.type=t.INITIAL_DESELECT}}class f extends l{constructor(){super(...arguments),this.type=t.INITIAL_SELECT}}class m extends l{constructor(){super(...arguments),this.type=t.SELECT}}class p extends l{constructor(){super(...arguments),this.type=t.DESELECT}}class _ extends l{constructor(){super(...arguments),this.type=t.SWITCH}}class v extends l{constructor(){super(...arguments),this.type=t.RESET}}},80597:(N,T,n)=>{"use strict";n.d(T,{Zb:()=>v,iv:()=>y});var i=n(48125),t=n.n(i),l=n(83278),e=n.n(l),f=n(95341),m=n.n(f),p=n(82777);function v(C){if("object"==typeof C){if(0===Object.keys(C).length)return!0;{let I=!0;for(const D in C)if((0,p.hj)(C[D])){I=!1;break}return I}}}function y(C,O){const I=(D,R)=>m()(D,(h,w,b)=>{if(!t()(w,R[b])&&(0,p.hj)(w)){const P=e()(w)&&e()(R[b])?I(w,R[b]):w;v(P)||(h[b]=P)}});return I(C,O)}},46580:(N,T,n)=>{"use strict";n.d(T,{b:()=>O});var i=n(60177),t=n(89417),l=n(96354),e=n(96697),f=n(22978),p=(n(39012),n(13955)),_=n(80270),v=n(54438),y=n(7901);function C(I,D){if(1&I&&(v.j41(0,"option",3),v.nI1(1,"async"),v.EFF(2),v.k0s()),2&I){const R=D.$implicit,h=v.XpG();v.Y8G("value",R)("selected",R===+v.bMT(1,3,h.paginationOptions$).pageSize?"selected":null),v.R7$(2),v.SpI(" ",R," ")}}let O=(()=>{class I{constructor(R,h,w,b){this.route=R,this.router=h,this.paginationService=w,this.searchConfigurationService=b}ngOnInit(){this.paginationOptions$=this.searchConfigurationService.paginatedSearchOptions.pipe((0,l.T)(R=>R.pagination))}reloadRPP(R){const h=R.target.value;this.paginationOptions$.pipe((0,e.s)(1)).subscribe(w=>{this.paginationService.updateRoute(w.id,{page:1,pageSize:+h})})}static{this.\u0275fac=function(h){return new(h||I)(v.rXU(y.nX),v.rXU(y.Ix),v.rXU(f.m),v.rXU(p.EN))}}static{this.\u0275cmp=v.VBU({type:I,selectors:[["ds-page-size-selector"]],standalone:!0,features:[v.aNF],decls:4,vars:5,consts:[[1,"page-size-settings"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(h,w){1&h&&(v.j41(0,"div",0)(1,"ds-sidebar-dropdown",1),v.bIt("changed",function(P){return w.reloadRPP(P)}),v.DNE(2,C,3,5,"option",2),v.nI1(3,"async"),v.k0s()()),2&h&&(v.R7$(),v.Y8G("id","search-sidebar-rpp")("label","search.sidebar.settings.rpp"),v.R7$(),v.Y8G("ngForOf",v.bMT(3,3,w.paginationOptions$).pageSizeOptions))},dependencies:[_.v,i.pM,t.YN,t.xH,t.y7,i.Jj],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return I})()},23401:(N,T,n)=>{"use strict";n.d(T,{W:()=>l});var i=n(52149),t=n(54438);let l=(()=>{class e extends i.MI{constructor(){super(...arguments),this.currentPage=1,this.maxSize=10,this.pageSizeOptions=[1,5,10,20,40,60,80,100]}static{this.\u0275fac=(()=>{let m;return function(_){return(m||(m=t.xGo(e)))(_||e)}})()}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()},5682:(N,T,n)=>{"use strict";n.d(T,{e:()=>Ce});var i=n(60177),t=n(54438),l=n(52149),e=n(41780),f=n(7673),m=n(96354),p=n(25558),_=n(99172),v=n(96697),y=n(6238),O=(n(1716),n(22978)),I=n(78448),D=n(60456),R=n(82777),h=n(57538),w=n(84412),b=n(88280),P=n(8917),M=n(44494),L=n(80183),B=n(39012),U=n(8865),$=n(7901);function j(Ee,ue){if(1&Ee&&(t.j41(0,"div",2)(1,"a",3),t.nI1(2,"translate"),t.nI1(3,"translate"),t.nrm(4,"i",4),t.k0s()()),2&Ee){const ae=ue.ngIf;t.R7$(),t.Y8G("href",ae,t.B4B)("title",t.bMT(2,3,"feed.description")),t.BMQ("aria-label",t.bMT(3,5,"feed.description"))}}function G(Ee,ue){if(1&Ee&&(t.qex(0),t.DNE(1,j,5,7,"div",1),t.nI1(2,"async"),t.bVm()),2&Ee){const ae=t.XpG();t.R7$(),t.Y8G("ngIf",t.bMT(2,1,ae.route$))}}let z=(()=>{class Ee{constructor(ae,ye,De,tt,_t,We){this.groupDataService=ae,this.linkHeadService=ye,this.configurationService=De,this.searchConfigurationService=tt,this.router=_t,this.paginationService=We,this.route$=new w.t(""),this.isEnabled$=new w.t(null),this.subs=[]}ngOnDestroy(){this.linkHeadService.removeTag("rel='alternate'"),this.subs.forEach(ae=>{ae.unsubscribe()})}ngOnInit(){this.configuration$=this.searchConfigurationService.getCurrentConfiguration("default"),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.enable").pipe((0,L.qD)()).subscribe(ae=>{ae.hasSucceeded&&this.isEnabled$.next("true"===ae.payload.values[0])})),this.subs.push(this.configurationService.findByPropertyName("websvc.opensearch.svccontext").pipe((0,L.qD)(),(0,m.T)(ae=>ae.hasSucceeded?ae.payload.values[0]:null),(0,p.n)(ae=>this.searchConfigurationService.paginatedSearchOptions.pipe((0,m.T)(ye=>({openSearchUri:ae,searchOptions:ye}))))).subscribe(({openSearchUri:ae,searchOptions:ye})=>{if(!ae)return null;this.uuid=this.groupDataService.getUUIDFromString(this.router.url);const De=b.c.rest.baseUrl+this.formulateRoute(this.uuid,ae,ye.query);this.addLinks(De),this.linkHeadService.addTag({href:b.c.rest.baseUrl+"/"+ae+"/service",type:"application/atom+xml",rel:"search",title:"Dspace"}),this.route$.next(De)}))}formulateRoute(ae,ye,De){let tt="?format=atom";return ae&&(tt+=`&scope=${ae}`),tt+=De?`&query=${De}`:"&query=*",tt="/"+ye+tt,tt}hasRoute(ae){return this.router.url.includes(ae)}addLinks(ae){this.linkHeadService.addTag({href:ae,type:"application/atom+xml",rel:"alternate",title:"Sitewide Atom feed"}),ae=ae.replace("format=atom","format=rss"),this.linkHeadService.addTag({href:ae,type:"application/rss+xml",rel:"alternate",title:"Sitewide RSS feed"})}static{this.\u0275fac=function(ye){return new(ye||Ee)(t.rXU(M.GroupDataService),t.rXU(U.m),t.rXU(P.ConfigurationDataService),t.rXU(B.g),t.rXU($.Ix),t.rXU(O.m))}}static{this.\u0275cmp=t.VBU({type:Ee,selectors:[["ds-rss"]],exportAs:["rssComponent"],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],["class","d-inline-block float-right margin-right",4,"ngIf"],[1,"d-inline-block","float-right","margin-right"],[1,"btn","btn-secondary",3,"href","title"],[1,"fas","fa-rss-square"]],template:function(ye,De){1&ye&&(t.DNE(0,G,3,3,"ng-container",0),t.nI1(1,"async")),2&ye&&t.Y8G("ngIf",t.bMT(1,1,De.isEnabled$)&&(De.hasRoute("home")||De.hasRoute("collections")||De.hasRoute("communities")))},dependencies:[i.bT,i.Jj,e.h,e.D9],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}.margin-right[_ngcontent-%COMP%]{margin-right:.5em}"]})}}return Ee})(),V=(()=>{class Ee{transform(ae){const ye=[];for(const De in ae)isNaN(parseInt(De,10))?ye.push({key:De,value:ae[De]}):ye.push({key:+De,value:ae[De]});return ye}static{this.\u0275fac=function(ye){return new(ye||Ee)}}static{this.\u0275pipe=t.EJ8({name:"dsKeys",type:Ee,pure:!0,standalone:!0})}}return Ee})();const X=["*"],J=Ee=>({invisible:Ee});function q(Ee,ue){if(1&Ee&&(t.j41(0,"div",10)(1,"span",11),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"span",12),t.EFF(5),t.nI1(6,"async"),t.nI1(7,"translate"),t.k0s()()),2&Ee){const ae=t.XpG(3);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.showing.label")),t.R7$(3),t.JRh(t.i5U(7,6,"pagination.showing.detail",t.bMT(6,4,ae.showingDetails$)))}}function Z(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(ae).$implicit,tt=t.XpG(4);return t.Njj(tt.doPageSizeChange(De))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.k0s()()}if(2&Ee){const ae=ue.$implicit,ye=t.XpG(4);t.BMQ("aria-selected",ae===t.bMT(1,3,ye.pageSize$)),t.R7$(3),t.Y8G("ngClass",t.eq3(7,J,ae!==t.bMT(4,5,ye.pageSize$))),t.R7$(2),t.SpI(" ",ae," ")}}function H(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"li",22),t.nI1(1,"async"),t.j41(2,"button",23),t.bIt("click",function(){const De=t.eBV(ae).$implicit,tt=t.XpG(5);return t.Njj(tt.doSortDirectionChange(De.value))}),t.nrm(3,"i",24),t.nI1(4,"async"),t.EFF(5),t.nI1(6,"translate"),t.k0s()()}if(2&Ee){const ae=ue.$implicit,ye=t.XpG(5);t.BMQ("aria-selected",ae.value===t.bMT(1,3,ye.sortDirection$)),t.R7$(3),t.Y8G("ngClass",t.eq3(9,J,ae.value!==t.bMT(4,5,ye.sortDirection$))),t.R7$(2),t.SpI(" ",t.bMT(6,7,"sorting."+ae.key)," ")}}function Y(Ee,ue){if(1&Ee&&(t.j41(0,"li",17)(1,"span",25),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"ul",26),t.DNE(5,H,7,11,"li",20),t.nI1(6,"dsKeys"),t.k0s()()),2&Ee){const ae=t.XpG(4);t.R7$(2),t.JRh(t.bMT(3,2,"pagination.sort-direction")),t.R7$(3),t.Y8G("ngForOf",t.bMT(6,4,ae.sortDirections))}}function Q(Ee,ue){if(1&Ee&&(t.j41(0,"div",13,0)(2,"button",14),t.nI1(3,"translate"),t.nI1(4,"translate"),t.nrm(5,"i",15),t.k0s(),t.j41(6,"ul",16)(7,"li",17)(8,"span",18),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"ul",19),t.DNE(12,Z,6,9,"li",20),t.k0s()(),t.DNE(13,Y,7,6,"li",21),t.k0s()()),2&Ee){const ae=t.XpG(3);t.R7$(2),t.Y8G("title",t.bMT(3,5,"pagination.options.description")),t.BMQ("aria-label",t.bMT(4,7,"pagination.options.description")),t.R7$(7),t.JRh(t.bMT(10,9,"pagination.results-per-page")),t.R7$(3),t.Y8G("ngForOf",ae.pageSizeOptions),t.R7$(),t.Y8G("ngIf",!1===ae.hideSortOptions)}}function ie(Ee,ue){if(1&Ee&&(t.j41(0,"div",5)(1,"div",6),t.DNE(2,q,8,9,"div",7),t.j41(3,"div",8),t.DNE(4,Q,14,11,"div",9),t.nrm(5,"ds-rss"),t.k0s()()()),2&Ee){const ae=t.XpG(2);t.R7$(2),t.Y8G("ngIf",!ae.hidePaginationDetail&&ae.collectionSize>0),t.R7$(2),t.Y8G("ngIf",!ae.hideGear)}}function oe(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"div",29)(1,"ngb-pagination",30),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.bIt("pageChange",function(De){t.eBV(ae);const tt=t.XpG(3);return t.Njj(tt.doPageChange(De))}),t.k0s()()}if(2&Ee){const ae=t.XpG(3);t.R7$(),t.Y8G("boundaryLinks",ae.paginationOptions.boundaryLinks)("collectionSize",ae.collectionSize)("disabled",ae.paginationOptions.disabled)("ellipses",ae.paginationOptions.ellipses)("maxSize",ae.isXs?5:ae.paginationOptions.maxSize)("page",t.bMT(2,10,ae.currentPage$))("pageSize",t.bMT(3,12,ae.pageSize$))("rotate",ae.paginationOptions.rotate)("size",ae.isXs?"sm":ae.paginationOptions.size),t.BMQ("aria-label",t.bMT(4,14,"pagination-control.page-number-bar")+ae.paginationOptions.id)}}function pe(Ee,ue){if(1&Ee){const ae=t.RV6();t.j41(0,"div",31)(1,"button",32),t.bIt("click",function(){t.eBV(ae);const De=t.XpG(3);return t.Njj(De.goPrev())}),t.nrm(2,"i",33),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",34),t.bIt("click",function(){t.eBV(ae);const De=t.XpG(3);return t.Njj(De.goNext())}),t.j41(6,"span",35),t.nI1(7,"translate"),t.nrm(8,"i",36),t.EFF(9),t.nI1(10,"translate"),t.k0s()()()}if(2&Ee){const ae=t.XpG(3);t.R7$(),t.Y8G("dsBtnDisabled",(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.currentPage)<=1&&(null==ae.paginationOptions?null:ae.paginationOptions.currentPage)<=1),t.R7$(2),t.SpI(" ",t.bMT(4,5,"pagination.previous.button")," "),t.R7$(2),t.Y8G("dsBtnDisabled",(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.currentPage)>=(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.totalPages)||(null==ae.paginationOptions?null:ae.paginationOptions.currentPage)>=(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.totalPages)),t.R7$(),t.Y8G("ngbTooltip",(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.currentPage)>=(null==ae.objects||null==ae.objects.payload?null:ae.objects.payload.totalPages)?t.bMT(7,7,"pagination.next.button.disabled.tooltip"):null),t.R7$(3),t.SpI(" ",t.bMT(10,9,"pagination.next.button")," ")}}function ne(Ee,ue){if(1&Ee&&(t.j41(0,"div"),t.DNE(1,oe,5,16,"div",27)(2,pe,11,11,"div",28),t.k0s()),2&Ee){const ae=t.XpG(2);t.R7$(),t.Y8G("ngIf",ae.showPaginator),t.R7$(),t.Y8G("ngIf",!ae.showPaginator)}}function re(Ee,ue){if(1&Ee&&(t.j41(0,"div",2),t.DNE(1,ie,6,2,"div",3),t.SdG(2),t.DNE(3,ne,3,2,"div",4),t.nI1(4,"async"),t.k0s()),2&Ee){const ae=t.XpG();t.Y8G("id","p-"+ae.id),t.R7$(),t.Y8G("ngIf",!ae.hidePaginationDetail&&ae.collectionSize>0||!ae.hideGear),t.R7$(2),t.Y8G("ngIf",t.bMT(4,3,ae.shouldShowBottomPager))}}let Ce=(()=>{class Ee{ngOnInit(){this.subs.push(this.hostWindowService.isXs().subscribe(ae=>{this.isXs=ae,this.cdRef.markForCheck()})),this.checkConfig(this.paginationOptions),this.initializeConfig()}ngOnChanges(ae){ae.collectionSize.currentValue!==ae.collectionSize.previousValue&&(this.showingDetails$=this.getShowingDetails(this.collectionSize))}ngOnDestroy(){this.subs.filter(ae=>(0,R.a4)(ae)).forEach(ae=>ae.unsubscribe())}initializeConfig(){let ae;this.id=this.paginationOptions.id||null,this.pageSizeOptions=this.paginationOptions.pageSizeOptions,this.currentPage$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ye=>ye.currentPage)),this.pageSize$=this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ye=>ye.pageSize)),ae=this.sortOptions?this.sortOptions:new y.z(this.defaultSortField,this.defaultsortDirection),this.sortDirection$=this.paginationService.getCurrentSort(this.id,ae).pipe((0,m.T)(ye=>ye.direction)),this.sortField$=this.paginationService.getCurrentSort(this.id,ae).pipe((0,m.T)(ye=>ye.field))}constructor(ae,ye,De){this.cdRef=ae,this.paginationService=ye,this.hostWindowService=De,this.viewMode=I.n.ListElement,this.showPaginator=!0,this.pageChange=new t.bkB,this.pageSizeChange=new t.bkB,this.sortDirectionChange=new t.bkB,this.sortFieldChange=new t.bkB,this.paginationChange=new t.bkB,this.hidePaginationDetail=!1,this.hideGear=!1,this.hideSortOptions=!1,this.hidePagerWhenSinglePage=!0,this.retainScrollPosition=!1,this.currentPageState=void 0,this.sortDirections=y.U,this.defaultsortDirection=y.U.ASC,this.defaultSortField="name",this.subs=[],this.prev=new t.bkB,this.next=new t.bkB}doPageChange(ae){this.updateParams({page:ae}),this.emitPaginationChange()}doPageSizeChange(ae){this.updateParams({page:1,pageSize:ae}),this.emitPaginationChange()}doSortDirectionChange(ae){this.updateParams({page:1,sortDirection:ae}),this.emitPaginationChange()}emitPaginationChange(){this.paginationChange.emit()}updateParams(ae){this.paginationService.updateRoute(this.id,ae,{},this.retainScrollPosition)}getShowingDetails(ae){return(0,f.of)(ae).pipe((0,R.Az)(),(0,p.n)(()=>this.paginationService.getCurrentPagination(this.id,this.paginationOptions)),(0,m.T)(ye=>{let De;const tt=ye.pageSize*ye.currentPage;return De=ae>tt?tt:ae,{range:`${ye.pageSize*(ye.currentPage-1)+1} - ${De}`,total:ae}}),(0,_.Z)({range:"null - null",total:null}))}checkConfig(ae){const De=["id","currentPage","pageSize","pageSizeOptions"].filter(tt=>!(tt in ae));if(0<De.length)throw new Error("Paginate: Argument is missing the following required properties: "+De.join(", "))}get hasMultiplePages(){return this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,m.T)(ae=>this.collectionSize>ae.pageSize))}get shouldShowBottomPager(){return this.hasMultiplePages.pipe((0,m.T)(ae=>ae||!this.hidePagerWhenSinglePage))}goPrev(){this.prev.emit(!0),this.updatePagination(-1)}goNext(){this.next.emit(!0),this.updatePagination(1)}updatePagination(ae){this.paginationService.getCurrentPagination(this.id,this.paginationOptions).pipe((0,v.s)(1)).subscribe(ye=>{this.updateParams({page:ye.currentPage+ae})})}static{this.\u0275fac=function(ye){return new(ye||Ee)(t.rXU(t.gRc),t.rXU(O.m),t.rXU(h.CV))}}static{this.\u0275cmp=t.VBU({type:Ee,selectors:[["ds-pagination"]],inputs:{collectionSize:"collectionSize",paginationOptions:"paginationOptions",sortOptions:"sortOptions",showPaginator:"showPaginator",config:"config",objects:"objects",sortConfig:"sortConfig",hidePaginationDetail:"hidePaginationDetail",hideGear:"hideGear",hideSortOptions:"hideSortOptions",hidePagerWhenSinglePage:"hidePagerWhenSinglePage",retainScrollPosition:"retainScrollPosition"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange",sortDirectionChange:"sortDirectionChange",sortFieldChange:"sortFieldChange",paginationChange:"paginationChange",prev:"prev",next:"next"},exportAs:["paginationComponent"],standalone:!0,features:[t.OA$,t.aNF],ngContentSelectors:X,decls:2,vars:3,consts:[["paginationControls","ngbDropdown"],[3,"id",4,"ngIf"],[3,"id"],["class","pagination-masked clearfix top",4,"ngIf"],[4,"ngIf"],[1,"pagination-masked","clearfix","top"],[1,"row"],["class","col-auto pagination-info",4,"ngIf"],[1,"col"],["ngbDropdown","","placement","bottom-right","class","d-inline-block float-right",4,"ngIf"],[1,"col-auto","pagination-info"],[1,"align-middle","hidden-xs-down"],[1,"align-middle"],["ngbDropdown","","placement","bottom-right",1,"d-inline-block","float-right"],["id","paginationControls","ngbDropdownToggle","","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary",3,"title"],["aria-hidden","true",1,"fas","fa-cog"],["id","paginationControlsDropdownMenu","aria-labelledby","paginationControls","role","menu","ngbDropdownMenu",""],["role","menuitem"],["id","pagination-control_results-per-page","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_results-per-page","role","listbox",1,"list-unstyled"],["role","option",4,"ngFor","ngForOf"],["role","menuitem",4,"ngIf"],["role","option"],[1,"dropdown-item",3,"click"],["aria-hidden","true",1,"fas","fa-check",3,"ngClass"],["id","pagination-control_sort-direction","role","heading",1,"dropdown-header"],["aria-labelledby","pagination-control_sort-direction","role","listbox",1,"list-unstyled"],["class","pagination justify-content-center clearfix bottom",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[1,"pagination","justify-content-center","clearfix","bottom"],[3,"pageChange","boundaryLinks","collectionSize","disabled","ellipses","maxSize","page","pageSize","rotate","size"],[1,"d-flex","justify-content-between"],["id","nav-prev","type","button",1,"btn","btn-outline-primary","float-left",3,"click","dsBtnDisabled"],[1,"fas","fa-angle-left"],["id","nav-next","type","button",1,"btn","btn-outline-primary","float-right",3,"click","dsBtnDisabled"],[3,"ngbTooltip"],[1,"fas","fa-angle-right"]],template:function(ye,De){1&ye&&(t.NAR(),t.DNE(0,re,5,5,"div",1),t.nI1(1,"async")),2&ye&&t.Y8G("ngIf",void 0===De.currentPageState||De.currentPageState===t.bMT(1,1,De.currentPage$))},dependencies:[i.bT,l.zH,l.tg,l.do,l.U0,i.pM,i.YU,z,l.c9,l.s5,l.n8,l.md,i.Jj,e.h,e.D9,V,D.A],styles:["[_nghost-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:20px}"]})}}return Ee})()},43404:(N,T,n)=>{"use strict";n.d(T,{CX:()=>_,PM:()=>y,SP:()=>p,V7:()=>h,Wh:()=>I});var i=n(21626),t=n(7673),l=n(88280),e=n(1716),f=n(7434);const m=(new Date).getTime();function p(w,b=m){return new e.j(b,l.c.cache.msToLive.default,b,f.zE.Success,void 0,w,200)}function _(w,b){return(0,t.of)(p(w,b))}function v(w,b,P=15778368e5){return new e.j(P,l.c.cache.msToLive.default,P,f.zE.Error,w,void 0,b)}function y(w,b,P){return(0,t.of)(v(w,b,P))}function I(w){return p(void 0,w)}function h(w){return(0,t.of)(function R(w){const b=v();return w instanceof Error&&(b.errorMessage=w.message),w instanceof i.yz&&(b.statusCode=w.status),b}(w))}},4420:(N,T,n)=>{"use strict";n.d(T,{U:()=>f});var i=n(8886),t=n(54438);const l=["*"];function e(m,p){}let f=(()=>{class m extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["back","buttonLabel"]}getComponentName(){return"ResultsBackButtonComponent"}importThemedComponent(_){return n(79086)(`./${_}/app/shared/results-back-button/results-back-button.component`)}importUnthemedComponent(){return n.e(2076).then(n.bind(n,94280))}static{this.\u0275fac=(()=>{let _;return function(y){return(_||(_=t.xGo(m)))(y||m)}})()}static{this.\u0275cmp=t.VBU({type:m,selectors:[["ds-results-back-button"]],inputs:{buttonLabel:"buttonLabel",back:"back"},standalone:!0,features:[t.Vt3,t.aNF],ngContentSelectors:l,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(v,y){1&v&&(t.NAR(),t.DNE(0,e,0,0,"ng-template",null,0,t.C5r),t.j41(2,"div",null,1),t.SdG(4),t.k0s())},encapsulation:2})}}return m})()},41477:(N,T,n)=>{"use strict";n.d(T,{q:()=>_});var i=n(84572),t=n(5964),l=n(96354),e=n(61594),f=n(46265),m=n(82777),p=n(54438);let _=(()=>{class v{constructor(C,O,I,D){this.roleService=C,this.viewContainer=O,this.changeDetector=I,this.templateRef=D,this.subs=[]}ngOnChanges(C){this.hasRoles(this.dsShowOnlyForRole),C.dsShowOnlyForRole?this.validateOnly():C.dsShowExceptForRole&&this.validateExcept()}ngOnDestroy(){this.subs.filter(C=>(0,m.a4)(C)).forEach(C=>C.unsubscribe())}showTemplateBlockInView(){this.viewContainer.clear(),this.templateRef&&(this.viewContainer.createEmbeddedView(this.templateRef),this.changeDetector.markForCheck())}validateOnly(){this.subs.push(this.hasRoles(this.dsShowOnlyForRole).pipe((0,t.p)(C=>C)).subscribe(C=>{this.showTemplateBlockInView()}))}validateExcept(){this.subs.push(this.hasRoles(this.dsShowExceptForRole).pipe((0,t.p)(C=>!C)).subscribe(C=>{this.showTemplateBlockInView()}))}hasRoles(C){const I=(Array.isArray(C)?C:[C]).map(D=>this.roleService.checkRole(D));return(0,i.z)(I).pipe((0,l.T)(D=>D.includes(!0)),(0,e.$)())}static{this.\u0275fac=function(O){return new(O||v)(p.rXU(f.W),p.rXU(p.c1b),p.rXU(p.gRc),p.rXU(p.C4Q))}}static{this.\u0275dir=p.FsC({type:v,selectors:[["","dsShowOnlyForRole",""],["","dsShowExceptForRole",""]],inputs:{dsShowOnlyForRole:"dsShowOnlyForRole",dsShowExceptForRole:"dsShowExceptForRole"},standalone:!0,features:[p.OA$]})}}return v})()},18757:(N,T,n)=>{"use strict";n.d(T,{$s:()=>t,Jc:()=>l,aE:()=>f,zX:()=>e});var i=n(91e3);const t={ADD:(0,i.N)("dspace/css-variables/ADD"),ADD_ALL:(0,i.N)("dspace/css-variables/ADD_ALL"),CLEAR:(0,i.N)("dspace/css-variables/CLEAR")};class l{constructor(p,_){this.type=t.ADD,this.payload={name:p,value:_}}}class e{constructor(p){this.type=t.ADD_ALL,this.payload=p}}class f{constructor(){this.type=t.CLEAR}}},1221:(N,T,n)=>{"use strict";n.d(T,{J:()=>_});var i=n(25499),t=n(72352),l=n(96820),e=n(32089),f=n(82777),m=n(18757),p=n(54438);let _=(()=>{class I{constructor(R){this.store=R,this.isSameDomain=h=>!h.href||0===h.href.indexOf(window.location.origin),this.hasCssRules=h=>{try{return h.cssRules}catch{return!1}},this.isStyleRule=h=>1===h.type}addCSSVariable(R,h){this.store.dispatch(new m.Jc(R,h))}addCSSVariables(R){this.store.dispatch(new m.zX(R))}clearCSSVariables(){this.store.dispatch(new m.aE)}getVariable(R){return this.store.pipe((0,i.Lt)(y(R)))}getAllVariables(){return this.store.pipe((0,i.Lt)(v))}searchVariable(R,h){return this.store.pipe((0,i.Lt)(C(R,h)))}getCSSVariablesFromStylesheets(R){return(0,f.hj)(R.styleSheets)?[...R.styleSheets].filter(this.isSameDomain).filter(this.hasCssRules).reduce((h,w)=>h.concat([...w.cssRules].filter(this.isStyleRule).reduce((b,P)=>[...b,...[...P.style].map(L=>({key:L.trim(),value:P.style.getPropertyValue(L).trim()})).filter(({key:L})=>0===L.indexOf("--"))],[])),[]):[]}static{this.\u0275fac=function(h){return new(h||I)(p.KVO(i.il))}}static{this.\u0275prov=p.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const v=I=>I.cssVariables,y=I=>(0,t.pc)(I,v),C=(I,D)=>(0,i.Mz)(O(I),R=>{if((0,f.a4)(R)){const{currentPage:h,pageSize:w}=D,b=(h-1)*w,M=R.slice(b,b+w),L=Math.ceil(R.length/w),B=new e.Q({currentPage:h,elementsPerPage:w,totalElements:R.length,totalPages:L});return(0,l.g)(B,M)}}),O=I=>(0,i.Mz)(v,D=>{if((0,f.a4)(D))return Object.keys(D).filter(R=>R.includes(I)).map(R=>({key:R,value:D[R]}))})},81988:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchFormComponent:()=>G});var i=n(60177),t=n(54438),l=n(89417),e=n(52149),f=n(41780),m=n(84412),p=n(96697),_=n(96526),v=n(13989),y=n(22978),C=n(80183),O=n(78655),I=n(39012),D=n(15465),R=n(82777),h=n(75465),w=n(30506),b=n(88280),P=n(6238),M=n(13864),L=n(73183),B=n(54705),U=n(7901);let $=(()=>{class z extends B.${constructor(X,J){super(X,J),this.activeModal=X,this.route=J,this.objectType=M.W.COMMUNITY,this.selectorTypes=[M.W.COMMUNITY,M.W.COLLECTION],this.action=B.u.SET_SCOPE,this.scopeChange=new t.bkB,this.defaultSort=new P.z(b.c.comcolSelectionSort.sortField,b.c.comcolSelectionSort.sortDirection)}navigate(X){this.scopeChange.emit(X)}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(e.Lw),t.rXU(U.nX))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-scope-selector-modal"]],standalone:!0,features:[t.Vt3,t.aNF],decls:21,vars:15,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"btn","btn-outline-primary","btn-lg","btn-block",3,"click"],[1,"position-relative","py-1","my-3","font-weight-normal","h3"],["id","create-community-or-separator",1,"text-center","position-absolute","w-100"],[1,"px-4","bg-white"],[1,"px-2","h5"],[3,"onSelect","currentDSOId","types","sort"]],template:function(J,q){1&J&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return q.selectObject(void 0)}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3)(8,"button",4),t.bIt("click",function(){return q.selectObject(void 0)}),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.j41(11,"div",5),t.nrm(12,"hr"),t.j41(13,"div",6)(14,"span",7),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"h2",8),t.EFF(18),t.nI1(19,"translate"),t.k0s(),t.j41(20,"ds-dso-selector",9),t.bIt("onSelect",function(H){return q.selectObject(H)}),t.k0s()()()),2&J&&(t.R7$(2),t.SpI("",t.bMT(3,7,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".head")," "),t.R7$(7),t.JRh(t.bMT(10,9,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".button")),t.R7$(6),t.JRh(t.bMT(16,11,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".or-divider")),t.R7$(3),t.JRh(t.bMT(19,13,"dso-selector."+q.action+"."+q.objectType.toString().toLowerCase()+".input-header")),t.R7$(2),t.Y8G("currentDSOId",null==q.dsoRD?null:q.dsoRD.payload.uuid)("types",q.selectorTypes)("sort",q.defaultSort))},dependencies:[L.x,f.h,f.D9],styles:["#create-community-or-separator[_ngcontent-%COMP%]{top:0}"]})}}return z})();function j(z,V){if(1&z){const X=t.RV6();t.j41(0,"div",8)(1,"button",9),t.nI1(2,"async"),t.bIt("click",function(){t.eBV(X);const q=t.XpG();return t.Njj(q.openScopeModal())}),t.EFF(3),t.nI1(4,"async"),t.nI1(5,"translate"),t.k0s()()}if(2&z){const X=t.XpG();t.R7$(),t.Y8G("ngbTooltip",X.dsoNameService.getName(t.bMT(2,2,X.selectedScope))),t.R7$(2),t.SpI(" ",X.dsoNameService.getName(t.bMT(4,4,X.selectedScope))||t.bMT(5,6,"search.form.scope.all")," ")}}let G=(()=>{class z{constructor(X,J,q,Z,H,Y,Q,ie){this.router=X,this.searchService=J,this.searchFilterService=q,this.paginationService=Z,this.searchConfig=H,this.modalService=Y,this.dsoService=Q,this.dsoNameService=ie,this.scope="",this.hideScopeInUrl=!1,this.selectedScope=new m.t(void 0),this.large=!1,this.brandColor="primary",this.showScopeSelector=!1,this.submitSearch=new t.bkB}ngOnChanges(){(0,R.hj)(this.scope)&&this.dsoService.findById(this.scope).pipe((0,C.ak)()).subscribe(X=>this.selectedScope.next(X))}onSubmit(X){(0,R.hj)(this.scope)&&(X=Object.assign(X,{scope:this.scope})),this.updateSearch(X),this.submitSearch.emit(X)}onScopeChange(X){this.updateSearch({scope:X?X.uuid:void 0}),this.searchFilterService.minimizeAll()}updateSearch(X){const q=Object.assign({"spc.page":1},X);(0,R.a4)(X.scope)&&this.hideScopeInUrl&&delete q.scope,this.router.navigate(this.getSearchLinkParts(),{queryParams:q,queryParamsHandling:"merge"})}getSearchLink(){return this.inPlaceSearch?(0,w.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}openScopeModal(){this.modalService.open($).componentInstance.scopeChange.pipe((0,p.s)(1)).subscribe(J=>{this.selectedScope.next(J),this.onScopeChange(J)})}static{this.\u0275fac=function(J){return new(J||z)(t.rXU(U.Ix),t.rXU(O.S),t.rXU(D.U),t.rXU(y.m),t.rXU(I.g),t.rXU(e.Bq),t.rXU(v.DSpaceObjectDataService),t.rXU(_.f))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["ds-base-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[t.OA$,t.aNF],decls:13,vars:16,consts:[["form","ngForm"],["action","/search",3,"ngSubmit"],[1,"form-group","input-group"],["class","input-group-prepend",4,"ngIf"],["type","text","name","query",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"input-group-append"],["type","submit"],[1,"fas","fa-search"],[1,"input-group-prepend"],["type","button",1,"scope-button","btn","btn-outline-secondary","text-truncate",3,"click","ngbTooltip"]],template:function(J,q){if(1&J){const Z=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(Z);const Y=t.sdS(1);return t.Njj(q.onSubmit(Y.value))}),t.j41(2,"div")(3,"div",2),t.DNE(4,j,6,8,"div",3),t.j41(5,"input",4),t.nI1(6,"dsBrowserOnly"),t.mxI("ngModelChange",function(Y){return t.eBV(Z),t.DH7(q.query,Y)||(q.query=Y),t.Njj(Y)}),t.k0s(),t.j41(7,"span",5)(8,"button",6),t.nI1(9,"dsBrowserOnly"),t.nrm(10,"i",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()()()()()}2&J&&(t.R7$(4),t.Y8G("ngIf",q.showScopeSelector),t.R7$(),t.R50("ngModel",q.query),t.Y8G("placeholder",q.searchPlaceholder),t.BMQ("aria-label",q.searchPlaceholder)("data-test",t.bMT(6,10,"search-box")),t.R7$(3),t.ZvI("search-button btn btn-",q.brandColor,""),t.BMQ("data-test",t.bMT(9,12,"search-button")),t.R7$(3),t.SpI(" ",t.bMT(12,14,"search.form.search"),""))},dependencies:[l.YN,l.qT,l.me,l.BC,l.cb,l.vS,l.cV,i.bT,e.n8,e.md,i.Jj,f.h,f.D9,h.L],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.scope-button[_ngcontent-%COMP%]{max-width:var(--ds-search-form-scope-max-width)}"]})}}return z})()},18016:(N,T,n)=>{"use strict";n.d(T,{d:()=>m});var i=n(54438),t=n(8886);n(81988);const e=["*"];function f(p,_){}let m=(()=>{class p extends t.J{constructor(){super(...arguments),this.submitSearch=new i.bkB,this.inAndOutputNames=["query","inPlaceSearch","scope","hideScopeInUrl","currentUrl","large","brandColor","searchPlaceholder","showScopeSelector","submitSearch"]}getComponentName(){return"SearchFormComponent"}importThemedComponent(v){return n(76142)(`./${v}/app/shared/search-form/search-form.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,81988))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=i.xGo(p)))(C||p)}})()}static{this.\u0275cmp=i.VBU({type:p,selectors:[["ds-search-form"]],inputs:{query:"query",inPlaceSearch:"inPlaceSearch",scope:"scope",hideScopeInUrl:"hideScopeInUrl",currentUrl:"currentUrl",large:"large",brandColor:"brandColor",searchPlaceholder:"searchPlaceholder",showScopeSelector:"showScopeSelector"},outputs:{submitSearch:"submitSearch"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(i.NAR(),i.DNE(0,f,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return p})()},77909:(N,T,n)=>{"use strict";n.d(T,{Q:()=>b});var i=n(60177),t=n(89417),l=n(41780),e=n(7673),f=n(96697),m=n(82640),p=n(78655),_=n(39012),v=n(15465),y=n(60456),C=n(82777),O=n(81648),I=n(59780),D=n(54438),R=n(7901);function h(P,M){if(1&P&&(D.j41(0,"option",8),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&P){const L=M.$implicit;D.Y8G("value",L.value.filter),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.filter."+L.value.filter+".head")," ")}}function w(P,M){if(1&P&&(D.j41(0,"option",8),D.EFF(1),D.nI1(2,"translate"),D.k0s()),2&P){const L=M.$implicit;D.Y8G("value",L.operator),D.R7$(),D.SpI(" ",D.bMT(2,2,"search.filters.operator."+L.operator+".text")," ")}}let b=(()=>{class P{constructor(L,B,U,$,j){this.router=L,this.searchService=B,this.searchConfigurationService=U,this.searchFilterService=$,this.appConfig=j,this.advancedFilterMap=new Map,this.currentValue="",this.filterSearchResults$=(0,e.of)([]),this.subs=[]}ngOnInit(){this.advancedFilters$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.scope),this.subs.push(this.advancedFilters$.subscribe(L=>{const B=new Map;if(L.length>0){this.currentFilter=L[0].filter,this.currentOperator=L[0].operators[0].operator;for(const U of L)U.type!==I.R.range&&B.set(U.filter,U)}this.advancedFilterMap=B}))}ngOnDestroy(){this.subs.forEach(L=>L.unsubscribe())}findSuggestions(L){if((0,C.a4)(this.filtersConfig))for(const B of this.filtersConfig)B.name===this.currentFilter&&(this.filterSearchResults$=this.searchFilterService.findSuggestions(B,this.searchConfigurationService.searchOptions.value,L))}applyFilter(){(0,C.hj)(this.currentValue)&&(this.searchFilterService.minimizeAll(),this.subs.push(this.searchConfigurationService.selectNewAppliedFilterParams(this.currentFilter,this.currentValue.trim(),this.currentOperator).pipe((0,f.s)(1)).subscribe(L=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:L}),this.currentValue=""})))}static{this.\u0275fac=function(B){return new(B||P)(D.rXU(R.Ix),D.rXU(p.S),D.rXU(_.g),D.rXU(v.U),D.rXU(m.vQ))}}static{this.\u0275cmp=D.VBU({type:P,selectors:[["ds-advanced-search"]],inputs:{configuration:"configuration",filtersConfig:"filtersConfig",scope:"scope"},standalone:!0,features:[D.aNF],decls:26,vars:36,consts:[[1,"advanced-search","b-3","p-3"],["for","advanced-search-filters",1,"sr-only"],["id","advanced-search-filters",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","advanced-search-operators",1,"sr-only"],["id","advanced-search-operators",1,"form-control","mb-2",3,"ngModelChange","keyup.enter","ngModel"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],[1,"btn","btn-primary","mt-2",3,"click","dsBtnDisabled"],[3,"value"]],template:function(B,U){if(1&B&&(D.j41(0,"h3"),D.EFF(1),D.nI1(2,"translate"),D.k0s(),D.j41(3,"div",0)(4,"h4"),D.EFF(5),D.nI1(6,"translate"),D.k0s(),D.j41(7,"label",1),D.EFF(8),D.nI1(9,"translate"),D.k0s(),D.j41(10,"select",2),D.mxI("ngModelChange",function(j){return D.DH7(U.currentFilter,j)||(U.currentFilter=j),j}),D.bIt("keyup.enter",function(){return U.applyFilter()})("ngModelChange",function(){return U.currentOperator=U.advancedFilterMap.get(U.currentFilter).operators[0].operator}),D.DNE(11,h,3,4,"option",3),D.nI1(12,"async"),D.nI1(13,"keyvalue"),D.k0s(),D.j41(14,"label",4),D.EFF(15),D.nI1(16,"translate"),D.k0s(),D.j41(17,"select",5),D.mxI("ngModelChange",function(j){return D.DH7(U.currentOperator,j)||(U.currentOperator=j),j}),D.bIt("keyup.enter",function(){return U.applyFilter()}),D.DNE(18,w,3,4,"option",3),D.k0s(),D.j41(19,"ds-filter-input-suggestions",6),D.nI1(20,"async"),D.nI1(21,"translate"),D.nI1(22,"translate"),D.mxI("ngModelChange",function(j){return D.DH7(U.currentValue,j)||(U.currentValue=j),j}),D.bIt("submitSuggestion",function(){return U.applyFilter()})("findSuggestions",function(j){return U.findSuggestions(j)}),D.k0s(),D.j41(23,"button",7),D.bIt("click",function(){return U.applyFilter()}),D.EFF(24),D.nI1(25,"translate"),D.k0s()()),2&B){let $;D.R7$(),D.JRh(D.bMT(2,16,"search.sidebar.advanced-search.title")),D.R7$(4),D.JRh(D.bMT(6,18,"search.sidebar.advanced-search.filter-by")),D.R7$(3),D.SpI(" ",D.bMT(9,20,"search.sidebar.advanced-search.filters")," "),D.R7$(2),D.R50("ngModel",U.currentFilter),D.R7$(),D.Y8G("ngForOf",D.bMT(13,24,D.bMT(12,22,U.advancedFilters$))),D.R7$(4),D.SpI(" ",D.bMT(16,26,"search.sidebar.advanced-search.operators")," "),D.R7$(2),D.R50("ngModel",U.currentOperator),D.R7$(),D.Y8G("ngForOf",null==($=U.advancedFilterMap.get(U.currentFilter))?null:$.operators),D.R7$(),D.Y8G("suggestions",D.bMT(20,28,U.filterSearchResults$))("placeholder",D.bMT(21,30,"search.filters.filter."+U.currentFilter+".placeholder"))("label",D.bMT(22,32,"search.filters.filter."+U.currentFilter+".label"))("action",U.router.url)("name","f."+U.currentFilter),D.R50("ngModel",U.currentValue),D.R7$(4),D.Y8G("dsBtnDisabled",""===U.currentValue),D.R7$(),D.SpI(" ",D.bMT(25,34,"search.sidebar.advanced-search.add")," ")}},dependencies:[i.Jj,O.H,t.YN,t.xH,t.y7,t.me,t.wz,t.BC,t.vS,i.lG,i.Sq,l.h,l.D9,y.A],styles:["[_nghost-%COMP%]     ds-filter-input-suggestions label span{display:none}.advanced-search[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return P})()},15641:(N,T,n)=>{"use strict";n.d(T,{S:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"filter",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"operator",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"label",void 0)},54994:(N,T,n)=>{"use strict";n.d(T,{L:()=>l});var i=n(31635),t=n(74850);class l{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"label",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"label"),(0,i.Sn)("design:type",String)],l.prototype,"value",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Number)],l.prototype,"count",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],l.prototype,"authorityKey",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],l.prototype,"_links",void 0)},59780:(N,T,n)=>{"use strict";n.d(T,{R:()=>i});var i=function(t){return t.authority="authority",t.text="text",t.range="date",t.hierarchy="hierarchical",t.boolean="standard",t}(i||{})},33550:(N,T,n)=>{"use strict";n.d(T,{C:()=>l});var i=n(82777),t=n(31192);class l extends t.n{constructor(f){super(f),this.pagination=f.pagination,this.sort=f.sort,this.view=f.view}toRestUrl(f,m=[]){return(0,i.hj)(this.sort)&&m.push(`sort=${this.sort.field},${this.sort.direction}`),(0,i.hj)(this.pagination)&&(m.push("page="+(this.pagination.currentPage-1)),m.push(`size=${this.pagination.pageSize}`)),super.toRestUrl(f,m)}}},6842:(N,T,n)=>{"use strict";n.d(T,{F:()=>_});var i=n(31635),t=n(74850),l=n(21921),e=n(98688);n(59780);const p=new(n(42547).v)("discovery-filter");let _=class{constructor(){this.type=p,this.pageSize=5}static{this.type=p}get paramName(){return"f."+this.name}};(0,i.Cg)([e.aK,(0,i.Sn)("design:type",Object)],_.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"name",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetType"),(0,i.Sn)("design:type",String)],_.prototype,"filterType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"hasFacets",void 0),(0,i.Cg)([(0,t.autoserializeAs)(String,"facetLimit"),(0,i.Sn)("design:type",Object)],_.prototype,"pageSize",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],_.prototype,"isOpenByDefault",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"maxValue",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],_.prototype,"minValue",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],_.prototype,"_links",void 0),_=(0,i.Cg)([l.gV],_)},1102:(N,T,n)=>{"use strict";n.d(T,{n:()=>y});var i=n(31635),t=n(74850),l=n(21921),e=n(96820),f=n(98688),m=n(24385),p=n(78541);const v=new(n(42547).v)("discovery-objects");let y=class extends m.a{constructor(){super(...arguments),this.type=v}static{this.type=v}};(0,i.Cg)([f.aK,(0,i.Sn)("design:type",Object)],y.prototype,"type",void 0),(0,i.Cg)([(0,t.autoserializeAs)(p.q,"objects"),(0,i.Sn)("design:type",Array)],y.prototype,"page",void 0),y=(0,i.Cg)([l.gV,(0,t.inheritSerialization)(e.O),(0,t.inheritSerialization)(m.a)],y)},31192:(N,T,n)=>{"use strict";n.d(T,{n:()=>e});var i=n(78448),t=n(45663),l=n(82777);class e{constructor(m){this.view=i.n.ListElement,this.configuration=m.configuration,this.scope=m.scope,this.query=m.query,this.dsoTypes=m.dsoTypes,this.filters=m.filters,this.fixedFilter=m.fixedFilter}toRestUrl(m,p=[]){return(0,l.hj)(this.configuration)&&p.push(`configuration=${encodeURIComponent(this.configuration)}`),(0,l.hj)(this.fixedFilter)&&p.push(this.encodedFixedFilter),(0,l.hj)(this.query)&&p.push(`query=${encodeURIComponent(this.query)}`),(0,l.hj)(this.scope)&&p.push(`scope=${encodeURIComponent(this.scope)}`),(0,l.hj)(this.dsoTypes)&&this.dsoTypes.forEach(_=>{p.push(`dsoType=${encodeURIComponent(_)}`)}),(0,l.hj)(this.filters)&&this.filters.forEach(_=>{_.values.forEach(v=>{const y=v.includes(",")?`${v}`:v+(_.operator?","+_.operator:"");p.push(`${_.key}=${this.encodeFilterQueryValue(y)}`)})}),(0,l.hj)(p)&&(m=new t.t(m,`?${p.join("&")}`).toString()),m}get encodedFixedFilter(){const m=this.fixedFilter.match(/^([^=]+=)(.+)$/);return(0,l.a4)(m)?m[1]+this.encodeFilterQueryValue(m[2]):this.encodeFilterQueryValue(this.fixedFilter)}encodeFilterQueryValue(m){const p=m.match(/^(.*)(,\w+)$/);return(0,l.a4)(p)?encodeURIComponent(p[1])+p[2]:encodeURIComponent(m)}}},24385:(N,T,n)=>{"use strict";n.d(T,{a:()=>p});var i=n(31635),t=n(74850),l=n(96820),e=n(32089),f=n(15641);class m{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"by",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],m.prototype,"order",void 0);class p extends l.O{}(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"scope",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"query",void 0),(0,i.Cg)([(0,t.autoserializeAs)(f.S),(0,i.Sn)("design:type",Array)],p.prototype,"appliedFilters",void 0),(0,i.Cg)([(0,t.autoserializeAs)(m),(0,i.Sn)("design:type",m)],p.prototype,"sort",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"configuration",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",e.Q)],p.prototype,"pageInfo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],p.prototype,"page",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Object)],p.prototype,"facets",void 0)},78541:(N,T,n)=>{"use strict";n.d(T,{q:()=>v});var i=n(31635),t=n(74850),l=n(21921),e=n(14391),f=n(98688),m=n(22878);const _=new(n(42547).v)("searchresult");let v=class extends m.u{constructor(){super(...arguments),this.type=_}static{this.type=_}getRenderTypes(){return[this.constructor]}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.Cr)],v.prototype,"hitHighlights",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,f.gM)("uuid"),(0,i.Sn)("design:type",Object)],v.prototype,"indexableObject",void 0),v=(0,i.Cg)([l.gV],v)},53009:(N,T,n)=>{"use strict";n.d(T,{w:()=>P});var i=n(60177),t=n(52149),l=n(41780),e=n(5964),f=n(25558),m=n(96354),p=n(99172),_=n(65007),v=n(3970),y=n(32736),C=n(80183),O=n(1504),I=n(82777),D=n(39806),h=(n(33550),n(54438)),w=n(7901);function b(M,L){if(1&M){const B=h.RV6();h.j41(0,"button",1),h.nI1(1,"translate"),h.nI1(2,"translate"),h.nI1(3,"translate"),h.bIt("click",function(){h.eBV(B);const $=h.XpG();return h.Njj($.export())}),h.nrm(4,"i",2),h.k0s()}if(2&M){const B=h.XpG();h.Y8G("ngbTooltip",h.bMT(1,3,B.tooltipMsg))("title",h.bMT(2,5,B.tooltipMsg)),h.BMQ("aria-label",h.bMT(3,7,B.tooltipMsg))}}let P=(()=>{class M{constructor(B,U,$,j,G){this.scriptDataService=B,this.authorizationDataService=U,this.notificationsService=$,this.translateService=j,this.router=G,this.tooltipMsg="metadata-export-search.tooltip"}ngOnInit(){this.shouldShowButton$=this.authorizationDataService.isAuthorized(v._.AdministratorOf).pipe((0,e.p)(B=>B),(0,f.n)(()=>this.scriptDataService.scriptWithNameExistsAndCanExecute("metadata-export-search")),(0,m.T)(B=>B),(0,p.Z)(!1))}export(){const B=[];if((0,I.a4)(this.searchConfig)&&((0,I.hj)(this.searchConfig.query)&&B.push({name:"-q",value:this.searchConfig.query}),(0,I.hj)(this.searchConfig.scope)&&B.push({name:"-s",value:this.searchConfig.scope}),(0,I.hj)(this.searchConfig.configuration)&&B.push({name:"-c",value:this.searchConfig.configuration}),(0,I.hj)(this.searchConfig.filters)&&this.searchConfig.filters.forEach(U=>{(0,I.a4)(U.values)&&U.values.forEach($=>{let j,G;(0,I.a4)(U.operator)?(j=U.operator,G=$):(j=$.substring($.lastIndexOf(",")+1),G=$.substring(0,$.lastIndexOf(",")));const z=`${U.key.substring(2)},${j}=${G}`;B.push({name:"-f",value:z})})}),(0,I.hj)(this.searchConfig.fixedFilter))){const $=this.searchConfig.fixedFilter.substring(2).split("=");if($.length>1){const j=$[0],G=$[1].split(",");G.length>1&&B.push({name:"-f",value:`${j},${G[1]}=${G[0]}`})}}this.scriptDataService.invoke("metadata-export-search",B,[]).pipe((0,C.qD)()).subscribe(U=>{U.hasSucceeded?(this.notificationsService.success(this.translateService.get("metadata-export-search.submit.success")),this.router.navigateByUrl((0,O.yJ)(U.payload.processId))):this.notificationsService.error(this.translateService.get("metadata-export-search.submit.error"))})}static{this.\u0275fac=function(U){return new(U||M)(h.rXU(y.ScriptDataService),h.rXU(_.AuthorizationDataService),h.rXU(D.I),h.rXU(l.c$),h.rXU(w.Ix))}}static{this.\u0275cmp=h.VBU({type:M,selectors:[["ds-search-export-csv"]],inputs:{searchConfig:"searchConfig"},standalone:!0,features:[h.aNF],decls:2,vars:3,consts:[["class","export-button btn btn-dark btn-sm",3,"ngbTooltip","title","click",4,"ngIf"],[1,"export-button","btn","btn-dark","btn-sm",3,"click","ngbTooltip","title"],[1,"fas","fa-file-export","fa-fw"]],template:function(U,$){1&U&&(h.DNE(0,b,5,9,"button",0),h.nI1(1,"async")),2&U&&h.Y8G("ngIf",h.bMT(1,1,$.shouldShowButton$))},dependencies:[i.bT,t.n8,t.md,i.Jj,l.h,l.D9],styles:[".export-button[_ngcontent-%COMP%]{background:var(--ds-admin-sidebar-bg);border-color:var(--ds-admin-sidebar-bg)}"]})}}return M})()},22180:(N,T,n)=>{"use strict";n.d(T,{Bf:()=>y,Fi:()=>m,L2:()=>p,Po:()=>C,R0:()=>_,ge:()=>e,nj:()=>f,tq:()=>v,y$:()=>t});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/search-filter/COLLAPSE"),INITIALIZE:(0,i.N)("dspace/search-filter/INITIALIZE"),EXPAND:(0,i.N)("dspace/search-filter/EXPAND"),TOGGLE:(0,i.N)("dspace/search-filter/TOGGLE"),DECREMENT_PAGE:(0,i.N)("dspace/search-filter/DECREMENT_PAGE"),INCREMENT_PAGE:(0,i.N)("dspace/search-filter/INCREMENT_PAGE"),RESET_PAGE:(0,i.N)("dspace/search-filter/RESET_PAGE"),MINIMIZE_ALL:(0,i.N)("dspace/search-filters/MINIMIZE_ALL")};class l{constructor(I){this.filterName=I}}class e extends l{constructor(){super(...arguments),this.type=t.COLLAPSE}}class f extends l{constructor(){super(...arguments),this.type=t.EXPAND}}class m extends l{constructor(){super(...arguments),this.type=t.TOGGLE}}class p extends l{constructor(I){super(I.name),this.type=t.INITIALIZE,this.initiallyExpanded=I.isOpenByDefault}}class _ extends l{constructor(){super(...arguments),this.type=t.DECREMENT_PAGE}}class v extends l{constructor(){super(...arguments),this.type=t.INCREMENT_PAGE}}class y extends l{constructor(){super(...arguments),this.type=t.RESET_PAGE}}class C extends l{constructor(){super(...arguments),this.type=t.MINIMIZE_ALL}}},86868:(N,T,n)=>{"use strict";n.d(T,{a:()=>ba});var i=n(60177),t=n(54438),l=n(41780),e=n(84412),f=n(99172),m=n(84572),p=n(25558),_=n(7673),v=n(5964),y=n(96354),C=n(96697),O=n(78655),I=n(39012),D=n(15465),R=n(13955),h=n(621),w=n(82777),b=n(75465),M=(n(6842),n(49969)),L=n(23294),B=n(88141),U=n(72734),$=n(80183),j=n(30506),G=n(31192),z=n(7901);const V=["equals","authority","range"];let X=(()=>{class qe{constructor(ot,Ft,Ut,Dn,Qn){this.searchService=ot,this.filterService=Ft,this.rdbs=Ut,this.router=Dn,this.searchConfigService=Qn,this.facetValues$=new e.t([]),this.isLastPage$=new e.t(!1),this.isAvailableForShowSearchText=new e.t(!1),this.subs=[],this.filterSearchResults$=(0,_.of)([]),this.collapseNextUpdate=!0,this.animationState="loading"}ngOnInit(){this.currentUrl=this.router.url,this.currentPage=this.getCurrentPage().pipe((0,L.F)()),this.searchOptions$=this.searchConfigService.searchOptions.pipe((0,y.T)(ot=>(0,w.Tn)(this.scope)?ot:Object.assign(new G.n(ot),{scope:this.scope}))),this.subs.push(this.searchOptions$.subscribe(()=>this.updateFilterValueList()),this.retrieveFilterValues().subscribe()),this.selectedAppliedFilters$=this.searchService.getSelectedValuesForFilter(this.filterConfig.name).pipe((0,y.T)(ot=>ot.filter(Ft=>V.includes(Ft.operator))),(0,L.F)((ot,Ft)=>JSON.stringify(ot)===JSON.stringify(Ft)))}updateFilterValueList(){this.animationState="loading",this.collapseNextUpdate=!0,this.filter=""}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.inPlaceSearch?[]:this.getSearchLink().split("/")}showMore(){this.filterService.incrementPage(this.filterConfig.name)}showFirstPageOnly(){this.filterService.resetPage(this.filterConfig.name)}getCurrentPage(){return this.filterService.getPage(this.filterConfig.name)}onSubmit(ot){this.applyFilterValue(ot)}onClick(ot){this.applyFilterValue(ot.query)}hasValue(ot){return(0,w.a4)(ot)}ngOnDestroy(){this.subs.filter(ot=>(0,w.a4)(ot)).forEach(ot=>ot.unsubscribe())}findSuggestions(ot){this.subs.push(this.searchOptions$.pipe((0,C.s)(1)).subscribe(Ft=>{this.filterSearchResults$=this.filterService.findSuggestions(this.filterConfig,Ft,ot)}))}applyFilterValue(ot){if(ot.match(new RegExp("^.+,(equals|query|authority)$"))){this.filterService.minimizeAll();const Ft=ot.split(",");this.subs.push(this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Ft.slice(0,Ft.length-1).join(),Ft[Ft.length-1]).pipe((0,C.s)(1)).subscribe(Ut=>{this.router.navigate(this.getSearchLinkParts(),{queryParams:Ut}),this.filter="",this.filterSearchResults$=(0,_.of)([])}))}}retrieveFilterValues(){return(0,m.z)([this.searchOptions$,this.currentPage]).pipe((0,p.n)(([ot,Ft])=>this.searchService.getFacetValuesFor(this.filterConfig,Ft,ot).pipe((0,$.ak)(),(0,B.M)(Ut=>{this.isLastPage$.next((0,w.Tn)(Ut?.next)),this.isAvailableForShowSearchText.next(Ut?.page?.length<Ut?.facetLimit&&(0,w.Tn)(Ut?.next))}))),(0,y.T)(ot=>{let Ft=this.facetValues$.value;return this.collapseNextUpdate&&(this.showFirstPageOnly(),Ft=[],this.collapseNextUpdate=!1),1===ot.pageInfo.currentPage&&(Ft=[]),Ft=[...Ft,ot],Ft}),(0,B.M)(ot=>{this.animationState="ready",this.facetValues$.next(ot)}))}trackUpdate(ot,Ft){return Ft?Ft._links.search.href:void 0}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(O.S),t.rXU(D.U),t.rXU(U.o),t.rXU(z.Ix),t.rXU(R.EN))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-facet-filter"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.aNF],decls:0,vars:0,template:function(Ft,Ut){},encapsulation:2})}}return qe})();const J=(0,M.hZ)("facetLoad",[(0,M.wk)("ready",(0,M.iF)({opacity:1})),(0,M.wk)("loading",(0,M.iF)({opacity:0})),(0,M.kY)("loading <=> ready",(0,M.i0)(100))]);var q=n(22924),Z=n(92827),H=n(59780),Y=n(89417),Q=n(81648),ie=n(22978),oe=n(25488);let pe=(()=>{class qe{transform(ot,Ft){if(isNaN(ot)||(0,w.Im)(ot)||0===ot)return ot;let Ut=Math.abs(ot);const Dn=Math.pow(10,1),Qn=ot<0;let Es="";const $s=[{key:"Q",value:Math.pow(10,15)},{key:"T",value:Math.pow(10,12)},{key:"B",value:Math.pow(10,9)},{key:"M",value:Math.pow(10,6)},{key:"K",value:1e3}];for(let Cs=0;Cs<$s.length;Cs++){let di=Ut/$s[Cs].value;if(di=Math.round(di*Dn)/Dn,di>=1){Ut=di,Es=$s[Cs].key;break}}return(Qn?"-":"")+Ut+Es}static{this.\u0275fac=function(Ft){return new(Ft||qe)}}static{this.\u0275pipe=t.EJ8({name:"dsShortNumber",type:qe,pure:!0,standalone:!0})}}return qe})();n(54994);var re=n(54196);const Ce=qe=>[qe],Ee=qe=>({default:qe});function ue(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",1),t.nI1(1,"async"),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return Ut.announceFilter(),t.Njj(Ut.filterService.minimizeAll())}),t.j41(2,"label",2),t.nrm(3,"input",3),t.j41(4,"span",4)(5,"span",5),t.EFF(6),t.nI1(7,"dsShortNumber"),t.k0s(),t.EFF(8),t.nI1(9,"translate"),t.nI1(10,"translate"),t.k0s()()()}if(2&qe){const ot=t.XpG();t.Y8G("tabIndex",-1)("routerLink",t.eq3(15,Ce,ot.searchLink))("queryParams",t.bMT(1,6,ot.addQueryParams$)),t.R7$(3),t.Y8G("checked",!1),t.R7$(3),t.JRh(t.bMT(7,8,ot.filterValue.count)),t.R7$(2),t.SpI(" ",ot.filterValue.value.includes("info:eu-repo")?t.bMT(9,10,ot.filterValue.value):t.i5U(10,12,"search.filters."+ot.filterConfig.name+"."+ot.filterValue.value,t.eq3(17,Ee,ot.filterValue.value))," ")}}let ae=(()=>{class qe{constructor(ot,Ft,Ut,Dn,Qn,Es,$s){this.searchService=ot,this.filterService=Ft,this.searchConfigService=Ut,this.router=Dn,this.paginationService=Qn,this.liveRegionService=Es,this.translateService=$s}ngOnInit(){this.paginationId=this.searchConfigService.paginationID,this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ot=>!ot)),this.addQueryParams$=this.updateAddParams()}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.getFacetValue())}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateAddParams(){return this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,this.getFacetValue())}getFacetValue(){return(0,re.SB)(this.filterValue,this.filterConfig)}announceFilter(){const ot=this.translateService.instant("search-facet-option.update.announcement",{filter:this.filterValue.value});this.liveRegionService.addMessage(ot)}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(O.S),t.rXU(D.U),t.rXU(I.g),t.rXU(z.Ix),t.rXU(ie.m),t.rXU(oe.A),t.rXU(l.c$))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-facet-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row",3,"tabIndex","routerLink","queryParams","click",4,"ngIf"],[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"w-100","pl-1","break-facet"],[1,"float-right","badge","badge-secondary","badge-pill","mt-1","ml-1"]],template:function(Ft,Ut){1&Ft&&(t.DNE(0,ue,11,19,"a",0),t.nI1(1,"async")),2&Ft&&t.Y8G("ngIf",t.bMT(1,1,Ut.isVisible))},dependencies:[i.bT,z.Wk,i.Jj,l.h,l.D9,pe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return qe})();n(15641);const De=qe=>[qe],tt=qe=>({default:qe});let _t=(()=>{class qe{constructor(ot,Ft,Ut,Dn,Qn){this.paginationService=ot,this.router=Ft,this.searchFilterService=Ut,this.searchService=Dn,this.searchConfigService=Qn}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeQueryParams=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigService.unselectAppliedFilterParams(this.selectedValue.filter,this.selectedValue.value,this.selectedValue.operator)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(ie.m),t.rXU(z.Ix),t.rXU(D.U),t.rXU(O.S),t.rXU(I.g))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-facet-selected-option"]],inputs:{selectedValue:"selectedValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:8,vars:16,consts:[[1,"d-flex","flex-row",3,"click","tabIndex","routerLink","queryParams"],[1,"mb-0","d-flex","w-100"],["type","checkbox",1,"my-1","align-self-stretch","filter-checkbox",3,"checked"],[1,"filter-value","pl-1","break-facet"]],template:function(Ft,Ut){1&Ft&&(t.j41(0,"a",0),t.nI1(1,"async"),t.bIt("click",function(){return Ut.searchFilterService.minimizeAll()}),t.j41(2,"label",1),t.nrm(3,"input",2),t.j41(4,"span",3),t.EFF(5),t.nI1(6,"translate"),t.nI1(7,"translate"),t.k0s()()()),2&Ft&&(t.Y8G("tabIndex",-1)("routerLink",t.eq3(12,De,Ut.searchLink))("queryParams",t.bMT(1,5,Ut.removeQueryParams)),t.R7$(3),t.Y8G("checked",!0),t.R7$(2),t.SpI(" ",Ut.selectedValue.value.includes("info:eu-repo")?t.bMT(6,7,Ut.selectedValue.value):t.i5U(7,9,"search.filters."+Ut.filterConfig.name+"."+Ut.selectedValue.value,t.eq3(14,tt,Ut.selectedValue.label))," "))},dependencies:[i.Jj,z.Wk,l.h,l.D9],styles:["a[_ngcontent-%COMP%]{color:var(--bs-body-color)}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{text-decoration:none}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.break-facet[_ngcontent-%COMP%]{word-break:break-word}.filter-checkbox[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}"]})}}return qe})();function We(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-selected-option",7),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.Y8G("selectedValue",ot)("filterConfig",Ft.filterConfig)("inPlaceSearch",Ft.inPlaceSearch)}}function dt(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-option",9),2&qe){const ot=Ze.$implicit,Ft=t.XpG(2);t.Y8G("filterConfig",Ft.filterConfig)("filterValue",ot)("inPlaceSearch",Ft.inPlaceSearch)}}function it(qe,Ze){if(1&qe&&(t.qex(0),t.j41(1,"div"),t.DNE(2,dt,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ft.animationState),t.R7$(),t.Y8G("ngForOf",ot.page)("ngForTrackBy",Ft.trackUpdate)}}function Ge(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function gt(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Pe(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.DH7(Dn.filter,Ut)||(Dn.filter=Ut),t.Njj(Ut)}),t.bIt("submitSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onSubmit(Ut))})("clickSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onClick(Ut))})("findSuggestions",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.findSuggestions(Ut))}),t.k0s()}if(2&qe){const ot=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ot.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ot.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ot.filterConfig.name+".label"))("action",ot.currentUrl)("name",ot.filterConfig.paramName),t.R50("ngModel",ot.filter)}}let we=(()=>{class qe extends X{static{this.\u0275fac=(()=>{let ot;return function(Ut){return(ot||(ot=t.xGo(qe)))(Ut||qe)}})()}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-authority-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Ft,Ut){1&Ft&&(t.j41(0,"div")(1,"div",0),t.DNE(2,We,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,it,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Ge,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,gt,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Pe,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Ft&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Ut.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Ut.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Ut.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Ut.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Ut.isAvailableForShowSearchText)))},dependencies:[i.pM,_t,ae,i.bT,Q.H,Y.YN,Y.me,Y.BC,Y.vS,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-body-color)}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{text-decoration:none}.filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}.filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return qe})();function vt(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-selected-option",6),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.Y8G("selectedValue",ot)("filterConfig",Ft.filterConfig)("inPlaceSearch",Ft.inPlaceSearch)}}function at(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-option",8),2&qe){const ot=Ze.$implicit,Ft=t.XpG(2);t.Y8G("filterConfig",Ft.filterConfig)("filterValue",ot)("inPlaceSearch",Ft.inPlaceSearch)}}function nt(qe,Ze){if(1&qe&&(t.qex(0),t.j41(1,"div"),t.DNE(2,at,1,3,"ds-search-facet-option",7),t.k0s(),t.bVm()),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ft.animationState),t.R7$(),t.Y8G("ngForOf",ot.page)("ngForTrackBy",Ft.trackUpdate)}}function lt(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",9),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function ve(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}let Ne=(()=>{class qe extends X{static{this.\u0275fac=(()=>{let ot;return function(Ut){return(ot||(ot=t.xGo(qe)))(Ut||qe)}})()}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-boolean-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:11,vars:12,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"]],template:function(Ft,Ut){1&Ft&&(t.j41(0,"div")(1,"div",0),t.DNE(2,vt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,nt,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,lt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,ve,3,3,"a",5),t.nI1(10,"async"),t.k0s()()()),2&Ft&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,4,Ut.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,6,Ut.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,8,Ut.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,10,Ut.currentPage)>1))},dependencies:[i.pM,_t,ae,i.bT,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return qe})();var ut=n(22806),cn=n(82640),nn=n(32089),Mn=n(19506),Tt=n(38443),$t=n(52149);const St=qe=>({name:qe});function Jt(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-selected-option",8),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.Y8G("selectedValue",ot)("filterConfig",Ft.filterConfig)("inPlaceSearch",Ft.inPlaceSearch)}}function ln(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-option",10),2&qe){const ot=Ze.$implicit,Ft=t.XpG(2);t.Y8G("filterConfig",Ft.filterConfig)("filterValue",ot)("inPlaceSearch",Ft.inPlaceSearch)}}function It(qe,Ze){if(1&qe&&(t.qex(0),t.j41(1,"div"),t.DNE(2,ln,1,3,"ds-search-facet-option",9),t.k0s(),t.bVm()),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ft.animationState),t.R7$(),t.Y8G("ngForOf",ot.page)("ngForTrackBy",Ft.trackUpdate)}}function zt(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function Ht(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",12),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function At(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"ds-filter-input-suggestions",13),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.DH7(Dn.filter,Ut)||(Dn.filter=Ut),t.Njj(Ut)}),t.bIt("submitSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onSubmit(Ut))})("clickSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onClick(Ut))})("findSuggestions",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.findSuggestions(Ut))}),t.k0s()}if(2&qe){const ot=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ot.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ot.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ot.filterConfig.name+".label"))("action",ot.currentUrl)("name",ot.filterConfig.paramName),t.R50("ngModel",ot.filter)}}function Ot(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",14),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showVocabularyTree())}),t.EFF(1),t.nI1(2,"translate"),t.nI1(3,"lowercase"),t.nI1(4,"translate"),t.k0s()}if(2&qe){const ot=t.XpG();t.Mz_("id","show-",ot.filterConfig.name,"-tree"),t.R7$(),t.SpI(" ",t.i5U(4,7,"search.filters.filter.show-tree",t.eq3(10,St,t.bMT(3,5,t.bMT(2,3,"search.filters.filter."+ot.filterConfig.name+".head")))),"\n")}}let Zt=(()=>{class qe extends X{constructor(ot,Ft,Ut,Dn,Qn,Es,$s,Cs){super(ot,Ft,Ut,Dn,Cs),this.searchService=ot,this.filterService=Ft,this.rdbs=Ut,this.router=Dn,this.modalService=Qn,this.vocabularyService=Es,this.appConfig=$s,this.searchConfigService=Cs}onSubmit(ot){super.onSubmit((0,re.mq)(ot,"query"))}ngOnInit(){super.ngOnInit();const ot=this.getVocabularyEntry();(0,w.a4)(ot)&&(this.vocabularyExists$=this.vocabularyService.searchTopEntries(ot,new nn.Q,!0,!1).pipe((0,v.p)(Ft=>Ft.hasCompleted),(0,C.s)(1),(0,y.T)(Ft=>Ft.hasSucceeded)))}showVocabularyTree(){const ot=this.modalService.open(Tt._,{size:"lg",windowClass:"treeview"});ot.componentInstance.vocabularyOptions={name:this.getVocabularyEntry(),closed:!0},ot.componentInstance.showAdd=!1,this.subs.push((0,ut.H)(ot.result).pipe((0,p.n)(Ft=>this.searchConfigService.selectNewAppliedFilterParams(this.filterConfig.name,Ft.value,"equals")),(0,C.s)(1)).subscribe(Ft=>{this.router.navigate([this.searchService.getSearchLink()],{queryParams:Ft})}))}getVocabularyEntry(){const ot=this.appConfig.vocabularies.filter(Ft=>Ft.filter===this.filterConfig.name);if(ot.length>0&&!0===ot[0].enabled)return ot[0].vocabulary}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(O.S),t.rXU(D.U),t.rXU(U.o),t.rXU(z.Ix),t.rXU($t.Bq),t.rXU(Mn.g),t.rXU(cn.vQ),t.rXU(R.EN))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-hierarchy-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:15,vars:18,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],["href","javascript:void(0);",3,"id","click",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"],["href","javascript:void(0);",3,"click","id"]],template:function(Ft,Ut){1&Ft&&(t.j41(0,"div")(1,"div",0),t.DNE(2,Jt,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,It,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,zt,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,Ht,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,At,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s(),t.DNE(13,Ot,5,12,"a",7),t.nI1(14,"async")),2&Ft&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,6,Ut.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,8,Ut.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,10,Ut.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,12,Ut.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,14,Ut.isAvailableForShowSearchText)),t.R7$(2),t.Y8G("ngIf",t.bMT(14,16,Ut.vocabularyExists$)))},dependencies:[i.pM,_t,ae,i.bT,Q.H,Y.YN,Y.me,Y.BC,Y.vS,i.Jj,i.GH,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return qe})();var Dt=function(qe){return qe.Range="range",qe.Steps="steps",qe.Positions="positions",qe.Count="count",qe.Values="values",qe}(Dt||{}),Lt=function(qe){return qe[qe.None=-1]="None",qe[qe.NoValue=0]="NoValue",qe[qe.LargeValue=1]="LargeValue",qe[qe.SmallValue=2]="SmallValue",qe}(Lt||{});function Le(qe){return"object"==typeof qe&&"function"==typeof qe.to}function je(qe){qe.parentElement.removeChild(qe)}function He(qe){return null!=qe}function Be(qe){qe.preventDefault()}function Et(qe){return"number"==typeof qe&&!isNaN(qe)&&isFinite(qe)}function qt(qe,Ze,ot){ot>0&&(hs(qe,Ze),setTimeout(function(){Gs(qe,Ze)},ot))}function fn(qe){return Math.max(Math.min(qe,100),0)}function Cn(qe){return Array.isArray(qe)?qe:[qe]}function ns(qe){var Ze=(qe=String(qe)).split(".");return Ze.length>1?Ze[1].length:0}function hs(qe,Ze){qe.classList&&!/\s/.test(Ze)?qe.classList.add(Ze):qe.className+=" "+Ze}function Gs(qe,Ze){qe.classList&&!/\s/.test(Ze)?qe.classList.remove(Ze):qe.className=qe.className.replace(new RegExp("(^|\\b)"+Ze.split(" ").join("|")+"(\\b|$)","gi")," ")}function ct(qe){var Ze=void 0!==window.pageXOffset,ot="CSS1Compat"===(qe.compatMode||"");return{x:Ze?window.pageXOffset:ot?qe.documentElement.scrollLeft:qe.body.scrollLeft,y:Ze?window.pageYOffset:ot?qe.documentElement.scrollTop:qe.body.scrollTop}}function rs(qe,Ze){return 100/(Ze-qe)}function as(qe,Ze,ot){return 100*Ze/(qe[ot+1]-qe[ot])}function Is(qe,Ze){for(var ot=1;qe>=Ze[ot];)ot+=1;return ot}var Zn=function(){function qe(Ze,ot,Ft){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[Ft||!1],this.xNumSteps=[!1],this.snap=ot;var Ut,Dn=[];for(Object.keys(Ze).forEach(function(Qn){Dn.push([Cn(Ze[Qn]),Qn])}),Dn.sort(function(Qn,Es){return Qn[0][0]-Es[0][0]}),Ut=0;Ut<Dn.length;Ut++)this.handleEntryPoint(Dn[Ut][1],Dn[Ut][0]);for(this.xNumSteps=this.xSteps.slice(0),Ut=0;Ut<this.xNumSteps.length;Ut++)this.handleStepPoint(Ut,this.xNumSteps[Ut])}return qe.prototype.getDistance=function(Ze){for(var ot=[],Ft=0;Ft<this.xNumSteps.length-1;Ft++)ot[Ft]=as(this.xVal,Ze,Ft);return ot},qe.prototype.getAbsoluteDistance=function(Ze,ot,Ft){var Ut=0;if(Ze<this.xPct[this.xPct.length-1])for(;Ze>this.xPct[Ut+1];)Ut++;else Ze===this.xPct[this.xPct.length-1]&&(Ut=this.xPct.length-2);!Ft&&Ze===this.xPct[Ut+1]&&Ut++,null===ot&&(ot=[]);var Dn,Qn=1,Es=ot[Ut],$s=0,Cs=0,di=0,Hi=0;for(Dn=Ft?(Ze-this.xPct[Ut])/(this.xPct[Ut+1]-this.xPct[Ut]):(this.xPct[Ut+1]-Ze)/(this.xPct[Ut+1]-this.xPct[Ut]);Es>0;)$s=this.xPct[Ut+1+Hi]-this.xPct[Ut+Hi],ot[Ut+Hi]*Qn+100-100*Dn>100?(Cs=$s*Dn,Qn=(Es-100*Dn)/ot[Ut+Hi],Dn=1):(Cs=ot[Ut+Hi]*$s/100*Qn,Qn=0),Ft?(di-=Cs,this.xPct.length+Hi>=1&&Hi--):(di+=Cs,this.xPct.length-Hi>=1&&Hi++),Es=ot[Ut+Hi]*Qn;return Ze+di},qe.prototype.toStepping=function(Ze){return function os(qe,Ze,ot){if(ot>=qe.slice(-1)[0])return 100;var Ft=Is(ot,qe),Qn=Ze[Ft-1],Es=Ze[Ft];return Qn+function Qs(qe,Ze){return as(qe,qe[0]<0?Ze+Math.abs(qe[0]):Ze-qe[0],0)}([qe[Ft-1],qe[Ft]],ot)/rs(Qn,Es)}(this.xVal,this.xPct,Ze)},qe.prototype.fromStepping=function(Ze){return function rn(qe,Ze,ot){if(ot>=100)return qe.slice(-1)[0];var Ft=Is(ot,Ze),Qn=Ze[Ft-1];return function gs(qe,Ze){return Ze*(qe[1]-qe[0])/100+qe[0]}([qe[Ft-1],qe[Ft]],(ot-Qn)*rs(Qn,Ze[Ft]))}(this.xVal,this.xPct,Ze)},qe.prototype.getStep=function(Ze){return function pn(qe,Ze,ot,Ft){if(100===Ft)return Ft;var Ut=Is(Ft,qe),Dn=qe[Ut-1],Qn=qe[Ut];return ot?Ft-Dn>(Qn-Dn)/2?Qn:Dn:Ze[Ut-1]?qe[Ut-1]+function Je(qe,Ze){return Math.round(qe/Ze)*Ze}(Ft-qe[Ut-1],Ze[Ut-1]):Ft}(this.xPct,this.xSteps,this.snap,Ze)},qe.prototype.getDefaultStep=function(Ze,ot,Ft){var Ut=Is(Ze,this.xPct);return(100===Ze||ot&&Ze===this.xPct[Ut-1])&&(Ut=Math.max(Ut-1,1)),(this.xVal[Ut]-this.xVal[Ut-1])/Ft},qe.prototype.getNearbySteps=function(Ze){var ot=Is(Ze,this.xPct);return{stepBefore:{startValue:this.xVal[ot-2],step:this.xNumSteps[ot-2],highestStep:this.xHighestCompleteStep[ot-2]},thisStep:{startValue:this.xVal[ot-1],step:this.xNumSteps[ot-1],highestStep:this.xHighestCompleteStep[ot-1]},stepAfter:{startValue:this.xVal[ot],step:this.xNumSteps[ot],highestStep:this.xHighestCompleteStep[ot]}}},qe.prototype.countStepDecimals=function(){var Ze=this.xNumSteps.map(ns);return Math.max.apply(null,Ze)},qe.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},qe.prototype.convert=function(Ze){return this.getStep(this.toStepping(Ze))},qe.prototype.handleEntryPoint=function(Ze,ot){var Ft;if(!Et(Ft="min"===Ze?0:"max"===Ze?100:parseFloat(Ze))||!Et(ot[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(Ft),this.xVal.push(ot[0]);var Ut=Number(ot[1]);Ft?this.xSteps.push(!isNaN(Ut)&&Ut):isNaN(Ut)||(this.xSteps[0]=Ut),this.xHighestCompleteStep.push(0)},qe.prototype.handleStepPoint=function(Ze,ot){if(ot){if(this.xVal[Ze]===this.xVal[Ze+1])return void(this.xSteps[Ze]=this.xHighestCompleteStep[Ze]=this.xVal[Ze]);this.xSteps[Ze]=as([this.xVal[Ze],this.xVal[Ze+1]],ot,0)/rs(this.xPct[Ze],this.xPct[Ze+1]);var Ut=Math.ceil(Number(((this.xVal[Ze+1]-this.xVal[Ze])/this.xNumSteps[Ze]).toFixed(3))-1);this.xHighestCompleteStep[Ze]=this.xVal[Ze]+this.xNumSteps[Ze]*Ut}},qe}(),Ps={to:function(qe){return void 0===qe?"":qe.toFixed(2)},from:Number},ai={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},mt={tooltips:".__tooltips",aria:".__aria"};function Gt(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'step' is not numeric.");qe.singleStep=Ze}function $e(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");qe.keyboardPageMultiplier=Ze}function en(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");qe.keyboardMultiplier=Ze}function rt(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");qe.keyboardDefaultStep=Ze}function ht(qe,Ze){if("object"!=typeof Ze||Array.isArray(Ze))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===Ze.min||void 0===Ze.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");qe.spectrum=new Zn(Ze,qe.snap||!1,qe.singleStep)}function Ct(qe,Ze){if(Ze=Cn(Ze),!Array.isArray(Ze)||!Ze.length)throw new Error("noUiSlider: 'start' option is incorrect.");qe.handles=Ze.length,qe.start=Ze}function kt(qe,Ze){if("boolean"!=typeof Ze)throw new Error("noUiSlider: 'snap' option must be a boolean.");qe.snap=Ze}function sn(qe,Ze){if("boolean"!=typeof Ze)throw new Error("noUiSlider: 'animate' option must be a boolean.");qe.animate=Ze}function Tn(qe,Ze){if("number"!=typeof Ze)throw new Error("noUiSlider: 'animationDuration' option must be a number.");qe.animationDuration=Ze}function Vn(qe,Ze){var Ft,ot=[!1];if("lower"===Ze?Ze=[!0,!1]:"upper"===Ze&&(Ze=[!1,!0]),!0===Ze||!1===Ze){for(Ft=1;Ft<qe.handles;Ft++)ot.push(Ze);ot.push(!1)}else{if(!Array.isArray(Ze)||!Ze.length||Ze.length!==qe.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");ot=Ze}qe.connect=ot}function Ln(qe,Ze){switch(Ze){case"horizontal":qe.ort=0;break;case"vertical":qe.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function ms(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==Ze&&(qe.margin=qe.spectrum.getDistance(Ze))}function Os(qe,Ze){if(!Et(Ze))throw new Error("noUiSlider: 'limit' option must be numeric.");if(qe.limit=qe.spectrum.getDistance(Ze),!qe.limit||qe.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function ys(qe,Ze){var ot;if(!Et(Ze)&&!Array.isArray(Ze))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(Ze)&&2!==Ze.length&&!Et(Ze[0])&&!Et(Ze[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==Ze){for(Array.isArray(Ze)||(Ze=[Ze,Ze]),qe.padding=[qe.spectrum.getDistance(Ze[0]),qe.spectrum.getDistance(Ze[1])],ot=0;ot<qe.spectrum.xNumSteps.length-1;ot++)if(qe.padding[0][ot]<0||qe.padding[1][ot]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");if((Ze[0]+Ze[1])/(qe.spectrum.xVal[qe.spectrum.xVal.length-1]-qe.spectrum.xVal[0])>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function ls(qe,Ze){switch(Ze){case"ltr":qe.dir=0;break;case"rtl":qe.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Ds(qe,Ze){if("string"!=typeof Ze)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var ot=Ze.indexOf("tap")>=0,Ft=Ze.indexOf("drag")>=0,Ut=Ze.indexOf("fixed")>=0,Dn=Ze.indexOf("snap")>=0,Qn=Ze.indexOf("hover")>=0,Es=Ze.indexOf("unconstrained")>=0,$s=Ze.indexOf("invert-connects")>=0,Cs=Ze.indexOf("drag-all")>=0,di=Ze.indexOf("smooth-steps")>=0;if(Ut){if(2!==qe.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");ms(qe,qe.start[1]-qe.start[0])}if($s&&2!==qe.handles)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(Es&&(qe.margin||qe.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");qe.events={tap:ot||Dn,drag:Ft,dragAll:Cs,smoothSteps:di,fixed:Ut,snap:Dn,hover:Qn,unconstrained:Es,invertConnects:$s}}function Mi(qe,Ze){if(!1!==Ze)if(!0===Ze||Le(Ze)){qe.tooltips=[];for(var ot=0;ot<qe.handles;ot++)qe.tooltips.push(Ze)}else{if((Ze=Cn(Ze)).length!==qe.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");Ze.forEach(function(Ft){if("boolean"!=typeof Ft&&!Le(Ft))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),qe.tooltips=Ze}}function ki(qe,Ze){if(Ze.length!==qe.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");qe.handleAttributes=Ze}function Ai(qe,Ze){if(!Le(Ze))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");qe.ariaFormat=Ze}function Ni(qe,Ze){if(!function st(qe){return Le(qe)&&"function"==typeof qe.from}(Ze))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");qe.format=Ze}function Ar(qe,Ze){if("boolean"!=typeof Ze)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");qe.keyboardSupport=Ze}function Zi(qe,Ze){qe.documentElement=Ze}function Ms(qe,Ze){if("string"!=typeof Ze&&!1!==Ze)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");qe.cssPrefix=Ze}function Ys(qe,Ze){if("object"!=typeof Ze)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof qe.cssPrefix?(qe.cssClasses={},Object.keys(Ze).forEach(function(ot){qe.cssClasses[ot]=qe.cssPrefix+Ze[ot]})):qe.cssClasses=Ze}function $i(qe){var Ze={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Ps,format:Ps},ot={step:{r:!1,t:Gt},keyboardPageMultiplier:{r:!1,t:$e},keyboardMultiplier:{r:!1,t:en},keyboardDefaultStep:{r:!1,t:rt},start:{r:!0,t:Ct},connect:{r:!0,t:Vn},direction:{r:!0,t:ls},snap:{r:!1,t:kt},animate:{r:!1,t:sn},animationDuration:{r:!1,t:Tn},range:{r:!0,t:ht},orientation:{r:!1,t:Ln},margin:{r:!1,t:ms},limit:{r:!1,t:Os},padding:{r:!1,t:ys},behaviour:{r:!0,t:Ds},ariaFormat:{r:!1,t:Ai},format:{r:!1,t:Ni},tooltips:{r:!1,t:Mi},keyboardSupport:{r:!0,t:Ar},documentElement:{r:!1,t:Zi},cssPrefix:{r:!0,t:Ms},cssClasses:{r:!0,t:Ys},handleAttributes:{r:!1,t:ki}},Ft={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ai,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};qe.format&&!qe.ariaFormat&&(qe.ariaFormat=qe.format),Object.keys(ot).forEach(function($s){if(He(qe[$s])||void 0!==Ft[$s])ot[$s].t(Ze,He(qe[$s])?qe[$s]:Ft[$s]);else if(ot[$s].r)throw new Error("noUiSlider: '"+$s+"' is required.")}),Ze.pips=qe.pips;var Ut=document.createElement("div");return Ze.transformRule=void 0!==Ut.style.transform?"transform":void 0!==Ut.style.msTransform?"msTransform":"webkitTransform",Ze.style=[["left","top"],["right","bottom"]][Ze.dir][Ze.ort],Ze}function po(qe,Ze,ot){var Es,$s,Cs,di,Hi,ui,Ft=function Xt(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}(),Dn=function kn(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}()&&function Pn(){var qe=!1;try{var Ze=Object.defineProperty({},"passive",{get:function(){qe=!0}});window.addEventListener("test",null,Ze)}catch{}return qe}(),Qn=qe,qs=Ze.spectrum,zi=[],Vi=[],Er=[],qi=0,Ks={},er=!1,Vr=qe.ownerDocument,cr=Ze.documentElement||Vr.documentElement,_r=Vr.body,Jo="rtl"===Vr.dir||1===Ze.ort?0:100;function fr(Vt,an){var Rt=Vr.createElement("div");return an&&hs(Rt,an),Vt.appendChild(Rt),Rt}function Gr(Vt,an){var Rt=fr(Vt,Ze.cssClasses.origin),In=fr(Rt,Ze.cssClasses.handle);if(fr(In,Ze.cssClasses.touchArea),In.setAttribute("data-handle",String(an)),Ze.keyboardSupport&&(In.setAttribute("tabindex","0"),In.addEventListener("keydown",function(es){return function Ta(Vt,an){if(Ve()||me(an))return!1;var Rt=["Left","Right"],In=["Down","Up"],Fn=["PageDown","PageUp"],es=["Home","End"];Ze.dir&&!Ze.ort?Rt.reverse():Ze.ort&&!Ze.dir&&(In.reverse(),Fn.reverse());var sr,Bs=Vt.key.replace("Arrow",""),zn=Bs===Fn[0],yi=Bs===Fn[1],xi=Bs===In[0]||Bs===Rt[0]||zn,nr=Bs===In[1]||Bs===Rt[1]||yi,xn=Bs===es[1];if(!(xi||nr||Bs===es[0]||xn))return!0;if(Vt.preventDefault(),nr||xi){var Mr=xi?0:1,Xe=Io(an)[Mr];if(null===Xe)return!1;!1===Xe&&(Xe=qs.getDefaultStep(Vi[an],xi,Ze.keyboardDefaultStep)),Xe*=yi||zn?Ze.keyboardPageMultiplier:Ze.keyboardMultiplier,Xe=Math.max(Xe,1e-7),sr=zi[an]+(Xe*=xi?-1:1)}else sr=xn?Ze.spectrum.xVal[Ze.spectrum.xVal.length-1]:Ze.spectrum.xVal[0];return bs(an,qs.toStepping(sr),!0,!0),fs("slide",an),fs("update",an),fs("change",an),fs("set",an),!1}(es,an)})),void 0!==Ze.handleAttributes){var Fn=Ze.handleAttributes[an];Object.keys(Fn).forEach(function(es){In.setAttribute(es,Fn[es])})}return In.setAttribute("role","slider"),In.setAttribute("aria-orientation",Ze.ort?"vertical":"horizontal"),0===an?hs(In,Ze.cssClasses.handleLower):an===Ze.handles-1&&hs(In,Ze.cssClasses.handleUpper),Rt.handle=In,Rt}function ca(Vt,an){return!!an&&fr(Vt,Ze.cssClasses.connect)}function se(Vt,an){return!(!Ze.tooltips||!Ze.tooltips[an])&&fr(Vt.firstChild,Ze.cssClasses.tooltip)}function Ve(){return Qn.hasAttribute("disabled")}function me(Vt){return Cs[Vt].hasAttribute("disabled")}function En(){ui&&(vo("update"+mt.tooltips),ui.forEach(function(Vt){Vt&&je(Vt)}),ui=null)}function Yn(){En(),ui=Cs.map(se),tr("update"+mt.tooltips,function(Vt,an,Rt){if(ui&&Ze.tooltips&&!1!==ui[an]){var In=Vt[an];!0!==Ze.tooltips[an]&&(In=Ze.tooltips[an].to(Rt[an])),ui[an].innerHTML=In}})}function Yi(Vt,an){return Vt.map(function(Rt){return qs.fromStepping(an?qs.getStep(Rt):Rt)})}function Ci(){Hi&&(je(Hi),Hi=null)}function Qo(Vt){Ci();var an=function Gi(Vt){function an(xi,nr){return Number((xi+nr).toFixed(7))}var Rt=function xs(Vt){if(Vt.mode===Dt.Range||Vt.mode===Dt.Steps)return qs.xVal;if(Vt.mode===Dt.Count){if(Vt.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var an=Vt.values-1,Rt=100/an,In=[];an--;)In[an]=an*Rt;return In.push(100),Yi(In,Vt.stepped)}return Vt.mode===Dt.Positions?Yi(Vt.values,Vt.stepped):Vt.mode===Dt.Values?Vt.stepped?Vt.values.map(function(Fn){return qs.fromStepping(qs.getStep(qs.toStepping(Fn)))}):Vt.values:[]}(Vt),In={},Fn=qs.xVal[0],es=qs.xVal[qs.xVal.length-1],Bs=!1,zn=!1,yi=0;return Rt=function Pt(qe){return qe.filter(function(Ze){return!this[Ze]&&(this[Ze]=!0)},{})}(Rt.slice().sort(function(xi,nr){return xi-nr})),Rt[0]!==Fn&&(Rt.unshift(Fn),Bs=!0),Rt[Rt.length-1]!==es&&(Rt.push(es),zn=!0),Rt.forEach(function(xi,nr){var Bi,xn,sr,Xe,Re,Ye,xt,wn,ts,Mr=xi,fe=Rt[nr+1],Us=Vt.mode===Dt.Steps;for(Us&&(Bi=qs.xNumSteps[nr]),Bi||(Bi=fe-Mr),void 0===fe&&(fe=Mr),Bi=Math.max(Bi,1e-7),xn=Mr;xn<=fe;xn=an(xn,Bi)){for(ts=(Re=(Xe=qs.toStepping(xn))-yi)/(wn=Math.round(Re/(Vt.density||1))),sr=1;sr<=wn;sr+=1)In[(Ye=yi+sr*ts).toFixed(5)]=[qs.fromStepping(Ye),0];xt=Rt.indexOf(xn)>-1?Lt.LargeValue:Us?Lt.SmallValue:Lt.NoValue,!nr&&Bs&&xn!==fe&&(xt=0),xn===fe&&zn||(In[Xe.toFixed(5)]=[xn,xt]),yi=Xe}}),In}(Vt);return Hi=Qn.appendChild(function xr(Vt,an,Rt){var In,Fn,es=Vr.createElement("div"),Bs=((In={})[Lt.None]="",In[Lt.NoValue]=Ze.cssClasses.valueNormal,In[Lt.LargeValue]=Ze.cssClasses.valueLarge,In[Lt.SmallValue]=Ze.cssClasses.valueSub,In),zn=((Fn={})[Lt.None]="",Fn[Lt.NoValue]=Ze.cssClasses.markerNormal,Fn[Lt.LargeValue]=Ze.cssClasses.markerLarge,Fn[Lt.SmallValue]=Ze.cssClasses.markerSub,Fn),yi=[Ze.cssClasses.valueHorizontal,Ze.cssClasses.valueVertical],xi=[Ze.cssClasses.markerHorizontal,Ze.cssClasses.markerVertical];function nr(xn,sr){var Mr=sr===Ze.cssClasses.value;return sr+" "+(Mr?yi:xi)[Ze.ort]+" "+(Mr?Bs:zn)[xn]}return hs(es,Ze.cssClasses.pips),hs(es,0===Ze.ort?Ze.cssClasses.pipsHorizontal:Ze.cssClasses.pipsVertical),Object.keys(Vt).forEach(function(xn){!function Bi(xn,sr,Mr){if((Mr=an?an(sr,Mr):Mr)!==Lt.None){var fe=fr(es,!1);fe.className=nr(Mr,Ze.cssClasses.marker),fe.style[Ze.style]=xn+"%",Mr>Lt.NoValue&&((fe=fr(es,!1)).className=nr(Mr,Ze.cssClasses.value),fe.setAttribute("data-value",String(sr)),fe.style[Ze.style]=xn+"%",fe.innerHTML=String(Rt.to(sr)))}}(xn,Vt[xn][0],Vt[xn][1])}),es}(an,Vt.filter,Vt.format||{to:function(Fn){return String(Math.round(Fn))}}))}function xo(){var Vt=Es.getBoundingClientRect(),an="offset"+["Width","Height"][Ze.ort];return 0===Ze.ort?Vt.width||Es[an]:Vt.height||Es[an]}function Oo(Vt,an,Rt,In){var Fn=function(Bs){var zn=function Mo(Vt,an,Rt){var In=0===Vt.type.indexOf("touch"),Fn=0===Vt.type.indexOf("mouse"),es=0===Vt.type.indexOf("pointer"),Bs=0,zn=0;if(0===Vt.type.indexOf("MSPointer")&&(es=!0),"mousedown"===Vt.type&&!Vt.buttons&&!Vt.touches)return!1;if(In){var yi=function(Bi){var xn=Bi.target;return xn===Rt||Rt.contains(xn)||Vt.composed&&Vt.composedPath().shift()===Rt};if("touchstart"===Vt.type){var xi=Array.prototype.filter.call(Vt.touches,yi);if(xi.length>1)return!1;Bs=xi[0].pageX,zn=xi[0].pageY}else{var nr=Array.prototype.find.call(Vt.changedTouches,yi);if(!nr)return!1;Bs=nr.pageX,zn=nr.pageY}}return an=an||ct(Vr),(Fn||es)&&(Bs=Vt.clientX+an.x,zn=Vt.clientY+an.y),Vt.pageOffset=an,Vt.points=[Bs,zn],Vt.cursor=Fn||es,Vt}(Bs,In.pageOffset,In.target||an);if(!zn||Ve()&&!In.doNotReject||function yt(qe,Ze){return qe.classList?qe.classList.contains(Ze):new RegExp("\\b"+Ze+"\\b").test(qe.className)}(Qn,Ze.cssClasses.tap)&&!In.doNotReject||Vt===Ft.start&&void 0!==zn.buttons&&zn.buttons>1||In.hover&&zn.buttons)return!1;Dn||zn.preventDefault(),zn.calcPoint=zn.points[Ze.ort],Rt(zn,In)},es=[];return Vt.split(" ").forEach(function(Bs){an.addEventListener(Bs,Fn,!!Dn&&{passive:!0}),es.push([Bs,Fn])}),es}function sl(Vt){var an=Vt-function Nt(qe,Ze){var ot=qe.getBoundingClientRect(),Ft=qe.ownerDocument,Ut=Ft.documentElement,Dn=ct(Ft);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Dn.x=0),Ze?ot.top+Dn.y-Ut.clientTop:ot.left+Dn.x-Ut.clientLeft}(Es,Ze.ort),Rt=100*an/xo();return Rt=fn(Rt),Ze.dir?100-Rt:Rt}function jo(Vt,an){"mouseout"===Vt.type&&"HTML"===Vt.target.nodeName&&null===Vt.relatedTarget&&Zo(Vt,an)}function Ba(Vt,an){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===Vt.buttons&&0!==an.buttonsProperty)return Zo(Vt,an);var Rt=(Ze.dir?-1:1)*(Vt.calcPoint-an.startCalcPoint);pa(Rt>0,100*Rt/an.baseSize,an.locations,an.handleNumbers,an.connect)}function Zo(Vt,an){an.handle&&(Gs(an.handle,Ze.cssClasses.active),qi-=1),an.listeners.forEach(function(Rt){cr.removeEventListener(Rt[0],Rt[1])}),0===qi&&(Gs(Qn,Ze.cssClasses.drag),Vo(),Vt.cursor&&(_r.style.cursor="",_r.removeEventListener("selectstart",Be))),Ze.events.smoothSteps&&(an.handleNumbers.forEach(function(Rt){bs(Rt,Vi[Rt],!0,!0,!1,!1)}),an.handleNumbers.forEach(function(Rt){fs("update",Rt)})),an.handleNumbers.forEach(function(Rt){fs("change",Rt),fs("set",Rt),fs("end",Rt)})}function ko(Vt,an){if(!an.handleNumbers.some(me)){var Rt;1===an.handleNumbers.length&&(qi+=1,hs(Rt=Cs[an.handleNumbers[0]].children[0],Ze.cssClasses.active)),Vt.stopPropagation();var Fn=[],es=Oo(Ft.move,cr,Ba,{target:Vt.target,handle:Rt,connect:an.connect,listeners:Fn,startCalcPoint:Vt.calcPoint,baseSize:xo(),pageOffset:Vt.pageOffset,handleNumbers:an.handleNumbers,buttonsProperty:Vt.buttons,locations:Vi.slice()}),Bs=Oo(Ft.end,cr,Zo,{target:Vt.target,handle:Rt,listeners:Fn,doNotReject:!0,handleNumbers:an.handleNumbers}),zn=Oo("mouseout",cr,jo,{target:Vt.target,handle:Rt,listeners:Fn,doNotReject:!0,handleNumbers:an.handleNumbers});Fn.push.apply(Fn,es.concat(Bs,zn)),Vt.cursor&&(_r.style.cursor=getComputedStyle(Vt.target).cursor,Cs.length>1&&hs(Qn,Ze.cssClasses.drag),_r.addEventListener("selectstart",Be,!1)),an.handleNumbers.forEach(function(yi){fs("start",yi)})}}function da(Vt){Vt.stopPropagation();var an=sl(Vt.calcPoint),Rt=function Wl(Vt){var an=100,Rt=!1;return Cs.forEach(function(In,Fn){if(!me(Fn)){var es=Vi[Fn],Bs=Math.abs(es-Vt);(Bs<an||Bs<=an&&Vt>es||100===Bs&&100===an)&&(Rt=Fn,an=Bs)}}),Rt}(an);!1!==Rt&&(Ze.events.snap||qt(Qn,Ze.cssClasses.tap,Ze.animationDuration),bs(Rt,an,!0,!0),Vo(),fs("slide",Rt,!0),fs("update",Rt,!0),Ze.events.snap?ko(Vt,{handleNumbers:[Rt]}):(fs("change",Rt,!0),fs("set",Rt,!0)))}function Ua(Vt){var an=sl(Vt.calcPoint),Rt=qs.getStep(an),In=qs.fromStepping(Rt);Object.keys(Ks).forEach(function(Fn){"hover"===Fn.split(".")[0]&&Ks[Fn].forEach(function(es){es.call(na,In)})})}function si(Vt){Vt.fixed||Cs.forEach(function(an,Rt){Oo(Ft.start,an.children[0],ko,{handleNumbers:[Rt]})}),Vt.tap&&Oo(Ft.start,Es,da,{}),Vt.hover&&Oo(Ft.move,Es,Ua,{hover:!0}),Vt.drag&&di.forEach(function(an,Rt){if(!1!==an&&0!==Rt&&Rt!==di.length-1){var In=Cs[Rt-1],Fn=Cs[Rt],es=[an],Bs=[In,Fn],zn=[Rt-1,Rt];hs(an,Ze.cssClasses.draggable),Vt.fixed&&(es.push(In.children[0]),es.push(Fn.children[0])),Vt.dragAll&&(Bs=Cs,zn=Er),es.forEach(function(yi){Oo(Ft.start,yi,ko,{handles:Bs,handleNumbers:zn,connect:an})})}})}function tr(Vt,an){Ks[Vt]=Ks[Vt]||[],Ks[Vt].push(an),"update"===Vt.split(".")[0]&&Cs.forEach(function(Rt,In){fs("update",In)})}function vo(Vt){var an=Vt&&Vt.split(".")[0],Rt=an?Vt.substring(an.length):Vt;Object.keys(Ks).forEach(function(In){var Fn=In.split(".")[0],es=In.substring(Fn.length);an&&an!==Fn||Rt&&Rt!==es||function mr(Vt){return Vt===mt.aria||Vt===mt.tooltips}(es)&&Rt!==es||delete Ks[In]})}function fs(Vt,an,Rt){Object.keys(Ks).forEach(function(In){var Fn=In.split(".")[0];Vt===Fn&&Ks[In].forEach(function(es){es.call(na,zi.map(Ze.format.to),an,zi.slice(),Rt||!1,Vi.slice(),na)})})}function ua(Vt,an,Rt,In,Fn,es,Bs){var zn;return Cs.length>1&&!Ze.events.unconstrained&&(In&&an>0&&(zn=qs.getAbsoluteDistance(Vt[an-1],Ze.margin,!1),Rt=Math.max(Rt,zn)),Fn&&an<Cs.length-1&&(zn=qs.getAbsoluteDistance(Vt[an+1],Ze.margin,!0),Rt=Math.min(Rt,zn))),Cs.length>1&&Ze.limit&&(In&&an>0&&(zn=qs.getAbsoluteDistance(Vt[an-1],Ze.limit,!1),Rt=Math.min(Rt,zn)),Fn&&an<Cs.length-1&&(zn=qs.getAbsoluteDistance(Vt[an+1],Ze.limit,!0),Rt=Math.max(Rt,zn))),Ze.padding&&(0===an&&(zn=qs.getAbsoluteDistance(0,Ze.padding[0],!1),Rt=Math.max(Rt,zn)),an===Cs.length-1&&(zn=qs.getAbsoluteDistance(100,Ze.padding[1],!0),Rt=Math.min(Rt,zn))),Bs||(Rt=qs.getStep(Rt)),!((Rt=fn(Rt))===Vt[an]&&!es)&&Rt}function ha(Vt,an){var Rt=Ze.ort;return(Rt?an:Vt)+", "+(Rt?Vt:an)}function pa(Vt,an,Rt,In,Fn){var es=Rt.slice(),Bs=In[0],zn=Ze.events.smoothSteps,yi=[!Vt,Vt],xi=[Vt,!Vt];In=In.slice(),Vt&&In.reverse(),In.length>1?In.forEach(function(Bi,xn){var sr=ua(es,Bi,es[Bi]+an,yi[xn],xi[xn],!1,zn);!1===sr?an=0:(an=sr-es[Bi],es[Bi]=sr)}):yi=xi=[!0];var nr=!1;In.forEach(function(Bi,xn){nr=bs(Bi,Rt[Bi]+an,yi[xn],xi[xn],!1,zn)||nr}),nr&&(In.forEach(function(Bi){fs("update",Bi),fs("slide",Bi)}),null!=Fn&&fs("drag",Bs))}function bl(Vt,an){return Ze.dir?100-Vt-an:Vt}function Vo(){Er.forEach(function(Vt){Cs[Vt].style.zIndex=String(3+(Cs.length+(Vi[Vt]>50?-1:1)*Vt))})}function bs(Vt,an,Rt,In,Fn,es){return Fn||(an=ua(Vi,Vt,an,Rt,In,!1,es)),!1!==an&&(function il(Vt,an){Vi[Vt]=an,zi[Vt]=qs.fromStepping(an);var In="translate("+ha(bl(an,0)-Jo+"%","0")+")";if(Cs[Vt].style[Ze.transformRule]=In,Ze.events.invertConnects&&Vi.length>1){var Fn=Vi.every(function(es,Bs,zn){return 0===Bs||es>=zn[Bs-1]});if(er!==!Fn)return void function Qr(){er=!er,Vn(Ze,Ze.connect.map(function(Vt){return!Vt})),ol()}()}Go(Vt),Go(Vt+1),er&&(Go(Vt-1),Go(Vt+2))}(Vt,an),!0)}function Go(Vt){if(di[Vt]){var an=Vi.slice();er&&an.sort(function(zn,yi){return zn-yi});var Rt=0,In=100;0!==Vt&&(Rt=an[Vt-1]),Vt!==di.length-1&&(In=an[Vt]);var Fn=In-Rt,es="translate("+ha(bl(Rt,Fn)+"%","0")+")",Bs="scale("+ha(Fn/100,"1")+")";di[Vt].style[Ze.transformRule]=es+" "+Bs}}function fa(Vt,an){return null===Vt||!1===Vt||void 0===Vt||("number"==typeof Vt&&(Vt=String(Vt)),!1!==(Vt=Ze.format.from(Vt))&&(Vt=qs.toStepping(Vt)),!1===Vt||isNaN(Vt))?Vi[an]:Vt}function ma(Vt,an,Rt){var In=Cn(Vt),Fn=void 0===Vi[0];an=void 0===an||an,Ze.animate&&!Fn&&qt(Qn,Ze.cssClasses.tap,Ze.animationDuration),Er.forEach(function(zn){bs(zn,fa(In[zn],zn),!0,!1,Rt)});var es=1===Er.length?0:1;if(Fn&&qs.hasNoSize()&&(Rt=!0,Vi[0]=0,Er.length>1)){var Bs=100/(Er.length-1);Er.forEach(function(zn){Vi[zn]=zn*Bs})}for(;es<Er.length;++es)Er.forEach(function(zn){bs(zn,Vi[zn],!0,!0,Rt)});Vo(),Er.forEach(function(zn){fs("update",zn),null!==In[zn]&&an&&fs("set",zn)})}function qo(Vt){if(void 0===Vt&&(Vt=!1),Vt)return 1===zi.length?zi[0]:zi.slice(0);var an=zi.map(Ze.format.to);return 1===an.length?an[0]:an}function Io(Vt){var an=Vi[Vt],Rt=qs.getNearbySteps(an),In=zi[Vt],Fn=Rt.thisStep.step,es=null;if(Ze.snap)return[In-Rt.stepBefore.startValue||null,Rt.stepAfter.startValue-In||null];!1!==Fn&&In+Fn>Rt.stepAfter.startValue&&(Fn=Rt.stepAfter.startValue-In),es=In>Rt.thisStep.startValue?Rt.thisStep.step:!1!==Rt.stepBefore.step&&In-Rt.stepBefore.highestStep,100===an?Fn=null:0===an&&(es=null);var Bs=qs.countStepDecimals();return null!==Fn&&!1!==Fn&&(Fn=Number(Fn.toFixed(Bs))),null!==es&&!1!==es&&(es=Number(es.toFixed(Bs))),[es,Fn]}function ol(){for(;$s.firstChild;)$s.removeChild($s.firstChild);for(var Vt=0;Vt<=Ze.handles;Vt++)di[Vt]=ca($s,Ze.connect[Vt]),Go(Vt);si({drag:Ze.events.drag,fixed:!0})}!function ta(){Es=function ze(Vt){return hs(Vt,Ze.cssClasses.target),hs(Vt,0===Ze.dir?Ze.cssClasses.ltr:Ze.cssClasses.rtl),hs(Vt,0===Ze.ort?Ze.cssClasses.horizontal:Ze.cssClasses.vertical),hs(Vt,"rtl"===getComputedStyle(Vt).direction?Ze.cssClasses.textDirectionRtl:Ze.cssClasses.textDirectionLtr),fr(Vt,Ze.cssClasses.base)}(Qn),function ke(Vt,an){$s=fr(an,Ze.cssClasses.connects),Cs=[],(di=[]).push(ca($s,Vt[0]));for(var Rt=0;Rt<Ze.handles;Rt++)Cs.push(Gr(an,Rt)),Er[Rt]=Rt,di.push(ca($s,Vt[Rt+1]))}(Ze.connect,Es),si(Ze.events),ma(Ze.start),Ze.pips&&Qo(Ze.pips),Ze.tooltips&&Yn(),function cs(){vo("update"+mt.aria),tr("update"+mt.aria,function(Vt,an,Rt,In,Fn){Er.forEach(function(es){var Bs=Cs[es],zn=ua(Vi,es,0,!0,!0,!0),yi=ua(Vi,es,100,!0,!0,!0),xi=Fn[es],nr=String(Ze.ariaFormat.to(Rt[es]));zn=qs.fromStepping(zn).toFixed(1),yi=qs.fromStepping(yi).toFixed(1),xi=qs.fromStepping(xi).toFixed(1),Bs.children[0].setAttribute("aria-valuemin",zn),Bs.children[0].setAttribute("aria-valuemax",yi),Bs.children[0].setAttribute("aria-valuenow",xi),Bs.children[0].setAttribute("aria-valuetext",nr)})})}()}();var na={destroy:function rl(){for(vo(mt.aria),vo(mt.tooltips),Object.keys(Ze.cssClasses).forEach(function(Vt){Gs(Qn,Ze.cssClasses[Vt])});Qn.firstChild;)Qn.removeChild(Qn.firstChild);delete Qn.noUiSlider},steps:function ea(){return Er.map(Io)},on:tr,off:vo,get:qo,set:ma,setHandle:function Lr(Vt,an,Rt,In){if(!((Vt=Number(Vt))>=0&&Vt<Er.length))throw new Error("noUiSlider: invalid handle number, got: "+Vt);bs(Vt,fa(an,Vt),!0,!0,In),fs("update",Vt),Rt&&fs("set",Vt)},reset:function Tl(Vt){ma(Ze.start,Vt)},disable:function bt(Vt){null!=Vt?(Cs[Vt].setAttribute("disabled",""),Cs[Vt].handle.removeAttribute("tabindex")):(Qn.setAttribute("disabled",""),Cs.forEach(function(an){an.handle.removeAttribute("tabindex")}))},enable:function Yt(Vt){null!=Vt?(Cs[Vt].removeAttribute("disabled"),Cs[Vt].handle.setAttribute("tabindex","0")):(Qn.removeAttribute("disabled"),Cs.forEach(function(an){an.removeAttribute("disabled"),an.handle.setAttribute("tabindex","0")}))},__moveHandles:function(Vt,an,Rt){pa(Vt,an,Vi,Rt)},options:ot,updateOptions:function $o(Vt,an){var Rt=qo(),In=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];In.forEach(function(es){void 0!==Vt[es]&&(ot[es]=Vt[es])});var Fn=$i(ot);In.forEach(function(es){void 0!==Vt[es]&&(Ze[es]=Fn[es])}),qs=Fn.spectrum,Ze.margin=Fn.margin,Ze.limit=Fn.limit,Ze.padding=Fn.padding,Ze.pips?Qo(Ze.pips):Ci(),Ze.tooltips?Yn():En(),Vi=[],ma(He(Vt.start)?Vt.start:Rt,an),Vt.connect&&ol()},target:Qn,removePips:Ci,removeTooltips:En,getPositions:function(){return Vi.slice()},getTooltips:function(){return ui},getOrigins:function(){return Cs},pips:Qo};return na}class gn{to(Ze){return String(parseFloat(parseFloat(String(Ze)).toFixed(2)))}from(Ze){return parseFloat(Ze)}}let tn=(()=>{class qe{constructor(ot,Ft,Ut){this.ngZone=ot,this.el=Ft,this.renderer=Ut,this.handles=[],this.config={},this.change=new t.bkB(!0),this.update=new t.bkB(!0),this.slide=new t.bkB(!0),this.set=new t.bkB(!0),this.start=new t.bkB(!0),this.end=new t.bkB(!0),this.onChange=Function.prototype,this.cleanups=[],this.eventHandler=(Dn,Qn,Es,$s)=>{let Cs=this.toValues(Qn),di=!1;void 0!==this.value?(Array.isArray(Cs)&&this.value[Es]!=Cs[Es]&&(di=!0),!Array.isArray(Cs)&&this.value!=Cs&&(di=!0),di&&this.ngZone.run(()=>{Dn.observers.length>0&&Dn.emit(Cs),this.onChange(Cs)}),Array.isArray(Cs)?this.value[Es]=Cs[Es]:this.value=Cs):this.value=Cs},this.defaultKeyHandler=Dn=>{let ui,Qn=this.slider.steps(),Es=parseInt(Dn.target.getAttribute("data-handle")),$s=1,Cs=1,di=0,Hi=0;switch(Dn.which){case 34:case 33:Cs=this.config.pageSteps;break;case 40:case 37:$s=-1,di=Qn[Es][0],Dn.preventDefault();break;case 38:case 39:di=Qn[Es][1],Dn.preventDefault()}Hi=$s*Cs*di,Array.isArray(this.value)?(ui=[...this.value],ui[Es]=ui[Es]+Hi):ui=this.value+Hi,this.slider.set(ui)}}ngOnChanges(ot){this.slider&&(ot.min||ot.max||ot.step||ot.range)&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.updateOptions({range:Object.assign({},{min:this.min,max:this.max},this.range||{}),step:this.step})})})}ngOnDestroy(){for(this.slider.destroy();this.cleanups.length;)this.cleanups.pop()?.()}toValues(ot){let Ft=ot.map(this.config.format.from);return 1==Ft.length?Ft[0]:Ft}writeValue(ot){this.slider?this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.slider.set(ot)})}):null!==ot&&(this.value=ot,this.createSlider(ot))}registerOnChange(ot){this.onChange=ot}registerOnTouched(ot){}setDisabledState(ot){ot?this.renderer.setAttribute(this.el.nativeElement.childNodes[0],"disabled","true"):this.renderer.removeAttribute(this.el.nativeElement.childNodes[0],"disabled")}createSlider(ot){let Ft=JSON.parse(JSON.stringify({behaviour:this.behaviour,connect:this.connect,limit:this.limit,start:ot,step:this.step,pageSteps:this.pageSteps,keyboard:this.keyboard,onKeydown:this.onKeydown,range:this.range||this.config.range||{min:this.min,max:this.max},tooltips:this.tooltips,snap:this.snap,animate:this.animate}));if(Ft.tooltips=this.tooltips||this.config.tooltips,Ft.format=this.format||this.config.format||new gn,this.ngZone.runOutsideAngular(()=>{this.slider=function Ti(qe,Ze){if(!qe||!qe.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+qe);if(qe.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var Ft=po(qe,$i(Ze),Ze);return qe.noUiSlider=Ft,Ft}(this.el.nativeElement.querySelector("div"),Object.assign(this.config,Ft))}),this.handles=[].slice.call(this.el.nativeElement.querySelectorAll(".noUi-handle")),this.config.keyboard){void 0===this.config.pageSteps&&(this.config.pageSteps=10);for(const Ut of this.handles){Ut.setAttribute("tabindex",0);const Dn=this.config.onKeydown||this.defaultKeyHandler;this.ngZone.runOutsideAngular(()=>{this.cleanups.push(this.renderer.listen(Ut,"keydown",Dn),this.renderer.listen(Ut,"click",()=>{Ut.focus()}))})}}this.slider.on("set",(Ut,Dn,Qn)=>{this.eventHandler(this.set,Ut,Dn,Qn)}),this.slider.on("update",(Ut,Dn,Qn)=>{this.update.observers.length>0&&this.ngZone.run(()=>{this.update.emit(this.toValues(Ut))})}),this.slider.on("change",(Ut,Dn,Qn)=>{this.change.observers.length>0&&this.ngZone.run(()=>{this.change.emit(this.toValues(Ut))})}),this.slider.on("slide",(Ut,Dn,Qn)=>{this.eventHandler(this.slide,Ut,Dn,Qn)}),this.slider.on("start",(Ut,Dn,Qn)=>{this.start.observers.length>0&&this.ngZone.run(()=>{this.start.emit(this.toValues(Ut))})}),this.slider.on("end",(Ut,Dn,Qn)=>{this.end.observers.length>0&&this.ngZone.run(()=>{this.end.emit(this.toValues(Ut))})})}}return qe.\u0275fac=function(ot){return new(ot||qe)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},qe.\u0275cmp=t.VBU({type:qe,selectors:[["nouislider"]],hostVars:2,hostBindings:function(ot,Ft){2&ot&&t.AVh("ng2-nouislider",!0)},inputs:{disabled:"disabled",behaviour:"behaviour",connect:"connect",limit:"limit",min:"min",max:"max",snap:"snap",animate:"animate",range:"range",step:"step",format:"format",pageSteps:"pageSteps",config:"config",keyboard:"keyboard",onKeydown:"onKeydown",tooltips:"tooltips"},outputs:{change:"change",update:"update",slide:"slide",set:"set",start:"start",end:"end"},standalone:!0,features:[t.Jv_([{provide:Y.kq,useExisting:(0,t.Rfq)(()=>qe),multi:!0}]),t.OA$,t.aNF],decls:1,vars:1,template:function(ot,Ft){1&ot&&t.nrm(0,"div"),2&ot&&t.BMQ("disabled",!!Ft.disabled||void 0)},styles:["[_nghost-%COMP%]{display:block;margin-top:1rem;margin-bottom:1rem}"]}),qe})();var bn=n(12866),$n=n(56760),vs=n(56386);const li=".min",Ei=".max",ar=qe=>[qe];function fi(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",1),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.filterService.minimizeAll())}),t.j41(1,"span",2),t.EFF(2),t.k0s(),t.j41(3,"span",3)(4,"span",4),t.EFF(5),t.nI1(6,"dsShortNumber"),t.k0s()()()}if(2&qe){const ot=t.XpG();t.Y8G("routerLink",t.eq3(6,ar,ot.searchLink))("queryParams",ot.changeQueryParams),t.R7$(2),t.JRh(ot.filterValue.label),t.R7$(3),t.JRh(t.bMT(6,4,ot.filterValue.count))}}let fo=(()=>{class qe{constructor(ot,Ft,Ut,Dn,Qn){this.searchService=ot,this.filterService=Ft,this.searchConfigService=Ut,this.router=Dn,this.paginationService=Qn}ngOnInit(){this.searchLink=this.getSearchLink(),this.isVisible=this.isChecked().pipe((0,y.T)(ot=>!ot)),this.sub=this.searchConfigService.searchOptions.subscribe(()=>{this.updateChangeParams()})}isChecked(){return this.filterService.isFilterActiveWithValue(this.filterConfig.paramName,this.filterValue.value)}getSearchLink(){return this.inPlaceSearch?(0,j.N)(this.router):this.searchService.getSearchLink()}updateChangeParams(){const ot=this.filterValue.value.split("-"),Ft=ot.length>1?Number(ot[0].trim()):this.filterValue.value,Ut=ot.length>1?Number(ot[1].trim()):this.filterValue.value,Dn=this.paginationService.getPageParam(this.searchConfigService.paginationID);this.changeQueryParams={[this.filterConfig.paramName+li]:[Ft],[this.filterConfig.paramName+Ei]:Ut===(new Date).getUTCFullYear()?null:[Ut],[Dn]:1}}ngOnDestroy(){(0,w.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(O.S),t.rXU(D.U),t.rXU(I.g),t.rXU(z.Ix),t.rXU(ie.m))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-facet-range-option"]],inputs:{filterValue:"filterValue",filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[["class","d-flex flex-row","queryParamsHandling","merge",3,"routerLink","queryParams","click",4,"ngIf"],["queryParamsHandling","merge",1,"d-flex","flex-row",3,"click","routerLink","queryParams"],[1,"filter-value","px-1"],[1,"float-right","filter-value-count","ml-auto"],[1,"badge","badge-secondary","badge-pill"]],template:function(Ft,Ut){1&Ft&&(t.DNE(0,fi,7,8,"a",0),t.nI1(1,"async")),2&Ft&&t.Y8G("ngIf",t.bMT(1,1,Ut.isVisible))},dependencies:[i.bT,z.Wk,i.Jj,pe],styles:["a[_ngcontent-%COMP%]{color:var(--bs-link-color)}a[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--bs-link-hover-color)}a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%]{vertical-align:text-top}"]})}}return qe})();function io(qe,Ze){if(1&qe){const ot=t.RV6();t.qex(0),t.j41(1,"nouislider",11),t.bIt("change",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onSliderChange(Ut))})("keydown",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.startKeyboardControl())})("keyup",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.stopKeyboardControl())}),t.mxI("ngModelChange",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.DH7(Dn.range,Ut)||(Dn.range=Ut),t.Njj(Ut)}),t.k0s(),t.bVm()}if(2&qe){const ot=t.XpG();t.R7$(),t.Y8G("connect",!0)("config",ot.config)("min",ot.min)("max",ot.max)("step",1)("dsDebounce",250),t.R50("ngModel",ot.range)}}function wr(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-range-option",13),2&qe){const ot=Ze.$implicit,Ft=t.XpG(2);t.Y8G("filterConfig",Ft.filterConfig)("filterValue",ot)("inPlaceSearch",Ft.inPlaceSearch)}}function wo(qe,Ze){if(1&qe&&(t.qex(0),t.j41(1,"div"),t.DNE(2,wr,1,3,"ds-search-facet-range-option",12),t.k0s(),t.bVm()),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ft.animationState),t.R7$(),t.Y8G("ngForOf",ot.page)("ngForTrackBy",Ft.trackUpdate)}}let mo=(()=>{class qe extends X{constructor(ot,Ft,Ut,Dn,Qn,Es,$s,Cs){super(ot,Ft,Qn,Ut,$s),this.searchService=ot,this.filterService=Ft,this.router=Ut,this.route=Dn,this.rdbs=Qn,this.translateService=Es,this.searchConfigService=$s,this.platformId=Cs,this.min=1950,this.max=(new Date).getUTCFullYear(),this.config={}}ngOnInit(){super.ngOnInit(),this.min=(0,bn.zX)(this.filterConfig.minValue)||this.min,this.max=(0,bn.zX)(this.filterConfig.maxValue)||this.max,this.minLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".min.placeholder"),this.maxLabel=this.translateService.instant("search.filters.filter."+this.filterConfig.name+".max.placeholder");const ot=this.route.getQueryParameterValue(this.filterConfig.paramName+li).pipe((0,f.Z)(void 0)),Ft=this.route.getQueryParameterValue(this.filterConfig.paramName+Ei).pipe((0,f.Z)(void 0));this.subs.push((0,m.z)([ot,Ft]).pipe((0,y.T)(([Ut,Dn])=>[(0,w.a4)(Ut)?Number(Ut):this.min,(0,w.a4)(Dn)?Number(Dn):this.max])).subscribe(Ut=>this.range=Ut)),this.config={handleAttributes:[{"aria-label":this.minLabel},{"aria-label":this.maxLabel}]}}onSliderChange(ot){this.sliderRange=ot}onSubmit(){if(this.keyboardControl)return;const ot=this.range[0]!==this.min?[this.range[0]]:null,Ft=this.range[1]!==this.max?[this.range[1]]:null;this.router.navigate(this.getSearchLinkParts(),{queryParams:{[this.filterConfig.paramName+li]:ot,[this.filterConfig.paramName+Ei]:Ft},queryParamsHandling:"merge"}),this.filter=""}startKeyboardControl(){this.keyboardControl=!0}stopKeyboardControl(){this.keyboardControl=!1}shouldShowSlider(){return(0,i.UE)(this.platformId)}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(O.S),t.rXU(D.U),t.rXU(z.Ix),t.rXU($n.v$),t.rXU(U.o),t.rXU(l.c$),t.rXU(R.EN),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-range-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:25,vars:25,consts:[["form","ngForm"],[1,"filters","py-2"],[1,"add-filter","row",3,"ngSubmit","action"],[1,"col-6","form-group","mb-0"],[1,"font-weight-bold"],["type","text",1,"form-control",3,"ngModelChange","ngModel","name","placeholder"],[1,"col-6"],["type","submit",1,"sr-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],["ngDefaultControl","",3,"change","keydown","keyup","ngModelChange","connect","config","min","max","step","dsDebounce","ngModel"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"]],template:function(Ft,Ut){if(1&Ft){const Dn=t.RV6();t.j41(0,"div")(1,"div",1)(2,"form",2,0),t.bIt("ngSubmit",function(){return t.eBV(Dn),t.Njj(Ut.onSubmit())}),t.j41(4,"div",3)(5,"label")(6,"span",4),t.EFF(7),t.nI1(8,"translate"),t.k0s(),t.j41(9,"input",5),t.mxI("ngModelChange",function(Es){return t.eBV(Dn),t.DH7(Ut.range[0],Es)||(Ut.range[0]=Es),t.Njj(Es)}),t.k0s()()(),t.j41(10,"div",6)(11,"label")(12,"span",4),t.EFF(13),t.nI1(14,"translate"),t.k0s(),t.j41(15,"input",5),t.mxI("ngModelChange",function(Es){return t.eBV(Dn),t.DH7(Ut.range[1],Es)||(Ut.range[1]=Es),t.Njj(Es)}),t.k0s()()(),t.j41(16,"button",7),t.EFF(17),t.nI1(18,"translate"),t.k0s()(),t.DNE(19,io,2,7,"ng-container",8)(20,wo,3,3,"ng-container",9),t.nI1(21,"async"),t.j41(22,"button",10),t.bIt("click",function(){return t.eBV(Dn),t.Njj(Ut.onSubmit())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()()()}2&Ft&&(t.R7$(2),t.Y8G("action",Ut.currentUrl,t.B4B),t.R7$(5),t.SpI(" ",t.bMT(8,15,"search.filters.filter."+Ut.filterConfig.name+".min.label")," "),t.R7$(2),t.R50("ngModel",Ut.range[0]),t.Y8G("name",Ut.filterConfig.paramName+".min")("placeholder",Ut.minLabel),t.BMQ("aria-label",Ut.minLabel),t.R7$(4),t.SpI(" ",t.bMT(14,17,"search.filters.filter."+Ut.filterConfig.name+".max.label")," "),t.R7$(2),t.R50("ngModel",Ut.range[1]),t.Y8G("name",Ut.filterConfig.paramName+".max")("placeholder",Ut.maxLabel),t.BMQ("aria-label",Ut.maxLabel),t.R7$(2),t.SpI(" ",t.bMT(18,19,"search.filters.search.submit")," "),t.R7$(2),t.Y8G("ngIf",Ut.shouldShowSlider()),t.R7$(),t.Y8G("ngForOf",t.bMT(21,21,Ut.facetValues$)),t.R7$(3),t.SpI(" ",t.bMT(24,23,"search.filters.search.submit")," "))},dependencies:[Y.YN,Y.qT,Y.me,Y.BC,Y.cb,Y.vS,Y.cV,i.bT,tn,vs.R,i.pM,fo,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  html:not([dir=rtl]) .noUi-horizontal .noUi-handle{right:calc(var(--ds-slider-handle-width) / -2)}  .noUi-horizontal .noUi-handle{width:var(--ds-slider-handle-width)}  .noUi-horizontal .noUi-handle:before{left:calc((var(--ds-slider-handle-width) - 2px) / 2 - 2px)}  .noUi-horizontal .noUi-handle:after{left:calc((var(--ds-slider-handle-width) - 2px) / 2 + 2px)}  .noUi-horizontal .noUi-handle:focus{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}  .noUi-connect{background:var(--ds-slider-color)}  .noUi-target{padding:0 calc(var(--ds-slider-handle-width) / 2 - 1.5px);margin:0 1px}  .noUi-connect{margin:0 calc(-1 * var(--ds-slider-handle-width) / 2);width:calc(100% + var(--ds-slider-handle-width))}  .noUi-handle{border-color:var(--ds-slider-handle-color)}  .noUi-handle:before,   .noUi-handle:after{background-color:var(--ds-slider-handle-color)}"],data:{animation:[J]}})}}return qe})();function kr(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-selected-option",7),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.Y8G("selectedValue",ot)("filterConfig",Ft.filterConfig)("inPlaceSearch",Ft.inPlaceSearch)}}function go(qe,Ze){if(1&qe&&t.nrm(0,"ds-search-facet-option",9),2&qe){const ot=Ze.$implicit,Ft=t.XpG(2);t.Y8G("filterConfig",Ft.filterConfig)("filterValue",ot)("inPlaceSearch",Ft.inPlaceSearch)}}function wi(qe,Ze){if(1&qe&&(t.qex(0),t.j41(1,"div"),t.DNE(2,go,1,3,"ds-search-facet-option",8),t.k0s(),t.bVm()),2&qe){const ot=Ze.$implicit,Ft=t.XpG();t.R7$(),t.Y8G("@facetLoad",Ft.animationState),t.R7$(),t.Y8G("ngForOf",ot.page)("ngForTrackBy",Ft.trackUpdate)}}function Bo(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",10),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showMore())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-more")," "))}function lr(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"a",11),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.showFirstPageOnly())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&qe&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"search.filters.filter.show-less")," "))}function Xr(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"ds-filter-input-suggestions",12),t.nI1(1,"async"),t.nI1(2,"translate"),t.nI1(3,"translate"),t.mxI("ngModelChange",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.DH7(Dn.filter,Ut)||(Dn.filter=Ut),t.Njj(Ut)}),t.bIt("submitSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onSubmit(Ut))})("clickSuggestion",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.onClick(Ut))})("findSuggestions",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.findSuggestions(Ut))}),t.k0s()}if(2&qe){const ot=t.XpG();t.Y8G("suggestions",t.bMT(1,6,ot.filterSearchResults$))("placeholder",t.bMT(2,8,"search.filters.filter."+ot.filterConfig.name+".placeholder"))("label",t.bMT(3,10,"search.filters.filter."+ot.filterConfig.name+".label"))("action",ot.currentUrl)("name",ot.filterConfig.paramName),t.R50("ngModel",ot.filter)}}let Fs=(()=>{class qe extends X{onSubmit(ot){super.onSubmit((0,re.mq)(ot,"query"))}static{this.\u0275fac=(()=>{let ot;return function(Ut){return(ot||(ot=t.xGo(qe)))(Ut||qe)}})()}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-text-filter"]],standalone:!0,features:[t.Vt3,t.aNF],decls:13,vars:15,consts:[[1,"filters","py-2"],[3,"selectedValue","filterConfig","inPlaceSearch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"clearfix","toggle-more-filters"],["class","float-left","href","javascript:void(0);",3,"click",4,"ngIf"],["class","float-right","href","javascript:void(0);",3,"click",4,"ngIf"],["ngDefaultControl","",3,"suggestions","placeholder","label","action","name","ngModel","ngModelChange","submitSuggestion","clickSuggestion","findSuggestions",4,"ngIf"],[3,"selectedValue","filterConfig","inPlaceSearch"],[3,"filterConfig","filterValue","inPlaceSearch",4,"ngFor","ngForOf","ngForTrackBy"],[3,"filterConfig","filterValue","inPlaceSearch"],["href","javascript:void(0);",1,"float-left",3,"click"],["href","javascript:void(0);",1,"float-right",3,"click"],["ngDefaultControl","",3,"ngModelChange","submitSuggestion","clickSuggestion","findSuggestions","suggestions","placeholder","label","action","name","ngModel"]],template:function(Ft,Ut){1&Ft&&(t.j41(0,"div")(1,"div",0),t.DNE(2,kr,1,3,"ds-search-facet-selected-option",1),t.nI1(3,"async"),t.DNE(4,wi,3,3,"ng-container",2),t.nI1(5,"async"),t.j41(6,"div",3),t.DNE(7,Bo,3,3,"a",4),t.nI1(8,"async"),t.DNE(9,lr,3,3,"a",5),t.nI1(10,"async"),t.k0s()(),t.DNE(11,Xr,4,12,"ds-filter-input-suggestions",6),t.nI1(12,"async"),t.k0s()),2&Ft&&(t.R7$(2),t.Y8G("ngForOf",t.bMT(3,5,Ut.selectedAppliedFilters$)),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,7,Ut.facetValues$)),t.R7$(3),t.Y8G("ngIf",!0!==t.bMT(8,9,Ut.isLastPage$)),t.R7$(2),t.Y8G("ngIf",t.bMT(10,11,Ut.currentPage)>1),t.R7$(2),t.Y8G("ngIf",!1===t.bMT(12,13,Ut.isAvailableForShowSearchText)))},dependencies:[i.pM,_t,ae,i.bT,Q.H,Y.YN,Y.me,Y.BC,Y.vS,i.Jj,l.h,l.D9],styles:[".filters[_ngcontent-%COMP%]   .toggle-more-filters[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--bs-link-color);text-decoration:underline;cursor:pointer}  em{font-weight:700;font-style:normal}"],data:{animation:[J]}})}}return qe})();const ro=new Map;function _o(qe,Ze){}ro.set(H.R.text,Fs),ro.set(H.R.authority,we),ro.set(H.R.boolean,Ne),ro.set(H.R.hierarchy,Zt),ro.set(H.R.range,mo);let Yo=(()=>{class qe extends q.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["filterConfig"],this.inputNames=["filterConfig","inPlaceSearch","refreshFilters","scope"]}getComponent(){return function Or(qe){return ro.get(qe)}(this.filterConfig.filterType)}static{this.\u0275fac=(()=>{let ot;return function(Ut){return(ot||(ot=t.xGo(qe)))(Ut||qe)}})()}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-facet-filter-wrapper"]],inputs:{filterConfig:"filterConfig",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},standalone:!0,features:[t.Vt3,t.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Ft,Ut){1&Ft&&t.DNE(0,_o,0,0,"ng-template",1,0,t.C5r)},dependencies:[Z.z],encapsulation:2})}}return qe})(),To=(()=>{class qe{constructor(){this.value=0}next(){return++this.value}static{this.\u0275fac=function(Ft){return new(Ft||qe)}}static{this.\u0275prov=t.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})}}return qe})();const Jr=qe=>({focus:qe}),Do=(qe,Ze)=>({closed:qe,notab:Ze});function Xo(qe,Ze){if(1&qe){const ot=t.RV6();t.j41(0,"div",1)(1,"button",2),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"translate"),t.nI1(5,"translate"),t.nI1(6,"lowercase"),t.nI1(7,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.toggle())})("focusin",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.focusBox=!0)})("focusout",function(){t.eBV(ot);const Ut=t.XpG();return t.Njj(Ut.focusBox=!1)}),t.j41(8,"span",3),t.EFF(9),t.nI1(10,"translate"),t.k0s(),t.nrm(11,"i",4),t.nI1(12,"async"),t.nI1(13,"async"),t.nI1(14,"translate"),t.k0s(),t.j41(15,"div",5),t.nI1(16,"async"),t.bIt("@slide.start",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.startSlide(Ut))})("@slide.done",function(Ut){t.eBV(ot);const Dn=t.XpG();return t.Njj(Dn.finishSlide(Ut))}),t.nrm(17,"ds-search-facet-filter-wrapper",6),t.k0s()()}if(2&qe){const ot=t.XpG();t.Y8G("id",ot.regionId)("ngClass",t.eq3(39,Jr,ot.focusBox)),t.BMQ("aria-labelledby",ot.toggleId),t.R7$(),t.Y8G("id",ot.toggleId),t.BMQ("aria-controls",ot.regionId)("aria-expanded",!0!==t.bMT(2,17,ot.collapsed$))("aria-label",t.bMT(4,21,t.bMT(3,19,ot.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")+" "+t.bMT(6,25,t.bMT(5,23,"search.filters.filter."+ot.filter.name+".head")))("data-test",t.bMT(7,27,"filter-toggle")),t.R7$(8),t.SpI(" ",t.bMT(10,29,"search.filters.filter."+ot.filter.name+".head")," "),t.R7$(2),t.Y8G("ngClass",t.bMT(12,31,ot.collapsed$)?"fa-plus":"fa-minus")("title",t.bMT(14,35,t.bMT(13,33,ot.collapsed$)?"search.filters.filter.expand":"search.filters.filter.collapse")),t.R7$(4),t.Y8G("@slide",t.bMT(16,37,ot.collapsed$)?"collapsed":"expanded")("ngClass",t.l_i(41,Do,ot.closed,ot.notab)),t.R7$(2),t.Y8G("scope",ot.scope)("filterConfig",ot.filter)("inPlaceSearch",ot.inPlaceSearch)("refreshFilters",ot.refreshFilters)}}let ba=(()=>{class qe{constructor(ot,Ft,Ut,Dn){this.filterService=ot,this.searchService=Ft,this.searchConfigService=Ut,this.sequenceService=Dn,this.isVisibilityComputed=new t.bkB,this.focusBox=!1,this.scope$=new e.t(void 0),this.subs=[],this.sequenceId=this.sequenceService.next()}ngOnInit(){this.appliedFilters$=this.searchService.getSelectedValuesForFilter(this.filter.name),this.active$=this.isActive(),this.collapsed$=this.isCollapsed(),this.initializeFilter(),this.subs.push(this.appliedFilters$.subscribe(ot=>{(0,w.hj)(ot)&&this.filterService.expand(this.filter.name)}),this.getIsActive().pipe((0,C.s)(1)).subscribe(()=>{this.isVisibilityComputed.emit(!0)}))}ngOnChanges(){this.scope$.value!==this.scope&&this.scope$.next(this.scope)}ngOnDestroy(){this.subs.forEach(ot=>ot.unsubscribe())}toggle(){this.filterService.toggle(this.filter.name)}isCollapsed(){return this.filterService.isCollapsed(this.filter.name)}initializeFilter(){this.filterService.initializeFilter(this.filter)}finishSlide(ot){"collapsed"===ot.fromState&&(this.closed=!1),"collapsed"===ot.toState&&(this.notab=!0)}startSlide(ot){"collapsed"===ot.toState&&(this.closed=!0),"collapsed"===ot.fromState&&(this.notab=!1)}get regionId(){return this.inPlaceSearch?`search-filter-region-${this.sequenceId}`:`search-filter-region-home-${this.sequenceId}`}get toggleId(){return this.inPlaceSearch?`search-filter-toggle-${this.sequenceId}`:`search-filter-toggle-home-${this.sequenceId}`}isActive(){return this.getIsActive().pipe((0,f.Z)(!0))}getIsActive(){return(0,m.z)([this.appliedFilters$,this.searchConfigService.searchOptions,this.scope$]).pipe((0,p.n)(([ot,Ft,Ut])=>(0,w.hj)(ot.filter(Dn=>V.includes(Dn.operator)))?(0,_.of)(!0):((0,w.a4)(Ut)&&(Ft.scope=Ut),this.searchService.getFacetValuesFor(this.filter,1,Ft).pipe((0,v.p)(Dn=>!Dn.isLoading),(0,y.T)(Dn=>Dn.payload?.totalElements>0)))))}static{this.\u0275fac=function(Ft){return new(Ft||qe)(t.rXU(D.U),t.rXU(O.S),t.rXU(R.EN),t.rXU(To))}}static{this.\u0275cmp=t.VBU({type:qe,selectors:[["ds-search-filter"]],inputs:{filter:"filter",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",scope:"scope"},outputs:{isVisibilityComputed:"isVisibilityComputed"},standalone:!0,features:[t.OA$,t.aNF],decls:2,vars:3,consts:[["class","facet-filter d-block mb-3 p-3","role","region",3,"id","ngClass",4,"ngIf"],["role","region",1,"facet-filter","d-block","mb-3","p-3",3,"id","ngClass"],[1,"filter-name","d-flex",3,"click","focusin","focusout","id"],[1,"h4","d-inline-block","text-left","mt-auto","mb-auto","dark:text-white","text-dark"],["aria-hidden","true",1,"filter-toggle","flex-grow-1","fas","p-auto",3,"ngClass","title"],[1,"search-filter-wrapper",3,"ngClass"],[3,"scope","filterConfig","inPlaceSearch","refreshFilters"]],template:function(Ft,Ut){1&Ft&&(t.DNE(0,Xo,18,44,"div",0),t.nI1(1,"async")),2&Ft&&t.Y8G("ngIf",t.bMT(1,1,Ut.active$))},dependencies:[i.bT,i.YU,Yo,i.Jj,i.GH,l.h,l.D9,b.L],styles:["[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]{border:1px solid var(--bs-light);cursor:pointer;line-height:0}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base)}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.closed[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .search-filter-wrapper.notab[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]{line-height:var(--bs-line-height-base);text-align:right;position:relative}[_nghost-%COMP%]   .facet-filter[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{appearance:none;border:0;padding:0;background:#0000;width:100%;outline:none!important}[_nghost-%COMP%]   .facet-filter.focus[_ngcontent-%COMP%]{outline:none;box-shadow:var(--bs-input-btn-focus-box-shadow)}"],data:{animation:[h.M6]}})}}return qe})()},1903:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchFiltersComponent:()=>B});var i=n(60177),t=n(7901),l=n(41780),e=n(72234),f=n(96354),m=n(82640),p=n(78655),v=(n(39012),n(15465)),y=n(13955),C=n(30506),O=n(86868),I=n(54438);const D=(U,$)=>$.name,R=U=>[U];function h(U,$){if(1&U&&(I.j41(0,"h3"),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&U){const j=I.XpG();I.R7$(),I.JRh(I.bMT(2,1,j.filterLabel+".filters.head"))}}function w(U,$){if(1&U&&(I.j41(0,"h2"),I.EFF(1),I.nI1(2,"translate"),I.k0s()),2&U){const j=I.XpG();I.R7$(),I.JRh(I.bMT(2,1,j.filterLabel+".filters.head"))}}function b(U,$){if(1&U){const j=I.RV6();I.j41(0,"ds-search-filter",4),I.bIt("isVisibilityComputed",function(z){I.eBV(j);const V=I.XpG(2);return I.Njj(V.countFiltersWithComputedVisibility(z))}),I.k0s()}if(2&U){const j=$.$implicit,G=I.XpG(2);I.Y8G("scope",G.currentScope)("filter",j)("inPlaceSearch",G.inPlaceSearch)("refreshFilters",G.refreshFilters)}}function P(U,$){if(1&U&&(I.j41(0,"div"),I.nI1(1,"async"),I.Z7z(2,b,1,4,"ds-search-filter",3,D),I.nI1(4,"async"),I.k0s()),2&U){let j,G;const z=I.XpG();I.AVh("visually-hidden",z.filtersWithComputedVisibility!==(null==(j=I.bMT(1,2,z.filters))||null==j.payload?null:j.payload.length)),I.R7$(2),I.Dyx(null==(G=I.bMT(4,4,z.filters))?null:G.payload)}}function M(U,$){if(1&U&&I.nrm(0,"ngx-skeleton-loader",1),2&U){const j=I.XpG();I.Y8G("count",j.defaultFilterCount)}}function L(U,$){if(1&U){const j=I.RV6();I.j41(0,"button",5),I.nI1(1,"async"),I.bIt("click",function(){I.eBV(j);const z=I.XpG();return I.Njj(z.minimizeFilters())}),I.nrm(2,"i",6),I.EFF(3),I.nI1(4,"translate"),I.k0s()}if(2&U){const j=I.XpG();I.Y8G("routerLink",I.eq3(7,R,j.searchLink))("queryParams",I.bMT(1,3,j.clearParams)),I.R7$(3),I.SpI(" ",I.bMT(4,5,"search.filters.reset")," ")}}let B=(()=>{class U{constructor(j,G,z,V,X){this.searchService=j,this.searchFilterService=G,this.router=z,this.searchConfigService=V,this.appConfig=X,this.appliedFilters=new Map,this.filtersWithComputedVisibility=0,this.subs=[],this.filterLabel="search",this.defaultFilterCount=this.appConfig.search.filterPlaceholdersCount??5}ngOnInit(){this.inPlaceSearch||(this.filterLabel="discover"),this.clearParams=this.searchConfigService.getCurrentFrontendFilters().pipe((0,f.T)(j=>(Object.keys(j).forEach(G=>j[G]=null),j))),this.searchLink=this.getSearchLink()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}trackUpdate(j,G){return G?G.name:void 0}minimizeFilters(){this.searchService.appliedFilters$.value.length>0&&this.searchFilterService.minimizeAll()}countFiltersWithComputedVisibility(j){j&&(this.filtersWithComputedVisibility+=1)}static{this.\u0275fac=function(G){return new(G||U)(I.rXU(p.S),I.rXU(v.U),I.rXU(t.Ix),I.rXU(y.EN),I.rXU(m.vQ))}}static{this.\u0275cmp=I.VBU({type:U,selectors:[["ds-base-search-filters"]],inputs:{filters:"filters",currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters"},standalone:!0,features:[I.aNF],decls:7,vars:8,consts:[[3,"visually-hidden"],[3,"count"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"routerLink","queryParams"],[3,"scope","filter","inPlaceSearch","refreshFilters"],[3,"isVisibilityComputed","scope","filter","inPlaceSearch","refreshFilters"],["queryParamsHandling","merge","role","button",1,"btn","btn-primary",3,"click","routerLink","queryParams"],[1,"fas","fa-undo"]],template:function(G,z){if(1&G&&(I.DNE(0,h,3,3,"h3")(1,w,3,3)(2,P,5,6,"div",0),I.nI1(3,"async"),I.DNE(4,M,1,1,"ngx-skeleton-loader",1),I.nI1(5,"async"),I.DNE(6,L,5,9,"button",2)),2&G){let V,X;I.vxM(0,z.inPlaceSearch?0:1),I.R7$(2),I.vxM(2,null!=(V=I.bMT(3,4,z.filters))&&V.hasSucceeded?2:-1),I.R7$(2),I.vxM(4,z.filtersWithComputedVisibility!==(null==(X=I.bMT(5,6,z.filters))||null==X.payload?null:X.payload.length)?4:-1),I.R7$(2),I.vxM(6,z.inPlaceSearch?6:-1)}},dependencies:[O.a,t.Wk,i.Jj,l.h,l.D9,e.Yq,e.Zm],styles:["[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{height:var(--ds-filters-skeleton-height);margin-bottom:var(--ds-filters-skeleton-spacing);padding:var(--ds-filters-skeleton-spacing);background-color:var(--bs-light);box-shadow:none}"]})}}return U})()},75575:(N,T,n)=>{"use strict";n.d(T,{k:()=>m});var i=n(8886),l=(n(1903),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["filters","currentConfiguration","currentScope","inPlaceSearch","refreshFilters"]}getComponentName(){return"SearchFiltersComponent"}importThemedComponent(v){return n(64565)(`./${v}/app/shared/search/search-filters/search-filters.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1903))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-search-filters"]],inputs:{currentConfiguration:"currentConfiguration",currentScope:"currentScope",inPlaceSearch:"inPlaceSearch",refreshFilters:"refreshFilters",filters:"filters"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},55366:(N,T,n)=>{"use strict";n.d(T,{L:()=>V});var i=n(60177),t=n(78655),l=n(22924),e=n(92827),m=(n(15641),n(82777)),p=n(81569),_=n(7901),v=n(41780),y=n(22978),C=n(39012),O=n(15465),I=n(30506),D=n(54438);const R=(X,J)=>({type:X,value:J}),h=X=>({default:X});let w=(()=>{class X{constructor(q,Z,H,Y,Q){this.paginationService=q,this.router=Z,this.searchConfigurationService=H,this.searchService=Y,this.searchFilterService=Q}ngOnInit(){this.searchLink=this.getSearchLink(),this.removeParameters$=this.updateRemoveParams()}updateRemoveParams(){return this.searchConfigurationService.unselectAppliedFilterParams(this.appliedFilter.filter,this.appliedFilter.value,this.appliedFilter.operator)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||X)(D.rXU(y.m),D.rXU(_.Ix),D.rXU(C.g),D.rXU(t.S),D.rXU(O.U))}}static{this.\u0275cmp=D.VBU({type:X,selectors:[["ds-search-label"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:13,vars:27,consts:[[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Z,H){1&Z&&(D.j41(0,"a",0),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){return H.searchFilterService.minimizeAll()}),D.j41(4,"span",1)(5,"span",2),D.EFF(6),D.nI1(7,"translate"),D.nI1(8,"translate"),D.nI1(9,"translate"),D.nI1(10,"translate"),D.k0s(),D.j41(11,"span",3),D.EFF(12,"\xd7"),D.k0s()()()),2&Z&&(D.Y8G("routerLink",H.searchLink)("queryParams",D.bMT(1,6,H.removeParameters$)),D.BMQ("aria-label",D.i5U(3,10,"search.filters.remove",D.l_i(22,R,D.bMT(2,8,"search.filters.applied.f."+H.appliedFilter.filter),H.appliedFilter.label))),D.R7$(6),D.E5c(" ",D.bMT(7,13,"search.filters.applied.f."+H.appliedFilter.filter)," ",D.bMT(8,15,"search.filters.applied.operator."+H.appliedFilter.operator),": ",D.i5U(10,19,"search.filters."+H.appliedFilter.filter+"."+H.appliedFilter.label,D.eq3(25,h,H.appliedFilter.label.includes("info:eu-repo")?D.bMT(9,17,H.appliedFilter.label):H.appliedFilter.label))," "))},dependencies:[_.Wk,i.Jj,v.h,v.D9],styles:[".badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return X})();const b=(X,J)=>({type:X,value:J});function P(X,J){if(1&X){const q=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(q);const H=D.XpG();return D.Njj(H.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&X){const q=D.XpG();D.Y8G("routerLink",q.searchLink)("queryParams",D.bMT(1,5,q.removeParametersMin$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,b,D.bMT(2,7,"search.filters.applied.f."+q.appliedFilter.filter+".min"),q.min))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+q.appliedFilter.filter+".min"),": ",q.min,"")}}function M(X,J){if(1&X){const q=D.RV6();D.j41(0,"a",1),D.nI1(1,"async"),D.nI1(2,"translate"),D.nI1(3,"translate"),D.bIt("click",function(){D.eBV(q);const H=D.XpG();return D.Njj(H.searchFilterService.minimizeAll())}),D.j41(4,"span",2)(5,"span",3),D.EFF(6),D.nI1(7,"translate"),D.k0s(),D.j41(8,"span",4),D.EFF(9,"\xd7"),D.k0s()()()}if(2&X){const q=D.XpG();D.Y8G("routerLink",q.searchLink)("queryParams",D.bMT(1,5,q.removeParametersMax$)),D.BMQ("aria-label",D.i5U(3,9,"search.filters.remove",D.l_i(14,b,D.bMT(2,7,"search.filters.applied.f."+q.appliedFilter.filter+".max"),q.max))),D.R7$(6),D.Lme("",D.bMT(7,12,"search.filters.applied.f."+q.appliedFilter.filter+".max"),": ",q.max,"")}}let L=(()=>{class X{constructor(q,Z,H,Y,Q){this.paginationService=q,this.router=Z,this.searchConfigurationService=H,this.searchService=Y,this.searchFilterService=Q}ngOnInit(){this.searchLink=this.getSearchLink(),this.min=this.appliedFilter.value.substring(1,this.appliedFilter.value.indexOf("TO")-1),this.max=this.appliedFilter.value.substring(this.appliedFilter.value.indexOf("TO")+3,this.appliedFilter.value.length-1),this.removeParametersMin$=this.updateRemoveParams(`${this.appliedFilter.filter}.min`,this.min),this.removeParametersMax$=this.updateRemoveParams(`${this.appliedFilter.filter}.max`,this.max)}updateRemoveParams(q,Z,H){return this.searchConfigurationService.unselectAppliedFilterParams(q,Z,H)}getSearchLink(){return this.inPlaceSearch?(0,I.N)(this.router):this.searchService.getSearchLink()}static{this.\u0275fac=function(Z){return new(Z||X)(D.rXU(y.m),D.rXU(_.Ix),D.rXU(C.g),D.rXU(t.S),D.rXU(O.U))}}static{this.\u0275cmp=D.VBU({type:X,selectors:[["ds-search-label-range"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.aNF],decls:2,vars:2,consts:[["class","badge badge-primary",3,"routerLink","queryParams","click",4,"ngIf"],[1,"badge","badge-primary",3,"click","routerLink","queryParams"],[1,"d-flex"],[1,"flex-grow-1","text-left"],["aria-hidden","true",1,"pl-1"]],template:function(Z,H){1&Z&&D.DNE(0,P,10,17,"a",0)(1,M,10,17,"a",0),2&Z&&(D.Y8G("ngIf","*"!==H.min),D.R7$(),D.Y8G("ngIf","*"!==H.max))},dependencies:[i.Jj,i.bT,_.Wk,v.h,v.D9],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}.badge[_ngcontent-%COMP%]{white-space:inherit}"]})}}return X})();const B=void 0,U=new Map([[B,new Map([[p.SS,w]])],["range",new Map([[p.SS,L]])]]);function j(X,J){}let G=(()=>{class X extends l.e{constructor(){super(...arguments),this.inputNamesDependentForComponent=["appliedFilter"],this.inputNames=["inPlaceSearch","appliedFilter"]}getComponent(){return function $(X,J){let q=U.get(X);(0,m.Tn)(q)&&(q=U.get(B));const Z=q.get(J);return(0,m.Tn)(Z)?q.get(p.SS):Z}(this.appliedFilter.operator,this.themeService.getThemeName())}static{this.\u0275fac=(()=>{let q;return function(H){return(q||(q=D.xGo(X)))(H||X)}})()}static{this.\u0275cmp=D.VBU({type:X,selectors:[["ds-search-label-loader"]],inputs:{inPlaceSearch:"inPlaceSearch",appliedFilter:"appliedFilter"},standalone:!0,features:[D.Vt3,D.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(Z,H){1&Z&&D.DNE(0,j,0,0,"ng-template",1,0,D.C5r)},dependencies:[e.z],encapsulation:2})}}return X})();function z(X,J){if(1&X&&D.nrm(0,"ds-search-label-loader",2),2&X){const q=J.$implicit,Z=D.XpG();D.Y8G("appliedFilter",q)("inPlaceSearch",Z.inPlaceSearch)}}let V=(()=>{class X{constructor(q){this.searchService=q}ngOnInit(){this.appliedFilters$=this.searchService.appliedFilters$}static{this.\u0275fac=function(Z){return new(Z||X)(D.rXU(t.S))}}static{this.\u0275cmp=D.VBU({type:X,selectors:[["ds-search-labels"]],inputs:{inPlaceSearch:"inPlaceSearch"},standalone:!0,features:[D.aNF],decls:3,vars:3,consts:[[1,"labels"],[3,"appliedFilter","inPlaceSearch",4,"ngFor","ngForOf"],[3,"appliedFilter","inPlaceSearch"]],template:function(Z,H){1&Z&&(D.j41(0,"div",0),D.DNE(1,z,1,2,"ds-search-label-loader",1),D.nI1(2,"async"),D.k0s()),2&Z&&(D.R7$(),D.Y8G("ngForOf",D.bMT(2,1,H.appliedFilters$)))},dependencies:[i.pM,i.Jj,G],styles:["[_nghost-%COMP%]{line-height:1}[_nghost-%COMP%]   .labels[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:calc(var(--bs-spacer) / 4)}"]})}}return X})()},43280:(N,T,n)=>{"use strict";n.d(T,{L:()=>b});var i=n(3e3),t=n(40887),l=n(6041),e=n(10046),f=n(88318),m=n(25567),p=n(91581),_=n(78416),v=n(27605),y=n(34532),C=n(77537),O=n(17132),I=n(27442),D=n(24205),R=n(38786),h=n(95010);const w=new Map([[i.a,t.o],[_.T,y.y],[v.k,D.d],[l.p,C.A],[e.E,O.L],[f.q,I.H],[m.t,R.q],[p.F,h.I]]);function b(P){return w.get(P)}},84081:(N,T,n)=>{"use strict";n.d(T,{b:()=>O});var i=n(60177),t=n(72234),l=n(78655),e=n(78448),f=n(82777),m=n(54438);function p(I,D){1&I&&(m.j41(0,"div",4)(1,"div",8),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function _(I,D){if(1&I&&(m.j41(0,"div",3),m.DNE(1,p,3,0,"div",4),m.j41(2,"div")(3,"div",5),m.nrm(4,"ngx-skeleton-loader"),m.k0s(),m.j41(5,"div",6),m.nrm(6,"ngx-skeleton-loader",7),m.k0s()()()),2&I){const R=D.$index,h=m.XpG(2);m.AVh("my-4",0!==R),m.R7$(),m.vxM(1,h.showThumbnails?1:-1),m.R7$(),m.AVh("col-9",h.showThumbnails)("col-md-10",h.showThumbnails)("col-md-12",!h.showThumbnails),m.R7$(4),m.Y8G("count",h.textLineCount)}}function v(I,D){if(1&I&&m.Z7z(0,_,7,10,"div",2,m.fX1),2&I){const R=m.XpG();m.Dyx(R.loadingResults)}}function y(I,D){1&I&&(m.j41(0,"div",10)(1,"div",11),m.nrm(2,"ngx-skeleton-loader"),m.k0s()())}function C(I,D){if(1&I&&(m.j41(0,"div",9),m.Z7z(1,y,3,0,"div",10,m.fX1),m.k0s()),2&I){const R=m.XpG();m.R7$(),m.Dyx(R.loadingResults)}}let O=(()=>{class I{constructor(R){this.searchService=R,this.numberOfResults=0,this.textLineCount=2,this.ViewMode=e.n,this.viewMode$=this.searchService.getViewMode()}ngOnInit(){this.loadingResults=Array.from({length:this.numberOfResults},(R,h)=>h+1),(0,f.a4)(this.showThumbnails)||(this.showThumbnails=!0)}static{this.\u0275fac=function(h){return new(h||I)(m.rXU(l.S))}}static{this.\u0275cmp=m.VBU({type:I,selectors:[["ds-search-results-skeleton"]],inputs:{showThumbnails:"showThumbnails",numberOfResults:"numberOfResults",textLineCount:"textLineCount"},standalone:!0,features:[m.aNF],decls:8,vars:9,consts:[[1,"row","flex-nowrap"],[1,"info-skeleton","col-12"],[1,"row",3,"my-4"],[1,"row"],[1,"col-3","col-md-2"],[1,"badge-skeleton"],[1,"text-skeleton"],[3,"count"],[1,"thumbnail-skeleton","position-relative"],[1,"card-columns","row"],[1,"card-column","col","col-sm-6","col-lg-4"],[1,"card-skeleton"]],template:function(h,w){1&h&&(m.j41(0,"div",0)(1,"div",1),m.nI1(2,"async"),m.nrm(3,"ngx-skeleton-loader"),m.k0s()(),m.DNE(4,v,2,0),m.nI1(5,"async"),m.nI1(6,"async"),m.DNE(7,C,3,0)),2&h&&(m.R7$(),m.AVh("mb-2",m.bMT(2,3,w.viewMode$)===w.ViewMode.ListElement),m.R7$(3),m.vxM(4,m.bMT(5,5,w.viewMode$)===w.ViewMode.ListElement?4:m.bMT(6,7,w.viewMode$)===w.ViewMode.GridElement?7:-1))},dependencies:[t.Yq,t.Zm,i.Jj],styles:["[_nghost-%COMP%]    {--ds-wrapper-grid-spacing: calc(var(--bs-spacer) / 2)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .text-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-text-height)}[_nghost-%COMP%]     .badge-skeleton ngx-skeleton-loader .skeleton-loader, [_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-badge-width)}[_nghost-%COMP%]     .info-skeleton ngx-skeleton-loader .skeleton-loader{width:var(--ds-search-skeleton-info-width)}[_nghost-%COMP%]     .thumbnail-skeleton{max-width:var(--ds-thumbnail-max-width);height:100%}[_nghost-%COMP%]     .thumbnail-skeleton ngx-skeleton-loader .skeleton-loader{margin-right:var(--ds-search-skeleton-thumbnail-margin);border-radius:0;height:100%}[_nghost-%COMP%]     .card-skeleton ngx-skeleton-loader .skeleton-loader{height:var(--ds-search-skeleton-card-height)}[_nghost-%COMP%]     ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none}[_nghost-%COMP%]     .card-columns{margin-left:calc(-1 * var(--ds-wrapper-grid-spacing));margin-right:calc(-1 * var(--ds-wrapper-grid-spacing));column-gap:0}[_nghost-%COMP%]     .card-columns .card-column{padding-left:var(--ds-wrapper-grid-spacing);padding-right:var(--ds-wrapper-grid-spacing)}"]})}}return I})()},42837:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchResultsComponent:()=>X});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(72234),v=(n(6238),n(1716),n(26292),n(78655)),y=n(39012),O=(n(78448),n(50332)),I=n(82777),D=n(79632),h=(n(7581),n(67560)),b=(n(33550),n(53009)),P=n(84081);const M=()=>["/search"],L=J=>({query:J});function B(J,q){if(1&J&&(t.j41(0,"div",0)(1,"div",6)(2,"div",7)(3,"div",8),t.nrm(4,"ngx-skeleton-loader",9),t.nI1(5,"async"),t.k0s()()()()),2&J){const Z=t.XpG();t.R7$(4),t.Y8G("count",t.bMT(5,1,Z.activeFilters$).length)}}function U(J,q){if(1&J&&(t.j41(0,"h1"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&J){const Z=t.XpG();t.R7$(),t.JRh(t.bMT(2,1,Z.configuration?Z.configuration+".search.results.head":"search.results.head"))}}function $(J,q){if(1&J&&t.nrm(0,"ds-search-export-csv",10),2&J){const Z=t.XpG();t.Y8G("searchConfig",Z.searchConfig)}}function j(J,q){if(1&J){const Z=t.RV6();t.j41(0,"div")(1,"ds-viewable-collection",11),t.bIt("contentChange",function(Y){t.eBV(Z);const Q=t.XpG();return t.Njj(Q.contentChange.emit(Y))})("deselectObject",function(Y){t.eBV(Z);const Q=t.XpG();return t.Njj(Q.deselectObject.emit(Y))})("selectObject",function(Y){t.eBV(Z);const Q=t.XpG();return t.Njj(Q.selectObject.emit(Y))}),t.k0s()()}if(2&J){const Z=t.XpG();t.Y8G("@fadeIn",void 0),t.R7$(),t.Y8G("config",Z.searchConfig.pagination)("sortConfig",Z.searchConfig.sort)("objects",Z.searchResults)("hideGear",!0)("selectable",Z.selectable)("selectionConfig",Z.selectionConfig)("linkType",Z.linkType)("context",Z.context)("hidePaginationDetail",Z.hidePaginationDetail)("showThumbnails",Z.showThumbnails)}}function G(J,q){if(1&J&&t.nrm(0,"ds-search-results-skeleton",12),2&J){const Z=t.XpG();t.Y8G("showThumbnails",Z.showThumbnails)("numberOfResults",Z.searchConfig.pagination.pageSize)}}function z(J,q){if(1&J&&(t.nrm(0,"ds-error",13),t.nI1(1,"translate")),2&J){const Z=t.XpG();t.FS9("message",t.bMT(1,1,Z.errorMessageLabel()))}}function V(J,q){if(1&J&&(t.j41(0,"div"),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"a",14),t.EFF(4),t.nI1(5,"translate"),t.k0s()()),2&J){const Z=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"search.results.no-results")," "),t.R7$(2),t.Y8G("routerLink",t.lJ4(8,M))("queryParams",t.eq3(9,L,Z.surroundStringWithQuotes(null==Z.searchConfig?null:Z.searchConfig.query))),t.R7$(),t.SpI(" ",t.bMT(5,6,"search.results.no-results-link")," ")}}let X=(()=>{class J{constructor(Z,H){this.searchConfigService=Z,this.searchService=H,this.hasNoValue=I.Tn,this.showCsvExport=!1,this.disableHeader=!1,this.selectable=!1,this.hidePaginationDetail=!1,this.selectionConfig=null,this.contentChange=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.activeFilters$=this.searchConfigService.getCurrentFilters(),this.appliedFilters$=this.searchService.appliedFilters$}isLoading(){return!this.showError()&&((0,I.Tn)(this.searchResults)||(0,I.Tn)(this.searchResults.payload)||this.searchResults.isLoading)}showError(){return this.searchResults?.hasFailed&&(!this.searchResults?.errorMessage||400!==this.searchResults?.statusCode)}errorMessageLabel(){return 422===this.searchResults?.statusCode?"error.invalid-search-query":"error.search-results"}surroundStringWithQuotes(Z){let H=Z;return(0,I.hj)(H)&&!(H.startsWith('"')&&H.endsWith('"'))&&(H=`"${H}"`),H}static{this.\u0275fac=function(H){return new(H||J)(t.rXU(y.g),t.rXU(v.S))}}static{this.\u0275cmp=t.VBU({type:J,selectors:[["ds-base-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],decls:10,vars:11,consts:[[1,"row"],[1,"d-flex","justify-content-between"],[4,"ngIf"],[3,"searchConfig",4,"ngIf"],[3,"showThumbnails","numberOfResults",4,"ngIf"],[3,"message",4,"ngIf"],[1,"col-12"],[1,"filters-badge-skeleton-container"],[1,"filter-badge-skeleton"],[3,"count"],[3,"searchConfig"],[3,"contentChange","deselectObject","selectObject","config","sortConfig","objects","hideGear","selectable","selectionConfig","linkType","context","hidePaginationDetail","showThumbnails"],[3,"showThumbnails","numberOfResults"],[3,"message"],["queryParamsHandling","merge",3,"routerLink","queryParams"]],template:function(H,Y){1&H&&(t.DNE(0,B,6,3,"div",0),t.nI1(1,"async"),t.nI1(2,"async"),t.j41(3,"div",1),t.DNE(4,U,3,3,"h1",2)(5,$,1,1,"ds-search-export-csv",3),t.k0s(),t.DNE(6,j,2,11,"div",2)(7,G,1,2,"ds-search-results-skeleton",4)(8,z,2,3,"ds-error",5)(9,V,6,11,"div",2)),2&H&&(t.vxM(0,t.bMT(1,7,Y.activeFilters$).length>0&&0===t.bMT(2,9,Y.appliedFilters$).length?0:-1),t.R7$(4),t.Y8G("ngIf",!Y.disableHeader),t.R7$(),t.Y8G("ngIf",Y.showCsvExport),t.R7$(),t.Y8G("ngIf",Y.searchResults&&(null==Y.searchResults?null:Y.searchResults.hasSucceeded)&&!(null!=Y.searchResults&&Y.searchResults.isLoading)&&(null==Y.searchResults||null==Y.searchResults.payload?null:Y.searchResults.payload.page.length)>0),t.R7$(),t.Y8G("ngIf",Y.isLoading()),t.R7$(),t.Y8G("ngIf",Y.showError()),t.R7$(),t.Y8G("ngIf",0===(null==Y.searchResults||null==Y.searchResults.payload?null:Y.searchResults.payload.page.length)||400===(null==Y.searchResults?null:Y.searchResults.statusCode)))},dependencies:[i.Jj,D.A,i.bT,f.Yq,f.Zm,h.h,l.Wk,b.w,P.b,e.h,e.D9],styles:["[_nghost-%COMP%]     .filter-badge-skeleton ngx-skeleton-loader .skeleton-loader{background-color:var(--bs-light);box-shadow:none;width:var(--ds-search-skeleton-filter-badge-width);height:var(--ds-search-skeleton-badge-height);margin-bottom:0;margin-right:calc(var(--bs-spacer) / 4)}[_nghost-%COMP%]     .filters-badge-skeleton-container{display:flex;max-height:var(--ds-search-skeleton-badge-height)}"],data:{animation:[O.qG,O.Ws]}})}}return J})()},14131:(N,T,n)=>{"use strict";n.d(T,{N:()=>O});var i=n(54438),p=(n(6238),n(1716),n(26292),n(78448),n(7581),n(8886));n(33550),n(42837);const y=["*"];function C(I,D){}let O=(()=>{class I extends p.J{constructor(){super(...arguments),this.inAndOutputNames=["linkType","searchResults","searchConfig","showCsvExport","showThumbnails","sortConfig","viewMode","configuration","disableHeader","selectable","context","hidePaginationDetail","selectionConfig","contentChange","deselectObject","selectObject"],this.contentChange=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchResultsComponent"}importThemedComponent(R){return n(18527)(`./${R}/app/shared/search/search-results/search-results.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,42837))}static{this.\u0275fac=(()=>{let R;return function(w){return(R||(R=i.xGo(I)))(w||I)}})()}static{this.\u0275cmp=i.VBU({type:I,selectors:[["ds-search-results"]],inputs:{linkType:"linkType",searchResults:"searchResults",searchConfig:"searchConfig",showCsvExport:"showCsvExport",showThumbnails:"showThumbnails",sortConfig:"sortConfig",viewMode:"viewMode",configuration:"configuration",disableHeader:"disableHeader",selectable:"selectable",context:"context",hidePaginationDetail:"hidePaginationDetail",selectionConfig:"selectionConfig"},outputs:{contentChange:"contentChange",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:y,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(h,w){1&h&&(i.NAR(),i.DNE(0,C,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return I})()},93125:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchSettingsComponent:()=>I});var i=n(60177),t=n(89417),l=n(41780),f=(n(6238),n(22978)),p=(n(39012),n(13955)),_=n(46580),v=n(80270),y=n(54438);function C(D,R){if(1&D&&(y.j41(0,"option",4),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&D){const h=R.$implicit,w=y.XpG(2);y.Y8G("value",h.field+","+h.direction.toString())("selected",h.field===(null==w.currentSortOption?null:w.currentSortOption.field)&&h.direction===(null==w.currentSortOption?null:w.currentSortOption.direction)?"selected":null),y.R7$(),y.SpI(" ",y.bMT(2,3,"sorting."+h.field+"."+h.direction)," ")}}function O(D,R){if(1&D){const h=y.RV6();y.j41(0,"ds-sidebar-dropdown",2),y.bIt("changed",function(b){y.eBV(h);const P=y.XpG();return y.Njj(P.reloadOrder(b))}),y.DNE(1,C,3,5,"option",3),y.k0s()}if(2&D){const h=y.XpG();y.Y8G("id","search-sidebar-sort")("label","search.sidebar.settings.sort-by"),y.R7$(),y.Y8G("ngForOf",h.sortOptionsList)}}let I=(()=>{class D{constructor(h,w){this.paginationService=h,this.searchConfigurationService=w}reloadOrder(h){const w=h.target.value.split(",");this.paginationService.updateRoute(this.searchConfigurationService.paginationID,{sortField:w[0],sortDirection:w[1],page:1})}static{this.\u0275fac=function(w){return new(w||D)(y.rXU(f.m),y.rXU(p.EN))}}static{this.\u0275cmp=y.VBU({type:D,selectors:[["ds-base-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[y.aNF],decls:7,vars:4,consts:[[1,"result-order-settings"],[3,"id","label","changed",4,"ngIf"],[3,"changed","id","label"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(w,b){1&w&&(y.qex(0),y.j41(1,"h3"),y.EFF(2),y.nI1(3,"translate"),y.k0s(),y.j41(4,"div",0),y.DNE(5,O,2,3,"ds-sidebar-dropdown",1),y.k0s(),y.nrm(6,"ds-page-size-selector"),y.bVm()),2&w&&(y.R7$(2),y.JRh(y.bMT(3,2,"search.sidebar.settings.title")),y.R7$(3),y.Y8G("ngIf",b.sortOptionsList))},dependencies:[i.bT,v.v,i.pM,t.YN,t.xH,t.y7,_.b,l.h,l.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return D})()},1669:(N,T,n)=>{"use strict";n.d(T,{_:()=>p}),n(6238);var t=n(8886),e=(n(93125),n(54438));const f=["*"];function m(_,v){}let p=(()=>{class _ extends t.J{constructor(){super(...arguments),this.inAndOutputNames=["currentSortOption","sortOptionsList"]}getComponentName(){return"SearchSettingsComponent"}importThemedComponent(y){return n(60911)(`./${y}/app/shared/search/search-settings/search-settings.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,93125))}static{this.\u0275fac=(()=>{let y;return function(O){return(y||(y=e.xGo(_)))(O||_)}})()}static{this.\u0275cmp=e.VBU({type:_,selectors:[["ds-search-settings"]],inputs:{currentSortOption:"currentSortOption",sortOptionsList:"sortOptionsList"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:f,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(C,O){1&C&&(e.NAR(),e.DNE(0,m,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return _})()},9897:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchSidebarComponent:()=>b});var i=n(60177),t=n(54438),l=n(41780),e=n(96354),f=n(82640),p=(n(6238),n(39012)),_=n(35538),v=n(77909),C=(n(33550),n(75575)),O=n(1669),I=n(32541);function D(P,M){if(1&P){const L=t.RV6();t.j41(0,"ds-view-mode-switch",11),t.bIt("changeViewMode",function(U){t.eBV(L);const $=t.XpG();return t.Njj($.changeViewMode.emit(U))}),t.k0s()}if(2&P){const L=t.XpG();t.Y8G("viewModeList",L.viewModeList)}}function R(P,M){if(1&P){const L=t.RV6();t.j41(0,"ds-search-switch-configuration",12),t.bIt("changeConfiguration",function(U){t.eBV(L);const $=t.XpG();return t.Njj($.changeConfiguration.emit(U))}),t.k0s()}if(2&P){const L=t.XpG();t.Y8G("configurationList",L.configurationList)("defaultConfiguration",L.configuration)("inPlaceSearch",L.inPlaceSearch)}}function h(P,M){if(1&P&&(t.nrm(0,"ds-advanced-search",13),t.nI1(1,"async")),2&P){let L;const B=t.XpG();t.Y8G("configuration",B.configuration)("filtersConfig",null==(L=t.bMT(1,3,B.filters))?null:L.payload)("scope",B.currentScope)}}function w(P,M){if(1&P&&t.nrm(0,"ds-search-settings",14),2&P){const L=t.XpG();t.Y8G("currentSortOption",L.currentSortOption)("sortOptionsList",L.sortOptionsList)}}let b=(()=>{class P{constructor(L,B){this.appConfig=L,this.searchConfigurationService=B,this.showViewModes=!0,this.inPlaceSearch=!0,this.toggleSidebar=new t.bkB,this.changeConfiguration=new t.bkB,this.changeViewMode=new t.bkB}ngOnInit(){this.showAdvancedSearch$=this.searchConfigurationService.getConfigurationAdvancedSearchFilters(this.configuration,this.currentScope).pipe((0,e.T)(L=>this.appConfig.search.advancedFilters.enabled&&L.length>0))}static{this.\u0275fac=function(B){return new(B||P)(t.rXU(f.vQ),t.rXU(p.g))}}static{this.\u0275cmp=t.VBU({type:P,selectors:[["ds-base-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:18,vars:21,consts:[["id","sidebar-options",1,"d-block","d-md-none","search-controls","clearfix"],[1,"results"],["aria-controls","search-content",1,"btn","btn-outline-primary","float-right","close-sidebar",3,"click"],[1,"fas","fa-arrow-right"],["id","search-sidebar-content"],["class","d-none d-md-block",3,"viewModeList","changeViewMode",4,"ngIf"],[1,"sidebar-content"],[3,"configurationList","defaultConfiguration","inPlaceSearch","changeConfiguration",4,"ngIf"],[3,"currentScope","currentConfiguration","filters","refreshFilters","inPlaceSearch"],[3,"configuration","filtersConfig","scope",4,"ngIf"],[3,"currentSortOption","sortOptionsList",4,"ngIf"],[1,"d-none","d-md-block",3,"changeViewMode","viewModeList"],[3,"changeConfiguration","configurationList","defaultConfiguration","inPlaceSearch"],[3,"configuration","filtersConfig","scope"],[3,"currentSortOption","sortOptionsList"]],template:function(B,U){1&B&&(t.j41(0,"div")(1,"div",0)(2,"small",1),t.EFF(3),t.nI1(4,"translate"),t.k0s(),t.j41(5,"button",2),t.nI1(6,"translate"),t.bIt("click",function(){return U.toggleSidebar.emit()}),t.nrm(7,"i",3),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.j41(10,"div",4),t.DNE(11,D,1,1,"ds-view-mode-switch",5),t.j41(12,"div",6),t.DNE(13,R,1,3,"ds-search-switch-configuration",7),t.nrm(14,"ds-search-filters",8),t.DNE(15,h,2,5,"ds-advanced-search",9),t.nI1(16,"async"),t.DNE(17,w,1,2,"ds-search-settings",10),t.k0s()()()),2&B&&(t.R7$(3),t.Lme("",U.resultCount," ",t.bMT(4,13,"search.sidebar.results"),""),t.R7$(2),t.BMQ("aria-label",t.bMT(6,15,"search.sidebar.close")),t.R7$(3),t.SpI(" ",t.bMT(9,17,"search.sidebar.close")," "),t.R7$(3),t.Y8G("ngIf",U.showViewModes),t.R7$(2),t.Y8G("ngIf",U.configurationList),t.R7$(),t.Y8G("currentScope",U.currentScope)("currentConfiguration",U.configuration)("filters",U.filters)("refreshFilters",U.refreshFilters)("inPlaceSearch",U.inPlaceSearch),t.R7$(),t.Y8G("ngIf",U.inPlaceSearch&&!0===t.bMT(16,19,U.showAdvancedSearch$)),t.R7$(2),t.Y8G("ngIf",U.inPlaceSearch))},dependencies:[i.bT,_.g,I.o,C.k,O._,l.h,l.D9,v.Q,i.Jj],styles:["[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{line-height:var(--ds-button-height)}[_nghost-%COMP%]   ds-view-mode-switch[_ngcontent-%COMP%]{margin-bottom:var(--bs-spacer)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child):not(ds-search-switch-configuration){margin-bottom:calc(4 * var(--bs-spacer));display:block}[_nghost-%COMP%]   ds-search-switch-configuration[_ngcontent-%COMP%]{margin-bottom:calc(2 * var(--bs-spacer));display:block}"]})}}return P})()},79443:(N,T,n)=>{"use strict";n.d(T,{p:()=>_});var i=n(54438),l=(n(6238),n(8886));n(33550),n(9897);const m=["*"];function p(v,y){}let _=(()=>{class v extends l.J{constructor(){super(...arguments),this.toggleSidebar=new i.bkB,this.changeConfiguration=new i.bkB,this.changeViewMode=new i.bkB,this.inAndOutputNames=["configuration","configurationList","currentScope","currentSortOption","resultCount","filters","viewModeList","showViewModes","inPlaceSearch","searchOptions","sortOptionsList","refreshFilters","toggleSidebar","changeConfiguration","changeViewMode"]}getComponentName(){return"SearchSidebarComponent"}importThemedComponent(C){return n(98587)(`./${C}/app/shared/search/search-sidebar/search-sidebar.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,9897))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=i.xGo(v)))(I||v)}})()}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-search-sidebar"]],inputs:{configuration:"configuration",configurationList:"configurationList",currentScope:"currentScope",currentSortOption:"currentSortOption",filters:"filters",resultCount:"resultCount",viewModeList:"viewModeList",showViewModes:"showViewModes",inPlaceSearch:"inPlaceSearch",searchOptions:"searchOptions",sortOptionsList:"sortOptionsList",refreshFilters:"refreshFilters"},outputs:{toggleSidebar:"toggleSidebar",changeConfiguration:"changeConfiguration",changeViewMode:"changeViewMode"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return v})()},32541:(N,T,n)=>{"use strict";n.d(T,{o:()=>R});var i=n(60177),t=n(54438),l=n(89417),e=n(41780),f=n(48376),m=n.n(f),p=n(78655),v=(n(39012),n(13955)),y=n(82777),C=n(30506),O=n(7901);function I(h,w){if(1&h&&(t.j41(0,"option",5),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&h){const b=w.$implicit;t.Y8G("ngValue",b),t.R7$(),t.SpI(" ",t.bMT(2,2,b.label)," ")}}function D(h,w){if(1&h){const b=t.RV6();t.j41(0,"div",1)(1,"h3",2),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.j41(4,"select",3),t.mxI("ngModelChange",function(M){t.eBV(b);const L=t.XpG();return t.DH7(L.selectedOption,M)||(L.selectedOption=M),t.Njj(M)}),t.bIt("change",function(){t.eBV(b);const M=t.XpG();return t.Njj(M.onSelect())}),t.DNE(5,I,3,4,"option",4),t.k0s()()}if(2&h){const b=t.XpG();t.R7$(2),t.JRh(t.bMT(3,4,"search.switch-configuration.title")),t.R7$(2),t.Y8G("compareWith",b.compare),t.R50("ngModel",b.selectedOption),t.R7$(),t.Y8G("ngForOf",b.configurationList)}}let R=(()=>{class h{constructor(b,P,M){this.router=b,this.searchService=P,this.searchConfigService=M,this.configurationList=[],this.changeConfiguration=new t.bkB}ngOnInit(){this.searchConfigService.getCurrentConfiguration(this.defaultConfiguration).subscribe(b=>{const P=m()(this.configurationList,{value:b});this.selectedOption=this.configurationList[P]})}onSelect(){const b={queryParams:{configuration:this.selectedOption.value}};this.changeConfiguration.emit(this.selectedOption),this.router.navigate(this.getSearchLinkParts(),b)}compare(b,P){return b===P}ngOnDestroy(){(0,y.a4)(this.sub)&&this.sub.unsubscribe()}getSearchLink(){return this.inPlaceSearch?(0,C.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(P){return new(P||h)(t.rXU(O.Ix),t.rXU(p.S),t.rXU(v.EN))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["ds-search-switch-configuration"]],inputs:{inPlaceSearch:"inPlaceSearch",configurationList:"configurationList",defaultConfiguration:"defaultConfiguration"},outputs:{changeConfiguration:"changeConfiguration"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[["class","search-switch-configuration",4,"ngIf"],[1,"search-switch-configuration"],["id","configuration-switch"],["aria-labelledby","configuration-switch",1,"form-control",3,"ngModelChange","change","compareWith","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(P,M){1&P&&t.DNE(0,D,6,6,"div",0),2&P&&t.Y8G("ngIf",(null==M.configurationList?null:M.configurationList.length)>1)},dependencies:[i.bT,l.YN,l.xH,l.y7,l.wz,l.BC,l.vS,i.pM,e.h,e.D9]})}}return h})()},77766:(N,T,n)=>{"use strict";n.r(T),n.d(T,{SearchComponent:()=>Ne});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(59519),m=n.n(f),p=n(84412),_=n(84572),v=n(23294),y=n(96354),C=n(25558),O=n(5964),I=n(70152),D=n(82640),R=n(88280),h=n(64611),w=n(54671),b=n(56760),P=n(26292),M=n(80183),L=n(78655),U=(n(39012),n(90887)),$=n(13955),j=n(10214),G=n(82777),z=n(57538),X=(n(7581),n(18016)),J=n(50919),q=n(52600),Z=n(67600),H=n(30506),Y=n(35538),Q=n(33550),ie=n(55366),oe=n(14131),pe=n(79443);const ne=[[["","searchContentTop",""]],[["","additionalSearchOptions",""]]],re=["[searchContentTop]","[additionalSearchOptions]"];function Ce(ut,cn){}function Ee(ut,cn){1&ut&&t.DNE(0,Ce,0,0,"ng-template")}function ue(ut,cn){if(1&ut&&(t.j41(0,"div",6)(1,"div",7)(2,"div",8),t.DNE(3,Ee,1,0,null,9),t.k0s()()()),2&ut){t.XpG();const nn=t.sdS(11);t.R7$(3),t.Y8G("ngTemplateOutlet",nn)}}function ae(ut,cn){}function ye(ut,cn){1&ut&&t.DNE(0,ae,0,0,"ng-template")}function De(ut,cn){if(1&ut&&(t.j41(0,"div"),t.DNE(1,ye,1,0,null,9),t.k0s()),2&ut){t.XpG();const nn=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",nn)}}function tt(ut,cn){}function _t(ut,cn){1&ut&&t.DNE(0,tt,0,0,"ng-template")}function We(ut,cn){if(1&ut&&(t.j41(0,"ds-page-with-sidebar",10),t.DNE(1,_t,1,0,null,9),t.k0s()),2&ut){const nn=t.XpG(),Mn=t.sdS(7),Tt=t.sdS(9);t.Y8G("id","search-page")("sideBarWidth",nn.sideBarWidth)("sidebarContent",Tt),t.R7$(),t.Y8G("ngTemplateOutlet",Mn)}}function dt(ut,cn){}function it(ut,cn){1&ut&&t.DNE(0,dt,0,0,"ng-template")}function Ge(ut,cn){if(1&ut&&(t.qex(0),t.DNE(1,it,1,0,null,9),t.bVm()),2&ut){t.XpG(3);const nn=t.sdS(11);t.R7$(),t.Y8G("ngTemplateOutlet",nn)}}function gt(ut,cn){if(1&ut&&(t.j41(0,"div",8),t.DNE(1,Ge,2,1,"ng-container",4),t.SdG(2,1),t.k0s()),2&ut){const nn=t.XpG(2);t.R7$(),t.Y8G("ngIf",nn.searchEnabled)}}function Pe(ut,cn){if(1&ut&&t.nrm(0,"ds-view-mode-switch",18),2&ut){const nn=t.XpG(2);t.Y8G("viewModeList",nn.viewModeList)("inPlaceSearch",nn.inPlaceSearch)}}function we(ut,cn){if(1&ut){const nn=t.RV6();t.j41(0,"ds-search-results",19),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.bIt("contentChange",function(Tt){t.eBV(nn);const $t=t.XpG(2);return t.Njj($t.onContentChange(Tt))})("deselectObject",function(Tt){t.eBV(nn);const $t=t.XpG(2);return t.Njj($t.deselectObject.emit(Tt))})("selectObject",function(Tt){t.eBV(nn);const $t=t.XpG(2);return t.Njj($t.selectObject.emit(Tt))}),t.k0s()}if(2&ut){const nn=t.XpG(2);t.Y8G("searchResults",t.bMT(1,10,nn.resultsRD$))("searchConfig",t.bMT(2,12,nn.searchOptions$))("configuration",t.bMT(3,14,nn.currentConfiguration$))("disableHeader",!nn.searchEnabled)("linkType",nn.linkType)("context",t.bMT(4,16,nn.currentContext$))("selectable",nn.selectable)("selectionConfig",nn.selectionConfig)("showCsvExport",nn.showCsvExport)("showThumbnails",nn.showThumbnails)}}function vt(ut,cn){if(1&ut){const nn=t.RV6();t.j41(0,"div",7),t.DNE(1,gt,3,1,"div",11),t.nI1(2,"async"),t.j41(3,"div",12)(4,"div",13),t.DNE(5,Pe,1,2,"ds-view-mode-switch",14),t.j41(6,"button",15),t.bIt("click",function(){t.eBV(nn);const Tt=t.XpG();return t.Njj(Tt.openSidebar())}),t.nrm(7,"i",16),t.EFF(8),t.nI1(9,"translate"),t.k0s()(),t.SdG(10),t.DNE(11,we,5,18,"ds-search-results",17),t.k0s()()}if(2&ut){const nn=t.XpG();t.R7$(),t.Y8G("ngIf",!0!==t.bMT(2,4,nn.isXsOrSm$)),t.R7$(4),t.Y8G("ngIf",nn.inPlaceSearch&&nn.showViewModes),t.R7$(3),t.SpI(" ",t.bMT(9,6,"search.sidebar.open")," "),t.R7$(3),t.Y8G("ngIf",nn.inPlaceSearch)}}function at(ut,cn){if(1&ut){const nn=t.RV6();t.j41(0,"ds-search-sidebar",22),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("changeConfiguration",function(Tt){t.eBV(nn);const $t=t.XpG(2);return t.Njj($t.changeContext(Tt.context))})("changeViewMode",function(){t.eBV(nn);const Tt=t.XpG(2);return t.Njj(Tt.changeViewMode())}),t.k0s()}if(2&ut){let nn;const Mn=t.XpG(2);t.Y8G("configurationList",Mn.configurationList)("configuration",t.bMT(1,12,Mn.currentConfiguration$))("currentScope",t.bMT(2,14,Mn.currentScope$))("filters",Mn.filtersRD$.asObservable())("refreshFilters",Mn.refreshFilters)("resultCount",null==(nn=t.bMT(3,16,Mn.resultsRD$))||null==nn.payload?null:nn.payload.totalElements)("searchOptions",t.bMT(4,18,Mn.searchOptions$))("sortOptionsList",t.bMT(5,20,Mn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Mn.currentSortOptions$))("inPlaceSearch",Mn.inPlaceSearch)("viewModeList",Mn.viewModeList)("showViewModes",Mn.showViewModes)}}function nt(ut,cn){if(1&ut){const nn=t.RV6();t.j41(0,"ds-search-sidebar",23),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"async"),t.nI1(4,"async"),t.nI1(5,"async"),t.nI1(6,"async"),t.bIt("toggleSidebar",function(){t.eBV(nn);const Tt=t.XpG(2);return t.Njj(Tt.closeSidebar())})("changeConfiguration",function(Tt){t.eBV(nn);const $t=t.XpG(2);return t.Njj($t.changeContext(Tt.context))})("changeViewMode",function(){t.eBV(nn);const Tt=t.XpG(2);return t.Njj(Tt.changeViewMode())}),t.k0s()}if(2&ut){let nn;const Mn=t.XpG(2);t.Y8G("configurationList",Mn.configurationList)("configuration",t.bMT(1,12,Mn.currentConfiguration$))("currentScope",t.bMT(2,14,Mn.currentScope$))("filters",Mn.filtersRD$.asObservable())("refreshFilters",Mn.refreshFilters)("resultCount",null==(nn=t.bMT(3,16,Mn.resultsRD$))||null==nn.payload?null:nn.payload.totalElements)("searchOptions",t.bMT(4,18,Mn.searchOptions$))("sortOptionsList",t.bMT(5,20,Mn.sortOptionsList$))("currentSortOption",t.bMT(6,22,Mn.currentSortOptions$))("inPlaceSearch",Mn.inPlaceSearch)("viewModeList",Mn.viewModeList)("showViewModes",Mn.showViewModes)}}function lt(ut,cn){if(1&ut&&(t.DNE(0,at,7,24,"ds-search-sidebar",20),t.nI1(1,"async"),t.DNE(2,nt,7,24,"ds-search-sidebar",21),t.nI1(3,"async")),2&ut){const nn=t.XpG();t.Y8G("ngIf",!0!==t.bMT(1,2,nn.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,4,nn.isXsOrSm$))}}function ve(ut,cn){if(1&ut&&(t.nrm(0,"ds-search-form",24),t.nI1(1,"async"),t.nI1(2,"async"),t.nI1(3,"translate"),t.j41(4,"div",25)(5,"div",26),t.nrm(6,"ds-search-labels",27),t.k0s()()),2&ut){let nn,Mn;const Tt=t.XpG();t.Y8G("query",null==(nn=t.bMT(1,8,Tt.searchOptions$))?null:nn.query)("scope",null==(Mn=t.bMT(2,10,Tt.searchOptions$))?null:Mn.scope)("hideScopeInUrl",Tt.hideScopeInUrl)("currentUrl",Tt.searchLink)("showScopeSelector",Tt.showScopeSelector)("inPlaceSearch",Tt.inPlaceSearch)("searchPlaceholder",t.bMT(3,12,Tt.searchFormPlaceholder)),t.R7$(6),t.Y8G("inPlaceSearch",Tt.inPlaceSearch)}}let Ne=(()=>{class ut{constructor(nn,Mn,Tt,$t,St,Jt,ln,It){this.service=nn,this.sidebarService=Mn,this.windowService=Tt,this.searchConfigService=$t,this.routeService=St,this.router=Jt,this.appConfig=ln,this.platformId=It,this.configurationList=[],this.context=P.o.Search,this.useCachedVersionIfAvailable=!0,this.inPlaceSearch=!0,this.paginationId="spc",this.searchEnabled=!0,this.sideBarWidth=3,this.searchFormPlaceholder="search.search-form.placeholder",this.selectable=!1,this.showCsvExport=!1,this.showSidebar=!0,this.showViewModes=!0,this.showScopeSelector=!0,this.trackStatistics=!1,this.currentConfiguration$=new p.t(""),this.currentContext$=new p.t(null),this.currentSortOptions$=new p.t(null),this.filtersRD$=new p.t(null),this.resultsRD$=new p.t(null),this.searchOptions$=new p.t(null),this.sortOptionsList$=new p.t([]),this.initialized$=new p.t(!1),this.refreshFilters=new p.t(!1),this.uuidRegex=/\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b/g,this.allowedObjectPaths=["entities",U.xb,h.CC,w.b2],this.subs=[],this.resultFound=new t.bkB,this.deselectObject=new t.bkB,this.selectObject=new t.bkB,this.isXsOrSm$=this.windowService.isXsOrSm()}ngOnInit(){if(!this.renderOnServerSide&&!R.c.ssr.enableSearchComponent&&(0,i.Vy)(this.platformId))return this.subs.push(this.getSearchOptions().pipe((0,v.F)()).subscribe(St=>{this.searchOptions$.next(St)})),void this.initialized$.next(!0);this.useUniquePageId&&(this.paginationId=m()(this.paginationId)),this.searchConfigService.setPaginationId(this.paginationId),(0,G.a4)(this.configuration)&&this.routeService.setParameter("configuration",this.configuration),(0,G.a4)(this.fixedFilterQuery)&&this.routeService.setParameter("fixedFilterQuery",this.fixedFilterQuery),this.currentScope$=this.routeService.getQueryParameterValue("scope").pipe((0,y.T)(St=>(0,G.a4)(St)?St:this.scope??"")),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.searchLink=this.getSearchLink(),this.currentContext$.next(this.context);const nn=this.searchConfigService.getCurrentConfiguration(this.configuration).pipe((0,v.F)()),Mn=(0,_.z)([nn,this.currentScope$]).pipe((0,C.n)(([St,Jt])=>this.searchConfigService.getConfigurationSearchConfig(St,Jt)),(0,y.T)(St=>this.searchConfigService.getConfigurationSortOptions(St)),(0,v.F)()),Tt=Mn.pipe((0,C.n)(St=>this.searchConfigService.getCurrentSort(this.paginationId,St[0])),(0,v.F)()),$t=this.getSearchOptions().pipe((0,v.F)());this.subs.push((0,_.z)([nn,Mn,$t,Tt,this.currentScope$]).pipe((0,O.p)(([St,Jt,ln,It,zt])=>ln.pagination.id===this.paginationId),(0,I.B)(100)).subscribe(([St,Jt,ln,It,zt])=>{const Ht=Object.assign({},ln,{configuration:ln.configuration||St,sort:It||ln.sort});""===Ht.query&&(Ht.query=this.query),(0,G.Im)(Ht.scope)&&(Ht.scope=zt);const At=new Q.C(Ht);JSON.stringify(At)!==JSON.stringify(this.searchOptions$.value)&&(this.currentConfiguration$.next(St),this.currentSortOptions$.next(At.sort),this.sortOptionsList$.next(Jt),this.searchOptions$.next(At),this.initialized$.next(!0),this.retrieveSearchResults(At),this.retrieveFilters(At))})),this.subscribeToRoutingEvents()}changeContext(nn){this.currentContext$.next(nn)}closeSidebar(){this.sidebarService.collapse()}changeViewMode(){this.resultsRD$.next(null)}openSidebar(){this.sidebarService.expand()}onContentChange(nn){this.retrieveFilters(this.lastSearchOptions),this.refreshFilters.next(!0)}ngOnDestroy(){this.subs.filter(nn=>(0,G.a4)(nn)).forEach(nn=>nn.unsubscribe())}getSearchOptions(){return this.searchConfigService.paginatedSearchOptions}retrieveFilters(nn){this.searchConfigService.getConfig(nn.scope,nn.configuration).pipe((0,M.qD)()).subscribe(Mn=>{this.filtersRD$.next(Mn)})}retrieveSearchResults(nn){this.resultsRD$.next(null),this.lastSearchOptions=nn;const Mn=[(0,Z.s)("thumbnail",{isOptional:!0}),(0,Z.s)("item",{isOptional:!0},(0,Z.s)("thumbnail",{isOptional:!0}))];this.appConfig.item.showAccessStatuses&&Mn.push((0,Z.s)("accessStatus",{isOptional:!0})),"supervision"===this.configuration&&Mn.push((0,Z.s)("supervisionOrders",{isOptional:!0}));const Tt=Object.assign(new Q.C({}),nn);(0,G.hj)(this.hiddenQuery)&&(Tt.query=(0,G.hj)(Tt.query)?Tt.query+" AND "+this.hiddenQuery:this.hiddenQuery),this.service.search(Tt,void 0,this.useCachedVersionIfAvailable,!0,...Mn).pipe((0,M.qD)()).subscribe($t=>{$t.hasSucceeded&&(this.trackStatistics&&this.service.trackSearch(Tt,$t.payload),$t.payload?.page?.length>0&&this.resultFound.emit($t.payload)),this.resultsRD$.next($t)})}subscribeToRoutingEvents(){this.trackStatistics&&this.subs.push(this.router.events.pipe((0,O.p)(nn=>nn instanceof l.Z),(0,y.T)(nn=>this.getDsoUUIDFromUrl(nn.url)),(0,G.Az)()).subscribe(nn=>{this.resultsRD$.value.hasSucceeded&&this.service.trackSearch(this.searchOptions$.value,this.resultsRD$.value.payload,nn)}))}getDsoUUIDFromUrl(nn){if((0,G.hj)(nn)&&this.allowedObjectPaths.some(Mn=>nn.startsWith(`/${Mn}`))){const Mn=nn.substring(nn.lastIndexOf("/")+1);if(Mn.match(this.uuidRegex))return Mn}return null}isSidebarCollapsed(){return this.sidebarService.isCollapsed}getSearchLink(){return this.inPlaceSearch?(0,H.N)(this.router):this.service.getSearchLink()}static{this.\u0275fac=function(Mn){return new(Mn||ut)(t.rXU(L.S),t.rXU(q.o),t.rXU(z.CV),t.rXU($.EN),t.rXU(b.v$),t.rXU(l.Ix),t.rXU(D.vQ),t.rXU(t.Agw))}}static{this.\u0275cmp=t.VBU({type:ut,selectors:[["ds-base-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl",renderOnServerSide:"renderOnServerSide"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[t.aNF],ngContentSelectors:re,decls:12,vars:9,consts:[["searchContent",""],["sidebarContent",""],["searchForm",""],["class","container",4,"ngIf"],[4,"ngIf"],[3,"id","sideBarWidth","sidebarContent",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[4,"ngTemplateOutlet"],[3,"id","sideBarWidth","sidebarContent"],["class","col-12",4,"ngIf"],["id","search-content",1,"col-12"],[1,"d-block","d-md-none","search-controls","clearfix"],[3,"viewModeList","inPlaceSearch",4,"ngIf"],["aria-controls","#search-body",1,"btn","btn-outline-primary","float-right","open-sidebar",3,"click"],[1,"fas","fa-sliders"],[3,"searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails","contentChange","deselectObject","selectObject",4,"ngIf"],[3,"viewModeList","inPlaceSearch"],[3,"contentChange","deselectObject","selectObject","searchResults","searchConfig","configuration","disableHeader","linkType","context","selectable","selectionConfig","showCsvExport","showThumbnails"],["id","search-sidebar",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar-sm",3,"configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes","toggleSidebar","changeConfiguration","changeViewMode",4,"ngIf"],["id","search-sidebar",3,"changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-sidebar-sm",3,"toggleSidebar","changeConfiguration","changeViewMode","configurationList","configuration","currentScope","filters","refreshFilters","resultCount","searchOptions","sortOptionsList","currentSortOption","inPlaceSearch","viewModeList","showViewModes"],["id","search-form",3,"query","scope","hideScopeInUrl","currentUrl","showScopeSelector","inPlaceSearch","searchPlaceholder"],[1,"row","mb-3","mb-md-1"],[1,"labels","col-12"],[3,"inPlaceSearch"]],template:function(Mn,Tt){1&Mn&&(t.NAR(ne),t.DNE(0,ue,4,1,"div",3),t.nI1(1,"async"),t.DNE(2,De,2,1,"div",4),t.nI1(3,"async"),t.DNE(4,We,2,4,"ds-page-with-sidebar",5),t.nI1(5,"async"),t.DNE(6,vt,12,8,"ng-template",null,0,t.C5r)(8,lt,4,6,"ng-template",null,1,t.C5r)(10,ve,7,14,"ng-template",null,2,t.C5r)),2&Mn&&(t.Y8G("ngIf",Tt.searchEnabled&&t.bMT(1,3,Tt.isXsOrSm$)),t.R7$(2),t.Y8G("ngIf",!Tt.showSidebar&&t.bMT(3,5,Tt.initialized$)),t.R7$(2),t.Y8G("ngIf",Tt.showSidebar&&t.bMT(5,7,Tt.initialized$)))},dependencies:[i.Jj,i.bT,i.T3,J.f,X.d,oe.N,pe.p,e.h,e.D9,ie.L,Y.g],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}  .search-controls{margin-bottom:var(--bs-spacer)}"],data:{animation:[j.W]},changeDetection:0})}}return ut})()},54196:(N,T,n)=>{"use strict";n.d(T,{SB:()=>t,gp:()=>e,mq:()=>f});var i=n(82777);function t(m,p){const _=new RegExp(`[?|&]${l(encodeURIComponent(p.paramName))}=(${l(encodeURIComponent(m.value))}[^&]*)`,"g");if((0,i.hj)(m._links)){const v=_.exec(m._links.search.href);if((0,i.hj)(v))return decodeURIComponent(v[1])}return m.authorityKey?f(m.authorityKey,"authority"):f(m.value,"equals")}function l(m){return m.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function e(m){return m.match(new RegExp(".+,(equals|query|authority)$"))?m.substring(0,m.lastIndexOf(",")):m}function f(m,p){return m.match(new RegExp("^.+,(equals|query|authority|contains|notcontains|notequals)$"))?m:`${m},${p}`}},54992:(N,T,n)=>{"use strict";n.d(T,{N:()=>_});var i=n(54438),e=(n(26292),n(7581),n(8886));n(77766);const m=["*"];function p(v,y){}let _=(()=>{class v extends e.J{constructor(){super(...arguments),this.inAndOutputNames=["configurationList","context","configuration","fixedFilterQuery","hiddenQuery","useCachedVersionIfAvailable","inPlaceSearch","linkType","paginationId","searchEnabled","sideBarWidth","searchFormPlaceholder","selectable","selectionConfig","showCsvExport","showSidebar","showThumbnails","showViewModes","useUniquePageId","viewModeList","showScopeSelector","trackStatistics","query","scope","hideScopeInUrl","resultFound","deselectObject","selectObject"],this.resultFound=new i.bkB,this.deselectObject=new i.bkB,this.selectObject=new i.bkB}getComponentName(){return"SearchComponent"}importThemedComponent(C){return n(13390)(`./${C}/app/shared/search/search.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,77766))}static{this.\u0275fac=(()=>{let C;return function(I){return(C||(C=i.xGo(v)))(I||v)}})()}static{this.\u0275cmp=i.VBU({type:v,selectors:[["ds-search"]],inputs:{configurationList:"configurationList",context:"context",configuration:"configuration",fixedFilterQuery:"fixedFilterQuery",hiddenQuery:"hiddenQuery",useCachedVersionIfAvailable:"useCachedVersionIfAvailable",inPlaceSearch:"inPlaceSearch",linkType:"linkType",paginationId:"paginationId",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth",searchFormPlaceholder:"searchFormPlaceholder",selectable:"selectable",selectionConfig:"selectionConfig",showCsvExport:"showCsvExport",showSidebar:"showSidebar",showThumbnails:"showThumbnails",showViewModes:"showViewModes",useUniquePageId:"useUniquePageId",viewModeList:"viewModeList",showScopeSelector:"showScopeSelector",trackStatistics:"trackStatistics",query:"query",scope:"scope",hideScopeInUrl:"hideScopeInUrl"},outputs:{resultFound:"resultFound",deselectObject:"deselectObject",selectObject:"selectObject"},standalone:!0,features:[i.Vt3,i.aNF],ngContentSelectors:m,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(O,I){1&O&&(i.NAR(),i.DNE(0,p,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())},encapsulation:2})}}return v})()},50919:(N,T,n)=>{"use strict";n.d(T,{f:()=>y});var i=n(60177),t=n(96354),l=n(10214),e=n(57538),f=n(52600),m=n(54438);const p=["*"];function _(C,O){1&C&&m.eu8(0)}function v(C,O){if(1&C&&(m.j41(0,"div",4),m.nI1(1,"async"),m.nI1(2,"async"),m.nI1(3,"async"),m.DNE(4,_,1,0,"ng-container",5),m.k0s()),2&C){const I=m.XpG();m.STu("col-12 col-md-",I.sideBarWidth," sidebar-content ",m.bMT(1,9,I.sidebarClasses),""),m.AVh("invisible",!0===m.bMT(2,11,I.isSidebarCollapsed$)&&!0===m.bMT(3,13,I.isXsOrSm$)),m.Mz_("id","",I.id,"-sidebar-content"),m.R7$(4),m.Y8G("ngTemplateOutlet",I.sidebarContent)}}let y=(()=>{class C{constructor(I,D){this.sidebarService=I,this.windowService=D,this.sideBarWidth=3}ngOnInit(){this.isXsOrSm$=this.windowService.isXsOrSm(),this.isSidebarCollapsed$=this.isSidebarCollapsed(),this.sidebarClasses=this.isSidebarCollapsed$.pipe((0,t.T)(I=>I?"":"active"))}isSidebarCollapsed(){return this.sidebarService.isCollapsed}closeSidebar(){this.sidebarService.collapse()}openSidebar(){this.sidebarService.expand()}static{this.\u0275fac=function(D){return new(D||C)(m.rXU(f.o),m.rXU(e.CV))}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["ds-page-with-sidebar"]],inputs:{id:"id",sidebarContent:"sidebarContent",sideBarWidth:"sideBarWidth"},standalone:!0,features:[m.aNF],ngContentSelectors:p,decls:9,vars:15,consts:[[1,"container"],[1,"row"],[1,"row-with-sidebar","row-offcanvas","row-offcanvas-left"],[3,"id","invisible","class",4,"ngIf"],[3,"id"],[4,"ngTemplateOutlet"]],template:function(D,R){1&D&&(m.NAR(),m.j41(0,"div",0)(1,"div",1)(2,"div",2),m.nI1(3,"async"),m.DNE(4,v,5,15,"div",3),m.j41(5,"div"),m.nI1(6,"async"),m.nI1(7,"async"),m.SdG(8),m.k0s()()()()),2&D&&(m.R7$(2),m.Y8G("@pushInOut",m.bMT(3,9,R.isSidebarCollapsed$)?"collapsed":"expanded"),m.R7$(2),m.Y8G("ngIf",R.sideBarWidth>0),m.R7$(),m.ZvI("col-12 col-md-",12-R.sideBarWidth,""),m.AVh("px-0",0===R.sideBarWidth)("invisible",!0!==m.bMT(6,11,R.isSidebarCollapsed$)&&!0===m.bMT(7,13,R.isXsOrSm$)))},dependencies:[i.Jj,i.T3,i.bT],styles:["@media (max-width: 991.98px){.container[_ngcontent-%COMP%]{width:100%;max-width:none}}.row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{width:100%}@media (min-width: 768px){.row-with-sidebar[_ngcontent-%COMP%]{display:flex}}@media (max-width: 767.98px){.row-with-sidebar[_ngcontent-%COMP%], .row-with-sidebar.row-offcanvas[_ngcontent-%COMP%]{position:relative}.row-with-sidebar.row-offcanvas-right[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{right:-100%}.row-with-sidebar.row-offcanvas-left[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{left:-100%}.row-with-sidebar[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{position:absolute;top:0;width:100%}}@media (min-width: 768px){.sidebar-content[_ngcontent-%COMP%]{position:sticky;position:-webkit-sticky;top:0;z-index:var(--bs-zindex-sticky);padding-top:var(--ds-content-spacing);margin-top:calc(-1 * var(--ds-content-spacing));align-self:flex-start;display:block}}"],data:{animation:[l.W]}})}}return C})()},80270:(N,T,n)=>{"use strict";n.d(T,{v:()=>e});var i=n(54438),t=n(41780);const l=["*"];let e=(()=>{class f{constructor(){this.changed=new i.bkB}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["ds-sidebar-dropdown"]],inputs:{id:"id",label:"label"},outputs:{changed:"changed"},standalone:!0,features:[i.aNF],ngContentSelectors:l,decls:7,vars:5,consts:[[1,"setting-option","mb-3","p-3"],[3,"for"],[1,"form-control",3,"change","id"]],template:function(_,v){1&_&&(i.NAR(),i.j41(0,"div",0)(1,"h4")(2,"label",1),i.EFF(3),i.nI1(4,"translate"),i.k0s()(),i.j41(5,"select",2),i.bIt("change",function(C){return v.changed.emit(C)}),i.SdG(6),i.k0s()()),2&_&&(i.R7$(2),i.FS9("for",v.id),i.R7$(),i.JRh(i.bMT(4,3,v.label)),i.R7$(2),i.FS9("id",v.id))},dependencies:[t.h,t.D9],styles:[".setting-option[_ngcontent-%COMP%]{border:1px solid var(--bs-light)}"]})}}return f})()},52680:(N,T,n)=>{"use strict";n.d(T,{EI:()=>l,Kd:()=>t,pm:()=>e});var i=n(91e3);const t={COLLAPSE:(0,i.N)("dspace/sidebar/COLLAPSE"),EXPAND:(0,i.N)("dspace/sidebar/EXPAND"),TOGGLE:(0,i.N)("dspace/sidebar/TOGGLE")};class l{constructor(){this.type=t.COLLAPSE}}class e{constructor(){this.type=t.EXPAND}}},52600:(N,T,n)=>{"use strict";n.d(T,{o:()=>v});var i=n(25499),t=n(84572),l=n(96354),e=n(57538),f=n(52680),m=n(54438);const _=(0,i.Mz)(y=>y.sidebar,y=>y.sidebarCollapsed);let v=(()=>{class y{constructor(O,I){this.store=O,this.windowService=I,this.isXsOrSm$=this.windowService.isXsOrSm(),this.isCollapsedInStore=this.store.pipe((0,i.Lt)(_))}get isCollapsed(){return(0,t.z)(this.isXsOrSm$,this.isCollapsedInStore).pipe((0,l.T)(([O,I])=>!O||I))}collapse(){this.store.dispatch(new f.EI)}expand(){this.store.dispatch(new f.pm)}static{this.\u0275fac=function(I){return new(I||y)(m.KVO(i.il),m.KVO(e.CV))}}static{this.\u0275prov=m.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},9274:(N,T,n)=>{"use strict";n.d(T,{P5:()=>h});var i=n(60177),t=n(89417),l=n(41780),e=n(82777),f=n(22978),m=n(19798),p=n(54438),_=n(7901);let v=(()=>{class w{constructor(P,M,L){this.paginationService=P,this.route=M,this.router=L,this.subs=[]}ngOnInit(){this.subs.push(this.route.queryParams.subscribe(P=>{(0,e.a4)(P.startsWith)&&this.setStartsWith(P.startsWith)})),this.formData=new t.J3({startsWith:new t.hs})}getStartsWith(){return this.startsWith}setStartsWith(P){this.startsWith=P}setStartsWithParam(P=!0){"-1"===this.startsWith&&(this.startsWith=void 0),P?this.paginationService.updateRoute(this.paginationId,{page:1},{startsWith:this.startsWith}):this.router.navigate([],{queryParams:Object.assign({startsWith:this.startsWith}),queryParamsHandling:"merge"})}submitForm(P){this.startsWith=P.startsWith,this.setStartsWithParam()}ngOnDestroy(){this.subs.filter(P=>(0,e.a4)(P)).forEach(P=>P.unsubscribe())}static{this.\u0275fac=function(M){return new(M||w)(p.rXU(f.m),p.rXU(_.nX),p.rXU(_.Ix))}}static{this.\u0275cmp=p.VBU({type:w,selectors:[["ds-start-with-abstract"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},decls:0,vars:0,template:function(M,L){},encapsulation:2})}}return w})();function y(w,b){if(1&w&&(p.j41(0,"option",5),p.EFF(1),p.k0s()),2&w){const P=b.$implicit,M=p.XpG();p.Y8G("value",P)("selected",P===M.startsWithYear?"selected":null),p.R7$(),p.SpI(" ",P," ")}}function C(w,b){if(1&w&&(p.j41(0,"option",5),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&w){const P=b.$implicit,M=p.XpG();p.Y8G("value",P)("selected",P===M.startsWithMonth?"selected":null),p.R7$(),p.SpI(" ",p.bMT(2,3,"browse.startsWith.months."+P)," ")}}let O=(()=>{class w extends v{constructor(){super(...arguments),this.startsWithMonth="none"}ngOnInit(){this.monthOptions=["none","january","february","march","april","may","june","july","august","september","october","november","december"],super.ngOnInit()}setStartsWithYearEvent(P){this.startsWithYear=+P.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}setStartsWithMonthEvent(P){this.startsWithMonth=P.target.value,this.setStartsWithYearMonth(),this.setStartsWithParam(!0)}getStartsWith(){const P=this.getStartsWithMonth();if(P>0&&(0,e.a4)(this.startsWithYear)&&-1!==this.startsWithYear){let M=""+P;return P<10&&(M=`0${P}`),`${this.startsWithYear}-${M}`}return(0,e.a4)(this.startsWithYear)&&this.startsWithYear>0?""+this.startsWithYear:void 0}setStartsWithYearMonth(){this.startsWith=this.getStartsWith()}setStartsWith(P){if(this.startsWith=P,(0,e.a4)(P)&&P.indexOf("-")>-1){const M=P.split("-");this.startsWithYear=+M[0];const L=+M[1];this.startsWithMonth=L<this.monthOptions.length?this.monthOptions[L]:this.monthOptions[0]}else this.startsWithYear=+P}getStartsWithMonth(){return this.monthOptions.indexOf(this.startsWithMonth)}static{this.\u0275fac=(()=>{let P;return function(L){return(P||(P=p.xGo(w)))(L||w)}})()}static{this.\u0275cmp=p.VBU({type:w,selectors:[["ds-starts-with-date"]],standalone:!0,features:[p.Vt3,p.aNF],decls:25,vars:27,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12","font-weight-bold","mb-1"],[1,"col-6","col-md-2"],["id","year-select",1,"form-control",3,"change"],[3,"value","selected"],[3,"value","selected",4,"ngFor","ngForOf"],["id","month-select",1,"form-control",3,"change"],[1,"form-group","input-group","col-12","col-md-6","pt-1","pt-md-0"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"]],template:function(M,L){1&M&&(p.j41(0,"form",0),p.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),p.j41(1,"div",1)(2,"span",2),p.EFF(3),p.nI1(4,"translate"),p.k0s(),p.j41(5,"div",3)(6,"select",4),p.nI1(7,"translate"),p.bIt("change",function(U){return L.setStartsWithYearEvent(U)}),p.j41(8,"option",5),p.EFF(9),p.nI1(10,"translate"),p.k0s(),p.DNE(11,y,2,3,"option",6),p.k0s()(),p.j41(12,"div",3)(13,"select",7),p.nI1(14,"translate"),p.bIt("change",function(U){return L.setStartsWithMonthEvent(U)}),p.DNE(15,C,3,5,"option",6),p.k0s()(),p.j41(16,"div",8),p.nrm(17,"input",9),p.nI1(18,"translate"),p.nI1(19,"translate"),p.j41(20,"span",10)(21,"button",11),p.nrm(22,"i",12),p.EFF(23),p.nI1(24,"translate"),p.k0s()()()()()),2&M&&(p.Y8G("formGroup",L.formData),p.R7$(3),p.SpI(" ",p.bMT(4,13,"browse.startsWith.jump")," "),p.R7$(3),p.BMQ("aria-label",p.bMT(7,15,"browse.startsWith.choose_year.label")),p.R7$(2),p.Y8G("value",-1)("selected",!L.startsWithYear),p.R7$(),p.SpI(" ",p.bMT(10,17,"browse.startsWith.choose_year")," "),p.R7$(2),p.Y8G("ngForOf",L.startsWithOptions),p.R7$(2),p.BMQ("aria-label",p.bMT(14,19,"browse.startsWith.months.none.label")),p.R7$(2),p.Y8G("ngForOf",L.monthOptions),p.R7$(2),p.FS9("placeholder",p.bMT(18,21,"browse.startsWith.type_date")),p.Y8G("value",L.getStartsWith()?L.getStartsWith():""),p.BMQ("aria-label",p.bMT(19,23,"browse.startsWith.type_date.label")),p.R7$(6),p.SpI(" ",p.bMT(24,25,"browse.startsWith.submit"),""))},dependencies:[t.YN,t.qT,t.xH,t.y7,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,i.pM,l.h,l.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}"]})}}return w})();const D=new Map([[m.c.text,(()=>{class w extends v{getStartsWith(){return(0,e.a4)(this.startsWith)?this.startsWith:""}setStartsWithParam(P=!0){"0-9"===this.startsWith&&(this.startsWith="0"),super.setStartsWithParam(P)}static{this.\u0275fac=(()=>{let P;return function(L){return(P||(P=p.xGo(w)))(L||w)}})()}static{this.\u0275cmp=p.VBU({type:w,selectors:[["ds-starts-with-text"]],standalone:!0,features:[p.Vt3,p.aNF],decls:15,vars:14,consts:[[1,"w-100",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"row"],[1,"form-group","input-group","col-sm-12","col-md-6","col-auto"],["type","text","name","startsWith","formControlName","startsWith",1,"form-control",3,"placeholder","value"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"fas","fa-book-open"],[1,"text-muted"]],template:function(M,L){1&M&&(p.j41(0,"form",0),p.bIt("ngSubmit",function(){return L.submitForm(L.formData.value)}),p.j41(1,"div",1)(2,"div",2)(3,"div",3),p.nrm(4,"input",4),p.nI1(5,"translate"),p.nI1(6,"translate"),p.j41(7,"span",5)(8,"button",6),p.nrm(9,"i",7),p.EFF(10),p.nI1(11,"translate"),p.k0s()()()(),p.j41(12,"small",8),p.EFF(13),p.nI1(14,"translate"),p.k0s()()()),2&M&&(p.Y8G("formGroup",L.formData),p.R7$(4),p.FS9("placeholder",p.bMT(5,6,"browse.search-form.placeholder")),p.Y8G("value",L.getStartsWith()),p.BMQ("aria-label",p.bMT(6,8,"browse.startsWith.input")),p.R7$(6),p.SpI(" ",p.bMT(11,10,"browse.startsWith.submit"),""),p.R7$(3),p.JRh(p.bMT(14,12,"browse.startsWith.type_text")))},dependencies:[t.YN,t.qT,t.me,t.BC,t.cb,t.X1,t.j4,t.JD,l.h,l.D9],styles:[".btn-secondary[_ngcontent-%COMP%]{background-color:var(--bs-input-bg);color:var(--bs-input-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:0}"]})}}return w})()],[m.c.date,O]]);function h(w){return D.get(w)}},31956:(N,T,n)=>{"use strict";n.d(T,{u:()=>m});var i=n(22924),t=n(9274),e=(n(19798),n(54438));function f(p,_){}let m=(()=>{class p extends i.e{constructor(){super(...arguments),this.inputNames=[...this.inputNames,"paginationId","startsWithOptions","type"]}getComponent(){return(0,t.P5)(this.type)}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=e.xGo(p)))(C||p)}})()}static{this.\u0275cmp=e.VBU({type:p,selectors:[["ds-starts-with-loader"]],inputs:{paginationId:"paginationId",startsWithOptions:"startsWithOptions",type:"type"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(y,C){1&y&&e.DNE(0,f,0,0,"ng-template",1,0,e.C5r)},encapsulation:2})}}return p})()},19798:(N,T,n)=>{"use strict";n.d(T,{c:()=>i});var i=function(t){return t.text="Text",t.date="Date",t}(i||{})},67478:(N,T,n)=>{"use strict";n.d(T,{y:()=>v});var i=n(31635),t=n(74850),l=n(71985),e=n(21921),f=n(58235),m=n(76829),p=n(39147),_=n(17860);let v=class extends m.M{static{this.type=_.m}};(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"id",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],v.prototype,"subscriptionType",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Array)],v.prototype,"subscriptionParameterList",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],v.prototype,"_links",void 0),(0,i.Cg)([(0,e.nf)(f.N),(0,i.Sn)("design:type",l.c)],v.prototype,"eperson",void 0),(0,i.Cg)([(0,e.nf)(p.X),(0,i.Sn)("design:type",l.c)],v.prototype,"resource",void 0),v=(0,i.Cg)([e.gV,(0,t.inheritSerialization)(m.M)],v)},17860:(N,T,n)=>{"use strict";n.d(T,{m:()=>t});const t=new(n(42547).v)("subscription")},15314:(N,T,n)=>{"use strict";n.d(T,{K:()=>l,t:()=>t});const t={SET:(0,n(91e3).N)("dspace/theme/SET")};class l{constructor(f){this.type=t.SET,this.payload={name:f}}}},10092:(N,T,n)=>{"use strict";n.d(T,{Q:()=>i});const i="base"},82522:(N,T,n)=>{"use strict";n.d(T,{Fs:()=>Ce});var i=n(60177),t=n(7901),l=n(25499),e=n(84412),f=n(7673),m=n(22806),p=n(70274),_=n(983),v=n(96697),y=n(5964),C=n(25558),O=n(96354),I=n(39974),D=n(85412),h=n(56594),w=n(39901),b=n(45113),P=n(88280),M=n(1321),L=n(13989),B=n(52998),U=n(80183),$=n(82777),j=n(43323),G=n(81569),z=n(67600),V=n(15314),X=n(10092),J=n(84572),q=n(69799),Z=n(73335);class H{constructor(ue){this.config=ue}matches(ue,ae){return(0,f.of)(!0)}}class Y extends H{constructor(ue){super(ue),this.config=ue,this.regex=new RegExp(this.config.regex)}matches(ue,ae){let ye;const De=(0,q.wN)(ae);return(0,$.hj)(De)&&(ye=De.match(this.regex)),(0,$.Tn)(ye)&&(ye=ue.match(this.regex)),(0,f.of)((0,$.a4)(ye))}}class Q extends H{constructor(ue,ae){super(ue),this.config=ue,this.handleService=ae}matches(ue,ae){return(0,$.a4)(ae?.handle)?(0,J.z)([this.handleService.normalizeHandle(ae?.handle),this.handleService.normalizeHandle(this.config.handle)]).pipe((0,O.T)(([ye,De])=>(0,$.a4)(ae)&&(0,$.a4)(ae.handle)&&ye===De),(0,v.s)(1)):(0,f.of)(!1)}}class ie extends H{constructor(ue){super(ue),this.config=ue}matches(ue,ae){return(0,f.of)((0,$.a4)(ae)&&ae.uuid===this.config.uuid)}}var pe=n(54438);const ne=(0,l.UX)("theme"),re=(0,l.Mz)(ne,Ee=>(0,$.a4)(Ee)?Ee.currentTheme:X.Q);let Ce=(()=>{class Ee{constructor(ae,ye,De,tt,_t,We,dt){this.store=ae,this.linkService=ye,this.dSpaceObjectDataService=De,this.injector=tt,this.gtcf=_t,this.router=We,this.document=dt,this._isThemeLoading$=new e.t(!1),this._isThemeCSSLoading$=new e.t(!1),this.themes=P.c.themes.map(it=>((Ee,ue)=>(0,$.a4)(Ee.regex)?new Y(Ee):(0,$.a4)(Ee.handle)?new Q(Ee,ue.get(Z.e)):(0,$.a4)(Ee.uuid)?new ie(Ee):new H(Ee))(it,tt)),this.hasDynamicTheme=P.c.themes.some(it=>(0,$.a4)(it.regex)||(0,$.a4)(it.handle)||(0,$.a4)(it.uuid))}setTheme(ae){this.store.dispatch(new V.K(ae))}getThemeName(){let ae;return this.store.pipe((0,l.Lt)(re),(0,v.s)(1)).subscribe(ye=>ae=ye),ae}getThemeName$(){return this.store.pipe((0,l.Lt)(re))}get isThemeLoading$(){return this._isThemeLoading$}listenForThemeChanges(ae){this.getThemeName$().subscribe(ye=>{if(ae&&(0,B.S)(this._isThemeCSSLoading$,!0),(0,$.a4)(ye))this.loadGlobalThemeConfig(ye);else{const De=(0,b.Nv)();(0,$.a4)(De)?this.loadGlobalThemeConfig(De.name):this.loadGlobalThemeConfig(X.Q)}})}listenForRouteChanges(){this.router.events.pipe((0,y.p)(ae=>ae instanceof t.gx),(0,C.n)(ae=>this.updateThemeOnRouteChange$(ae.urlAfterRedirects,ae.state.root)),(0,C.n)(ae=>ae?this._isThemeCSSLoading$:[!1])).subscribe(ae=>{(0,B.S)(this._isThemeLoading$,ae)})}loadGlobalThemeConfig(ae){this.setThemeCss(ae),this.setHeadTags(ae)}setThemeCss(ae){const ye=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(ye))return;const De=Array.from(ye.getElementsByClassName("theme-css")),tt=this.document.createElement("link");tt.setAttribute("rel","stylesheet"),tt.setAttribute("type","text/css"),tt.setAttribute("class","theme-css"),tt.setAttribute("href",`${encodeURIComponent(ae)}-theme.css`),tt.onload=()=>{(0,$.hj)(De)&&De.forEach(_t=>{(0,$.a4)(_t)&&_t.remove()}),(0,B.S)(this._isThemeCSSLoading$,!1)},ye.appendChild(tt)}setHeadTags(ae){const ye=this.document.getElementsByTagName("head")[0];if((0,$.Tn)(ye))return;const De=Array.from(ye.getElementsByClassName("theme-head-tag"));(0,$.a4)(De)&&De.forEach(_t=>_t.remove());const tt=this.document.createDocumentFragment();this.createHeadTags(ae).forEach(_t=>tt.appendChild(_t)),ye.appendChild(tt)}createHeadTags(ae){const ye=this.getThemeConfigFor(ae),De=ye?.headTags;if((0,$.Tn)(De)){const tt=ye?.extends;return(0,$.a4)(tt)?this.createHeadTags(tt):[this.createHeadTag({tagName:"link",attributes:{rel:"icon",href:"assets/images/favicon.ico",sizes:"any"}})]}return De.map(this.createHeadTag.bind(this))}createHeadTag(ae){const ye=this.document.createElement(ae.tagName);return(0,$.a4)(ae.attributes)&&Object.entries(ae.attributes).forEach(([De,tt])=>ye.setAttribute(De,tt)),ye.setAttribute("class","theme-head-tag"),ye}updateThemeOnRouteChange$(ae,ye){const tt=this.store.pipe((0,l.Lt)(re)).pipe((0,C.n)(_t=>{const We=this.findRouteData(ye);if(!0===this.hasDynamicTheme&&(0,$.hj)(this.themes)){if((0,$.a4)(We)&&(0,$.a4)(We.data)&&(0,$.a4)(We.data.dso)){const dt=We.data.dso;if(dt.hasSucceeded)return(0,f.of)(dt.payload).pipe(this.getAncestorDSOs(),(0,C.n)(it=>this.matchThemeToDSOs(it,ae)),(0,O.T)(it=>this.getActionForMatch(it,_t)))}return(0,$.a4)(ye.queryParams)&&(0,$.a4)(ye.queryParams.scope)?this.dSpaceObjectDataService.findById(ye.queryParams.scope).pipe((0,U.yd)(),(0,U.Bo)(),this.getAncestorDSOs(),(0,C.n)(it=>this.matchThemeToDSOs(it,ae)),(0,O.T)(it=>this.getActionForMatch(it,_t))):(0,m.H)(this.themes).pipe((0,p.H)(dt=>dt.matches(ae,void 0).pipe((0,y.p)(it=>!0===it),(0,O.T)(()=>dt),(0,v.s)(1))),(0,v.s)(1),(0,O.T)(dt=>this.getActionForMatch(dt,_t)))}return(0,f.of)(new j.L)}),(0,v.s)(1));return tt.pipe((0,y.p)(_t=>_t.type!==j.o)).subscribe(_t=>{this.store.dispatch(_t)}),tt.pipe((0,O.T)(_t=>_t.type===V.t.SET))}findRouteData(...ae){const ye=ae.find(De=>(0,$.a4)(De.data)&&(0,$.a4)(De.data.dso));if((0,$.a4)(ye))return ye;{const De=ae.map(tt=>tt.children).reduce((tt,_t)=>[...tt,..._t]);return(0,$.hj)(De)?this.findRouteData(...De):void 0}}getAncestorDSOs(){return ae=>ae.pipe(function R(Ee,ue=1/0,ae){return ue=(ue||0)<1?1/0:ue,(0,I.N)((ye,De)=>(0,D.h)(ye,De,Ee,ue,void 0,!0,ae))}(ye=>{if((0,$.a4)(ye)&&"function"==typeof ye.getParentLinkKey){const De=ye.getParentLinkKey();return this.linkService.resolveLinkWithoutAttaching(ye,(0,z.s)(De)).pipe((0,U.qD)(),(0,O.T)(tt=>(0,$.a4)(tt.payload)?tt.payload:null))}return _.w}),(0,y.p)(ye=>(0,$.a4)(ye)),(0,h.$)())}getActionForMatch(ae,ye){const De=ae?.config.name??X.Q;return De!==ye?new V.K(De):new j.L}matchThemeToDSOs(ae,ye){return(0,m.H)(this.themes).pipe((0,p.H)(De=>(0,m.H)(ae).pipe((0,p.H)(tt=>De.matches(ye,tt)),(0,y.p)(tt=>!0===tt),(0,O.T)(()=>De),(0,v.s)(1))),(0,v.s)(1),(0,w.U)(void 0))}getThemeConfigFor(ae){return this.gtcf(ae)}static{this.\u0275fac=function(ye){return new(ye||Ee)(pe.KVO(l.il),pe.KVO(M._),pe.KVO(L.DSpaceObjectDataService),pe.KVO(pe.zZn),pe.KVO(G.zD),pe.KVO(t.Ix),pe.KVO(i.qQ))}}static{this.\u0275prov=pe.jDH({token:Ee,factory:Ee.\u0275fac,providedIn:"root"})}}return Ee})()},8886:(N,T,n)=>{"use strict";n.d(T,{J:()=>w});var i=n(54438),t=n(84412),l=n(84572),e=n(7673),f=n(22806),m=n(25558),p=n(88141),_=n(96354),v=n(99437),y=n(82777),C=n(10092),O=n(82522);const I=["vcr"],D=["content"],R=["*"];function h(b,P){}let w=(()=>{class b{constructor(M,L){this.cdr=M,this.themeService=L,this.compRef$=new t.t(void 0),this.inAndOutputNames=[]}ngOnChanges(M){(0,y.Tn)(this.compRef)?this.initComponentInstance(M):this.inAndOutputNames.some(L=>(0,y.a4)(M[L]))&&(this.connectInputsAndOutputs(),this.compRef?.instance&&"ngOnChanges"in this.compRef.instance&&this.compRef.instance.ngOnChanges(M))}ngAfterViewInit(){this.initComponentInstance()}ngOnDestroy(){[this.themeSub,this.lazyLoadSub].filter(M=>(0,y.a4)(M)).forEach(M=>M.unsubscribe()),this.destroyComponentInstance()}initComponentInstance(M){this.themeSub=this.themeService?.getThemeName$().subscribe(()=>{this.renderComponentInstance(M)})}renderComponentInstance(M){(0,y.a4)(this.lazyLoadSub)&&this.lazyLoadSub.unsubscribe(),(0,y.Tn)(this.lazyLoadObs)&&(this.lazyLoadObs=(0,l.z)([(0,e.of)(M),this.resolveThemedComponent(this.themeService.getThemeName()).pipe((0,m.n)(L=>(0,y.a4)(L)&&(0,y.a4)(L[this.getComponentName()])?[L[this.getComponentName()]]:(0,f.H)(this.importUnthemedComponent()).pipe((0,p.M)(()=>this.usedTheme=C.Q),(0,_.T)(B=>B[this.getComponentName()]))))])),this.lazyLoadSub=this.lazyLoadObs.subscribe(([L,B])=>{this.destroyComponentInstance(),this.compRef=this.vcr.createComponent(B,{projectableNodes:[this.themedElementContent.nativeElement.childNodes]}),(0,y.a4)(L)?this.ngOnChanges(L):this.connectInputsAndOutputs(),this.compRef$.next(this.compRef),this.cdr.markForCheck(),this.themedElementContent.nativeElement.remove()})}destroyComponentInstance(){(0,y.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=null),(0,y.a4)(this.vcr)&&this.vcr.clear()}connectInputsAndOutputs(){(0,y.hj)(this.inAndOutputNames)&&(0,y.a4)(this.compRef)&&(0,y.a4)(this.compRef.instance)&&this.inAndOutputNames.filter(M=>void 0!==this[M]).forEach(M=>{this.compRef.instance[M]=this[M]})}resolveThemedComponent(M,L=[]){return(0,y.hj)(M)?(0,f.H)(this.importThemedComponent(M)).pipe((0,p.M)(()=>this.usedTheme=M),(0,v.W)(()=>{const B=this.themeService.getThemeConfigFor(M)?.extends,U=[...L,M];if(L.includes(B))throw new Error("Theme extension cycle detected: "+[...U,B].join(" -> "));return this.resolveThemedComponent(B,U)})):(0,e.of)(null)}static{this.\u0275fac=function(L){return new(L||b)(i.rXU(i.gRc),i.rXU(O.Fs))}}static{this.\u0275cmp=i.VBU({type:b,selectors:[["ds-themed"]],viewQuery:function(L,B){if(1&L&&(i.GBs(I,5,i.c1b),i.GBs(D,5)),2&L){let U;i.mGM(U=i.lsd())&&(B.vcr=U.first),i.mGM(U=i.lsd())&&(B.themedElementContent=U.first)}},hostVars:1,hostBindings:function(L,B){2&L&&i.BMQ("data-used-theme",B.usedTheme)},features:[i.OA$],ngContentSelectors:R,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(L,B){1&L&&(i.NAR(),i.DNE(0,h,0,0,"ng-template",null,0,i.C5r),i.j41(2,"div",null,1),i.SdG(4),i.k0s())}})}}return b})()},25543:(N,T,n)=>{"use strict";n.d(T,{M:()=>i});class i{handle(l){return l.interpolateParams&&l.interpolateParams.default||l.key}}},44869:(N,T,n)=>{"use strict";n.d(T,{W:()=>_});var i=n(41780),t=n(82777),l=n(54438);let e=(()=>{class v{constructor(){this.actualClick=new l.bkB}mousedownEvent(C){this.start=new Date}mouseupEvent(C){new Date-this.start<250&&this.actualClick.emit(C)}static{this.\u0275fac=function(O){return new(O||v)}}static{this.\u0275dir=l.FsC({type:v,selectors:[["","dsDragClick",""]],hostBindings:function(O,I){1&O&&l.bIt("mousedown",function(R){return I.mousedownEvent(R)})("mouseup",function(R){return I.mouseupEvent(R)})},outputs:{actualClick:"actualClick"},standalone:!0})}}return v})();var f=n(39092);const m=["content"],p=["*"];let _=(()=>{class v{constructor(C){this.service=C,this.maxLines=-1,this.fixedHeight=!1,this.background="default",this.showToggle=!0,this.expand=!1,this.expandable=!1}ngOnInit(){this.setLines()}setLines(){this.sub=this.service.isCollapsed(this.id).subscribe(C=>{C?(this.lines=this.minLines.toString(),this.expand=!1):(this.lines=this.maxLines<0?"none":this.maxLines.toString(),this.expand=!0)})}ngAfterViewChecked(){this.truncateElement()}toggle(){this.service.toggle(this.id),this.expandable=!this.expandable}truncateElement(){if(this.showToggle){const C=this.content.nativeElement;C.scrollHeight>C.offsetHeight?C.children.length>0?C.children[C.children.length-1].offsetHeight>C.offsetHeight?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):C.innerText.length>0?(C.classList.add("truncated"),C.classList.remove("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded")):(C.classList.remove("truncated"),C.classList.add("removeFaded"))}}get isExpanded(){return this.expand&&this.expandable}ngOnDestroy(){(0,t.a4)(this.sub)&&this.sub.unsubscribe()}static{this.\u0275fac=function(O){return new(O||v)(l.rXU(f.F))}}static{this.\u0275cmp=l.VBU({type:v,selectors:[["ds-truncatable-part"]],viewQuery:function(O,I){if(1&O&&l.GBs(m,7),2&O){let D;l.mGM(D=l.lsd())&&(I.content=D.first)}},inputs:{minLines:"minLines",maxLines:"maxLines",id:"id",type:"type",fixedHeight:"fixedHeight",background:"background",showToggle:"showToggle"},standalone:!0,features:[l.aNF],ngContentSelectors:p,decls:9,vars:17,consts:[["content",""],[1,"content","dont-break-out","preserve-line-breaks"],["dsDragClick","","role","button",3,"actualClick","keyup.Enter","keyup.Space"],[1,"ml-1"]],template:function(O,I){if(1&O){const D=l.RV6();l.NAR(),l.j41(0,"div")(1,"div",1,0),l.SdG(3),l.k0s(),l.j41(4,"button",2),l.bIt("actualClick",function(){return l.eBV(D),l.Njj(I.toggle())})("keyup.Enter",function(){return l.eBV(D),l.Njj(I.toggle())})("keyup.Space",function(){return l.eBV(D),l.Njj(I.toggle())}),l.nrm(5,"i"),l.j41(6,"span",3),l.EFF(7),l.nI1(8,"translate"),l.k0s()()()}2&O&&(l.ZBM("clamp-",I.background,"-",I.lines," min-",I.minLines," ",I.type," ",I.fixedHeight?"fixedHeight":"",""),l.R7$(4),l.ZvI("btn btn-link p-0 ",I.isExpanded?"collapseButton":"expandButton",""),l.BMQ("aria-expanded",I.isExpanded),l.R7$(),l.ZvI("fas ",I.isExpanded?"fa-angle-up":"fa-angle-down",""),l.R7$(2),l.JRh(l.bMT(8,15,"item.truncatable-part.show-"+(I.isExpanded?"less":"more"))))},dependencies:[e,i.h,i.D9],styles:[".content[_ngcontent-%COMP%]:not(.truncated) ~ button.expandButton[_ngcontent-%COMP%]{display:none}.btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}.removeFaded.content[_ngcontent-%COMP%]:after{display:none}"]})}}return v})()},26500:(N,T,n)=>{"use strict";n.d(T,{GV:()=>e,Qs:()=>m,VR:()=>t,f7:()=>f});var i=n(91e3);const t={TOGGLE:(0,i.N)("dspace/truncatable/TOGGLE"),COLLAPSE:(0,i.N)("dspace/truncatable/COLLAPSE"),EXPAND:(0,i.N)("dspace/truncatable/EXPAND")};class l{constructor(_){this.id=_}}class e extends l{constructor(){super(...arguments),this.type=t.TOGGLE}}class f extends l{constructor(){super(...arguments),this.type=t.COLLAPSE}}class m extends l{constructor(){super(...arguments),this.type=t.EXPAND}}},21308:(N,T,n)=>{"use strict";n.d(T,{d:()=>e});var i=n(39092),t=n(54438);const l=["*"];let e=(()=>{class f{constructor(p,_){this.service=p,this.el=_,this.initialExpand=!1,this.onHover=!1,this.showToggle=!0}ngOnInit(){this.initialExpand?this.service.expand(this.id):this.service.collapse(this.id)}hoverCollapse(){this.onHover&&this.service.collapse(this.id)}hoverExpand(){this.onHover&&this.service.expand(this.id)}ngAfterViewChecked(){if(this.showToggle&&this.el.nativeElement.querySelectorAll(".truncated")?.length>0){const _=this.el.nativeElement.querySelectorAll(".dont-break-out");for(let v=0;v<_.length-1;v++)_[v].classList.remove("truncated"),_[v].classList.add("notruncatable");_[_.length-1].classList.add("truncated")}}static{this.\u0275fac=function(_){return new(_||f)(t.rXU(i.F),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:f,selectors:[["ds-truncatable"]],inputs:{initialExpand:"initialExpand",id:"id",onHover:"onHover",showToggle:"showToggle"},standalone:!0,features:[t.aNF],ngContentSelectors:l,decls:2,vars:0,consts:[[3,"mouseenter","mouseleave"]],template:function(_,v){1&_&&(t.NAR(),t.j41(0,"div",0),t.bIt("mouseenter",function(){return v.hoverExpand()})("mouseleave",function(){return v.hoverCollapse()}),t.SdG(1),t.k0s())}})}}return f})()},39092:(N,T,n)=>{"use strict";n.d(T,{F:()=>p});var i=n(25499),t=n(96354),l=n(82777),e=n(26500),f=n(54438);const m=y=>y.truncatable;let p=(()=>{class y{constructor(O){this.store=O}isCollapsed(O){return this.store.pipe((0,i.Lt)(function _(y){return function v(y){return(0,i.Mz)(m,C=>{if((0,l.a4)(C))return C[y]})}(y)}(O)),(0,t.T)(I=>!!I&&I.collapsed))}toggle(O){this.store.dispatch(new e.GV(O))}collapse(O){this.store.dispatch(new e.f7(O))}expand(O){this.store.dispatch(new e.Qs(O))}static{this.\u0275fac=function(I){return new(I||y)(f.KVO(i.il))}}static{this.\u0275prov=f.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},32979:(N,T,n)=>{"use strict";n.d(T,{H:()=>t});var i=n(43377);class t{constructor(){this.disableMultipart=!1,this.itemAlias=null,this.autoUpload=!0,this.method=i.D.POST}}},43095:(N,T,n)=>{"use strict";n.d(T,{y:()=>j});var i=n(60177),t=n(54438),l=n(41780),e=n(59519),f=n.n(e),m=n(27200),p=n(7673),_=n(93130),v=n(19460),y=n(60456),C=n(82777);n(32979);let I=(()=>{class G{constructor(){this._overrideDragOverPage=!1}overrideDragOverPage(){this._overrideDragOverPage=!0}allowDragOverPage(){this._overrideDragOverPage=!1}isAllowedDragOverPage(){return!this._overrideDragOverPage}static{this.\u0275fac=function(X){return new(X||G)}}static{this.\u0275prov=t.jDH({token:G,factory:G.\u0275fac,providedIn:"root"})}}return G})();var D=n(21626);const R=G=>({"ds-base-drop-zone-file-over":G}),h=G=>({width:G}),w=G=>({"progress-bar":!0,"bg-success progress-bar-striped progress-bar-animated":G});function b(G,z){if(1&G){const V=t.RV6();t.j41(0,"div",8),t.nI1(1,"async"),t.bIt("fileOver",function(J){t.eBV(V);const q=t.XpG();return t.Njj(q.fileOverDocument(J))}),t.k0s()}if(2&G){const V=t.XpG();t.AVh("ds-document-drop-zone-active",t.bMT(1,3,V.isOverDocumentDropZone)),t.Y8G("uploader",V.uploader)}}function P(G,z){if(1&G&&(t.j41(0,"div",9)(1,"div",10)(2,"p",11),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&G){const V=t.XpG();t.R7$(3),t.JRh(t.bMT(4,1,V.dropOverDocumentMsg))}}function M(G,z){if(1&G){const V=t.RV6();t.j41(0,"div",12)(1,"span",13),t.nrm(2,"i",14),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"translate"),t.j41(6,"label",15),t.bIt("keyup.enter",function(J){t.eBV(V);const q=t.sdS(12);return J.stopImmediatePropagation(),t.Njj(q.click())}),t.j41(7,"span",16),t.nI1(8,"translate"),t.EFF(9),t.nI1(10,"translate"),t.k0s()(),t.nrm(11,"input",17,0),t.k0s()()}if(2&G){const V=t.XpG();t.R7$(3),t.Lme(" ",t.bMT(4,9,V.dropMsg),"",t.bMT(5,11,"uploader.or")," "),t.R7$(3),t.Mz_("for","inputFileUploader-",V.uploaderId,""),t.R7$(),t.BMQ("aria-label",t.bMT(8,13,V.ariaLabel)),t.R7$(2),t.JRh(t.bMT(10,15,"uploader.browse")),t.R7$(2),t.Mz_("id","inputFileUploader-",V.uploaderId,""),t.Y8G("uploader",V.uploader)}}function L(G,z){if(1&G&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G){const V=t.XpG(2);t.R7$(),t.Lme("",t.bMT(2,2,"uploader.queue-length"),": ",null==V.uploader||null==V.uploader.queue?null:V.uploader.queue.length," | ")}}function B(G,z){if(1&G&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&G){const V=t.XpG(2);t.R7$(),t.SpI("",V.uploader.progress,"%")}}function U(G,z){1&G&&(t.j41(0,"span",27),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&G&&(t.R7$(),t.JRh(t.bMT(2,1,"uploader.processing")))}function $(G,z){if(1&G){const V=t.RV6();t.j41(0,"div")(1,"div",18)(2,"div",19)(3,"span",20),t.DNE(4,L,3,4,"span",7),t.EFF(5),t.k0s(),t.j41(6,"div",21)(7,"button",22),t.nI1(8,"translate"),t.bIt("click",function(){t.eBV(V);const J=t.XpG();return t.Njj(J.uploader.clearQueue())}),t.nrm(9,"i",23),t.k0s()(),t.DNE(10,B,2,1,"span",24)(11,U,3,3,"span",24),t.k0s(),t.j41(12,"div",25),t.nrm(13,"div",26),t.k0s()()()}if(2&G){const V=t.XpG();t.R7$(4),t.Y8G("ngIf",!V.uploader.options.disableMultipart),t.R7$(),t.SpI("",null==V.uploader||null==V.uploader.queue[0]?null:V.uploader.queue[0].file.name," "),t.R7$(2),t.FS9("title",t.bMT(8,8,"uploader.delete.btn-title")),t.Y8G("dsBtnDisabled",!V.uploader.queue.length),t.R7$(3),t.Y8G("ngIf",V.uploader.progress<100&&!(0===V.uploader.progress&&!V.uploader.options.autoUpload)),t.R7$(),t.Y8G("ngIf",100===V.uploader.progress),t.R7$(2),t.Y8G("ngStyle",t.eq3(10,h,V.uploader.progress+"%"))("ngClass",t.eq3(12,w,100===V.uploader.progress))}}let j=(()=>{class G{onDragOver(V){this.enableDragOverDocument&&this.dragService.isAllowedDragOverPage()&&(V.preventDefault(),"HTML"!==V.target.tagName&&(this.isOverDocumentDropZone=(0,p.of)(!0)))}constructor(V,X,J,q){this.cdr=V,this.dragService=X,this.tokenExtractor=J,this.cookieService=q,this.onCompleteItem=new t.bkB,this.onUploadError=new t.bkB,this.onFileSelected=new t.bkB,this.isOverBaseDropZone=(0,p.of)(!1),this.isOverDocumentDropZone=(0,p.of)(!1)}ngOnInit(){this.uploaderId="ds-drag-and-drop-uploader"+f()(),this.checkConfig(this.uploadFilesOptions),this.uploader=new m.l0({url:this.uploadFilesOptions.url,authToken:this.uploadFilesOptions.authToken,disableMultipart:this.uploadFilesOptions.disableMultipart,itemAlias:this.uploadFilesOptions.itemAlias,removeAfterUpload:!0,autoUpload:this.uploadFilesOptions.autoUpload,method:this.uploadFilesOptions.method,queueLimit:this.uploadFilesOptions.maxFileNumber}),(0,C.b0)(this.enableDragOverDocument)&&(this.enableDragOverDocument=!1),(0,C.b0)(this.dropMsg)&&(this.dropMsg="uploader.drag-message"),(0,C.b0)(this.dropOverDocumentMsg)&&(this.dropOverDocumentMsg="uploader.drag-message")}ngAfterViewInit(){this.uploader.onAfterAddingAll=V=>{this.onFileSelected.emit(V)},(0,C.b0)(this.onBeforeUpload)&&(this.onBeforeUpload=()=>{}),this.uploader.onBeforeUploadItem=V=>{V.url!==this.uploader.options.url&&(V.url=this.uploader.options.url),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}],this.onBeforeUpload(),this.isOverDocumentDropZone=(0,p.of)(!1)},(0,C.a4)(this.uploadProperties)&&(this.uploader.onBuildItemForm=(V,X)=>{X.append("properties",JSON.stringify(this.uploadProperties))}),this.uploader.onCompleteItem=(V,X,J,q)=>{const Z=q[v.oo.toLowerCase()];if((0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}]),(0,C.hj)(X)){const H=JSON.parse(X);this.onCompleteItem.emit(H)}},this.uploader.onErrorItem=(V,X,J,q)=>{const Z=q[v.oo.toLowerCase()];(0,C.hj)(Z)&&(this.saveXsrfToken(Z),this.uploader.options.headers=[{name:v.sA,value:this.tokenExtractor.getToken()}]),this.onUploadError.emit({item:V,response:X,status:J,headers:q}),this.uploader.cancelAll()},this.uploader.onProgressAll=()=>this.onProgress(),this.uploader.onProgressItem=()=>this.onProgress()}fileOverBase(V){this.isOverBaseDropZone=(0,p.of)(V)}fileOverDocument(V){V||(this.isOverDocumentDropZone=(0,p.of)(V))}onProgress(){this.cdr.detectChanges()}checkConfig(V){const J=["url","authToken","disableMultipart","itemAlias"].filter(q=>!(q in V&&""!==V[q]));if(0<J.length)throw new Error("UploadFiles: Argument is missing the following required properties: "+J.join(", "))}saveXsrfToken(V){this.cookieService.remove(v.dX),this.cookieService.set(v.dX,V)}static{this.\u0275fac=function(X){return new(X||G)(t.rXU(t.gRc),t.rXU(I),t.rXU(D.B3),t.rXU(_.O))}}static{this.\u0275cmp=t.VBU({type:G,selectors:[["ds-uploader"]],hostBindings:function(X,J){1&X&&t.bIt("dragover",function(Z){return J.onDragOver(Z)},!1,t.tSv)},inputs:{dropMsg:"dropMsg",dropOverDocumentMsg:"dropOverDocumentMsg",enableDragOverDocument:"enableDragOverDocument",onBeforeUpload:"onBeforeUpload",uploadFilesOptions:"uploadFilesOptions",uploadProperties:"uploadProperties",ariaLabel:"ariaLabel"},outputs:{onCompleteItem:"onCompleteItem",onUploadError:"onUploadError",onFileSelected:"onFileSelected"},standalone:!0,features:[t.aNF],decls:11,vars:17,consts:[["fileInput",""],["ng2FileDrop","","class","ds-document-drop-zone position-fixed h-100 w-100",3,"ds-document-drop-zone-active","uploader","fileOver",4,"ngIf"],["class","ds-document-drop-zone-inner position-fixed h-100 w-100 p-2",4,"ngIf"],[1,"row"],[1,"col-md-12"],["ng2FileDrop","",1,"well","ds-base-drop-zone","mt-1","mb-3","text-muted",3,"fileOver","ngClass","uploader"],["class","text-center m-0 p-2 d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],["ng2FileDrop","",1,"ds-document-drop-zone","position-fixed","h-100","w-100",3,"fileOver","uploader"],[1,"ds-document-drop-zone-inner","position-fixed","h-100","w-100","p-2"],[1,"ds-document-drop-zone-inner-content","position-relative","d-flex","flex-column","justify-content-center","text-center","h-100","w-100"],[1,"text-primary"],[1,"text-center","m-0","p-2","d-flex","justify-content-center","align-items-center"],[1,"d-flex","align-items-center"],["aria-hidden","true",1,"fas","fa-upload","pr-1"],["tabindex","0",1,"btn","btn-link","m-0","p-0","ml-1",3,"keyup.enter","for"],["role","button"],["type","file","ng2FileSelect","","multiple","","tabindex","0",1,"d-none",3,"id","uploader"],[1,"m-1"],[1,"upload-item-top"],[1,"filename"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button",1,"btn","btn-danger",3,"click","title","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-trash"],["class","float-right mr-3",4,"ngIf"],[1,"ds-base-drop-zone-progress","clearfix","mt-2"],["role","progressbar",2,"height","5px","width","0",3,"ngStyle","ngClass"],[1,"float-right","mr-3"]],template:function(X,J){1&X&&(t.DNE(0,b,2,5,"div",1),t.nI1(1,"async"),t.DNE(2,P,5,3,"div",2),t.nI1(3,"async"),t.j41(4,"div",3)(5,"div",4)(6,"div",5),t.nI1(7,"async"),t.bIt("fileOver",function(Z){return J.fileOverBase(Z)}),t.DNE(8,M,13,17,"div",6)(9,$,14,14,"div",7),t.nI1(10,"async"),t.k0s()()()),2&X&&(t.Y8G("ngIf",t.bMT(1,7,J.isOverDocumentDropZone)),t.R7$(2),t.Y8G("ngIf",t.bMT(3,9,J.isOverDocumentDropZone)),t.R7$(2),t.BMQ("id",J.uploaderId),t.R7$(2),t.Y8G("ngClass",t.eq3(15,R,t.bMT(7,11,J.isOverBaseDropZone)))("uploader",J.uploader),t.R7$(2),t.Y8G("ngIf",0===(null==J.uploader||null==J.uploader.queue?null:J.uploader.queue.length)),t.R7$(),t.Y8G("ngIf",t.bMT(10,13,J.isOverBaseDropZone)||0!==(null==J.uploader||null==J.uploader.queue?null:J.uploader.queue.length)))},dependencies:[l.h,l.D9,m.eB,m.Ff,m.UJ,i.MD,i.YU,i.bT,i.B3,i.Jj,y.A],styles:[".ds-base-drop-zone[_ngcontent-%COMP%]{border:2px dashed var(--bs-gray-600)}.ds-base-drop-zone-file-over[_ngcontent-%COMP%]{border:2px dashed var(--bs-primary)}.ds-base-drop-zone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{min-height:var(--ds-drop-zone-area-height)}.ds-document-drop-zone[_ngcontent-%COMP%]{top:0;left:0;z-index:-1}.ds-document-drop-zone-active[_ngcontent-%COMP%]{z-index:var(--ds-drop-zone-area-z-index)!important}.ds-document-drop-zone-inner[_ngcontent-%COMP%]{background-color:#ffffffb3;z-index:var(--ds-drop-zone-area-inner-z-index);top:0;left:0}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]{border:4px dashed var(--bs-primary);z-index:var(--ds-drop-zone-area-inner-z-index)}.ds-document-drop-zone-inner-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:calc(var(--bs-font-size-lg) * 2.5)}"]})}}return G})()},75465:(N,T,n)=>{"use strict";n.d(T,{L:()=>l});var i=n(60177),t=n(54438);let l=(()=>{class e{constructor(m){this.platformID=m}transform(m){if((0,i.UE)(this.platformID))return m}static{this.\u0275fac=function(p){return new(p||e)(t.rXU(t.Agw,16))}}static{this.\u0275pipe=t.EJ8({name:"dsBrowserOnly",type:e,pure:!0,standalone:!0})}}return e})()},46301:(N,T,n)=>{"use strict";n.d(T,{z:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this._elementRef=f,this.dsClickOutside=new i.bkB}onClick(){const f=this._elementRef.nativeElement;f.contains(f.ownerDocument.activeElement)||this.dsClickOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsClickOutside",""]],hostBindings:function(m,p){1&m&&i.bIt("click",function(){return p.onClick()},!1,i.EBC)},outputs:{dsClickOutside:"dsClickOutside"},standalone:!0})}}return l})()},56386:(N,T,n)=>{"use strict";n.d(T,{R:()=>p});var i=n(54438),t=n(21413),l=n(70152),e=n(23294),f=n(56977),m=n(89417);let p=(()=>{class _{constructor(y){this.model=y,this.onDebounce=new i.bkB,this.dsDebounce=500,this.subject=new t.B}ngOnInit(){this.model.valueChanges.pipe((0,l.B)(this.dsDebounce),(0,e.F)(),(0,f.Q)(this.subject)).subscribe(y=>{this.model.dirty&&this.onDebounce.emit(y)})}ngOnDestroy(){this.subject.next(),this.subject.complete()}static{this.\u0275fac=function(C){return new(C||_)(i.rXU(m.vO))}}static{this.\u0275dir=i.FsC({type:_,selectors:[["","ngModel","","dsDebounce",""]],inputs:{dsDebounce:"dsDebounce"},outputs:{onDebounce:"onDebounce"},standalone:!0})}}return _})()},43525:(N,T,n)=>{"use strict";n.d(T,{s:()=>e});var i=n(806),l=n(54438);let e=(()=>{class f{transform(p=0,_=2){return i(p,{standard:"jedec",round:_})}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275pipe=l.EJ8({name:"dsFileSize",type:f,pure:!0,standalone:!0})}}return f})()},67600:(N,T,n)=>{"use strict";n.d(T,{s:()=>e});var i=n(41023),t=n(82777);const e=(f,{findListOptions:m,shouldEmbed:p,useCachedVersionIfAvailable:_,reRequestOnStale:v,isOptional:y}={},...C)=>({name:f,findListOptions:(0,t.a4)(m)?m:new i._,shouldEmbed:!(0,t.a4)(p)||p,useCachedVersionIfAvailable:!(0,t.a4)(_)||_,reRequestOnStale:!(0,t.a4)(v)||v,isOptional:!!(0,t.a4)(y)&&y,linksToFollow:C})},79803:(N,T,n)=>{"use strict";n.d(T,{l:()=>t});var i=n(54438);let t=(()=>{class l{constructor(f){this.elementRef=f,this.dsHoverOutside=new i.bkB}onMouseOver(f){const m=f.target,p=document.querySelector(this.dsHoverOutsideOfParentSelector);(p?new i.aKT(p):this.elementRef).nativeElement.contains(m)||this.dsHoverOutside.emit(null)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","dsHoverOutside",""]],hostBindings:function(m,p){1&m&&i.bIt("mouseover",function(v){return p.onMouseOver(v)},!1,i.EBC)},inputs:{dsHoverOutsideOfParentSelector:"dsHoverOutsideOfParentSelector"},outputs:{dsHoverOutside:"dsHoverOutside"},standalone:!0})}}return l})()},74430:(N,T,n)=>{"use strict";function i(t){return t<400?"thumb-font-0":t<750?"thumb-font-1":t<1e3?"thumb-font-2":"thumb-font-3"}n.d(T,{F:()=>i})},99390:(N,T,n)=>{"use strict";n.d(T,{U:()=>t});var i=n(54438);let t=(()=>{class l{transform(f,m=null){return Object.keys(f).map(p=>Object.assign({key:p},{value:f[p]}))}static{this.\u0275fac=function(m){return new(m||l)}}static{this.\u0275pipe=i.EJ8({name:"dsObjNgFor",type:l,pure:!0,standalone:!0})}}return l})()},49656:(N,T,n)=>{"use strict";n.d(T,{as:()=>l,nW:()=>e});var i=n(67600);function l(f,m){return`f.${f}=${m},equals`}function e(f,m){const p=[];return f&&p.push((0,i.s)("thumbnail")),m&&p.push((0,i.s)("accessStatus")),[(0,i.s)("leftItem",void 0,...p),(0,i.s)("rightItem",void 0,...p)]}},30506:(N,T,n)=>{"use strict";n.d(T,{F:()=>e,N:()=>l});var i=n(45663),t=n(82777);function l(f){return"/"+f.parseUrl(f.url).root.children.primary.segments.map(p=>p.path).join("/")}function e(f){if((0,t.a4)(f.parent)){const m=e(f.parent);return new i.t(m,f.routeConfig.path).toString()}return f.routeConfig?f.routeConfig.path:""}},43764:(N,T,n)=>{"use strict";n.d(T,{d:()=>l});var i=n(54438),t=n(345);let l=(()=>{class e{constructor(m){this.domSanitizer=m}transform(m){return null==m?null:this.domSanitizer.bypassSecurityTrustResourceUrl(m)}static{this.\u0275fac=function(p){return new(p||e)(i.rXU(t.up,16))}}static{this.\u0275pipe=i.EJ8({name:"dsSafeUrl",type:e,pure:!0,standalone:!0})}}return e})()},18226:(N,T,n)=>{"use strict";n.d(T,{r:()=>t});var i=n(54438);let t=(()=>{class l{set ngVar(f){this.context.$implicit=this.context.ngVar=f,this.updateView()}constructor(f,m){this.vcRef=f,this.templateRef=m,this.context={}}updateView(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}static{this.\u0275fac=function(m){return new(m||l)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:l,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"},standalone:!0})}}return l})()},35538:(N,T,n)=>{"use strict";n.d(T,{g:()=>w});var i=n(60177),t=n(54438),l=n(7901),e=n(41780),f=n(5964),m=n(78655),p=n(78448),_=n(82777),v=n(75465),y=n(30506);const C=()=>({view:"list"}),O=()=>({view:"grid"}),I=()=>({view:"detailed"});function D(b,P){if(1&b){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.ListElement))}),t.nrm(3,"i",3),t.k0s()}if(2&b){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.ListElement),t.Y8G("queryParams",t.lJ4(10,C)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.ListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-list"))("data-test",t.bMT(2,8,"list-view"))}}function R(b,P){if(1&b){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.GridElement))}),t.nrm(3,"i",4),t.k0s()}if(2&b){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.GridElement),t.Y8G("queryParams",t.lJ4(10,O)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.GridElement)("aria-label",t.bMT(1,6,"search.view-switch.show-grid"))("data-test",t.bMT(2,8,"grid-view"))}}function h(b,P){if(1&b){const M=t.RV6();t.j41(0,"button",2),t.nI1(1,"translate"),t.nI1(2,"dsBrowserOnly"),t.bIt("click",function(){t.eBV(M);const B=t.XpG();return t.Njj(B.switchViewTo(B.viewModeEnum.DetailedListElement))}),t.nrm(3,"i",5),t.k0s()}if(2&b){const M=t.XpG();t.AVh("active",M.currentMode===M.viewModeEnum.DetailedListElement),t.Y8G("queryParams",t.lJ4(10,I)),t.BMQ("aria-current",M.currentMode===M.viewModeEnum.DetailedListElement)("aria-label",t.bMT(1,6,"search.view-switch.show-detail"))("data-test",t.bMT(2,8,"detail-view"))}}let w=(()=>{class b{constructor(M,L){this.searchService=M,this.router=L,this.currentMode=p.n.ListElement,this.viewModeEnum=p.n,this.changeViewMode=new t.bkB}ngOnInit(){(0,_.Im)(this.viewModeList)&&(this.viewModeList=[p.n.ListElement,p.n.GridElement]),this.sub=this.searchService.getViewMode().pipe((0,f.p)(M=>(0,_.hj)(M))).subscribe(M=>{this.currentMode=M})}switchViewTo(M){M!==this.currentMode&&this.changeViewMode.emit(M),this.searchService.setViewMode(M,this.getSearchLinkParts())}ngOnDestroy(){void 0!==this.sub&&this.sub.unsubscribe()}isToShow(M){return this.viewModeList&&this.viewModeList.includes(M)}getSearchLink(){return this.inPlaceSearch?(0,y.N)(this.router):this.searchService.getSearchLink()}getSearchLinkParts(){return this.searchService?[]:this.getSearchLink().split("/")}static{this.\u0275fac=function(L){return new(L||b)(t.rXU(m.S),t.rXU(l.Ix))}}static{this.\u0275cmp=t.VBU({type:b,selectors:[["ds-view-mode-switch"]],inputs:{inPlaceSearch:"inPlaceSearch",viewModeList:"viewModeList"},outputs:{changeViewMode:"changeViewMode"},standalone:!0,features:[t.aNF],decls:4,vars:3,consts:[["data-toggle","buttons",1,"btn-group"],["routerLink",".","queryParamsHandling","merge","class","btn btn-secondary",3,"queryParams","active","click",4,"ngIf"],["routerLink",".","queryParamsHandling","merge",1,"btn","btn-secondary",3,"click","queryParams"],[1,"fas","fa-list"],[1,"fas","fa-th-large"],[1,"far","fa-square"]],template:function(L,B){1&L&&(t.j41(0,"div",0),t.DNE(1,D,4,11,"button",1)(2,R,4,11,"button",1)(3,h,4,11,"button",1),t.k0s()),2&L&&(t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.ListElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.GridElement)),t.R7$(),t.Y8G("ngIf",B.isToShow(B.viewModeEnum.DetailedListElement)))},dependencies:[i.bT,l.Wk,e.h,e.D9,v.L]})}}return b})()},98794:(N,T,n)=>{"use strict";n.d(T,{m:()=>v});var i=n(60177),t=n(54438),l=n(41780),e=n(90934),f=n(82394),m=n(52149);const p=y=>({"d-none":y});function _(y,C){1&y&&t.nrm(0,"ds-loading")}let v=(()=>{class y{constructor(O){this.activeModal=O,this.selectedEvent=new t.bkB,this.loading=!0}selectObject(O){this.loading=!0,this.selectedEvent.emit(O)}closeCollectionModal(){this.activeModal.dismiss(!1)}theOnlySelectable(O){this.selectedEvent.emit(O)}searchComplete(){this.loading=!1}isLoading(){return!!this.loading}static{this.\u0275fac=function(I){return new(I||y)(t.rXU(m.Lw))}}static{this.\u0275cmp=t.VBU({type:y,selectors:[["ds-submission-import-external-collection"]],outputs:{selectedEvent:"selectedEvent"},standalone:!0,features:[t.aNF],decls:10,vars:8,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[4,"ngIf"],[3,"selectionChange","searchComplete","ngClass","entityType"]],template:function(I,D){1&I&&(t.j41(0,"div")(1,"div",0),t.EFF(2),t.nI1(3,"translate"),t.j41(4,"button",1),t.bIt("click",function(){return D.closeCollectionModal()}),t.j41(5,"span",2),t.EFF(6,"\xd7"),t.k0s()()(),t.j41(7,"div",3),t.DNE(8,_,1,0,"ds-loading",4),t.j41(9,"ds-collection-dropdown",5),t.bIt("selectionChange",function(h){return D.selectObject(h)})("searchComplete",function(){return D.searchComplete()}),t.k0s()()()),2&I&&(t.R7$(2),t.SpI("",t.bMT(3,4,"dso-selector.select.collection.head")," "),t.R7$(6),t.Y8G("ngIf",D.isLoading()),t.R7$(),t.Y8G("ngClass",t.eq3(6,p,D.isLoading()))("entityType",D.entityType))},dependencies:[f.v,e.m,l.h,l.D9,i.YU,i.bT],styles:[".close[_ngcontent-%COMP%]:focus{outline:none!important}"]})}}return y})()},66731:(N,T,n)=>{"use strict";n.d(T,{S:()=>i});var i=function(t){return t.Submission="SUBMISSION",t.Workflow="WORKFLOW",t}(i||{})},93158:(N,T,n)=>{"use strict";n.d(T,{Bo:()=>ie,CG:()=>v,Dy:()=>j,IE:()=>ne,Ob:()=>Z,SE:()=>Y,Sm:()=>y,Vn:()=>l,Z5:()=>H,Zi:()=>C,Zl:()=>U,_D:()=>Q,dm:()=>_,f0:()=>R,h3:()=>L,hJ:()=>m,i6:()=>p,jc:()=>D,kq:()=>X,ky:()=>B,l5:()=>V,lE:()=>t,nt:()=>pe,nu:()=>z,oW:()=>h,pL:()=>G,sf:()=>$,sj:()=>b,t2:()=>O,tR:()=>P,ug:()=>I,v0:()=>q,w7:()=>oe,wM:()=>M,wT:()=>f,x9:()=>J});var i=n(91e3);const t={INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/INIT_SUBMISSION_FORM"),RESET_SUBMISSION_FORM:(0,i.N)("dspace/submission/RESET_SUBMISSION_FORM"),CANCEL_SUBMISSION_FORM:(0,i.N)("dspace/submission/CANCEL_SUBMISSION_FORM"),COMPLETE_INIT_SUBMISSION_FORM:(0,i.N)("dspace/submission/COMPLETE_INIT_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM"),SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS"),SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_FOR_LATER_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM"),SAVE_SUBMISSION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_SUCCESS"),SAVE_SUBMISSION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_FORM_ERROR"),SAVE_SUBMISSION_SECTION_FORM:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM"),SAVE_SUBMISSION_SECTION_FORM_SUCCESS:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_SUCCESS"),SAVE_SUBMISSION_SECTION_FORM_ERROR:(0,i.N)("dspace/submission/SAVE_SUBMISSION_SECTION_FORM_ERROR"),CHANGE_SUBMISSION_COLLECTION:(0,i.N)("dspace/submission/CHANGE_SUBMISSION_COLLECTION"),SET_ACTIVE_SECTION:(0,i.N)("dspace/submission/SET_ACTIVE_SECTION"),INIT_SECTION:(0,i.N)("dspace/submission/INIT_SECTION"),ENABLE_SECTION:(0,i.N)("dspace/submission/ENABLE_SECTION"),DISABLE_SECTION:(0,i.N)("dspace/submission/DISABLE_SECTION"),SET_SECTION_FORM_ID:(0,i.N)("dspace/submission/SET_SECTION_FORM_ID"),SECTION_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_STATUS_CHANGE"),SECTION_LOADING_STATUS_CHANGE:(0,i.N)("dspace/submission/SECTION_LOADING_STATUS_CHANGE"),UPDATE_SECTION_DATA:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA"),UPDATE_SECTION_DATA_SUCCESS:(0,i.N)("dspace/submission/UPDATE_SECTION_DATA_SUCCESS"),SAVE_AND_DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/SAVE_AND_DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION"),DEPOSIT_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_SUCCESS"),DEPOSIT_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DEPOSIT_SUBMISSION_ERROR"),DISCARD_SUBMISSION:(0,i.N)("dspace/submission/DISCARD_SUBMISSION"),DISCARD_SUBMISSION_SUCCESS:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_SUCCESS"),DISCARD_SUBMISSION_ERROR:(0,i.N)("dspace/submission/DISCARD_SUBMISSION_ERROR"),CLEAN_DUPLICATE_DETECTION:(0,i.N)("dspace/submission/CLEAN_DUPLICATE_DETECTION"),NEW_FILE:(0,i.N)("dspace/submission/NEW_FILE"),EDIT_FILE_DATA:(0,i.N)("dspace/submission/EDIT_FILE_DATA"),EDIT_FILE_PRIMARY_BITSTREAM_DATA:(0,i.N)("dspace/submission/EDIT_FILE_PRIMARY_BITSTREAM_DATA"),DELETE_FILE:(0,i.N)("dspace/submission/DELETE_FILE"),ADD_SECTION_ERROR:(0,i.N)("dspace/submission/ADD_SECTION_ERROR"),DELETE_SECTION_ERROR:(0,i.N)("dspace/submission/DELETE_SECTION_ERROR"),REMOVE_SECTION_ERRORS:(0,i.N)("dspace/submission/REMOVE_SECTION_ERRORS")};class l{constructor(Ce,Ee,ue){this.type=t.ADD_SECTION_ERROR,this.payload={submissionId:Ce,sectionId:Ee,error:ue}}}class f{constructor(Ce,Ee,ue,ae,ye,De,tt,_t,We,dt,it){this.type=t.INIT_SECTION,this.payload={submissionId:Ce,sectionId:Ee,header:ue,config:ae,mandatory:ye,scope:De,sectionType:tt,visibility:_t,enabled:We,data:dt,errors:it}}}class m{constructor(Ce,Ee){this.type=t.ENABLE_SECTION,this.payload={submissionId:Ce,sectionId:Ee}}}class p{constructor(Ce,Ee){this.type=t.DISABLE_SECTION,this.payload={submissionId:Ce,sectionId:Ee}}}class _{constructor(Ce,Ee,ue,ae,ye,De){this.type=t.UPDATE_SECTION_DATA,this.payload={submissionId:Ce,sectionId:Ee,data:ue,errorsToShow:ae,serverValidationErrors:ye,metadata:De}}}class v{constructor(Ce){this.type=t.CLEAN_DUPLICATE_DETECTION,this.payload={submissionId:Ce}}}class y{constructor(){this.type=t.UPDATE_SECTION_DATA_SUCCESS}}class C{constructor(Ce,Ee){this.type=t.REMOVE_SECTION_ERRORS,this.payload={submissionId:Ce,sectionId:Ee}}}class O{constructor(Ce,Ee,ue){this.type=t.SET_SECTION_FORM_ID,this.payload={submissionId:Ce,sectionId:Ee,formId:ue}}}class I{constructor(Ce){this.type=t.COMPLETE_INIT_SUBMISSION_FORM,this.payload={submissionId:Ce}}}class D{constructor(Ce,Ee,ue,ae,ye,De,tt){this.type=t.INIT_SUBMISSION_FORM,this.payload={collectionId:Ce,submissionId:Ee,selfUrl:ue,submissionDefinition:ae,sections:ye,item:De,errors:tt}}}class R{constructor(Ce){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM,this.payload={submissionId:Ce}}}class h{constructor(Ce,Ee){this.type=t.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Ce,submissionObject:Ee}}}class b{constructor(Ce,Ee=!1){this.type=t.SAVE_SUBMISSION_FORM,this.payload={submissionId:Ce,isManual:Ee}}}class P{constructor(Ce,Ee,ue,ae){this.type=t.SAVE_SUBMISSION_FORM_SUCCESS,this.payload={submissionId:Ce,submissionObject:Ee,showNotifications:ue,showErrors:ae}}}class M{constructor(Ce){this.type=t.SAVE_SUBMISSION_FORM_ERROR,this.payload={submissionId:Ce}}}class L{constructor(Ce,Ee){this.type=t.SAVE_SUBMISSION_SECTION_FORM,this.payload={submissionId:Ce,sectionId:Ee}}}class B{constructor(Ce,Ee,ue){this.type=t.SAVE_SUBMISSION_SECTION_FORM_SUCCESS,this.payload={submissionId:Ce,submissionObject:Ee,notify:ue}}}class U{constructor(Ce){this.type=t.SAVE_SUBMISSION_SECTION_FORM_ERROR,this.payload={submissionId:Ce}}}class ${constructor(Ce,Ee,ue,ae,ye,De){this.type=t.RESET_SUBMISSION_FORM,this.payload={collectionId:Ce,submissionId:Ee,selfUrl:ue,sections:ae,submissionDefinition:ye,item:De}}}class j{constructor(){this.type=t.CANCEL_SUBMISSION_FORM}}class G{constructor(Ce,Ee){this.type=t.CHANGE_SUBMISSION_COLLECTION,this.payload={submissionId:Ce,collectionId:Ee}}}class z{constructor(Ce){this.type=t.SAVE_AND_DEPOSIT_SUBMISSION,this.payload={submissionId:Ce}}}class V{constructor(Ce){this.type=t.DEPOSIT_SUBMISSION,this.payload={submissionId:Ce}}}class X{constructor(Ce){this.type=t.DEPOSIT_SUBMISSION_SUCCESS,this.payload={submissionId:Ce}}}class J{constructor(Ce){this.type=t.DEPOSIT_SUBMISSION_ERROR,this.payload={submissionId:Ce}}}class q{constructor(Ce){this.type=t.DISCARD_SUBMISSION,this.payload={submissionId:Ce}}}class Z{constructor(Ce){this.type=t.DISCARD_SUBMISSION_SUCCESS,this.payload={submissionId:Ce}}}class H{constructor(Ce){this.type=t.DISCARD_SUBMISSION_ERROR,this.payload={submissionId:Ce}}}class Y{constructor(Ce,Ee,ue){this.type=t.SECTION_STATUS_CHANGE,this.payload={submissionId:Ce,sectionId:Ee,status:ue}}}class Q{constructor(Ce,Ee){this.type=t.SET_ACTIVE_SECTION,this.payload={submissionId:Ce,sectionId:Ee}}}class ie{constructor(Ce,Ee,ue,ae){this.type=t.NEW_FILE,this.payload={submissionId:Ce,sectionId:Ee,fileId:ue,data:ae}}}class oe{constructor(Ce,Ee,ue){this.type=t.EDIT_FILE_PRIMARY_BITSTREAM_DATA,this.payload={submissionId:Ce,sectionId:Ee,fileId:ue}}}class pe{constructor(Ce,Ee,ue,ae){this.type=t.EDIT_FILE_DATA,this.payload={submissionId:Ce,sectionId:Ee,fileId:ue,data:ae}}}class ne{constructor(Ce,Ee,ue){this.type=t.DELETE_FILE,this.payload={submissionId:Ce,sectionId:Ee,fileId:ue}}}},88643:(N,T,n)=>{"use strict";n.d(T,{l:()=>i});var i=function(t){return t.Relationships="relationships",t.SubmissionForm="submission-form",t.Upload="upload",t.License="license",t.CcLicense="cclicense",t.AccessesCondition="accessCondition",t.SherpaPolicies="sherpaPolicy",t.Identifiers="identifiers",t.Collection="collection",t.CoarNotify="coarnotify",t.Duplicates="duplicates",t}(i||{})},72147:(N,T,n)=>{"use strict";n.d(T,{c:()=>q});var i=n(1473),t=n(48376),l=n.n(t),e=n(5771),f=n.n(e),m=n(48125),p=n.n(m),_=n(84572),v=n(96354),y=n(23294),C=n(73028),O=n(5964),I=n(96697),D=n(92409),R=n(68552),h=n(83085),w=n(82777),b=n(32710),P=n(54002),M=n(39806),L=n(66731),B=n(93158),U=n(645),$=n(61010),j=n(90049),G=n(88643),z=n(54438),V=n(53588),X=n(25499),J=n(41780);let q=(()=>{class Z{constructor(Y,Q,ie,oe,pe,ne){this.formService=Y,this.notificationsService=Q,this.scrollToService=ie,this.submissionService=oe,this.store=pe,this.translate=ne}checkSectionErrors(Y,Q,ie,oe,pe=[]){if((0,w.Im)(oe))this.store.dispatch(new B.Zi(Y,Q)),this.store.dispatch(new b.Dp(ie));else if(!p()(oe,pe)){const ne=[];oe.forEach(re=>{(0,j.A)(re.path).forEach(Ee=>{Ee.fieldId&&(this.formService.addError(ie,Ee.fieldId,Ee.fieldIndex,re.message),ne.push(Ee.fieldId))})}),pe.forEach(re=>{(0,j.A)(re.path).forEach(Ee=>{Ee.fieldId&&(ne.includes(Ee.fieldId)||this.formService.removeError(ie,Ee.fieldId,Ee.fieldIndex))})})}}dispatchRemoveSectionErrors(Y,Q){this.store.dispatch(new B.Zi(Y,Q))}dispatchSetSectionFormId(Y,Q,ie){this.store.dispatch(new B.t2(Y,Q,ie))}getSectionData(Y,Q,ie){return this.store.select((0,U.on)(Y,Q)).pipe((0,v.T)(oe=>ie===G.l.SubmissionForm?(0,R.Z5)(oe):oe),(0,y.F)())}getShownSectionErrors(Y,Q,ie){let oe;return oe=ie!==G.l.SubmissionForm?this.getSectionErrors(Y,Q):this.getSectionState(Y,Q,ie).pipe((0,C.Z)(pe=>this.formService.getFormErrors(pe.formId).pipe((0,v.T)(ne=>{const re=new D.S("sections",Q),Ce=ne.map(Ee=>({path:re.getPath(Ee.fieldId.replace(/\_/g,".")).path,message:Ee.message})).filter(Ee=>-1===l()(pe.errorsToShow,{path:Ee.path}));return[...pe.errorsToShow,...Ce]})))),oe}getSectionErrors(Y,Q){return this.store.select((0,U.D6)(Y,Q)).pipe((0,y.F)())}getSectionServerErrors(Y,Q){return this.store.select((0,U.aU)(Y,Q)).pipe((0,y.F)())}getSectionState(Y,Q,ie){return this.store.select((0,U.sR)(Y,Q)).pipe((0,O.p)(oe=>(0,w.a4)(oe)),(0,v.T)(oe=>oe),(0,v.T)(oe=>(0,w.a4)(oe.data)&&ie===G.l.SubmissionForm?Object.assign({},oe,{data:(0,R.Z5)(oe.data)}):oe),(0,y.F)())}isSectionValid(Y,Q){return this.store.select((0,U.sR)(Y,Q)).pipe((0,O.p)(ie=>(0,w.a4)(ie)),(0,v.T)(ie=>ie.isValid),(0,y.F)())}isSectionActive(Y,Q){return this.submissionService.getActiveSectionId(Y).pipe((0,v.T)(ie=>Q===ie),(0,y.F)())}isSectionEnabled(Y,Q){return this.store.select((0,U.sR)(Y,Q)).pipe((0,O.p)(ie=>(0,w.a4)(ie)),(0,v.T)(ie=>ie.enabled),(0,y.F)())}isSectionReadOnly(Y,Q,ie){return this.store.select((0,U.sR)(Y,Q)).pipe((0,O.p)(oe=>(0,w.a4)(oe)),(0,v.T)(oe=>!((0,w.Im)(ie)||(0,w.Im)(oe.visibility)||(0,w.Im)(oe.scope))&&"READONLY"===((ie.valueOf()===h.L.WorkspaceItem.valueOf()?L.S.Submission:L.S.Workflow).valueOf()===oe.scope.valueOf()?oe.visibility.main:oe.visibility.other)),(0,y.F)())}isSectionAvailable(Y,Q){return this.store.select((0,U.sO)(Y)).pipe((0,O.p)(ie=>(0,w.EA)(ie)),(0,v.T)(ie=>(0,w.EA)(ie.sections)&&(0,w.EA)(ie.sections[Q])),(0,y.F)())}isSectionTypeAvailable(Y,Q){return this.store.select((0,U.sO)(Y)).pipe((0,O.p)(ie=>(0,w.EA)(ie)),(0,v.T)(ie=>(0,w.EA)(ie.sections)&&(0,w.EA)(f()(ie.sections,{sectionType:Q}))),(0,y.F)())}isSectionType(Y,Q,ie){return this.store.select((0,U.sO)(Y)).pipe((0,O.p)(oe=>(0,w.EA)(oe)),(0,v.T)(oe=>(0,w.EA)(oe.sections)&&(0,w.EA)(oe.sections[Q])&&oe.sections[Q].sectionType===ie),(0,y.F)())}addSection(Y,Q){this.store.dispatch(new B.hJ(Y,Q)),this.scrollToService.scrollTo({target:Q,offset:-70})}removeSection(Y,Q){this.store.dispatch(new B.i6(Y,Q))}updateSectionData(Y,Q,ie,oe=[],pe=[],ne){if((0,w.hj)(ie)){const re=this.isSectionAvailable(Y,Q),Ce=this.isSectionEnabled(Y,Q);(0,_.z)(re,Ce).pipe((0,I.s)(1),(0,O.p)(([Ee,ue])=>Ee)).subscribe(([Ee,ue])=>{this.store.dispatch(new B.dm(Y,Q,ie,oe,pe,ne))})}}setSectionError(Y,Q,ie){this.store.dispatch(new B.Vn(Y,Q,ie))}setSectionStatus(Y,Q,ie){this.store.dispatch(new B.SE(Y,Q,ie))}computeSectionConfiguredMetadata(Y){const Q=[],ie="string"==typeof Y?JSON.parse(Y,i.zno):Y;return ie.rows&&!(0,w.Im)(ie.rows)&&ie.rows.forEach(oe=>{oe.fields&&!(0,w.Im)(oe.fields)&&oe.fields.forEach(pe=>{pe.selectableMetadata&&!(0,w.Im)(pe.selectableMetadata)&&pe.selectableMetadata.forEach(ne=>{Q.includes(ne.metadata)||Q.push(ne.metadata)})})}),Q}getIsInformational(Y){return Y===G.l.SherpaPolicies}static{this.\u0275fac=function(Q){return new(Q||Z)(z.KVO(P.u),z.KVO(M.I),z.KVO(V.WY),z.KVO($.E),z.KVO(X.il),z.KVO(J.c$))}}static{this.\u0275prov=z.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}return Z})()},14723:(N,T,n)=>{"use strict";n.d(T,{x:()=>i});var i=function(t){return t.HIDDEN="HIDDEN",t.READONLY="READONLY",t}(i||{})},645:(N,T,n)=>{"use strict";n.d(T,{D6:()=>O,Uh:()=>_,aU:()=>I,hZ:()=>f,hi:()=>v,on:()=>C,pc:()=>e,sO:()=>m,sR:()=>y});var i=n(25499),t=n(82777),l=n(83678);function e(D,R,h){return(0,i.Mz)(D,w=>{if((0,t.a4)(w)&&(0,t.a4)(w[R]))return w[R][h]})}function f(D,R){return(0,i.Mz)(D,h=>{if((0,t.a4)(h)&&(0,t.a4)(h[R]))return h[R]})}function m(D){return e(l.O,"objects",D)}function _(D,R){return f(C(D,R),"files")}function v(D,R,h){return e(C(D,R),"files",h)}function y(D,R){return e(m(D),"sections",R)}function C(D,R){return f(y(D,R),"data")}function O(D,R){return f(y(D,R),"errorsToShow")}function I(D,R){return f(y(D,R),"serverValidationErrors")}},83678:(N,T,n)=>{"use strict";n.d(T,{u:()=>oe,O:()=>pe});var i=n(25499),t=n(25622),l=n.n(t),e=n(5771),f=n.n(e),m=n(48125),p=n.n(m),_=n(63448),v=n.n(_),y=n(82777),C=n(93158);const O=Object.create({});function X(ne,re){return ne||(re?[...re]:void 0)}function J(ne,re,Ce){return(0,y.a4)(ne[re.payload.submissionId].sections[re.payload.sectionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{enabled:Ce})})})}):ne}const oe={objects:function I(ne=O,re){switch(re.type){case C.lE.COMPLETE_INIT_SUBMISSION_FORM:return function P(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{isLoading:!1})}):ne}(ne,re);case C.lE.INIT_SUBMISSION_FORM:return function w(ne,re){const Ce=Object.assign({},ne);return Ce[re.payload.submissionId]={collection:re.payload.collectionId,definition:re.payload.submissionDefinition.name,selfUrl:re.payload.selfUrl,activeSection:null,sections:Object.create(null),isLoading:!0,savePending:!1,depositPending:!1},Ce}(ne,re);case C.lE.RESET_SUBMISSION_FORM:return function b(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.create(null),isLoading:!0})}):ne}(ne,re);case C.lE.CANCEL_SUBMISSION_FORM:return O;case C.lE.SAVE_SUBMISSION_FORM:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM:case C.lE.SAVE_AND_DEPOSIT_SUBMISSION:case C.lE.SAVE_SUBMISSION_SECTION_FORM:return function M(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{activeSection:ne[re.payload.submissionId].activeSection,sections:ne[re.payload.submissionId].sections,isLoading:ne[re.payload.submissionId].isLoading,savePending:!0})}):ne}(ne,re);case C.lE.SAVE_SUBMISSION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS:case C.lE.SAVE_SUBMISSION_FORM_ERROR:case C.lE.SAVE_FOR_LATER_SUBMISSION_FORM_ERROR:case C.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR:return function L(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{savePending:!1})}):ne}(ne,re);case C.lE.CHANGE_SUBMISSION_COLLECTION:return function $(ne,re){return Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{collection:re.payload.collectionId})})}(ne,re);case C.lE.DEPOSIT_SUBMISSION:return function B(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{savePending:!1,depositPending:!0})}):ne}(ne,re);case C.lE.DEPOSIT_SUBMISSION_SUCCESS:return O;case C.lE.DEPOSIT_SUBMISSION_ERROR:return function U(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{depositPending:!1})}):ne}(ne,re);case C.lE.DISCARD_SUBMISSION:return ne;case C.lE.DISCARD_SUBMISSION_SUCCESS:return O;case C.lE.DISCARD_SUBMISSION_ERROR:return ne;case C.lE.SET_ACTIVE_SECTION:return function j(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{activeSection:re.payload.sectionId,sections:ne[re.payload.submissionId].sections,isLoading:ne[re.payload.submissionId].isLoading,savePending:ne[re.payload.submissionId].savePending})}):ne}(ne,re);case C.lE.INIT_SECTION:return function G(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:{header:re.payload.header,config:re.payload.config,mandatory:re.payload.mandatory,scope:re.payload.scope,sectionType:re.payload.sectionType,visibility:re.payload.visibility,collapsed:!1,enabled:re.payload.enabled,data:re.payload.data,errorsToShow:[],serverValidationErrors:re.payload.errors||[],isLoading:!1,isValid:(0,y.Im)(re.payload.errors)}})})}):ne}(ne,re);case C.lE.SET_SECTION_FORM_ID:return function z(ne,re){return(0,y.a4)(ne[re.payload.submissionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:{...ne[re.payload.submissionId].sections[re.payload.sectionId],formId:re.payload.formId}})})}):ne}(ne,re);case C.lE.ENABLE_SECTION:return J(ne,re,!0);case C.lE.UPDATE_SECTION_DATA:return function V(ne,re){return(0,y.hj)(ne[re.payload.submissionId])&&(0,y.hj)(ne[re.payload.submissionId].sections[re.payload.sectionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{enabled:!0,data:re.payload.data,errorsToShow:re.payload.errorsToShow,serverValidationErrors:re.payload.serverValidationErrors,metadata:X(re.payload.metadata,ne[re.payload.submissionId].sections[re.payload.sectionId].metadata)})})})}):ne}(ne,re);case C.lE.DISABLE_SECTION:return J(ne,re,!1);case C.lE.SECTION_STATUS_CHANGE:return function q(ne,re){return(0,y.hj)(ne[re.payload.submissionId])&&(0,y.a4)(ne[re.payload.submissionId].sections[re.payload.sectionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,Object.assign({},{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{isValid:re.payload.status})}))})}):ne}(ne,re);case C.lE.NEW_FILE:return function Z(ne,re){const Ce=ne[re.payload.submissionId].sections[re.payload.sectionId].data;let Ee;return(0,y.b0)(Ce.files)?Ee={files:[re.payload.data]}:(Ee=Ce,Ee.files.push(re.payload.data)),Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{enabled:!0,data:Ee})})})})}(ne,re);case C.lE.EDIT_FILE_PRIMARY_BITSTREAM_DATA:return function H(ne,re){const Ce=ne[re.payload.submissionId].sections[re.payload.sectionId].data,{submissionId:Ee,sectionId:ue,fileId:ae}=re.payload,ye=f()(Ce.files,{uuid:ae});if((0,y.kZ)(ye))return ne;const De=ne[Ee];return{...ne,[Ee]:{...De,sections:{...De.sections,[ue]:{...De.sections[ue],data:{...De.sections[ue].data,primary:ae}}},isLoading:De.isLoading,savePending:De.savePending}}}(ne,re);case C.lE.EDIT_FILE_DATA:return function Y(ne,re){const Ce=ne[re.payload.submissionId].sections[re.payload.sectionId].data;if((0,y.a4)(Ce.files)){const Ee=f()(Ce.files,{uuid:re.payload.fileId});if((0,y.Pe)(Ee)){const ue=Array.from(Ce.files);return ue[Ee]=re.payload.data,Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{activeSection:ne[re.payload.submissionId].activeSection,sections:Object.assign({},ne[re.payload.submissionId].sections,Object.assign({},{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{data:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId].data,{files:ue})})})),isLoading:ne[re.payload.submissionId].isLoading,savePending:ne[re.payload.submissionId].savePending})})}}return ne}(ne,re);case C.lE.DELETE_FILE:return function Q(ne,re){const Ce=ne[re.payload.submissionId].sections[re.payload.sectionId].data;if((0,y.a4)(Ce.files)){const Ee=f()(Ce.files,{uuid:re.payload.fileId});if((0,y.Pe)(Ee)){const ue=Array.from(Ce.files);return ue.splice(Ee,1),Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,Object.assign({},{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{data:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId].data,{files:ue})})}))})})}}return ne}(ne,re);case C.lE.ADD_SECTION_ERROR:return((ne,re)=>{const{submissionId:Ce,sectionId:Ee,error:ue}=re.payload;if((0,y.a4)(ne[Ce].sections[Ee])){const ae=v()(ne[Ce].sections[Ee].errorsToShow.concat(ue),p());return Object.assign({},ne,{[Ce]:Object.assign({},ne[Ce],{activeSection:ne[re.payload.submissionId].activeSection,sections:Object.assign({},ne[Ce].sections,{[Ee]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{errorsToShow:ae})})})})}return ne})(ne,re);case C.lE.DELETE_SECTION_ERROR:return((ne,re)=>{const{submissionId:Ce,sectionId:Ee,errors:ue}=re.payload;if((0,y.a4)(ne[Ce].sections[Ee])){let ae;return ae=Array.isArray(ue)?l()(ue,ue,p()):ne[Ce].sections[Ee].errorsToShow.filter(ye=>ye.path!==ue.path||!p()(ye,ue)),Object.assign({},ne,{[Ce]:Object.assign({},ne[Ce],{sections:Object.assign({},ne[Ce].sections,{[Ee]:Object.assign({},ne[Ce].sections[Ee],{errorsToShow:ae})})})})}return ne})(ne,re);case C.lE.REMOVE_SECTION_ERRORS:return function h(ne,re){return(0,y.hj)(ne[re.payload.submissionId])&&(0,y.hj)(ne[re.payload.submissionId].sections[re.payload.sectionId])?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{[re.payload.sectionId]:Object.assign({},ne[re.payload.submissionId].sections[re.payload.sectionId],{errorsToShow:[]})})})}):ne}(ne,re);case C.lE.CLEAN_DUPLICATE_DETECTION:return function ie(ne,re){return(0,y.hj)(ne[re.payload.submissionId])&&ne[re.payload.submissionId].sections.hasOwnProperty("duplicates")?Object.assign({},ne,{[re.payload.submissionId]:Object.assign({},ne[re.payload.submissionId],{sections:Object.assign({},ne[re.payload.submissionId].sections,{duplicates:Object.assign({},ne[re.payload.submissionId].sections.duplicates,{enabled:!1,data:{potentialDuplicates:[]}})})})}):ne}(ne,re);default:return ne}}},pe=(0,i.UX)("submission")},61010:(N,T,n)=>{"use strict";n.d(T,{E:()=>Y});var i=n(21626),t=n(25499),l=n(7673),e=n(41584),f=n(96354),m=n(99437),p=n(47677),_=n(5964),v=n(99172),y=n(23294),C=n(96697),O=n(88141),I=n(70274),D=n(88280),R=n(13808),h=n(32473),w=n(56760),b=n(78655),P=n(83203),M=n(67625),L=n(83085),B=n(82777),U=n(39806),$=n(43404),j=n(66731),G=n(93158),z=n(645),V=n(83678),X=n(54438),J=n(7901),q=n(41780);let Y=(()=>{class Q{constructor(oe,pe,ne,re,Ce,Ee,ue,ae,ye){this.notificationsService=oe,this.restService=pe,this.router=ne,this.routeService=re,this.store=Ce,this.translate=Ee,this.searchService=ue,this.requestService=ae,this.jsonPatchOperationService=ye,this.workspaceLinkPath="workspaceitems",this.workflowLinkPath="workflowitems"}changeSubmissionCollection(oe,pe){this.store.dispatch(new G.pL(oe,pe))}getSubmissionCollectionId(oe){return this.store.pipe((0,t.Lt)(function H(Q){return(0,t.Mz)(function Z(Q){return(0,t.Mz)(V.O,ie=>ie.objects[Q])}(Q),ie=>ie?.collection)}(oe)))}createSubmission(oe){return this.restService.postToEndpoint(this.workspaceLinkPath,{},null,null,oe).pipe((0,f.T)(pe=>pe[0]),(0,m.W)(()=>(0,l.of)({})))}createSubmissionFromExternalSource(oe,pe){const ne=Object.create({});let re=new i.Lr;return re=re.append("Content-Type","text/uri-list"),ne.headers=re,this.restService.postToEndpoint(this.workspaceLinkPath,oe,null,ne,pe)}depositSubmission(oe){const pe=Object.create({});let ne=new i.Lr;return ne=ne.append("Content-Type","text/uri-list"),pe.headers=ne,this.restService.postToEndpoint(this.workflowLinkPath,oe,null,pe)}discardSubmission(oe){return this.restService.deleteById(oe)}dispatchInit(oe,pe,ne,re,Ce,Ee,ue){this.store.dispatch(new G.jc(oe,pe,ne,re,Ce,Ee,ue))}dispatchDeposit(oe){this.store.dispatch(new G.nu(oe))}dispatchDiscard(oe){this.store.dispatch(new G.v0(oe))}dispatchSave(oe,pe){this.getSubmissionSaveProcessingStatus(oe).pipe((0,p.I)(ne=>!ne)).subscribe(()=>{this.store.dispatch(new G.sj(oe,pe))})}dispatchSaveForLater(oe){this.store.dispatch(new G.f0(oe))}dispatchSaveSection(oe,pe){this.store.dispatch(new G.h3(oe,pe))}getActiveSectionId(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(pe=>pe.activeSection))}getSubmissionObject(oe){return this.store.select((0,z.sO)(oe)).pipe((0,_.p)(pe=>(0,B.EA)(pe)))}getSubmissionSections(oe){return this.getSubmissionObject(oe).pipe((0,p.I)(pe=>(0,B.EA)(pe.sections)&&!pe.isLoading),(0,f.T)(pe=>pe.sections),(0,f.T)(pe=>{const ne=[];return Object.keys(pe).filter(re=>!this.isSectionHidden(pe[re])).forEach(re=>{const Ce=Object.create({});Ce.config=pe[re].config,Ce.mandatory=pe[re].mandatory,Ce.data=pe[re].data,Ce.errorsToShow=pe[re].errorsToShow,Ce.serverValidationErrors=pe[re].serverValidationErrors,Ce.header=pe[re].header,Ce.id=re,Ce.sectionType=pe[re].sectionType,ne.push(Ce)}),ne}),(0,v.Z)([]),(0,y.F)())}getDisabledSectionsList(oe){return this.getSubmissionObject(oe).pipe((0,_.p)(pe=>(0,B.EA)(pe.sections)&&!pe.isLoading),(0,f.T)(pe=>pe.sections),(0,f.T)(pe=>{const ne=[];return Object.keys(pe).filter(re=>!this.isSectionHidden(pe[re])).filter(re=>!pe[re].enabled).forEach(re=>{const Ce=Object.create({});Ce.header=pe[re].header,Ce.id=re,ne.push(Ce)}),ne}),(0,v.Z)([]),(0,y.F)())}getSubmissionObjectLinkName(){const oe=this.router.routerState.snapshot.url;return oe.startsWith("/workspaceitems")||oe.startsWith("/submit")?this.workspaceLinkPath:oe.startsWith("/workflowitems")?this.workflowLinkPath:"edititems"}getSubmissionScope(){let oe;switch(this.getSubmissionObjectLinkName()){case this.workspaceLinkPath:oe=L.L.WorkspaceItem;break;case this.workflowLinkPath:oe=L.L.WorkflowItem}return oe}getSubmissionStatus(oe){return this.store.select(V.O).pipe((0,f.T)(pe=>pe.objects[oe]),(0,_.p)(pe=>(0,B.EA)(pe)&&(0,B.EA)(pe.sections)),(0,f.T)(pe=>pe.sections),(0,f.T)(pe=>{const ne=[];return(0,B.EA)(pe)&&Object.keys(pe).filter(re=>pe.hasOwnProperty(re)).filter(re=>!this.isSectionHidden(pe[re])).filter(re=>pe[re].enabled).filter(re=>!1===pe[re].isValid).forEach(re=>{ne.push(pe[re].isValid)}),!(0,B.Im)(pe)&&(0,B.Im)(ne)}),(0,y.F)(),(0,v.Z)(!1))}getSubmissionSaveProcessingStatus(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(pe=>pe.savePending),(0,y.F)(),(0,v.Z)(!1))}getSubmissionDepositProcessingStatus(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(pe=>pe.depositPending),(0,y.F)(),(0,v.Z)(!1))}hasUnsavedModification(){return this.jsonPatchOperationService.hasPendingOperations("sections")}isSectionHidden(oe){const pe=this.getSubmissionScope();return!((0,B.Im)(pe)||(0,B.Im)(oe.visibility)||(0,B.Im)(oe.scope))&&"HIDDEN"===((pe.valueOf()===L.L.WorkspaceItem.valueOf()?j.S.Submission:j.S.Workflow).valueOf()===oe.scope.valueOf()?oe.visibility.main:oe.visibility.other)}isSubmissionLoading(oe){return this.getSubmissionObject(oe).pipe((0,f.T)(pe=>pe.isLoading),(0,y.F)())}notifyNewSection(oe,pe,ne){const re=this.translate.instant("submission.sections.general.metadata-extracted-new-section",{sectionId:pe});this.notificationsService.info(null,re,null,!0)}redirectToMyDSpace(){this.searchService.getEndpoint().pipe((0,C.s)(1),(0,O.M)(oe=>this.requestService.removeByHrefSubstring(oe)),(0,I.H)(()=>this.routeService.getPreviousUrl().pipe((0,C.s)(1),(0,O.M)(oe=>{(0,B.Im)(oe)||!oe.startsWith("/mydspace")?this.router.navigate(["/mydspace"]):this.router.navigateByUrl(oe)})))).subscribe()}resetAllSubmissionObjects(){this.store.dispatch(new G.Dy)}resetSubmissionObject(oe,pe,ne,re,Ce,Ee){this.store.dispatch(new G.sf(oe,pe,ne,Ce,re,Ee))}retrieveSubmission(oe){return this.restService.getDataById(this.getSubmissionObjectLinkName(),oe).pipe((0,p.I)(pe=>(0,B.EA)(pe)),(0,f.T)(pe=>(0,$.SP)(pe[0])),(0,m.W)(pe=>{if(pe instanceof R._p)return(0,$.PM)(pe.errorMessage,pe.statusCode)}))}setActiveSection(oe,pe){this.store.dispatch(new G._D(oe,pe))}startAutoSave(oe){if(this.stopAutoSave(),0===D.c.submission.autosave.timer)return;const pe=D.c.submission.autosave.timer;this.timer$=(0,e.O)(pe,pe),this.autoSaveSub=this.timer$.subscribe(()=>this.store.dispatch(new G.sj(oe)))}stopAutoSave(){(0,B.a4)(this.autoSaveSub)&&(this.autoSaveSub.unsubscribe(),this.autoSaveSub=null)}static{this.\u0275fac=function(pe){return new(pe||Q)(X.KVO(U.I),X.KVO(M.O),X.KVO(J.Ix),X.KVO(w.v$),X.KVO(t.il),X.KVO(q.c$),X.KVO(b.S),X.KVO(h.B),X.KVO(P.U))}}static{this.\u0275prov=X.jDH({token:Q,factory:Q.\u0275fac})}}return Q})()},90049:(N,T,n)=>{"use strict";n.d(T,{A:()=>f});var i=n(82777);const t=/([^\/]+)/g,l=/\/sections\/(.*)/,f=m=>("string"==typeof m?[m]:m).map(_=>_.match(t)&&_.match(t).length>2?{sectionId:_.match(t)[1],fieldId:_.match(t)[2],fieldIndex:(0,i.a4)(_.match(t)[3])?+_.match(t)[3]:0,originalPath:_}:{sectionId:_.match(l)[1],originalPath:_})},7020:(N,T,n)=>{"use strict";n.d(T,{A:()=>l});var i=n(90049);const l=(e=[])=>{const f=Object.create({});return e.forEach(m=>{(0,i.A)(m.paths).forEach(_=>{const v={path:_.originalPath,message:m.message};f[_.sectionId]||(f[_.sectionId]=[]),f[_.sectionId].push(v)})}),f}},24215:(N,T,n)=>{"use strict";n.d(T,{C2:()=>t,jV:()=>e});var i=n(45663);const t="suggestions";function e(f){return new i.t(function l(){return`/${t}`}(),f).toString()}},58429:(N,T,n)=>{"use strict";n.d(T,{E:()=>$});var i=n(60177),t=n(54438),l=n(41780),e=n(56106),m=n(84412),p=n(40605),_=n(983),v=n(96354),y=n(5964),C=n(25558),O=n(27795),I=n(80183),D=n(82777),R=n(39806);const h=j=>({days:j}),w=j=>({hours:j}),b=j=>({minutes:j});function P(j,G){1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&j&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"system-wide-alert-banner.countdown.prefix")," "))}function M(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.days",t.eq3(6,h,t.bMT(2,1,z.countDownDays)))," ")}}function L(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.hours",t.eq3(6,w,t.bMT(2,1,z.countDownHours)))," ")}}function B(j,G){if(1&j&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"async"),t.nI1(3,"translate"),t.k0s()),2&j){const z=t.XpG(2);t.R7$(),t.SpI(" ",t.i5U(3,3,"system-wide-alert-banner.countdown.minutes",t.eq3(6,b,t.bMT(2,1,z.countDownMinutes)))," ")}}function U(j,G){if(1&j&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span",3),t.DNE(4,P,3,3,"span",0),t.nI1(5,"async"),t.nI1(6,"async"),t.nI1(7,"async"),t.DNE(8,M,4,8,"span",0),t.nI1(9,"async"),t.DNE(10,L,4,8,"span",0),t.nI1(11,"async"),t.nI1(12,"async"),t.DNE(13,B,4,8,"span",0),t.nI1(14,"async"),t.nI1(15,"async"),t.nI1(16,"async"),t.k0s(),t.nrm(17,"span",4),t.nI1(18,"async"),t.k0s()()()),2&j){let z;const V=t.XpG();t.R7$(4),t.Y8G("ngIf",t.bMT(5,5,V.countDownDays)>0||t.bMT(6,7,V.countDownHours)>0||t.bMT(7,9,V.countDownMinutes)>0),t.R7$(4),t.Y8G("ngIf",t.bMT(9,11,V.countDownDays)>0),t.R7$(2),t.Y8G("ngIf",t.bMT(11,13,V.countDownDays)>0||t.bMT(12,15,V.countDownHours)>0),t.R7$(3),t.Y8G("ngIf",t.bMT(14,17,V.countDownDays)>0||t.bMT(15,19,V.countDownHours)>0||t.bMT(16,21,V.countDownMinutes)>0),t.R7$(4),t.Y8G("innerHTML",null==(z=t.bMT(18,23,V.systemWideAlert$))?null:z.message,t.npT)}}let $=(()=>{class j{constructor(z,V,X){this.platformId=z,this.systemWideAlertDataService=V,this.notificationsService=X,this.systemWideAlert$=new m.t(void 0),this.countDownMinutes=new m.t(0),this.countDownHours=new m.t(0),this.countDownDays=new m.t(0),this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.systemWideAlertDataService.searchBy("active").pipe((0,I.Hz)(),(0,v.T)(z=>z.page),(0,y.p)(z=>(0,D.hj)(z)),(0,v.T)(z=>z[0])).subscribe(z=>{this.systemWideAlert$.next(z)})),this.subscriptions.push(this.systemWideAlert$.pipe((0,C.n)(z=>{if((0,D.a4)(z)&&(0,D.a4)(z.countdownTo)){const X=(0,e.zonedTimeToUtc)(z.countdownTo,"UTC").getTime()-(new Date).getTime();if(X>0)return this.allocateTimeUnits(X),(0,i.UE)(this.platformId)?(0,p.Y)(1e3):_.w}return this.countDownDays.next(0),this.countDownHours.next(0),this.countDownMinutes.next(0),_.w})).subscribe(()=>{this.setTimeDifference(this.systemWideAlert$.getValue().countdownTo)}))}setTimeDifference(z){const X=(0,e.zonedTimeToUtc)(z,"UTC").getTime()-(new Date).getTime();this.allocateTimeUnits(X)}allocateTimeUnits(z){const V=Math.floor(z/6e4%60),X=Math.floor(z/36e5%24),J=Math.floor(z/864e5);this.countDownMinutes.next(V),this.countDownHours.next(X),this.countDownDays.next(J)}ngOnDestroy(){this.subscriptions.forEach(z=>{(0,D.a4)(z)&&z.unsubscribe()})}static{this.\u0275fac=function(V){return new(V||j)(t.rXU(t.Agw),t.rXU(O.SystemWideAlertDataService),t.rXU(R.I))}}static{this.\u0275cmp=t.VBU({type:j,selectors:[["ds-system-wide-alert-banner"]],standalone:!0,features:[t.aNF],decls:2,vars:3,consts:[[4,"ngIf"],[1,"rounded-0","alert","alert-warning","w100","m-0","px-1"],[1,"container"],[1,"font-weight-bold"],[3,"innerHTML"]],template:function(V,X){if(1&V&&(t.DNE(0,U,19,25,"div",0),t.nI1(1,"async")),2&V){let J;t.Y8G("ngIf",null==(J=t.bMT(1,1,X.systemWideAlert$))?null:J.active)}},dependencies:[i.bT,i.Jj,l.h,l.D9]})}}return j})()},30398:(N,T,n)=>{"use strict";n.d(T,{$:()=>p});var i=n(31635),t=n(74850),l=n(21921),e=n(42547),f=n(98688),m=n(61196);let p=class{static{this.type=m.B}};(0,i.Cg)([f.aK,t.autoserialize,(0,i.Sn)("design:type",e.v)],p.prototype,"type",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"alertId",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"message",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",String)],p.prototype,"countdownTo",void 0),(0,i.Cg)([t.autoserialize,(0,i.Sn)("design:type",Boolean)],p.prototype,"active",void 0),(0,i.Cg)([t.deserialize,(0,i.Sn)("design:type",Object)],p.prototype,"_links",void 0),p=(0,i.Cg)([l.gV],p)},61196:(N,T,n)=>{"use strict";n.d(T,{B:()=>t});const t=new(n(42547).v)("systemwidealert")},97402:(N,T,n)=>{"use strict";n.d(T,{T:()=>m});var i=n(8886),l=(n(73900),n(54438));const e=["*"];function f(p,_){}let m=(()=>{class p extends i.J{constructor(){super(...arguments),this.inAndOutputNames=["thumbnail","defaultImage","alt","placeholder","limitWidth"]}getComponentName(){return"ThumbnailComponent"}importThemedComponent(v){return n(572)(`./${v}/app/thumbnail/thumbnail.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73900))}static{this.\u0275fac=(()=>{let v;return function(C){return(v||(v=l.xGo(p)))(C||p)}})()}static{this.\u0275cmp=l.VBU({type:p,selectors:[["ds-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[l.Vt3,l.aNF],ngContentSelectors:e,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(y,C){1&y&&(l.NAR(),l.DNE(0,f,0,0,"ng-template",null,0,l.C5r),l.j41(2,"div",null,1),l.SdG(4),l.k0s())},encapsulation:2})}}return p})()},73900:(N,T,n)=>{"use strict";n.r(T),n.d(T,{ThumbnailComponent:()=>P});var i=n(60177),t=n(54438),l=n(41780),e=n(7673),f=n(25558),m=n(67116),p=n(65007),_=n(3970),v=n(1716),y=n(33376),C=n(89269),O=n(82777),I=n(82394),D=n(43764);const R=M=>({"d-none":M});function h(M,L){1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5),t.nrm(3,"ds-loading",6),t.k0s()()()),2&M&&(t.R7$(3),t.Y8G("spinner",!0))}function w(M,L){if(1&M){const B=t.RV6();t.j41(0,"img",7),t.nI1(1,"dsSafeUrl"),t.nI1(2,"translate"),t.bIt("error",function(){t.eBV(B);const $=t.XpG();return t.Njj($.errorHandler())})("load",function(){t.eBV(B);const $=t.XpG();return t.Njj($.successHandler())}),t.k0s()}if(2&M){const B=t.XpG();t.Y8G("ngClass",t.eq3(7,R,B.isLoading))("src",t.bMT(1,3,B.src),t.B4B)("alt",t.bMT(2,5,B.alt))}}function b(M,L){if(1&M&&(t.j41(0,"div",3)(1,"div",4)(2,"div",8),t.EFF(3),t.nI1(4,"translate"),t.k0s()()()),2&M){const B=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,1,B.placeholder)," ")}}let P=(()=>{class M{constructor(B,U,$,j){this.platformID=B,this.auth=U,this.authorizationService=$,this.fileService=j,this.defaultImage=null,this.src=void 0,this.retriedWithToken=!1,this.alt="thumbnail.default.alt",this.placeholder="thumbnail.default.placeholder",this.limitWidth=!0,this.isLoading=!0}ngOnChanges(B){if((0,i.UE)(this.platformID)){if((0,O.Tn)(this.thumbnail))return void this.setSrc(this.defaultImage);const U=this.contentHref;(0,O.a4)(U)?this.setSrc(U):this.setSrc(this.defaultImage)}}get bitstream(){return this.thumbnail instanceof y._?this.thumbnail:this.thumbnail instanceof v.j?this.thumbnail.payload:void 0}get contentHref(){return this.thumbnail instanceof y._?this.thumbnail?._links?.content?.href:this.thumbnail instanceof v.j?this.thumbnail?.payload?._links?.content?.href:void 0}errorHandler(){const B=this.src,U=this.bitstream,$=U?._links?.content?.href;!this.retriedWithToken&&(0,O.a4)($)&&B===$?(this.retriedWithToken=!0,this.auth.isAuthenticated().pipe((0,f.n)(j=>j?this.authorizationService.isAuthorized(_._.CanDownload,U.self):(0,e.of)(!1)),(0,f.n)(j=>j?this.fileService.retrieveFileDownloadLink($):(0,e.of)(null))).subscribe(j=>{(0,O.a4)(j)?this.setSrc(j):this.setSrc(this.defaultImage)})):this.setSrc(B!==this.defaultImage?this.defaultImage:null)}setSrc(B){this.src=B,null===B&&(this.isLoading=!1)}successHandler(){this.isLoading=!1}static{this.\u0275fac=function(U){return new(U||M)(t.rXU(t.Agw),t.rXU(m.uR),t.rXU(p.AuthorizationDataService),t.rXU(C.E))}}static{this.\u0275cmp=t.VBU({type:M,selectors:[["ds-base-thumbnail"]],inputs:{thumbnail:"thumbnail",defaultImage:"defaultImage",alt:"alt",placeholder:"placeholder",limitWidth:"limitWidth"},standalone:!0,features:[t.OA$,t.aNF],decls:4,vars:5,consts:[[1,"thumbnail"],["class","thumbnail-content outer",4,"ngIf"],["class","thumbnail-content img-fluid",3,"ngClass","src","alt","error","load",4,"ngIf"],[1,"thumbnail-content","outer"],[1,"inner"],[1,"centered"],[3,"spinner"],[1,"thumbnail-content","img-fluid",3,"error","load","ngClass","src","alt"],[1,"thumbnail-placeholder","centered","lead"]],template:function(U,$){1&U&&(t.j41(0,"div",0),t.DNE(1,h,4,1,"div",1)(2,w,3,9,"img",2)(3,b,5,3,"div",1),t.k0s()),2&U&&(t.AVh("limit-width",$.limitWidth),t.R7$(),t.Y8G("ngIf",$.isLoading),t.R7$(),t.Y8G("ngIf",null!==$.src),t.R7$(),t.Y8G("ngIf",null===$.src&&!$.isLoading))},dependencies:[i.MD,i.YU,i.bT,I.v,l.h,l.D9,D.d],styles:['.limit-width[_ngcontent-%COMP%]{max-width:var(--ds-thumbnail-max-width)}img[_ngcontent-%COMP%]{max-width:100%}.outer[_ngcontent-%COMP%]{position:relative}.outer[_ngcontent-%COMP%]:before{display:block;content:"";width:100%;padding-top:141.4285714286%}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{position:absolute;inset:0}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .thumbnail-placeholder[_ngcontent-%COMP%]{background:var(--ds-thumbnail-placeholder-background);border:var(--ds-thumbnail-placeholder-border);color:var(--ds-thumbnail-placeholder-color);font-weight:700}.outer[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%] > .centered[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}']})}}return M})()},43782:(N,T,n)=>{"use strict";n.d(T,{$:()=>R});var i=n(84572),t=n(96354),l=n(25558),e=n(96697),f=n(32473),m=n(56760),p=n(80183),_=n(52837),v=n(82777),y=n(39806),C=n(54438),O=n(7901),I=n(41780),D=n(60177);let R=(()=>{class h{constructor(b,P,M,L,B,U,$,j){this.route=b,this.workflowItemService=P,this.router=M,this.routeService=L,this.notificationsService=B,this.translationService=U,this.requestService=$,this.location=j}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,t.T)(b=>b.wfi),(0,p.Bo)()),this.item$=this.wfi$.pipe((0,l.n)(b=>b.item.pipe((0,p.v7)(),(0,p.Bo)()))),this.previousQueryParameters=this.location.getState()?.previousQueryParams}performAction(){(0,i.z)([this.wfi$,this.requestService.removeByHrefSubstring("/discover")]).pipe((0,e.s)(1),(0,l.n)(([b])=>this.sendRequest(b.id))).subscribe(b=>{if(b){const P=this.translationService.get("workflow-item."+this.type+".notification.success.title"),M=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(P,M)}else{const P=this.translationService.get("workflow-item."+this.type+".notification.error.title"),M=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(P,M)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,e.s)(1)).subscribe(b=>{let P={};if((0,v.Im)(b)&&(b="/mydspace",P=this.previousQueryParameters),b.split("?").length>1)for(const M of b.split("?")[1].split("&"))P[M.split("=")[0]]=decodeURIComponent(M.split("=")[1]);this.router.navigate([b.split("?")[0]],{queryParams:P})})}static{this.\u0275fac=function(P){return new(P||h)(C.rXU(O.nX),C.rXU(_.WorkflowItemDataService),C.rXU(O.Ix),C.rXU(m.v$),C.rXU(y.I),C.rXU(I.c$),C.rXU(f.B),C.rXU(D.aZ))}}static{this.\u0275dir=C.FsC({type:h,selectors:[["ds-workflowitem-action-page"]],inputs:{type:"type"},standalone:!0})}}return h})()},79951:(N,T,n)=>{"use strict";n.d(T,{BD:()=>m,BY:()=>v,HJ:()=>_,RS:()=>R,Rd:()=>C,Rk:()=>p,UM:()=>O,Uf:()=>y,XH:()=>f,YN:()=>I,b1:()=>D});var i=n(69799),t=n(45663);function f(b){return new t.t((0,i.Q)(),b,I).toString()}function m(b){return new t.t((0,i.Q)(),b,O).toString()}function p(b){return new t.t((0,i.Q)(),b,D).toString()}function _(b){return new t.t((0,i.Q)(),b,R).toString()}function v(b){return new t.t((0,i.cp)(),b,h).toString()}function y(b){return new t.t((0,i.cp)(),b,w).toString()}const C="edit",O="delete",I="view",D="sendback",R="advanced",h="delete",w="edit"},82640:(N,T,n)=>{"use strict";n.d(T,{Dr:()=>l,l9:()=>e,vQ:()=>t});var i=n(54438);const t=new i.nKC("APP_CONFIG"),l=(0,i.zw6)("APP_CONFIG_STATE"),e=new i.nKC("APP_DATA_SERVICES_MAP")},45113:(N,T,n)=>{"use strict";n.d(T,{$k:()=>m,Nv:()=>_});var i=n(58813),l=n(82777),e=n(10092),f=n(88280);const m=(v,y)=>{p(v,y),console.log("Environment extended with app config")},p=(v,y)=>{Object.assign(v,(0,i.all)([v,y],{arrayMerge:(O,I,D)=>I}))},_=()=>f.c.themes.find(v=>(0,l.Tn)(v.regex)&&(0,l.Tn)(v.handle)&&(0,l.Tn)(v.uuid))??{name:e.Q}},88280:(N,T,n)=>{"use strict";n.d(T,{c:()=>i});const i={production:!0,ssr:{enabled:!0,enablePerformanceProfiler:!1,inlineCriticalCss:!1,transferState:!0,replaceRestUrl:!0,paths:["/home","/items/","/entities/","/collections/","/communities/","/bitstream/","/bitstreams/","/handle/","/reload/"],enableSearchComponent:!1,enableBrowseComponent:!1}}},59540:(N,T,n)=>{"use strict";n.d(T,{C:()=>l,S:()=>t});var i=n(54438);const t=new i.nKC("REQUEST"),l=new i.nKC("RESPONSE")},41317:(N,T,n)=>{"use strict";n(96935),n(52165),n(82374);var e=n(54438),f=n(345),m=n(74523),p=n(60177),_=n(7901),v=n(25499),y=n(84412),C=n(23294),O=n(35335),I=n(53993),D=n(96697),R=n(88280),h=n(67116),w=n(38169),b=n(1676),P=n(52998),M=n(8886),L=n(87114);const B=["*"];function U(u,E){}let $=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["shouldShowRouteLoader","shouldShowFullscreenLoader"]}getComponentName(){return"RootComponent"}importThemedComponent(o){return n(94634)(`./${o}/app/root/root.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,87114))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-root"]],inputs:{shouldShowFullscreenLoader:"shouldShowFullscreenLoader",shouldShowRouteLoader:"shouldShowRouteLoader"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:B,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,U,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var j=n(65354),G=n(41780),z=n(59836),V=n(82777),X=n(52149);const J=u=>({timeToExpire:u});let q=(()=>{class u{constructor(o,d,x){this.activeModal=o,this.authService=d,this.store=x,this.response=new e.bkB,this.timeToExpire=(R.c.auth.ui.timeUntilIdle+R.c.auth.ui.idleGracePeriod)/1e3/60}ngOnInit(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.graceTimer=setTimeout(()=>{this.logOutPressed()},R.c.auth.ui.idleGracePeriod)}extendSessionPressed(){this.extendSessionAndCloseModal()}logOutPressed(){this.closeModal(),this.store.dispatch(new z.du)}closePressed(){this.extendSessionAndCloseModal()}extendSessionAndCloseModal(){(0,V.a4)(this.graceTimer)&&clearTimeout(this.graceTimer),this.authService.setIdle(!1),this.closeModal()}closeModal(){this.activeModal.close(),this.response.emit(!0)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(X.Lw),e.rXU(h.uR),e.rXU(v.il))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-idle-modal"]],outputs:{response:"response"},standalone:!0,features:[e.aNF],decls:20,vars:15,consts:[["id","idle-modal.header",1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","aria-label","Log out",1,"cancel","btn","btn-danger",3,"click"],[1,"fas","fa-sign-out-alt"],["type","button","aria-label","Extend session","ngbAutofocus","",1,"confirm","btn","btn-primary",3,"click"],[1,"fas","fa-redo-alt"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.closePressed()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",4)(12,"button",5),e.bIt("click",function(){return x.logOutPressed()}),e.nrm(13,"i",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"button",7),e.bIt("click",function(){return x.extendSessionPressed()}),e.nrm(17,"i",8),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,4,"idle-modal.header")," "),e.R7$(7),e.JRh(e.i5U(10,6,"idle-modal.info",e.eq3(13,J,x.timeToExpire))),e.R7$(5),e.SpI(" ",e.bMT(15,9,"idle-modal.log-out")," "),e.R7$(4),e.SpI(" ",e.bMT(19,11,"idle-modal.extend-session")," "))},dependencies:[G.h,G.D9],encapsulation:2})}}return u})();var Z=n(1221),H=n(82522);let Y=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft,jt,_n,dn,ss){this._window=o,this.document=d,this.platformId=x,this.themeService=ee,this.translate=Se,this.store=Ae,this.authService=ft,this.router=jt,this.cssService=_n,this.modalService=dn,this.modalConfig=ss,this.isRouteLoading$=new y.t(!1),this.notificationOptions=R.c.notifications,(0,p.UE)(this.platformId)&&this.trackIdleModal(),this.isThemeLoading$=this.themeService.isThemeLoading$,this.storeCSSVariables()}ngOnInit(){this.modalConfig.beforeDismiss=(0,m.A)(function*(){return"function"!=typeof this?.componentInstance?.beforeDismiss||this.componentInstance.beforeDismiss()}),this.isAuthBlocking$=this.store.pipe((0,v.Lt)(w.Gv),(0,C.F)()),this.dispatchWindowSize(this._window.nativeWindow.innerWidth,this._window.nativeWindow.innerHeight)}storeCSSVariables(){this.cssService.clearCSSVariables(),this.cssService.addCSSVariables(this.cssService.getCSSVariablesFromStylesheets(this.document))}ngAfterViewInit(){this.router.events.pipe((0,O.c)(0)).subscribe(o=>{o instanceof _.Z?(0,P.S)(this.isRouteLoading$,!0):(o instanceof _.wF||o instanceof _.j5)&&(0,P.S)(this.isRouteLoading$,!1)})}onResize(o){this.dispatchWindowSize(o.target.innerWidth,o.target.innerHeight)}dispatchWindowSize(o,d){this.store.dispatch(new j.l(o,d))}trackIdleModal(){const o=this.authService.isUserIdle(),d=this.authService.isAuthenticated();o.pipe((0,I.E)(d)).subscribe(([x,ee])=>{if(x&&ee&&!this.idleModalOpen){const Se=this.modalService.open(q,{ariaLabelledBy:"idle-modal.header"});this.idleModalOpen=!0,Se.componentInstance.response.pipe((0,D.s)(1)).subscribe(Ae=>{Ae&&(this.idleModalOpen=!1)})}})}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(b.lc),e.rXU(p.qQ),e.rXU(e.Agw),e.rXU(H.Fs),e.rXU(G.c$),e.rXU(v.il),e.rXU(h.uR),e.rXU(_.Ix),e.rXU(Z.J),e.rXU(X.Bq),e.rXU(X.LY))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-app"]],hostBindings:function(d,x){1&d&&e.bIt("resize",function(Se){return x.onResize(Se)},!1,e.tSv)},standalone:!0,features:[e.aNF],decls:4,vars:8,consts:[[3,"shouldShowFullscreenLoader","shouldShowRouteLoader"]],template:function(d,x){1&d&&(e.nrm(0,"ds-root",0),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async")),2&d&&e.Y8G("shouldShowFullscreenLoader",e.bMT(1,2,x.isAuthBlocking$)||e.bMT(2,4,x.isThemeLoading$))("shouldShowRouteLoader",e.bMT(3,6,x.isRouteLoading$))},dependencies:[$,p.Jj],changeDetection:0})}}return u})();var Q=n(45113),ie=n(21626),oe=n(49969);function ne(u){return new e.wOt(3e3,!1)}function Zt(u){switch(u.length){case 0:return new oe.sf;case 1:return u[0];default:return new oe.ui(u)}}function Dt(u,E,o=new Map,d=new Map){const x=[],ee=[];let Se=-1,Ae=null;if(E.forEach(ft=>{const jt=ft.get("offset"),_n=jt==Se,dn=_n&&Ae||new Map;ft.forEach((ss,_s)=>{let Bn=_s,qn=ss;if("offset"!==_s)switch(Bn=u.normalizePropertyName(Bn,x),qn){case oe.FX:qn=o.get(_s);break;case oe.kp:qn=d.get(_s);break;default:qn=u.normalizeStyleValue(_s,Bn,qn,x)}dn.set(Bn,qn)}),_n||ee.push(dn),Ae=dn,Se=jt}),x.length)throw function cn(u){return new e.wOt(3502,!1)}();return ee}function Lt(u,E,o,d){switch(E){case"start":u.onStart(()=>d(o&&st(o,"start",u)));break;case"done":u.onDone(()=>d(o&&st(o,"done",u)));break;case"destroy":u.onDestroy(()=>d(o&&st(o,"destroy",u)))}}function st(u,E,o){const ee=Le(u.element,u.triggerName,u.fromState,u.toState,E||u.phaseName,o.totalTime??u.totalTime,!!o.disabled),Se=u._data;return null!=Se&&(ee._data=Se),ee}function Le(u,E,o,d,x="",ee=0,Se){return{element:u,triggerName:E,fromState:o,toState:d,phaseName:x,totalTime:ee,disabled:!!Se}}function je(u,E,o){let d=u.get(E);return d||u.set(E,d=o),d}function He(u){const E=u.indexOf(":");return[u.substring(1,E),u.slice(E+1)]}const Be=typeof document>"u"?null:document.documentElement;function Pt(u){const E=u.parentNode||u.host||null;return E===Be?null:E}let Nt=null,Et=!1;function ns(u,E){for(;E;){if(E===u)return!0;E=Pt(E)}return!1}function hs(u,E,o){if(o)return Array.from(u.querySelectorAll(E));const d=u.querySelector(E);return d?[d]:[]}let yt=(()=>{class u{validateStyleProperty(o){return function qt(u){Nt||(Nt=function Cn(){return typeof document<"u"?document.body:null}()||{},Et=!!Nt.style&&"WebkitAppearance"in Nt.style);let E=!0;return Nt.style&&!function Je(u){return"ebkit"==u.substring(1,6)}(u)&&(E=u in Nt.style,!E&&Et&&(E="Webkit"+u.charAt(0).toUpperCase()+u.slice(1)in Nt.style)),E}(o)}matchesElement(o,d){return!1}containsElement(o,d){return ns(o,d)}getParentElement(o){return Pt(o)}query(o,d,x){return hs(o,d,x)}computeStyle(o,d,x){return x||""}animate(o,d,x,ee,Se,Ae=[],ft){return new oe.sf(x,ee)}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();class ct{static{this.NOOP=new yt}}class Xt{}const kn=1e3,Qs="ng-enter",gs="ng-leave",Is="ng-trigger",os=".ng-trigger",rn="ng-animating",pn=".ng-animating";function Zn(u){if("number"==typeof u)return u;const E=u.match(/^(-?[\.\d]+)(m?s)/);return!E||E.length<2?0:Ps(parseFloat(E[1]),E[2])}function Ps(u,E){return"s"===E?u*kn:u}function ai(u,E,o){return u.hasOwnProperty("duration")?u:function mt(u,E,o){let x,ee=0,Se="";if("string"==typeof u){const Ae=u.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ae)return E.push(ne()),{duration:0,delay:0,easing:""};x=Ps(parseFloat(Ae[1]),Ae[2]);const ft=Ae[3];null!=ft&&(ee=Ps(parseFloat(ft),Ae[4]));const jt=Ae[5];jt&&(Se=jt)}else x=u;if(!o){let Ae=!1,ft=E.length;x<0&&(E.push(function re(){return new e.wOt(3100,!1)}()),Ae=!0),ee<0&&(E.push(function Ce(){return new e.wOt(3101,!1)}()),Ae=!0),Ae&&E.splice(ft,0,ne())}return{duration:x,delay:ee,easing:Se}}(u,E,o)}function en(u,E,o){E.forEach((d,x)=>{const ee=Ln(x);o&&!o.has(x)&&o.set(x,u.style[ee]),u.style[ee]=d})}function rt(u,E){E.forEach((o,d)=>{const x=Ln(d);u.style[x]=""})}function ht(u){return Array.isArray(u)?1==u.length?u[0]:(0,oe.K2)(u):u}const kt=new RegExp("{{\\s*(.+?)\\s*}}","g");function sn(u){let E=[];if("string"==typeof u){let o;for(;o=kt.exec(u);)E.push(o[1]);kt.lastIndex=0}return E}function Tn(u,E,o){const d=`${u}`,x=d.replace(kt,(ee,Se)=>{let Ae=E[Se];return null==Ae&&(o.push(function ue(u){return new e.wOt(3003,!1)}()),Ae=""),Ae.toString()});return x==d?u:x}const Vn=/-+([a-z0-9])/g;function Ln(u){return u.replace(Vn,(...E)=>E[1].toUpperCase())}function ls(u,E,o){switch(E.type){case oe.If.Trigger:return u.visitTrigger(E,o);case oe.If.State:return u.visitState(E,o);case oe.If.Transition:return u.visitTransition(E,o);case oe.If.Sequence:return u.visitSequence(E,o);case oe.If.Group:return u.visitGroup(E,o);case oe.If.Animate:return u.visitAnimate(E,o);case oe.If.Keyframes:return u.visitKeyframes(E,o);case oe.If.Style:return u.visitStyle(E,o);case oe.If.Reference:return u.visitReference(E,o);case oe.If.AnimateChild:return u.visitAnimateChild(E,o);case oe.If.AnimateRef:return u.visitAnimateRef(E,o);case oe.If.Query:return u.visitQuery(E,o);case oe.If.Stagger:return u.visitStagger(E,o);default:throw function ae(u){return new e.wOt(3004,!1)}()}}function Ds(u,E){return window.getComputedStyle(u)[E]}const Mi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ki extends Xt{normalizePropertyName(E,o){return Ln(E)}normalizeStyleValue(E,o,d,x){let ee="";const Se=d.toString().trim();if(Mi.has(o)&&0!==d&&"0"!==d)if("number"==typeof d)ee="px";else{const Ae=d.match(/^[+-]?[\d\.]+([a-z]*)$/);Ae&&0==Ae[1].length&&x.push(function ye(u,E){return new e.wOt(3005,!1)}())}return Se+ee}}const $i="*";const gn=new Set(["true","1"]),tn=new Set(["false","0"]);function Wt(u,E){const o=gn.has(u)||tn.has(u),d=gn.has(E)||tn.has(E);return(x,ee)=>{let Se=u==$i||u==x,Ae=E==$i||E==ee;return!Se&&o&&"boolean"==typeof x&&(Se=x?gn.has(u):tn.has(u)),!Ae&&d&&"boolean"==typeof ee&&(Ae=ee?gn.has(E):tn.has(E)),Se&&Ae}}const $n=new RegExp("s*:selfs*,?","g");function vs(u,E,o,d){return new Ei(u).build(E,o,d)}class Ei{constructor(E){this._driver=E}build(E,o,d){const x=new Fi(o);return this._resetContextStyleTimingState(x),ls(this,ht(E),x)}_resetContextStyleTimingState(E){E.currentQuerySelector="",E.collectedStyles=new Map,E.collectedStyles.set("",new Map),E.currentTime=0}visitTrigger(E,o){let d=o.queryCount=0,x=o.depCount=0;const ee=[],Se=[];return"@"==E.name.charAt(0)&&o.errors.push(function De(){return new e.wOt(3006,!1)}()),E.definitions.forEach(Ae=>{if(this._resetContextStyleTimingState(o),Ae.type==oe.If.State){const ft=Ae,jt=ft.name;jt.toString().split(/\s*,\s*/).forEach(_n=>{ft.name=_n,ee.push(this.visitState(ft,o))}),ft.name=jt}else if(Ae.type==oe.If.Transition){const ft=this.visitTransition(Ae,o);d+=ft.queryCount,x+=ft.depCount,Se.push(ft)}else o.errors.push(function tt(){return new e.wOt(3007,!1)}())}),{type:oe.If.Trigger,name:E.name,states:ee,transitions:Se,queryCount:d,depCount:x,options:null}}visitState(E,o){const d=this.visitStyle(E.styles,o),x=E.options&&E.options.params||null;if(d.containsDynamicStyles){const ee=new Set,Se=x||{};d.styles.forEach(Ae=>{Ae instanceof Map&&Ae.forEach(ft=>{sn(ft).forEach(jt=>{Se.hasOwnProperty(jt)||ee.add(jt)})})}),ee.size&&o.errors.push(function _t(u,E){return new e.wOt(3008,!1)}(0,ee.values()))}return{type:oe.If.State,name:E.name,style:d,options:x?{params:x}:null}}visitTransition(E,o){o.queryCount=0,o.depCount=0;const d=ls(this,ht(E.animation),o),x=function po(u,E){const o=[];return"string"==typeof u?u.split(/\s*,\s*/).forEach(d=>function Ti(u,E,o){if(":"==u[0]){const ft=function Bt(u,E){switch(u){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,d)=>parseFloat(d)>parseFloat(o);case":decrement":return(o,d)=>parseFloat(d)<parseFloat(o);default:return E.push(function lt(u){return new e.wOt(3016,!1)}()),"* => *"}}(u,o);if("function"==typeof ft)return void E.push(ft);u=ft}const d=u.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==d||d.length<4)return o.push(function nt(u){return new e.wOt(3015,!1)}()),E;const x=d[1],ee=d[2],Se=d[3];E.push(Wt(x,Se)),"<"==ee[0]&&(x!=$i||Se!=$i)&&E.push(Wt(Se,x))}(d,o,E)):o.push(u),o}(E.expr,o.errors);return{type:oe.If.Transition,matchers:x,animation:d,queryCount:o.queryCount,depCount:o.depCount,options:wr(E.options)}}visitSequence(E,o){return{type:oe.If.Sequence,steps:E.steps.map(d=>ls(this,d,o)),options:wr(E.options)}}visitGroup(E,o){const d=o.currentTime;let x=0;const ee=E.steps.map(Se=>{o.currentTime=d;const Ae=ls(this,Se,o);return x=Math.max(x,o.currentTime),Ae});return o.currentTime=x,{type:oe.If.Group,steps:ee,options:wr(E.options)}}visitAnimate(E,o){const d=function io(u,E){if(u.hasOwnProperty("duration"))return u;if("number"==typeof u)return wo(ai(u,E).duration,0,"");const o=u;if(o.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=wo(0,0,"");return ee.dynamic=!0,ee.strValue=o,ee}const x=ai(o,E);return wo(x.duration,x.delay,x.easing)}(E.timings,o.errors);o.currentAnimateTimings=d;let x,ee=E.styles?E.styles:(0,oe.iF)({});if(ee.type==oe.If.Keyframes)x=this.visitKeyframes(ee,o);else{let Se=E.styles,Ae=!1;if(!Se){Ae=!0;const jt={};d.easing&&(jt.easing=d.easing),Se=(0,oe.iF)(jt)}o.currentTime+=d.duration+d.delay;const ft=this.visitStyle(Se,o);ft.isEmptyStep=Ae,x=ft}return o.currentAnimateTimings=null,{type:oe.If.Animate,timings:d,style:x,options:null}}visitStyle(E,o){const d=this._makeStyleAst(E,o);return this._validateStyleAst(d,o),d}_makeStyleAst(E,o){const d=[],x=Array.isArray(E.styles)?E.styles:[E.styles];for(let Ae of x)"string"==typeof Ae?Ae===oe.kp?d.push(Ae):o.errors.push(new e.wOt(3002,!1)):d.push(new Map(Object.entries(Ae)));let ee=!1,Se=null;return d.forEach(Ae=>{if(Ae instanceof Map&&(Ae.has("easing")&&(Se=Ae.get("easing"),Ae.delete("easing")),!ee))for(let ft of Ae.values())if(ft.toString().indexOf("{{")>=0){ee=!0;break}}),{type:oe.If.Style,styles:d,easing:Se,offset:E.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(E,o){const d=o.currentAnimateTimings;let x=o.currentTime,ee=o.currentTime;d&&ee>0&&(ee-=d.duration+d.delay),E.styles.forEach(Se=>{"string"!=typeof Se&&Se.forEach((Ae,ft)=>{const jt=o.collectedStyles.get(o.currentQuerySelector),_n=jt.get(ft);let dn=!0;_n&&(ee!=x&&ee>=_n.startTime&&x<=_n.endTime&&(o.errors.push(function it(u,E,o,d,x){return new e.wOt(3010,!1)}()),dn=!1),ee=_n.startTime),dn&&jt.set(ft,{startTime:ee,endTime:x}),o.options&&function Ct(u,E,o){const d=E.params||{},x=sn(u);x.length&&x.forEach(ee=>{d.hasOwnProperty(ee)||o.push(function Ee(u){return new e.wOt(3001,!1)}())})}(Ae,o.options,o.errors)})})}visitKeyframes(E,o){const d={type:oe.If.Keyframes,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push(function Ge(){return new e.wOt(3011,!1)}()),d;let ee=0;const Se=[];let Ae=!1,ft=!1,jt=0;const _n=E.steps.map(ji=>{const pi=this._makeStyleAst(ji,o);let yr=null!=pi.offset?pi.offset:function fo(u){if("string"==typeof u)return null;let E=null;if(Array.isArray(u))u.forEach(o=>{if(o instanceof Map&&o.has("offset")){const d=o;E=parseFloat(d.get("offset")),d.delete("offset")}});else if(u instanceof Map&&u.has("offset")){const o=u;E=parseFloat(o.get("offset")),o.delete("offset")}return E}(pi.styles),Yr=0;return null!=yr&&(ee++,Yr=pi.offset=yr),ft=ft||Yr<0||Yr>1,Ae=Ae||Yr<jt,jt=Yr,Se.push(Yr),pi});ft&&o.errors.push(function gt(){return new e.wOt(3012,!1)}()),Ae&&o.errors.push(function Pe(){return new e.wOt(3200,!1)}());const dn=E.steps.length;let ss=0;ee>0&&ee<dn?o.errors.push(function we(){return new e.wOt(3202,!1)}()):0==ee&&(ss=1/(dn-1));const _s=dn-1,Bn=o.currentTime,qn=o.currentAnimateTimings,Xs=qn.duration;return _n.forEach((ji,pi)=>{const yr=ss>0?pi==_s?1:ss*pi:Se[pi],Yr=yr*Xs;o.currentTime=Bn+qn.delay+Yr,qn.duration=Yr,this._validateStyleAst(ji,o),ji.offset=yr,d.styles.push(ji)}),d}visitReference(E,o){return{type:oe.If.Reference,animation:ls(this,ht(E.animation),o),options:wr(E.options)}}visitAnimateChild(E,o){return o.depCount++,{type:oe.If.AnimateChild,options:wr(E.options)}}visitAnimateRef(E,o){return{type:oe.If.AnimateRef,animation:this.visitReference(E.animation,o),options:wr(E.options)}}visitQuery(E,o){const d=o.currentQuerySelector,x=E.options||{};o.queryCount++,o.currentQuery=E;const[ee,Se]=function ar(u){const E=!!u.split(/\s*,\s*/).find(o=>":self"==o);return E&&(u=u.replace($n,"")),u=u.replace(/@\*/g,os).replace(/@\w+/g,o=>os+"-"+o.slice(1)).replace(/:animating/g,pn),[u,E]}(E.selector);o.currentQuerySelector=d.length?d+" "+ee:ee,je(o.collectedStyles,o.currentQuerySelector,new Map);const Ae=ls(this,ht(E.animation),o);return o.currentQuery=null,o.currentQuerySelector=d,{type:oe.If.Query,selector:ee,limit:x.limit||0,optional:!!x.optional,includeSelf:Se,animation:Ae,originalSelector:E.selector,options:wr(E.options)}}visitStagger(E,o){o.currentQuery||o.errors.push(function vt(){return new e.wOt(3013,!1)}());const d="full"===E.timings?{duration:0,delay:0,easing:"full"}:ai(E.timings,o.errors,!0);return{type:oe.If.Stagger,animation:ls(this,ht(E.animation),o),timings:d,options:null}}}class Fi{constructor(E){this.errors=E,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wr(u){return u?(u={...u}).params&&(u.params=function fi(u){return u?{...u}:null}(u.params)):u={},u}function wo(u,E,o){return{duration:u,delay:E,easing:o}}function mo(u,E,o,d,x,ee,Se=null,Ae=!1){return{type:1,element:u,keyframes:E,preStyleProps:o,postStyleProps:d,duration:x,delay:ee,totalTime:x+ee,easing:Se,subTimeline:Ae}}class kr{constructor(){this._map=new Map}get(E){return this._map.get(E)||[]}append(E,o){let d=this._map.get(E);d||this._map.set(E,d=[]),d.push(...o)}has(E){return this._map.has(E)}clear(){this._map.clear()}}const Bo=new RegExp(":enter","g"),Xr=new RegExp(":leave","g");function Fs(u,E,o,d,x,ee=new Map,Se=new Map,Ae,ft,jt=[]){return(new ro).buildKeyframes(u,E,o,d,x,ee,Se,Ae,ft,jt)}class ro{buildKeyframes(E,o,d,x,ee,Se,Ae,ft,jt,_n=[]){jt=jt||new kr;const dn=new Or(E,o,jt,x,ee,_n,[]);dn.options=ft;const ss=ft.delay?Zn(ft.delay):0;dn.currentTimeline.delayNextStep(ss),dn.currentTimeline.setStyles([Se],null,dn.errors,ft),ls(this,d,dn);const _s=dn.timelines.filter(Bn=>Bn.containsAnimation());if(_s.length&&Ae.size){let Bn;for(let qn=_s.length-1;qn>=0;qn--){const Xs=_s[qn];if(Xs.element===o){Bn=Xs;break}}Bn&&!Bn.allowOnlyTimelineStyles()&&Bn.setStyles([Ae],null,dn.errors,ft)}return _s.length?_s.map(Bn=>Bn.buildKeyframes()):[mo(o,[],[],[],0,ss,"",!1)]}visitTrigger(E,o){}visitState(E,o){}visitTransition(E,o){}visitAnimateChild(E,o){const d=o.subInstructions.get(o.element);if(d){const x=o.createSubContext(E.options),ee=o.currentTimeline.currentTime,Se=this._visitSubInstructions(d,x,x.options);ee!=Se&&o.transformIntoNewTimeline(Se)}o.previousNode=E}visitAnimateRef(E,o){const d=o.createSubContext(E.options);d.transformIntoNewTimeline(),this._applyAnimationRefDelays([E.options,E.animation.options],o,d),this.visitReference(E.animation,d),o.transformIntoNewTimeline(d.currentTimeline.currentTime),o.previousNode=E}_applyAnimationRefDelays(E,o,d){for(const x of E){const ee=x?.delay;if(ee){const Se="number"==typeof ee?ee:Zn(Tn(ee,x?.params??{},o.errors));d.delayNextStep(Se)}}}_visitSubInstructions(E,o,d){let ee=o.currentTimeline.currentTime;const Se=null!=d.duration?Zn(d.duration):null,Ae=null!=d.delay?Zn(d.delay):null;return 0!==Se&&E.forEach(ft=>{const jt=o.appendInstructionToTimeline(ft,Se,Ae);ee=Math.max(ee,jt.duration+jt.delay)}),ee}visitReference(E,o){o.updateOptions(E.options,!0),ls(this,E.animation,o),o.previousNode=E}visitSequence(E,o){const d=o.subContextCount;let x=o;const ee=E.options;if(ee&&(ee.params||ee.delay)&&(x=o.createSubContext(ee),x.transformIntoNewTimeline(),null!=ee.delay)){x.previousNode.type==oe.If.Style&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=Uo);const Se=Zn(ee.delay);x.delayNextStep(Se)}E.steps.length&&(E.steps.forEach(Se=>ls(this,Se,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>d&&x.transformIntoNewTimeline()),o.previousNode=E}visitGroup(E,o){const d=[];let x=o.currentTimeline.currentTime;const ee=E.options&&E.options.delay?Zn(E.options.delay):0;E.steps.forEach(Se=>{const Ae=o.createSubContext(E.options);ee&&Ae.delayNextStep(ee),ls(this,Se,Ae),x=Math.max(x,Ae.currentTimeline.currentTime),d.push(Ae.currentTimeline)}),d.forEach(Se=>o.currentTimeline.mergeTimelineCollectedStyles(Se)),o.transformIntoNewTimeline(x),o.previousNode=E}_visitTiming(E,o){if(E.dynamic){const d=E.strValue;return ai(o.params?Tn(d,o.params,o.errors):d,o.errors)}return{duration:E.duration,delay:E.delay,easing:E.easing}}visitAnimate(E,o){const d=o.currentAnimateTimings=this._visitTiming(E.timings,o),x=o.currentTimeline;d.delay&&(o.incrementTime(d.delay),x.snapshotCurrentStyles());const ee=E.style;ee.type==oe.If.Keyframes?this.visitKeyframes(ee,o):(o.incrementTime(d.duration),this.visitStyle(ee,o),x.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=E}visitStyle(E,o){const d=o.currentTimeline,x=o.currentAnimateTimings;!x&&d.hasCurrentStyleProperties()&&d.forwardFrame();const ee=x&&x.easing||E.easing;E.isEmptyStep?d.applyEmptyStep(ee):d.setStyles(E.styles,ee,o.errors,o.options),o.previousNode=E}visitKeyframes(E,o){const d=o.currentAnimateTimings,x=o.currentTimeline.duration,ee=d.duration,Ae=o.createSubContext().currentTimeline;Ae.easing=d.easing,E.styles.forEach(ft=>{Ae.forwardTime((ft.offset||0)*ee),Ae.setStyles(ft.styles,ft.easing,o.errors,o.options),Ae.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(Ae),o.transformIntoNewTimeline(x+ee),o.previousNode=E}visitQuery(E,o){const d=o.currentTimeline.currentTime,x=E.options||{},ee=x.delay?Zn(x.delay):0;ee&&(o.previousNode.type===oe.If.Style||0==d&&o.currentTimeline.hasCurrentStyleProperties())&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Uo);let Se=d;const Ae=o.invokeQuery(E.selector,E.originalSelector,E.limit,E.includeSelf,!!x.optional,o.errors);o.currentQueryTotal=Ae.length;let ft=null;Ae.forEach((jt,_n)=>{o.currentQueryIndex=_n;const dn=o.createSubContext(E.options,jt);ee&&dn.delayNextStep(ee),jt===o.element&&(ft=dn.currentTimeline),ls(this,E.animation,dn),dn.currentTimeline.applyStylesToKeyframe(),Se=Math.max(Se,dn.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(Se),ft&&(o.currentTimeline.mergeTimelineCollectedStyles(ft),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=E}visitStagger(E,o){const d=o.parentContext,x=o.currentTimeline,ee=E.timings,Se=Math.abs(ee.duration),Ae=Se*(o.currentQueryTotal-1);let ft=Se*o.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":ft=Ae-ft;break;case"full":ft=d.currentStaggerTime}const _n=o.currentTimeline;ft&&_n.delayNextStep(ft);const dn=_n.currentTime;ls(this,E.animation,o),o.previousNode=E,d.currentStaggerTime=x.currentTime-dn+(x.startTime-d.currentTimeline.startTime)}}const Uo={};class Or{constructor(E,o,d,x,ee,Se,Ae,ft){this._driver=E,this.element=o,this.subInstructions=d,this._enterClassName=x,this._leaveClassName=ee,this.errors=Se,this.timelines=Ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ft||new _o(this._driver,o,0),Ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(E,o){if(!E)return;const d=E;let x=this.options;null!=d.duration&&(x.duration=Zn(d.duration)),null!=d.delay&&(x.delay=Zn(d.delay));const ee=d.params;if(ee){let Se=x.params;Se||(Se=this.options.params={}),Object.keys(ee).forEach(Ae=>{(!o||!Se.hasOwnProperty(Ae))&&(Se[Ae]=Tn(ee[Ae],Se,this.errors))})}}_copyOptions(){const E={};if(this.options){const o=this.options.params;if(o){const d=E.params={};Object.keys(o).forEach(x=>{d[x]=o[x]})}}return E}createSubContext(E=null,o,d){const x=o||this.element,ee=new Or(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,d||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(E),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(E){return this.previousNode=Uo,this.currentTimeline=this.currentTimeline.fork(this.element,E),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(E,o,d){const x={duration:o??E.duration,delay:this.currentTimeline.currentTime+(d??0)+E.delay,easing:""},ee=new Yo(this._driver,E.element,E.keyframes,E.preStyleProps,E.postStyleProps,x,E.stretchStartingKeyframe);return this.timelines.push(ee),x}incrementTime(E){this.currentTimeline.forwardTime(this.currentTimeline.duration+E)}delayNextStep(E){E>0&&this.currentTimeline.delayNextStep(E)}invokeQuery(E,o,d,x,ee,Se){let Ae=[];if(x&&Ae.push(this.element),E.length>0){E=(E=E.replace(Bo,"."+this._enterClassName)).replace(Xr,"."+this._leaveClassName);let jt=this._driver.query(this.element,E,1!=d);0!==d&&(jt=d<0?jt.slice(jt.length+d,jt.length):jt.slice(0,d)),Ae.push(...jt)}return!ee&&0==Ae.length&&Se.push(function at(u){return new e.wOt(3014,!1)}()),Ae}}class _o{constructor(E,o,d,x){this._driver=E,this.element=o,this.startTime=d,this._elementTimelineStylesLookup=x,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(E){const o=1===this._keyframes.size&&this._pendingStyles.size;this.duration||o?(this.forwardTime(this.currentTime+E),o&&this.snapshotCurrentStyles()):this.startTime+=E}fork(E,o){return this.applyStylesToKeyframe(),new _o(this._driver,E,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(E){this.applyStylesToKeyframe(),this.duration=E,this._loadKeyframe()}_updateStyle(E,o){this._localTimelineStyles.set(E,o),this._globalTimelineStyles.set(E,o),this._styleSummary.set(E,{time:this.currentTime,value:o})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(E){E&&this._previousKeyframe.set("easing",E);for(let[o,d]of this._globalTimelineStyles)this._backFill.set(o,d||oe.kp),this._currentKeyframe.set(o,oe.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(E,o,d,x){o&&this._previousKeyframe.set("easing",o);const ee=x&&x.params||{},Se=function Jr(u,E){const o=new Map;let d;return u.forEach(x=>{if("*"===x){d??=E.keys();for(let ee of d)o.set(ee,oe.kp)}else for(let[ee,Se]of x)o.set(ee,Se)}),o}(E,this._globalTimelineStyles);for(let[Ae,ft]of Se){const jt=Tn(ft,ee,d);this._pendingStyles.set(Ae,jt),this._localTimelineStyles.has(Ae)||this._backFill.set(Ae,this._globalTimelineStyles.get(Ae)??oe.kp),this._updateStyle(Ae,jt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((E,o)=>{this._currentKeyframe.set(o,E)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((E,o)=>{this._currentKeyframe.has(o)||this._currentKeyframe.set(o,E)}))}snapshotCurrentStyles(){for(let[E,o]of this._localTimelineStyles)this._pendingStyles.set(E,o),this._updateStyle(E,o)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const E=[];for(let o in this._currentKeyframe)E.push(o);return E}mergeTimelineCollectedStyles(E){E._styleSummary.forEach((o,d)=>{const x=this._styleSummary.get(d);(!x||o.time>x.time)&&this._updateStyle(d,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const E=new Set,o=new Set,d=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((Ae,ft)=>{const jt=new Map([...this._backFill,...Ae]);jt.forEach((_n,dn)=>{_n===oe.FX?E.add(dn):_n===oe.kp&&o.add(dn)}),d||jt.set("offset",ft/this.duration),x.push(jt)});const ee=[...E.values()],Se=[...o.values()];if(d){const Ae=x[0],ft=new Map(Ae);Ae.set("offset",0),ft.set("offset",1),x=[Ae,ft]}return mo(this.element,x,ee,Se,this.duration,this.startTime,this.easing,!1)}}class Yo extends _o{constructor(E,o,d,x,ee,Se,Ae=!1){super(E,o,Se.delay),this.keyframes=d,this.preStyleProps=x,this.postStyleProps=ee,this._stretchStartingKeyframe=Ae,this.timings={duration:Se.duration,delay:Se.delay,easing:Se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let E=this.keyframes,{delay:o,duration:d,easing:x}=this.timings;if(this._stretchStartingKeyframe&&o){const ee=[],Se=d+o,Ae=o/Se,ft=new Map(E[0]);ft.set("offset",0),ee.push(ft);const jt=new Map(E[0]);jt.set("offset",To(Ae)),ee.push(jt);const _n=E.length-1;for(let dn=1;dn<=_n;dn++){let ss=new Map(E[dn]);const _s=ss.get("offset");ss.set("offset",To((o+_s*d)/Se)),ee.push(ss)}d=Se,o=0,x="",E=ee}return mo(this.element,E,this.preStyleProps,this.postStyleProps,d,o,x,!0)}}function To(u,E=3){const o=Math.pow(10,E-1);return Math.round(u*o)/o}function Do(u,E,o,d,x,ee,Se,Ae,ft,jt,_n,dn,ss){return{type:0,element:u,triggerName:E,isRemovalTransition:x,fromState:o,fromStyles:ee,toState:d,toStyles:Se,timelines:Ae,queriedElements:ft,preStyleProps:jt,postStyleProps:_n,totalTime:dn,errors:ss}}const Xo={};class ba{constructor(E,o,d){this._triggerName=E,this.ast=o,this._stateStyles=d}match(E,o,d,x){return function Ze(u,E,o,d,x){return u.some(ee=>ee(E,o,d,x))}(this.ast.matchers,E,o,d,x)}buildStyles(E,o,d){let x=this._stateStyles.get("*");return void 0!==E&&(x=this._stateStyles.get(E?.toString())||x),x?x.buildStyles(o,d):new Map}build(E,o,d,x,ee,Se,Ae,ft,jt,_n){const dn=[],ss=this.ast.options&&this.ast.options.params||Xo,Bn=this.buildStyles(d,Ae&&Ae.params||Xo,dn),qn=ft&&ft.params||Xo,Xs=this.buildStyles(x,qn,dn),ji=new Set,pi=new Map,yr=new Map,Yr="void"===x,bc={params:ot(qn,ss),delay:this.ast.options?.delay},$l=_n?[]:Fs(E,o,this.ast.animation,ee,Se,Bn,Xs,bc,jt,dn);let la=0;return $l.forEach(Ca=>{la=Math.max(Ca.duration+Ca.delay,la)}),dn.length?Do(o,this._triggerName,d,x,Yr,Bn,Xs,[],[],pi,yr,la,dn):($l.forEach(Ca=>{const cd=Ca.element,uh=je(pi,cd,new Set);Ca.preStyleProps.forEach(dd=>uh.add(dd));const Db=je(yr,cd,new Set);Ca.postStyleProps.forEach(dd=>Db.add(dd)),cd!==o&&ji.add(cd)}),Do(o,this._triggerName,d,x,Yr,Bn,Xs,$l,[...ji.values()],pi,yr,la))}}function ot(u,E){const o={...E};return Object.entries(u).forEach(([d,x])=>{null!=x&&(o[d]=x)}),o}class Ft{constructor(E,o,d){this.styles=E,this.defaultParams=o,this.normalizer=d}buildStyles(E,o){const d=new Map,x=ot(E,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Se,Ae)=>{Se&&(Se=Tn(Se,x,o));const ft=this.normalizer.normalizePropertyName(Ae,o);Se=this.normalizer.normalizeStyleValue(Ae,ft,Se,o),d.set(Ae,Se)})}),d}}class Dn{constructor(E,o,d){this.name=E,this.ast=o,this._normalizer=d,this.transitionFactories=[],this.states=new Map,o.states.forEach(x=>{this.states.set(x.name,new Ft(x.style,x.options&&x.options.params||{},d))}),Es(this.states,"true","1"),Es(this.states,"false","0"),o.transitions.forEach(x=>{this.transitionFactories.push(new ba(E,x,this.states))}),this.fallbackTransition=function Qn(u,E,o){return new ba(u,{type:oe.If.Transition,animation:{type:oe.If.Sequence,steps:[],options:null},matchers:[(Se,Ae)=>!0],options:null,queryCount:0,depCount:0},E)}(E,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(E,o,d,x){return this.transitionFactories.find(Se=>Se.match(E,o,d,x))||null}matchStyles(E,o,d){return this.fallbackTransition.buildStyles(E,o,d)}}function Es(u,E,o){u.has(E)?u.has(o)||u.set(o,u.get(E)):u.has(o)&&u.set(E,u.get(o))}const $s=new kr;class Cs{constructor(E,o,d){this.bodyNode=E,this._driver=o,this._normalizer=d,this._animations=new Map,this._playersById=new Map,this.players=[]}register(E,o){const d=[],ee=vs(this._driver,o,d,[]);if(d.length)throw function nn(u){return new e.wOt(3503,!1)}();this._animations.set(E,ee)}_buildPlayer(E,o,d){const x=E.element,ee=Dt(this._normalizer,E.keyframes,o,d);return this._driver.animate(x,ee,E.duration,E.delay,E.easing,[],!0)}create(E,o,d={}){const x=[],ee=this._animations.get(E);let Se;const Ae=new Map;if(ee?(Se=Fs(this._driver,o,ee,Qs,gs,new Map,new Map,d,$s,x),Se.forEach(_n=>{const dn=je(Ae,_n.element,new Map);_n.postStyleProps.forEach(ss=>dn.set(ss,null))})):(x.push(function Mn(){return new e.wOt(3300,!1)}()),Se=[]),x.length)throw function Tt(u){return new e.wOt(3504,!1)}();Ae.forEach((_n,dn)=>{_n.forEach((ss,_s)=>{_n.set(_s,this._driver.computeStyle(dn,_s,oe.kp))})});const jt=Zt(Se.map(_n=>{const dn=Ae.get(_n.element);return this._buildPlayer(_n,new Map,dn)}));return this._playersById.set(E,jt),jt.onDestroy(()=>this.destroy(E)),this.players.push(jt),jt}destroy(E){const o=this._getPlayer(E);o.destroy(),this._playersById.delete(E);const d=this.players.indexOf(o);d>=0&&this.players.splice(d,1)}_getPlayer(E){const o=this._playersById.get(E);if(!o)throw function $t(u){return new e.wOt(3301,!1)}();return o}listen(E,o,d,x){const ee=Le(o,"","","");return Lt(this._getPlayer(E),d,ee,x),()=>{}}command(E,o,d,x){if("register"==d)return void this.register(E,x[0]);if("create"==d)return void this.create(E,o,x[0]||{});const ee=this._getPlayer(E);switch(d){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(E)}}}const di="ng-animate-queued",ui="ng-animate-disabled",Er=[],qi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class Vr{get params(){return this.options.params}constructor(E,o=""){this.namespaceId=o;const d=E&&E.hasOwnProperty("value");if(this.value=function ke(u){return u??null}(d?E.value:E),d){const{value:ee,...Se}=E;this.options=Se}else this.options={};this.options.params||(this.options.params={})}absorbOptions(E){const o=E.params;if(o){const d=this.options.params;Object.keys(o).forEach(x=>{null==d[x]&&(d[x]=o[x])})}}}const cr="void",_r=new Vr(cr);class Jo{constructor(E,o,d){this.id=E,this.hostElement=o,this._engine=d,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+E,Yt(o,this._hostClassName)}listen(E,o,d,x){if(!this._triggers.has(o))throw function St(u,E){return new e.wOt(3302,!1)}();if(null==d||0==d.length)throw function Jt(u){return new e.wOt(3303,!1)}();if(!function se(u){return"start"==u||"done"==u}(d))throw function ln(u,E){return new e.wOt(3400,!1)}();const ee=je(this._elementListeners,E,[]),Se={name:o,phase:d,callback:x};ee.push(Se);const Ae=je(this._engine.statesByElement,E,new Map);return Ae.has(o)||(Yt(E,Is),Yt(E,Is+"-"+o),Ae.set(o,_r)),()=>{this._engine.afterFlush(()=>{const ft=ee.indexOf(Se);ft>=0&&ee.splice(ft,1),this._triggers.has(o)||Ae.delete(o)})}}register(E,o){return!this._triggers.has(E)&&(this._triggers.set(E,o),!0)}_getTrigger(E){const o=this._triggers.get(E);if(!o)throw function It(u){return new e.wOt(3401,!1)}();return o}trigger(E,o,d,x=!0){const ee=this._getTrigger(o),Se=new Gr(this.id,o,E);let Ae=this._engine.statesByElement.get(E);Ae||(Yt(E,Is),Yt(E,Is+"-"+o),this._engine.statesByElement.set(E,Ae=new Map));let ft=Ae.get(o);const jt=new Vr(d,this.id);if(!(d&&d.hasOwnProperty("value"))&&ft&&jt.absorbOptions(ft.options),Ae.set(o,jt),ft||(ft=_r),jt.value!==cr&&ft.value===jt.value){if(!function Yi(u,E){const o=Object.keys(u),d=Object.keys(E);if(o.length!=d.length)return!1;for(let x=0;x<o.length;x++){const ee=o[x];if(!E.hasOwnProperty(ee)||u[ee]!==E[ee])return!1}return!0}(ft.params,jt.params)){const qn=[],Xs=ee.matchStyles(ft.value,ft.params,qn),ji=ee.matchStyles(jt.value,jt.params,qn);qn.length?this._engine.reportError(qn):this._engine.afterFlush(()=>{rt(E,Xs),en(E,ji)})}return}const ss=je(this._engine.playersByElement,E,[]);ss.forEach(qn=>{qn.namespaceId==this.id&&qn.triggerName==o&&qn.queued&&qn.destroy()});let _s=ee.matchTransition(ft.value,jt.value,E,jt.params),Bn=!1;if(!_s){if(!x)return;_s=ee.fallbackTransition,Bn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:o,transition:_s,fromState:ft,toState:jt,player:Se,isFallbackTransition:Bn}),Bn||(Yt(E,di),Se.onStart(()=>{En(E,di)})),Se.onDone(()=>{let qn=this.players.indexOf(Se);qn>=0&&this.players.splice(qn,1);const Xs=this._engine.playersByElement.get(E);if(Xs){let ji=Xs.indexOf(Se);ji>=0&&Xs.splice(ji,1)}}),this.players.push(Se),ss.push(Se),Se}deregister(E){this._triggers.delete(E),this._engine.statesByElement.forEach(o=>o.delete(E)),this._elementListeners.forEach((o,d)=>{this._elementListeners.set(d,o.filter(x=>x.name!=E))})}clearElementCache(E){this._engine.statesByElement.delete(E),this._elementListeners.delete(E);const o=this._engine.playersByElement.get(E);o&&(o.forEach(d=>d.destroy()),this._engine.playersByElement.delete(E))}_signalRemovalForInnerTriggers(E,o){const d=this._engine.driver.query(E,os,!0);d.forEach(x=>{if(x[er])return;const ee=this._engine.fetchNamespacesByElement(x);ee.size?ee.forEach(Se=>Se.triggerLeaveAnimation(x,o,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>d.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(E,o,d,x){const ee=this._engine.statesByElement.get(E),Se=new Map;if(ee){const Ae=[];if(ee.forEach((ft,jt)=>{if(Se.set(jt,ft.value),this._triggers.has(jt)){const _n=this.trigger(E,jt,cr,x);_n&&Ae.push(_n)}}),Ae.length)return this._engine.markElementAsRemoved(this.id,E,!0,o,Se),d&&Zt(Ae).onDone(()=>this._engine.processLeaveNode(E)),!0}return!1}prepareLeaveAnimationListeners(E){const o=this._elementListeners.get(E),d=this._engine.statesByElement.get(E);if(o&&d){const x=new Set;o.forEach(ee=>{const Se=ee.name;if(x.has(Se))return;x.add(Se);const ft=this._triggers.get(Se).fallbackTransition,jt=d.get(Se)||_r,_n=new Vr(cr),dn=new Gr(this.id,Se,E);this._engine.totalQueuedPlayers++,this._queue.push({element:E,triggerName:Se,transition:ft,fromState:jt,toState:_n,player:dn,isFallbackTransition:!0})})}}removeNode(E,o){const d=this._engine;if(E.childElementCount&&this._signalRemovalForInnerTriggers(E,o),this.triggerLeaveAnimation(E,o,!0))return;let x=!1;if(d.totalAnimations){const ee=d.players.length?d.playersByQueriedElement.get(E):[];if(ee&&ee.length)x=!0;else{let Se=E;for(;Se=Se.parentNode;)if(d.statesByElement.get(Se)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(E),x)d.markElementAsRemoved(this.id,E,!1,o);else{const ee=E[er];(!ee||ee===qi)&&(d.afterFlush(()=>this.clearElementCache(E)),d.destroyInnerAnimations(E),d._onRemovalComplete(E,o))}}insertNode(E,o){Yt(E,this._hostClassName)}drainQueuedTransitions(E){const o=[];return this._queue.forEach(d=>{const x=d.player;if(x.destroyed)return;const ee=d.element,Se=this._elementListeners.get(ee);Se&&Se.forEach(Ae=>{if(Ae.name==d.triggerName){const ft=Le(ee,d.triggerName,d.fromState.value,d.toState.value);ft._data=E,Lt(d.player,Ae.phase,ft,Ae.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):o.push(d)}),this._queue=[],o.sort((d,x)=>{const ee=d.transition.ast.depCount,Se=x.transition.ast.depCount;return 0==ee||0==Se?ee-Se:this._engine.driver.containsElement(d.element,x.element)?1:-1})}destroy(E){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,E)}}class fr{_onRemovalComplete(E,o){this.onRemovalComplete(E,o)}constructor(E,o,d,x){this.bodyNode=E,this.driver=o,this._normalizer=d,this.scheduler=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ee,Se)=>{}}get queuedPlayers(){const E=[];return this._namespaceList.forEach(o=>{o.players.forEach(d=>{d.queued&&E.push(d)})}),E}createNamespace(E,o){const d=new Jo(E,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(d,o):(this.newHostElements.set(o,d),this.collectEnterElement(o)),this._namespaceLookup[E]=d}_balanceNamespaceList(E,o){const d=this._namespaceList,x=this.namespacesByHostElement;if(d.length-1>=0){let Se=!1,Ae=this.driver.getParentElement(o);for(;Ae;){const ft=x.get(Ae);if(ft){const jt=d.indexOf(ft);d.splice(jt+1,0,E),Se=!0;break}Ae=this.driver.getParentElement(Ae)}Se||d.unshift(E)}else d.push(E);return x.set(o,E),E}register(E,o){let d=this._namespaceLookup[E];return d||(d=this.createNamespace(E,o)),d}registerTrigger(E,o,d){let x=this._namespaceLookup[E];x&&x.register(o,d)&&this.totalAnimations++}destroy(E,o){E&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const d=this._fetchNamespace(E);this.namespacesByHostElement.delete(d.hostElement);const x=this._namespaceList.indexOf(d);x>=0&&this._namespaceList.splice(x,1),d.destroy(o),delete this._namespaceLookup[E]}))}_fetchNamespace(E){return this._namespaceLookup[E]}fetchNamespacesByElement(E){const o=new Set,d=this.statesByElement.get(E);if(d)for(let x of d.values())if(x.namespaceId){const ee=this._fetchNamespace(x.namespaceId);ee&&o.add(ee)}return o}trigger(E,o,d,x){if(ze(o)){const ee=this._fetchNamespace(E);if(ee)return ee.trigger(o,d,x),!0}return!1}insertNode(E,o,d,x){if(!ze(o))return;const ee=o[er];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Se=this.collectedLeaveElements.indexOf(o);Se>=0&&this.collectedLeaveElements.splice(Se,1)}if(E){const Se=this._fetchNamespace(E);Se&&Se.insertNode(o,d)}x&&this.collectEnterElement(o)}collectEnterElement(E){this.collectedEnterElements.push(E)}markElementAsDisabled(E,o){o?this.disabledNodes.has(E)||(this.disabledNodes.add(E),Yt(E,ui)):this.disabledNodes.has(E)&&(this.disabledNodes.delete(E),En(E,ui))}removeNode(E,o,d){if(ze(o)){this.scheduler?.notify();const x=E?this._fetchNamespace(E):null;x?x.removeNode(o,d):this.markElementAsRemoved(E,o,!1,d);const ee=this.namespacesByHostElement.get(o);ee&&ee.id!==E&&ee.removeNode(o,d)}else this._onRemovalComplete(o,d)}markElementAsRemoved(E,o,d,x,ee){this.collectedLeaveElements.push(o),o[er]={namespaceId:E,setForRemoval:x,hasAnimation:d,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(E,o,d,x,ee){return ze(o)?this._fetchNamespace(E).listen(o,d,x,ee):()=>{}}_buildInstruction(E,o,d,x,ee){return E.transition.build(this.driver,E.element,E.fromState.value,E.toState.value,d,x,E.fromState.options,E.toState.options,o,ee)}destroyInnerAnimations(E){let o=this.driver.query(E,os,!0);o.forEach(d=>this.destroyActiveAnimationsForElement(d)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(E,pn,!0),o.forEach(d=>this.finishActiveQueriedAnimationOnElement(d)))}destroyActiveAnimationsForElement(E){const o=this.playersByElement.get(E);o&&o.forEach(d=>{d.queued?d.markedForDestroy=!0:d.destroy()})}finishActiveQueriedAnimationOnElement(E){const o=this.playersByQueriedElement.get(E);o&&o.forEach(d=>d.finish())}whenRenderingDone(){return new Promise(E=>{if(this.players.length)return Zt(this.players).onDone(()=>E());E()})}processLeaveNode(E){const o=E[er];if(o&&o.setForRemoval){if(E[er]=qi,o.namespaceId){this.destroyInnerAnimations(E);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(E)}this._onRemovalComplete(E,o.setForRemoval)}E.classList?.contains(ui)&&this.markElementAsDisabled(E,!1),this.driver.query(E,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(E=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((d,x)=>this._balanceNamespaceList(d,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let d=0;d<this.collectedEnterElements.length;d++)Yt(this.collectedEnterElements[d],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const d=[];try{o=this._flushAnimations(d,E)}finally{for(let x=0;x<d.length;x++)d[x]()}}else for(let d=0;d<this.collectedLeaveElements.length;d++)this.processLeaveNode(this.collectedLeaveElements[d]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(d=>d()),this._flushFns=[],this._whenQuietFns.length){const d=this._whenQuietFns;this._whenQuietFns=[],o.length?Zt(o).onDone(()=>{d.forEach(x=>x())}):d.forEach(x=>x())}}reportError(E){throw function zt(u){return new e.wOt(3402,!1)}()}_flushAnimations(E,o){const d=new kr,x=[],ee=new Map,Se=[],Ae=new Map,ft=new Map,jt=new Map,_n=new Set;this.disabledNodes.forEach(Ns=>{_n.add(Ns);const Js=this.driver.query(Ns,".ng-animate-queued",!0);for(let ri=0;ri<Js.length;ri++)_n.add(Js[ri])});const dn=this.bodyNode,ss=Array.from(this.statesByElement.keys()),_s=bt(ss,this.collectedEnterElements),Bn=new Map;let qn=0;_s.forEach((Ns,Js)=>{const ri=Qs+qn++;Bn.set(Js,ri),Ns.forEach(rr=>Yt(rr,ri))});const Xs=[],ji=new Set,pi=new Set;for(let Ns=0;Ns<this.collectedLeaveElements.length;Ns++){const Js=this.collectedLeaveElements[Ns],ri=Js[er];ri&&ri.setForRemoval&&(Xs.push(Js),ji.add(Js),ri.hasAnimation?this.driver.query(Js,".ng-star-inserted",!0).forEach(rr=>ji.add(rr)):pi.add(Js))}const yr=new Map,Yr=bt(ss,Array.from(ji));Yr.forEach((Ns,Js)=>{const ri=gs+qn++;yr.set(Js,ri),Ns.forEach(rr=>Yt(rr,ri))}),E.push(()=>{_s.forEach((Ns,Js)=>{const ri=Bn.get(Js);Ns.forEach(rr=>En(rr,ri))}),Yr.forEach((Ns,Js)=>{const ri=yr.get(Js);Ns.forEach(rr=>En(rr,ri))}),Xs.forEach(Ns=>{this.processLeaveNode(Ns)})});const bc=[],$l=[];for(let Ns=this._namespaceList.length-1;Ns>=0;Ns--)this._namespaceList[Ns].drainQueuedTransitions(o).forEach(ri=>{const rr=ri.player,Ho=ri.element;if(bc.push(rr),this.collectedEnterElements.length){const Ao=Ho[er];if(Ao&&Ao.setForMove){if(Ao.previousTriggersValues&&Ao.previousTriggersValues.has(ri.triggerName)){const ud=Ao.previousTriggersValues.get(ri.triggerName),Cl=this.statesByElement.get(ri.element);if(Cl&&Cl.has(ri.triggerName)){const ng=Cl.get(ri.triggerName);ng.value=ud,Cl.set(ri.triggerName,ng)}}return void rr.destroy()}}const Tc=!dn||!this.driver.containsElement(dn,Ho),tl=yr.get(Ho),eu=Bn.get(Ho),Oi=this._buildInstruction(ri,d,eu,tl,Tc);if(Oi.errors&&Oi.errors.length)return void $l.push(Oi);if(Tc)return rr.onStart(()=>rt(Ho,Oi.fromStyles)),rr.onDestroy(()=>en(Ho,Oi.toStyles)),void x.push(rr);if(ri.isFallbackTransition)return rr.onStart(()=>rt(Ho,Oi.fromStyles)),rr.onDestroy(()=>en(Ho,Oi.toStyles)),void x.push(rr);const hh=[];Oi.timelines.forEach(Ao=>{Ao.stretchStartingKeyframe=!0,this.disabledNodes.has(Ao.element)||hh.push(Ao)}),Oi.timelines=hh,d.append(Ho,Oi.timelines),Se.push({instruction:Oi,player:rr,element:Ho}),Oi.queriedElements.forEach(Ao=>je(Ae,Ao,[]).push(rr)),Oi.preStyleProps.forEach((Ao,ud)=>{if(Ao.size){let Cl=ft.get(ud);Cl||ft.set(ud,Cl=new Set),Ao.forEach((ng,Ob)=>Cl.add(Ob))}}),Oi.postStyleProps.forEach((Ao,ud)=>{let Cl=jt.get(ud);Cl||jt.set(ud,Cl=new Set),Ao.forEach((ng,Ob)=>Cl.add(Ob))})});if($l.length){const Ns=[];$l.forEach(Js=>{Ns.push(function At(u,E){return new e.wOt(3505,!1)}())}),bc.forEach(Js=>Js.destroy()),this.reportError(Ns)}const la=new Map,Ca=new Map;Se.forEach(Ns=>{const Js=Ns.element;d.has(Js)&&(Ca.set(Js,Js),this._beforeAnimationBuild(Ns.player.namespaceId,Ns.instruction,la))}),x.forEach(Ns=>{const Js=Ns.element;this._getPreviousPlayers(Js,!1,Ns.namespaceId,Ns.triggerName,null).forEach(rr=>{je(la,Js,[]).push(rr),rr.destroy()})});const cd=Xs.filter(Ns=>Gi(Ns,ft,jt)),uh=new Map;me(uh,this.driver,pi,jt,oe.kp).forEach(Ns=>{Gi(Ns,ft,jt)&&cd.push(Ns)});const dd=new Map;_s.forEach((Ns,Js)=>{me(dd,this.driver,new Set(Ns),ft,oe.FX)}),cd.forEach(Ns=>{const Js=uh.get(Ns),ri=dd.get(Ns);uh.set(Ns,new Map([...Js?.entries()??[],...ri?.entries()??[]]))});const Gp=[],zP=[],Wv={};Se.forEach(Ns=>{const{element:Js,player:ri,instruction:rr}=Ns;if(d.has(Js)){if(_n.has(Js))return ri.onDestroy(()=>en(Js,rr.toStyles)),ri.disabled=!0,ri.overrideTotalTime(rr.totalTime),void x.push(ri);let Ho=Wv;if(Ca.size>1){let tl=Js;const eu=[];for(;tl=tl.parentNode;){const Oi=Ca.get(tl);if(Oi){Ho=Oi;break}eu.push(tl)}eu.forEach(Oi=>Ca.set(Oi,Ho))}const Tc=this._buildAnimation(ri.namespaceId,rr,la,ee,dd,uh);if(ri.setRealPlayer(Tc),Ho===Wv)Gp.push(ri);else{const tl=this.playersByElement.get(Ho);tl&&tl.length&&(ri.parentPlayer=Zt(tl)),x.push(ri)}}else rt(Js,rr.fromStyles),ri.onDestroy(()=>en(Js,rr.toStyles)),zP.push(ri),_n.has(Js)&&x.push(ri)}),zP.forEach(Ns=>{const Js=ee.get(Ns.element);if(Js&&Js.length){const ri=Zt(Js);Ns.setRealPlayer(ri)}}),x.forEach(Ns=>{Ns.parentPlayer?Ns.syncPlayerEvents(Ns.parentPlayer):Ns.destroy()});for(let Ns=0;Ns<Xs.length;Ns++){const Js=Xs[Ns],ri=Js[er];if(En(Js,gs),ri&&ri.hasAnimation)continue;let rr=[];if(Ae.size){let Tc=Ae.get(Js);Tc&&Tc.length&&rr.push(...Tc);let tl=this.driver.query(Js,pn,!0);for(let eu=0;eu<tl.length;eu++){let Oi=Ae.get(tl[eu]);Oi&&Oi.length&&rr.push(...Oi)}}const Ho=rr.filter(Tc=>!Tc.destroyed);Ho.length?Yn(this,Js,Ho):this.processLeaveNode(Js)}return Xs.length=0,Gp.forEach(Ns=>{this.players.push(Ns),Ns.onDone(()=>{Ns.destroy();const Js=this.players.indexOf(Ns);this.players.splice(Js,1)}),Ns.play()}),Gp}afterFlush(E){this._flushFns.push(E)}afterFlushAnimationsDone(E){this._whenQuietFns.push(E)}_getPreviousPlayers(E,o,d,x,ee){let Se=[];if(o){const Ae=this.playersByQueriedElement.get(E);Ae&&(Se=Ae)}else{const Ae=this.playersByElement.get(E);if(Ae){const ft=!ee||ee==cr;Ae.forEach(jt=>{jt.queued||!ft&&jt.triggerName!=x||Se.push(jt)})}}return(d||x)&&(Se=Se.filter(Ae=>!(d&&d!=Ae.namespaceId||x&&x!=Ae.triggerName))),Se}_beforeAnimationBuild(E,o,d){const ee=o.element,Se=o.isRemovalTransition?void 0:E,Ae=o.isRemovalTransition?void 0:o.triggerName;for(const ft of o.timelines){const jt=ft.element,_n=jt!==ee,dn=je(d,jt,[]);this._getPreviousPlayers(jt,_n,Se,Ae,o.toState).forEach(_s=>{const Bn=_s.getRealPlayer();Bn.beforeDestroy&&Bn.beforeDestroy(),_s.destroy(),dn.push(_s)})}rt(ee,o.fromStyles)}_buildAnimation(E,o,d,x,ee,Se){const Ae=o.triggerName,ft=o.element,jt=[],_n=new Set,dn=new Set,ss=o.timelines.map(Bn=>{const qn=Bn.element;_n.add(qn);const Xs=qn[er];if(Xs&&Xs.removedBeforeQueried)return new oe.sf(Bn.duration,Bn.delay);const ji=qn!==ft,pi=function cs(u){const E=[];return xs(u,E),E}((d.get(qn)||Er).map(la=>la.getRealPlayer())).filter(la=>!!la.element&&la.element===qn),yr=ee.get(qn),Yr=Se.get(qn),bc=Dt(this._normalizer,Bn.keyframes,yr,Yr),$l=this._buildPlayer(Bn,bc,pi);if(Bn.subTimeline&&x&&dn.add(qn),ji){const la=new Gr(E,Ae,qn);la.setRealPlayer($l),jt.push(la)}return $l});jt.forEach(Bn=>{je(this.playersByQueriedElement,Bn.element,[]).push(Bn),Bn.onDone(()=>function ca(u,E,o){let d=u.get(E);if(d){if(d.length){const x=d.indexOf(o);d.splice(x,1)}0==d.length&&u.delete(E)}return d}(this.playersByQueriedElement,Bn.element,Bn))}),_n.forEach(Bn=>Yt(Bn,rn));const _s=Zt(ss);return _s.onDestroy(()=>{_n.forEach(Bn=>En(Bn,rn)),en(ft,o.toStyles)}),dn.forEach(Bn=>{je(x,Bn,[]).push(_s)}),_s}_buildPlayer(E,o,d){return o.length>0?this.driver.animate(E.element,o,E.duration,E.delay,E.easing,d):new oe.sf(E.duration,E.delay)}}class Gr{constructor(E,o,d){this.namespaceId=E,this.triggerName=o,this.element=d,this._player=new oe.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(E){this._containsRealPlayer||(this._player=E,this._queuedCallbacks.forEach((o,d)=>{o.forEach(x=>Lt(E,d,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(E.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(E){this.totalTime=E}syncPlayerEvents(E){const o=this._player;o.triggerCallback&&E.onStart(()=>o.triggerCallback("start")),E.onDone(()=>this.finish()),E.onDestroy(()=>this.destroy())}_queueEvent(E,o){je(this._queuedCallbacks,E,[]).push(o)}onDone(E){this.queued&&this._queueEvent("done",E),this._player.onDone(E)}onStart(E){this.queued&&this._queueEvent("start",E),this._player.onStart(E)}onDestroy(E){this.queued&&this._queueEvent("destroy",E),this._player.onDestroy(E)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(E){this.queued||this._player.setPosition(E)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(E){const o=this._player;o.triggerCallback&&o.triggerCallback(E)}}function ze(u){return u&&1===u.nodeType}function Ve(u,E){const o=u.style.display;return u.style.display=E??"none",o}function me(u,E,o,d,x){const ee=[];o.forEach(ft=>ee.push(Ve(ft)));const Se=[];d.forEach((ft,jt)=>{const _n=new Map;ft.forEach(dn=>{const ss=E.computeStyle(jt,dn,x);_n.set(dn,ss),(!ss||0==ss.length)&&(jt[er]=Ks,Se.push(jt))}),u.set(jt,_n)});let Ae=0;return o.forEach(ft=>Ve(ft,ee[Ae++])),Se}function bt(u,E){const o=new Map;if(u.forEach(Ae=>o.set(Ae,[])),0==E.length)return o;const x=new Set(E),ee=new Map;function Se(Ae){if(!Ae)return 1;let ft=ee.get(Ae);if(ft)return ft;const jt=Ae.parentNode;return ft=o.has(jt)?jt:x.has(jt)?1:Se(jt),ee.set(Ae,ft),ft}return E.forEach(Ae=>{const ft=Se(Ae);1!==ft&&o.get(ft).push(Ae)}),o}function Yt(u,E){u.classList?.add(E)}function En(u,E){u.classList?.remove(E)}function Yn(u,E,o){Zt(o).onDone(()=>u.processLeaveNode(E))}function xs(u,E){for(let o=0;o<u.length;o++){const d=u[o];d instanceof oe.ui?xs(d.players,E):E.push(d)}}function Gi(u,E,o){const d=o.get(u);if(!d)return!1;let x=E.get(u);return x?d.forEach(ee=>x.add(ee)):E.set(u,d),o.delete(u),!0}class xr{constructor(E,o,d,x){this._driver=o,this._normalizer=d,this._triggerCache={},this.onRemovalComplete=(ee,Se)=>{},this._transitionEngine=new fr(E.body,o,d,x),this._timelineEngine=new Cs(E.body,o,d),this._transitionEngine.onRemovalComplete=(ee,Se)=>this.onRemovalComplete(ee,Se)}registerTrigger(E,o,d,x,ee){const Se=E+"-"+x;let Ae=this._triggerCache[Se];if(!Ae){const ft=[],_n=vs(this._driver,ee,ft,[]);if(ft.length)throw function ut(u,E){return new e.wOt(3404,!1)}();Ae=function Ut(u,E,o){return new Dn(u,E,o)}(x,_n,this._normalizer),this._triggerCache[Se]=Ae}this._transitionEngine.registerTrigger(o,x,Ae)}register(E,o){this._transitionEngine.register(E,o)}destroy(E,o){this._transitionEngine.destroy(E,o)}onInsert(E,o,d,x){this._transitionEngine.insertNode(E,o,d,x)}onRemove(E,o,d){this._transitionEngine.removeNode(E,o,d)}disableAnimations(E,o){this._transitionEngine.markElementAsDisabled(E,o)}process(E,o,d,x){if("@"==d.charAt(0)){const[ee,Se]=He(d);this._timelineEngine.command(ee,o,Se,x)}else this._transitionEngine.trigger(E,o,d,x)}listen(E,o,d,x,ee){if("@"==d.charAt(0)){const[Se,Ae]=He(d);return this._timelineEngine.listen(Se,o,Ae,ee)}return this._transitionEngine.listen(E,o,d,x,ee)}flush(E=-1){this._transitionEngine.flush(E)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(E){this._transitionEngine.afterFlushAnimationsDone(E)}}class Qo{static{this.initialStylesByElement=new WeakMap}constructor(E,o,d){this._element=E,this._startStyles=o,this._endStyles=d,this._state=0;let x=Qo.initialStylesByElement.get(E);x||Qo.initialStylesByElement.set(E,x=new Map),this._initialStyles=x}start(){this._state<1&&(this._startStyles&&en(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(en(this._element,this._initialStyles),this._endStyles&&(en(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qo.initialStylesByElement.delete(this._element),this._startStyles&&(rt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(rt(this._element,this._endStyles),this._endStyles=null),en(this._element,this._initialStyles),this._state=3)}}function xo(u){let E=null;return u.forEach((o,d)=>{(function Oo(u){return"display"===u||"position"===u})(d)&&(E=E||new Map,E.set(d,o))}),E}class Mo{constructor(E,o,d,x){this.element=E,this.keyframes=o,this.options=d,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=d.duration,this._delay=d.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(E=>E()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const E=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,E,this.options),this._finalKeyframe=E.length?E[E.length-1]:new Map;const o=()=>this._onFinish();this.domPlayer.addEventListener("finish",o),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",o)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(E){const o=[];return E.forEach(d=>{o.push(Object.fromEntries(d))}),o}_triggerWebAnimation(E,o,d){return E.animate(this._convertKeyframesToObject(o),d)}onStart(E){this._originalOnStartFns.push(E),this._onStartFns.push(E)}onDone(E){this._originalOnDoneFns.push(E),this._onDoneFns.push(E)}onDestroy(E){this._onDestroyFns.push(E)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(E=>E()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(E=>E()),this._onDestroyFns=[])}setPosition(E){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=E*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const E=new Map;this.hasStarted()&&this._finalKeyframe.forEach((d,x)=>{"offset"!==x&&E.set(x,this._finished?d:Ds(this.element,x))}),this.currentSnapshot=E}triggerCallback(E){const o="start"===E?this._onStartFns:this._onDoneFns;o.forEach(d=>d()),o.length=0}}class sl{validateStyleProperty(E){return!0}validateAnimatableStyleProperty(E){return!0}matchesElement(E,o){return!1}containsElement(E,o){return ns(E,o)}getParentElement(E){return Pt(E)}query(E,o,d){return hs(E,o,d)}computeStyle(E,o,d){return Ds(E,o)}animate(E,o,d,x,ee,Se=[]){const ft={duration:d,delay:x,fill:0==x?"both":"forwards"};ee&&(ft.easing=ee);const jt=new Map,_n=Se.filter(_s=>_s instanceof Mo);(function Os(u,E){return 0===u||0===E})(d,x)&&_n.forEach(_s=>{_s.currentSnapshot.forEach((Bn,qn)=>jt.set(qn,Bn))});let dn=function Gt(u){return u.length?u[0]instanceof Map?u:u.map(E=>new Map(Object.entries(E))):[]}(o).map(_s=>new Map(_s));dn=function ys(u,E,o){if(o.size&&E.length){let d=E[0],x=[];if(o.forEach((ee,Se)=>{d.has(Se)||x.push(Se),d.set(Se,ee)}),x.length)for(let ee=1;ee<E.length;ee++){let Se=E[ee];x.forEach(Ae=>Se.set(Ae,Ds(u,Ae)))}}return E}(E,dn,jt);const ss=function Ci(u,E){let o=null,d=null;return Array.isArray(E)&&E.length?(o=xo(E[0]),E.length>1&&(d=xo(E[E.length-1]))):E instanceof Map&&(o=xo(E)),o||d?new Qo(u,o,d):null}(E,dn);return new Mo(E,dn,ft,ss)}}const Zo="@.disabled";class ko{constructor(E,o,d,x){this.namespaceId=E,this.delegate=o,this.engine=d,this._onDestroy=x,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(E){this.delegate.destroyNode?.(E)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(E,o){return this.delegate.createElement(E,o)}createComment(E){return this.delegate.createComment(E)}createText(E){return this.delegate.createText(E)}appendChild(E,o){this.delegate.appendChild(E,o),this.engine.onInsert(this.namespaceId,o,E,!1)}insertBefore(E,o,d,x=!0){this.delegate.insertBefore(E,o,d),this.engine.onInsert(this.namespaceId,o,E,x)}removeChild(E,o,d){this.engine.onRemove(this.namespaceId,o,this.delegate)}selectRootElement(E,o){return this.delegate.selectRootElement(E,o)}parentNode(E){return this.delegate.parentNode(E)}nextSibling(E){return this.delegate.nextSibling(E)}setAttribute(E,o,d,x){this.delegate.setAttribute(E,o,d,x)}removeAttribute(E,o,d){this.delegate.removeAttribute(E,o,d)}addClass(E,o){this.delegate.addClass(E,o)}removeClass(E,o){this.delegate.removeClass(E,o)}setStyle(E,o,d,x){this.delegate.setStyle(E,o,d,x)}removeStyle(E,o,d){this.delegate.removeStyle(E,o,d)}setProperty(E,o,d){"@"==o.charAt(0)&&o==Zo?this.disableAnimations(E,!!d):this.delegate.setProperty(E,o,d)}setValue(E,o){this.delegate.setValue(E,o)}listen(E,o,d){return this.delegate.listen(E,o,d)}disableAnimations(E,o){this.engine.disableAnimations(E,o)}}class da extends ko{constructor(E,o,d,x,ee){super(o,d,x,ee),this.factory=E,this.namespaceId=o}setProperty(E,o,d){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Zo?this.disableAnimations(E,d=void 0===d||!!d):this.engine.process(this.namespaceId,E,o.slice(1),d):this.delegate.setProperty(E,o,d)}listen(E,o,d){if("@"==o.charAt(0)){const x=function Ua(u){switch(u){case"body":return document.body;case"document":return document;case"window":return window;default:return u}}(E);let ee=o.slice(1),Se="";return"@"!=ee.charAt(0)&&([ee,Se]=function Ta(u){const E=u.indexOf(".");return[u.substring(0,E),u.slice(E+1)]}(ee)),this.engine.listen(this.namespaceId,x,ee,Se,Ae=>{this.factory.scheduleListenerCallback(Ae._data||-1,d,Ae)})}return this.delegate.listen(E,o,d)}}class si{constructor(E,o,d){this.delegate=E,this.engine=o,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(x,ee)=>{const Se=ee?.parentNode(x);Se&&ee.removeChild(Se,x)}}createRenderer(E,o){const x=this.delegate.createRenderer(E,o);if(!E||!o?.data?.animation){const jt=this._rendererCache;let _n=jt.get(x);return _n||(_n=new ko("",x,this.engine,()=>jt.delete(x)),jt.set(x,_n)),_n}const ee=o.id,Se=o.id+"-"+this._currentId;this._currentId++,this.engine.register(Se,E);const Ae=jt=>{Array.isArray(jt)?jt.forEach(Ae):this.engine.registerTrigger(ee,Se,E,jt.name,jt)};return o.data.animation.forEach(Ae),new da(this,Se,x,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(E,o,d){if(E>=0&&E<this._microtaskId)return void this._zone.run(()=>o(d));const x=this._animationCallbacksBuffer;0==x.length&&queueMicrotask(()=>{this._zone.run(()=>{x.forEach(ee=>{const[Se,Ae]=ee;Se(Ae)}),this._animationCallbacksBuffer=[]})}),x.push([o,d])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let tr=(()=>{class u extends xr{constructor(o,d,x){super(o,d,x,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(p.qQ),e.KVO(ct),e.KVO(Xt))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();const fs=[{provide:Xt,useFactory:function mr(){return new ki}},{provide:xr,useClass:tr},{provide:e._9s,useFactory:function vo(u,E,o){return new si(u,E,o)},deps:[f.B7,xr,e.SKi]}],ua=[{provide:ct,useFactory:()=>new sl},{provide:e.bc$,useValue:"BrowserAnimations"},...fs];var bs=n(7673),Go=n(70274),Tl=n(57786),Lr=n(71985),qo=n(21413),rl=n(73557),Io=n(983),ea=n(18810),$o=n(98071);class Qr{constructor(E,o,d){this.kind=E,this.value=o,this.error=d,this.hasValue="N"===E}observe(E){return ta(this,E)}do(E,o,d){const{kind:x,value:ee,error:Se}=this;return"N"===x?E?.(ee):"E"===x?o?.(Se):d?.()}accept(E,o,d){var x;return(0,$o.T)(null===(x=E)||void 0===x?void 0:x.next)?this.observe(E):this.do(E,o,d)}toObservable(){const{kind:E,value:o,error:d}=this,x="N"===E?(0,bs.of)(o):"E"===E?(0,ea.$)(()=>d):"C"===E?Io.w:0;if(!x)throw new TypeError(`Unexpected notification kind ${E}`);return x}static createNext(E){return new Qr("N",E)}static createError(E){return new Qr("E",void 0,E)}static createComplete(){return Qr.completeNotification}}function ta(u,E){var o,d,x;const{kind:ee,value:Se,error:Ae}=u;if("string"!=typeof ee)throw new TypeError('Invalid notification, missing "kind"');"N"===ee?null===(o=E.next)||void 0===o||o.call(E,Se):"E"===ee?null===(d=E.error)||void 0===d||d.call(E,Ae):null===(x=E.complete)||void 0===x||x.call(E)}Qr.completeNotification=new Qr("C");var na=n(39974),Vt=n(54360),Rt=n(96354),In=n(99437),Fn=n(5964),es=n(58750);function Bs(u,E,o,d){return(0,na.N)((x,ee)=>{let Se;E&&"function"!=typeof E?({duration:o,element:Se,connector:d}=E):Se=E;const Ae=new Map,ft=Bn=>{Ae.forEach(Bn),Bn(ee)},jt=Bn=>ft(qn=>qn.error(Bn));let _n=0,dn=!1;const ss=new Vt.H(ee,Bn=>{try{const qn=u(Bn);let Xs=Ae.get(qn);if(!Xs){Ae.set(qn,Xs=d?d():new qo.B);const ji=function _s(Bn,qn){const Xs=new Lr.c(ji=>{_n++;const pi=qn.subscribe(ji);return()=>{pi.unsubscribe(),0==--_n&&dn&&ss.unsubscribe()}});return Xs.key=Bn,Xs}(qn,Xs);if(ee.next(ji),o){const pi=(0,Vt._)(Xs,()=>{Xs.complete(),pi?.unsubscribe()},void 0,void 0,()=>Ae.delete(qn));ss.add((0,es.Tg)(o(ji)).subscribe(pi))}}Xs.next(Se?Se(Bn):Bn)}catch(qn){jt(qn)}},()=>ft(Bn=>Bn.complete()),jt,()=>Ae.clear(),()=>(dn=!0,0===_n));x.subscribe(ss)})}var zn=n(73028);function yi(u,E){return E?o=>o.pipe(yi((d,x)=>(0,es.Tg)(u(d,x)).pipe((0,Rt.T)((ee,Se)=>E(d,ee,x,Se))))):(0,na.N)((o,d)=>{let x=0,ee=null,Se=!1;o.subscribe((0,Vt._)(d,Ae=>{ee||(ee=(0,Vt._)(d,void 0,()=>{ee=null,Se&&d.complete()}),(0,es.Tg)(u(Ae,x++)).subscribe(ee))},()=>{Se=!0,!ee&&d.complete()}))})}const nr={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Bi="__@ngrx/effects_create__";function xn(u,E={}){const o=E.functional?u:u(),d={...nr,...E};return Object.defineProperty(o,Bi,{value:d}),o}function Xe(u){return Object.getPrototypeOf(u)}function Ye(u){return"function"==typeof u}function xt(u){return u.filter(Ye)}function wn(u,E,o){const d=Xe(u),ee=d&&"Object"!==d.constructor.name?d.constructor.name:null,Se=function fe(u){return function sr(u){return Object.getOwnPropertyNames(u).filter(d=>!(!u[d]||!u[d].hasOwnProperty(Bi))&&u[d][Bi].hasOwnProperty("dispatch")).map(d=>({propertyName:d,...u[d][Bi]}))}(u)}(u).map(({propertyName:Ae,dispatch:ft,useEffectsErrorHandler:jt})=>{const _n="function"==typeof u[Ae]?u[Ae]():u[Ae],dn=jt?o(_n,E):_n;return!1===ft?dn.pipe((0,rl.w)()):dn.pipe(function an(){return(0,na.N)((u,E)=>{u.subscribe((0,Vt._)(E,o=>{E.next(Qr.createNext(o))},()=>{E.next(Qr.createComplete()),E.complete()},o=>{E.next(Qr.createError(o)),E.complete()}))})}()).pipe((0,Rt.T)(_s=>({effect:u[Ae],notification:_s,propertyName:Ae,sourceName:ee,sourceInstance:u})))});return(0,Tl.h)(...Se)}function Us(u,E,o=10){return u.pipe((0,In.W)(d=>(E&&E.handleError(d),o<=1?u:Us(u,E,o-1))))}let As=(()=>{class u extends Lr.c{constructor(o){super(),o&&(this.source=o)}lift(o){const d=new u;return d.source=this,d.operator=o,d}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(v.sA))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function Gn(...u){return(0,Fn.p)(E=>u.some(o=>"string"==typeof o?o===E.type:o.type===E.type))}const ei=new e.nKC("@ngrx/effects Internal Root Guard"),Li=new e.nKC("@ngrx/effects User Provided Effects"),Ii=new e.nKC("@ngrx/effects Internal Root Effects"),dr=new e.nKC("@ngrx/effects Internal Root Effects Instances"),Zr=new e.nKC("@ngrx/effects Internal Feature Effects"),gi=new e.nKC("@ngrx/effects Internal Feature Effects Instance Groups"),Kn=new e.nKC("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Us}),Ts="@ngrx/effects/init";(0,v.VP)(Ts);function Oa(u){return oo(u,"ngrxOnInitEffects")}function oo(u,E){return u&&E in u&&"function"==typeof u[E]}let ur=(()=>{class u extends qo.B{constructor(o,d){super(),this.errorHandler=o,this.effectsErrorHandler=d}addEffects(o){this.next(o)}toActions(){return this.pipe(Bs(o=>function Re(u){return!!u.constructor&&"Object"!==u.constructor.name&&"Function"!==u.constructor.name}(o)?Xe(o):o),(0,zn.Z)(o=>o.pipe(Bs(al))),(0,zn.Z)(o=>{const d=o.pipe(yi(ee=>function ll(u,E){return o=>{const d=wn(o,u,E);return function Hs(u){return oo(u,"ngrxOnRunEffects")}(o)?o.ngrxOnRunEffects(d):d}}(this.errorHandler,this.effectsErrorHandler)(ee)),(0,Rt.T)(ee=>(function Cr(u,E){if("N"===u.notification.kind){const o=u.notification.value;!function vr(u){return"function"!=typeof u&&u&&u.type&&"string"==typeof u.type}(o)&&E.handleError(new Error(`Effect ${function Nr({propertyName:u,sourceInstance:E,sourceName:o}){const d="function"==typeof E[u];return o?`"${o}.${String(u)}${d?"()":""}"`:`"${String(u)}()"`}(u)} dispatched an invalid action: ${function Ir(u){try{return JSON.stringify(u)}catch{return u}}(o)}`))}}(ee,this.errorHandler),ee.notification)),(0,Fn.p)(ee=>"N"===ee.kind&&null!=ee.value),function xi(){return(0,na.N)((u,E)=>{u.subscribe((0,Vt._)(E,o=>ta(o,E)))})}()),x=o.pipe((0,D.s)(1),(0,Fn.p)(Oa),(0,Rt.T)(ee=>ee.ngrxOnInitEffects()));return(0,Tl.h)(d,x)}))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(e.zcH),e.KVO(Kn))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function al(u){return function Xi(u){return oo(u,"ngrxOnIdentifyEffects")}(u)?u.ngrxOnIdentifyEffects():""}let br=(()=>{class u{get isStarted(){return!!this.effectsSubscription}constructor(o,d){this.effectSources=o,this.store=d,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(ur),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Sr=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft){this.sources=o,d.start();for(const jt of ee)o.addEffects(jt);x.dispatch({type:Ts})}addEffects(o){this.sources.addEffects(o)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(ur),e.KVO(br),e.KVO(v.il),e.KVO(dr),e.KVO(v.wc,8),e.KVO(v.ae,8),e.KVO(ei,8))}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({})}}return u})(),hd=(()=>{class u{constructor(o,d,x,ee){const Se=d.flat();for(const Ae of Se)o.addEffects(Ae)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Sr),e.KVO(gi),e.KVO(v.wc,8),e.KVO(v.ae,8))}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({})}}return u})(),sa=(()=>{class u{static forFeature(...o){const d=o.flat(),x=xt(d);return{ngModule:hd,providers:[x,{provide:Zr,multi:!0,useValue:d},{provide:Li,multi:!0,useValue:[]},{provide:gi,multi:!0,useFactory:Dl,deps:[Zr,Li]}]}}static forRoot(...o){const d=o.flat(),x=xt(d);return{ngModule:Sr,providers:[x,{provide:Ii,useValue:[d]},{provide:ei,useFactory:Ka},{provide:Li,multi:!0,useValue:[]},{provide:dr,useFactory:Dl,deps:[Ii,Li]}]}}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({})}}return u})();function Dl(u,E){const o=[];for(const d of u)o.push(...d);for(const d of E)o.push(...d);return o.map(d=>function vn(u){return u instanceof e.nKC||Ye(u)}(d)?(0,e.WQX)(d):d)}function Ka(){const u=(0,e.WQX)(br,{optional:!0,skipSelf:!0}),E=(0,e.WQX)(Ii,{self:!0});if((1!==E.length||0!==E[0].length)&&u)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Eo=n(97324),Ss=n(1473),ia=n(20766),Ji=n(53588),Hl=n(85188),ti=n(82640),Ma=n(43832),Lo=n(9901),Ha=n(99452),qr=n(61242),Ml=n(87832),Il=n(46754),ja=n(73308),cl=n(74920),ce=n(1748);const Te=["*"];function he(u,E){}let Oe=(()=>{class u extends M.J{getComponentName(){return"ForbiddenComponent"}importThemedComponent(o){return n(30130)(`./${o}/app/forbidden/forbidden.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1748))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-forbidden"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Te,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,he,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var Ke=n(20968),pt=n(34912),Me=n(95960),_e=n(78221),le=n(77529),Ie=n(2670);const et=["*"];function wt(u,E){}let un=(()=>{class u extends M.J{getComponentName(){return"PageErrorComponent"}importThemedComponent(o){return n(18400)(`./${o}/app/page-error/page-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,2670))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-page-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:et,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,wt,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var On=n(82290);const Xn=["*"];function ds(u,E){}let _i=(()=>{class u extends M.J{getComponentName(){return"PageInternalServerErrorComponent"}importThemedComponent(o){return n(46544)(`./${o}/app/page-internal-server-error/page-internal-server-error.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,82290))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-page-internal-server-error"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Xn,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,ds,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var Wi=n(53830);const _a=["*"];function za(u,E){}let Ia=(()=>{class u extends M.J{getComponentName(){return"PageNotFoundComponent"}importThemedComponent(o){return n(94826)(`./${o}/app/pagenotfound/pagenotfound.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,53830))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-pagenotfound"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_a,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,za,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();n(55709),n(25871);const Dc=[p.MD,X.UN],Oc=[];let nu=(()=>{class u{static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({providers:[...Oc],imports:[Dc,L.RootComponent,$,pt.HeaderComponent,Me.q,_e.HeaderNavbarWrapperComponent,le.h,Ma.AdminSidebarComponent,qr.u,Lo.g,Ha.W,ja.FooterComponent,cl.C,Wi.PageNotFoundComponent,Ia,Ml.BreadcrumbsComponent,Il.B,ce.ForbiddenComponent,Oe,q,_i,On.PageInternalServerErrorComponent,un,Ie.PageErrorComponent,Ke.Y]})}}return u})();var su=n(3018),ph=n(47435);var Ya=n(89768);const fd=[];let Wp=(()=>{class u{static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({providers:[...fd.map(o=>({provide:o}))],imports:[p.MD,nu,su.HeaderComponent,ph.HeaderNavbarWrapperComponent,Ya.NavbarComponent]})}}return u})(),og=(()=>{class u{static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({imports:[Wp]})}}return u})();var Vs=n(25558),ir=n(61594),Yl=n(54476),Sl=n(39548),Qi=n(19340),fh=n(43323);let ru=(()=>{class u{constructor(o,d){this.actions$=o,this.menuService=d,this.menuID=Qi.D.PUBLIC,this.resize$=xn(()=>this.actions$.pipe(Gn(j.O.RESIZE),(0,Rt.T)(()=>new Yl.F$(this.menuID)))),this.routeChange$=xn(()=>this.actions$.pipe(Gn(ia.hr),(0,Rt.T)(()=>new Yl.F$(this.menuID)))),this.openAdminSidebar$=xn(()=>this.actions$.pipe(Gn(Yl.jZ.EXPAND_MENU_PREVIEW),(0,Vs.n)(x=>this.menuService.getMenu(x.menuID).pipe((0,ir.$)(),(0,Rt.T)(ee=>ee.id===Qi.D.ADMIN&&!ee.previewCollapsed&&ee.collapsed?new Yl.F$(Qi.D.PUBLIC):new fh.L)))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(Sl.$))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var ii=n(88141),Br=n(41684),Mc=n(78394),Xl=n(48833),Kp=n(38096),eo=n(32473),ao=n(98107),ws=n(80183),ou=n(49903),mi=n(93158),to=n(39806),Xa=n(13329),js=n(67600),Jl=n(59496),zs=function(u){return u[u.Add=0]="Add",u[u.Remove=1]="Remove",u}(zs||{});let Hp=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft,jt,_n,dn,ss){this.actions$=o,this.relationshipService=d,this.relationshipTypeService=x,this.submissionObjectService=ee,this.store=Se,this.objectCache=Ae,this.requestService=ft,this.notificationsService=jt,this.translateService=_n,this.selectableListService=dn,this.debounceTime=ss,this.requestQueue=new qo.B,this.debounceMap={},this.nameVariantUpdates={},this.initialActionMap={},this.mapLastActions$=xn(()=>this.actions$.pipe(Gn(Jl.oE.ADD_RELATIONSHIP,Jl.oE.REMOVE_RELATIONSHIP),(0,Rt.T)(_s=>{const{item1:Bn,item2:qn,submissionId:Xs,relationshipType:ji}=_s.payload,pi=this.createIdentifier(Bn,qn,ji);(0,V.Tn)(this.debounceMap[pi])?(this.initialActionMap[pi]=_s.type,this.debounceMap[pi]=new y.t(_s.type),this.debounceMap[pi].pipe(this.debounceTime(500),(0,D.s)(1)).subscribe(yr=>{if(this.initialActionMap[pi]===yr)if(yr===Jl.oE.ADD_RELATIONSHIP){let Yr=_s.payload.nameVariant;(0,V.a4)(this.nameVariantUpdates[pi])&&(Yr=this.nameVariantUpdates[pi],delete this.nameVariantUpdates[pi]),this.requestQueue.next({type:zs.Add,item1:Bn,item2:qn,relationshipType:ji,submissionId:Xs,nameVariant:Yr})}else this.requestQueue.next({type:zs.Remove,item1:Bn,item2:qn,relationshipType:ji,submissionId:Xs});delete this.debounceMap[pi],delete this.initialActionMap[pi]})):this.debounceMap[pi].next(_s.type)})),{dispatch:!1}),this.updateNameVariantsActions$=xn(()=>this.actions$.pipe(Gn(Jl.oE.UPDATE_NAME_VARIANT),(0,Rt.T)(_s=>{const{item1:Bn,item2:qn,relationshipType:Xs,submissionId:ji,nameVariant:pi}=_s.payload,yr=this.createIdentifier(Bn,qn,Xs);(0,V.a4)(this.debounceMap[yr])?this.nameVariantUpdates[yr]=pi:this.relationshipService.updateNameVariant(Bn,qn,Xs,pi).pipe((0,Fn.p)(bc=>(0,V.a4)(bc.payload)),(0,D.s)(1)).subscribe(bc=>{this.updateAfterPatchSubmissionId=ji,this.relationshipService.refreshRelationshipItemsInCache(Bn),this.relationshipService.refreshRelationshipItemsInCache(qn)})})),{dispatch:!1}),this.updateRelationshipActions$=xn(()=>this.actions$.pipe(Gn(Jl.oE.UPDATE_RELATIONSHIP),(0,Rt.T)(_s=>{this.updateAfterPatchSubmissionId=_s.payload.submissionId})),{dispatch:!1}),this.saveSubmissionSection=xn(()=>this.actions$.pipe(Gn(Mc.G9.EMPTY,ao.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Fn.p)(()=>(0,V.a4)(this.updateAfterPatchSubmissionId)),(0,Vs.n)(()=>this.refreshWorkspaceItemInCache(this.updateAfterPatchSubmissionId)),(0,Rt.T)(_s=>new mi.ky(this.updateAfterPatchSubmissionId,[_s],!1)))),this.executeRequestsInQueue()}executeRequestsInQueue(){this.requestQueue.pipe((0,Go.H)(o=>{switch(o.type){case zs.Add:return this.addRelationship(o.item1,o.item2,o.relationshipType,o.submissionId,o.nameVariant).pipe((0,Rt.T)(()=>o));case zs.Remove:return this.removeRelationship(o.item1,o.item2,o.relationshipType).pipe((0,Rt.T)(()=>o));default:return[o]}}),(0,Vs.n)(o=>this.refreshWorkspaceItemInCache(o.submissionId))).subscribe(o=>{this.store.dispatch(new mi.ky(o.id,[o],!1))})}createIdentifier(o,d,x){return`${o.uuid}-${d.uuid}-${x}`}addRelationship(o,d,x,ee,Se){const Ae=o.firstMetadataValue("dspace.entity.type"),ft=d.firstMetadataValue("dspace.entity.type");return this.relationshipTypeService.getRelationshipTypeByLabelAndTypes(x,Ae,ft).pipe((0,zn.Z)(jt=>null===jt?[null]:jt.rightwardType===x?this.relationshipService.addRelationship(jt.id,d,o,Se,void 0):this.relationshipService.addRelationship(jt.id,o,d,void 0,Se)),(0,D.s)(1),(0,ii.M)(jt=>{if((0,V.Tn)(jt)||jt.hasFailed){const _n=`list-${ee}-${x}`;let dn;this.selectableListService.findSelectedByCondition(_n,ss=>(0,V.a4)(ss.indexableObject)&&ss.indexableObject.uuid===d.uuid).pipe((0,D.s)(1),(0,V.Az)()).subscribe(ss=>{this.selectableListService.deselectSingle(_n,ss)}),dn=(0,V.Tn)(jt)?this.translateService.instant("relationships.add.error.relationship-type.content",{type:x}):this.translateService.instant("relationships.add.error.server.content"),this.notificationsService.error(this.translateService.instant("relationships.add.error.title"),dn)}}))}removeRelationship(o,d,x){return this.relationshipService.getRelationshipByItemsAndLabel(o,d,x).pipe((0,zn.Z)(ee=>this.relationshipService.deleteRelationship(ee.id,"none")),(0,D.s)(1))}refreshWorkspaceItemInCache(o){return this.submissionObjectService.findById(o,!1,!1,(0,js.s)("item")).pipe((0,ws.yd)(),(0,ws.Bo)())}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(Xl.RelationshipDataService),e.KVO(Kp.RelationshipTypeDataService),e.KVO(ou.$),e.KVO(v.il),e.KVO(Br.$),e.KVO(eo.B),e.KVO(to.I),e.KVO(G.c$),e.KVO(Xa.K),e.KVO(ws.f6))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),Hv=(()=>{class u{constructor(o,d){this.actions$=o,this.store=d}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();class mh{constructor(E){this.original=E}toString(){if((0,V.Im)(this.original))return"";{const E=this.original.indexOf("?");return E<0?this.original:this.original.substring(0,E)}}}var zv=n(52680);let Yv=(()=>{class u{constructor(o){this.actions$=o,this.routeChange$=xn(()=>this.actions$.pipe(Gn(ia.hr),(0,Fn.p)(d=>this.previousPath!==this.getBaseUrl(d)),(0,ii.M)(d=>{this.previousPath=this.getBaseUrl(d)}),(0,Rt.T)(()=>new zv.EI)))}getBaseUrl(o){return new mh(o.payload.routerState.url).toString()}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var zp=n(15314),md=n(10092);let Xv=(()=>{class u{constructor(o){this.actions$=o,this.initTheme$=xn(()=>this.actions$.pipe(Gn(Ts),(0,Rt.T)(()=>{const d=(0,Q.Nv)();return(0,V.a4)(d)?new zp.K(d.name):new zp.K(md.Q)})))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Ic=n(91e3);const Sa={REHYDRATE:(0,Ic.N)("dspace/ngrx/REHYDRATE"),REPLAY:(0,Ic.N)("dspace/ngrx/REPLAY")};class ag{constructor(E,o){this.type=E,this.payload=o}}const Sn=[(()=>{class u{constructor(o,d){this.actions=o,this.store=d,this.replay=xn(()=>this.actions.pipe(Gn(Sa.REPLAY),(0,Rt.T)(x=>(0,bs.of)({}))),{dispatch:!1}),this.resize=xn(()=>this.actions.pipe(Gn(Sa.REPLAY,Sa.REHYDRATE),(0,Rt.T)(()=>new j.l(window.innerWidth,window.innerHeight))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),ru,Hv,Yv,Xv,Hp];let bi=0;const hr=[function Yp(u){return(E,o)=>(bi++,console.log("@ngrx action",bi,o.type),console.log("state",JSON.stringify(E)),console.log("action",JSON.stringify(o)),console.log("------------------------------------"),u(E,o))}],gh=[function Xp(u){return(E,o)=>(o.type===Sa.REHYDRATE&&(E=Object.assign({},E,o.payload)),u(E,o))}];var dl=n(72352),ka=n(47483),Ur=n(69799),gd=n(64611),_h=n(54671),Ql=n(49347),Wo=n(36673),k=n(36329),de=n(3970),A=n(89673);const W=(0,A.L)(()=>(0,bs.of)(de._.EPersonRegistration));var be=n(17366),Fe=n(3636);const Kt=(0,be.e)(()=>{const u=(0,e.WQX)(Fe.GH);return R.c.info.enableEndUserAgreement?u.hasCurrentUserAcceptedAgreement(!0):(0,bs.of)(!0)}),An=(0,A.L)(()=>(0,bs.of)(de._.EPersonForgotPassword));var Un=n(29443),Ls=n(90887),us=n(84572),Ws=n(47677),pr=n(13275),Ki=n(37864),Tr=n(8917),Wr=n(65007),Pr=n(32736);n(10270);const Qp=["*"];function lo(u,E){}let Rl=(()=>{class u extends M.J{getComponentName(){return"CreateCollectionParentSelectorComponent"}importThemedComponent(o){return n(12706)(`./${o}/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,10270))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-create-collection-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Qp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,lo,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();n(76538);const Al=["*"];function AT(u,E){}let wT=(()=>{class u extends M.J{getComponentName(){return"CreateCommunityParentSelectorComponent"}importThemedComponent(o){return n(27122)(`./${o}/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,76538))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-create-community-parent-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Al,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,AT,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var xT=n(52798);n(73234);const Qv=["*"];function vh(u,E){}let wl=(()=>{class u extends M.J{getComponentName(){return"EditCollectionSelectorComponent"}importThemedComponent(o){return n(61130)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,73234))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-edit-collection-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Qv,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,vh,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();n(64990);const Zp=["*"];function qp(u,E){}let ef=(()=>{class u extends M.J{getComponentName(){return"EditCommunitySelectorComponent"}importThemedComponent(o){return n(11452)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,64990))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-edit-community-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Zp,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,qp,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();n(29380);const qv=["*"];function e0(u,E){}let NT=(()=>{class u extends M.J{getComponentName(){return"EditItemSelectorComponent"}importThemedComponent(o){return n(6122)(`./${o}/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,29380))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-edit-item-selector"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:qv,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,e0,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var Rs=n(96526),Zl=n(6041),yh=n(13864),Eh=n(1504),tf=n(73666),lg=n(9284),t0=n(43404),FT=n(73183),cg=n(54705);function dg(u,E){if(1&u&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let Ch=(()=>{class u extends cg.${constructor(o,d,x,ee,Se,Ae,ft,jt,_n){super(o,d),this.activeModal=o,this.route=d,this.router=x,this.notificationsService=ee,this.translationService=Se,this.scriptDataService=Ae,this.authorizationDataService=ft,this.dsoNameService=jt,this.modalService=_n,this.objectType=yh.W.DSPACEOBJECT,this.selectorTypes=[yh.W.COLLECTION],this.action=cg.u.EXPORT_BATCH}navigate(o){if(o instanceof Zl.p){const d=this.modalService.open(lg.M);d.componentInstance.name=this.dsoNameService.getName(o),d.componentInstance.headerLabel="confirmation-modal.export-batch.header",d.componentInstance.infoLabel="confirmation-modal.export-batch.info",d.componentInstance.cancelLabel="confirmation-modal.export-batch.cancel",d.componentInstance.confirmLabel="confirmation-modal.export-batch.confirm",d.componentInstance.confirmIcon="fas fa-file-export";const x=d.componentInstance.response.pipe((0,Vs.n)(ee=>{if(ee)return this.startScriptNotifyAndRedirect(o).pipe((0,Vs.n)(Ae=>(0,bs.of)(Ae)));this.modalService.open(u).componentInstance.dsoRD=(0,t0.SP)(o)}));return x.subscribe(),x}return(0,bs.of)(!1)}startScriptNotifyAndRedirect(o){const d=[Object.assign(new tf.p,{name:"--id",value:o.uuid}),Object.assign(new tf.p,{name:"--type",value:"COLLECTION"})];return this.authorizationDataService.isAuthorized(de._.AdministratorOf).pipe((0,Vs.n)(()=>this.scriptDataService.invoke(Pr.BATCH_EXPORT_SCRIPT_NAME,d,[])),(0,ws.qD)(),(0,Rt.T)(x=>{if(x.hasSucceeded){const ee=this.translationService.get("process.new.notification.success.title"),Se=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ee,Se),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,Eh.yJ)(x.payload.processId)),!0}{const ee=this.translationService.get("process.new.notification.error.title"),Se=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ee,Se),!1}}))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(X.Lw),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(to.I),e.rXU(G.c$),e.rXU(Pr.ScriptDataService),e.rXU(Wr.AuthorizationDataService),e.rXU(Rs.f),e.rXU(X.Bq))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-export-batch-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,dg,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Se){return x.selectObject(Se)}),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",x.header),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[p.bT,FT.x,G.h,G.D9],encapsulation:2})}}return u})();var nf=n(10046);function bh(u,E){if(1&u&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,o.header))}}let ug=(()=>{class u extends cg.${constructor(o,d,x,ee,Se,Ae,ft,jt,_n){super(o,d),this.activeModal=o,this.route=d,this.router=x,this.notificationsService=ee,this.translationService=Se,this.scriptDataService=Ae,this.authorizationDataService=ft,this.dsoNameService=jt,this.modalService=_n,this.objectType=yh.W.DSPACEOBJECT,this.selectorTypes=[yh.W.COLLECTION,yh.W.COMMUNITY],this.action=cg.u.EXPORT_METADATA}navigate(o){if(o instanceof Zl.p||o instanceof nf.E){const d=this.modalService.open(lg.M);d.componentInstance.name=this.dsoNameService.getName(o),d.componentInstance.headerLabel="confirmation-modal.export-metadata.header",d.componentInstance.infoLabel="confirmation-modal.export-metadata.info",d.componentInstance.cancelLabel="confirmation-modal.export-metadata.cancel",d.componentInstance.confirmLabel="confirmation-modal.export-metadata.confirm",d.componentInstance.confirmIcon="fas fa-file-export";const x=d.componentInstance.response.pipe((0,Vs.n)(ee=>{if(ee)return this.startScriptNotifyAndRedirect(o).pipe((0,Vs.n)(Ae=>(0,bs.of)(Ae)));this.modalService.open(u).componentInstance.dsoRD=(0,t0.SP)(o)}));return x.subscribe(),x}return(0,bs.of)(!1)}startScriptNotifyAndRedirect(o){const d=[Object.assign(new tf.p,{name:"-i",value:o.uuid})];return this.authorizationDataService.isAuthorized(de._.AdministratorOf).pipe((0,Vs.n)(x=>(x&&d.push(Object.assign(new tf.p,{name:"-a"})),this.scriptDataService.invoke(Pr.METADATA_EXPORT_SCRIPT_NAME,d,[]))),(0,ws.qD)(),(0,Rt.T)(x=>{if(x.hasSucceeded){const ee=this.translationService.get("process.new.notification.success.title"),Se=this.translationService.get("process.new.notification.success.content");return this.notificationsService.success(ee,Se),(0,V.hj)(x.payload)&&this.router.navigateByUrl((0,Eh.yJ)(x.payload.processId)),!0}{const ee=this.translationService.get("process.new.notification.error.title"),Se=this.translationService.get("process.new.notification.error.content");return this.notificationsService.error(ee,Se),!1}}))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(X.Lw),e.rXU(_.nX),e.rXU(_.Ix),e.rXU(to.I),e.rXU(G.c$),e.rXU(Pr.ScriptDataService),e.rXU(Wr.AuthorizationDataService),e.rXU(Rs.f),e.rXU(X.Bq))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-export-metadata-selector"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:7,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","h5 px-2",4,"ngIf"],[3,"onSelect","currentDSOId","types","sort"],[1,"h5","px-2"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3),e.DNE(8,bh,3,3,"span",4),e.j41(9,"ds-dso-selector",5),e.bIt("onSelect",function(Se){return x.selectObject(Se)}),e.k0s()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,5,"dso-selector."+x.action+"."+x.objectType.toString().toLowerCase()+".head")," "),e.R7$(6),e.Y8G("ngIf",x.header),e.R7$(),e.Y8G("currentDSOId",null==x.dsoRD?null:x.dsoRD.payload.uuid)("types",x.selectorTypes)("sort",x.defaultSort))},dependencies:[p.bT,FT.x,G.h,G.D9],encapsulation:2})}}return u})();var ni=n(34237);let DR=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft){this.menuService=o,this.browseService=d,this.authorizationService=x,this.modalService=ee,this.scriptDataService=Se,this.configurationDataService=Ae,this.authService=ft}resolve(o,d){return(0,us.z)([this.createPublicMenu$(),this.createAdminMenuIfLoggedIn$()]).pipe((0,Rt.T)(x=>x.every(Boolean)))}waitForMenu$(o){return this.menuService.getMenu(o).pipe((0,Ws.I)(d=>(0,V.a4)(d)),(0,Rt.T)(()=>!0))}createPublicMenu$(){const o=[{id:"browse_global_communities_and_collections",active:!1,visible:!0,index:0,model:{type:ni.x.LINK,text:"menu.section.browse_global_communities_and_collections",link:"/community-list"}}];return this.browseService.getBrowseDefinitions().pipe((0,ws.qD)()).subscribe(d=>{d.hasSucceeded&&(d.payload.page.forEach(x=>{o.push({id:`browse_global_by_${x.id}`,parentID:"browse_global",active:!1,visible:!0,model:{type:ni.x.LINK,text:`menu.section.browse_global_by_${x.id}`,link:`/browse/${x.id}`}})}),o.push({id:"browse_global",active:!1,visible:!0,index:1,model:{type:ni.x.TEXT,text:"menu.section.browse_global"}},{id:"about_dropdown",active:!1,visible:!0,index:3,model:{type:ni.x.TEXT,text:"menu.section.about"}},{id:"about_ri_unifesp_page",parentID:"about_dropdown",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.about.section.ri_unifesp",function:()=>{window.open("https://site.unifesp.br/bibliotecas/menu-servicos#ri-unifesp","_blank")}}},{id:"about_documents",parentID:"about_dropdown",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.about.section.documents",function:()=>{window.open("https://site.unifesp.br/bibliotecas/institucional/documentos","_blank")}}},{id:"about_tutorials",parentID:"about_dropdown",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.about.section.tutorials",function:()=>{window.open("https://hdl.handle.net/11600/61406","_blank")}}},{id:"about_faq",parentID:"about_dropdown",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.about.section.faq",function:()=>{window.open("https://site.unifesp.br/bibliotecas/servicos/ri-perguntas-frequentes","_blank")}}},{id:"about_support",parentID:"about_dropdown",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.about.section.support",function:()=>{window.open("https://sua.unifesp.br/atendimento","_blank")}}})),o.forEach(x=>this.menuService.addSection(Qi.D.PUBLIC,Object.assign(x,{shouldPersistOnRouteChange:!0})))}),this.waitForMenu$(Qi.D.PUBLIC)}createAdminMenuIfLoggedIn$(){return this.authService.isAuthenticated().pipe((0,zn.Z)(o=>o?this.createAdminMenu$():(0,bs.of)(!0)))}createAdminMenu$(){return this.createMainMenuSections(),this.createSiteAdministratorMenuSections(),this.createExportMenuSections(),this.createImportMenuSections(),this.createAccessControlMenuSections(),this.waitForMenu$(Qi.D.ADMIN)}createMainMenuSections(){(0,us.z)([this.authorizationService.isAuthorized(de._.IsCollectionAdmin),this.authorizationService.isAuthorized(de._.IsCommunityAdmin),this.authorizationService.isAuthorized(de._.AdministratorOf),this.authorizationService.isAuthorized(de._.CanSubmit),this.authorizationService.isAuthorized(de._.CanEditItem),this.authorizationService.isAuthorized(de._.CanSeeQA),this.authorizationService.isAuthorized(de._.CoarNotifyEnabled)]).subscribe(([o,d,x,ee,Se,Ae,ft])=>{const jt=[{id:"new_community",parentID:"new",active:!1,visible:d,model:{type:ni.x.ONCLICK,text:"menu.section.new_community",function:()=>{this.modalService.open(wT)}}},{id:"new_collection",parentID:"new",active:!1,visible:d,model:{type:ni.x.ONCLICK,text:"menu.section.new_collection",function:()=>{this.modalService.open(Rl)}}},{id:"new_item",parentID:"new",active:!1,visible:ee,model:{type:ni.x.ONCLICK,text:"menu.section.new_item",function:()=>{this.modalService.open(xT.L)}}},{id:"new_process",parentID:"new",active:!1,visible:x,model:{type:ni.x.LINK,text:"menu.section.new_process",link:"/processes/new"}},{id:"ldn_services_new",parentID:"new",active:!1,visible:x&&ft,model:{type:ni.x.LINK,text:"menu.section.services_new",link:"/admin/ldn/services/new"},icon:""}],_n=[{id:"edit_community",parentID:"edit",active:!1,visible:d,model:{type:ni.x.ONCLICK,text:"menu.section.edit_community",function:()=>{this.modalService.open(ef)}}},{id:"edit_collection",parentID:"edit",active:!1,visible:o,model:{type:ni.x.ONCLICK,text:"menu.section.edit_collection",function:()=>{this.modalService.open(wl)}}},{id:"edit_item",parentID:"edit",active:!1,visible:Se,model:{type:ni.x.ONCLICK,text:"menu.section.edit_item",function:()=>{this.modalService.open(NT)}}}],dn={id:"new",active:!1,visible:jt.some(Bn=>Bn.visible),model:{type:ni.x.TEXT,text:"menu.section.new"},icon:"plus",index:0},ss={id:"edit",active:!1,visible:_n.some(Bn=>Bn.visible),model:{type:ni.x.TEXT,text:"menu.section.edit"},icon:"pencil-alt",index:1};[...jt,dn,..._n,ss,{id:"processes",active:!1,visible:x,model:{type:ni.x.LINK,text:"menu.section.processes",link:"/processes"},icon:"terminal",index:10},{id:"coar_notify",active:!1,visible:x&&ft,model:{type:ni.x.TEXT,text:"menu.section.coar_notify"},icon:"inbox",index:13},{id:"notify_dashboard",active:!1,parentID:"coar_notify",visible:x&&ft,model:{type:ni.x.LINK,text:"menu.section.notify_dashboard",link:"/admin/notify-dashboard"}},{id:"ldn_services",active:!1,parentID:"coar_notify",visible:x&&ft,model:{type:ni.x.LINK,text:"menu.section.services",link:"/admin/ldn/services"}},{id:"health",active:!1,visible:x,model:{type:ni.x.LINK,text:"menu.section.health",link:"/health"},icon:"heartbeat",index:11},{id:"notifications",active:!1,visible:Ae||x,model:{type:ni.x.TEXT,text:"menu.section.notifications"},icon:"bell",index:4},{id:"notifications_quality-assurance",parentID:"notifications",active:!1,visible:Ae,model:{type:ni.x.LINK,text:"menu.section.quality-assurance",link:"/notifications/quality-assurance"}},{id:"notifications_publication-claim",parentID:"notifications",active:!1,visible:x,model:{type:ni.x.LINK,text:"menu.section.notifications_publication-claim",link:"/admin/notifications/"+pr.VZ}}].forEach(Bn=>this.menuService.addSection(Qi.D.ADMIN,Object.assign(Bn,{shouldPersistOnRouteChange:!0})))})}createExportMenuSections(){[].forEach(d=>this.menuService.addSection(Qi.D.ADMIN,d)),(0,us.z)([this.authorizationService.isAuthorized(de._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Pr.METADATA_EXPORT_SCRIPT_NAME)]).pipe((0,Fn.p)(([d,x])=>d&&x),(0,D.s)(1)).subscribe(()=>{this.menuService.addSection(Qi.D.ADMIN,{id:"export",active:!1,visible:!0,model:{type:ni.x.TEXT,text:"menu.section.export"},icon:"file-export",index:3,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Qi.D.ADMIN,{id:"export_metadata",parentID:"export",active:!0,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.section.export_metadata",function:()=>{this.modalService.open(ug)}},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Qi.D.ADMIN,{id:"export_batch",parentID:"export",active:!1,visible:!0,model:{type:ni.x.ONCLICK,text:"menu.section.export_batch",function:()=>{this.modalService.open(Ch)}},shouldPersistOnRouteChange:!0})})}createImportMenuSections(){[].forEach(d=>this.menuService.addSection(Qi.D.ADMIN,d)),(0,us.z)([this.authorizationService.isAuthorized(de._.AdministratorOf),this.scriptDataService.scriptWithNameExistsAndCanExecute(Pr.METADATA_IMPORT_SCRIPT_NAME)]).pipe((0,Fn.p)(([d,x])=>d&&x),(0,D.s)(1)).subscribe(()=>{this.menuService.addSection(Qi.D.ADMIN,{id:"import",active:!1,visible:!0,model:{type:ni.x.TEXT,text:"menu.section.import"},icon:"file-import",index:2,shouldPersistOnRouteChange:!0}),this.menuService.addSection(Qi.D.ADMIN,{id:"import_metadata",parentID:"import",active:!0,visible:!0,model:{type:ni.x.LINK,text:"menu.section.import_metadata",link:"/admin/metadata-import"},shouldPersistOnRouteChange:!0}),this.menuService.addSection(Qi.D.ADMIN,{id:"import_batch",parentID:"import",active:!1,visible:!0,model:{type:ni.x.LINK,text:"menu.section.import_batch",link:"/admin/batch-import"},shouldPersistOnRouteChange:!0})})}createSiteAdministratorMenuSections(){this.authorizationService.isAuthorized(de._.AdministratorOf).subscribe(o=>{[{id:"admin_search",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.admin_search",link:"/admin/search"},icon:"search",index:5},{id:"registries",active:!1,visible:o,model:{type:ni.x.TEXT,text:"menu.section.registries"},icon:"list",index:6},{id:"registries_metadata",parentID:"registries",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.registries_metadata",link:"admin/registries/metadata"}},{id:"registries_format",parentID:"registries",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.registries_format",link:"admin/registries/bitstream-formats"}},{id:"curation_tasks",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.curation_task",link:"admin/curation-tasks"},icon:"filter",index:7},{id:"workflow",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.workflow",link:"/admin/workflow"},icon:"user-check",index:11},{id:"system_wide_alert",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.system-wide-alert",link:"/admin/system-wide-alert"},icon:"exclamation-circle",index:12}].forEach(x=>this.menuService.addSection(Qi.D.ADMIN,Object.assign(x,{shouldPersistOnRouteChange:!0})))})}createAccessControlMenuSections(){(0,us.z)([this.authorizationService.isAuthorized(de._.AdministratorOf),this.authorizationService.isAuthorized(de._.CanManageGroups)]).subscribe(([o,d])=>{[{id:"access_control_people",parentID:"access_control",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.access_control_people",link:"/access-control/epeople"}},{id:"access_control_groups",parentID:"access_control",active:!1,visible:d,model:{type:ni.x.LINK,text:"menu.section.access_control_groups",link:"/access-control/groups"}},{id:"access_control_bulk",parentID:"access_control",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.access_control_bulk",link:"/access-control/bulk-access"}},{id:"access_control",active:!1,visible:d||o,model:{type:ni.x.TEXT,text:"menu.section.access_control"},icon:"key",index:4}].forEach(ee=>this.menuService.addSection(Qi.D.ADMIN,Object.assign(ee,{shouldPersistOnRouteChange:!0})))})}createReportMenuSections(){(0,us.z)([this.configurationDataService.findByPropertyName("contentreport.enable").pipe((0,ws.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&o.payload&&"true"===o.payload.values[0])),this.authorizationService.isAuthorized(de._.AdministratorOf)]).subscribe(([o])=>{[{id:"reports",active:!1,visible:o,model:{type:ni.x.TEXT,text:"menu.section.reports"},icon:"file-alt",index:5},{id:"reports_collections",parentID:"reports",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.reports.collections",link:"/admin/reports/collections"},icon:"user-check"},{id:"reports_queries",parentID:"reports",active:!1,visible:o,model:{type:ni.x.LINK,text:"menu.section.reports.queries",link:"/admin/reports/queries"},icon:"user-check"}].forEach(x=>this.menuService.addSection(Qi.D.ADMIN,Object.assign(x,{shouldPersistOnRouteChange:!0})))})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Sl.$),e.KVO(Ki.q),e.KVO(Wr.AuthorizationDataService),e.KVO(X.Bq),e.KVO(Pr.ScriptDataService),e.KVO(Tr.ConfigurationDataService),e.KVO(h.uR))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var s0=n(38571),BT=n(61723),Pa=n(74566),UT=n(13246);let sf=(()=>{class u{constructor(o,d,x,ee,Se,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.qualityAssuranceSourceService=Se,this.qualityAssuranceSourceDataService=Ae,this.retrieveAllSource$=xn(()=>this.actions$.pipe(Gn(Pa.xq.RETRIEVE_ALL_SOURCE),(0,I.E)(this.store$),(0,Vs.n)(([ft,jt])=>this.qualityAssuranceSourceService.getSources(ft.payload.elementsPerPage,ft.payload.currentPage).pipe((0,Rt.T)(_n=>new Pa.$_(_n.page,_n.totalPages,_n.currentPage,_n.totalElements)),(0,In.W)(_n=>(_n instanceof Error?console.error(_n.message):console.error("Unexpected object thrown",_n),(0,bs.of)(new Pa.Fx))))))),this.retrieveAllSourceErrorAction$=xn(()=>this.actions$.pipe(Gn(Pa.xq.RETRIEVE_ALL_SOURCE_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.source.error.service.retrieve"))})),{dispatch:!1}),this.addSourceAction$=xn(()=>this.actions$.pipe(Gn(Pa.xq.ADD_SOURCE),(0,ii.M)(()=>{this.qualityAssuranceSourceDataService.clearFindAllSourceRequests()})),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il),e.KVO(G.c$),e.KVO(to.I),e.KVO(UT.p),e.KVO(BT.QualityAssuranceSourceDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var rf=n(31936),lu=n(79984),Th=n(53954),af=n(6238);let jT=(()=>{class u{constructor(o){this.qualityAssuranceTopicRestService=o}getTopics(o,d,x,ee){const Ae={elementsPerPage:o,currentPage:d,sort:new af.z("name",af.U.ASC),searchParams:[new Th.x("source",x)]};let ft;return(0,V.a4)(ee)?(Ae.searchParams.push(new Th.x("target",ee)),ft=this.qualityAssuranceTopicRestService.searchTopicsByTarget(Ae)):ft=this.qualityAssuranceTopicRestService.searchTopicsBySource(Ae),ft.pipe((0,ws.qD)(),(0,Rt.T)(jt=>{if(jt.hasSucceeded)return jt.payload;throw new Error("Can't retrieve Quality Assurance topics from the Broker topics REST service")}))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(rf.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),r0=(()=>{class u{constructor(o,d,x,ee,Se,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.qualityAssuranceTopicService=Se,this.qualityAssuranceTopicDataService=Ae,this.retrieveAllTopics$=xn(()=>this.actions$.pipe(Gn(lu.py.RETRIEVE_ALL_TOPICS),(0,I.E)(this.store$),(0,Vs.n)(([ft,jt])=>this.qualityAssuranceTopicService.getTopics(ft.payload.elementsPerPage,ft.payload.currentPage,ft.payload.source,ft.payload.target).pipe((0,Rt.T)(_n=>new lu.C3(_n.page,_n.totalPages,_n.currentPage,_n.totalElements)),(0,In.W)(_n=>(_n instanceof Error?console.error(_n.message):console.error("Unexpected object thrown",_n),(0,bs.of)(new lu.IL))))))),this.retrieveAllTopicsErrorAction$=xn(()=>this.actions$.pipe(Gn(lu.py.RETRIEVE_ALL_TOPICS_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("quality-assurance.topic.error.service.retrieve"))})),{dispatch:!1}),this.addTopicsAction$=xn(()=>this.actions$.pipe(Gn(lu.py.ADD_TOPICS),(0,ii.M)(()=>{this.qualityAssuranceTopicDataService.clearFindAllTopicsRequests()})),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il),e.KVO(G.c$),e.KVO(to.I),e.KVO(jT),e.KVO(rf.QualityAssuranceTopicDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var o0=n(67977),Ra=n(54503);const VT=[r0,sf,(()=>{class u{constructor(o,d,x,ee,Se,Ae){this.actions$=o,this.store$=d,this.translate=x,this.notificationsService=ee,this.suggestionsService=Se,this.configurationService=Ae,this.retrieveTargetsBySource$=xn(()=>this.actions$.pipe(Gn(Ra.lz.RETRIEVE_TARGETS_BY_SOURCE),(0,Vs.n)(ft=>this.suggestionsService.getTargets(ft.payload.source,ft.payload.elementsPerPage,ft.payload.currentPage).pipe((0,Rt.T)(jt=>new Ra.Pc(ft.payload.source,jt.page,jt.totalPages,jt.currentPage,jt.totalElements)),(0,In.W)(jt=>(jt instanceof Error&&console.error(jt.message),(0,bs.of)(new Ra.Fz(ft.payload.source)))))))),this.retrieveAllTargetsErrorAction$=xn(()=>this.actions$.pipe(Gn(Ra.lz.RETRIEVE_TARGETS_BY_SOURCE_ERROR),(0,ii.M)(()=>{this.notificationsService.error(null,this.translate.get("suggestion.target.error.service.retrieve"))})),{dispatch:!1}),this.retrieveUserTargets$=xn(()=>this.actions$.pipe(Gn(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS),(0,Vs.n)(ft=>this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,ws.qD)(),(0,Vs.n)(jt=>jt.hasSucceeded&&jt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(ft.payload).pipe((0,Rt.T)(_n=>new Ra.Gx(_n))):(0,bs.of)(new Ra.Gx([]))))))),this.refreshUserSuggestionsAction$=xn(()=>this.actions$.pipe(Gn(Ra.lz.REFRESH_USER_SUGGESTIONS),(0,Vs.n)(()=>this.store$.select(ft=>ft.core.auth.userId).pipe((0,Vs.n)(ft=>ft?this.configurationService.findByPropertyName("researcher-profile.entity-type").pipe((0,ws.qD)(),(0,Vs.n)(jt=>jt.hasSucceeded&&jt.payload.values.length>0?this.suggestionsService.retrieveCurrentUserSuggestions(ft).pipe((0,Rt.T)(_n=>new Ra.Gx(_n)),(0,In.W)(_n=>(_n instanceof Error&&console.error(_n.message),(0,bs.of)(new Ra.Af)))):(0,bs.of)(new Ra.Gx([]))),(0,In.W)(jt=>(jt instanceof Error&&console.error(jt.message),(0,bs.of)(new Ra.Af)))):(0,bs.of)(new Ra.Gx([]))),(0,In.W)(ft=>(ft instanceof Error&&console.error(ft.message),(0,bs.of)(new Ra.Af)))))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il),e.KVO(G.c$),e.KVO(to.I),e.KVO(o0.F),e.KVO(Tr.ConfigurationDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})()],Sc=()=>(0,e.EmA)([(0,e.oKB)(v.md.forFeature("suggestionNotifications",s0.W,dl.wP),sa.forFeature(VT))]);var _d=n(5771),hg=n.n(_d),a0=n(48125),cu=n.n(a0),du=n(28898),uu=n.n(du),no=n(22806),GT=n(83203),l0=n(24261),pg=n(72147),xl=n(88643),lf=n(61010),cf=n(90049),$T=n(7020);let c0=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft,jt,_n){this.actions$=o,this.notificationsService=d,this.operationsService=x,this.sectionService=ee,this.store$=Se,this.submissionService=Ae,this.submissionObjectService=ft,this.translate=jt,this.workspaceItemDataService=_n,this.loadForm$=xn(()=>this.actions$.pipe(Gn(mi.lE.INIT_SUBMISSION_FORM),(0,Rt.T)(dn=>{const ss=dn.payload.submissionDefinition,_s=[];return ss.sections.page.forEach(Bn=>{const qn=Bn._links.self.href||Bn._links.self,Xs=qn.substr(qn.lastIndexOf("/")+1),ji=Bn._links.config?Bn._links.config.href||Bn._links.config:"",pi=Bn.mandatory&&Bn.sectionType!==xl.l.Duplicates||(0,V.hj)(dn.payload.sections)&&dn.payload.sections.hasOwnProperty(Xs)&&Bn.sectionType===xl.l.Duplicates&&(mg()||(0,V.hj)(dn.payload.sections[Xs].potentialDuplicates));let yr;yr=Bn.sectionType!==xl.l.SubmissionForm?(0,V.EA)(dn.payload.sections)&&(0,V.EA)(dn.payload.sections[Xs])?dn.payload.sections[Xs]:Object.create(null):dn.payload.item.metadata;const Yr=(0,V.hj)(dn.payload.errors)&&dn.payload.errors[Xs]||null;_s.push(new mi.wT(dn.payload.submissionId,Xs,Bn.header,ji,Bn.mandatory,Bn.scope,Bn.sectionType,Bn.visibility,pi,yr,Yr))}),{action:dn,definition:ss,mappedActions:_s}}),(0,zn.Z)(dn=>(0,no.H)(dn.mappedActions.concat(new mi.ug(dn.action.payload.submissionId)))))),this.resetForm$=xn(()=>this.actions$.pipe(Gn(mi.lE.RESET_SUBMISSION_FORM),(0,Rt.T)(dn=>new mi.jc(dn.payload.collectionId,dn.payload.submissionId,dn.payload.selfUrl,dn.payload.submissionDefinition,dn.payload.sections,dn.payload.item,null)))),this.saveSubmission$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_SUBMISSION_FORM),(0,Vs.n)(dn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),dn.payload.submissionId,"sections").pipe((0,Rt.T)(ss=>new mi.tR(dn.payload.submissionId,ss,dn.payload.isManual,dn.payload.isManual)),(0,In.W)(()=>(0,bs.of)(new mi.wM(dn.payload.submissionId))))))),this.saveForLaterSubmission$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_FOR_LATER_SUBMISSION_FORM),(0,Vs.n)(dn=>this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),dn.payload.submissionId,"sections").pipe((0,Rt.T)(ss=>new mi.oW(dn.payload.submissionId,ss)),(0,In.W)(()=>(0,bs.of)(new mi.wM(dn.payload.submissionId))))))),this.saveSubmissionSuccess$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_SUBMISSION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Rt.T)(([dn,ss])=>this.parseSaveResponse(ss.submission.objects[dn.payload.submissionId],dn.payload.submissionObject,dn.payload.submissionId,ss.forms,dn.payload.showNotifications,dn.payload.showErrors)),(0,zn.Z)(dn=>(0,no.H)(dn)))),this.saveSubmissionSectionSuccess$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_SUBMISSION_SECTION_FORM_SUCCESS),(0,I.E)(this.store$),(0,Rt.T)(([dn,ss])=>this.parseSaveResponse(ss.submission.objects[dn.payload.submissionId],dn.payload.submissionObject,dn.payload.submissionId,ss.forms,!1,!1)),(0,zn.Z)(dn=>(0,no.H)(dn)))),this.saveSection$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_SUBMISSION_SECTION_FORM),(0,Vs.n)(dn=>this.operationsService.jsonPatchByResourceID(this.submissionService.getSubmissionObjectLinkName(),dn.payload.submissionId,"sections",dn.payload.sectionId).pipe((0,Rt.T)(ss=>new mi.ky(dn.payload.submissionId,ss)),(0,In.W)(()=>(0,bs.of)(new mi.Zl(dn.payload.submissionId))))))),this.saveError$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_SUBMISSION_FORM_ERROR,mi.lE.SAVE_SUBMISSION_SECTION_FORM_ERROR),(0,I.E)(this.store$),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.save_error_notice")))),{dispatch:!1}),this.saveAndDeposit$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_AND_DEPOSIT_SUBMISSION),(0,I.E)(this.submissionService.hasUnsavedModification()),(0,Vs.n)(([dn,ss])=>{let _s;return _s=ss?this.operationsService.jsonPatchByResourceType(this.submissionService.getSubmissionObjectLinkName(),dn.payload.submissionId,"sections"):this.submissionObjectService.findById(dn.payload.submissionId,!1,!0,(0,js.s)("item"),(0,js.s)("collection")).pipe((0,ws.ak)(),(0,Rt.T)(Bn=>[Bn])),_s.pipe((0,Rt.T)(Bn=>this.canDeposit(Bn)?new mi.l5(dn.payload.submissionId):(this.notificationsService.warning(null,this.translate.instant("submission.sections.general.cannot_deposit"),null,!0),new mi.tR(dn.payload.submissionId,Bn,!1,!0))),(0,In.W)(()=>(0,bs.of)(new mi.wM(dn.payload.submissionId))))}))),this.depositSubmission$=xn(()=>this.actions$.pipe(Gn(mi.lE.DEPOSIT_SUBMISSION),(0,I.E)(this.store$),(0,Vs.n)(([dn,ss])=>this.submissionService.depositSubmission(ss.submission.objects[dn.payload.submissionId].selfUrl).pipe((0,Rt.T)(()=>new mi.kq(dn.payload.submissionId)),(0,In.W)(_s=>(0,bs.of)(new mi.x9(dn.payload.submissionId))))))),this.saveForLaterSubmissionSuccess$=xn(()=>this.actions$.pipe(Gn(mi.lE.SAVE_FOR_LATER_SUBMISSION_FORM_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice"))),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionSuccess$=xn(()=>this.actions$.pipe(Gn(mi.lE.DEPOSIT_SUBMISSION_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.deposit_success_notice"))),(0,ii.M)(dn=>this.workspaceItemDataService.invalidateById(dn.payload.submissionId)),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.depositSubmissionError$=xn(()=>this.actions$.pipe(Gn(mi.lE.DEPOSIT_SUBMISSION_ERROR),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.deposit_error_notice")))),{dispatch:!1}),this.discardSubmission$=xn(()=>this.actions$.pipe(Gn(mi.lE.DISCARD_SUBMISSION),(0,Vs.n)(dn=>this.submissionService.discardSubmission(dn.payload.submissionId).pipe((0,Rt.T)(()=>new mi.Ob(dn.payload.submissionId)),(0,In.W)(()=>(0,bs.of)(new mi.Z5(dn.payload.submissionId))))))),this.addAllMetadataToSectionData=xn(()=>this.actions$.pipe(Gn(mi.lE.UPDATE_SECTION_DATA),(0,Vs.n)(dn=>this.sectionService.getSectionState(dn.payload.submissionId,dn.payload.sectionId,xl.l.Upload).pipe((0,Rt.T)(ss=>[dn,ss]),(0,D.s)(1))),(0,Fn.p)(([dn,ss])=>ss.sectionType===xl.l.SubmissionForm),(0,Vs.n)(([dn,ss])=>ss.sectionType===xl.l.SubmissionForm?this.submissionObjectService.findById(dn.payload.submissionId,!0,!1,(0,js.s)("item")).pipe((0,ws.ak)()).pipe((0,Vs.n)(qn=>qn.item.pipe((0,ws.ak)()))).pipe((0,Rt.T)(qn=>qn.metadata),(0,Fn.p)(qn=>!cu()(dn.payload.data,qn)),(0,Rt.T)(qn=>new mi.dm(dn.payload.submissionId,dn.payload.sectionId,qn,dn.payload.errorsToShow,dn.payload.serverValidationErrors,dn.payload.metadata))):(0,bs.of)(new mi.Sm)))),this.discardSubmissionSuccess$=xn(()=>this.actions$.pipe(Gn(mi.lE.DISCARD_SUBMISSION_SUCCESS),(0,ii.M)(()=>this.notificationsService.success(null,this.translate.get("submission.sections.general.discard_success_notice"))),(0,ii.M)(()=>this.submissionService.redirectToMyDSpace())),{dispatch:!1}),this.discardSubmissionError$=xn(()=>this.actions$.pipe(Gn(mi.lE.DISCARD_SUBMISSION_ERROR),(0,ii.M)(()=>this.notificationsService.error(null,this.translate.get("submission.sections.general.discard_error_notice")))),{dispatch:!1})}canDeposit(o){let d=!0;return(0,V.hj)(o)&&o.forEach(x=>{const{errors:ee}=x;ee&&!(0,V.Im)(ee)&&(d=!1)}),d}parseSaveResponse(o,d,x,ee,Se=!0,Ae=!0){const ft=[];return(0,V.hj)(d)&&(Se&&this.notificationsService.success(null,this.translate.get("submission.sections.general.save_success_notice")),d.forEach(jt=>{let _n=Object.create({});const{errors:dn}=jt;dn&&!(0,V.Im)(dn)&&(_n=(0,$T.A)(dn),Se&&this.notificationsService.warning(null,this.translate.get("submission.sections.general.sections_not_valid")));const ss=jt.sections&&(0,V.hj)(jt.sections)?jt.sections:{},_s=uu()(Object.keys(ss),Object.keys(_n));for(const qn of _s){const Xs=_n[qn]||[],ji=ss[qn]||{};if(o.sections[qn].sectionType===xl.l.Upload&&(0,V.Im)(ji.files)&&!o.sections[qn].enabled)continue;Se&&!o.sections[qn].enabled&&this.submissionService.notifyNewSection(x,qn,o.sections[qn].sectionType);const yr=df(fg(ee,o,qn),Xs,o.sections[qn].sectionType,Ae);ft.push(new mi.dm(x,qn,ji,yr,Xs))}const Bn=hg()(o.sections,qn=>qn.sectionType===xl.l.SherpaPolicies);if((0,V.EA)(Bn)&&(0,V.hj)(o.sections[Bn]?.data)&&(0,V.Im)(ss[Bn])&&ft.push(new mi.dm(x,Bn,null,[],[])),!mg()){const qn=hg()(o.sections,Xs=>Xs.sectionType===xl.l.Duplicates);(0,V.EA)(qn)&&ss.hasOwnProperty(qn)&&(0,V.Im)(ss[qn].potentialDuplicates)&&ft.push(new mi.CG(x))}})),ft}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(to.I),e.KVO(GT.U),e.KVO(pg.c),e.KVO(v.il),e.KVO(lf.E),e.KVO(ou.$),e.KVO(G.c$),e.KVO(l0.WorkspaceitemDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();function fg(u,E,o){return u?u[E.sections[o].formId]:null}function df(u,E,o,d){if(d||o!==xl.l.SubmissionForm.valueOf())return E;if(!u||!u.touched)return[];const x=[];return E.forEach(ee=>{(0,cf.A)(ee.path).forEach(Ae=>{Ae.fieldId&&u.touched[Ae.fieldId]&&x.push(ee)})}),x}function mg(){return R.c.submission.duplicateDetection.alwaysShowSection}const WT=[c0];var KT=n(83678);const gg=()=>(0,e.EmA)([(0,e.oKB)(v.md.forFeature("submission",KT.u,dl.wP),sa.forFeature(WT))]);var d0=n(24215);const HT=[{path:Ur.n,component:_i},{path:Ur.RC,component:un},{path:"",canActivate:[(u,E,o=(0,e.WQX)(v.il))=>o.pipe((0,v.Lt)(w.Gv)).pipe((0,Rt.T)(d=>!1===d),(0,C.F)(),(0,Fn.p)(d=>!0===d),(0,D.s)(1))],canActivateChild:[(u,E,o=(0,e.WQX)(Un.RootDataService),d=(0,e.WQX)(_.Ix))=>o.checkServerAvailability().pipe((0,D.s)(1),(0,Rt.T)(x=>!!x||d.parseUrl((0,Ur.N2)())))],resolve:[(u,E,o=(0,e.WQX)(DR))=>o.resolve(u,E)],children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"reload/:rnd",component:Ia,pathMatch:"full",canActivate:[(u,E,o=(0,e.WQX)(ti.vQ),d=(0,e.WQX)(_.Ix))=>{if((0,V.hj)(u.queryParams.redirect)){const x=u.queryParams.redirect.startsWith(o.ui.nameSpace)?u.queryParams.redirect.substring(o.ui.nameSpace.length):u.queryParams.redirect;return d.parseUrl(x)}return d.createUrlTree([Ur.Eo])}]},{path:"home",loadChildren:()=>n.e(2587).then(n.bind(n,62587)).then(u=>u.ROUTES),data:{showBreadcrumbs:!1},providers:[Sc()],canActivate:[Kt]},{path:"community-list",loadChildren:()=>n.e(247).then(n.bind(n,20247)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"id",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"handle",loadChildren:()=>n.e(8424).then(n.bind(n,88424)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.il,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(1053)]).then(n.bind(n,51053)).then(u=>u.ROUTES),canActivate:[W]},{path:Ur.sT,loadChildren:()=>Promise.all([n.e(8500),n.e(2076),n.e(4184)]).then(n.bind(n,64184)).then(u=>u.ROUTES),canActivate:[Kt,An]},{path:_h.b2,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(8296),n.e(4958),n.e(6864)]).then(n.bind(n,76864)).then(u=>u.ROUTES),canActivate:[Kt]},{path:gd.CC,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(7558),n.e(8296),n.e(2073),n.e(4958),n.e(2076),n.e(6475)]).then(n.bind(n,16475)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ls.xb,loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(1872)]).then(n.bind(n,21872)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"entities/:entity-type",loadChildren:()=>Promise.all([n.e(8980),n.e(781),n.e(870),n.e(8296),n.e(2076),n.e(1872)]).then(n.bind(n,21872)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.H_,loadChildren:()=>Promise.all([n.e(2754),n.e(7652)]).then(n.bind(n,67652)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.l2,loadChildren:()=>Promise.all([n.e(2754),n.e(7652)]).then(n.bind(n,67652)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"mydspace",loadChildren:()=>n.e(3822).then(n.bind(n,73822)).then(u=>u.ROUTES),providers:[Sc()],canActivate:[Ql.t,Kt]},{path:"search",loadChildren:()=>n.e(8448).then(n.bind(n,58448)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"browse",loadChildren:()=>n.e(5079).then(n.bind(n,35079)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.pU,loadChildren:()=>n.e(3283).then(n.bind(n,43283)).then(u=>u.ROUTES),canActivate:[k.Y,Kt]},{path:ka.uD,loadChildren:()=>Promise.all([n.e(1653),n.e(2519)]).then(n.bind(n,32519)).then(u=>u.ROUTES),providers:[Sc()],canActivate:[Ql.t,Kt]},{path:"login",loadChildren:()=>n.e(3561).then(n.bind(n,3561)).then(u=>u.ROUTES)},{path:"logout",loadChildren:()=>n.e(8762).then(n.bind(n,8762)).then(u=>u.ROUTES)},{path:"submit",loadChildren:()=>n.e(9360).then(n.bind(n,79360)).then(u=>u.ROUTES),providers:[gg()],canActivate:[Kt]},{path:"import-external",loadChildren:()=>n.e(7411).then(n.bind(n,47411)).then(u=>u.ROUTES),canActivate:[Kt]},{path:"workspaceitems",loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(2422)]).then(n.bind(n,2422)).then(u=>u.ROUTES),providers:[gg()],canActivate:[Kt]},{path:Ur.Vv,providers:[gg()],loadChildren:()=>Promise.all([n.e(8980),n.e(870),n.e(1717),n.e(1501)]).then(n.bind(n,21501)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.pX,loadChildren:()=>Promise.all([n.e(2076),n.e(5361)]).then(n.bind(n,65361)).then(u=>u.ROUTES),providers:[Sc()],canActivate:[Ql.t,Kt]},{path:Eh.rG,loadChildren:()=>Promise.all([n.e(2076),n.e(5818)]).then(n.bind(n,35818)).then(u=>u.ROUTES),canActivate:[Ql.t,Kt]},{path:d0.C2,loadChildren:()=>n.e(6780).then(n.bind(n,86780)).then(u=>u.ROUTES),providers:[Sc()],canActivate:[Ql.t,Kt]},{path:Ur.Ep,loadChildren:()=>Promise.all([n.e(2076),n.e(320)]).then(n.bind(n,50320)).then(u=>u.ROUTES)},{path:Ur.RZ,loadChildren:()=>Promise.all([n.e(2076),n.e(8441)]).then(n.bind(n,48441)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.OC,component:Oe},{path:"statistics",loadChildren:()=>Promise.all([n.e(2076),n.e(9014)]).then(n.bind(n,19014)).then(u=>u.ROUTES),canActivate:[Kt]},{path:Ur.lH,loadChildren:()=>n.e(298).then(n.bind(n,50298)).then(u=>u.ROUTES)},{path:Ur.UP,loadChildren:()=>Promise.all([n.e(9366),n.e(8500),n.e(2076),n.e(5191)]).then(n.bind(n,75191)).then(u=>u.ROUTES),canActivate:[Wo.i,Kt]},{path:"subscriptions",loadChildren:()=>Promise.all([n.e(781),n.e(2076),n.e(6643)]).then(n.bind(n,66643)).then(u=>u.ROUTES),canActivate:[Ql.t]},{path:"**",pathMatch:"full",component:Ia}]}];n(81387);var uf=n(52027),vd=n(2044),_g=n(40667),Aa=n(10034);let MR=(()=>{class u{constructor(o,d,x){this.inj=o,this.router=d,this.store=x,this.refreshTokenRequestUrls=[]}isUnauthorized(o){return 401===o.status}isSuccess(o){return 200===o.status||204===o.status}isAuthRequest(o){return o&&o.url&&(o.url.endsWith("/authn/login")||o.url.endsWith("/authn/logout")||o.url.endsWith("/authn/status"))}isLoginResponse(o){return o.url&&o.url.endsWith("/authn/login")}isLogoutResponse(o){return o.url&&o.url.endsWith("/authn/logout")}isStatusResponse(o){return o.url&&o.url.endsWith("/authn/status")}parseLocation(o){let d=o.trim();d=d.replace('location="',""),d=d.replace('"',"");let x=/%3A%2F%2F/g;return d=d.replace(x,"://"),x=/%3A/g,d=d.replace(x,":"),d.trim()}sortAuthMethods(o){const d=[];let x=!1,ee=!1;return o.forEach(Se=>{Se.authMethodType===vd.Q.Password&&(d.push(Se),x=!0),Se.authMethodType===vd.Q.Ldap&&(ee=!0)}),ee&&!x&&d.push(new uf.q(vd.Q.Password,0)),o.forEach(Se=>{Se.authMethodType!==vd.Q.Password&&d.push(Se)}),d}parseAuthMethodsFromHeaders(o){let d=[];if((0,V.hj)(o.get("www-authenticate"))){const Se=o.get("www-authenticate").match(/(\w+ (\w+=((".*?")|[^,]*)(, )?)*)/g);for(const Ae in Se){const ft=Se[Ae].split(", "),jt=ft[0].split(" ")[0].trim();let _n;if(1===ft.length)_n=new uf.q(jt,Number(Ae)),d.push(_n);else if(ft.length>1){let dn=ft[1];dn=this.parseLocation(dn),_n=new uf.q(jt,Number(Ae),dn),d.push(_n)}}d=this.sortAuthMethods(d)}else d.push(new uf.q(vd.Q.Password,0));return d}makeAuthStatusObject(o,d,x,ee){const Se=new _g.T;if(ee&&(Se.authMethods=this.parseAuthMethodsFromHeaders(ee)),Se.id=null,Se.okay=!0,o)Se.authenticated=!0,Se.token=new Aa.S(d);else if(Se.authenticated=!1,(0,V.hj)(x))if("string"==typeof x)try{Se.error=JSON.parse(x)}catch(Ae){console.error('Unknown auth error "',x,'" caused ',Ae),Se.error={error:"Unknown",message:"Unknown auth error",status:500,timestamp:Date.now(),path:""}}else Se.error=x;return Se}intercept(o,d){const x=this.inj.get(h.uR),ee=x.getToken();let Se,Ae;if(x.isTokenExpired())return(0,bs.of)(null);if(this.isAuthRequest(o)&&!this.isLogoutResponse(o)||!(0,V.hj)(ee))Se=o.clone();else{Ae=x.buildAuthHeader(ee);let ft=o.headers.set("authorization",Ae);const jt=x.getImpersonateID();(0,V.a4)(jt)&&(ft=ft.set("X-On-Behalf-Of",jt)),Se=o.clone({headers:ft})}return d.handle(Se).pipe((0,Rt.T)(ft=>{if(ft instanceof ie.cS&&this.isSuccess(ft)&&this.isAuthRequest(ft)){let jt;if(this.isLoginResponse(ft)){const _n=ft.headers.get("authorization");jt=ft.clone({body:this.makeAuthStatusObject(!0,_n)}),this.refreshTokenRequestUrls=[]}else jt=this.isStatusResponse(ft)?ft.clone({body:Object.assign(ft.body,{authMethods:this.parseAuthMethodsFromHeaders(ft.headers)})}):ft.clone({body:this.makeAuthStatusObject(!1)});return jt}return ft}),(0,In.W)((ft,jt)=>{if(ft instanceof ie.yz){if(this.isAuthRequest(ft)){this.refreshTokenRequestUrls=[];const _n=new ie.cS({body:this.makeAuthStatusObject(!1,null,ft.error,ft.headers),headers:ft.headers,status:ft.status,statusText:ft.statusText,url:ft.url});return(0,bs.of)(_n)}this.isUnauthorized(ft)&&(0,V.Pe)(ee)&&x.isTokenExpired()&&this.store.dispatch(new z.Wu("auth.messages.expired"))}return(0,ea.$)(ft)}))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(e.zZn),e.KVO(_.Ix),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),h0=(()=>{class u{constructor(o,d){this.appConfig=o,this.platformId=d,this.baseUrl=this.appConfig.rest.baseUrl,this.ssrBaseUrl=this.appConfig.rest.ssrBaseUrl}intercept(o,d){if((0,p.UE)(this.platformId)||(0,V.Im)(this.ssrBaseUrl)||this.baseUrl===this.ssrBaseUrl)return d.handle(o);const x=o.url.replace(this.baseUrl,this.ssrBaseUrl),ee=o.clone({url:x});return d.handle(ee)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(ti.vQ),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var YT=n(31943),Pc=n(63648);let ql=(()=>{class u{constructor(o){this.localeService=o}intercept(o,d){let x;return this.localeService.getLanguageCodeList().pipe((0,YT.S)((ee,Se)=>[...ee,Se],[]),(0,zn.Z)(ee=>(x=o.clone({headers:o.headers.set("Accept-Language",ee.toString())}),d.handle(x))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Pc.iH))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var hu=n(93130),yd=n(10110);const XT=u=>u.correlationId;var JT=n(30164);let hf=(()=>{class u{constructor(o,d,x){this.cookieService=o,this.uuidService=d,this.store=x}initCorrelationId(){let o=this.cookieService.get("CORRELATION-ID");(0,V.Im)(o)&&(o=this.getCorrelationId()),(0,V.Im)(o)&&(o=this.uuidService.generate()),this.store.dispatch(new yd.q(o)),this.cookieService.set("CORRELATION-ID",o)}getCorrelationId(){let o;return this.store.pipe((0,v.Lt)(XT),(0,D.s)(1)).subscribe(d=>{o=d}),o}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(hu.O),e.KVO(JT.v),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),IR=(()=>{class u{constructor(o,d){this.cidService=o,this.router=d}intercept(o,d){const x=this.cidService.getCorrelationId();let ee=o.headers;return(0,V.a4)(x)&&(ee=ee.append("X-CORRELATION-ID",x)),ee=ee.append("X-REFERRER",this.router.url),o=o.clone({withCredentials:!0,headers:ee}),d.handle(o)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(hf),e.KVO(_.Ix))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Ue=n(31635),hn=n(74850),ci=n(21921),ec=n(56970),hi=n(42547),gr=n(98688),Rc=n(29009);let Ed=class extends ec.I{static{this.type=Rc.uC}get self(){return this._links.self.href}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Ed.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ed.prototype,"id",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Ed.prototype,"_links",void 0),Ed=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(ec.I)],Ed);let ra=class extends ec.I{static{this.type=Rc.zd}get self(){return this._links.self.href}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],ra.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],ra.prototype,"id",void 0),(0,Ue.Cg)([(0,hn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],ra.prototype,"uuid",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"name",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"description",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"url",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],ra.prototype,"score",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],ra.prototype,"enabled",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"ldnUrl",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"lowerIp",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ra.prototype,"upperIp",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],ra.prototype,"notifyServiceInboundPatterns",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],ra.prototype,"_links",void 0),ra=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(ec.I)],ra);const pf=new hi.v("notifyrequests");let oa=class{static{this.type=pf}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],oa.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],oa.prototype,"notifyStatus",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],oa.prototype,"itemuuid",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],oa.prototype,"_links",void 0),oa=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(ec.I)],oa),n(30721),n(24903);var mf=n(53778);const vg=new e.nKC("mockResponseMap",{providedIn:"root",factory:()=>gf}),gf=new Map([]);let _f=(()=>{class u extends mf.Y{constructor(o,d){super(d),this.mockResponseMap=o,this.http=d}get(o){const d=this.getMockData(o);return(0,V.Im)(d)?super.get(o):this.toMockResponse$(d)}request(o,d,x,ee,Se){const Ae=this.getMockData(d);return(0,V.Im)(Ae)?super.request(o,d,x,ee,Se):this.toMockResponse$(Ae)}toMockResponse$(o){return(0,bs.of)({payload:o,headers:new ie.Lr,statusCode:200,statusText:"OK"})}getMockData(o){let d;if(d=this.mockResponseMap.has(o)?o:new URL(o).pathname.slice(R.c.rest.nameSpace.length),this.mockResponseMap.has(d))return JSON.parse(JSON.stringify(this.mockResponseMap.get(d)))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(vg),e.KVO(ie.Qq))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var vf=n(87922);let Cd=class{static{this.type=vf.E}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Cd.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Cd.prototype,"status",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Cd.prototype,"_links",void 0),Cd=(0,Ue.Cg)([ci.gV],Cd);var p0=n(89177);let pu=class{static{this.type=p0.f}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],pu.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],pu.prototype,"identifiers",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],pu.prototype,"_links",void 0),pu=(0,Ue.Cg)([ci.gV],pu),n(67478);const m0=new hi.v("submissioncoarnotifyconfig");new hi.v("workspaceitem");let co=class extends ec.I{static{this.type=m0}get self(){return this._links.self.href}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],co.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],co.prototype,"id",void 0),(0,Ue.Cg)([(0,hn.deserializeAs)("id"),(0,Ue.Sn)("design:type",String)],co.prototype,"uuid",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],co.prototype,"patterns",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],co.prototype,"_links",void 0),co=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(ec.I)],co),n(30398);const g0=new hi.v("shortlivedtoken");let Ac=class{static{this.type=g0}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Ac.prototype,"type",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)("token"),(0,Ue.Sn)("design:type",String)],Ac.prototype,"value",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Ac.prototype,"_links",void 0),Ac=(0,Ue.Cg)([ci.gV],Ac);var Kr=n(49797),va=n(96787);let tc=class extends Kr.G{static{this.type=va.XI}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],tc.prototype,"type",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],tc.prototype,"uuid",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],tc.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],tc.prototype,"itemAccessConditionOptions",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],tc.prototype,"bitstreamAccessConditionOptions",void 0),tc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Kr.G)],tc);let nc=class extends Kr.G{static{this.type=va.NS}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],nc.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],nc.prototype,"discoverable",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],nc.prototype,"canChangeDiscoverable",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],nc.prototype,"_links",void 0),nc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Kr.G)],nc);let Eg=class extends nc{static{this.type=va.NS}};Eg=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(nc)],Eg),n(25168),n(7232),n(66731);let sc=class extends Kr.G{static{this.type=va.WJ}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],sc.prototype,"header",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],sc.prototype,"mandatory",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],sc.prototype,"scope",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],sc.prototype,"sectionType",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Object)],sc.prototype,"visibility",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],sc.prototype,"_links",void 0),sc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Kr.G)],sc);let Ll=class extends Kr.G{static{this.type=va.mU}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Ll.prototype,"accessConditionOptions",void 0),(0,Ue.Cg)([(0,ci.nf)(va.KX),(0,Ue.Sn)("design:type",Lr.c)],Ll.prototype,"metadata",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Ll.prototype,"required",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ll.prototype,"maxSize",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Ll.prototype,"_links",void 0),Ll=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Kr.G)],Ll);let Cg=class extends Ll{static{this.type=va.V_}};Cg=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Ll)],Cg);const v0=new hi.v("root");let Nl=class{static{this.type=v0}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Nl.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Nl.prototype,"dspaceUI",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Nl.prototype,"dspaceName",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Nl.prototype,"dspaceServer",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Nl.prototype,"dspaceVersion",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Nl.prototype,"_links",void 0),Nl=(0,Ue.Cg)([ci.gV],Nl),n(26349),n(31924),n(52733),n(32872);var wc=n(13868);const bg=new hi.v("qualityassuranceevent");let aa=class{static{this.type=bg}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],aa.prototype,"id",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)(String,"id"),(0,Ue.Sn)("design:type",String)],aa.prototype,"uuid",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],aa.prototype,"originalId",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],aa.prototype,"title",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],aa.prototype,"trust",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],aa.prototype,"eventDate",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],aa.prototype,"status",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Object)],aa.prototype,"message",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],aa.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],aa.prototype,"_links",void 0),(0,Ue.Cg)([(0,ci.nf)(wc.U),(0,Ue.Sn)("design:type",Lr.c)],aa.prototype,"target",void 0),(0,Ue.Cg)([(0,ci.nf)(wc.U),(0,Ue.Sn)("design:type",Lr.c)],aa.prototype,"related",void 0),aa=(0,Ue.Cg)([ci.gV],aa);const Tg=new hi.v("qualityassurancesource");let ic=class{static{this.type=Tg}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ic.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ic.prototype,"lastEvent",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],ic.prototype,"totalEvents",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],ic.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],ic.prototype,"_links",void 0),ic=(0,Ue.Cg)([ci.gV],ic);const b0=new hi.v("qualityassurancetopic");let rc=class{static{this.type=b0}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],rc.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],rc.prototype,"name",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],rc.prototype,"lastEvent",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],rc.prototype,"totalEvents",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],rc.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],rc.prototype,"_links",void 0),rc=(0,Ue.Cg)([ci.gV],rc);const T0=new hi.v("suggestionsource");let bd=class{static{this.type=T0}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],bd.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],bd.prototype,"total",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],bd.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],bd.prototype,"_links",void 0),bd=(0,Ue.Cg)([ci.gV],bd);const Dg=new hi.v("suggestiontarget");let xc=class{static{this.type=Dg}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],xc.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],xc.prototype,"display",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],xc.prototype,"source",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],xc.prototype,"total",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],xc.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],xc.prototype,"_links",void 0),xc=(0,Ue.Cg)([ci.gV],xc);const Og=new hi.v("orcidhistory");let Ja=class extends ec.I{static{this.type=Og}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Ja.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ja.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ja.prototype,"entityName",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ja.prototype,"profileItemId",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ja.prototype,"entityId",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ja.prototype,"entityType",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],Ja.prototype,"status",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Ja.prototype,"putCode",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Ja.prototype,"_links",void 0),Ja=(0,Ue.Cg)([ci.gV],Ja);const D0=new hi.v("orcidqueue");let Fl=class extends ec.I{static{this.type=D0}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Fl.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],Fl.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Fl.prototype,"description",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Fl.prototype,"profileItemId",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Fl.prototype,"entityId",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Fl.prototype,"recordType",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Fl.prototype,"operation",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Fl.prototype,"_links",void 0),Fl=(0,Ue.Cg)([ci.gV],Fl),n(76151),n(28235);var yf=n(58235);const M0=new hi.v("authorization");var Co=n(76829);const Ef=new hi.v("feature");let Lc=class extends Co.M{static{this.type=M0}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Lc.prototype,"id",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Lc.prototype,"_links",void 0),(0,Ue.Cg)([(0,ci.nf)(yf.N),(0,Ue.Sn)("design:type",Lr.c)],Lc.prototype,"eperson",void 0),(0,Ue.Cg)([(0,ci.nf)(Ef),(0,Ue.Sn)("design:type",Lr.c)],Lc.prototype,"feature",void 0),(0,Ue.Cg)([(0,ci.nf)(wc.U),(0,Ue.Sn)("design:type",Lr.c)],Lc.prototype,"object",void 0),Lc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],Lc);var Mg=n(33376),nD=(n(760),n(34427),n(22878));const sD=new hi.v("browseEntry");let ul=class extends nD.u{static{this.type=sD}getRenderTypes(){return[this.constructor]}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],ul.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ul.prototype,"authority",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ul.prototype,"value",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)("valueLang"),(0,Ue.Sn)("design:type",String)],ul.prototype,"language",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)("thumbnail"),(0,Ue.Sn)("design:type",String)],ul.prototype,"thumbnail",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",Number)],ul.prototype,"count",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],ul.prototype,"_links",void 0),ul=(0,Ue.Cg)([ci.gV],ul);var I0=n(70673);const S0=new hi.v("property");let Nc=class{static{this.type=S0}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Nc.prototype,"type",void 0),(0,Ue.Cg)([(0,hn.autoserializeAs)(String,"name"),(0,Ue.Sn)("design:type",String)],Nc.prototype,"uuid",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Nc.prototype,"name",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Nc.prototype,"values",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Nc.prototype,"_links",void 0),Nc=(0,Ue.Cg)([ci.gV],Nc),n(31507);var Sg=n(15179);let oc=class extends Co.M{static{this.type=Ef}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],oc.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],oc.prototype,"description",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],oc.prototype,"resourcetypes",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],oc.prototype,"_links",void 0),oc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],oc),n(55451),n(98277);var hl=n(88318),bf=(n(23881),n(67359),n(59854),n(52920),n(18602));let Td=class extends Co.M{static{this.type=bf.m}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Td.prototype,"custom",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Td.prototype,"text",void 0),Td=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],Td),n(8472),n(71135);const Ag=new hi.v("discover");let Qa=class{static{this.type=Ag}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Qa.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Qa.prototype,"filters",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Qa.prototype,"sortOptions",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Qa.prototype,"type",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Qa.prototype,"_links",void 0),Qa=(0,Ue.Cg)([ci.gV],Qa);const P0=new hi.v("site");let Df=class extends Co.M{static{this.type=P0}};Df=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],Df);var R0=n(9927);const rD=new hi.v("itemtemplate");let gu=class extends hl.q{static{this.type=rD}};(0,Ue.Cg)([(0,ci.nf)(R0.n),(0,Ue.Sn)("design:type",Lr.c)],gu.prototype,"templateItemOf",void 0),gu=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(hl.q)],gu),n(50800),n(2035);var w0=n(16321),_u=n(65592);let Bl=class extends Co.M{static{this.type=_u.s}};(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Bl.prototype,"_links",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Bl.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Bl.prototype,"summary",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Bl.prototype,"submitterName",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Bl.prototype,"draftVersion",void 0),(0,Ue.Cg)([gr.aK,(0,ci.nf)(w0.x,!0),(0,Ue.Sn)("design:type",Lr.c)],Bl.prototype,"versions",void 0),Bl=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],Bl),n(12070),n(62572);var lD=n(11453);const cD=new hi.v("submissioncclicenseUrl");let ac=class extends lD.s{static{this.type=cD}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],ac.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],ac.prototype,"url",void 0),ac=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(lD.s)],ac);var x0=n(25567),Ih=n(91581),Fc=n(30056);let pl=class{static{this.type=Fc.Hx}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],pl.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],pl.prototype,"name",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],pl.prototype,"scrollable",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],pl.prototype,"hierarchical",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Object)],pl.prototype,"preloadLevel",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",Object)],pl.prototype,"type",void 0),(0,Ue.Cg)([(0,ci.nf)(Fc.mt,!0),(0,Ue.Sn)("design:type",Lr.c)],pl.prototype,"entries",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],pl.prototype,"_links",void 0),pl=(0,Ue.Cg)([ci.gV],pl);var vu=n(43235);n(36599);class lc{}(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],lc.prototype,"id",void 0);var Sh=n(78416),Lg=n(27605);const L0=new hi.v("ratingrevieweraction"),N0=new hi.v("selectrevieweraction");let Bc=class extends lc{static{this.type=L0}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Bc.prototype,"descriptionRequired",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Number)],Bc.prototype,"maxValue",void 0),Bc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(lc)],Bc);let yu=class extends lc{static{this.type=N0}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],yu.prototype,"group",void 0),yu=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(lc)],yu),n(55411);var F0=n(47069);let Uc=class extends Co.M{static{this.type=F0.f}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Uc.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Uc.prototype,"options",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Boolean)],Uc.prototype,"advanced",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Uc.prototype,"advancedOptions",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",Array)],Uc.prototype,"advancedInfo",void 0),Uc=(0,Ue.Cg)([ci.gV,(0,hn.inheritSerialization)(Co.M)],Uc);var Ph=n(2632);let Ng=(()=>{class u extends hu.O{set(o,d,x){(0,Ph.set)(o,d,x),this.updateSource()}remove(o,d){(0,Ph.remove)(o,d),this.updateSource()}get(o){return(0,Ph.getJSON)(o)}getAll(){return(0,Ph.getJSON)()}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Nn=n(89417),ks=n(26292),Wn=n(78448),Cu=n(77537),Hn=n(81569),Di=n(1321),No=n(42578),Ui=n(97402),$r=n(55309),Pi=n(39092),Rh=n(39552),jr=n(73584);let jc=(()=>{class u extends jr.C{constructor(o,d,x){super(o),this.dsoNameService=o,this.truncatableService=d,this.bitstreamDataService=x}ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject,this.isCollapsed$=this.isCollapsed())}allMetadataValues(o){return Rh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return Rh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}isCollapsed(){return this.truncatableService.isCollapsed(this.dso.id)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Rs.f),e.rXU(Pi.F),e.rXU(No.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return u})();const dD=["*"],U0=u=>["/collections/",u];function j0(u,E){if(1&u&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,U0,d.dso.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function uD(u,E){if(1&u&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function hD(u,E){if(1&u&&e.nrm(0,"ds-badges",11),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function pD(u,E){if(1&u&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function fD(u,E){if(1&u&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,U0,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let kc=class JP extends jc{constructor(E,o,d,x){super(E,d,x),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.bitstreamDataService=x}set dso(E){this._dso=E,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,js.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||JP)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Pi.F),e.rXU(No.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:JP,selectors:[["ds-collection-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:dD,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,j0,4,12,"a",1)(2,uD,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,hD,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,pD,2,1,"p",6)(8,fD,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(2),e.JRh(d.dsoNameService.getName(d.dso)),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,$r.F,p.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};kc=(0,Ue.Cg)([(0,Hn.VK)(Cu.A,Wn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Pi.F,No.BitstreamDataService])],kc);const cc=u=>[u];let Vc=class Rb extends jc{ngOnInit(){super.ngOnInit(),this.editPath=(0,gd._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Rb)))(d||Rb)}})()}static{this.\u0275cmp=e.VBU({type:Rb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.j41(0,"ds-collection-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,cc,d.editPath)))},dependencies:[kc,_.Wk]})}};Vc=(0,Ue.Cg)([(0,Hn.VK)(Cu.A,Wn.n.GridElement,ks.o.AdminSearch)],Vc);var Dd=n(17132);const k0=["*"],Fg=u=>["/communities/",u];function wR(u,E){if(1&u&&(e.j41(0,"a",8),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",9),e.nI1(3,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Fg,d.dso.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function xR(u,E){if(1&u&&(e.j41(0,"span",10),e.nrm(1,"ds-thumbnail",9),e.nI1(2,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.dso.logo))?null:o.payload)("limitWidth",!1)}}function LR(u,E){if(1&u&&e.nrm(0,"ds-badges",11),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Bg(u,E){if(1&u&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.dso.shortDescription)}}function Ug(u,E){if(1&u&&(e.j41(0,"div",13)(1,"a",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Fg,o.dso.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Mf=class QP extends jc{constructor(E,o,d,x){super(E,d,x),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.bitstreamDataService=x}set dso(E){this._dso=E,(0,V.a4)(this._dso)&&(0,V.Tn)(this._dso.logo)&&this.linkService.resolveLink(this._dso,(0,js.s)("logo"))}get dso(){return this._dso}static{this.\u0275fac=function(o){return new(o||QP)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Pi.F),e.rXU(No.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:QP,selectors:[["ds-community-search-result-grid-element"]],inputs:{dso:"dso"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:k0,decls:10,vars:6,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[3,"object","context"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(),e.j41(0,"div",0),e.DNE(1,wR,4,12,"a",1)(2,xR,3,4,"span",2),e.j41(3,"div",3),e.DNE(4,LR,1,2,"ds-badges",4),e.j41(5,"h4",5),e.EFF(6),e.k0s(),e.DNE(7,Bg,2,1,"p",6)(8,Ug,4,8,"div",7),e.k0s(),e.SdG(9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(2),e.JRh(d.dsoNameService.getName(d.dso)),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,$r.F,p.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Mf=(0,Ue.Cg)([(0,Hn.VK)(Dd.L,Wn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Pi.F,No.BitstreamDataService])],Mf);const NR=u=>[u];let Ah=class Ab extends jc{ngOnInit(){super.ngOnInit(),this.editPath=(0,_h.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Ab)))(d||Ab)}})()}static{this.\u0275cmp=e.VBU({type:Ab,selectors:[["ds-community-admin-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:7,consts:[[3,"object","index","linkType","listID"],[1,"list-group","list-group-flush"],[1,"list-group-item","text-center"],[1,"btn","btn-light","btn-sm","btn-auto","my-1","edit-link",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.j41(0,"ds-community-search-result-grid-element",0)(1,"ul",1)(2,"li",2)(3,"a",3),e.nrm(4,"i",4),e.k0s()()()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(3),e.Y8G("routerLink",e.eq3(5,NR,d.editPath)))},dependencies:[Mf,_.Wk]})}};Ah=(0,Ue.Cg)([(0,Hn.VK)(Dd.L,Wn.n.GridElement,ks.o.AdminSearch)],Ah);var Od=n(92827),wa=n(27442),Ul=n(45663),Md=n(4436);const Id=u=>({"btn-sm":u}),Gc=u=>[u];function V0(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.move"),""))}function mD(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-private"),""))}function gD(u,E){if(1&u&&(e.j41(0,"a",13),e.nI1(1,"translate"),e.nrm(2,"i",14),e.DNE(3,mD,3,3,"span",3),e.k0s()),2&u){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Id,o.small))("routerLink",e.eq3(8,Gc,o.getPrivateRoute()))("title",e.bMT(1,4,"admin.search.item.make-private")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function G0(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.make-public"),""))}function If(u,E){if(1&u&&(e.j41(0,"a",15),e.nI1(1,"translate"),e.nrm(2,"i",16),e.DNE(3,G0,3,3,"span",3),e.k0s()),2&u){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Id,o.small))("routerLink",e.eq3(8,Gc,o.getPublicRoute()))("title",e.bMT(1,4,"admin.search.item.make-public")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function $0(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.edit"),""))}function jg(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.withdraw"),""))}function _D(u,E){if(1&u&&(e.j41(0,"a",17),e.nI1(1,"translate"),e.nrm(2,"i",18),e.DNE(3,jg,3,3,"span",3),e.k0s()),2&u){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Id,o.small))("routerLink",e.eq3(8,Gc,o.getWithdrawRoute()))("title",e.bMT(1,4,"admin.search.item.withdraw")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function Sd(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.reinstate"),""))}function W0(u,E){if(1&u&&(e.j41(0,"a",19),e.nI1(1,"translate"),e.nrm(2,"i",20),e.DNE(3,Sd,3,3,"span",3),e.k0s()),2&u){const o=e.XpG();e.Y8G("ngClass",e.eq3(6,Id,o.small))("routerLink",e.eq3(8,Gc,o.getReinstateRoute()))("title",e.bMT(1,4,"admin.search.item.reinstate")),e.R7$(3),e.Y8G("ngIf",!o.small)}}function vD(u,E){1&u&&(e.j41(0,"span",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.search.item.delete"),""))}let wh=(()=>{class u{getEditRoute(){return(0,Ls.$r)(this.item)}getMoveRoute(){return new Ul.t(this.getEditRoute(),Md.Bw).toString()}getDeleteRoute(){return new Ul.t(this.getEditRoute(),Md.Jr).toString()}getWithdrawRoute(){return new Ul.t(this.getEditRoute(),Md.kH).toString()}getReinstateRoute(){return new Ul.t(this.getEditRoute(),Md.Pg).toString()}getPrivateRoute(){return new Ul.t(this.getEditRoute(),Md.$2).toString()}getPublicRoute(){return new Ul.t(this.getEditRoute(),Md.RS).toString()}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-admin-search-result-actions-element"]],inputs:{item:"item",small:"small"},standalone:!0,features:[e.aNF],decls:17,vars:34,consts:[[1,"space-children-mr","my-1"],[1,"btn","btn-secondary","move-link",3,"ngClass","routerLink","title"],[1,"fa","fa-arrow-circle-right"],["class","d-none d-sm-inline",4,"ngIf"],["class","btn btn-secondary private-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-secondary public-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-secondary","edit-link",3,"ngClass","routerLink","title"],[1,"fa","fa-edit"],["class","btn btn-warning t withdraw-link",3,"ngClass","routerLink","title",4,"ngIf"],["class","btn btn-warning reinstate-link",3,"ngClass","routerLink","title",4,"ngIf"],[1,"btn","btn-danger","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],[1,"d-none","d-sm-inline"],[1,"btn","btn-secondary","private-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye-slash"],[1,"btn","btn-secondary","public-link",3,"ngClass","routerLink","title"],[1,"fa","fa-eye"],[1,"btn","btn-warning","t","withdraw-link",3,"ngClass","routerLink","title"],[1,"fa","fa-ban"],[1,"btn","btn-warning","reinstate-link",3,"ngClass","routerLink","title"],[1,"fa","fa-undo"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,V0,3,3,"span",3),e.k0s(),e.DNE(5,gD,4,10,"a",4)(6,If,4,10,"a",5),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,$0,3,3,"span",3),e.k0s(),e.DNE(11,_D,4,10,"a",8)(12,W0,4,10,"a",9),e.j41(13,"a",10),e.nI1(14,"translate"),e.nrm(15,"i",11),e.DNE(16,vD,3,3,"span",3),e.k0s()()),2&d&&(e.R7$(),e.Y8G("ngClass",e.eq3(22,Id,x.small))("routerLink",e.eq3(24,Gc,x.getMoveRoute()))("title",e.bMT(2,16,"admin.search.item.move")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngIf",x.item&&x.item.isDiscoverable),e.R7$(),e.Y8G("ngIf",x.item&&!x.item.isDiscoverable),e.R7$(),e.Y8G("ngClass",e.eq3(26,Id,x.small))("routerLink",e.eq3(28,Gc,x.getEditRoute()))("title",e.bMT(8,18,"admin.search.item.edit")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngIf",x.item&&!x.item.isWithdrawn),e.R7$(),e.Y8G("ngIf",x.item&&x.item.isWithdrawn),e.R7$(),e.Y8G("ngClass",e.eq3(30,Id,x.small))("routerLink",e.eq3(32,Gc,x.getDeleteRoute()))("title",e.bMT(14,20,"admin.search.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[p.YU,_.Wk,p.bT,G.h,G.D9]})}}return u})();const kg=["badges"],yD=["buttons"],ED=["*"];function CD(u,E){}let Sf=class ZP extends jc{constructor(E,o,d,x){super(E,o,d),this.dsoNameService=E,this.truncatableService=o,this.bitstreamDataService=d,this.themeService=x}ngOnInit(){super.ngOnInit();const E=this.getComponent(),o=this.dynamicComponentLoaderDirective.viewContainerRef;o.clear(),this.compRef=o.createComponent(E,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",this.object),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID)}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(){return(0,Hn.Zx)(this.object.getRenderTypes(),Wn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||ZP)(e.rXU(Rs.f),e.rXU(Pi.F),e.rXU(No.BitstreamDataService),e.rXU(H.Fs))}}static{this.\u0275cmp=e.VBU({type:ZP,selectors:[["ds-item-admin-search-result-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Od.z,7),e.GBs(kg,7),e.GBs(yD,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:ED,decls:8,vars:2,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"d-flex","justify-content-between",3,"item","small"]],template:function(o,d){1&o&&(e.NAR(),e.DNE(0,CD,0,0,"ng-template",2),e.j41(1,"div",null,0),e.SdG(3),e.k0s(),e.j41(4,"ul",3,1)(6,"li",4),e.nrm(7,"ds-item-admin-search-result-actions-element",5),e.k0s()()),2&o&&(e.R7$(7),e.Y8G("item",d.dso)("small",!0))},dependencies:[wh,Od.z]})}};Sf=(0,Ue.Cg)([(0,Hn.VK)(wa.H,Wn.n.GridElement,ks.o.AdminSearch),(0,Ue.Sn)("design:paramtypes",[Rs.f,Pi.F,No.BitstreamDataService,H.Fs])],Sf);var Po=n(79411);const FR=u=>[u];function BR(u,E){1&u&&e.nrm(0,"div",7)}function xh(u,E){if(1&u&&e.nrm(0,"ds-badges",8),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function bD(u,E){if(1&u&&e.nrm(0,"a",9),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,FR,"/collections/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function TD(u,E){if(1&u&&e.nrm(0,"span",10),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function DD(u,E){if(1&u&&e.nrm(0,"div",11),2&u){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let bu=class wb extends Po.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(wb)))(d||wb)}})()}static{this.\u0275cmp=e.VBU({type:wb,selectors:[["ds-collection-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2 ",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,BR,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,xh,1,2,"ds-badges",3)(4,bD,1,6,"a",4)(5,TD,1,1,"span",5)(6,DD,1,1,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription))},dependencies:[p.bT,p.YU,$r.F,_.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};bu=(0,Ue.Cg)([(0,Hn.VK)(Cu.A,Wn.n.ListElement)],bu);const OD=u=>[u];let Pf=class xb extends Po.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,gd._E)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(xb)))(d||xb)}})()}static{this.\u0275cmp=e.VBU({type:xb,selectors:[["ds-collection-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],["data-test","coll-link",1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.nrm(0,"ds-collection-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,OD,d.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.collection.edit")," "))},dependencies:[bu,_.Wk,G.h,G.D9]})}};Pf=(0,Ue.Cg)([(0,Hn.VK)(Cu.A,Wn.n.ListElement,ks.o.AdminSearch)],Pf);const MD=u=>[u];function ID(u,E){1&u&&e.nrm(0,"div",7)}function SD(u,E){if(1&u&&e.nrm(0,"ds-badges",8),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function PD(u,E){if(1&u&&e.nrm(0,"a",9),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,MD,"/communities/"+o.dso.id))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Vg(u,E){if(1&u&&e.nrm(0,"span",10),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function UR(u,E){if(1&u&&e.nrm(0,"div",11),2&u){const o=e.XpG();e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}let Rf=class Lb extends Po.P{ngOnInit(){super.ngOnInit(),this.showThumbnails=this.showThumbnails??this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Lb)))(d||Lb)}})()}static{this.\u0275cmp=e.VBU({type:Lb,selectors:[["ds-community-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","offset-3 offset-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],["class","text-muted abstract-text",3,"innerHTML",4,"ngIf"],[1,"offset-3","offset-md-2"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"text-muted","abstract-text",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,ID,1,0,"div",1),e.j41(2,"div",2),e.DNE(3,SD,1,2,"ds-badges",3)(4,PD,1,6,"a",4)(5,Vg,1,1,"span",5)(6,UR,1,1,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.dso.shortDescription))},dependencies:[p.bT,p.YU,$r.F,_.Wk],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Rf=(0,Ue.Cg)([(0,Hn.VK)(Dd.L,Wn.n.ListElement)],Rf);const Gg=u=>[u];let $g=class Nb extends Po.P{ngOnInit(){super.ngOnInit(),this.editPath=(0,_h.pk)(this.dso.uuid)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Nb)))(d||Nb)}})()}static{this.\u0275cmp=e.VBU({type:Nb,selectors:[["ds-community-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[[3,"object","index","linkType","listID"],[1,"btn","btn-light","mt-1",3,"routerLink"],[1,"fa","fa-edit"]],template:function(o,d){1&o&&(e.nrm(0,"ds-community-search-result-list-element",0),e.j41(1,"div")(2,"a",1),e.nrm(3,"i",2),e.EFF(4),e.nI1(5,"translate"),e.k0s()()),2&o&&(e.Y8G("object",d.object)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(2),e.Y8G("routerLink",e.eq3(8,Gg,d.editPath)),e.R7$(2),e.SpI(" ",e.bMT(5,6,"admin.search.community.edit")," "))},dependencies:[Rf,_.Wk,G.h,G.D9]})}};$g=(0,Ue.Cg)([(0,Hn.VK)(Dd.L,Wn.n.ListElement,ks.o.AdminSearch)],$g);var Tu=n(17191);let Wg=class Fb extends Po.P{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Fb)))(d||Fb)}})()}static{this.\u0275cmp=e.VBU({type:Fb,selectors:[["ds-item-admin-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:7,consts:[[3,"object","viewMode","index","linkType","listID"],[3,"item","small"]],template:function(o,d){1&o&&e.nrm(0,"ds-listable-object-component-loader",0)(1,"ds-item-admin-search-result-actions-element",1),2&o&&(e.Y8G("object",d.object)("viewMode",d.viewModes.ListElement)("index",d.index)("linkType",d.linkType)("listID",d.listID),e.R7$(),e.Y8G("item",d.dso)("small",!1))},dependencies:[Tu.v,wh]})}};Wg=(0,Ue.Cg)([(0,Hn.VK)(wa.H,Wn.n.ListElement,ks.o.AdminSearch)],Wg);var Lh=n(79951);const RD=u=>({"btn-sm":u}),K0=u=>[u];function Af(u,E){1&u&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function wf(u,E){1&u&&(e.j41(0,"span",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.send-back"),""))}let Nh=(()=>{class u{getDeleteRoute(){return(0,Lh.BD)(this.wfi.id)}getSendBackRoute(){return(0,Lh.Rk)(this.wfi.id)}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-workflow-item-admin-workflow-actions-element"]],inputs:{wfi:"wfi",small:"small"},standalone:!0,features:[e.aNF],decls:9,vars:20,consts:[[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","send-back-link",3,"ngClass","routerLink","title"],[1,"fa","fa-hand-point-left"],[1,"d-none","d-sm-inline"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"a",1),e.nI1(2,"translate"),e.nrm(3,"i",2),e.DNE(4,Af,3,3,"span",3),e.k0s(),e.j41(5,"a",4),e.nI1(6,"translate"),e.nrm(7,"i",5),e.DNE(8,wf,3,3,"span",3),e.k0s()()),2&d&&(e.R7$(),e.Y8G("ngClass",e.eq3(12,RD,x.small))("routerLink",e.eq3(14,K0,x.getDeleteRoute()))("title",e.bMT(2,8,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(16,RD,x.small))("routerLink",e.eq3(18,K0,x.getSendBackRoute()))("title",e.bMT(6,10,"admin.workflow.item.send-back")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[p.YU,_.Wk,p.bT,G.h,G.D9]})}}return u})();var Pd=n(66129),H0=n(43280),Ko=n(7434),z0=n(24547),Kg=n(36074),Rd=n(83987);let so=class{static{this.type=Rd.T}};(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],so.prototype,"id",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],so.prototype,"type",void 0),(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",String)],so.prototype,"ordertype",void 0),(0,Ue.Cg)([(0,hn.deserializeAs)(new z0.a("supervision-order"),"id"),(0,Ue.Sn)("design:type",String)],so.prototype,"uuid",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],so.prototype,"_links",void 0),(0,Ue.Cg)([(0,ci.nf)(wc.U),(0,Ue.Sn)("design:type",Lr.c)],so.prototype,"item",void 0),(0,Ue.Cg)([(0,ci.nf)(Kg.U),(0,Ue.Sn)("design:type",Lr.c)],so.prototype,"group",void 0),so=(0,Ue.Cg)([ci.gV],so);var fl=n(50518),Y0=n(79632);function jR(u,E){1&u&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&u&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.type-of-order.error"))}function AD(u,E){1&u&&(e.nrm(0,"ds-error",20),e.nI1(1,"translate")),2&u&&e.FS9("message",e.bMT(1,1,"supervision-group-selector.select.group.error"))}let kR=(()=>{class u{constructor(o,d,x,ee,Se){this.dsoNameService=o,this.activeModal=d,this.supervisionOrderDataService=x,this.notificationsService=ee,this.translateService=Se,this.isSubmitted=!1,this.create=new e.bkB}close(){this.activeModal.close()}updateGroupObjectSelected(o){this.selectedGroup=o}save(){if(this.isSubmitted=!0,this.selectedOrderType&&this.selectedGroup){const o=new so;o.ordertype=this.selectedOrderType,this.supervisionOrderDataService.create(o,this.itemUUID,this.selectedGroup.uuid,this.selectedOrderType).pipe((0,ws.qD)()).subscribe(d=>{d.state===Ko.zE.Success?(this.notificationsService.success(this.translateService.get("supervision-group-selector.notification.create.success.title",{name:this.dsoNameService.getName(this.selectedGroup)})),this.create.emit(d.payload),this.close()):this.notificationsService.error(this.translateService.get("supervision-group-selector.notification.create.failure.title"),422===d.statusCode?this.translateService.get("supervision-group-selector.notification.create.already-existing"):d.errorMessage)})}}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Rs.f),e.rXU(X.Lw),e.rXU(Pd.SupervisionOrderDataService),e.rXU(to.I),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-supervision-group-selector"]],outputs:{create:"create"},standalone:!0,features:[e.aNF],decls:40,vars:29,consts:[[1,"modal-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"control-group","col-sm-12"],["for","supervisionOrder"],["name","supervisionOrder","id","supervisionOrder",1,"form-control",3,"ngModelChange","ngModel"],["value","EDITOR"],["value","OBSERVER"],[3,"message",4,"ngIf"],["for","supervisionGroup"],[1,"mb-3"],["id","supervisionGroup","type","text","disabled","",1,"form-control",3,"value"],[3,"select","isListOfEPerson"],[1,"modal-footer"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times"],[1,"btn","btn-primary","save",3,"click"],[1,"fas","fa-save"],[3,"message"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"button",1),e.bIt("click",function(){return x.close()}),e.j41(5,"span",2),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"select",7),e.nI1(14,"translate"),e.mxI("ngModelChange",function(Se){return e.DH7(x.selectedOrderType,Se)||(x.selectedOrderType=Se),Se}),e.j41(15,"option",8),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.j41(18,"option",9),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.DNE(21,jR,2,3,"ds-error",10),e.k0s()(),e.j41(22,"div",4)(23,"div",5)(24,"label",11),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.qex(27,12),e.nrm(28,"input",13),e.DNE(29,AD,2,3,"ds-error",10),e.bVm(),e.j41(30,"ds-eperson-group-list",14),e.bIt("select",function(Se){return x.updateGroupObjectSelected(Se)}),e.k0s()()(),e.j41(31,"div",15)(32,"button",16),e.bIt("click",function(){return x.close()}),e.nrm(33,"i",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"button",18),e.bIt("click",function(){return x.save()}),e.nrm(37,"i",19),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&d&&(e.R7$(2),e.SpI("",e.bMT(3,13,"supervision-group-selector.header")," "),e.R7$(9),e.JRh(e.bMT(12,15,"supervision-group-selector.select.type-of-order.label")),e.R7$(2),e.R50("ngModel",x.selectedOrderType),e.BMQ("aria-label",e.bMT(14,17,"supervision-group-selector.select.type-of-order.label")),e.R7$(3),e.JRh(e.bMT(17,19,"supervision-group-selector.select.type-of-order.option.editor")),e.R7$(3),e.JRh(e.bMT(20,21,"supervision-group-selector.select.type-of-order.option.observer")),e.R7$(2),e.Y8G("ngIf",x.isSubmitted&&(!x.selectedOrderType||""===x.selectedOrderType)),e.R7$(4),e.JRh(e.bMT(26,23,"supervision-group-selector.select.group.label")),e.R7$(3),e.Y8G("value",x.selectedGroup?x.dsoNameService.getName(x.selectedGroup):""),e.R7$(),e.Y8G("ngIf",x.isSubmitted&&!x.selectedGroup),e.R7$(),e.Y8G("isListOfEPerson",!1),e.R7$(4),e.SpI(" ",e.bMT(35,25,"supervision-group-selector.button.cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(39,27,"supervision-group-selector.button.save")," "))},dependencies:[Nn.YN,Nn.xH,Nn.y7,Nn.wz,Nn.BC,Nn.vS,p.bT,Y0.A,fl.T,G.h,G.D9]})}}return u})();var VR=n(19852),ml=n(18226);function X0(u,E){if(1&u){const o=e.RV6();e.j41(0,"a",4),e.nI1(1,"translate"),e.bIt("click",function(x){const ee=e.eBV(o).$implicit,Se=e.XpG(3);return x.preventDefault(),x.stopImmediatePropagation(),e.Njj(Se.deleteSupervisionOrder(ee))}),e.EFF(2),e.j41(3,"span",5),e.EFF(4," \xd7"),e.k0s()()}if(2&u){const o=E.$implicit,d=e.XpG(3);e.Y8G("ngbTooltip",e.bMT(1,2,"workflow-item.search.result.list.element.supervised.remove-tooltip")),e.R7$(2),e.SpI(" ",d.dsoNameService.getName(o.group)," ")}}function GR(u,E){if(1&u&&(e.j41(0,"div",2)(1,"div")(2,"span"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,X0,5,4,"a",3),e.k0s()()),2&u){const o=e.XpG().ngVar;e.R7$(3),e.SpI("",e.bMT(4,2,"workflow-item.search.result.list.element.supervised-by")," "),e.R7$(3),e.Y8G("ngForOf",o)}}function xf(u,E){if(1&u&&(e.qex(0),e.DNE(1,GR,7,4,"div",1),e.bVm()),2&u){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",(null==o?null:o.length)>0)}}let Hg=(()=>{class u{constructor(o){this.dsoNameService=o,this.supervisionOrderList=[],this.supervisionOrderEntries$=new y.t([]),this.delete=new e.bkB}ngOnChanges(o){o&&o.supervisionOrderList&&this.getSupervisionOrderEntries(o.supervisionOrderList.currentValue).subscribe(d=>{this.supervisionOrderEntries$.next(d)})}getSupervisionOrderEntries(o){return(0,no.H)(o).pipe((0,zn.Z)(d=>d.group.pipe((0,ws.qD)(),(0,Rt.T)(x=>x.hasSucceeded?{supervisionOrder:d,group:x.payload}:null))),(0,VR.T)((d,x)=>(0,V.hj)(x)?[...d,x]:d,[]))}deleteSupervisionOrder(o){this.delete.emit(o)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Rs.f))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-supervision-order-status"]],inputs:{supervisionOrderList:"supervisionOrderList"},outputs:{delete:"delete"},standalone:!0,features:[e.OA$,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["class","item-list-supervision",4,"ngIf"],[1,"item-list-supervision"],["class","badge badge-primary mr-1 mb-1 text-capitalize mw-100 text-truncate","data-test","soBadge","aria-label","Close",3,"ngbTooltip","click",4,"ngFor","ngForOf"],["data-test","soBadge","aria-label","Close",1,"badge","badge-primary","mr-1","mb-1","text-capitalize","mw-100","text-truncate",3,"click","ngbTooltip"],["aria-hidden","true"]],template:function(d,x){1&d&&(e.DNE(0,xf,2,1,"ng-container",0),e.nI1(1,"async")),2&d&&e.Y8G("ngVar",e.bMT(1,1,x.supervisionOrderEntries$))},dependencies:[ml.r,p.bT,p.pM,X.n8,X.md,p.Jj,G.h,G.D9],styles:[".badge[_ngcontent-%COMP%]{cursor:pointer}"]})}}return u})();const Fh=u=>({"btn-sm":u}),wD=u=>[u];function Du(u,E){1&u&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.delete"),""))}function zg(u,E){1&u&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.policies"),""))}function J0(u,E){1&u&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"admin.workflow.item.supervision"),""))}let Bh=(()=>{class u{constructor(o,d,x,ee,Se){this.dsoNameService=o,this.modalService=d,this.notificationsService=x,this.supervisionOrderDataService=ee,this.translateService=Se,this.supervisionOrderList=[],this.messagePrefix="workflow-item.search.result",this.create=new e.bkB,this.delete=new e.bkB}ngOnInit(){const o=this.wsi.item.pipe((0,ws.ak)());o.pipe((0,Rt.T)(d=>this.getPoliciesRoute(d))).subscribe(d=>{this.resourcePoliciesPageRoute=d}),o.subscribe(d=>{this.item=d})}getDeleteRoute(){return(0,Lh.BY)(this.wsi.id)}getPoliciesRoute(o){return["/items",o.uuid,"edit",Md.K4]}deleteSupervisionOrder(o){const d=this.modalService.open(lg.M);d.componentInstance.name=this.dsoNameService.getName(o.group),d.componentInstance.headerLabel=this.messagePrefix+".delete-supervision.modal.header",d.componentInstance.infoLabel=this.messagePrefix+".delete-supervision.modal.info",d.componentInstance.cancelLabel=this.messagePrefix+".delete-supervision.modal.cancel",d.componentInstance.confirmLabel=this.messagePrefix+".delete-supervision.modal.confirm",d.componentInstance.brandColor="danger",d.componentInstance.confirmIcon="fas fa-trash",d.componentInstance.response.pipe((0,D.s)(1),(0,Vs.n)(x=>{if(x&&(0,V.a4)(o.supervisionOrder.id))return this.supervisionOrderDataService.delete(o.supervisionOrder.id).pipe((0,D.s)(1),(0,ii.M)(ee=>{ee?this.notificationsService.success(null,this.translateService.get(this.messagePrefix+".notification.deleted.success",{name:this.dsoNameService.getName(o.group)})):this.notificationsService.error(null,this.translateService.get(this.messagePrefix+".notification.deleted.failure",{name:this.dsoNameService.getName(o.group)}))}))})).subscribe(x=>{x&&this.delete.emit(this.convertReloadedObject())})}openSupervisionModal(){const o=this.modalService.open(kR,{size:"lg",backdrop:"static"});o.componentInstance.itemUUID=this.item.uuid,o.componentInstance.create.subscribe(()=>{this.create.emit(this.convertReloadedObject())})}convertReloadedObject(){const o=(0,H0.L)(this.wsi.constructor);return Object.assign(new o,this.wsi,{indexableObject:this.wsi})}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Rs.f),e.rXU(X.Bq),e.rXU(to.I),e.rXU(Pd.SupervisionOrderDataService),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-workspace-item-admin-workflow-actions-element"]],inputs:{wsi:"wsi",small:"small",supervisionOrderList:"supervisionOrderList"},outputs:{create:"create",delete:"delete"},standalone:!0,features:[e.aNF],decls:15,vars:26,consts:[[1,"my-1"],[3,"delete","supervisionOrderList"],[1,"space-children-mr"],[1,"btn","btn-light","my-1","delete-link",3,"ngClass","routerLink","title"],[1,"fa","fa-trash"],["class","d-none d-sm-inline",4,"ngIf"],[1,"btn","btn-light","my-1","policies-link",3,"ngClass","routerLink","title"],[1,"fas","fa-edit"],[1,"btn","btn-light","my-1","supervision-group-selector",3,"click","ngClass","title"],[1,"fas","fa-users-cog"],[1,"d-none","d-sm-inline"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"ds-supervision-order-status",1),e.bIt("delete",function(Se){return x.deleteSupervisionOrder(Se)}),e.k0s()(),e.j41(2,"div",2)(3,"a",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.DNE(6,Du,3,3,"span",5),e.k0s(),e.j41(7,"a",6),e.nI1(8,"translate"),e.nrm(9,"i",7),e.DNE(10,zg,3,3,"span",5),e.k0s(),e.j41(11,"a",8),e.nI1(12,"translate"),e.bIt("click",function(){return x.openSupervisionModal()}),e.nrm(13,"i",9),e.DNE(14,J0,3,3,"span",5),e.k0s()()),2&d&&(e.R7$(),e.Y8G("supervisionOrderList",x.supervisionOrderList),e.R7$(2),e.Y8G("ngClass",e.eq3(18,Fh,x.small))("routerLink",e.eq3(20,wD,x.getDeleteRoute()))("title",e.bMT(4,12,"admin.workflow.item.delete")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(22,Fh,x.small))("routerLink",x.resourcePoliciesPageRoute)("title",e.bMT(8,14,"admin.workflow.item.policies")),e.R7$(3),e.Y8G("ngIf",!x.small),e.R7$(),e.Y8G("ngClass",e.eq3(24,Fh,x.small))("title",e.bMT(12,16,"admin.workflow.item.supervision")),e.R7$(3),e.Y8G("ngIf",!x.small))},dependencies:[Hg,p.YU,_.Wk,p.bT,G.h,G.D9]})}}return u})();var Ad=n(38786);const xD=["badges"],LD=["buttons"];function Q0(u,E){}function ND(u,E){if(1&u&&e.nrm(0,"ds-workflow-item-admin-workflow-actions-element",9),2&u){const o=e.XpG();e.Y8G("wfi",o.dso)("small",!0)}}let Lf=class qP extends jc{constructor(E,o,d,x,ee){super(E,d,ee),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.themeService=x,this.bitstreamDataService=ee}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.item$=this.dso.item.pipe((0,ws.v7)(),(0,ws.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(E=>{const o=this.getComponent(E),d=this.dynamicComponentLoaderDirective.viewContainerRef;d.clear(),this.compRef=d.createComponent(o,{index:0,injector:void 0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",E),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(E){return(0,Hn.Zx)(E.getRenderTypes(),Wn.n.GridElement,void 0,this.themeService.getThemeName())}static{this.\u0275fac=function(o){return new(o||qP)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Pi.F),e.rXU(H.Fs),e.rXU(No.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:qP,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Od.z,7),e.GBs(xD,7),e.GBs(LD,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:4,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["class","d-flex justify-content-between",3,"wfi","small",4,"ngIf"],[1,"d-flex","justify-content-between",3,"wfi","small"]],template:function(o,d){1&o&&(e.DNE(0,Q0,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7),e.DNE(10,ND,1,2,"ds-workflow-item-admin-workflow-actions-element",8),e.k0s()()),2&o&&(e.R7$(5),e.JRh(e.bMT(6,2,"admin.workflow.item.workflow")),e.R7$(5),e.Y8G("ngIf",d.object))},dependencies:[p.bT,Nh,G.h,G.D9,Od.z]})}};Lf=(0,Ue.Cg)([(0,Hn.VK)(Ad.q,Wn.n.GridElement,ks.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Pi.F,H.Fs,No.BitstreamDataService])],Lf);var Nf=n(95010);const Z0=["badges"],Uh=["buttons"];function Ff(u,E){}let Ou=class eR extends jc{constructor(E,o,d,x,ee,Se){super(E,d,ee),this.dsoNameService=E,this.linkService=o,this.truncatableService=d,this.themeService=x,this.bitstreamDataService=ee,this.supervisionOrderDataService=Se,this.supervisionOrder$=new y.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.item$=this.dso.item.pipe((0,ws.v7)(),(0,ws.Bo)()),this.item$.pipe((0,D.s)(1)).subscribe(E=>{const o=this.getComponent(E),d=this.dynamicComponentLoaderDirective.viewContainerRef;d.clear(),this.compRef=d.createComponent(o,{index:0,projectableNodes:[[this.badges.nativeElement],[this.buttons.nativeElement]]}),this.compRef.setInput("object",E),this.compRef.setInput("index",this.index),this.compRef.setInput("linkType",this.linkType),this.compRef.setInput("listID",this.listID),this.compRef.changeDetectorRef.detectChanges()}),this.item$.pipe((0,D.s)(1),(0,ii.M)(E=>this.itemId=E.id),(0,zn.Z)(E=>this.retrieveSupervisorOrders(E.id))).subscribe(E=>{this.supervisionOrder$.next(E)})}ngOnDestroy(){(0,V.a4)(this.compRef)&&(this.compRef.destroy(),this.compRef=void 0)}getComponent(E){return(0,Hn.Zx)(E.getRenderTypes(),Wn.n.GridElement,void 0,this.themeService.getThemeName())}retrieveSupervisorOrders(E){return this.supervisionOrderDataService.searchByItem(E,!1,!0,(0,js.s)("group")).pipe((0,ws.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(E){this.reloadedObject.emit(E)}static{this.\u0275fac=function(o){return new(o||eR)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Pi.F),e.rXU(H.Fs),e.rXU(No.BitstreamDataService),e.rXU(Pd.SupervisionOrderDataService))}}static{this.\u0275cmp=e.VBU({type:eR,selectors:[["ds-workflow-item-search-result-admin-workflow-grid-element"]],viewQuery:function(o,d){if(1&o&&(e.GBs(Od.z,7),e.GBs(Z0,7),e.GBs(Uh,7)),2&o){let x;e.mGM(x=e.lsd())&&(d.dynamicComponentLoaderDirective=x.first),e.mGM(x=e.lsd())&&(d.badges=x.first),e.mGM(x=e.lsd())&&(d.buttons=x.first)}},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:8,consts:[["badges",""],["buttons",""],["dsDynamicComponentLoader",""],[1,"position-absolute","ml-1"],[1,"workflow-badge"],[1,"badge","badge-info"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[3,"create","delete","small","supervisionOrderList","wsi"]],template:function(o,d){if(1&o){const x=e.RV6();e.DNE(0,Ff,0,0,"ng-template",2),e.j41(1,"div",3,0)(3,"div",4)(4,"span",5),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ul",6,1)(9,"li",7)(10,"ds-workspace-item-admin-workflow-actions-element",8),e.nI1(11,"async"),e.bIt("create",function(Se){return e.eBV(x),e.Njj(d.reloadObject(Se))})("delete",function(Se){return e.eBV(x),e.Njj(d.reloadObject(Se))}),e.k0s()()()}2&o&&(e.R7$(5),e.JRh(e.bMT(6,4,"admin.workflow.item.workspace")),e.R7$(5),e.Y8G("small",!0)("supervisionOrderList",e.bMT(11,6,d.supervisionOrder$))("wsi",d.dso))},dependencies:[Bh,p.Jj,G.h,G.D9,Od.z]})}};function FD(u,E){if(1&u&&(e.nrm(0,"ds-listable-object-component-loader",4),e.nI1(1,"async")),2&u){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}Ou=(0,Ue.Cg)([(0,Hn.VK)(Nf.I,Wn.n.GridElement,ks.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Pi.F,H.Fs,No.BitstreamDataService,Pd.SupervisionOrderDataService])],Ou);let Bf=class tR extends Po.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.item$=new y.t(void 0)}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.dso.item.pipe((0,ws.qD)(),(0,ws.Bo)()).subscribe(E=>{this.item$.next(E)})}static{this.\u0275fac=function(o){return new(o||tR)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:tR,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:8,consts:[[1,"workflow-badge"],[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"wfi","small"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"span",1),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,FD,2,7,"ds-listable-object-component-loader",2),e.nI1(5,"async"),e.nrm(6,"ds-workflow-item-admin-workflow-actions-element",3)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,4,"admin.workflow.item.workflow")),e.R7$(2),e.Y8G("ngIf",e.bMT(5,6,d.item$)),e.R7$(2),e.Y8G("wfi",d.dso)("small",!1))},dependencies:[p.bT,Tu.v,Nh,p.Jj,G.h,G.D9]})}};function Yg(u,E){if(1&u&&(e.nrm(0,"ds-listable-object-component-loader",3),e.nI1(1,"async")),2&u){const o=e.XpG();e.Y8G("object",e.bMT(1,5,o.item$))("viewMode",o.viewModes.ListElement)("index",o.index)("linkType",o.linkType)("listID",o.listID)}}Bf=(0,Ue.Cg)([(0,Hn.VK)(Ad.q,Wn.n.ListElement,ks.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Object])],Bf);let jh=class nR extends Po.P{constructor(E,o,d,x,ee){super(x,o,ee),this.linkService=E,this.dsoNameService=o,this.supervisionOrderDataService=d,this.truncatableService=x,this.appConfig=ee,this.item$=new y.t(void 0),this.supervisionOrder$=new y.t([])}ngOnInit(){super.ngOnInit(),this.dso=this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.dso.item.pipe((0,ws.qD)(),(0,ws.Bo)()).pipe((0,D.s)(1),(0,ii.M)(o=>{this.item$.next(o),this.itemId=o.id}),(0,zn.Z)(o=>this.retrieveSupervisorOrders(o.id))).subscribe(o=>{this.supervisionOrder$.next(o)})}retrieveSupervisorOrders(E){return this.supervisionOrderDataService.searchByItem(E,!1,!0,(0,js.s)("group")).pipe((0,ws.qD)(),(0,Rt.T)(o=>o.hasSucceeded&&!o.hasNoContent?o.payload.page:[]))}reloadObject(E){this.reloadedObject.emit(E)}static{this.\u0275fac=function(o){return new(o||nR)(e.rXU(Di._),e.rXU(Rs.f),e.rXU(Pd.SupervisionOrderDataService),e.rXU(Pi.F),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:nR,selectors:[["ds-workflow-item-search-result-admin-workflow-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:11,consts:[[1,"badge","badge-info"],[3,"object","viewMode","index","linkType","listID",4,"ngIf"],[3,"create","delete","small","supervisionOrderList","wsi"],[3,"object","viewMode","index","linkType","listID"]],template:function(o,d){1&o&&(e.j41(0,"span",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Yg,2,7,"ds-listable-object-component-loader",1),e.nI1(4,"async"),e.j41(5,"ds-workspace-item-admin-workflow-actions-element",2),e.nI1(6,"async"),e.bIt("create",function(ee){return d.reloadObject(ee)})("delete",function(ee){return d.reloadObject(ee)}),e.k0s()),2&o&&(e.R7$(),e.JRh(e.bMT(2,5,"admin.workflow.item.workspace")),e.R7$(2),e.Y8G("ngIf",e.bMT(4,7,d.item$)),e.R7$(2),e.Y8G("small",!1)("supervisionOrderList",e.bMT(6,9,d.supervisionOrder$))("wsi",d.dso))},dependencies:[p.bT,Tu.v,Bh,p.Jj,G.h,G.D9]})}};jh=(0,Ue.Cg)([(0,Hn.VK)(Nf.I,Wn.n.ListElement,ks.o.AdminWorkflowSearch),(0,Ue.Sn)("design:paramtypes",[Di._,Rs.f,Pd.SupervisionOrderDataService,Pi.F,Object])],jh);const xa=(0,oe.hZ)("focusShadow",[(0,oe.wk)("focus",(0,oe.iF)({boxShadow:"rgba(119, 119, 119, 0.6) 0px 0px 6px"})),(0,oe.wk)("blur",(0,oe.iF)({boxShadow:"none"})),(0,oe.kY)("focus <=> blur",[(0,oe.i0)("250ms")])]);(0,oe.hZ)("focusBackground",[(0,oe.wk)("focus",(0,oe.iF)({backgroundColor:"rgba(119, 119, 119, 0.1)"})),(0,oe.wk)("blur",(0,oe.iF)({backgroundColor:"transparent"})),(0,oe.kY)("focus <=> blur",[(0,oe.i0)("250ms")])]);var La=n(21308),Hr=n(44869);const UD=["*","*"],kh=()=>["dc.contributor.author","dc.creator","dc.contributor.*"],q0=u=>[u];function ey(u,E){if(1&u&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,q0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function ty(u,E){if(1&u&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function ny(u,E){if(1&u&&e.nrm(0,"ds-badges",14),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)("showAccessStatus",!0)}}function Xg(u,E){if(1&u&&(e.j41(0,"span",19),e.EFF(1),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.JRh(o.firstMetadataValue("dc.date.issued"))}}function sy(u,E){if(1&u&&(e.j41(0,"span"),e.EFF(1,", "),e.nrm(2,"span",20),e.k0s()),2&u){const o=E.$implicit;e.R7$(2),e.Y8G("innerHTML",o,e.npT)}}function Uf(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",15)(1,"p",16),e.DNE(2,Xg,2,1,"span",17)(3,sy,3,1,"span",18),e.k0s()()),2&u){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.Y8G("ngIf",o.dso.hasMetadata("dc.date.issued")),e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(4,kh)))}}function Vh(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",15)(1,"p",21),e.nrm(2,"span",20),e.k0s()()),2&u){const o=e.XpG();e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.Y8G("innerHTML",o.firstMetadataValue("dc.description.abstract"),e.npT)}}function iy(u,E){if(1&u&&(e.j41(0,"div",22)(1,"a",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,q0,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Va=class sR extends jc{constructor(E,o,d){super(E,o,d),this.dsoNameService=E,this.truncatableService=o,this.bitstreamDataService=d}ngOnInit(){super.ngOnInit(),this.itemPageRoute=(0,Ls._o)(this.dso),this.dsoTitle=this.dsoNameService.getHitHighlights(this.object,this.dso)}static{this.\u0275fac=function(o){return new(o||sR)(e.rXU(Rs.f),e.rXU(Pi.F),e.rXU(No.BitstreamDataService))}}static{this.\u0275cmp=e.VBU({type:sR,selectors:[["ds-item-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:UD,decls:15,vars:14,consts:[[1,"card"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context","showAccessStatus",4,"ngIf"],[3,"id"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],[3,"id","minLines",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context","showAccessStatus"],[3,"id","minLines"],[1,"item-authors","card-text","text-muted"],["class","item-date",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"item-date"],[3,"innerHTML"],[1,"item-abstract","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(UD),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"div",1),e.SdG(3),e.k0s(),e.DNE(4,ey,5,12,"a",2)(5,ty,4,4,"span",3),e.j41(6,"div",4),e.DNE(7,ny,1,3,"ds-badges",5),e.j41(8,"ds-truncatable",6)(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,Uf,4,5,"ds-truncatable-part",9)(12,Vh,3,3,"ds-truncatable-part",9),e.k0s(),e.DNE(13,iy,4,8,"div",10),e.k0s(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(4),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata(e.lJ4(13,kh))),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description.abstract")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,$r.F,La.d,Hr.W,p.pM,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};Va=(0,Ue.Cg)([(0,Hn.VK)("PublicationSearchResult",Wn.n.GridElement),(0,Hn.VK)(wa.H,Wn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Pi.F,No.BitstreamDataService])],Va);const Mu=["*","*"],Jg=u=>[u];function Qg(u,E){if(1&u&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Jg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function jf(u,E){if(1&u&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function jD(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function ry(u,E){if(1&u&&(e.j41(0,"span",20)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&u){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("creativework.publisher")," ")}}function kD(u,E){if(1&u&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17)(2,"span",18),e.EFF(3),e.k0s(),e.DNE(4,ry,4,1,"span",19),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(2),e.JRh(o.firstMetadataValue("creativework.editor")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("creativework.publisher"))}}function VD(u,E){if(1&u&&(e.j41(0,"p",21)(1,"ds-truncatable-part",17),e.nrm(2,"span",22),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function GD(u,E){if(1&u&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Jg,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Iu=class Bb extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Bb)))(d||Bb)}})()}static{this.\u0275cmp=e.VBU({type:Bb,selectors:[["ds-journal-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Mu,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-publisher card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-publisher","card-text","text-muted"],[3,"id","minLines"],[1,"item-editor"],["class","item-publisher",4,"ngIf"],[1,"item-publisher"],[1,"item-description","card-text"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Mu),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Qg,5,12,"a",3)(6,jf,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,jD,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,kD,5,4,"p",9)(12,VD,3,3,"p",10)(13,GD,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.editor")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};Iu=(0,Ue.Cg)([(0,Hn.VK)("JournalSearchResult",Wn.n.GridElement)],Iu);const oy=()=>({}),vi=(u,E)=>({indexableObject:u,hitHighlights:E});let Gh=class Ub extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Ub)))(d||Ub)}})()}static{this.\u0275cmp=e.VBU({type:Ub,selectors:[["ds-journal-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,vi,d.object,e.lJ4(3,oy)))("linkType",d.linkType)},dependencies:[Iu]})}};Gh=(0,Ue.Cg)([(0,Hn.VK)("Journal",Wn.n.GridElement)],Gh);const Zg=["*","*"],wd=u=>[u];function ay(u,E){if(1&u&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,wd,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function ly(u,E){if(1&u&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function $D(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function kf(u,E){if(1&u&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function Su(u,E){if(1&u&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("journal.title"),e.npT)}}function qg(u,E){if(1&u&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,wd,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let dc=class jb extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(jb)))(d||jb)}})()}static{this.\u0275cmp=e.VBU({type:jb,selectors:[["ds-journal-issue-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Zg,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-journal-title card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-journal-title","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Zg),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,ay,5,12,"a",3)(6,ly,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,$D,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,kf,3,3,"p",9)(12,Su,3,3,"p",10)(13,qg,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("journal.title")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};dc=(0,Ue.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Wn.n.GridElement)],dc);const cy=()=>({}),e_=(u,E)=>({indexableObject:u,hitHighlights:E});let Pu=class kb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(kb)))(d||kb)}})()}static{this.\u0275cmp=e.VBU({type:kb,selectors:[["ds-journal-issue-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-issue-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,e_,d.object,e.lJ4(3,cy)))("linkType",d.linkType)},dependencies:[dc]})}};Pu=(0,Ue.Cg)([(0,Hn.VK)("JournalIssue",Wn.n.GridElement)],Pu);const Vf=["*","*"],t_=u=>[u];function n_(u,E){if(1&u&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,t_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function WD(u,E){if(1&u&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function KD(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function HD(u,E){if(1&u&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("creativework.datePublished"),e.npT)}}function dy(u,E){if(1&u&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function zD(u,E){if(1&u&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,t_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let $h=class Vb extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Vb)))(d||Vb)}})()}static{this.\u0275cmp=e.VBU({type:Vb,selectors:[["ds-journal-volume-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Vf,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-description card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-description","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Vf),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,n_,5,12,"a",3)(6,WD,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,KD,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,HD,3,3,"p",9)(12,dy,3,3,"p",10)(13,zD,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("creativework.datePublished")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};$h=(0,Ue.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Wn.n.GridElement)],$h);const YD=()=>({}),XD=(u,E)=>({indexableObject:u,hitHighlights:E});let Wh=class Gb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Gb)))(d||Gb)}})()}static{this.\u0275cmp=e.VBU({type:Gb,selectors:[["ds-journal-volume-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-volume-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,XD,d.object,e.lJ4(3,YD)))("linkType",d.linkType)},dependencies:[$h]})}};Wh=(0,Ue.Cg)([(0,Hn.VK)("JournalVolume",Wn.n.GridElement)],Wh);var uc=n(94418);const uy=()=>["creativeworkseries.issn"],hy=u=>[u];function Na(u,E){if(1&u&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,hy,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function JD(u,E){if(1&u&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function QD(u,E){if(1&u&&(e.j41(0,"div",10),e.DNE(1,Na,3,9,"a",11)(2,JD,3,4,"span",12),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function $R(u,E){if(1&u&&e.nrm(0,"ds-badges",16),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function s_(u,E){if(1&u&&e.nrm(0,"a",17),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,hy,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function py(u,E){if(1&u&&e.nrm(0,"span",18),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function ZD(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function qD(u,E){if(1&u&&(e.j41(0,"span"),e.nrm(1,"span",21),e.DNE(2,ZD,2,0,"span",22),e.k0s()),2&u){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function eO(u,E){if(1&u&&(e.j41(0,"span",19),e.DNE(1,qD,3,2,"span",20),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,uy)))}}let Ru=class $b extends uc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo($b)))(d||$b)}})()}static{this.\u0275cmp=e.VBU({type:$b,selectors:[["ds-journal-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journals",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journals"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,QD,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,$R,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,s_,1,6,"a",5)(6,py,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,eO,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,uy)).length>0))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,$r.F,La.d,Hr.W,p.pM,p.Jj]})}};Ru=(0,Ue.Cg)([(0,Hn.VK)("JournalSearchResult",Wn.n.ListElement)],Ru);const tO=()=>({}),nO=(u,E)=>({indexableObject:u,hitHighlights:E});let Au=class Wb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Wb)))(d||Wb)}})()}static{this.\u0275cmp=e.VBU({type:Wb,selectors:[["ds-journal-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,nO,d.object,e.lJ4(3,tO)))("linkType",d.linkType)},dependencies:[Ru]})}};Au=(0,Ue.Cg)([(0,Hn.VK)("Journal",Wn.n.ListElement)],Au);const fy=()=>["publicationvolume.volumeNumber"],my=u=>[u],gy=()=>["publicationissue.issueNumber"];function sO(u,E){if(1&u&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,my,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function iO(u,E){if(1&u&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function jl(u,E){if(1&u&&(e.j41(0,"div",10),e.DNE(1,sO,3,9,"a",11)(2,iO,3,4,"span",12),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function i_(u,E){if(1&u&&e.nrm(0,"ds-badges",16),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function rO(u,E){if(1&u&&e.nrm(0,"a",17),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,my,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function oO(u,E){if(1&u&&e.nrm(0,"span",18),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function _y(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function vy(u,E){if(1&u&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,_y,2,0,"span",23),e.k0s()),2&u){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function Gf(u,E){1&u&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function r_(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function WR(u,E){if(1&u&&(e.j41(0,"span"),e.DNE(1,Gf,2,0,"span",23),e.nrm(2,"span",22),e.DNE(3,r_,2,0,"span",23),e.k0s()),2&u){const o=E.$implicit,d=E.first,x=E.last;e.R7$(),e.Y8G("ngIf",d),e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!x)}}function yy(u,E){if(1&u&&(e.j41(0,"span",24),e.DNE(1,WR,4,3,"span",20),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,gy)))}}function Ey(u,E){if(1&u&&(e.j41(0,"span",19),e.DNE(1,vy,3,2,"span",20)(2,yy,2,2,"span",21),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(2,fy))),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata(e.lJ4(3,gy)).length>0)}}let wu=class Kb extends uc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Kb)))(d||Kb)}})()}static{this.\u0275cmp=e.VBU({type:Kb,selectors:[["ds-journal-issue-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-issues",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-issues"],[4,"ngFor","ngForOf"],["class","item-list-journal-issue-numbers",4,"ngIf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-issue-numbers"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,jl,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,i_,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,rO,1,6,"a",5)(6,oO,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Ey,3,4,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,fy)).length>0))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,$r.F,La.d,Hr.W,p.pM,p.Jj]})}};wu=(0,Ue.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Wn.n.ListElement)],wu);const $f=()=>({}),o_=(u,E)=>({indexableObject:u,hitHighlights:E});let Za=class Hb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Hb)))(d||Hb)}})()}static{this.\u0275cmp=e.VBU({type:Hb,selectors:[["ds-journal-issue-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-issue-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,o_,d.object,e.lJ4(3,$f)))("linkType",d.linkType)},dependencies:[wu]})}};Za=(0,Ue.Cg)([(0,Hn.VK)("JournalIssue",Wn.n.ListElement)],Za);const Cy=()=>["journal.title"],by=()=>["publicationvolume.volumeNumber"],Wf=u=>[u];function aO(u,E){if(1&u&&(e.j41(0,"a",14),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(7,Wf,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,5,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function Kh(u,E){if(1&u&&(e.j41(0,"span",16),e.nrm(1,"ds-thumbnail",15),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!0)}}function Ty(u,E){if(1&u&&(e.j41(0,"div",11),e.DNE(1,aO,3,9,"a",12)(2,Kh,3,4,"span",13),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function xu(u,E){if(1&u&&e.nrm(0,"ds-badges",17),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function Hh(u,E){if(1&u&&e.nrm(0,"a",18),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,Wf,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function a_(u,E){if(1&u&&e.nrm(0,"span",19),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function zh(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function Dy(u,E){if(1&u&&(e.j41(0,"span"),e.nrm(1,"span",22),e.DNE(2,zh,2,0,"span",23),e.k0s()),2&u){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function Oy(u,E){if(1&u&&(e.j41(0,"span",20),e.DNE(1,Dy,3,2,"span",21),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Cy)))}}function lO(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,";"),e.k0s())}function cO(u,E){if(1&u&&(e.j41(0,"span")(1,"span"),e.EFF(2," ("),e.k0s(),e.nrm(3,"span",22),e.j41(4,"span"),e.EFF(5,")"),e.k0s(),e.DNE(6,lO,2,0,"span",23),e.k0s()),2&u){const o=E.$implicit,d=E.last;e.R7$(3),e.Y8G("innerHTML",o,e.npT),e.R7$(3),e.Y8G("ngIf",!d)}}function dO(u,E){if(1&u&&(e.j41(0,"span",24),e.DNE(1,cO,7,2,"span",21),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,by)))}}let Yh=class zb extends uc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(zb)))(d||zb)}})()}static{this.\u0275cmp=e.VBU({type:zb,selectors:[["ds-journal-volume-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:12,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-journal-volumes",4,"ngIf"],["class","item-list-journal-volume-identifiers",4,"ngIf"],[1,"col-3","col-md-2"],["class","lead item-list-title dont-break-out",3,"target","routerLink",4,"ngIf"],["class","lead item-list-title dont-break-out",4,"ngIf"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"lead","item-list-title","dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"],[1,"item-list-journal-volumes"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-journal-volume-identifiers"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,Ty,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,xu,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,Hh,1,6,"a",5)(6,a_,1,1,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,Oy,2,2,"span",9)(10,dO,2,2,"span",10),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(10,Cy)).length>0),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(11,by)).length>0))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,$r.F,La.d,Hr.W,p.pM,p.Jj]})}};Yh=(0,Ue.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Wn.n.ListElement)],Yh);const My=()=>({}),Kf=(u,E)=>({indexableObject:u,hitHighlights:E});let Hf=class Yb extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Yb)))(d||Yb)}})()}static{this.\u0275cmp=e.VBU({type:Yb,selectors:[["ds-journal-volume-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-journal-volume-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Kf,d.object,e.lJ4(3,My)))("linkType",d.linkType)},dependencies:[Yh]})}};function KR(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Hf=(0,Ue.Cg)([(0,Hn.VK)("JournalVolume",Wn.n.ListElement)],Hf);let hc=(()=>{class u extends Po.P{constructor(o,d,x){super(o,x,null),this.truncatableService=o,this.linkService=d,this.dsoNameService=x}ngOnInit(){super.ngOnInit(),(0,V.a4)(this.dso)&&(this.parentTitle$=this.getParentTitle(),this.description=this.getDescription())}isCurrent(){return this.context===ks.o.SideBarSearchModalCurrent}getParentTitle(){return this.getParent().pipe((0,Rt.T)(o=>(0,V.a4)(o)&&(0,V.a4)(o.payload)?this.dsoNameService.getName(o.payload):void 0))}getParent(){if("function"==typeof this.dso.getParentLinkKey){const o=this.dso.getParentLinkKey();return this.linkService.resolveLink(this.dso,(0,js.s)(o))[o].pipe((0,Ws.I)(d=>d.hasSucceeded||204===d.statusCode))}return(0,bs.of)(void 0)}getDescription(){const o=this.firstMetadataValue("dc.publisher"),d=this.firstMetadataValue("dc.date.issued"),x=this.allMetadataValues(["dc.contributor.author","dc.creator","dc.contributor.*"]);let ee="";return((0,V.hj)(o)||(0,V.hj)(d))&&(ee+="("),(0,V.hj)(o)&&(ee+=o),(0,V.hj)(d)&&((0,V.hj)(o)&&(ee+=", "),ee+=d),(0,V.hj)(ee)&&(ee+=") "),(0,V.hj)(x)&&x.forEach((Se,Ae)=>{ee+=Se,Ae<x.length-1&&(ee+="; ")}),this.undefinedIfEmpty(ee)}undefinedIfEmpty(o){return this.defaultIfEmpty(o,void 0)}defaultIfEmpty(o,d){return(0,V.hj)(o)?o:d}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Pi.F),e.rXU(Di._),e.rXU(Rs.f))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(d,x){1&d&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,KR,2,5,"ds-truncatable-part",3)),2&d&&(e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,x.parentTitle$&&x.parentTitle$)?e.bMT(3,13,x.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",x.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",x.isCurrent()?"text-light":"text-primary")("innerHTML",x.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",x.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}}return u})();function uO(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}let Xh=class Xb extends hc{getDescription(){const E=this.allMetadataValues(["creativeworkseries.issn"]);let o="";return(0,V.hj)(E)&&(o+=E.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Xb)))(d||Xb)}})()}static{this.\u0275cmp=e.VBU({type:Xb,selectors:[["ds-journal-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,uO,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function hO(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Xh=(0,Ue.Cg)([(0,Hn.VK)("JournalSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("JournalSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],Xh);let zf=class Jb extends hc{getDescription(){const E=this.allMetadataValues(["publicationvolume.volumeNumber"]),o=this.allMetadataValues(["publicationissue.issueNumber"]);let d="";return(0,V.hj)(E)&&(d+=E.join(", ")),(0,V.hj)(d)&&(0,V.hj)(o)&&(d+=" - "),(0,V.hj)(o)&&(d+=o.join(", ")),this.undefinedIfEmpty(d)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Jb)))(d||Jb)}})()}static{this.\u0275cmp=e.VBU({type:Jb,selectors:[["ds-journal-issue-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,hO,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function Iy(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}zf=(0,Ue.Cg)([(0,Hn.VK)("JournalIssueSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("JournalIssueSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],zf);let Lu=class Qb extends hc{getDescription(){const E=this.allMetadataValues(["journal.title"]),o=this.allMetadataValues(["publicationvolume.volumeNumber"]);let d="";return(0,V.hj)(E)&&(d+=E.join(", ")),(0,V.hj)(o)&&((0,V.hj)(d)&&(d+=" "),d+=o.map(x=>`(${x})`).join(" ")),this.undefinedIfEmpty(d)}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Qb)))(d||Qb)}})()}static{this.\u0275cmp=e.VBU({type:Qb,selectors:[["ds-journal-volume-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,Iy,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};Lu=(0,Ue.Cg)([(0,Hn.VK)("JournalVolumeSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("JournalVolumeSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],Lu);var Sy=n(7654),Fo=n(79222),Jh=n(56977);class xd{}const pO=function(){var u=(0,m.A)(function*(){return(yield n.e(2441).then(n.t.bind(n,92441,23))).default});return function(){return u.apply(this,arguments)}}(),fO=new e.nKC("Lazily loaded MarkdownIt",{providedIn:"root",factory:pO});let mO=(()=>{class u{constructor(o,d,x,ee){this.markdownIt=o,this.sanitizer=d,this.mathService=x,this.elementRef=ee,this.alive$=new qo.B,this.el=ee.nativeElement}ngOnInit(){this.render(this.dsMarkdown)}render(o,d=!1){var x=this;return(0,m.A)(function*(){(0,V.Im)(o)||!R.c.markdown.enabled&&!d?x.el.innerHTML=x.sanitizer.sanitize(e.WPN.HTML,o):R.c.markdown.mathjax?x.renderMathjaxThenMarkdown(o):x.renderMarkdown(o)})()}renderMathjaxThenMarkdown(o){const d=this.sanitizer.sanitize(e.WPN.HTML,o);this.el.innerHTML=d,this.mathService.ready().pipe((0,Fn.p)(x=>x),(0,D.s)(1),(0,Jh.Q)(this.alive$)).subscribe(()=>{this.mathService.render(this.el)?.then(x=>{this.renderMarkdown(this.el.innerHTML,!0)})})}renderMarkdown(o,d=!1){var x=this;return(0,m.A)(function*(){const Se=new(yield x.markdownIt)({html:!0,linkify:!0}),Ae=d?Se.render(o):x.sanitizer.sanitize(e.WPN.HTML,Se.render(o));x.el.innerHTML=Ae})()}ngOnDestroy(){this.alive$.next(!1)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(fO),e.rXU(f.up),e.rXU(xd),e.rXU(e.aKT))}}static{this.\u0275dir=e.FsC({type:u,selectors:[["","dsMarkdown",""]],inputs:{dsMarkdown:"dsMarkdown"},standalone:!0})}}return u})();const Yf=(u,E)=>({value:u,img:E}),l_=u=>["/browse",u];function gO(u,E){1&u&&e.eu8(0)}function HR(u,E){if(1&u&&e.nrm(0,"span",10),2&u){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function zR(u,E){if(1&u&&(e.qex(0),e.DNE(1,gO,1,0,"ng-container",8)(2,HR,1,1,"span",9),e.bVm()),2&u){const o=E.$implicit,d=E.last,x=e.XpG(),ee=e.sdS(4),Se=e.sdS(6),Ae=e.sdS(8),ft=e.sdS(10),jt=e.sdS(12);e.R7$(),e.Y8G("ngTemplateOutlet",x.renderMarkdown?ee:x.hasLink(o)?x.hasValue(x.img)?Ae:Se:x.hasBrowseDefinition()?jt:ft)("ngTemplateOutletContext",e.l_i(3,Yf,o.value,x.img)),e.R7$(),e.Y8G("ngIf",!d)}}function _O(u,E){1&u&&e.nrm(0,"span",11),2&u&&e.Y8G("dsMarkdown",E.value)}function vO(u,E){if(1&u&&(e.j41(0,"a",12),e.EFF(1),e.k0s()),2&u){const o=E.value,d=e.XpG();e.Y8G("href",o,e.B4B),e.BMQ("target",d.getLinkAttributes(o).target)("rel",d.getLinkAttributes(o).rel),e.R7$(),e.SpI(" ",o," ")}}function YR(u,E){if(1&u&&(e.j41(0,"a",13),e.nrm(1,"img",14),e.nI1(2,"translate"),e.EFF(3),e.k0s()),2&u){const o=E.img,d=E.value;e.Y8G("href",d,e.B4B),e.R7$(),e.xc7("height","var("+o.heightVar+", --ds-item-page-img-field-default-inline-height)"),e.Y8G("alt",e.bMT(2,6,o.alt))("src",o.URI,e.B4B),e.R7$(2),e.SpI(" ",d," ")}}function yO(u,E){if(1&u&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=e.XpG().value;e.R7$(),e.SpI(" ",e.bMT(2,1,o)," ")}}function XR(u,E){if(1&u&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&u){const o=e.XpG().value;e.R7$(),e.SpI(" ",o," ")}}function EO(u,E){if(1&u&&e.DNE(0,yO,3,3,"span",15)(1,XR,2,1,"ng-template",null,5,e.C5r),2&u){const o=E.value,d=e.sdS(2);e.Y8G("ngIf",o.includes("info:eu-repo"))("ngIfElse",d)}}function CO(u,E){if(1&u&&(e.j41(0,"a",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=E.value,d=e.XpG();e.Y8G("routerLink",e.eq3(5,l_,d.browseDefinition.id))("queryParams",d.getQueryParams(o)),e.R7$(),e.SpI(" ",o.includes("info:eu-repo")?e.bMT(2,3,o):o," ")}}let Nu=(()=>{class u{constructor(o){this.appConfig=o,this.enableMarkdown=!1,this.hasValue=V.a4}ngOnChanges(o){this.renderMarkdown=!!this.appConfig.markdown.enabled&&this.enableMarkdown}hasBrowseDefinition(){return(0,V.a4)(this.browseDefinition)}hasLink(o){return!!(0,V.a4)(this.urlRegex)&&new RegExp(this.urlRegex).test(o.value)}getQueryParams(o){const d={startsWith:o};return this.browseDefinition.getRenderType()===Sy.o.value?{value:o}:d}hasInternalLink(o){return o.startsWith(R.c.ui.baseUrl)}getLinkAttributes(o){return this.hasInternalLink(o)?{target:"_self",rel:""}:{target:"_blank",rel:"noopener noreferrer"}}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-metadata-values"]],inputs:{mdValues:"mdValues",separator:"separator",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex",browseDefinition:"browseDefinition",img:"img"},standalone:!0,features:[e.OA$,e.aNF],decls:13,vars:4,consts:[["markdown",""],["link",""],["linkImg",""],["simple",""],["browselink",""],["isNotOpenAireValue",""],[3,"label"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","separator",3,"innerHTML",4,"ngIf"],[1,"separator",3,"innerHTML"],[1,"dont-break-out",3,"dsMarkdown"],[1,"dont-break-out","ds-simple-metadata-link",3,"href"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"link-logo",3,"alt","src"],["class","dont-break-out preserve-line-breaks",4,"ngIf","ngIfElse"],[1,"dont-break-out","preserve-line-breaks"],[1,"dont-break-out","preserve-line-breaks","ds-browse-link",3,"routerLink","queryParams"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",6),e.nI1(1,"translate"),e.DNE(2,zR,3,6,"ng-container",7),e.k0s(),e.DNE(3,_O,1,1,"ng-template",null,0,e.C5r)(5,vO,2,4,"ng-template",null,1,e.C5r)(7,YR,4,8,"ng-template",null,2,e.C5r)(9,EO,3,2,"ng-template",null,3,e.C5r)(11,CO,3,7,"ng-template",null,4,e.C5r)),2&d&&(e.Y8G("label",e.bMT(1,2,x.label)),e.R7$(2),e.Y8G("ngForOf",x.mdValues))},dependencies:[Fo.Q,p.pM,p.T3,p.bT,_.Wk,G.h,G.D9,mO]})}}return u})();var c_=n(27916),Qh=n.n(c_),d_=n(26365),Xf=n(42673);let Fu=(()=>{class u{constructor(o,d){this.browseDefinitionDataService=o,this.browseService=d,this.enableMarkdown=!1,this.separator="<br/>"}get browseDefinition(){return this.browseService.getBrowseDefinitions().pipe((0,ws.qD)(),(0,ws.Bo)(),(0,ws.W8)(),(0,d_.U)(),(0,Fn.p)(o=>Qh()(o.metadataKeys,this.fields,u.fieldMatch).length>0),(0,D.s)(1))}static fieldMatch(o,d){return d===o||o.endsWith(".*")&&d.substring(0,o.length-1)===o.substring(0,o.length-1)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Xf.BrowseDefinitionDataService),e.rXU(Ki.q))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ng-component"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[Nu,p.Jj],encapsulation:2})}}return u})(),Ga=(()=>{class u extends Fu{constructor(){super(...arguments),this.enableMarkdown=!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-generic-item-page-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",enableMarkdown:"enableMarkdown",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[Nu,p.Jj],encapsulation:2})}}return u})();var gl=n(26077),Zh=n(56760);let pc=(()=>{class u{constructor(o,d){this.routeService=o,this.router=d,this.showLabel=!0,this.previousRoute=/^(\/search|\/browse|\/collections|\/admin\/search|\/mydspace)/,this.back=()=>{this.routeService.getPreviousUrl().pipe((0,D.s)(1)).subscribe(x=>{this.router.navigateByUrl(x)})},this.mediaViewer=R.c.mediaViewer}ngOnInit(){this.itemPageRoute=(0,Ls._o)(this.object),this.showBackButton$=this.routeService.getPreviousUrl().pipe((0,Rt.T)(o=>this.previousRoute.test(o)),(0,D.s)(1)),this.iiifEnabled=(u=>!!this.object.firstMetadataValue("dspace.iiif.enabled"))(),this.iiifSearchEnabled=(u=>!!this.object.firstMetadataValue("iiif.search.enabled"))(),this.iiifSearchEnabled&&(this.iiifQuery$=this.routeService.getPreviousUrl().pipe((0,Fn.p)(o=>o.includes("/search")),(0,Rt.T)(o=>(new _.nU).parse(o).queryParamMap.get("query")),(0,D.s)(1)))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Zh.v$),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item"]],inputs:{object:"object",showLabel:"showLabel",viewMode:"viewMode"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return u})();var TO=n(4021),Jf=n(49656);let DO=(()=>{class u{constructor(){this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){(0,V.hj)(this.relationType)&&(0,V.hj)(this.item)&&(this.fixedFilter=(0,Jf.as)(this.relationType,this.item.id))}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-related-entities-search"]],inputs:{relationType:"relationType",configuration:"configuration",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:1,vars:5,consts:[[3,"fixedFilterQuery","configuration","searchEnabled","sideBarWidth","showCsvExport"]],template:function(d,x){1&d&&e.nrm(0,"ds-configuration-search-page",0),2&d&&e.Y8G("fixedFilterQuery",x.fixedFilter)("configuration",x.configuration)("searchEnabled",x.searchEnabled)("sideBarWidth",x.sideBarWidth)("showCsvExport",!0)},dependencies:[TO.M],encapsulation:2})}}return u})();function OO(u,E){if(1&u&&(e.j41(0,"div",9),e.nrm(1,"ds-related-entities-search",10),e.k0s()),2&u){const o=e.XpG().$implicit,d=e.XpG(2);e.R7$(),e.Y8G("item",d.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",d.searchEnabled)("sideBarWidth",d.sideBarWidth)}}function MO(u,E){if(1&u&&(e.j41(0,"li",6)(1,"a",7),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,OO,2,5,"ng-template",8),e.k0s()),2&u){const o=E.$implicit;e.Y8G("ngbNavItem",o.filter),e.R7$(2),e.SpI(" ",e.bMT(3,2,"item.page.relationships."+o.label)," ")}}function IO(u,E){if(1&u){const o=e.RV6();e.qex(0),e.j41(1,"ul",3,0),e.nI1(3,"async"),e.bIt("navChange",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onTabChange(x))}),e.DNE(4,MO,5,4,"li",4),e.k0s(),e.nrm(5,"div",5),e.bVm()}if(2&u){const o=e.sdS(2),d=e.XpG();e.R7$(),e.Y8G("destroyOnHide",!0)("activeId",e.bMT(3,4,d.activeTab$)),e.R7$(3),e.Y8G("ngForOf",d.relationTypes),e.R7$(),e.Y8G("ngbNavOutlet",o)}}function SO(u,E){if(1&u&&e.nrm(0,"ds-related-entities-search",10),2&u){const o=E.ngVar,d=e.XpG(2);e.Y8G("item",d.item)("relationType",o.filter)("configuration",o.configuration)("searchEnabled",d.searchEnabled)("sideBarWidth",d.sideBarWidth)}}function u_(u,E){if(1&u&&(e.j41(0,"div",9),e.DNE(1,SO,1,5,"ds-related-entities-search",11),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngVar",o.relationTypes[0])}}let $c=(()=>{class u{constructor(o,d){this.route=o,this.router=d,this.searchEnabled=!0,this.sideBarWidth=4}ngOnInit(){this.activeTab$=this.route.queryParams.pipe((0,Rt.T)(o=>o.tab))}onTabChange(o){this.router.navigate([],{relativeTo:this.route,queryParams:{tab:o.nextId},queryParamsHandling:"merge"})}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(_.nX),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-tabbed-related-entities-search"]],inputs:{relationTypes:"relationTypes",item:"item",searchEnabled:"searchEnabled",sideBarWidth:"sideBarWidth"},standalone:!0,features:[e.aNF],decls:2,vars:2,consts:[["tabs","ngbNav"],[4,"ngIf"],["class","mt-4",4,"ngIf"],["ngbNav","","role","tablist",1,"nav-tabs",3,"navChange","destroyOnHide","activeId"],["role","presentation",3,"ngbNavItem",4,"ngFor","ngForOf"],[3,"ngbNavOutlet"],["role","presentation",3,"ngbNavItem"],["ngbNavLink","","role","tab"],["ngbNavContent",""],[1,"mt-4"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth"],[3,"item","relationType","configuration","searchEnabled","sideBarWidth",4,"ngVar"]],template:function(d,x){1&d&&e.DNE(0,IO,6,6,"ng-container",1)(1,u_,2,1,"div",2),2&d&&(e.Y8G("ngIf",x.relationTypes.length>1),e.R7$(),e.Y8G("ngIf",1===x.relationTypes.length))},dependencies:[p.bT,X.Pv,X.Um,X.X9,X.sy,X.Ri,X.m_,p.pM,DO,ml.r,p.Jj,G.h,G.D9],encapsulation:2})}}return u})();var Ry=n(41023),fc=n(82394),Qf=n(74430),JR=n(20261);const Ay=u=>({amount:u});function PO(u,E){if(1&u&&e.nrm(0,"ds-listable-object-component-loader",6),2&u){const o=E.$implicit,d=e.XpG(3);e.Y8G("object",o)("viewMode",d.viewMode)}}function h_(u,E){1&u&&(e.nrm(0,"ds-loading",7),e.nI1(1,"translate")),2&u&&e.FS9("message",e.bMT(1,1,"loading.default"))}function RO(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return e.Njj(x.increase())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&u){const o=e.XpG(2).ngVar,d=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-more",e.eq3(5,Ay,(null==o||null==o.payload?null:o.payload.totalElements)-d.incrementBy*d.objects.length<d.incrementBy?(null==o||null==o.payload?null:o.payload.totalElements)-d.incrementBy*d.objects.length:d.incrementBy))," ",d.label,"")}}function wy(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",13)(1,"button",12),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return e.Njj(x.decrease())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&u){const o=e.XpG(2).ngVar,d=e.XpG(2);e.R7$(2),e.Lme("",e.i5U(3,2,"item.page.related-items.view-less",e.eq3(5,Ay,null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length))," ",d.label,"")}}function AO(u,E){if(1&u&&(e.j41(0,"div",8),e.DNE(1,RO,4,7,"div",9)(2,wy,4,7,"div",10),e.k0s()),2&u){const o=e.XpG().ngVar,d=e.XpG(2);e.R7$(),e.Y8G("ngIf",(null==o||null==o.payload?null:o.payload.totalPages)>d.objects.length),e.R7$(),e.Y8G("ngIf",d.objects.length>1)}}function wO(u,E){if(1&u&&(e.qex(0),e.DNE(1,PO,1,2,"ds-listable-object-component-loader",3)(2,h_,2,3,"ds-loading",4)(3,AO,3,2,"div",5),e.bVm()),2&u){const o=E.ngVar,d=e.XpG().index,x=e.XpG();e.R7$(),e.Y8G("ngForOf",null==o||null==o.payload?null:o.payload.page),e.R7$(),e.Y8G("ngIf",d+1===x.objects.length&&(o||d>0)&&!(null!=o&&o.hasSucceeded&&null!=o&&o.payload&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)),e.R7$(),e.Y8G("ngIf",d+1===x.objects.length&&(null==o||null==o.payload||null==o.payload.page?null:o.payload.page.length)>0)}}function xy(u,E){if(1&u&&(e.qex(0),e.DNE(1,wO,4,3,"ng-container",2),e.nI1(2,"async"),e.bVm()),2&u){const o=E.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,o))}}let Wc=(()=>{class u extends JR.e{constructor(o,d,x,ee){super(),this.relationshipService=o,this.elementRef=d,this.appConfig=x,this.platformId=ee,this.incrementBy=5,this.options=new Ry._,this.viewMode=Wn.n.ListElement,this.fetchThumbnail=this.appConfig.browseBy.showThumbnails}ngOnInit(){this.placeholderFontClass=(0,p.UE)(this.platformId)?(0,Qf.F)(this.elementRef.nativeElement.offsetWidth):"hide-placeholder-text",super.ngOnInit()}getPage(o){return this.relationshipService.getRelatedItemsByLabel(this.parentItem,this.relationType,Object.assign(this.options,{elementsPerPage:this.incrementBy,currentPage:o,fetchThumbnail:this.fetchThumbnail}))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Xl.RelationshipDataService),e.rXU(e.aKT),e.rXU(ti.vQ),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-related-items"]],inputs:{parentItem:"parentItem",relationType:"relationType",incrementBy:"incrementBy",options:"options",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[3,"label","ngClass"],[4,"ngFor","ngForOf"],[4,"ngVar"],[3,"object","viewMode",4,"ngFor","ngForOf"],[3,"message",4,"ngIf"],["class","d-inline-block w-100 mt-2",4,"ngIf"],[3,"object","viewMode"],[3,"message"],[1,"d-inline-block","w-100","mt-2"],["class","float-left","id","view-more",4,"ngIf"],["class","float-right","id","view-less",4,"ngIf"],["id","view-more",1,"float-left"],[1,"btn","btn-link","btn-link-inline","text-capitalize",3,"click"],["id","view-less",1,"float-right"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",0),e.DNE(1,xy,3,3,"ng-container",1),e.k0s()),2&d&&(e.Y8G("label",x.label)("ngClass",x.placeholderFontClass),e.R7$(),e.Y8G("ngForOf",x.objects))},dependencies:[Fo.Q,p.YU,p.pM,ml.r,Tu.v,p.bT,fc.v,p.Jj,G.h,G.D9],styles:["[_nghost-%COMP%]{display:block}ds-listable-object-component-loader[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]})}}return u})();var Kc=n(17807),$a=n(4420);const Zf=()=>["creativeworkseries.issn"],xO=()=>["creativework.publisher"],Ly=()=>["creativework.editor"],LO=()=>["dc.description"],p_=u=>[u],QR=()=>({label:"isJournalOfPublication",filter:"isJournalOfPublication",configuration:"default-relationships"});function NO(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",14),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let Hc=class Zb extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(Zb)))(d||Zb)}})()}static{this.\u0275cmp=e.VBU({type:Zb,selectors:[["ds-journal"]],standalone:!0,features:[e.Vt3,e.aNF],decls:23,vars:40,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"item-page-fields",3,"item","fields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,NO,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",8),e.k0s(),e.j41(13,"div",9),e.nrm(14,"ds-related-items",10),e.nI1(15,"translate"),e.nrm(16,"ds-generic-item-page-field",7),e.j41(17,"div")(18,"a",11),e.EFF(19),e.nI1(20,"translate"),e.k0s()()(),e.j41(21,"div",12),e.nrm(22,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,23,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,25,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(31,Zf))("label","journal.page.issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(32,xO))("label","journal.page.publisher"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(33,Ly))("label","journal.page.editor"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isVolumeOfJournal")("label",e.bMT(15,27,"relationships.isVolumeOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(34,LO))("label","journal.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(35,p_,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(20,29,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.eq3(38,p_,e.lJ4(37,QR))))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Ga,Wc,_.Wk,$c,p.Jj,G.h,G.D9]})}};Hc=(0,Ue.Cg)([(0,Hn.VK)("Journal",Wn.n.StandalonePage)],Hc);const Ny=()=>["publicationvolume.volumeNumber"],FO=()=>["publicationissue.issueNumber"],BO=()=>["creativework.datePublished"],UO=()=>["journal.title"],f_=()=>["creativeworkseries.issn"],jO=()=>["dc.description"],Fy=()=>["creativework.keywords"],_l=u=>[u];function By(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",12),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let qf=class qb extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(qb)))(d||qb)}})()}static{this.\u0275cmp=e.VBU({type:qb,selectors:[["ds-journal-issue"]],standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:52,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"mb-1","mt-1",3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,By,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7)(14,"ds-generic-item-page-field",7),e.k0s(),e.j41(15,"div",8),e.nrm(16,"ds-related-items",9),e.nI1(17,"translate"),e.nrm(18,"ds-related-items",10),e.nI1(19,"translate"),e.nrm(20,"ds-generic-item-page-field",7)(21,"ds-generic-item-page-field",7),e.j41(22,"div")(23,"a",11),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,33,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,35,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(43,Ny))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(44,FO))("label","journalissue.page.number"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(45,BO))("label","journalissue.page.issuedate"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(46,UO))("label","journalissue.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(47,f_))("label","journalissue.page.journal-issn"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalVolumeOfIssue")("label",e.bMT(17,37,"relationships.isSingleVolumeOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPublicationOfJournalIssue")("label",e.bMT(19,39,"relationships.isPublicationOfJournalIssue")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(48,jO))("label","journalissue.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(49,Fy))("label","journalissue.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(50,_l,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(25,41,"item.page.link.full")," "))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Ga,Wc,_.Wk,p.Jj,G.h,G.D9]})}};qf=(0,Ue.Cg)([(0,Hn.VK)("JournalIssue",Wn.n.StandalonePage)],qf);const ZR=()=>["publicationvolume.volumeNumber"],bo=()=>["creativework.datePublished"],kO=()=>["dc.description"],m_=u=>[u];function VO(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",11),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let em=class eT extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(eT)))(d||eT)}})()}static{this.\u0275cmp=e.VBU({type:eT,selectors:[["ds-journal-volume"]],standalone:!0,features:[e.Vt3,e.aNF],decls:22,vars:36,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,VO,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7),e.j41(18,"div")(19,"a",10),e.EFF(20),e.nI1(21,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,21,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,23,null==d.object?null:d.object.thumbnail)),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(31,ZR))("label","journalvolume.page.volume"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(32,bo))("label","journalvolume.page.issuedate"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalOfVolume")("label",e.bMT(14,25,"relationships.isSingleJournalOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isIssueOfJournalVolume")("label",e.bMT(16,27,"relationships.isIssueOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(33,kO))("label","journalvolume.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(34,m_,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(21,29,"item.page.link.full")," "))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Ga,Wc,_.Wk,p.Jj,G.h,G.D9]})}};em=(0,Ue.Cg)([(0,Hn.VK)("JournalVolume",Wn.n.StandalonePage)],em);const tm=["*","*"],g_=u=>[u];function Uy(u,E){if(1&u&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,g_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function jy(u,E){if(1&u&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function GO(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function $O(u,E){if(1&u&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("organization.foundingDate"),e.npT)}}function Ld(u,E){if(1&u&&(e.j41(0,"span",22)(1,"span"),e.EFF(2,", "),e.k0s(),e.EFF(3),e.k0s()),2&u){const o=e.XpG(2);e.R7$(3),e.SpI(" ",o.firstMetadataValue("organization.address.addressLocality")," ")}}function ky(u,E){if(1&u&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17)(2,"span",20),e.EFF(3),e.k0s(),e.DNE(4,Ld,4,1,"span",21),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(2),e.JRh(o.firstMetadataValue("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",o.dso.hasMetadata("organization.address.addressLocality"))}}function __(u,E){if(1&u&&(e.j41(0,"div",23)(1,"a",24),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,g_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let ep=class tT extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(tT)))(d||tT)}})()}static{this.\u0275cmp=e.VBU({type:tT,selectors:[["ds-org-unit-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:tm,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-date card-text text-muted",4,"ngIf"],["class","item-location card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-date","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-location","card-text"],[1,"item-country"],["class","item-city",4,"ngIf"],[1,"item-city"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(tm),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Uy,5,12,"a",3)(6,jy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,GO,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,$O,3,3,"p",9)(12,ky,5,4,"p",10)(13,__,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("organization.foundingDate")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("organization.address.addressCountry")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};ep=(0,Ue.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Wn.n.GridElement)],ep);const Vy=()=>({}),Gy=(u,E)=>({indexableObject:u,hitHighlights:E});let tp=class nT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(nT)))(d||nT)}})()}static{this.\u0275cmp=e.VBU({type:nT,selectors:[["ds-org-unit-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-org-unit-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Gy,d.object,e.lJ4(3,Vy)))("linkType",d.linkType)},dependencies:[ep]})}};tp=(0,Ue.Cg)([(0,Hn.VK)("OrgUnit",Wn.n.GridElement)],tp);const Bu=["*","*"],nm=u=>[u];function zc(u,E){if(1&u&&(e.j41(0,"a",12),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",13),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,nm,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function sm(u,E){if(1&u&&(e.j41(0,"span",14)(1,"div"),e.nrm(2,"ds-thumbnail",13),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function $y(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function np(u,E){if(1&u&&(e.j41(0,"p",16)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",1),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.email"),e.npT)}}function WO(u,E){if(1&u&&(e.j41(0,"p",19)(1,"ds-truncatable-part",17),e.nrm(2,"span",18),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("person.jobTitle"),e.npT)}}function KO(u,E){if(1&u&&(e.j41(0,"div",20)(1,"a",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,nm,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Nd=class sT extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(sT)))(d||sT)}})()}static{this.\u0275cmp=e.VBU({type:sT,selectors:[["ds-person-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:Bu,decls:15,vars:13,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-email card-text text-muted",4,"ngIf"],["class","item-jobtitle card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-email","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"item-jobtitle","card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(Bu),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,zc,5,12,"a",3)(6,sm,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,$y,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,np,3,3,"p",9)(12,WO,3,3,"p",10)(13,KO,4,8,"div",11),e.k0s()(),e.SdG(14,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,11,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("person.email")),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("person.jobTitle")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};Nd=(0,Ue.Cg)([(0,Hn.VK)("PersonSearchResult",Wn.n.GridElement)],Nd);const Wy=()=>({}),Yc=(u,E)=>({indexableObject:u,hitHighlights:E});let Xc=class iT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(iT)))(d||iT)}})()}static{this.\u0275cmp=e.VBU({type:iT,selectors:[["ds-person-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-person-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,Yc,d.object,e.lJ4(3,Wy)))("linkType",d.linkType)},dependencies:[Nd]})}};Xc=(0,Ue.Cg)([(0,Hn.VK)("Person",Wn.n.GridElement)],Xc);const HO=["*","*"],ip=u=>[u];function Ky(u,E){if(1&u&&(e.j41(0,"a",11),e.nI1(1,"translate"),e.j41(2,"div"),e.nrm(3,"ds-thumbnail",12),e.nI1(4,"async"),e.k0s()()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,ip,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(3),e.Y8G("thumbnail",e.bMT(4,8,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function Hy(u,E){if(1&u&&(e.j41(0,"span",13)(1,"div"),e.nrm(2,"ds-thumbnail",12),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("thumbnail",e.bMT(3,2,null==o.dso?null:o.dso.thumbnail))("limitWidth",!1)}}function zO(u,E){if(1&u&&e.nrm(0,"ds-badges",14),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function im(u,E){if(1&u&&(e.j41(0,"p",15)(1,"ds-truncatable-part",16),e.nrm(2,"span",17),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}function rp(u,E){if(1&u&&(e.j41(0,"div",18)(1,"a",19),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,ip,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let op=class rT extends Va{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(rT)))(d||rT)}})()}static{this.\u0275cmp=e.VBU({type:rT,selectors:[["ds-project-search-result-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:HO,decls:14,vars:12,consts:[[1,"card"],[3,"id"],[1,"position-absolute","ml-1"],["class","card-img-top full-width",3,"target","routerLink",4,"ngIf"],["class","card-img-top full-width",4,"ngIf"],[1,"card-body"],[3,"object","context",4,"ngIf"],["type","h4",3,"id","minLines"],[1,"card-title",3,"innerHTML"],["class","item-description card-text text-muted",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top","full-width",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top","full-width"],[3,"object","context"],[1,"item-description","card-text","text-muted"],[3,"id","minLines"],[3,"innerHTML"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.NAR(HO),e.j41(0,"div",0),e.nI1(1,"async"),e.j41(2,"ds-truncatable",1)(3,"div",2),e.SdG(4),e.k0s(),e.DNE(5,Ky,5,12,"a",3)(6,Hy,4,4,"span",4),e.j41(7,"div",5),e.DNE(8,zO,1,2,"ds-badges",6),e.j41(9,"ds-truncatable-part",7),e.nrm(10,"h4",8),e.k0s(),e.DNE(11,im,3,3,"p",9)(12,rp,4,8,"div",10),e.k0s()(),e.SdG(13,1),e.k0s()),2&o&&(e.Y8G("@focusShadow",e.bMT(1,10,d.isCollapsed$)?"blur":"focus"),e.R7$(2),e.Y8G("id",d.dso.id),e.R7$(3),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.dso.hasMetadata("dc.description")),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[La.d,p.bT,_.Wk,Ui.T,$r.F,Hr.W,p.Jj,G.h,G.D9],data:{animation:[xa]}})}};op=(0,Ue.Cg)([(0,Hn.VK)("ProjectSearchResult",Wn.n.GridElement)],op);const YO=()=>({}),XO=(u,E)=>({indexableObject:u,hitHighlights:E});let rm=class oT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(oT)))(d||oT)}})()}static{this.\u0275cmp=e.VBU({type:oT,selectors:[["ds-project-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-project-search-result-grid-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,XO,d.object,e.lJ4(3,YO)))("linkType",d.linkType)},dependencies:[op]})}};rm=(0,Ue.Cg)([(0,Hn.VK)("Project",Wn.n.GridElement)],rm);const JO=()=>["dc.description"],zy=u=>[u];function QO(u,E){if(1&u&&(e.j41(0,"a",12),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,zy,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function ZO(u,E){if(1&u&&(e.j41(0,"span",14),e.nrm(1,"ds-thumbnail",13),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder")}}function om(u,E){if(1&u&&(e.j41(0,"div",9),e.DNE(1,QO,3,11,"a",10)(2,ZO,3,6,"span",11),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function qO(u,E){if(1&u&&e.nrm(0,"ds-badges",15),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function eM(u,E){if(1&u&&(e.nrm(0,"a",16),e.nI1(1,"translate")),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,zy,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"orgunit.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function Yy(u,E){if(1&u&&(e.nrm(0,"span",17),e.nI1(1,"translate")),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"orgunit.listelement.no-title"),e.npT)}}function Xy(u,E){if(1&u&&(e.j41(0,"span",18)(1,"ds-truncatable-part",19),e.nrm(2,"span",20),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("id",o.dso.id)("minLines",3),e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue("dc.description"),e.npT)}}let Fd=class aT extends uc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(aT)))(d||aT)}})()}static{this.\u0275cmp=e.VBU({type:aT,selectors:[["ds-org-unit-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:9,vars:8,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-org-unit-description",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-org-unit-description"],[3,"id","minLines"],[3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,om,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,qO,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,eM,2,8,"a",5)(6,Yy,2,3,"span",6),e.j41(7,"span",7),e.DNE(8,Xy,3,3,"span",8),e.k0s()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(7,JO)).length>0))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,$r.F,La.d,Hr.W,p.Jj,G.h,G.D9]})}};Fd=(0,Ue.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Wn.n.ListElement)],Fd);const Jy=()=>({}),tM=(u,E)=>({indexableObject:u,hitHighlights:E});let ap=class lT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(lT)))(d||lT)}})()}static{this.\u0275cmp=e.VBU({type:lT,selectors:[["ds-org-unit-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-org-unit-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,tM,d.object,e.lJ4(3,Jy)))("linkType",d.linkType)},dependencies:[Fd]})}};ap=(0,Ue.Cg)([(0,Hn.VK)("OrgUnit",Wn.n.ListElement)],ap);const am=()=>["person.jobTitle"],v_=u=>[u];function Qy(u,E){if(1&u&&(e.j41(0,"a",13),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,v_,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function nM(u,E){if(1&u&&(e.j41(0,"span",15),e.nrm(1,"ds-thumbnail",14),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function sM(u,E){if(1&u&&(e.j41(0,"div",10),e.DNE(1,Qy,3,11,"a",11)(2,nM,3,6,"span",12),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function iM(u,E){if(1&u&&e.nrm(0,"ds-badges",16),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function y_(u,E){if(1&u&&(e.nrm(0,"a",17),e.nI1(1,"translate")),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,v_,o.itemPageRoute))("innerHTML",o.dsoTitle||e.bMT(1,4,"person.listelement.no-title"),e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function E_(u,E){if(1&u&&(e.nrm(0,"span",18),e.nI1(1,"translate")),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle||e.bMT(1,1,"person.listelement.no-title"),e.npT)}}function Zy(u,E){if(1&u&&(e.j41(0,"span")(1,"span",21),e.nrm(2,"span",21),e.k0s()()),2&u){const o=E.$implicit;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("innerHTML",o,e.npT)}}function C_(u,E){if(1&u&&(e.j41(0,"span",19),e.DNE(1,Zy,3,2,"span",20),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,am)))}}let Bd=class iR extends uc.k{constructor(E,o,d){super(E,o,d),this.truncatableService=E,this.dsoNameService=o,this.appConfig=d}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=function(o){return new(o||iR)(e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:iR,selectors:[["ds-person-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:10,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"object","context",4,"ngIf"],[3,"id"],["class","lead",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],[3,"id","minLines"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead",3,"target","routerLink","innerHTML"],[1,"lead",3,"innerHTML"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,sM,3,2,"div",1),e.j41(2,"div",2),e.DNE(3,iM,1,2,"ds-badges",3),e.j41(4,"ds-truncatable",4),e.DNE(5,y_,2,8,"a",5)(6,E_,2,3,"span",6),e.j41(7,"span",7)(8,"ds-truncatable-part",8),e.DNE(9,C_,2,2,"span",9),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9 col-md-10":"col-12"),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(2),e.Y8G("id",d.dso.id)("minLines",1),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(9,am)).length>0))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,$r.F,La.d,Hr.W,p.pM,p.Jj,G.h,G.D9]})}};Bd=(0,Ue.Cg)([(0,Hn.VK)("PersonSearchResult",Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Rs.f,Object])],Bd);const rM=()=>({}),oM=(u,E)=>({indexableObject:u,hitHighlights:E});let lm=class cT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(cT)))(d||cT)}})()}static{this.\u0275cmp=e.VBU({type:cT,selectors:[["ds-person-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:8,consts:[[3,"object","linkType","showLabel","value"]],template:function(o,d){1&o&&e.nrm(0,"ds-person-search-result-list-element",0),2&o&&e.Y8G("object",e.l_i(5,oM,d.object,e.lJ4(4,rM)))("linkType",d.linkType)("showLabel",d.showLabel)("value",d.value)},dependencies:[Bd]})}};lm=(0,Ue.Cg)([(0,Hn.VK)("Person",Wn.n.ListElement)],lm);const qy=u=>[u];function eE(u,E){if(1&u&&(e.j41(0,"a",10),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(9,qy,o.itemPageRoute)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,7,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function b_(u,E){if(1&u&&(e.j41(0,"span",12),e.nrm(1,"ds-thumbnail",11),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder")}}function T_(u,E){if(1&u&&(e.j41(0,"div",7),e.DNE(1,eE,3,11,"a",8)(2,b_,3,6,"span",9),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function tE(u,E){if(1&u&&e.nrm(0,"ds-badges",13),2&u){const o=e.XpG();e.Y8G("object",o.dso)("context",o.context)}}function nE(u,E){if(1&u&&e.nrm(0,"a",14),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,qy,o.itemPageRoute))("innerHTML",o.dsoTitle,e.npT),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null)}}function sE(u,E){if(1&u&&e.nrm(0,"span",15),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}let lp=class dT extends uc.k{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(dT)))(d||dT)}})()}static{this.\u0275cmp=e.VBU({type:dT,selectors:[["ds-project-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[3,"id"],[3,"object","context",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"target","routerLink","innerHTML",4,"ngIf"],["class","lead item-list-title dont-break-out",3,"innerHTML",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target","routerLink",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target","routerLink"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[3,"object","context"],[1,"lead","item-list-title","dont-break-out",3,"target","routerLink","innerHTML"],[1,"lead","item-list-title","dont-break-out",3,"innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,T_,3,2,"div",1),e.j41(2,"div",2)(3,"ds-truncatable",3),e.DNE(4,tE,1,2,"ds-badges",4)(5,nE,1,6,"a",5)(6,sE,1,1,"span",6),e.k0s()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(),e.Y8G("id",d.dso.id),e.R7$(),e.Y8G("ngIf",d.showLabel),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,p.YU,La.d,$r.F,p.Jj]})}};lp=(0,Ue.Cg)([(0,Hn.VK)("ProjectSearchResult",Wn.n.ListElement)],lp);const iE=()=>({}),aM=(u,E)=>({indexableObject:u,hitHighlights:E});let Uu=class uT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(uT)))(d||uT)}})()}static{this.\u0275cmp=e.VBU({type:uT,selectors:[["ds-project-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-project-search-result-list-element",0),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,aM,d.object,e.lJ4(3,iE)))("linkType",d.linkType)},dependencies:[lp]})}};function rE(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Uu=(0,Ue.Cg)([(0,Hn.VK)("Project",Wn.n.ListElement)],Uu);let ju=class hT extends hc{getDescription(){return this.firstMetadataValue("dc.description")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(hT)))(d||hT)}})()}static{this.\u0275cmp=e.VBU({type:hT,selectors:[["ds-org-unit-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,rE,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function qR(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}ju=(0,Ue.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("OrgUnitSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],ju);let D_=class rR extends hc{constructor(E,o,d,x){super(E,o,x),this.truncatableService=E,this.linkService=o,this.translateService=d,this.dsoNameService=x}getDescription(){const E=this.allMetadataValues(["person.jobTitle"]);let o="";return(0,V.hj)(E)&&(o+=E.join(", ")),this.undefinedIfEmpty(o)}static{this.\u0275fac=function(o){return new(o||rR)(e.rXU(Pi.F),e.rXU(Di._),e.rXU(G.c$),e.rXU(Rs.f))}}static{this.\u0275cmp=e.VBU({type:rR,selectors:[["ds-person-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,qR,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function oE(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}D_=(0,Ue.Cg)([(0,Hn.VK)("PersonSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("PersonSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent),(0,Ue.Sn)("design:paramtypes",[Pi.F,Di._,G.c$,Rs.f])],D_);let cp=class pT extends hc{getDescription(){}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(pT)))(d||pT)}})()}static{this.\u0275cmp=e.VBU({type:pT,selectors:[["ds-project-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,oE,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};cp=(0,Ue.Cg)([(0,Hn.VK)("ProjectSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("ProjectSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],cp);let aE=(()=>{class u extends Fu{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-img-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label",img:"img",urlRegex:"urlRegex"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[Nu,p.Jj],encapsulation:2})}}return u})();const O_=()=>["organization.foundingDate"],lE=()=>["organization.address.addressLocality"],cE=()=>["organization.adress.addressCountry"],dE=()=>["dc.identifier"],uE=()=>["organization.identifier.ror"],lM=()=>({URI:"./assets/images/ror-icon.svg",alt:"item.page.image.alt.ROR",heightVar:"--ds-item-page-img-field-ror-inline-height"}),eA=()=>["dc.description"],tA=u=>[u],nA=()=>({label:"isOrgUnitOfPerson",filter:"isOrgUnitOfPerson",configuration:"person-relationships"}),sA=()=>({label:"isOrgUnitOfProject",filter:"isOrgUnitOfProject",configuration:"project-relationships"}),iA=(u,E)=>[u,E];function rA(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",14),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let M_=class fT extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(fT)))(d||fT)}})()}static{this.\u0275cmp=e.VBU({type:fT,selectors:[["ds-org-unit"]],standalone:!0,features:[e.Vt3,e.aNF],decls:25,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"fields","img","item","label","urlRegex"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,rA,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7)(12,"ds-generic-item-page-field",7)(13,"ds-generic-item-page-field",7),e.k0s(),e.j41(14,"div",8),e.nrm(15,"ds-item-page-img-field",9)(16,"ds-related-items",10),e.nI1(17,"translate"),e.nrm(18,"ds-generic-item-page-field",7),e.j41(19,"div")(20,"a",11),e.EFF(21),e.nI1(22,"translate"),e.k0s()()(),e.j41(23,"div",12),e.nrm(24,"ds-tabbed-related-entities-search",13),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/orgunit-placeholder.svg")("alt","thumbnail.orgunit.alt")("placeholder","thumbnail.orgunit.placeholder"),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(42,O_))("label","orgunit.page.dateestablished"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(43,lE))("label","orgunit.page.city"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(44,cE))("label","orgunit.page.country"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(45,dE))("label","orgunit.page.id"),e.R7$(2),e.Y8G("fields",e.lJ4(46,uE))("img",e.lJ4(47,lM))("item",d.object)("label","orgunit.page.ror")("urlRegex","(.*)ror.org"),e.R7$(),e.Y8G("parentItem",d.object)("relationType","isPublicationOfOrgUnit")("label",e.bMT(17,38,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(48,eA))("label","orgunit.page.description"),e.R7$(2),e.Y8G("routerLink",e.eq3(49,tA,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(22,40,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.l_i(53,iA,e.lJ4(51,nA),e.lJ4(52,sA))))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Ga,Wc,_.Wk,$c,p.Jj,G.h,G.D9,aE]})}};M_=(0,Ue.Cg)([(0,Hn.VK)("OrgUnit",Wn.n.StandalonePage)],M_);const oA=()=>["person.email"],hE=()=>["person.birthDate"],pE=()=>["person.jobTitle"],aA=()=>["person.familyName"],lA=()=>["person.givenName"],cA=()=>["dc.title"],cM=u=>[u],dA=()=>({label:"isAuthorOfPublication",filter:"isAuthorOfPublication",configuration:"default-relationships"});function uA(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",13),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let I_=class mT extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(mT)))(d||mT)}})()}static{this.\u0275cmp=e.VBU({type:mT,selectors:[["ds-person"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:56,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[1,"mt-5","w-100"],[3,"item","relationTypes"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,uA,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-generic-item-page-field",7)(11,"ds-generic-item-page-field",7),e.k0s(),e.j41(12,"div",8),e.nrm(13,"ds-related-items",9),e.nI1(14,"translate"),e.nrm(15,"ds-related-items",9),e.nI1(16,"translate"),e.nrm(17,"ds-generic-item-page-field",7)(18,"ds-generic-item-page-field",7)(19,"ds-generic-item-page-field",7)(20,"ds-generic-item-page-field",7),e.j41(21,"div")(22,"a",10),e.EFF(23),e.nI1(24,"translate"),e.k0s()()(),e.j41(25,"div",11),e.nrm(26,"ds-tabbed-related-entities-search",12),e.k0s()()),2&o&&(e.Y8G("ngIf",e.bMT(1,35,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,37,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder"),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(45,oA))("label","person.page.email"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(46,hE))("label","person.page.birthdate"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isProjectOfPerson")("label",e.bMT(14,39,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfPerson")("label",e.bMT(16,41,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(47,pE))("label","person.page.jobtitle"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(48,aA))("label","person.page.lastname"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(49,lA))("label","person.page.firstname"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(50,cA))("label","person.page.name"),e.R7$(2),e.Y8G("routerLink",e.eq3(51,cM,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(24,43,"item.page.link.full")," "),e.R7$(3),e.Y8G("item",d.object)("relationTypes",e.eq3(54,cM,e.lJ4(53,dA))))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Ga,Wc,_.Wk,$c,p.Jj,G.h,G.D9]})}};I_=(0,Ue.Cg)([(0,Hn.VK)("Person",Wn.n.StandalonePage)],I_),n(12063);const hA=["*"];function dM(u,E){}let Jc=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["parentItem","itemType","metadataFields","label","incrementBy"]}getComponentName(){return"MetadataRepresentationListComponent"}importThemedComponent(o){return n(89979)(`./${o}/app/item-page/simple/metadata-representation-list/metadata-representation-list.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,12063))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-metadata-representation-list"]],inputs:{parentItem:"parentItem",itemType:"itemType",metadataFields:"metadataFields",label:"label",incrementBy:"incrementBy"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:hA,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,dM,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();const dp=()=>["project.contributor.other"],uM=()=>["project.identifier.funder"],pA=()=>["dc.identifier"],fE=()=>["dc.description"],hM=()=>["dc.subject"],fA=u=>[u];function pM(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",12),2&u){const o=e.XpG();e.Y8G("back",o.back)}}let cm=class gT extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(gT)))(d||gT)}})()}static{this.\u0275cmp=e.VBU({type:gT,selectors:[["ds-project"]],standalone:!0,features:[e.Vt3,e.aNF],decls:27,vars:55,consts:[[3,"back",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail","defaultImage","alt","placeholder"],[3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[1,"btn","btn-outline-primary",3,"routerLink"],[3,"back"]],template:function(o,d){1&o&&(e.DNE(0,pM,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.j41(2,"div",1),e.nrm(3,"ds-item-page-title-field",2)(4,"ds-dso-edit-menu"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"ds-metadata-field-wrapper",5),e.nrm(8,"ds-thumbnail",6),e.nI1(9,"async"),e.k0s(),e.nrm(10,"ds-metadata-representation-list",7),e.nI1(11,"translate"),e.nrm(12,"ds-generic-item-page-field",8)(13,"ds-generic-item-page-field",8),e.k0s(),e.j41(14,"div",9),e.nrm(15,"ds-related-items",10),e.nI1(16,"translate"),e.nrm(17,"ds-related-items",10),e.nI1(18,"translate"),e.nrm(19,"ds-related-items",10),e.nI1(20,"translate"),e.nrm(21,"ds-generic-item-page-field",8)(22,"ds-generic-item-page-field",8),e.j41(23,"div")(24,"a",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,34,d.showBackButton$)),e.R7$(3),e.Y8G("item",d.object),e.R7$(4),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(9,36,null==d.object?null:d.object.thumbnail))("defaultImage","assets/images/project-placeholder.svg")("alt","thumbnail.project.alt")("placeholder","thumbnail.project.placeholder"),e.R7$(2),e.Y8G("parentItem",d.object)("itemType","OrgUnit")("metadataFields",e.lJ4(48,dp))("label",e.bMT(11,38,"project.page.contributor")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(49,uM))("label","project.page.funder"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(50,pA))("label","project.page.id"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPersonOfProject")("label",e.bMT(16,40,"relationships.isPersonOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isPublicationOfProject")("label",e.bMT(18,42,"relationships.isPublicationOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfProject")("label",e.bMT(20,44,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(51,fE))("label","project.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(52,hM))("label","project.page.keyword"),e.R7$(2),e.Y8G("routerLink",e.eq3(53,fA,d.itemPageRoute+"/full")),e.R7$(),e.SpI(" ",e.bMT(26,46,"item.page.link.full")," "))},dependencies:[p.bT,$a.U,gl.V,Kc.T,Fo.Q,Ui.T,Jc,Ga,Wc,_.Wk,p.Jj,G.h,G.D9]})}};function fM(u,E){if(1&u&&(e.j41(0,"div")(1,"a",2),e.EFF(2),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("href",o.uri.value,e.B4B),e.R7$(),e.JRh(o.uri.value)}}cm=(0,Ue.Cg)([(0,Hn.VK)("Project",Wn.n.StandalonePage)],cm);let ku=class _T extends jr.C{ngOnInit(){this.uri=Rh.O.first(this.object.metadata,"dc.identifier.uri")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(_T)))(d||_T)}})()}static{this.\u0275cmp=e.VBU({type:_T,selectors:[["ds-external-source-entry-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:2,consts:[[1,"d-inline-block"],[4,"ngIf"],["target","_blank",3,"href"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.k0s(),e.DNE(3,fM,3,2,"div",1),e.k0s()),2&o&&(e.R7$(2),e.JRh(d.object.display),e.R7$(),e.Y8G("ngIf",d.uri))},dependencies:[p.bT]})}};ku=(0,Ue.Cg)([(0,Hn.VK)(Sg.$,Wn.n.ListElement,ks.o.EntitySearchModal),(0,Hn.VK)(Sg.$,Wn.n.ListElement,ks.o.EntitySearchModalWithNameVariants)],ku);var up=n(29326),mE=n(14391);const gE=u=>({value:u});let mM=(()=>{class u{constructor(o){this.modal=o}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(X.Lw))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-name-variant-modal"]],inputs:{value:"value"},standalone:!0,features:[e.aNF],decls:16,vars:12,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer","justify-content-between"],["type","button",1,"btn","btn-light","confirm-button",3,"click"],["type","button",1,"btn","btn-light","decline-button",3,"click"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"h4",1),e.EFF(2,"New name variant"),e.k0s(),e.j41(3,"button",2),e.bIt("click",function(){return x.modal.dismiss("Cross click")}),e.j41(4,"span",3),e.EFF(5,"\xd7"),e.k0s()()(),e.j41(6,"div",4),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",5)(10,"button",6),e.bIt("click",function(){return x.modal.close()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",7),e.bIt("click",function(){return x.modal.dismiss()}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&d&&(e.R7$(7),e.SpI(" ",e.i5U(8,3,"submission.sections.describe.relationship-lookup.name-variant.notification.content",e.eq3(10,gE,x.value)),"\n"),e.R7$(4),e.JRh(e.bMT(12,6,"submission.sections.describe.relationship-lookup.name-variant.notification.confirm")),e.R7$(3),e.JRh(e.bMT(15,8,"submission.sections.describe.relationship-lookup.name-variant.notification.decline")))},dependencies:[G.h,G.D9]})}}return u})();var S_=n(14412),gM=n(46301),_E=n(56386);const vE=u=>({"is-invalid":u}),P_=()=>({standalone:!0}),_M=u=>({show:u});function vM(u,E){if(1&u){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG();return e.Njj(ee.onClickSuggestion(x))}),e.nrm(3,"span",10),e.k0s()()}if(2&u){const o=E.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let hp=(()=>{class u extends S_.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){this.value=o,this.submitSuggestion.emit(o)}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-org-unit-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Nn.kq,useExisting:(0,e.Rfq)(()=>u),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"ngModelChange","focus","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){return e.eBV(ee),e.Njj(x.onSubmit(x.value))})("keydown",function(Ae){return e.eBV(ee),e.Njj(x.onKeydown(Ae))})("keydown.arrowdown",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusDown(Ae))})("keydown.arrowup",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusUp(Ae))})("keydown.esc",function(){return e.eBV(ee),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(ee),e.Njj(x.close())}),e.j41(2,"input",4,1),e.mxI("ngModelChange",function(Ae){return e.eBV(ee),e.DH7(x.value,Ae)||(x.value=Ae),e.Njj(Ae)}),e.bIt("focus",function(){return e.eBV(ee),e.Njj(x.open())})("click",function(){return e.eBV(ee),e.Njj(x.open())})("onDebounce",function(Ae){return e.eBV(ee),e.Njj(x.find(Ae))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,vM,4,1,"div",8),e.k0s()()()}2&d&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.R50("ngModel",x.value),e.Y8G("name",x.name)("ngClass",e.eq3(14,vE,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(16,P_)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,_M,e.bMT(8,12,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Y8G("ngForOf",x.suggestions))},dependencies:[Nn.YN,Nn.qT,Nn.me,Nn.BC,Nn.cb,Nn.vS,Nn.cV,gM.z,_E.R,p.YU,p.pM,p.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]{z-index:1}form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px;z-index:-1}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return u})();const yM=()=>["organization.address.addressLocality"],EM=()=>["organization.address.addressCountry"];function CM(u,E){if(1&u){const o=e.RV6();e.j41(0,"ds-org-unit-input-suggestions",7),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.selectedName,x)||(ee.selectedName=x),e.Njj(x)}),e.bIt("clickSuggestion",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.select(x))})("submitSuggestion",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.selectCustom(x))}),e.k0s()}if(2&u){const o=e.XpG();e.Y8G("suggestions",o.allSuggestions),e.R50("ngModel",o.selectedName)}}function bM(u,E){if(1&u&&e.nrm(0,"div",8),2&u){const o=e.XpG();e.Y8G("innerHTML",o.dsoTitle,e.npT)}}function TM(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,", "),e.k0s())}function DM(u,E){if(1&u&&(e.j41(0,"span",9),e.nrm(1,"span",10),e.DNE(2,TM,2,0,"span",11),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(2,yM)),e.npT),e.R7$(),e.Y8G("ngIf",o.dso.allMetadata("organization.address.addressCountry").length>0)}}function OM(u,E){if(1&u&&(e.j41(0,"span",12),e.nrm(1,"span",10),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.firstMetadataValue(e.lJ4(1,EM)),e.npT)}}let pp=class oR extends Po.P{constructor(E,o,d,x,ee,Se,Ae,ft,jt,_n){super(E,jt,_n),this.truncatableService=E,this.relationshipService=o,this.notificationsService=d,this.translateService=x,this.modalService=ee,this.itemDataService=Se,this.bitstreamDataService=Ae,this.selectableListService=ft,this.dsoNameService=jt,this.appConfig=_n,this.alternativeField="dc.title.alternative",this.useNameVariants=!1}ngOnInit(){if(super.ngOnInit(),this.useNameVariants=this.context===ks.o.EntitySearchModalWithNameVariants,this.useNameVariants){const E=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[E,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(d=>{this.selectedName=d||E})}this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(E){this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)}),this.relationshipService.setNameVariant(this.listID,this.dso.uuid,E)}selectCustom(E){this.allSuggestions.includes(E)||this.openModal(E).then(()=>{const o=new mE.vD;o.value=E;const x={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},ee=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(ee).pipe((0,D.s)(1)).subscribe()}).catch(()=>{}).finally(()=>{this.select(E)})}openModal(E){const o=this.modalService.open(mM,{centered:!0});return o.componentInstance.value=E,o.result}static{this.\u0275fac=function(o){return new(o||oR)(e.rXU(Pi.F),e.rXU(Xl.RelationshipDataService),e.rXU(to.I),e.rXU(G.c$),e.rXU(X.Bq),e.rXU(up.ItemDataService),e.rXU(No.BitstreamDataService),e.rXU(Xa.K),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:oR,selectors:[["ds-org-unit-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex"],[1,"flex-grow-1"],[3,"suggestions","ngModel","ngModelChange","clickSuggestion","submitSuggestion",4,"ngIf"],["class","lead",3,"innerHTML",4,"ngIf"],[1,"text-muted"],["class","item-list-address-locality",4,"ngIf"],["class","item-list-address-country",4,"ngIf"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"lead",3,"innerHTML"],[1,"item-list-address-locality"],[3,"innerHTML"],[4,"ngIf"],[1,"item-list-address-country"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,CM,1,2,"ds-org-unit-input-suggestions",2)(3,bM,1,1,"div",3),e.j41(4,"span",4),e.DNE(5,DM,3,3,"span",5)(6,OM,2,2,"span",6),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("ngIf",d.useNameVariants),e.R7$(),e.Y8G("ngIf",!d.useNameVariants),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata("organization.address.addressLocality").length>0),e.R7$(),e.Y8G("ngIf",d.dso.allMetadata("organization.address.addressCountry").length>0))},dependencies:[p.bT,hp,Nn.YN,Nn.BC,Nn.vS],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};pp=(0,Ue.Cg)([(0,Hn.VK)("OrgUnitSearchResult",Wn.n.ListElement,ks.o.EntitySearchModal),(0,Hn.VK)("OrgUnitSearchResult",Wn.n.ListElement,ks.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Pi.F,Xl.RelationshipDataService,to.I,G.c$,X.Bq,up.ItemDataService,No.BitstreamDataService,Xa.K,Rs.f,Object])],pp);const yE=u=>({"is-invalid":u}),MM=()=>({standalone:!0}),mA=u=>({show:u});function EE(u,E){if(1&u){const o=e.RV6();e.j41(0,"div")(1,"a",9,2),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG();return e.Njj(ee.onClickSuggestion(x))}),e.nrm(3,"span",10),e.k0s()()}if(2&u){const o=E.$implicit;e.R7$(3),e.Y8G("innerHTML",o,e.npT)}}let R_=(()=>{class u extends S_.t{constructor(){super(...arguments),this.suggestions=[]}ngOnInit(){this.suggestions.length>0&&(this.value=this.suggestions[0])}onSubmit(o){o!==this.value&&(this.value=o,this.submitSuggestion.emit(o))}onClickSuggestion(o){return this.value=o,this.clickSuggestion.emit(o),this.close(),this.blockReopen=!0,this.queryInput.nativeElement.focus(),!1}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-person-input-suggestions"]],inputs:{suggestions:"suggestions"},standalone:!0,features:[e.Jv_([{provide:Nn.kq,useExisting:(0,e.Rfq)(()=>u),multi:!0}]),e.Vt3,e.aNF],decls:11,vars:19,consts:[["form","ngForm"],["inputField",""],["suggestion",""],[3,"ngSubmit","keydown","keydown.arrowdown","keydown.arrowup","keydown.esc","dsClickOutside","action"],["type","text","autocomplete","off",1,"form-control","suggestion_input",3,"focus","blur","click","onDebounce","ngModel","name","ngClass","dsDebounce","placeholder","ngModelOptions"],["type","submit",1,"sr-only"],[1,"autocomplete","dropdown-menu",3,"ngClass"],[1,"dropdown-list"],[4,"ngFor","ngForOf"],["href","javascript:void(0);",1,"d-block","dropdown-item",3,"click"],[3,"innerHTML"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"form",3,0),e.bIt("ngSubmit",function(){e.eBV(ee);const Ae=e.sdS(3);return e.Njj(x.onSubmit(Ae.value))})("keydown",function(Ae){return e.eBV(ee),e.Njj(x.onKeydown(Ae))})("keydown.arrowdown",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusDown(Ae))})("keydown.arrowup",function(Ae){return e.eBV(ee),e.Njj(x.shiftFocusUp(Ae))})("keydown.esc",function(){return e.eBV(ee),e.Njj(x.close())})("dsClickOutside",function(){return e.eBV(ee),e.Njj(x.close())}),e.j41(2,"input",4,1),e.bIt("focus",function(){return e.eBV(ee),e.Njj(x.open())})("blur",function(){e.eBV(ee);const Ae=e.sdS(3);return e.Njj(x.onSubmit(Ae.value))})("click",function(){return e.eBV(ee),e.Njj(x.open())})("onDebounce",function(Ae){return e.eBV(ee),e.Njj(x.find(Ae))}),e.k0s(),e.j41(4,"button",5),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",6),e.nI1(8,"async"),e.j41(9,"div",7),e.DNE(10,EE,4,1,"div",8),e.k0s()()()}2&d&&(e.Y8G("action",x.action,e.B4B),e.R7$(2),e.Y8G("ngModel",x.value)("name",x.name)("ngClass",e.eq3(14,yE,!x.valid))("dsDebounce",x.debounceTime)("placeholder",x.placeholder)("ngModelOptions",e.lJ4(16,MM)),e.R7$(3),e.SpI(" ",e.bMT(6,10,"search.filters.search.submit")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(17,mA,e.bMT(8,12,x.show)&&x.isNotEmpty(x.suggestions))),e.R7$(3),e.Y8G("ngForOf",x.suggestions))},dependencies:[Nn.YN,Nn.qT,Nn.me,Nn.BC,Nn.cb,Nn.vS,Nn.cV,gM.z,_E.R,p.YU,p.pM,p.Jj,G.h,G.D9],styles:['form[_ngcontent-%COMP%]:before{pointer-events:none;position:absolute;font:var(--fa-font-solid);content:"\\f0d7";top:10px;right:0;height:20px;width:20px}form[_ngcontent-%COMP%]   input.suggestion_input[_ngcontent-%COMP%]{background:#0000}',".autocomplete[_ngcontent-%COMP%]{width:100%}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{white-space:normal;word-break:break-word;padding:var(--bs-input-padding-y) var(--bs-input-padding-x)}.autocomplete[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{outline:none}form[_ngcontent-%COMP%]{position:relative}"]})}}return u})();const Qc=()=>["person.jobTitle"];function CE(u,E){if(1&u&&(e.j41(0,"a",11),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.Y8G("thumbnail",e.bMT(2,6,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function IM(u,E){if(1&u&&(e.j41(0,"span",13),e.nrm(1,"ds-thumbnail",12),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("thumbnail",e.bMT(2,4,null==o.dso?null:o.dso.thumbnail))("defaultImage","assets/images/person-placeholder.svg")("alt","thumbnail.person.alt")("placeholder","thumbnail.person.placeholder")}}function gA(u,E){if(1&u&&(e.j41(0,"div",8),e.DNE(1,CE,3,8,"a",9)(2,IM,3,6,"span",10),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType===o.linkTypes.None)}}function A_(u,E){1&u&&(e.j41(0,"span"),e.EFF(1,"; "),e.k0s())}function w_(u,E){if(1&u&&(e.j41(0,"span"),e.nrm(1,"span",16),e.DNE(2,A_,2,0,"span",17),e.k0s()),2&u){const o=E.$implicit,d=E.last;e.R7$(),e.Y8G("innerHTML",o,e.npT),e.R7$(),e.Y8G("ngIf",!d)}}function SM(u,E){if(1&u&&(e.j41(0,"span",14),e.DNE(1,w_,3,2,"span",15),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.allMetadataValues(e.lJ4(1,Qc)))}}let fp=class aR extends Po.P{constructor(E,o,d,x,ee,Se,Ae){super(E,Se,Ae),this.truncatableService=E,this.relationshipService=o,this.modalService=d,this.itemDataService=x,this.selectableListService=ee,this.dsoNameService=Se,this.appConfig=Ae,this.alternativeField="dc.title.alternative"}ngOnInit(){super.ngOnInit();const E=this.dso?this.dsoNameService.getName(this.dso):void 0,o=this.allMetadataValues(this.alternativeField);this.allSuggestions=[E,...o],this.relationshipService.getNameVariant(this.listID,this.dso.uuid).pipe((0,D.s)(1)).subscribe(d=>{this.selectedName=d||E}),this.showThumbnails=this.appConfig.browseBy.showThumbnails}select(E){this.relationshipService.setNameVariant(this.listID,this.dso.uuid,E),this.selectableListService.isObjectSelected(this.listID,this.object).pipe((0,D.s)(1)).subscribe(o=>{o||this.selectableListService.selectSingle(this.listID,this.object)})}selectCustom(E){this.allSuggestions.includes(E)||this.openModal(E).then(()=>{const o=new mE.vD;o.value=E;const x={[this.alternativeField]:[...this.dso.metadata[this.alternativeField]||[],o]},ee=Object.assign({},this.dso,{metadata:{...this.dso.metadata,...x}});this.itemDataService.update(ee).pipe((0,D.s)(1)).subscribe(),this.itemDataService.commitUpdates()}).catch(()=>{}).finally(()=>{this.select(E)})}openModal(E){const o=this.modalService.open(mM,{centered:!0});return o.componentInstance.value=E,o.result}static{this.\u0275fac=function(o){return new(o||aR)(e.rXU(Pi.F),e.rXU(Xl.RelationshipDataService),e.rXU(X.Bq),e.rXU(up.ItemDataService),e.rXU(Xa.K),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:aR,selectors:[["ds-person-search-result-list-submission-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:6,consts:[[1,"row"],["class","col-3 col-md-2",4,"ngIf"],[3,"ngClass"],[1,"d-flex"],[1,"flex-grow-1"],[3,"ngModelChange","clickSuggestion","submitSuggestion","suggestions","ngModel"],[1,"text-muted"],["class","item-list-job-title",4,"ngIf"],[1,"col-3","col-md-2"],["class","dont-break-out",3,"target",4,"ngIf"],["class","dont-break-out",4,"ngIf"],[1,"dont-break-out",3,"target"],[3,"thumbnail","defaultImage","alt","placeholder"],[1,"dont-break-out"],[1,"item-list-job-title"],[4,"ngFor","ngForOf"],[3,"innerHTML"],[4,"ngIf"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,gA,3,2,"div",1),e.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"ds-person-input-suggestions",5),e.mxI("ngModelChange",function(ee){return e.DH7(d.selectedName,ee)||(d.selectedName=ee),ee}),e.bIt("clickSuggestion",function(ee){return d.select(ee)})("submitSuggestion",function(ee){return d.selectCustom(ee)}),e.k0s(),e.j41(6,"span",6),e.DNE(7,SM,2,2,"span",7),e.k0s()()()()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.showThumbnails),e.R7$(),e.Y8G("ngClass",d.showThumbnails?"col-9":"col-md-12"),e.R7$(3),e.Y8G("suggestions",d.allSuggestions),e.R50("ngModel",d.selectedName),e.R7$(2),e.Y8G("ngIf",d.dso.allMetadata(e.lJ4(5,Qc)).length>0))},dependencies:[p.bT,Ui.T,p.YU,R_,Nn.YN,Nn.BC,Nn.vS,p.pM,p.Jj],styles:[".person-thumbnail[_ngcontent-%COMP%]{width:var(--ds-submission-relationship-thumbnail-width)}"]})}};fp=(0,Ue.Cg)([(0,Hn.VK)("PersonSearchResult",Wn.n.ListElement,ks.o.EntitySearchModalWithNameVariants),(0,Ue.Sn)("design:paramtypes",[Pi.F,Xl.RelationshipDataService,X.Bq,up.ItemDataService,Xa.K,Rs.f,Object])],fp);var mp=n(44616);n(90337);const dm=["*"];function vA(u,E){}let bE=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","mediaOptions"]}getComponentName(){return"MediaViewerComponent"}importThemedComponent(o){return n(5452)(`./${o}/app/item-page/media-viewer/media-viewer.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,90337))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-media-viewer"]],inputs:{item:"item",mediaOptions:"mediaOptions"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:dm,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,vA,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();var TE=n(81443),DE=n(57538),Vu=n(67018);let yA=(()=>{class u{constructor(){this.LINKS_TO_FOLLOW=[(0,js.s)("format")]}showEmbeddedViewer(){return!(0,e.naY)()}getImageCount(o,d,x){let ee=0;return x.findAllByItem(o).pipe((0,ws.qD)(),(0,Rt.T)(Se=>Se.payload),(0,Rt.T)(Se=>Se.page),(0,Vs.n)(Se=>Se),(0,Fn.p)(Se=>this.isIiifBundle(Se.name)),(0,zn.Z)(Se=>d.findAllByItemAndBundleName(o,Se.name,{currentPage:1,elementsPerPage:5},!0,!0,...this.LINKS_TO_FOLLOW).pipe((0,ws.qD)(),(0,Rt.T)(Ae=>Ae.payload),(0,Rt.T)(Ae=>Ae.page),(0,Vs.n)(Ae=>Ae),(0,Vs.n)(Ae=>Ae.format.pipe((0,ws.qD)(),(0,Rt.T)(ft=>ft.payload),(0,Rt.T)(ft=>(ft.mimetype.includes("image")&&ee++,ee)))))),(0,Vu.H)())}isIiifBundle(o){return!("OtherContent"===o||"LICENSE"===o||"THUMBNAIL"===o||"TEXT"===o||"METADATA"===o||"CC-LICENSE"===o||"BRANDED_PREVIEW"===o)}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function um(u,E){if(1&u&&(e.j41(0,"p",3),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.viewerMessage)}}function PM(u,E){if(1&u&&(e.nrm(0,"iframe",4),e.nI1(1,"async")),2&u){const o=e.XpG();e.Y8G("src",e.bMT(1,1,o.iframeViewerUrl),e.f$h)}}let x_=(()=>{class u{constructor(o,d,x,ee,Se,Ae){this.sanitizer=o,this.viewerService=d,this.bitstreamDataService=x,this.bundleDataService=ee,this.hostWindowService=Se,this.platformId=Ae,this.isViewerAvailable=!0,this.multi=!1,this.notMobile=!1,this.viewerMessage="Sorry, the Mirador viewer is not currently available in development mode."}setURL(){const o=encodeURIComponent(R.c.rest.baseUrl+"/iiif/"+this.object.id+"/manifest");let d=`${R.c.ui.nameSpace}${R.c.ui.nameSpace.length>1?"/":""}iiif/mirador/index.html?manifest=${o}`;return this.searchable&&(d+="&searchable="+this.searchable),this.query&&(d+="&query="+this.query),this.multi&&(d+="&multi="+this.multi),this.notMobile&&(d+="&notMobile=true"),this.sanitizer.bypassSecurityTrustResourceUrl(d)}ngOnInit(){if((0,p.UE)(this.platformId))if(this.isViewerAvailable=this.viewerService.showEmbeddedViewer(),this.hostWindowService.widthCategory.pipe((0,D.s)(1)).subscribe(o=>{this.notMobile=!(o===DE.tP.XS||o===DE.tP.SM)}),this.searchable){this.multi=!0;const o=(0,bs.of)("");this.iframeViewerUrl=o.pipe((0,Rt.T)(d=>this.setURL()))}else this.iframeViewerUrl=this.viewerService.getImageCount(this.object,this.bitstreamDataService,this.bundleDataService).pipe((0,Rt.T)(o=>(o>1&&(this.multi=!0),this.setURL())))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(f.up),e.rXU(yA),e.rXU(No.BitstreamDataService),e.rXU(TE.BundleDataService),e.rXU(DE.CV),e.rXU(e.Agw))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-mirador-viewer"]],inputs:{object:"object",query:"query",searchable:"searchable"},standalone:!0,features:[e.aNF],decls:5,vars:5,consts:[[1,"full-text-op"],["id","viewer-message",4,"ngIf"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src",4,"ngIf"],["id","viewer-message"],["title","Mirador Viewer","allowtransparency","true","id","mirador-viewer",3,"src"]],template:function(d,x){1&d&&(e.j41(0,"p",0),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,um,2,1,"p",1)(4,PM,2,3,"iframe",2)),2&d&&(e.R7$(),e.JRh(e.bMT(2,3,"iiifviewer.fullscreen.notice")),e.R7$(2),e.Y8G("ngIf",!x.isViewerAvailable),e.R7$(),e.Y8G("ngIf",x.isViewerAvailable))},dependencies:[G.h,G.D9,p.Jj,p.bT],styles:["#mirador-viewer[_ngcontent-%COMP%]{border:1px solid #dee2e6;height:660px;width:100%}.full-text-op[_ngcontent-%COMP%]{text-align:right;color:#333;font-size:.8em}p.full-text-op[_ngcontent-%COMP%]{margin-bottom:0}"],changeDetection:0})}}return u})();n(1231);const RM=["*"];function kl(u,E){}let Ud=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item"]}getComponentName(){return"FileSectionComponent"}importThemedComponent(o){return n(78373)(`./${o}/app/item-page/simple/field-components/file-section/file-section.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,1231))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-file-section"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:RM,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,kl,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})(),zr=(()=>{class u extends Fu{constructor(){super(...arguments),this.fields=["dc.description.abstract"],this.label="item.page.abstract",this.enableMarkdown=!0}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-abstract-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[Nu,p.Jj],encapsulation:2})}}return u})(),mc=(()=>{class u extends Fu{constructor(){super(...arguments),this.separator=", ",this.fields=["dc.date.issued"],this.label="item.page.date"}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-date-field"]],inputs:{item:"item"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:9,consts:[[1,"item-page-field"],[3,"mdValues","separator","label","enableMarkdown","urlRegex","browseDefinition","img"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-values",1),e.nI1(2,"async"),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label)("enableMarkdown",x.enableMarkdown)("urlRegex",x.urlRegex)("browseDefinition",e.bMT(2,7,x.browseDefinition))("img",x.img))},dependencies:[Nu,p.Jj],encapsulation:2})}}return u})();function hm(u,E){if(1&u&&e.nrm(0,"span",4),2&u){const o=e.XpG(2);e.Y8G("innerHTML",o.separator,e.npT)}}function qa(u,E){if(1&u&&(e.j41(0,"a",2),e.EFF(1),e.DNE(2,hm,1,1,"span",3),e.k0s()),2&u){const o=E.$implicit,d=E.last,x=e.XpG();e.Y8G("href",o.value,e.B4B)("target",x.hasInternalLink(o.value)?"_self":"_blank"),e.R7$(),e.SpI(" ",x.linktext||o.value,""),e.R7$(),e.Y8G("ngIf",!d)}}let gp=(()=>{class u extends Nu{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-metadata-uri-values"]],inputs:{linktext:"linktext",mdValues:"mdValues",separator:"separator",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:4,consts:[[3,"label"],["class","dont-break-out",3,"href","target",4,"ngFor","ngForOf"],[1,"dont-break-out",3,"href","target"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"]],template:function(d,x){1&d&&(e.j41(0,"ds-metadata-field-wrapper",0),e.nI1(1,"translate"),e.DNE(2,qa,3,4,"a",1),e.k0s()),2&d&&(e.Y8G("label",e.bMT(1,2,x.label)),e.R7$(2),e.Y8G("ngForOf",x.mdValues))},dependencies:[Fo.Q,G.h,G.D9,p.Sq,p.bT]})}}return u})(),L_=(()=>{class u extends Fu{static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-uri-field"]],inputs:{item:"item",separator:"separator",fields:"fields",label:"label"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[1,"item-page-field"],[3,"mdValues","separator","label"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.nrm(1,"ds-metadata-uri-values",1),e.k0s()),2&d&&(e.R7$(),e.Y8G("mdValues",null==x.item?null:x.item.allMetadata(x.fields))("separator",x.separator)("label",x.label))},dependencies:[gp],encapsulation:2})}}return u})();const Gu=()=>["dc.contributor.author","dc.creator"],ME=()=>["journal.title"],IE=()=>["journal.identifier.issn"],AM=()=>["journalvolume.identifier.name"],wM=()=>["dc.publisher"],uo=()=>["dc.description"],SE=()=>["dc.subject"],xM=()=>["dc.identifier.citation"],ho=()=>["dc.identifier.uri"],_p=()=>["coar.notify.endorsedBy"],$u=()=>["datacite.relation.isReviewedBy"],pm=()=>["datacite.relation.isSupplementedBy"],vp=()=>["datacite.relation.isReferencedBy"],fm=u=>[u];function PE(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",16),2&u){const o=e.XpG();e.Y8G("back",o.back)}}function RE(u,E){if(1&u&&(e.j41(0,"div",4)(1,"div",17),e.nrm(2,"ds-mirador-viewer",18),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function AE(u,E){if(1&u&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",19),e.nrm(2,"ds-thumbnail",20),e.nI1(3,"async"),e.k0s(),e.bVm()),2&u){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function mm(u,E){if(1&u&&(e.j41(0,"div",21),e.nrm(1,"ds-media-viewer",8),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}let Wu=class vT extends pc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(vT)))(d||vT)}})()}static{this.\u0275cmp=e.VBU({type:vT,selectors:[["ds-publication"]],standalone:!0,features:[e.Vt3,e.aNF],decls:40,vars:88,consts:[[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],[1,"ds-item-page-mixed-author-field",3,"parentItem","itemType","metadataFields","label"],[3,"item","fields","label"],[1,"col-xs-12","col-md-7"],[3,"parentItem","relationType","label"],[3,"item","fields","separator","label"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"]],template:function(o,d){1&o&&(e.DNE(0,PE,1,1,"ds-results-back-button",0),e.nI1(1,"async"),e.DNE(2,RE,4,5,"div",1),e.j41(3,"div",2),e.nrm(4,"ds-item-page-title-field",3)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",4)(7,"div",5),e.DNE(8,AE,4,4,"ng-container",6)(9,mm,2,1,"div",7),e.nrm(10,"ds-item-page-file-section",8)(11,"ds-item-page-date-field",8)(12,"ds-metadata-representation-list",9),e.nI1(13,"translate"),e.nrm(14,"ds-generic-item-page-field",10)(15,"ds-generic-item-page-field",10)(16,"ds-generic-item-page-field",10)(17,"ds-generic-item-page-field",10),e.k0s(),e.j41(18,"div",11),e.nrm(19,"ds-related-items",12),e.nI1(20,"translate"),e.nrm(21,"ds-related-items",12),e.nI1(22,"translate"),e.nrm(23,"ds-related-items",12),e.nI1(24,"translate"),e.nrm(25,"ds-item-page-abstract-field",8)(26,"ds-generic-item-page-field",10)(27,"ds-generic-item-page-field",13)(28,"ds-generic-item-page-field",10)(29,"ds-item-page-uri-field",10)(30,"ds-item-page-collections",8)(31,"ds-item-page-uri-field",10)(32,"ds-item-page-uri-field",10)(33,"ds-item-page-uri-field",10)(34,"ds-item-page-uri-field",10),e.j41(35,"div")(36,"a",14),e.nrm(37,"i",15),e.EFF(38),e.nI1(39,"translate"),e.k0s()()()()),2&o&&(e.Y8G("ngIf",e.bMT(1,61,d.showBackButton$)),e.R7$(2),e.Y8G("ngIf",d.iiifEnabled),e.R7$(2),e.Y8G("item",d.object),e.R7$(4),e.Y8G("ngIf",!(d.mediaViewer.image||d.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",d.mediaViewer.image||d.mediaViewer.video),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("parentItem",d.object)("itemType","Person")("metadataFields",e.lJ4(73,Gu))("label",e.bMT(13,63,"relationships.isAuthorOf")),e.R7$(2),e.Y8G("item",d.object)("fields",e.lJ4(74,ME))("label","publication.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(75,IE))("label","publication.page.journal-issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(76,AM))("label","publication.page.volume-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(77,wM))("label","publication.page.publisher"),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isProjectOfPublication")("label",e.bMT(20,65,"relationships.isProjectOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isOrgUnitOfPublication")("label",e.bMT(22,67,"relationships.isOrgUnitOf")),e.R7$(2),e.Y8G("parentItem",d.object)("relationType","isJournalIssueOfPublication")("label",e.bMT(24,69,"relationships.isJournalIssueOf")),e.R7$(2),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(78,uo))("label","publication.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(79,SE))("separator",", ")("label","item.page.subject"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(80,xM))("label","item.page.citation"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(81,ho))("label","item.page.uri"),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(82,_p))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(83,$u))("label","item.page.review"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(84,pm))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(85,vp))("label","item.page.referenced"),e.R7$(2),e.Y8G("routerLink",e.eq3(86,fm,d.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(39,71,"item.page.link.full")," "))},dependencies:[p.bT,$a.U,x_,gl.V,Kc.T,Fo.Q,Ui.T,bE,Ud,mc,Jc,Ga,Wc,zr,L_,mp.r,_.Wk,p.Jj,G.h,G.D9],changeDetection:0})}};Wu=(0,Ue.Cg)([(0,Hn.VK)("Publication",Wn.n.StandalonePage)],Wu);const N_=(u,E)=>({row:u,col:E}),gm=(u,E)=>({"col-auto":u,row:E}),jd=u=>({width:"var(--ds-thumbnail-max-width)","margin-bottom":u});function LM(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",6)(1,"a",7)(2,"img",8),e.bIt("error",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.showImage=!1)}),e.k0s()()()}if(2&u){const o=e.XpG(2);e.Y8G("ngClass",e.l_i(5,gm,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("href",o.uri,e.B4B),e.R7$(),e.Y8G("src",o.imgSrc,e.B4B)("alt",o.name)("ngStyle",e.eq3(8,jd,"small"===o.variant?"1ch":"0"))}}function Wa(u,E){if(1&u&&(e.j41(0,"a",9),e.EFF(1),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("href",o.uri,e.B4B),e.R7$(),e.JRh(o.name)}}function NM(u,E){if(1&u&&(e.j41(0,"div",1)(1,"ds-metadata-field-wrapper",2),e.nI1(2,"translate"),e.j41(3,"div",3),e.DNE(4,LM,3,10,"div",4),e.j41(5,"div",3)(6,"span"),e.EFF(7),e.nI1(8,"translate"),e.DNE(9,Wa,2,2,"a",5),e.k0s()()()()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("label",e.bMT(2,6,"item.page.cc.license.title")),e.R7$(2),e.Y8G("ngClass",e.l_i(10,N_,"full"===o.variant,"small"===o.variant)),e.R7$(),e.Y8G("ngIf",o.showImage),e.R7$(),e.Y8G("ngClass",e.l_i(13,N_,"small"===o.variant,"full"===o.variant)),e.R7$(2),e.SpI(" ","full"===o.variant&&o.showDisclaimer?e.bMT(8,8,"item.page.cc.license.disclaimer"):""," "),e.R7$(2),e.Y8G("ngIf",o.showName||!o.showImage)}}let FM=(()=>{class u{constructor(){this.variant="small",this.ccLicenseUriField="dc.rights.uri",this.ccLicenseNameField="dc.rights",this.showName=!0,this.showDisclaimer=!0,this.showImage=!0}ngOnInit(){this.uri=this.item.firstMetadataValue(this.ccLicenseUriField),this.name=this.item.firstMetadataValue(this.ccLicenseNameField);const d=/.*creativecommons.org\/(licenses|publicdomain)\/([^/]+)/gm.exec(this.uri??"")??[],x=d.length>2?d[2]:null;this.imgSrc=x?`assets/images/cc-licenses/${x}.png`:null}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-page-cc-license-field"]],inputs:{item:"item",variant:"variant",ccLicenseUriField:"ccLicenseUriField",ccLicenseNameField:"ccLicenseNameField",showName:"showName",showDisclaimer:"showDisclaimer"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","item-page-field",4,"ngIf"],[1,"item-page-field"],[3,"label"],[3,"ngClass"],["style","align-content: center;",3,"ngClass",4,"ngIf"],["target","_blank","id","cc-name",3,"href",4,"ngIf"],[2,"align-content","center",3,"ngClass"],["target","_blank",1,"link-anchor","dont-break-out","ds-simple-metadata-link",3,"href"],[1,"cc-image",3,"error","src","alt","ngStyle"],["target","_blank","id","cc-name",3,"href"]],template:function(d,x){1&d&&e.DNE(0,NM,10,16,"div",0),2&d&&e.Y8G("ngIf",x.uri&&x.name)},dependencies:[p.bT,p.YU,p.B3,G.h,G.D9,Fo.Q],encapsulation:2})}}return u})();var F_=n(45022),wE=n(43764);function xE(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",2)(2,"h5"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"object",8),e.nI1(6,"dsSafeUrl"),e.k0s(),e.bVm()),2&u){const o=e.XpG(4).$implicit,d=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,2,d.label)),e.R7$(2),e.Y8G("data",e.bMT(6,4,d.bitstreamDownloadPathMap.get(o.id)),e.f$h)}}function BM(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",2)(2,"h5"),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"object",8),e.nI1(6,"dsSafeUrl"),e.k0s(),e.bVm()),2&u){const o=e.XpG(4).$implicit,d=e.XpG(4);e.R7$(3),e.JRh(e.bMT(4,2,d.label)),e.R7$(2),e.Y8G("data",e.bMT(6,4,null==o?null:o._links.content.href),e.f$h)}}function EA(u,E){if(1&u&&(e.qex(0),e.DNE(1,xE,7,6,"ng-container",1)(2,BM,7,6,"ng-container",1),e.bVm()),2&u){const o=E.ngVar,d=e.XpG(6).ngVar;e.R7$(),e.Y8G("ngIf",o&&"embargo"===d||o&&"restricted"===d),e.R7$(),e.Y8G("ngIf",o&&"open.access"===d)}}function UM(u,E){if(1&u&&(e.qex(0),e.DNE(1,EA,3,2,"ng-container",0),e.nI1(2,"async"),e.bVm()),2&u){const o=e.XpG(2).$implicit,d=e.XpG(4);e.R7$(),e.Y8G("ngVar",e.bMT(2,1,d.canDownloadMap.get(o.id)))}}function _m(u,E){if(1&u&&e.nrm(0,"span",9),2&u){const o=e.XpG(6);e.FS9("innerHTML",o.separator,e.npT)}}function B_(u,E){if(1&u&&(e.qex(0),e.DNE(1,UM,3,3,"ng-container",1)(2,_m,1,1,"span",7),e.bVm()),2&u){const o=E.ngVar,d=e.XpG().last;e.R7$(),e.Y8G("ngIf","application/pdf"===(null==o||null==o.payload?null:o.payload.mimetype)),e.R7$(),e.Y8G("ngIf",!d)}}function U_(u,E){if(1&u&&(e.qex(0),e.DNE(1,B_,3,2,"ng-container",0),e.nI1(2,"async"),e.bVm()),2&u){const o=E.$implicit;e.R7$(),e.Y8G("ngVar",e.bMT(2,1,null==o?null:o.format))}}function Ku(u,E){1&u&&(e.nrm(0,"ds-loading",10),e.nI1(1,"translate")),2&u&&(e.FS9("message",e.bMT(1,2,"loading.default")),e.Y8G("showMessage",!1))}function LE(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",11)(1,"button",12),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return e.Njj(x.getNextPagePdfViewer())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&u&&(e.R7$(2),e.JRh(e.bMT(3,1,"item.page.bitstreams.view-more")))}function NE(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(o);const x=e.XpG(4);return x.currentPage=void 0,e.Njj(x.getNextPagePdfViewer())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}2&u&&(e.R7$(2),e.JRh(e.bMT(3,1,"item.page.bitstreams.collapse")))}function Hu(u,E){if(1&u&&(e.j41(0,"ds-metadata-field-wrapper")(1,"div",2),e.DNE(2,U_,3,3,"ng-container",3)(3,Ku,2,4,"ds-loading",4)(4,LE,4,3,"div",5)(5,NE,4,3,"div",6),e.k0s()()),2&u){const o=e.XpG().ngVar,d=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",o),e.R7$(),e.Y8G("ngIf",d.isLoading),e.R7$(),e.Y8G("ngIf",!d.isLastPage),e.R7$(),e.Y8G("ngIf",d.isLastPage&&1!==d.currentPage)}}function j_(u,E){if(1&u&&(e.qex(0),e.DNE(1,Hu,6,4,"ds-metadata-field-wrapper",1),e.bVm()),2&u){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",(null==o?null:o.length)>0)}}function k_(u,E){if(1&u&&(e.qex(0),e.DNE(1,j_,2,1,"ng-container",0),e.nI1(2,"async"),e.bVm()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngVar",e.bMT(2,1,o.bitstreams$))}}let FE=(()=>{class u{constructor(o,d,x,ee,Se,Ae){this.bitstreamDataService=o,this.notificationsService=d,this.translateService=x,this.authorizationService=ee,this.accessStatusDataService=Se,this.appConfig=Ae,this.label="item.page.pdf.preview",this.separator="<br/>",this.bitstreamDownloadPathMap=new Map,this.canDownloadMap=new Map,this.pageSize=1}ngOnInit(){this.getPrimaryBitstreamId(),this.getNextPagePdfViewer(),this.accessStatus$=this.accessStatusDataService.findAccessStatusFor(this.item).pipe((0,Rt.T)(o=>401!==o.statusCode&&(0,V.a4)(o.payload)?o.payload:[]),(0,Rt.T)(o=>(0,V.a4)(o.status)?o.status:"unknown"),(0,In.W)(()=>(0,bs.of)("access-status.unknown.listelement.badge")))}getPrimaryBitstreamId(){this.bitstreamDataService.findPrimaryBitstreamByItemAndName(this.item,"ORIGINAL",!0,!0).subscribe(o=>{o&&(this.primaryBitsreamId=o?.id)})}getNextPagePdfViewer(){this.isLoading=!0,void 0===this.currentPage?(this.currentPage=1,this.bitstreams$=new y.t([])):this.currentPage++,this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{currentPage:this.currentPage,elementsPerPage:this.pageSize},!0,!0,(0,js.s)("format")).pipe((0,ws.qD)()).subscribe(o=>{if(o.errorMessage)this.notificationsService.error(this.translateService.get("file-section.error.header"),`${o.statusCode} ${o.errorMessage}`);else if((0,V.a4)(o.payload)){const x=[...this.bitstreams$.getValue(),...o.payload.page];this.bitstreams$.next(x),o.payload.page.forEach(ee=>{this.bitstreamDownloadPathMap.set(ee.id,this.getBitstreamDownloadPath(ee)),this.canDownloadMap.set(ee.id,this.canDownload(ee))}),this.isLoading=!1,this.isLastPage=this.currentPage===o.payload.totalPages}})}getBitstreamDownloadPath(o){return this.bitstreamDownloadPathMap.has(o.id)||this.bitstreamDownloadPathMap.set(o.id,(0,Ur.hV)(o)),this.bitstreamDownloadPathMap.get(o.id)}canDownload(o){if(!this.canDownloadMap.has(o.id)){const d=this.authorizationService.isAuthorized(de._.CanDownload,(0,V.hj)(o)?o.self:void 0);this.canDownloadMap.set(o.id,d)}return this.canDownloadMap.get(o.id)}getItemAccessStatus(){return this.accessStatusDataService.findAccessStatusFor(this.item)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(No.BitstreamDataService),e.rXU(to.I),e.rXU(G.c$),e.rXU(Wr.AuthorizationDataService),e.rXU(F_.AccessStatusDataService),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-pdf-viewer-neki"]],inputs:{item:"item"},standalone:!0,features:[e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[1,"file-section"],[4,"ngFor","ngForOf"],[3,"message","showMessage",4,"ngIf"],["class","mt-1","id","view-more",4,"ngIf"],["class","mt-1","id","collapse",4,"ngIf"],[3,"innerHTML",4,"ngIf"],["width","100%","height","600px","frameborder","0","type","application/pdf",3,"data"],[3,"innerHTML"],[3,"message","showMessage"],["id","view-more",1,"mt-1"],[1,"bitstream-view-more","btn","btn-outline-secondary","btn-sm",3,"click"],["id","collapse",1,"mt-1"],[1,"bitstream-collapse","btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(d,x){1&d&&(e.DNE(0,k_,3,3,"ng-container",0),e.nI1(1,"async")),2&d&&e.Y8G("ngVar",e.bMT(1,1,x.accessStatus$))},dependencies:[p.MD,p.Sq,p.bT,p.Jj,Fo.Q,fc.v,G.h,G.D9,ml.r,_.iI,wE.d],encapsulation:2})}}return u})();const vm=()=>["dc.contributor.author"],V_=()=>["dc.contributor.advisor"],jM=()=>["dc.type"],kM=()=>["journal.title"],zu=()=>["journal.identifier.issn"],BE=()=>["journalvolume.identifier.name"],UE=()=>["dc.identifier.uri"],VM=()=>["dc.description"],GM=()=>["dc.identifier.citation"],G_=()=>["dc.subject"],jE=()=>["coar.notify.endorsedBy"],$M=()=>["datacite.relation.isReviewedBy"],CA=()=>["datacite.relation.isSupplementedBy"],WM=()=>["datacite.relation.isReferencedBy"],$_=u=>[u];function W_(u,E){if(1&u&&e.nrm(0,"ds-results-back-button",17),2&u){const o=e.XpG();e.Y8G("back",o.back)}}function KM(u,E){if(1&u&&(e.j41(0,"div",5)(1,"div",18),e.nrm(2,"ds-mirador-viewer",19),e.nI1(3,"async"),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.Y8G("object",o.object)("searchable",o.iiifSearchEnabled)("query",e.bMT(3,3,o.iiifQuery$))}}function HM(u,E){if(1&u&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",20),e.nrm(2,"ds-thumbnail",21),e.nI1(3,"async"),e.k0s(),e.bVm()),2&u){const o=e.XpG();e.R7$(),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(3,2,null==o.object?null:o.object.thumbnail))}}function zM(u,E){if(1&u&&(e.j41(0,"div",22),e.nrm(1,"ds-media-viewer",9),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("item",o.object)}}function YM(u,E){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.nrm(2,"img",31),e.k0s()),2&u){const o=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",o.value.replace("[UNIFESP]","")," ")}}function XM(u,E){if(1&u&&e.EFF(0),2&u){const o=e.XpG(2).$implicit;e.SpI(" ",o.value," ")}}function JM(u,E){if(1&u&&(e.j41(0,"p",29),e.DNE(1,YM,3,1,"span",30)(2,XM,1,1,"ng-template",null,0,e.C5r),e.k0s()),2&u){const o=e.sdS(3),d=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",d.value.includes("[UNIFESP]"))("ngIfElse",o)}}function QM(u,E){if(1&u&&(e.qex(0,28),e.DNE(1,JM,4,2,"p",11),e.bVm()),2&u){const o=E.index,d=e.XpG(2);e.R7$(),e.Y8G("ngIf",o<d.visibleAuthorsCount)}}function ZM(u,E){if(1&u){const o=e.RV6();e.j41(0,"p",32),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.toggleAuthorView())}),e.EFF(1),e.k0s()}if(2&u){const o=e.XpG(2);e.R7$(),e.SpI(" ",5===o.visibleAuthorsCount?"Mostrar mais":"Mostrar menos"," ")}}function qM(u,E){if(1&u&&(e.j41(0,"span",23)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.DNE(5,QM,2,1,"ng-container",26)(6,ZM,2,1,"p",27),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,3,"relationships.isAuthorOf")," "),e.R7$(3),e.Y8G("ngForOf",null==o.object?null:o.object.allMetadata(e.lJ4(5,vm))),e.R7$(),e.Y8G("ngIf",(null==o.object?null:o.object.allMetadata(e.lJ4(6,vm)).length)>5)}}function eI(u,E){1&u&&(e.j41(0,"span"),e.nrm(1,"img",31),e.k0s())}function tI(u,E){if(1&u&&(e.j41(0,"p",29),e.EFF(1),e.DNE(2,eI,2,0,"span",7),e.k0s()),2&u){const o=e.XpG().$implicit;e.R7$(),e.SpI(" ",o.value.replace("[UNIFESP]","")," "),e.R7$(),e.Y8G("ngIf",o.value.includes("[UNIFESP]"))}}function nI(u,E){if(1&u&&(e.qex(0,28),e.DNE(1,tI,3,2,"p",11),e.bVm()),2&u){const o=E.index,d=e.XpG(2);e.R7$(),e.Y8G("ngIf",o<d.visibleAuthorsCount)}}function sI(u,E){if(1&u&&(e.j41(0,"span",29)(1,"h5",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",25),e.DNE(5,nI,2,1,"ng-container",26),e.k0s()()),2&u){const o=e.XpG();e.R7$(2),e.SpI("",e.bMT(3,2,"relationships.isAdvisorOf")," "),e.R7$(3),e.Y8G("ngForOf",null==o.object?null:o.object.allMetadata(e.lJ4(4,V_)))}}function iI(u,E){if(1&u&&(e.j41(0,"div"),e.nrm(1,"div",33),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.BMQ("data-handle",o.cleanHandle(o.object.metadata["dc.identifier.uri"][0].value))}}function rI(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",35)(2,"a",36),e.EFF(3),e.k0s()(),e.bVm()),2&u){const o=E.$implicit;e.R7$(2),e.Y8G("href","browse/keyword?value="+o.value+"&bbm.return=1",e.B4B),e.R7$(),e.JRh(o.value)}}function oI(u,E){if(1&u&&(e.j41(0,"div")(1,"div")(2,"h5"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div"),e.DNE(6,rI,4,2,"ng-container",34),e.k0s(),e.nrm(7,"br"),e.k0s()),2&u){const o=e.XpG();e.R7$(3),e.JRh(e.bMT(4,2,"item.page.subject")),e.R7$(3),e.Y8G("ngForOf",null==o.object?null:o.object.allMetadata(e.lJ4(4,G_)))}}let yp=class yT extends pc{constructor(){super(...arguments),this.visibleAuthorsCount=5}toggleAuthorView(){this.visibleAuthorsCount=5===this.visibleAuthorsCount?this.object?.allMetadata(["dc.contributor.author"]).length:5}cleanHandle(E){const d=E.split("/").slice(-2).join("/");return d.startsWith("handle")?d.replace("handle/",""):d}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(yT)))(d||yT)}})()}static{this.\u0275cmp=e.VBU({type:yT,selectors:[["ds-untyped-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:37,vars:72,consts:[["notUnifesp",""],[3,"back",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"mr-auto",3,"item"],[1,"row"],[1,"col-xs-12","col-md-4"],[4,"ngIf"],["class","mb-2",4,"ngIf"],[3,"item"],["class","ds-item-page-mixed-author-field","label","'relationships.isAuthorOf' | translate",4,"ngIf"],["class","ds-item-page-mixed-author-field",4,"ngIf"],[3,"item","fields","label"],[1,"col-xs-12","col-md-6"],[3,"item","variant"],["role","button",1,"btn","btn-outline-primary",3,"routerLink"],[1,"fas","fa-info-circle"],[3,"back"],[1,"col-12"],["id","iiif-viewer",3,"object","searchable","query"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[1,"mb-2"],["label","'relationships.isAuthorOf' | translate",1,"ds-item-page-mixed-author-field"],[1,"metadata-name","metadata-name-author"],[1,"metadata-value","metadata-value-author"],["class","link",4,"ngFor","ngForOf"],["id","see-more",3,"click",4,"ngIf"],[1,"link"],[1,"ds-item-page-mixed-author-field"],[4,"ngIf","ngIfElse"],["id","unifesp-icon","src","assets/images/logo_sidebar_unifesp_color.png","alt",""],["id","see-more",3,"click"],["data-badge-type","donut",1,"altmetric-embed"],[4,"ngFor","ngForOf"],[1,"tag_style"],["target","_blank",3,"href"]],template:function(o,d){1&o&&(e.DNE(0,W_,1,1,"ds-results-back-button",1),e.nI1(1,"async"),e.DNE(2,KM,4,5,"div",2),e.j41(3,"div",3),e.nrm(4,"ds-item-page-title-field",4)(5,"ds-dso-edit-menu"),e.k0s(),e.j41(6,"div",5)(7,"div",6),e.DNE(8,HM,4,4,"ng-container",7)(9,zM,2,1,"div",8),e.nrm(10,"ds-item-page-file-section",9)(11,"ds-item-page-date-field",9),e.DNE(12,qM,7,7,"span",10)(13,sI,6,5,"span",11),e.nrm(14,"ds-generic-item-page-field",12)(15,"ds-generic-item-page-field",12)(16,"ds-generic-item-page-field",12)(17,"ds-generic-item-page-field",12),e.DNE(18,iI,2,1,"div",7),e.k0s(),e.j41(19,"div",13),e.nrm(20,"ds-item-page-abstract-field",9)(21,"ds-generic-item-page-field",12)(22,"ds-generic-item-page-field",12),e.DNE(23,oI,8,5,"div",7),e.nrm(24,"ds-item-page-uri-field",12)(25,"ds-item-page-collections",9)(26,"ds-item-page-uri-field",12)(27,"ds-item-page-uri-field",12)(28,"ds-item-page-uri-field",12)(29,"ds-item-page-uri-field",12)(30,"ds-item-page-cc-license-field",14),e.j41(31,"div")(32,"a",15),e.nrm(33,"i",16),e.EFF(34),e.nI1(35,"translate"),e.k0s()()()(),e.nrm(36,"ds-pdf-viewer-neki",9)),2&o&&(e.Y8G("ngIf",e.bMT(1,51,d.showBackButton$)),e.R7$(2),e.Y8G("ngIf",d.iiifEnabled),e.R7$(2),e.Y8G("item",d.object),e.R7$(4),e.Y8G("ngIf",!(d.mediaViewer.image||d.mediaViewer.video)),e.R7$(),e.Y8G("ngIf",d.mediaViewer.image||d.mediaViewer.video),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("ngIf",d.object.hasMetadata(e.lJ4(55,vm))),e.R7$(),e.Y8G("ngIf",d.object.hasMetadata(e.lJ4(56,V_))),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(57,jM))("label","item.page.type-of"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(58,kM))("label","item.page.journal-title"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(59,zu))("label","item.page.journal-issn"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(60,BE))("label","item.page.volume-title"),e.R7$(),e.Y8G("ngIf",d.object.hasMetadata(e.lJ4(61,UE))),e.R7$(2),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(62,VM))("label","item.page.description"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(63,GM))("label","item.page.citation"),e.R7$(),e.Y8G("ngIf",d.object.hasMetadata(e.lJ4(64,G_))),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(65,UE))("label","item.page.uri"),e.R7$(),e.Y8G("item",d.object),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(66,jE))("label","item.page.endorsement"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(67,$M))("label","item.page.review"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(68,CA))("label","item.page.supplemented"),e.R7$(),e.Y8G("item",d.object)("fields",e.lJ4(69,WM))("label","item.page.referenced"),e.R7$(),e.Y8G("item",d.object)("variant","full"),e.R7$(2),e.Y8G("routerLink",e.eq3(70,$_,d.itemPageRoute+"/full")),e.R7$(2),e.SpI(" ",e.bMT(35,53,"item.page.link.full")," "),e.R7$(2),e.Y8G("item",d.object))},dependencies:[p.bT,$a.U,x_,gl.V,Kc.T,Fo.Q,Ui.T,bE,Ud,mc,Ga,zr,L_,mp.r,_.Wk,p.Jj,G.h,G.D9,FM,FE,p.Sq],styles:[".tag_style[_ngcontent-%COMP%]{border:1px solid #444c54;padding:5px;border-radius:5px;margin:5px;display:inline-block}#unifesp-icon[_ngcontent-%COMP%]{width:16px;margin-bottom:6px;color:#215a36}.ds-item-page-mixed-author-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px}#see-more[_ngcontent-%COMP%]{color:#215a36;cursor:pointer}"],changeDetection:0})}};yp=(0,Ue.Cg)([(0,Hn.VK)(hl.q,Wn.n.StandalonePage)],yp);var kE=n(52749),el=n(78655),ym=n(5845),aI=n(22924),VE=n(43796);function lI(u,E){}let GE=(()=>{class u extends aI.e{constructor(){super(...arguments),this.processCompleted=new e.bkB,this.inputNames=["item","object","option","workflowitem"],this.outputNames=["processCompleted"]}getComponent(){return(0,VE.u3)(this.option)}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-claimed-task-actions-loader"]],inputs:{item:"item",object:"object",option:"option",workflowitem:"workflowitem"},outputs:{processCompleted:"processCompleted"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:0,consts:[["DynamicComponentLoader",""],["dsDynamicComponentLoader",""]],template:function(d,x){1&d&&e.DNE(0,lI,0,0,"ng-template",1,0,e.C5r)},dependencies:[Od.z],encapsulation:2})}}return u})();const $E=u=>[u];function Ep(u,E){if(1&u){const o=e.RV6();e.j41(0,"ds-claimed-task-actions-loader",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.processCompleted.emit(x))}),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG(2);e.Y8G("item",d.item)("option",o)("object",d.object)("workflowitem",d.workflowitem)}}function K_(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",1),e.DNE(2,Ep,1,4,"ds-claimed-task-actions-loader",2),e.j41(3,"button",3),e.nI1(4,"translate"),e.nrm(5,"i",4),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.bVm()),2&u){const o=E.ngVar,d=e.XpG();e.R7$(2),e.Y8G("ngForOf",null==o?null:o.options),e.R7$(),e.FS9("ngbTooltip",e.bMT(4,4,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(8,$E,d.getWorkflowItemViewRoute(d.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(7,6,"submission.workflow.generic.view")," ")}}let Zc=(()=>{class u extends ym.p{constructor(o,d,x,ee,Se,Ae,ft){super(Sh.T.type,o,d,x,ee,Se,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Se,this.requestService=Ae,this.workflowActionService=ft}ngOnInit(){this.initObjects(this.object),this.initAction(this.object)}initObjects(o){this.object=o}initAction(o){this.actionRD$=o.action}getWorkflowItemViewRoute(o){return(0,Lh.XH)(o?.id)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(to.I),e.rXU(G.c$),e.rXU(el.S),e.rXU(eo.B),e.rXU(kE.WorkflowActionDataService))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-claimed-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],[1,"mt-1","mb-3","space-children-mr"],[3,"item","option","object","workflowitem","processCompleted",4,"ngFor","ngForOf"],[1,"btn","btn-primary","workflow-view",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[3,"processCompleted","item","option","object","workflowitem"]],template:function(d,x){if(1&d&&(e.DNE(0,K_,8,10,"ng-container",0),e.nI1(1,"async")),2&d){let ee;e.Y8G("ngVar",null==(ee=e.bMT(1,1,x.actionRD$))?null:ee.payload)}},dependencies:[ml.r,p.pM,GE,X.n8,X.md,_.Wk,p.Jj,G.h,G.D9],styles:["ds-claimed-task-actions-loader[_ngcontent-%COMP%]:empty{margin:0!important}"]})}}return u})();const WE=u=>[u];let qc=(()=>{class u extends ym.p{constructor(o,d,x,ee,Se,Ae){super(hl.q.type,o,d,x,ee,Se,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Se,this.requestService=Ae}ngOnInit(){this.initPageRoute()}initObjects(o){this.object=o,this.initPageRoute()}initPageRoute(){this.itemPageRoute=(0,Ls._o)(this.object)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(to.I),e.rXU(G.c$),e.rXU(el.S),e.rXU(eo.B))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[[1,"btn","btn-primary","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(7,WE,x.itemPageRoute)),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,_.Wk,G.h,G.D9]})}}return u})();var H_=n(12532),gc=n(60456),Yu=n(46369);const Xu=u=>[u];function Ju(u,E){1&u&&(e.j41(0,"span"),e.nrm(1,"i",4),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&u&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function Qu(u,E){1&u&&(e.j41(0,"span"),e.nrm(1,"i",5),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&u&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.pool.claim"),""))}let ed=(()=>{class u extends Yu.i{constructor(o,d,x,ee,Se,Ae,ft){super(Lg.k.type,o,d,x,Se,Ae,ft),this.injector=o,this.router=d,this.notificationsService=x,this.claimedTaskService=ee,this.translate=Se,this.searchService=Ae,this.requestService=ft,this.subs=[]}claim(){this.subs.push(this.startActionExecution().pipe((0,D.s)(1)).subscribe())}initObjects(o){this.object=o}actionExecution(){return this.objectDataService.getPoolTaskEndpointById(this.object.id).pipe((0,Vs.n)(o=>this.claimedTaskService.claimTask(this.object.id,o)))}reloadObjectExecution(){return this.claimedTaskService.findByItem(this.itemUuid).pipe((0,D.s)(1))}initReloadAnchor(){this.itemUuid=this.item.uuid}ngOnDestroy(){this.subs.forEach(o=>o.unsubscribe())}getWorkflowItemViewRoute(o){return(0,Lh.XH)(o?.id)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(to.I),e.rXU(H_.ClaimedTaskDataService),e.rXU(G.c$),e.rXU(el.S),e.rXU(eo.B))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-pool-task-actions"]],inputs:{object:"object",item:"item",workflowitem:"workflowitem"},standalone:!0,features:[e.Vt3,e.aNF],decls:12,vars:21,consts:[["type","button",1,"btn","btn-info","mt-1","mb-3",3,"click","ngbTooltip","dsBtnDisabled"],[4,"ngIf"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","ml-1","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-hand-paper"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nI1(2,"async"),e.bIt("click",function(){return x.claim()}),e.DNE(3,Ju,4,3,"span",1),e.nI1(4,"async"),e.DNE(5,Qu,4,3,"span",1),e.nI1(6,"async"),e.k0s(),e.j41(7,"button",2),e.nI1(8,"translate"),e.nrm(9,"i",3),e.EFF(10),e.nI1(11,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,7,"submission.workflow.tasks.pool.claim_help")),e.Y8G("dsBtnDisabled",e.bMT(2,9,x.processing$)),e.R7$(3),e.Y8G("ngIf",e.bMT(4,11,x.processing$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,13,x.processing$)),e.R7$(2),e.FS9("ngbTooltip",e.bMT(8,15,"submission.workflow.generic.view-help")),e.Y8G("routerLink",e.eq3(19,Xu,x.getWorkflowItemViewRoute(x.workflowitem))),e.R7$(3),e.SpI(" ",e.bMT(11,17,"submission.workflow.generic.view"),"\n"))},dependencies:[X.n8,X.md,p.bT,_.Wk,p.Jj,G.h,G.D9,gc.A]})}}return u})();const Zu=u=>[u];let td=(()=>{class u extends ym.p{constructor(o,d,x,ee,Se,Ae){super(x0.t.type,o,d,x,ee,Se,Ae),this.injector=o,this.router=d,this.notificationsService=x,this.translate=ee,this.searchService=Se,this.requestService=Ae}getWorkflowItemViewRoute(o){return(0,Lh.XH)(o?.id)}initObjects(o){this.object=o}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(to.I),e.rXU(G.c$),e.rXU(el.S),e.rXU(eo.B))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-workflowitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:9,consts:[["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"]],template:function(d,x){1&d&&(e.j41(0,"button",0),e.nI1(1,"translate"),e.nrm(2,"i",1),e.EFF(3),e.nI1(4,"translate"),e.k0s()),2&d&&(e.FS9("ngbTooltip",e.bMT(1,3,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(7,Zu,x.getWorkflowItemViewRoute(x.object))),e.R7$(3),e.SpI(" ",e.bMT(4,5,"submission.workspace.generic.view"),"\n"))},dependencies:[X.n8,X.md,_.Wk,G.h,G.D9]})}}return u})();const z_=u=>[u];function HE(u,E){if(1&u&&(e.j41(0,"a",6),e.nI1(1,"translate"),e.nI1(2,"translate"),e.nrm(3,"i",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()),2&u){const o=e.XpG();e.FS9("id","edit_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.edit-help")),e.Y8G("routerLink",e.eq3(11,z_,"/workspaceitems/"+o.object.id+"/edit")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.edit-help")),e.R7$(4),e.SpI(" ",e.bMT(5,9,"submission.workflow.generic.edit")," ")}}function zE(u,E){1&u&&(e.j41(0,"span"),e.nrm(1,"i",10),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&u&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.tasks.generic.processing"),""))}function YE(u,E){1&u&&(e.j41(0,"span"),e.nrm(1,"i",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&u&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"submission.workflow.generic.delete"),""))}function XE(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",8),e.nI1(1,"translate"),e.nI1(2,"translate"),e.bIt("click",function(x){e.eBV(o);const ee=e.XpG(),Se=e.sdS(12);return x.preventDefault(),e.Njj(ee.confirmDiscard(Se))}),e.DNE(3,zE,4,3,"span",9),e.nI1(4,"async"),e.DNE(5,YE,4,3,"span",9),e.nI1(6,"async"),e.k0s()}if(2&u){const o=e.XpG();e.FS9("id","delete_"+o.object.id),e.FS9("ngbTooltip",e.bMT(1,5,"submission.workflow.generic.delete-help")),e.BMQ("aria-label",e.bMT(2,7,"submission.workflow.generic.delete-help")),e.R7$(3),e.Y8G("ngIf",e.bMT(4,9,o.processingDelete$)),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(6,11,o.processingDelete$))}}function JE(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",12)(1,"div",13),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",14),e.bIt("click",function(){const x=e.eBV(o).dismiss;return e.Njj(x("cancel"))}),e.j41(5,"span",15),e.EFF(6,"\xd7"),e.k0s()()(),e.j41(7,"div",16)(8,"p"),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"div",17)(12,"button",18),e.bIt("click",function(){const x=e.eBV(o).close;return e.Njj(x("cancel"))}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",19),e.bIt("click",function(){const x=e.eBV(o).close;return e.Njj(x("ok"))}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()}2&u&&(e.R7$(2),e.JRh(e.bMT(3,4,"submission.general.discard.confirm.title")),e.R7$(7),e.JRh(e.bMT(10,6,"submission.general.discard.confirm.info")),e.R7$(4),e.JRh(e.bMT(14,8,"submission.general.discard.confirm.cancel")),e.R7$(3),e.JRh(e.bMT(17,10,"submission.general.discard.confirm.submit")))}let Em=(()=>{class u extends ym.p{constructor(o,d,x,ee,Se,Ae,ft,jt,_n){super(Ih.F.type,o,d,ee,Se,Ae,ft),this.injector=o,this.router=d,this.modalService=x,this.notificationsService=ee,this.translate=Se,this.searchService=Ae,this.requestService=ft,this.authService=jt,this.authorizationService=_n,this.processingDelete$=new y.t(!1)}confirmDiscard(o){this.modalService.open(o).result.then(d=>{"ok"===d&&(this.processingDelete$.next(!0),this.objectDataService.delete(this.object.id).pipe((0,ws.qD)()).subscribe(x=>{this.processingDelete$.next(!1),this.handleActionResponse(x.hasSucceeded)}))})}ngOnInit(){const o=this.authService.getAuthenticatedUserFromStore();this.canEditItem$=o.pipe((0,Vs.n)(d=>this.object?.item.pipe((0,ws.qD)(),(0,ws.Bo)(),(0,Vs.n)(x=>this.authorizationService.isAuthorized(de._.CanEditItem,x?._links?.self.href,d.uuid)))))}initObjects(o){this.object=o}getWorkspaceItemViewRoute(o){return function qu(u){return new Ul.t((0,Ur.cp)(),u,"view").toString()}(o?.id)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.zZn),e.rXU(_.Ix),e.rXU(X.Bq),e.rXU(to.I),e.rXU(G.c$),e.rXU(el.S),e.rXU(eo.B),e.rXU(h.uR),e.rXU(Wr.AuthorizationDataService))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-workspaceitem-actions"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:13,vars:18,consts:[["content",""],[1,"space-children-mr"],["data-test","view-btn",1,"btn","btn-primary","workflow-view","mt-1","mb-3",3,"ngbTooltip","routerLink"],[1,"fa","fa-info-circle"],["class","btn btn-primary mt-1 mb-3 edit-btn","role","button",3,"id","ngbTooltip","routerLink",4,"ngIf"],["type","button","class","btn btn-danger mt-1 mb-3",3,"id","ngbTooltip","click",4,"ngIf"],["role","button",1,"btn","btn-primary","mt-1","mb-3","edit-btn",3,"id","ngbTooltip","routerLink"],[1,"fa","fa-edit"],["type","button",1,"btn","btn-danger","mt-1","mb-3",3,"click","id","ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fa","fa-trash"],[1,"modal-header"],[1,"modal-title","text-danger","h4"],["type","button","id","delete_close","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","id","delete_cancel",1,"btn","btn-secondary",3,"click"],["type","button","id","delete_confirm",1,"btn","btn-danger",3,"click"]],template:function(d,x){1&d&&(e.j41(0,"div",1)(1,"button",2),e.nI1(2,"translate"),e.nI1(3,"translate"),e.nrm(4,"i",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,HE,6,13,"a",4),e.nI1(8,"async"),e.DNE(9,XE,7,13,"button",5),e.nI1(10,"async"),e.k0s(),e.DNE(11,JE,18,12,"ng-template",null,0,e.C5r)),2&d&&(e.R7$(),e.FS9("ngbTooltip",e.bMT(2,6,"submission.workspace.generic.view-help")),e.Y8G("routerLink",e.eq3(16,z_,x.getWorkspaceItemViewRoute(x.object))),e.BMQ("aria-label",e.bMT(3,8,"submission.workspace.generic.view-help")),e.R7$(4),e.SpI(" ",e.bMT(6,10,"submission.workspace.generic.view")," "),e.R7$(2),e.Y8G("ngIf",e.bMT(8,12,x.canEditItem$)),e.R7$(2),e.Y8G("ngIf",e.bMT(10,14,x.canEditItem$)))},dependencies:[X.n8,X.md,_.Wk,p.bT,p.Jj,G.h,G.D9]})}}return u})();var QE=n(22285),Cp=n(34532),nd=n(89269),Cm=n(4910),cI=n(50332),Y_=n(21546),X_=(n(78541),n(43525));n(3736);const J_=["*"];function TA(u,E){}let DA=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","label","metadata","placeholder","separator"]}getComponentName(){return"ItemDetailPreviewFieldComponent"}importThemedComponent(o){return n(4026)(`./${o}/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,3736))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-detail-preview-field"]],inputs:{item:"item",object:"object",label:"label",metadata:"metadata",placeholder:"placeholder",separator:"separator"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:J_,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,TA,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();const dI=["*"],uI=()=>["dc.contributor","dc.creator","dc.contributor.*"];function ZE(u,E){if(1&u&&e.nrm(0,"span",18),2&u){const o=e.XpG(6);e.FS9("innerHTML",o.separator,e.npT)}}function hI(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){const x=e.eBV(o).$implicit,ee=e.XpG(5);return e.Njj(ee.downloadBitstreamFile(null==x?null:x.uuid))}),e.j41(1,"span"),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.nI1(5,"dsFileSize"),e.k0s(),e.DNE(6,ZE,1,1,"span",17),e.k0s()}if(2&u){const o=E.$implicit,d=E.last,x=e.XpG(5);e.R7$(2),e.JRh(x.dsoNameService.getName(o)),e.R7$(2),e.SpI("(",e.bMT(5,3,null==o?null:o.sizeBytes),")"),e.R7$(2),e.Y8G("ngIf",!d)}}function Ro(u,E){if(1&u&&(e.j41(0,"div",14),e.DNE(1,hI,7,5,"button",15),e.k0s()),2&u){const o=e.XpG().ngIf;e.R7$(),e.Y8G("ngForOf",o)}}function qE(u,E){1&u&&(e.qex(0),e.j41(1,"span",19),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.bVm()),2&u&&(e.R7$(2),e.JRh(e.bMT(3,1,"mydspace.results.no-files")))}function pI(u,E){if(1&u&&(e.qex(0),e.j41(1,"ds-metadata-field-wrapper",12),e.nI1(2,"translate"),e.DNE(3,Ro,2,1,"div",13)(4,qE,4,3,"ng-container",4),e.k0s(),e.bVm()),2&u){const o=E.ngIf;e.R7$(),e.Y8G("label",e.bMT(2,3,"item.page.files")),e.R7$(2),e.Y8G("ngIf",(null==o?null:o.length)>0),e.R7$(),e.Y8G("ngIf",0===(null==o?null:o.length))}}function fI(u,E){if(1&u&&(e.j41(0,"div"),e.nrm(1,"ds-item-page-title-field",5),e.j41(2,"div",6)(3,"div",7)(4,"ds-metadata-field-wrapper",8),e.nrm(5,"ds-thumbnail",9),e.nI1(6,"async"),e.k0s(),e.DNE(7,pI,5,5,"ng-container",4),e.nI1(8,"async"),e.nrm(9,"ds-item-detail-preview-field",10),e.nI1(10,"translate"),e.nI1(11,"translate"),e.nrm(12,"ds-item-detail-preview-field",10),e.nI1(13,"translate"),e.nI1(14,"translate"),e.k0s(),e.j41(15,"div",11),e.nrm(16,"ds-item-detail-preview-field",10),e.nI1(17,"translate"),e.nI1(18,"translate"),e.nrm(19,"ds-item-detail-preview-field",10),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"div"),e.SdG(23),e.k0s()()()()),2&u){const o=e.XpG(2);e.R7$(),e.Y8G("item",o.item),e.R7$(3),e.Y8G("hideIfNoTextContent",!1),e.R7$(),e.Y8G("thumbnail",e.bMT(6,28,null==o.item?null:o.item.thumbnail)),e.R7$(2),e.Y8G("ngIf",e.bMT(8,30,o.bitstreams$)),e.R7$(2),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(10,32,"item.page.date"))("metadata","dc.date.issued")("separator",o.separator)("placeholder",e.bMT(11,34,"mydspace.results.no-date")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(13,36,"item.page.author"))("metadata",e.lJ4(48,uI))("separator",o.separator)("placeholder",e.bMT(14,38,"mydspace.results.no-authors")),e.R7$(4),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(17,40,"item.page.abstract"))("metadata","dc.description.abstract")("separator",o.separator)("placeholder",e.bMT(18,42,"mydspace.results.no-abstract")),e.R7$(3),e.Y8G("item",o.item)("object",o.object)("label",e.bMT(20,44,"item.page.uri"))("metadata","dc.identifier.uri")("separator",o.separator)("placeholder",e.bMT(21,46,"mydspace.results.no-uri"))}}function e1(u,E){if(1&u&&(e.j41(0,"div",2),e.nrm(1,"ds-badges",3),e.DNE(2,fI,24,49,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("@fadeInOut",void 0),e.R7$(),e.Y8G("object",o.item)("context",o.badgeContext),e.R7$(),e.Y8G("ngIf",o.item)}}function mI(u,E){if(1&u&&e.nrm(0,"ds-item-submitter",20),2&u){const o=e.XpG();e.Y8G("object",o.object.indexableObject)}}let kd=(()=>{class u{constructor(o,d,x,ee){this.fileService=o,this.halService=d,this.bitstreamDataService=x,this.dsoNameService=ee,this.showSubmitter=!1,this.separator=", "}ngOnChanges(o){(0,V.a4)(o.item)&&(this.bitstreams$=this.getFiles())}downloadBitstreamFile(o){this.halService.getEndpoint("bitstreams").pipe((0,ir.$)()).subscribe(d=>{this.fileService.retrieveFileDownloadLink(`${d}/${o}/content`)})}getFiles(){return this.bitstreamDataService.findAllByItemAndBundleName(this.item,"ORIGINAL",{elementsPerPage:Number.MAX_SAFE_INTEGER}).pipe((0,ws.Ar)())}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(nd.E),e.rXU(Cm.Y),e.rXU(No.BitstreamDataService),e.rXU(Rs.f))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-detail-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:dI,decls:2,vars:2,consts:[["class","item-page",4,"ngIf"],[3,"object",4,"ngIf"],[1,"item-page"],[3,"object","context"],[4,"ngIf"],[3,"item"],[1,"row","mb-1"],[1,"col-xs-12","col-md-4"],[3,"hideIfNoTextContent"],[3,"thumbnail"],[3,"item","object","label","metadata","separator","placeholder"],[1,"col-xs-12","col-md-6"],[3,"label"],["class","file-section",4,"ngIf"],[1,"file-section"],["class","btn btn-link",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"text-muted"],[3,"object"]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,e1,3,4,"div",0)(1,mI,1,1,"ds-item-submitter",1)),2&d&&(e.Y8G("ngIf",x.item),e.R7$(),e.Y8G("ngIf",x.showSubmitter))},dependencies:[p.bT,$r.F,gl.V,Fo.Q,Ui.T,p.pM,DA,Y_.s,p.Jj,X_.s,G.h,G.D9],data:{animation:[cI.Ws]}})}}return u})(),th=(()=>{class u extends jr.C{ngOnInit(){(0,V.a4)(this.object)&&(this.dso=this.object.indexableObject)}allMetadataValues(o){return Rh.O.allValues([this.object.hitHighlights,this.dso.metadata],o)}firstMetadataValue(o){return Rh.O.firstValue([this.object.hitHighlights,this.dso.metadata],o)}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:0,vars:0,template:function(d,x){},encapsulation:2})}}return u})();function nh(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-claimed-task-actions",2),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s(),e.bVm()}if(2&u){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let bm=class lR extends th{constructor(E,o,d){super(E),this.dsoNameService=E,this.linkService=o,this.objectCache=d,this.item$=new y.t(null),this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceValidation,this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{},(0,js.s)("item",{},(0,js.s)("bundles")),(0,js.s)("submitter")),(0,js.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,ws.qD)())):Io.w),(0,ii.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||lR)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Br.$))}}static{this.\u0275cmp=e.VBU({type:lR,selectors:[["ds-claimed-task-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,d){1&o&&(e.DNE(0,nh,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[p.bT,kd,Zc,p.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};bm=(0,Ue.Cg)([(0,Hn.VK)(Cp.y,Wn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Br.$])],bm);let Tm=class ET extends th{constructor(){super(...arguments),this.badgeContext=ks.o.MyDSpaceArchived}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(ET)))(d||ET)}})()}static{this.\u0275cmp=e.VBU({type:ET,selectors:[["ds-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-item-actions",1),2&o&&(e.Y8G("item",d.dso)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[kd,qc],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Tm=(0,Ue.Cg)([(0,Hn.VK)(wa.H,Wn.n.DetailedListElement,ks.o.Workspace),(0,Hn.VK)(wa.H,Wn.n.DetailedListElement,ks.o.Workflow)],Tm);var Q_=n(24205);function gI(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-detail-preview",1),e.j41(2,"ds-pool-task-actions",2),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s(),e.bVm()}if(2&u){const o=e.XpG();e.R7$(),e.Y8G("item",null==o.item$?null:o.item$.value)("object",o.object)("showSubmitter",o.showSubmitter)("badgeContext",o.badgeContext),e.R7$(),e.Y8G("item",o.item$.value)("object",o.dso)("workflowitem",o.workflowitem$.value)}}let bp=class cR extends th{constructor(E,o,d){super(E),this.dsoNameService=E,this.linkService=o,this.objectCache=d,this.item$=new y.t(null),this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceWaitingController,this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{},(0,js.s)("item",{},(0,js.s)("bundles")),(0,js.s)("submitter")),(0,js.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,ws.qD)())):Io.w),(0,ii.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe()}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||cR)(e.rXU(Rs.f),e.rXU(Di._),e.rXU(Br.$))}}static{this.\u0275cmp=e.VBU({type:cR,selectors:[["ds-pool-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext"],[3,"processCompleted","item","object","workflowitem"]],template:function(o,d){1&o&&(e.DNE(0,gI,3,7,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[p.bT,kd,ed,p.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};bp=(0,Ue.Cg)([(0,Hn.VK)(Q_.d,Wn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._,Br.$])],bp);let Z_=class dR extends th{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o,this.badgeContext=ks.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.initItem(this.dso.item)}initItem(E){E.pipe((0,Ws.I)(o=>o.hasSucceeded&&(0,V.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||dR)(e.rXU(Rs.f),e.rXU(Di._))}}static{this.\u0275cmp=e.VBU({type:dR,selectors:[["ds-workflow-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workflowitem-actions",1),2&o&&(e.Y8G("item",d.item)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[kd,td],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Z_=(0,Ue.Cg)([(0,Hn.VK)(Ad.q,Wn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._])],Z_);let sh=class uR extends th{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o,this.badgeContext=ks.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.linkService.resolveLink(this.dso,(0,js.s)("item")),this.initItem(this.dso.item)}initItem(E){E.pipe((0,Ws.I)(o=>o.hasSucceeded&&(0,V.EA)(o.payload))).subscribe(o=>{this.item=o.payload})}static{this.\u0275fac=function(o){return new(o||uR)(e.rXU(Rs.f),e.rXU(Di._))}}static{this.\u0275cmp=e.VBU({type:uR,selectors:[["ds-workspace-item-search-result-detail-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:4,consts:[[3,"item","object","badgeContext"],[3,"object"]],template:function(o,d){1&o&&e.nrm(0,"ds-item-detail-preview",0)(1,"ds-workspaceitem-actions",1),2&o&&(e.Y8G("item",d.item)("object",d.object)("badgeContext",d.badgeContext),e.R7$(),e.Y8G("object",d.dso))},dependencies:[kd,Em],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};sh=(0,Ue.Cg)([(0,Hn.VK)(Nf.I,Wn.n.DetailedListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._])],sh);const Dm=u=>["/collections/",u];function q_(u,E){if(1&u&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,Dm,d.object.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.object.logo))?null:o.payload)("limitWidth",!1)}}function ev(u,E){if(1&u&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.object.logo))?null:o.payload)("limitWidth",!1)}}function Vl(u,E){if(1&u&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function _I(u,E){if(1&u&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,Dm,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Tp=class hR extends jr.C{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o}set object(E){this._object=E,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,js.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||hR)(e.rXU(Rs.f),e.rXU(Di._))}}static{this.\u0275cmp=e.VBU({type:hR,selectors:[["ds-collection-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,q_,4,12,"a",1)(2,ev,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,Vl,2,1,"p",5)(7,_I,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.JRh(d.dsoNameService.getName(d.object)),e.R7$(),e.Y8G("ngIf",d.object.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,p.Jj,G.h,G.D9]})}};Tp=(0,Ue.Cg)([(0,Hn.VK)(Zl.p,Wn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._])],Tp);const vl=u=>["/communities/",u];function yl(u,E){if(1&u&&(e.j41(0,"a",7),e.nI1(1,"translate"),e.nrm(2,"ds-thumbnail",8),e.nI1(3,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(10,vl,d.object.id)),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null)("title",e.bMT(1,6,"search.results.view-result")),e.R7$(2),e.Y8G("thumbnail",null==(o=e.bMT(3,8,d.object.logo))?null:o.payload)("limitWidth",!1)}}function El(u,E){if(1&u&&(e.j41(0,"span",9),e.nrm(1,"ds-thumbnail",8),e.nI1(2,"async"),e.k0s()),2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("thumbnail",null==(o=e.bMT(2,2,d.object.logo))?null:o.payload)("limitWidth",!1)}}function t1(u,E){if(1&u&&(e.j41(0,"p",10),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.object.shortDescription)}}function n1(u,E){if(1&u&&(e.j41(0,"div",11)(1,"a",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u){const o=e.XpG();e.R7$(),e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(6,vl,o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.JRh(e.bMT(3,4,"search.results.view-result"))}}let Om=class pR extends jr.C{constructor(E,o){super(E),this.dsoNameService=E,this.linkService=o}set object(E){this._object=E,(0,V.a4)(this._object)&&(0,V.Tn)(this._object.logo)&&this.linkService.resolveLink(this._object,(0,js.s)("logo"))}get object(){return this._object}static{this.\u0275fac=function(o){return new(o||pR)(e.rXU(Rs.f),e.rXU(Di._))}}static{this.\u0275cmp=e.VBU({type:pR,selectors:[["ds-community-grid-element"]],inputs:{object:"object"},standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:5,consts:[[1,"card"],["class","card-img-top",3,"target","routerLink",4,"ngIf"],["class","card-img-top",4,"ngIf"],[1,"card-body"],[1,"card-title"],["class","card-text",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"card-img-top",3,"target","routerLink"],[3,"thumbnail","limitWidth"],[1,"card-img-top"],[1,"card-text"],[1,"text-center"],[1,"lead","btn","btn-primary","viewButton",3,"target","routerLink"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,yl,4,12,"a",1)(2,El,3,4,"span",2),e.j41(3,"div",3)(4,"h4",4),e.EFF(5),e.k0s(),e.DNE(6,t1,2,1,"p",5)(7,n1,4,8,"div",6),e.k0s()()),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.JRh(d.dsoNameService.getName(d.object)),e.R7$(),e.Y8G("ngIf",d.object.shortDescription),e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None))},dependencies:[p.bT,_.Wk,Ui.T,p.Jj,G.h,G.D9]})}};Om=(0,Ue.Cg)([(0,Hn.VK)(nf.E,Wn.n.GridElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,Di._])],Om);const s1=["*","*"],vI=()=>({}),yI=(u,E)=>({indexableObject:u,hitHighlights:E});let ih=class CT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(CT)))(d||CT)}})()}static{this.\u0275cmp=e.VBU({type:CT,selectors:[["ds-item-grid-element"]],standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:s1,decls:3,vars:7,consts:[[3,"showLabel","object","linkType"]],template:function(o,d){1&o&&(e.NAR(s1),e.j41(0,"ds-item-search-result-grid-element",0),e.SdG(1),e.SdG(2,1),e.k0s()),2&o&&e.Y8G("showLabel",d.showLabel)("object",e.l_i(4,yI,d.object,e.lJ4(3,vI)))("linkType",d.linkType)},dependencies:[Va],data:{animation:[xa]}})}};ih=(0,Ue.Cg)([(0,Hn.VK)("Publication",Wn.n.GridElement),(0,Hn.VK)(hl.q,Wn.n.GridElement)],ih);let Vd=class bT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(bT)))(d||bT)}})()}static{this.\u0275cmp=e.VBU({type:bT,selectors:[["ds-bitstream-list-item"]],standalone:!0,features:[e.Vt3,e.aNF],decls:1,vars:1,template:function(o,d){1&o&&e.EFF(0),2&o&&e.SpI(" ",d.object.name," ")}})}};Vd=(0,Ue.Cg)([(0,Hn.VK)(Mg._,Wn.n.ListElement,ks.o.Bitstream)],Vd);var r1=n(49010),tv=n(22978);const o1=()=>[];function EI(u,E){if(1&u&&(e.j41(0,"a",9),e.nI1(1,"async"),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&u){const o=e.XpG(2);e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(10,o1))("queryParams",e.bMT(1,6,o.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.SpI(" ",e.bMT(3,8,o.object.value)," ")}}function a1(u,E){if(1&u&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=e.XpG(2);e.R7$(),e.SpI(" ",e.bMT(2,1,o.object.value)," ")}}function l1(u,E){if(1&u&&(e.j41(0,"div"),e.DNE(1,EI,4,11,"a",7)(2,a1,3,3,"span",8),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType==o.linkTypes.None)}}function Mm(u,E){if(1&u&&(e.qex(0),e.EFF(1),e.nrm(2,"img",11),e.bVm()),2&u){const o=e.XpG(3);e.R7$(),e.SpI(" ",o.object.value.replace("[UNIFESP]","")," ")}}function CI(u,E){if(1&u&&e.EFF(0),2&u){const o=e.XpG(3);e.SpI(" ",o.object.value," ")}}function c1(u,E){if(1&u&&(e.j41(0,"a",9),e.nI1(1,"async"),e.DNE(2,Mm,3,1,"ng-container",4)(3,CI,1,1,"ng-template",null,1,e.C5r),e.k0s()),2&u){const o=e.sdS(4),d=e.XpG(2);e.Y8G("target",d.linkType===d.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.lJ4(9,o1))("queryParams",e.bMT(1,7,d.queryParams$))("queryParamsHandling","merge"),e.BMQ("rel",d.linkType===d.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(2),e.Y8G("ngIf",d.object.value.includes("[UNIFESP]"))("ngIfElse",o)}}function d1(u,E){if(1&u&&(e.qex(0),e.EFF(1),e.nrm(2,"img",11),e.bVm()),2&u){const o=e.XpG(3);e.R7$(),e.SpI(" ",o.object.value.replace("[UNIFESP]","")," ")}}function u1(u,E){if(1&u&&e.EFF(0),2&u){const o=e.XpG(3);e.SpI(" ",o.object.value," ")}}function bI(u,E){if(1&u&&(e.j41(0,"span",10),e.DNE(1,d1,3,1,"ng-container",4)(2,u1,1,1,"ng-template",null,2,e.C5r),e.k0s()),2&u){const o=e.sdS(3),d=e.XpG(2);e.R7$(),e.Y8G("ngIf",d.object.value.includes("[UNIFESP]"))("ngIfElse",o)}}function TI(u,E){if(1&u&&e.DNE(0,c1,5,10,"a",7)(1,bI,4,2,"span",8),2&u){const o=e.XpG();e.Y8G("ngIf",o.linkType!==o.linkTypes.None),e.R7$(),e.Y8G("ngIf",o.linkType==o.linkTypes.None)}}let Dp=class fR extends jr.C{constructor(E,o,d){super(E),this.dsoNameService=E,this.paginationService=o,this.routeService=d}ngOnInit(){this.queryParams$=this.getQueryParams()}getQueryParams(){const E=this.paginationService.getPageParam(r1.v0);return this.routeService.getQueryParameterValue(E).pipe((0,Rt.T)(o=>({value:this.object.value,authority:this.object.authority?this.object.authority:void 0,startsWith:void 0,[E]:null,[r1.v0+".return"]:o})))}static{this.\u0275fac=function(o){return new(o||fR)(e.rXU(Rs.f),e.rXU(tv.m),e.rXU(Zh.v$))}}static{this.\u0275cmp=e.VBU({type:fR,selectors:[["ds-browse-entry-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:3,consts:[["isNotOpenAireValue",""],["normalLink",""],["normalSpan",""],[1,"d-flex","flex-row"],[4,"ngIf","ngIfElse"],[1,"pr-2"],[1,"badge","badge-pill","badge-secondary","align-self-center"],["class","lead",3,"target","routerLink","queryParams","queryParamsHandling",4,"ngIf"],["class","lead",4,"ngIf"],[1,"lead",3,"target","routerLink","queryParams","queryParamsHandling"],[1,"lead"],["id","unifesp-icon","src","../../../../../assets/images/logo_sidebar_unifesp_color.png","alt",""]],template:function(o,d){if(1&o&&(e.j41(0,"div",3),e.DNE(1,l1,3,2,"div",4)(2,TI,2,2,"ng-template",null,0,e.C5r),e.j41(4,"span",5),e.EFF(5,"\xa0"),e.k0s(),e.j41(6,"span",6),e.EFF(7),e.k0s()()),2&o){const x=e.sdS(3);e.R7$(),e.Y8G("ngIf",d.object.value.includes("info:eu-repo"))("ngIfElse",x),e.R7$(6),e.JRh(d.object.count)}},dependencies:[p.bT,_.Wk,p.Jj,G.h,G.D9],styles:["#unifesp-icon[_ngcontent-%COMP%]{width:19px;margin-bottom:6px;color:#215a36}"]})}};Dp=(0,Ue.Cg)([(0,Hn.VK)(ul,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f,tv.m,Zh.v$])],Dp);let nv=class TT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(TT)))(d||TT)}})()}static{this.\u0275cmp=e.VBU({type:TT,selectors:[["ds-bundle-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:1,template:function(o,d){1&o&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&o&&(e.R7$(),e.JRh(d.dsoNameService.getName(d.object)))},encapsulation:2})}};nv=(0,Ue.Cg)([(0,Hn.VK)(I0.N,Wn.n.ListElement)],nv);const DI=u=>[u];function OI(u,E){if(1&u&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,DI,"/collections/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function MI(u,E){if(1&u&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function II(u,E){if(1&u&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function SI(u,E){if(1&u&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let Op=class DT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(DT)))(d||DT)}})()}static{this.\u0275cmp=e.VBU({type:DT,selectors:[["ds-collection-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,OI,2,6,"a",1)(2,MI,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,II,2,1,"span",4),e.k0s(),e.DNE(6,SI,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.Y8G("ngIf",d.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",d.object.shortDescription))},dependencies:[p.bT,_.Wk]})}};Op=(0,Ue.Cg)([(0,Hn.VK)(Zl.p,Wn.n.ListElement)],Op);const PI=u=>[u];function sv(u,E){if(1&u&&(e.j41(0,"a",6),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.Y8G("target",o.linkType===o.linkTypes.ExternalLink?"_blank":"_self")("routerLink",e.eq3(4,PI,"/communities/"+o.object.id)),e.BMQ("rel",o.linkType===o.linkTypes.ExternalLink?"noopener noreferrer":null),e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function h1(u,E){if(1&u&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.SpI(" ",o.dsoNameService.getName(o.object)," ")}}function p1(u,E){if(1&u&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.object.archivedItemsCount)}}function f1(u,E){if(1&u&&(e.j41(0,"div",9),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.SpI(" ",o.object.shortDescription,"\n")}}let Im=class mR extends jr.C{constructor(E){super(E),this.dsoNameService=E}static{this.\u0275fac=function(o){return new(o||mR)(e.rXU(Rs.f))}}static{this.\u0275cmp=e.VBU({type:mR,selectors:[["ds-community-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:4,consts:[[1,"d-flex","flex-row"],["class","lead",3,"target","routerLink",4,"ngIf"],["class","lead",4,"ngIf"],[1,"pr-2"],["class","badge badge-pill badge-secondary align-self-center archived-items-lead",4,"ngIf"],["class","text-muted abstract-text",4,"ngIf"],[1,"lead",3,"target","routerLink"],[1,"lead"],[1,"badge","badge-pill","badge-secondary","align-self-center","archived-items-lead"],[1,"text-muted","abstract-text"]],template:function(o,d){1&o&&(e.j41(0,"div",0),e.DNE(1,sv,2,6,"a",1)(2,h1,2,1,"span",2),e.j41(3,"span",3),e.EFF(4,"\xa0"),e.k0s(),e.DNE(5,p1,2,1,"span",4),e.k0s(),e.DNE(6,f1,2,1,"div",5)),2&o&&(e.R7$(),e.Y8G("ngIf",d.linkType!==d.linkTypes.None),e.R7$(),e.Y8G("ngIf",d.linkType===d.linkTypes.None),e.R7$(3),e.Y8G("ngIf",d.object.archivedItemsCount>=0),e.R7$(),e.Y8G("ngIf",d.object.shortDescription))},dependencies:[p.bT,_.Wk]})}};Im=(0,Ue.Cg)([(0,Hn.VK)(nf.E,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Rs.f])],Im);let iv=class OT extends jr.C{ngOnChanges(){(0,V.a4)(this.object)&&(this.itemSearchResult=Object.assign(new wa.H,{indexableObject:this.object}))}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(OT)))(d||OT)}})()}static{this.\u0275cmp=e.VBU({type:OT,selectors:[["ds-item-list-element"]],standalone:!0,features:[e.Vt3,e.OA$,e.aNF],decls:1,vars:3,consts:[[3,"object","viewMode","linkType"]],template:function(o,d){1&o&&e.nrm(0,"ds-listable-object-component-loader",0),2&o&&e.Y8G("object",d.itemSearchResult)("viewMode",d.viewMode)("linkType",d.linkType)},dependencies:[Tu.v]})}};iv=(0,Ue.Cg)([(0,Hn.VK)("Publication",Wn.n.ListElement),(0,Hn.VK)(hl.q,Wn.n.ListElement)],iv);var RI=n(51805),m1=n(83851);let Sm=class MT extends jr.C{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(MT)))(d||MT)}})()}static{this.\u0275cmp=e.VBU({type:MT,selectors:[["ds-listable-notification-object"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:6,template:function(o,d){1&o&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&o&&(e.ZvI("alert d-block ",null==d.object?null:d.object.notificationType," m-0"),e.R7$(),e.JRh(e.bMT(2,4,null==d.object?null:d.object.message)))},dependencies:[G.h,G.D9]})}};Sm=(0,Ue.Cg)([(0,Hn.VK)(RI.t,Wn.n.ListElement),(0,Hn.VK)(m1.t.value,Wn.n.ListElement)],Sm);var g1=n(48622);n(56577);const _1=["*"];function rv(u,E){}let Gd=(()=>{class u extends M.J{constructor(){super(...arguments),this.inAndOutputNames=["item","object","badgeContext","showSubmitter","workflowItem"]}getComponentName(){return"ItemListPreviewComponent"}importThemedComponent(o){return n(71931)(`./${o}/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component`)}importUnthemedComponent(){return Promise.resolve().then(n.bind(n,56577))}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-item-list-preview"]],inputs:{item:"item",object:"object",badgeContext:"badgeContext",showSubmitter:"showSubmitter",workflowItem:"workflowItem"},standalone:!0,features:[e.Vt3,e.aNF],ngContentSelectors:_1,decls:5,vars:0,consts:[["vcr",""],["content",""]],template:function(d,x){1&d&&(e.NAR(),e.DNE(0,rv,0,0,"ng-template",null,0,e.C5r),e.j41(2,"div",null,1),e.SdG(4),e.k0s())},encapsulation:2})}}return u})();function AI(u,E){if(1&u&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&u){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function ov(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,AI,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&u){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-approved-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let Pm=class gR extends Po.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceApproved}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,js.s)("item"),(0,js.s)("submitter")),(0,js.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||gR)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:gR,selectors:[["ds-claimed-approved-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-success","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,ov,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[p.bT,Gd,p.Jj,G.h,G.D9,ml.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Pm=(0,Ue.Cg)([(0,Hn.VK)(g1.t,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Object])],Pm);var Rm=n(83233);function Am(u,E){if(1&u&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&u){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function av(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,Am,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&u){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let Mp=class _R extends Po.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,js.s)("item"),(0,js.s)("submitter")),(0,js.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||_R)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:_R,selectors:[["ds-claimed-declined-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-secondary","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,av,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[p.bT,Gd,p.Jj,G.h,G.D9,ml.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};Mp=(0,Ue.Cg)([(0,Hn.VK)(Rm.q,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Object])],Mp);var wI=n(66211);function xI(u,E){if(1&u&&(e.nrm(0,"ds-item-list-preview",4),e.nI1(1,"async")),2&u){let o;const d=e.XpG().ngVar,x=e.XpG();e.Y8G("item",null==(o=e.bMT(1,4,null==d?null:d.item))?null:o.payload)("object",x.object)("badgeContext",x.badgeContext)("showSubmitter",x.showSubmitter)}}function LI(u,E){if(1&u&&(e.qex(0),e.j41(1,"div",1)(2,"h4",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,xI,2,6,"ds-item-list-preview",3),e.k0s(),e.bVm()),2&u){const o=E.ngVar;e.R7$(3),e.JRh(e.bMT(4,2,"claimed-declined-task-search-result-list-element.title")),e.R7$(2),e.Y8G("ngIf",o)}}let $d=class vR extends Po.P{constructor(E,o,d,x){super(o,d,x),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.appConfig=x,this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceDeclined}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{useCachedVersionIfAvailable:!1},(0,js.s)("item"),(0,js.s)("submitter")),(0,js.s)("action")),this.workflowitemRD$=this.dso.workflowitem}static{this.\u0275fac=function(o){return new(o||vR)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:vR,selectors:[["ds-claimed-declined-task-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:3,consts:[[4,"ngVar"],["role","alert",1,"alert","alert-warning","w-100"],[1,"alert-heading","mb-0"],[3,"item","object","badgeContext","showSubmitter",4,"ngIf"],[3,"item","object","badgeContext","showSubmitter"]],template:function(o,d){if(1&o&&(e.DNE(0,LI,6,4,"ng-container",0),e.nI1(1,"async")),2&o){let x;e.Y8G("ngVar",null==(x=e.bMT(1,1,d.workflowitemRD$))?null:x.payload)}},dependencies:[p.bT,Gd,p.Jj,G.h,G.D9,ml.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};$d=(0,Ue.Cg)([(0,Hn.VK)(wI.H,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Object])],$d);var Wd=n(69723);function lv(u,E){if(1&u&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&u){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function v1(u,E){if(1&u&&(e.qex(0),e.DNE(1,lv,6,7,"div",6),e.bVm()),2&u){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function NI(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,v1,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-claimed-task-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("item",d.item$.value)("object",d.object)("showSubmitter",d.showSubmitter)("badgeContext",d.badgeContext)("workflowItem",d.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,d.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",d.item$.value)("object",d.dso)("workflowitem",d.workflowitem$.value)}}let wm=class yR extends Po.P{constructor(E,o,d,x,ee,Se,Ae){super(o,d,Ae),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.objectCache=x,this.configService=ee,this.duplicateDataService=Se,this.appConfig=Ae,this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceValidation,this.item$=new y.t(null),this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{},(0,js.s)("item",{},(0,js.s)("bundles")),(0,js.s)("submitter")),(0,js.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,ws.qD)())):Io.w),(0,ii.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,us.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,ws.qD)(),(0,Rt.T)(E=>E.isSuccess&&E.payload&&"true"===E.payload.values[0])),this.item$.pipe()]).pipe((0,Rt.T)(([E,o])=>{if(!E)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,ws.qD)(),(0,Rt.T)(d=>{if(d.hasSucceeded&&d.payload.page)return d.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||yR)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(Br.$),e.rXU(Tr.ConfigurationDataService),e.rXU(Wd.SubmissionDuplicateDataService),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:yR,selectors:[["ds-claimed-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],[3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,d){1&o&&(e.DNE(0,NI,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[p.bT,Gd,p.YU,Zc,p.Jj,G.h,G.D9,ml.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};wm=(0,Ue.Cg)([(0,Hn.VK)(Cp.y,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Br.$,Tr.ConfigurationDataService,Wd.SubmissionDuplicateDataService,Object])],wm);let Ip=class IT extends Po.P{constructor(){super(...arguments),this.badgeContext=ks.o.MyDSpaceArchived}ngOnInit(){super.ngOnInit(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(IT)))(d||IT)}})()}static{this.\u0275cmp=e.VBU({type:IT,selectors:[["ds-item-search-result-list-element-submission"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:5,consts:[[3,"item","object","badgeContext"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"]],template:function(o,d){1&o&&(e.nrm(0,"ds-item-list-preview",0),e.j41(1,"div",1)(2,"div",2)(3,"ds-item-actions",3),e.bIt("processCompleted",function(ee){return d.reloadedObject.emit(ee.reloadedObject)}),e.k0s()()()),2&o&&(e.Y8G("item",d.dso)("object",d.object)("badgeContext",d.badgeContext),e.R7$(2),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("object",d.dso))},dependencies:[Gd,p.YU,qc],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function cv(u,E){if(1&u&&(e.j41(0,"div",4),e.nrm(1,"div",4),e.j41(2,"div",4)(3,"div",7),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&u){const o=e.XpG().ngVar;e.Y8G("ngClass","row"),e.R7$(),e.Y8G("ngClass","col-2"),e.R7$(),e.Y8G("ngClass","col-10"),e.R7$(2),e.Lme(" ",o," ",e.bMT(5,5,"submission.workflow.tasks.duplicates")," ")}}function y1(u,E){if(1&u&&(e.qex(0),e.DNE(1,cv,6,7,"div",6),e.bVm()),2&u){const o=E.ngVar;e.R7$(),e.Y8G("ngIf",o>0)}}function Kd(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-item-list-preview",1),e.DNE(2,y1,2,1,"ng-container",2),e.nI1(3,"async"),e.j41(4,"div",3)(5,"div",4)(6,"ds-pool-task-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&u){let o;const d=e.XpG();e.R7$(),e.Y8G("item",d.item$.value)("object",d.object)("showSubmitter",d.showSubmitter)("badgeContext",d.badgeContext)("workflowItem",d.workflowitem$.value),e.R7$(),e.Y8G("ngVar",null==(o=e.bMT(3,10,d.duplicates$))?null:o.length),e.R7$(3),e.Y8G("ngClass",d.showThumbnails?"offset-3 offset-md-2 pl-3":""),e.R7$(),e.Y8G("item",d.item$.value)("object",d.dso)("workflowitem",d.workflowitem$.value)}}Ip=(0,Ue.Cg)([(0,Hn.VK)(wa.H,Wn.n.ListElement,ks.o.Workspace),(0,Hn.VK)(wa.H,Wn.n.ListElement,ks.o.Workflow)],Ip);let xm=class ER extends Po.P{constructor(E,o,d,x,ee,Se,Ae){super(o,d,Ae),this.linkService=E,this.truncatableService=o,this.dsoNameService=d,this.objectCache=x,this.configService=ee,this.duplicateDataService=Se,this.appConfig=Ae,this.showSubmitter=!0,this.badgeContext=ks.o.MyDSpaceWaitingController,this.item$=new y.t(null),this.workflowitem$=new y.t(null)}ngOnInit(){super.ngOnInit(),this.linkService.resolveLinks(this.dso,(0,js.s)("workflowitem",{},(0,js.s)("item",{},(0,js.s)("bundles")),(0,js.s)("submitter")),(0,js.s)("action")),this.dso.workflowitem.pipe((0,ws.qD)(),(0,zn.Z)(E=>E.hasSucceeded?(this.workflowitem$.next(E.payload),E.payload.item.pipe((0,ws.qD)())):Io.w),(0,ii.M)(E=>{(0,V.hj)(E)&&E.hasSucceeded&&this.item$.next(E.payload)})).subscribe(),this.showThumbnails=this.appConfig.browseBy.showThumbnails,this.duplicates$=this.initializeDuplicateDetectionIfEnabled()}initializeDuplicateDetectionIfEnabled(){return(0,us.z)([this.configService.findByPropertyName("duplicate.enable").pipe((0,ws.qD)(),(0,Rt.T)(E=>E.isSuccess&&E.payload&&"true"===E.payload.values[0])),this.item$.pipe()]).pipe((0,Rt.T)(([E,o])=>{if(!E)return[];this.duplicates$=this.duplicateDataService.findDuplicates(o.uuid).pipe((0,ws.qD)(),(0,Rt.T)(d=>{if(d.hasSucceeded&&d.payload.page)return d.payload.page}))}))}ngOnDestroy(){(0,V.a4)(this.dso)&&this.objectCache.remove(this.dso._links.workflowitem.href)}static{this.\u0275fac=function(o){return new(o||ER)(e.rXU(Di._),e.rXU(Pi.F),e.rXU(Rs.f),e.rXU(Br.$),e.rXU(Tr.ConfigurationDataService),e.rXU(Wd.SubmissionDuplicateDataService),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:ER,selectors:[["ds-pool-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:3,vars:5,consts:[[4,"ngIf"],[3,"item","object","showSubmitter","badgeContext","workflowItem"],[4,"ngVar"],[1,"row"],[3,"ngClass"],["id","actions",3,"processCompleted","item","object","workflowitem"],[3,"ngClass",4,"ngIf"],[1,"d-flex","alert","alert-warning","w-100"]],template:function(o,d){1&o&&(e.DNE(0,Kd,7,12,"ng-container",0),e.nI1(1,"async"),e.nI1(2,"async")),2&o&&e.Y8G("ngIf",e.bMT(1,1,d.workflowitem$)&&e.bMT(2,3,d.item$))},dependencies:[p.bT,Gd,p.YU,ed,p.Jj,G.h,G.D9,ml.r],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};xm=(0,Ue.Cg)([(0,Hn.VK)(Q_.d,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Di._,Pi.F,Rs.f,Br.$,Tr.ConfigurationDataService,Wd.SubmissionDuplicateDataService,Object])],xm);var E1=n(7581);function rh(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workflowitem-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&u){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",o.dso)}}function MA(u,E){1&u&&e.nrm(0,"ds-loading",6),2&u&&e.Y8G("showMessage",!1)}let oh=class CR extends Po.P{constructor(E,o,d,x){super(E,d,x),this.truncatableService=E,this.linkService=o,this.dsoNameService=d,this.appConfig=x,this.LinkTypes=E1.n,this.ViewModes=Wn.n,this.derivedSearchResult$=new y.t(void 0),this.badgeContext=ks.o.MyDSpaceWorkflow}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,js.s)("item")),this.object.indexableObject.item.pipe((0,ws.ak)()).subscribe(E=>{new wa.H,this.derivedSearchResult$.next(Object.assign(new wa.H,{indexableObject:E,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||CR)(e.rXU(Pi.F),e.rXU(Di._),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:CR,selectors:[["ds-workflow-item-my-dspace-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,d){1&o&&(e.DNE(0,rh,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,MA,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,d.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,d.derivedSearchResult$)))},dependencies:[p.bT,Tu.v,p.YU,td,fc.v,p.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}"]})}};function IA(u,E){if(1&u){const o=e.RV6();e.qex(0),e.nrm(1,"ds-listable-object-component-loader",2),e.nI1(2,"async"),e.j41(3,"div",3)(4,"div",4)(5,"ds-workspaceitem-actions",5),e.bIt("processCompleted",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.reloadedObject.emit(x.reloadedObject))}),e.k0s()()(),e.bVm()}if(2&u){const o=e.XpG();e.R7$(),e.Y8G("viewMode",o.ViewModes.ListElement)("object",e.bMT(2,6,o.derivedSearchResult$))("linkType",o.LinkTypes.None)("context",o.badgeContext),e.R7$(3),e.Y8G("ngClass",o.showThumbnails?"offset-3 offset-md-2  pl-3":""),e.R7$(),e.Y8G("object",o.dso)}}function C1(u,E){1&u&&e.nrm(0,"ds-loading",6),2&u&&e.Y8G("showMessage",!1)}oh=(0,Ue.Cg)([(0,Hn.VK)(Ad.q,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Di._,Rs.f,Object])],oh);let Sp=class bR extends Po.P{constructor(E,o,d,x){super(E,d,x),this.truncatableService=E,this.linkService=o,this.dsoNameService=d,this.appConfig=x,this.LinkTypes=E1.n,this.ViewModes=Wn.n,this.derivedSearchResult$=new y.t(void 0),this.badgeContext=ks.o.MyDSpaceWorkspace}ngOnInit(){super.ngOnInit(),this.deriveSearchResult(),this.showThumbnails=this.appConfig.browseBy.showThumbnails}deriveSearchResult(){this.linkService.resolveLink(this.object.indexableObject,(0,js.s)("item")),this.object.indexableObject.item.pipe((0,ws.ak)()).subscribe(E=>{new wa.H,this.derivedSearchResult$.next(Object.assign(new wa.H,{indexableObject:E,hitHighlights:this.object.hitHighlights}))})}static{this.\u0275fac=function(o){return new(o||bR)(e.rXU(Pi.F),e.rXU(Di._),e.rXU(Rs.f),e.rXU(ti.vQ))}}static{this.\u0275cmp=e.VBU({type:bR,selectors:[["ds-workspace-item-search-result-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:6,consts:[[4,"ngIf"],[3,"showMessage",4,"ngIf"],[3,"viewMode","object","linkType","context"],[1,"row"],[3,"ngClass"],[3,"processCompleted","object"],[3,"showMessage"]],template:function(o,d){1&o&&(e.DNE(0,IA,6,8,"ng-container",0),e.nI1(1,"async"),e.DNE(2,C1,1,1,"ds-loading",1),e.nI1(3,"async")),2&o&&(e.Y8G("ngIf",e.bMT(1,2,d.derivedSearchResult$)),e.R7$(2),e.Y8G("ngIf",void 0===e.bMT(3,4,d.derivedSearchResult$)))},dependencies:[p.bT,Tu.v,p.YU,Em,fc.v,p.Jj],styles:["[_nghost-%COMP%]     em{font-weight:700;font-style:normal}","[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background-color:#555}"]})}};function SA(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Sp=(0,Ue.Cg)([(0,Hn.VK)(Nf.I,Wn.n.ListElement),(0,Ue.Sn)("design:paramtypes",[Pi.F,Di._,Rs.f,Object])],Sp);let _c=class ST extends hc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(ST)))(d||ST)}})()}static{this.\u0275cmp=e.VBU({type:ST,selectors:[["ds-collection-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,SA,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function FI(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}_c=(0,Ue.Cg)([(0,Hn.VK)(Cu.A,Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)(Cu.A,Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],_c);let Lm=class PT extends hc{getDescription(){return this.firstMetadataValue("dc.description.abstract")}static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(PT)))(d||PT)}})()}static{this.\u0275cmp=e.VBU({type:PT,selectors:[["ds-community-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,FI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};function BI(u,E){if(1&u&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",4),e.k0s()),2&u){const o=e.XpG();e.Y8G("maxLines",1)("background",o.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",o.isCurrent()?"text-light":"text-secondary")("innerHTML",o.description,e.npT)}}Lm=(0,Ue.Cg)([(0,Hn.VK)(Dd.L,Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)(Dd.L,Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],Lm);let vc=class RT extends hc{static{this.\u0275fac=(()=>{let E;return function(d){return(E||(E=e.xGo(RT)))(d||RT)}})()}static{this.\u0275cmp=e.VBU({type:RT,selectors:[["ds-publication-sidebar-search-list-element"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:17,consts:[[3,"maxLines","background","showToggle"],[3,"ngClass","innerHTML"],[1,"font-weight-bold",3,"ngClass","innerHTML"],[3,"maxLines","background","showToggle",4,"ngIf"],[1,"text-secondary",3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.j41(0,"ds-truncatable-part",0),e.nrm(1,"div",1),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"ds-truncatable-part",0),e.nrm(6,"div",2),e.k0s(),e.DNE(7,BI,2,5,"ds-truncatable-part",3)),2&o&&(e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-body")("innerHTML",e.bMT(2,11,d.parentTitle$&&d.parentTitle$)?e.bMT(3,13,d.parentTitle$):e.bMT(4,15,"home.breadcrumbs"),e.npT),e.R7$(4),e.Y8G("maxLines",1)("background",d.isCurrent()?"primary":"default")("showToggle",!1),e.R7$(),e.Y8G("ngClass",d.isCurrent()?"text-light":"text-primary")("innerHTML",d.dsoTitle,e.npT),e.R7$(),e.Y8G("ngIf",d.description))},dependencies:[Hr.W,p.YU,p.bT,p.Jj,G.h,G.D9],encapsulation:2})}};vc=(0,Ue.Cg)([(0,Hn.VK)("PublicationSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)("PublicationSearchResult",Wn.n.ListElement,ks.o.SideBarSearchModalCurrent),(0,Hn.VK)(wa.H,Wn.n.ListElement,ks.o.SideBarSearchModal),(0,Hn.VK)(wa.H,Wn.n.ListElement,ks.o.SideBarSearchModalCurrent)],vc);var UI=n(73900);const Nm=[Vd,Dp,nv,Vc,Pf,Tp,Op,kc,bu,_c,Ah,$g,Om,Im,Mf,Rf,Lm,ku,Sf,Wg,ih,iv,Va,uc.k,Hc,Gh,qf,Pu,Za,dc,wu,zf,Au,Iu,Ru,Xh,em,Wh,Hf,$h,Yh,Lu,Sm,M_,tp,ap,ep,Fd,pp,ju,I_,Xc,lm,Nd,Bd,fp,D_,cm,rm,Uu,op,lp,cp,vc,Bf,Lf,jh,Ou,Sp,oh,wm,Pm,Mp,$d,xm,Tm,sh,Z_,bm,bp,Ip,Wu,yp];let Fm=(()=>{class u{static withEntryComponents(){return{ngModule:u,providers:Nm.map(o=>({provide:o}))}}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275mod=e.$C({type:u})}static{this.\u0275inj=e.G2t({imports:[p.MD,_.iI,G.h,Hr.W,UI.ThumbnailComponent,QE.BadgesComponent,$r.F,kd,Ga,Wc,Em,ed,Gd,hp,Jc,Zc,td,wh,Ui.T,gl.V,qc,R_,$c,Bh,Nh,Nn.YN,x_,bE,Ud,mc,zr,L_,mp.r,Dp,Vc,Pf,Tp,kc,bu,_c,Ah,$g,Om,Mf,Rf,Lm,Sf,Wg,ih,Va,uc.k,Hc,Gh,qf,Pu,Za,dc,wu,zf,Au,Iu,Ru,Xh,em,Wh,Hf,$h,Yh,Lu,Sm,M_,tp,ap,ep,Fd,pp,ju,I_,Xc,lm,Nd,Bd,fp,D_,cm,rm,Uu,op,lp,cp,vc,Bf,Lf,jh,Ou,Sp,oh,wm,Pm,Mp,$d,xm,Tm,sh,Z_,bm,bp,Ip,Wu,yp]})}}return u})();var ya=n(61424),yc=n(19460);let b1=(()=>{class u{constructor(o,d){this.tokenExtractor=o,this.cookieService=d}intercept(o,d){const x=(o=o.clone({withCredentials:!0})).url.toLowerCase(),ee=new ya.F("/").toString().toLowerCase();if("GET"!==o.method&&"HEAD"!==o.method&&x.startsWith(ee)){const Se=this.tokenExtractor.getToken();null!==Se&&!o.headers.has(yc.sA)&&(o=o.clone({headers:o.headers.set(yc.sA,Se)}))}return d.handle(o).pipe((0,ii.M)(Se=>{Se instanceof ie.cS&&Se.headers.has(yc.oo)&&this.saveXsrfToken(Se.headers.get(yc.oo))}),(0,In.W)(Se=>(Se instanceof ie.yz&&Se.headers.has(yc.oo)&&this.saveXsrfToken(Se.headers.get(yc.oo)),(0,ea.$)(Se))))}saveXsrfToken(o){this.cookieService.remove(yc.dX),this.cookieService.set(yc.dX,o)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(ie.B3),e.KVO(hu.O))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();n(96756),n(90190);let T1=(()=>{class u{serialize(o){const{url:d}=o;return{url:d,queryParams:o.root.queryParams}}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();n(9274);const WI={providers:[(0,e.oKB)(Ji.xG.forRoot(),X.UN,sa.forRoot(Sn),v.md.forRoot(dl.rd,dl.wP),ia.hO.forRoot(),[],og,nu,Fm.withEntryComponents(),Hl.mB.forRoot()),(0,_.lh)(HT,(0,_.Ii)({onSameUrlNavigation:"reload"}),(0,_.oH)({scrollPositionRestoration:"top",anchorScrolling:"enabled"}),(0,_.Zy)(),(0,_.Sn)(_.D7)),{provide:p.kB,useFactory:(u,E)=>{const o=u.querySelector("head > base");return o.setAttribute("href",`${E.ui.nameSpace}${E.ui.nameSpace.endsWith("/")?"":"/"}`),o.getAttribute("href")},deps:[p.qQ,ti.vQ]},{provide:v.iK,useFactory:function $I(u){return u.debug?[...gh,...hr]:gh},deps:[ti.vQ]},{provide:ia.jr,useClass:T1},Ng,{provide:ie.a7,useClass:MR,multi:!0},{provide:ie.a7,useClass:ql,multi:!0},{provide:ie.a7,useClass:b1,multi:!0},{provide:ie.a7,useClass:IR,multi:!0},{provide:ie.a7,useClass:h0,multi:!0},...Ss.A0q,(0,e.EmA)([{provide:mf.Y,useFactory:(u,E)=>R.c.production?new mf.Y(E):new _f(u,E),deps:[vg,ie.Qq]}])]};var uv=n(13820),zI=n(72734),Hd=n(43052);let Pp=(()=>{class u extends uv.H{constructor(o,d,x){super(o,d,x)}createShortLivedTokenRequest(o){return(0,bs.of)(new Hd.Qf(this.requestService.generateRequestId(),o))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Cm.Y),e.KVO(eo.B),e.KVO(zI.o))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),YI=(()=>{class u{constructor(o){this.actions$=o,this.reinitDSOMenus=xn(()=>this.actions$.pipe(Gn(Sa.REHYDRATE),(0,Rt.T)(()=>new Yl.PM)))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var XI=n(41584),D1=n(43236),Rp=n(47242),JI=n(40941),Um=n(11568),Fa=n(96393);class O1{constructor(E,o){this.zone=E,this.scheduler=o}schedule(...E){return this.zone.run(()=>this.scheduler.schedule.apply(this.scheduler,E))}now(){return this.scheduler.now()}}class M1{constructor(E,o){this.zone=E,this.scheduler=o}schedule(...E){return this.zone.runOutsideAngular(()=>this.scheduler.schedule.apply(this.scheduler,E))}now(){return this.scheduler.now()}}const I1=[...Object.values(z.Yk).filter(u=>u!==z.Yk.UNSET_USER_AS_IDLE),...Object.values(Fa.tO),...Object.values(Um.Is)];function ah(u,E){return E instanceof Error||console.warn("AuthEffects caught non-Error object:",E),(0,bs.of)(new u(E))}let S1=(()=>{class u{constructor(o,d,x,ee,Se){this.actions$=o,this.zone=d,this.authorizationsService=x,this.authService=ee,this.store=Se,this.authenticate$=xn(()=>this.actions$.pipe(Gn(z.Yk.AUTHENTICATE),(0,Vs.n)(Ae=>this.authService.authenticate(Ae.payload.email,Ae.payload.password).pipe((0,D.s)(1),(0,Rt.T)(ft=>new z.sy(ft.token)),(0,In.W)(ft=>ah(z.HQ,ft)))))),this.authenticateSuccess$=xn(()=>this.actions$.pipe(Gn(z.Yk.AUTHENTICATE_SUCCESS),(0,Rt.T)(Ae=>new z.ks(Ae.payload)))),this.authenticated$=xn(()=>this.actions$.pipe(Gn(z.Yk.AUTHENTICATED),(0,Vs.n)(Ae=>this.authService.authenticatedUser(Ae.payload).pipe((0,Rt.T)(ft=>new z.D9(null!==ft,Ae.payload,ft)),(0,In.W)(ft=>ah(z.IV,ft)))))),this.authenticatedSuccess$=xn(()=>this.actions$.pipe(Gn(z.Yk.AUTHENTICATED_SUCCESS),(0,ii.M)(Ae=>this.authService.storeToken(Ae.payload.authToken)),(0,Vs.n)(Ae=>this.authService.getRedirectUrl().pipe((0,D.s)(1),(0,Rt.T)(ft=>[Ae,ft]))),(0,Rt.T)(([Ae,ft])=>(0,V.a4)(ft)?new z.FD(ft):new z.K0(Ae.payload.userHref)))),this.redirectAfterLoginSuccess$=xn(()=>this.actions$.pipe(Gn(z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS),(0,ii.M)(Ae=>{this.authService.clearRedirectUrl(),this.authService.navigateToRedirectUrl(Ae.payload)})),{dispatch:!1}),this.authenticatedError$=xn(()=>this.actions$.pipe(Gn(z.Yk.AUTHENTICATED_ERROR),(0,ii.M)(Ae=>this.authService.removeToken())),{dispatch:!1}),this.retrieveAuthenticatedEperson$=xn(()=>this.actions$.pipe(Gn(z.Yk.RETRIEVE_AUTHENTICATED_EPERSON),(0,Vs.n)(Ae=>{const ft=this.authService.getImpersonateID();let jt;return jt=(0,V.a4)(ft)?this.authService.retrieveAuthenticatedUserById(ft):this.authService.retrieveAuthenticatedUserByHref(Ae.payload),jt.pipe((0,Rt.T)(_n=>new z.JT(_n.id)),(0,In.W)(_n=>ah(z.cU,_n)))}))),this.checkToken$=xn(()=>this.actions$.pipe(Gn(z.Yk.CHECK_AUTHENTICATION_TOKEN),(0,Vs.n)(()=>this.authService.hasValidAuthenticationToken().pipe((0,Rt.T)(Ae=>new z.ks(Ae)),(0,In.W)(Ae=>(0,bs.of)(new z.e0)))))),this.checkTokenCookie$=xn(()=>this.actions$.pipe(Gn(z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE),(0,Vs.n)(()=>this.authService.checkAuthenticationCookie().pipe((0,Rt.T)(Ae=>Ae.authenticated?(this.authService.setExternalAuthStatus(!0),this.authorizationsService.invalidateAuthorizationsRequestCache(),new z.kZ):new z.j3(Ae)),(0,In.W)(Ae=>ah(z.IV,Ae)))))),this.retrieveToken$=xn(()=>this.actions$.pipe(Gn(z.Yk.RETRIEVE_TOKEN),(0,Vs.n)(Ae=>this.authService.refreshAuthenticationToken(null).pipe((0,D.s)(1),(0,Rt.T)(ft=>new z.sy(ft)),(0,In.W)(ft=>ah(z.HQ,ft)))))),this.refreshToken$=xn(()=>this.actions$.pipe(Gn(z.Yk.REFRESH_TOKEN),(0,Vs.n)(Ae=>this.authService.refreshAuthenticationToken(Ae.payload).pipe((0,Rt.T)(ft=>new z.IO(ft)),(0,In.W)(ft=>(0,bs.of)(new z.$K)))))),this.refreshTokenSuccess$=xn(()=>this.actions$.pipe(Gn(z.Yk.REFRESH_TOKEN_SUCCESS),(0,ii.M)(Ae=>this.authService.replaceToken(Ae.payload))),{dispatch:!1}),this.clearInvalidTokenOnRehydrate$=xn(()=>this.actions$.pipe(Gn(Sa.REHYDRATE),(0,Vs.n)(()=>{const Ae=this.store.pipe((0,v.Lt)(w.TR)),ft=this.store.pipe((0,v.Lt)(w.wR));return(0,us.z)([Ae,ft]).pipe((0,D.s)(1),(0,Fn.p)(([jt,_n])=>jt&&!_n),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.resetAuthenticationError()))})),{dispatch:!1}),this.invalidateAuthorizationsRequestCache$=xn(()=>this.actions$.pipe(Gn(Sa.REHYDRATE),(0,ii.M)(()=>this.authorizationsService.invalidateAuthorizationsRequestCache())),{dispatch:!1}),this.logOut$=xn(()=>this.actions$.pipe(Gn(z.Yk.LOG_OUT),(0,Vs.n)(()=>(this.authService.stopImpersonating(),this.authService.logout().pipe((0,Rt.T)(()=>new z.G2),(0,In.W)(Ae=>ah(z.VU,Ae))))))),this.logOutSuccess$=xn(()=>this.actions$.pipe(Gn(z.Yk.LOG_OUT_SUCCESS),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.clearRedirectUrl()),(0,ii.M)(()=>this.authService.refreshAfterLogout())),{dispatch:!1}),this.redirectToLoginTokenExpired$=xn(()=>this.actions$.pipe(Gn(z.Yk.REDIRECT_TOKEN_EXPIRED),(0,ii.M)(()=>this.authService.removeToken()),(0,ii.M)(()=>this.authService.redirectToLoginWhenTokenExpired())),{dispatch:!1}),this.retrieveMethods$=xn(()=>this.actions$.pipe(Gn(z.Yk.RETRIEVE_AUTH_METHODS),(0,Vs.n)(Ae=>this.authService.retrieveAuthMethodsFromAuthStatus(Ae.payload).pipe((0,Rt.T)(ft=>new z.qY(ft)),(0,In.W)(()=>(0,bs.of)(new z.$X)))))),this.trackIdleness$=xn(()=>this.actions$.pipe((0,Fn.p)(Ae=>!I1.includes(Ae.type)),(0,Vs.n)(()=>(0,XI.O)(R.c.auth.ui.timeUntilIdle,new M1(this.zone,D1.E))),(0,JI.Q)(new O1(this.zone,Rp.T)),(0,Rt.T)(()=>new z.es)))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(e.SKi),e.KVO(Wr.AuthorizationDataService),e.KVO(h.uR),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Ap=n(98372);let QI=(()=>{class u{constructor(o){this.actions$=o,this.fixTimestampsOnRehydrate=xn(()=>this.actions$.pipe(Gn(Sa.REHYDRATE),(0,Rt.T)(()=>new Ap.Yp((new Date).getTime()))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var P1=n(47797),hv=n(43377);let xA=(()=>{class u{applyPatch(o){return this.objectCache.getByHref(o).pipe((0,D.s)(1)).pipe((0,Rt.T)(x=>{if((0,V.hj)(x.patches)){const ee=[].concat(...x.patches.map(Se=>Se.operations));(0,V.hj)(ee)&&this.requestService.send(new Hd.EA(this.requestService.generateRequestId(),o,ee))}return new Ap.gL(o)}))}constructor(o,d,x,ee){this.actions$=o,this.store=d,this.requestService=x,this.objectCache=ee,this.setTimeoutForServerSync=xn(()=>this.actions$.pipe(Gn(Mc.G9.ADD),yi(Se=>{const Ae=R.c.cache.autoSync,ft=Ae.timePerMethod[Se.payload.method]||Ae.defaultTime;return(0,bs.of)(new Mc.eR(Se.payload.method)).pipe((0,O.c)(1e3*ft))}))),this.commitServerSyncBuffer=xn(()=>this.actions$.pipe(Gn(Mc.G9.COMMIT),(0,Vs.n)(Se=>this.store.pipe((0,v.Lt)(function LA(){return(0,v.Mz)(P1.N,u=>u["cache/syncbuffer"])}()),(0,D.s)(1),(0,Vs.n)(Ae=>{const ft=Ae.buffer.filter(jt=>!(0,V.a4)(Se.payload)||jt.method===Se.payload).map(jt=>{if(jt.method===hv.D.PATCH)return this.applyPatch(jt.href)});return(0,V.hj)(ft)&&(0,V.EA)(ft[0])?(0,us.z)(...ft).pipe((0,Vs.n)(jt=>[...jt,new Mc.a0(Se.payload)])):(0,bs.of)(new fh.L)})))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il),e.KVO(eo.B),e.KVO(Br.$))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var R1=n(1033),sd=n(16105);let ZI=(()=>{class u{constructor(o,d){this.actions$=o,this.notificationsService=d,this.allIdentifier="all",this.actionMap$={},this.notificationActionMap$={all:new qo.B},this.mapLastActions$=xn(()=>this.actions$.pipe(Gn(...Object.values(sd.Ft)),(0,Rt.T)(x=>{if((0,V.a4)(x.payload)){const ee=x.payload.url;(0,V.Tn)(this.actionMap$[ee])&&(this.actionMap$[ee]=new qo.B),this.actionMap$[ee].next(x)}})),{dispatch:!1}),this.mapLastNotificationActions$=xn(()=>this.actions$.pipe(Gn(...Object.values(Um.Is)),(0,Rt.T)(x=>{const ee=x.payload.id||x.payload||this.allIdentifier;(0,V.Tn)(this.notificationActionMap$[ee])&&(this.notificationActionMap$[ee]=new qo.B),this.notificationActionMap$[ee].next(x)})),{dispatch:!1}),this.removeAfterDiscardOrReinstateOnUndo$=xn(()=>this.actions$.pipe(Gn(sd.Ft.DISCARD),(0,Vs.n)(x=>{const ee=x.payload.url,Se=x.payload.notification,Ae=Se.options.timeOut;let ft=new sd.S3(x.payload.url);return x.payload.discardAll&&(ft=new sd.zJ),(0,R1.O)((0,bs.of)(ft).pipe((0,O.c)(Ae)),this.actionMap$[ee].pipe((0,D.s)(1),(0,ii.M)(()=>{this.notificationsService.remove(Se)}),(0,Rt.T)(jt=>jt.type===sd.Ft.REINSTATE?new fh.L:ft)),this.notificationActionMap$[Se.id].pipe((0,Fn.p)(jt=>jt.type===Um.Is.REMOVE_NOTIFICATION),(0,Rt.T)(()=>ft)),this.notificationActionMap$[this.allIdentifier].pipe((0,Fn.p)(jt=>jt.type===Um.Is.REMOVE_ALL_NOTIFICATIONS),(0,Rt.T)(()=>ft)))})))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(to.I))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var qI=n(28580),A1=n(10524);let id=(()=>{class u{constructor(){this.tokenInitialized$=new y.t(!1)}static{this.\u0275fac=function(d){return new(d||u)}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),eS=(()=>{class u{constructor(o,d,x,ee,Se){this.actions$=o,this.restApi=d,this.injector=x,this.requestService=ee,this.xsrfService=Se,this.execute=xn(()=>this.actions$.pipe(Gn(Fa.tO.EXECUTE),(0,zn.Z)(Ae=>this.requestService.getByUUID(Ae.payload).pipe((0,D.s)(1))),(0,Fn.p)(Ae=>(0,V.a4)(Ae)),(0,I.E)(this.xsrfService.tokenInitialized$),(0,Fn.p)(([Ae,ft])=>Ae.request.method===hv.D.GET||!0===ft),(0,Rt.T)(([Ae,ft])=>Ae.request),(0,zn.Z)(Ae=>{let ft=Ae.body;return(0,V.hj)(Ae.body)&&!Ae.isMultipart&&(ft=new qI.T((0,ci.Qt)(Ae.body.type)).serialize(Ae.body)),this.restApi.request(Ae.method,Ae.href,ft,Ae.options,Ae.isMultipart).pipe((0,Rt.T)(jt=>this.injector.get(Ae.getResponseParser()).parse(Ae,jt)),(0,Rt.T)(jt=>new Fa.Di(Ae.uuid,jt.statusCode,jt.link,jt.unCacheableObject)),(0,In.W)(jt=>{if(jt instanceof A1.G)return[new Fa.Gl(Ae.uuid,jt.statusCode,jt.message)];throw jt}))}))),this.fixTimestampsOnRehydrate=xn(()=>this.actions$.pipe(Gn(Sa.REHYDRATE),(0,Rt.T)(()=>new Fa.cX((new Date).getTime()))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(mf.Y),e.KVO(e.zZn),e.KVO(eo.B),e.KVO(id))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var zd=n(71442),pv=n(69227),jm=n(51672);let NA=(()=>{class u{constructor(o,d){this.actions$=o,this.store=d,this.addObject$=xn(()=>this.actions$.pipe(Gn(Ap.db.ADD),(0,Fn.p)(x=>(0,V.a4)(x.payload.objectToCache)&&(0,V.a4)(x.payload.objectToCache.uuid)),(0,Rt.T)(x=>new zd.Lv(jm.U.OBJECT,x.payload.objectToCache.uuid,x.payload.objectToCache._links.self.href)))),this.addAlternativeObjectLink$=xn(()=>this.actions$.pipe(Gn(Ap.db.ADD),(0,Rt.T)(x=>{const ee=x.payload.alternativeLink,Se=(0,V.a4)(x.payload.objectToCache?._links?.self)?x.payload.objectToCache._links.self.href:ee;return(0,V.a4)(ee)&&ee!==Se?new zd.Lv(jm.U.ALTERNATIVE_OBJECT_LINK,ee,Se):new fh.L}))),this.removeObject$=xn(()=>this.actions$.pipe(Gn(Ap.db.REMOVE),(0,Rt.T)(x=>new zd.H9(jm.U.OBJECT,x.payload)))),this.addRequest$=xn(()=>this.actions$.pipe(Gn(Fa.tO.CONFIGURE),(0,Fn.p)(x=>x.payload.method===hv.D.GET),(0,Vs.n)(x=>{const ee=(0,pv.tJ)(x.payload.href);return this.store.pipe((0,v.Lt)((0,pv.Qc)(ee)),(0,D.s)(1),(0,Rt.T)(Se=>[x,Se]))}),(0,Vs.n)(([x,ee])=>{let Se=[];return(0,V.a4)(ee)&&(Se=[new Fa.HL(ee)]),Se=[...Se,new zd.Lv(jm.U.REQUEST,(0,pv.tJ)(x.payload.href),x.payload.uuid)],Se})))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(v.il))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),tS=(()=>{class u{constructor(o){this.actions$=o,this.commit$=xn(()=>this.actions$.pipe(Gn(ao.Ce.COMMIT_JSON_PATCH_OPERATIONS),(0,Rt.T)(d=>new ao.pg(d.payload.resourceType,d.payload.resourceId))))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();const x1={ROUTE_UPDATE:(0,Ic.N)("dspace/core/router/ROUTE_UPDATE")};class nS{constructor(){this.type=x1.ROUTE_UPDATE}}let wp=(()=>{class u{constructor(o,d){this.actions$=o,this.router=d,this.routeChange$=xn(()=>this.actions$.pipe(Gn(ia.hr),function w1(){return(0,na.N)((u,E)=>{let o,d=!1;u.subscribe((0,Vt._)(E,x=>{const ee=o;o=x,d&&E.next([ee,x]),d=!0}))})}(),(0,Rt.T)(x=>x.map(ee=>this.router.parseUrl(ee.payload.routerState.url).root.children.primary.segments.map(Ae=>Ae.path).join("/"))),(0,Fn.p)(x=>x[0]!==x[1]),(0,Rt.T)(()=>new nS)))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(_.Ix))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Ec=n(61905);const iS=[eS,QI,NA,S1,tS,xA,ZI,(()=>{class u{constructor(o,d){this.actions$=o,this.service=d,this.routeChange$=xn(()=>this.actions$.pipe(Gn(x1.ROUTE_UPDATE),(0,Rt.T)(()=>new Ec.sV))),this.afterResetChange$=xn(()=>this.actions$.pipe(Gn(Ec.HH.RESET),(0,ii.M)(()=>this.service.setCurrentRouteInfo())),{dispatch:!1})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(As),e.KVO(Zh.v$))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})(),wp,YI];var km=n(29679);const rS={selectedBitstreamFormats:[]},oS={authenticated:!1,loaded:!1,blocking:!0,loading:!1,authMethods:[],externalAuth:!1,idle:!1};var aS=n(87891);const N1={buffer:[]};var mv=n(66898);const hS=Object.create(null);var ES=n(23274);const B1=[],j1=Object.create(null);var Yd=function(u){return u.test="test",u.remove="remove",u.add="add",u.replace="replace",u.move="move",u.copy="copy",u}(Yd||{});const DS=Object.create(null);function xp(u){return{operation:u,timeCompleted:(new Date).getTime()}}const Lp={ADD:(0,Ic.N)("dspace/meta-tag/ADD"),CLEAR:(0,Ic.N)("dspace/meta-tag/CLEAR")};class K1{constructor(E){this.type=Lp.ADD,this.payload=E}}class H1{constructor(){this.type=Lp.CLEAR}}const Ev={tagsInUse:[]},Cv={queryParams:{},params:{}};function bv(u,E,o){const d=u[o],ee=[...d[E.payload.key]||[],E.payload.value],Se=Object.assign({},d,{[E.payload.key]:ee});return Object.assign({},u,{[o]:Se})}function Q1(u,E,o){const d=(0,V.hj)(E.payload)?{[o]:{[E.payload.key]:E.payload.value}}:{};return Object.assign({},u,d)}function Z1(u,E,o){const x=Object.assign({},u[o],{[E.payload.key]:E.payload.value});return Object.assign({},u,{[o]:x})}const MS={bitstreamFormats:function L1(u=rS,E){switch(E.type){case km.Sh.SELECT_FORMAT:return Object.assign({},u,{selectedBitstreamFormats:[...u.selectedBitstreamFormats,E.bitstreamFormat]});case km.Sh.DESELECT_FORMAT:return Object.assign({},u,{selectedBitstreamFormats:u.selectedBitstreamFormats.filter(o=>o!==E.bitstreamFormat)});case km.Sh.DESELECT_ALL_FORMAT:return Object.assign({},u,{selectedBitstreamFormats:[]});default:return u}},"cache/object":aS.gT,"cache/syncbuffer":function cS(u=N1,E){switch(E.type){case Mc.G9.ADD:return function dS(u,E){const o=E.payload;return(0,V.Tn)(u.buffer.find(d=>d.href===o.href&&d.method===o.method))?Object.assign({},u,{buffer:u.buffer.concat(o)}):u}(u,E);case Mc.G9.EMPTY:return function uS(u,E){let o=[];return(0,V.a4)(E.payload)&&(o=u.buffer.filter(d=>d.method!==E.payload)),Object.assign({},u,{buffer:o})}(u,E);default:return u}},"cache/object-updates":mv.O,"data/request":function F1(u=hS,E){switch(E.type){case Fa.tO.CONFIGURE:return function pS(u,E){return Object.assign({},u,{[E.payload.uuid]:{request:E.payload,state:Ko.zE.RequestPending,response:null,lastUpdated:E.lastUpdated}})}(u,E);case Fa.tO.EXECUTE:return function fS(u,E){return(0,V.kZ)(u[E.payload])?u:Object.assign({},u,{[E.payload]:Object.assign({},u[E.payload],{state:Ko.zE.ResponsePending,lastUpdated:E.lastUpdated})})}(u,E);case Fa.tO.SUCCESS:return function mS(u,E){const o=u[E.payload.uuid];return(0,V.kZ)(o)?u:Object.assign({},u,{[E.payload.uuid]:Object.assign({},o,{state:(0,Ko.QO)(o.state)?Ko.zE.SuccessStale:Ko.zE.Success,response:{timeCompleted:E.payload.timeCompleted,lastUpdated:E.payload.timeCompleted,statusCode:E.payload.statusCode,payloadLink:E.payload.link,unCacheableObject:E.payload.unCacheableObject,errorMessage:null},lastUpdated:E.lastUpdated})})}(u,E);case Fa.tO.ERROR:return function gS(u,E){const o=u[E.payload.uuid];return(0,V.kZ)(o)?u:Object.assign({},u,{[E.payload.uuid]:Object.assign({},o,{state:(0,Ko.QO)(o.state)?Ko.zE.ErrorStale:Ko.zE.Error,response:{timeCompleted:E.payload.timeCompleted,lastUpdated:E.payload.timeCompleted,statusCode:E.payload.statusCode,payloadLink:null,errorMessage:E.payload.errorMessage},lastUpdated:E.lastUpdated})})}(u,E);case Fa.tO.STALE:return function _S(u,E){const o=u[E.payload.uuid];if((0,V.kZ)(o)||(0,Ko.QO)(o.state)||(0,Ko.DB)(o.state))return u;{let d;return d=(0,Ko.vT)(o.state)?Ko.zE.ResponsePendingStale:(0,Ko.yO)(o.state)?Ko.zE.SuccessStale:Ko.zE.ErrorStale,Object.assign({},u,{[E.payload.uuid]:Object.assign({},o,{state:d,lastUpdated:E.lastUpdated})})}}(u,E);case Fa.tO.RESET_TIMESTAMPS:return function vS(u,E){const o=Object.create(null);return Object.keys(u).forEach(d=>{o[d]=Object.assign({},u[d],{response:Object.assign({},u[d].response,{timeCompleted:E.payload}),lastUpdated:E.payload})}),o}(u,E);case Fa.tO.REMOVE:return function yS(u,E){const o=Object.assign({},u);return o[E.uuid]=null,o}(u,E);default:return u}},history:function U1(u=B1,E){return E.type===ES.i.ADD_TO_HISTORY?[...u,E.payload.url]:u},index:function CS(u=j1,E){switch(E.type){case zd.WJ.ADD:return function gv(u,E){const d=Object.assign({},u[E.payload.name],{[E.payload.key]:E.payload.value});return Object.assign({},u,{[E.payload.name]:d})}(u,E);case zd.WJ.REMOVE_BY_VALUE:return function k1(u,E){const o=u[E.payload.name],d=Object.create(null);for(const x in o)o[x]!==E.payload.value&&(d[x]=o[x]);return Object.assign({},u,{[E.payload.name]:d})}(u,E);case zd.WJ.REMOVE_BY_SUBSTRING:return function bS(u,E){const o=u[E.payload.name],d=Object.create(null);for(const x in o)x.indexOf(E.payload.value)<0&&(d[x]=o[x]);return Object.assign({},u,{[E.payload.name]:d})}(u,E);default:return u}},auth:function fv(u=oS,E){switch(E.type){case z.Yk.AUTHENTICATE:return Object.assign({},u,{error:void 0,loading:!0,info:void 0});case z.Yk.AUTHENTICATED:return Object.assign({},u,{loading:!0,blocking:!0});case z.Yk.CHECK_AUTHENTICATION_TOKEN:case z.Yk.CHECK_AUTHENTICATION_TOKEN_COOKIE:return Object.assign({},u,{loading:!0});case z.Yk.SET_AUTH_COOKIE_STATUS:return Object.assign({},u,{externalAuth:E.payload});case z.Yk.AUTHENTICATED_ERROR:case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_ERROR:return Object.assign({},u,{authenticated:!1,authToken:void 0,error:E.payload.message,loaded:!0,blocking:!1,loading:!1});case z.Yk.AUTHENTICATED_SUCCESS:return Object.assign({},u,{authenticated:!0,authToken:E.payload.authToken});case z.Yk.RETRIEVE_AUTHENTICATED_EPERSON_SUCCESS:return Object.assign({},u,{loaded:!0,error:void 0,loading:!1,blocking:!1,info:void 0,userId:E.payload});case z.Yk.AUTHENTICATE_ERROR:return Object.assign({},u,{authenticated:!1,authToken:void 0,error:E.payload.message,blocking:!1,loading:!1});case z.Yk.AUTHENTICATE_SUCCESS:case z.Yk.LOG_OUT:return u;case z.Yk.LOG_OUT_ERROR:return Object.assign({},u,{authenticated:!0,error:E.payload.message});case z.Yk.REFRESH_TOKEN_ERROR:return Object.assign({},u,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!1,loading:!1,info:void 0,refreshing:!1,userId:void 0});case z.Yk.LOG_OUT_SUCCESS:return Object.assign({},u,{authenticated:!1,authToken:void 0,error:void 0,loaded:!1,blocking:!0,loading:!0,info:void 0,refreshing:!1,userId:void 0});case z.Yk.REDIRECT_AUTHENTICATION_REQUIRED:case z.Yk.REDIRECT_TOKEN_EXPIRED:return Object.assign({},u,{authenticated:!1,authToken:void 0,loaded:!1,blocking:!1,loading:!1,info:E.payload,userId:void 0});case z.Yk.REFRESH_TOKEN:return Object.assign({},u,{refreshing:!0});case z.Yk.REFRESH_TOKEN_SUCCESS:return Object.assign({},u,{authToken:E.payload,refreshing:!1,blocking:!1});case z.Yk.ADD_MESSAGE:return Object.assign({},u,{info:E.payload});case z.Yk.RESET_MESSAGES:return Object.assign({},u,{error:void 0,info:void 0});case z.Yk.RETRIEVE_AUTH_METHODS:return Object.assign({},u,{loading:!0});case z.Yk.RETRIEVE_AUTH_METHODS_SUCCESS:return Object.assign({},u,{loading:!1,blocking:!1,authMethods:E.payload});case z.Yk.RETRIEVE_AUTH_METHODS_ERROR:return Object.assign({},u,{loading:!1,blocking:!1,authMethods:[new uf.q(vd.Q.Password,0)]});case z.Yk.SET_REDIRECT_URL:return Object.assign({},u,{redirectUrl:E.payload});case z.Yk.REDIRECT_AFTER_LOGIN_SUCCESS:return Object.assign({},u,{loading:!0,blocking:!0});case z.Yk.SET_USER_AS_IDLE:return Object.assign({},u,{idle:!0});case z.Yk.UNSET_USER_AS_IDLE:return Object.assign({},u,{idle:!1});case Sa.REHYDRATE:return Object.assign({},u,{blocking:!0});default:return u}},"json/patch":function _v(u=DS,E){switch(E.type){case ao.Ce.COMMIT_JSON_PATCH_OPERATIONS:return function G1(u,E){return(0,V.a4)(u[E.payload.resourceType])&&u[E.payload.resourceType].commitPending?Object.assign({},u,{[E.payload.resourceType]:Object.assign({},u[E.payload.resourceType],{commitPending:!1})}):u}(u,E);case ao.Ce.FLUSH_JSON_PATCH_OPERATIONS:return function vv(u,E){if((0,V.a4)(u[E.payload.resourceType])){let o;return(0,V.EA)(E.payload.resourceId)?o=(0,V.a4)(u[E.payload.resourceType].children)&&(0,V.a4)(u[E.payload.resourceType].children[E.payload.resourceId])?Object.assign({},u[E.payload.resourceType].children,{[E.payload.resourceId]:{body:u[E.payload.resourceType].children[E.payload.resourceId].body.filter(d=>d.timeCompleted>u[E.payload.resourceType].transactionStartTime)}}):u[E.payload.resourceType].children:(o=u[E.payload.resourceType].children,Object.keys(o).forEach(d=>{o=Object.assign({},o,{[d]:{body:o[d].body.filter(x=>x.timeCompleted>u[E.payload.resourceType].transactionStartTime)}})})),Object.assign({},u,{[E.payload.resourceType]:Object.assign({},u[E.payload.resourceType],{children:o,transactionStartTime:null})})}return u}(u,E);case ao.Ce.NEW_JSON_PATCH_ADD_OPERATION:case ao.Ce.NEW_JSON_PATCH_COPY_OPERATION:case ao.Ce.NEW_JSON_PATCH_MOVE_OPERATION:case ao.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:case ao.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:return function lh(u,E){const o=Object.assign({},u),d=function W1(u,E,o){return(0,V.a4)(u[E])&&(0,V.a4)(u[E].children)&&(0,V.a4)(u[E].children[o])&&(0,V.hj)(u[E].children[o].body)}(o,E.payload.resourceType,E.payload.resourceId)?o[E.payload.resourceType].children[E.payload.resourceId].body:Array.of(),x=function Vm(u,E,o,d,x){const ee=Array.from(u);switch(E){case ao.Ce.NEW_JSON_PATCH_ADD_OPERATION:ee.push(xp({op:Yd.add,path:o,value:d}));break;case ao.Ce.NEW_JSON_PATCH_REPLACE_OPERATION:ee.push(xp({op:Yd.replace,path:o,value:d}));break;case ao.Ce.NEW_JSON_PATCH_REMOVE_OPERATION:ee.push(xp({op:Yd.remove,path:o}));break;case ao.Ce.NEW_JSON_PATCH_MOVE_OPERATION:ee.push(xp({op:Yd.move,from:x,path:o}))}return function yv(u){const E=new Map;for(let o=u.length-1;o>=0;o--){const d=u[o].operation,x=`${d.op}-${d.path}`;E.has(x)?E.get(x)-1===o&&(u.splice(o,1),E.set(x,o)):E.set(x,o)}return u}(ee)}(d,E.type,E.payload.path,(0,V.a4)(E.payload.value)?E.payload.value:null,(0,V.a4)(E.payload.from)?E.payload.from:null);return(0,V.a4)(o[E.payload.resourceType])&&(0,V.a4)(o[E.payload.resourceType].children)?Object.assign({},u,{[E.payload.resourceType]:Object.assign({},u[E.payload.resourceType],{children:Object.assign({},u[E.payload.resourceType].children,{[E.payload.resourceId]:{body:x}}),commitPending:!!(0,V.EA)(u[E.payload.resourceType].commitPending)&&u[E.payload.resourceType].commitPending})}):Object.assign({},u,{[E.payload.resourceType]:Object.assign({},{children:{[E.payload.resourceId]:{body:x}},transactionStartTime:null,commitPending:!1})})}(u,E);case ao.Ce.ROLLBACK_JSON_PATCH_OPERATIONS:return function FA(u,E){return(0,V.a4)(u[E.payload.resourceType])&&u[E.payload.resourceType].commitPending?Object.assign({},u,{[E.payload.resourceType]:Object.assign({},u[E.payload.resourceType],{transactionStartTime:null,commitPending:!1})}):u}(u,E);case ao.Ce.START_TRANSACTION_JSON_PATCH_OPERATIONS:return function V1(u,E){return(0,V.a4)(u[E.payload.resourceType])&&(0,V.kZ)(u[E.payload.resourceType].transactionStartTime)?Object.assign({},u,{[E.payload.resourceType]:Object.assign({},u[E.payload.resourceType],{transactionStartTime:E.payload.startTime,commitPending:!0})}):u}(u,E);case ao.Ce.DELETE_PENDING_JSON_PATCH_OPERATIONS:return null;case ao.Ce.FLUSH_JSON_PATCH_OPERATION:return function OS(u,E){const o=E.payload;if(u[o.resourceType]&&u[o.resourceType].children){const d=u[o.resourceType].children[o.resourceId].body,x=d.filter(Ae=>Ae.operation.path===o.path)[0],ee=d.indexOf(x),Se=[...d];return Se.splice(ee,1),Object.assign({},u,{[E.payload.resourceType]:Object.assign({},{children:{[E.payload.resourceId]:{body:Se}}})})}return u}(u,E);default:return u}},metaTag:(u=Ev,E)=>{switch(E.type){case Lp.ADD:return((u,E)=>({tagsInUse:[...u.tagsInUse,E.payload]}))(u,E);case Lp.CLEAR:return Object.assign({},Ev);default:return u}},route:function J1(u=Cv,E){switch(E.type){case Ec.HH.RESET:return Cv;case Ec.HH.SET_PARAMETERS:return Q1(u,E,"params");case Ec.HH.SET_QUERY_PARAMETERS:return Q1(u,E,"queryParams");case Ec.HH.ADD_PARAMETER:return bv(u,E,"params");case Ec.HH.ADD_QUERY_PARAMETER:return bv(u,E,"queryParams");case Ec.HH.SET_PARAMETER:return Z1(u,E,"params");case Ec.HH.SET_QUERY_PARAMETER:return Z1(u,E,"queryParams");default:return u}}};var q1=n(88091),Np=n(59752);let IS=(()=>{class u extends q1.f{constructor(o,d,x){super(),this.document=o,this.routeService=d,this.hardRedirectService=x}getReferrer(){return this.routeService.getHistory().pipe((0,Rt.T)(o=>{const d=o[o.length-1];if((0,V.Tn)(d)||o.every(x=>x===d))return this.document.referrer;{const ee=[...o].reverse().find(Se=>Se!==d);return new Ul.t(this.hardRedirectService.getCurrentOrigin(),ee).toString()}}))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(p.qQ),e.KVO(Zh.v$),e.KVO(Np.$))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();const eC=new e.nKC("Location");let PS=(()=>{class u extends Np.${constructor(o){super(),this.location=o}redirect(o){this.location.replace(o)}getCurrentRoute(){return this.location.pathname+this.location.search}getCurrentOrigin(){return this.location.origin}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(eC))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),RS=(()=>{class u extends xd{constructor(o,d){super(),this._document=o,this._window=d,this.mathJaxOptions={tex:{inlineMath:[["$","$"],["$$","$$"],["\\(","\\)"]]},svg:{fontCache:"global"},startup:{typeset:!1}},this.mathJax={source:"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js",id:"MathJaxScript"},this.mathJaxFallback={source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-chtml.min.js",id:"MathJaxBackupScript"},this.isReady$=new y.t(!1),this.registerMathJaxAsync(this.mathJax).then(()=>this.isReady$.next(!0)).catch(x=>{this.registerMathJaxAsync(this.mathJaxFallback).then(()=>this.isReady$.next(!0))})}registerMathJaxAsync(o){var d=this;return(0,m.A)(function*(){return R.c.markdown.mathjax?new Promise((x,ee)=>{const Se=d._document.createElement("script");Se.type="text/javascript",Se.text=`MathJax = ${JSON.stringify(d.mathJaxOptions)};`,d._document.head.appendChild(Se);const Ae=d._document.createElement("script");Ae.id=o.id,Ae.type="text/javascript",Ae.src=o.source,Ae.crossOrigin="anonymous",Ae.async=!0,Ae.onload=()=>x(),Ae.onerror=ft=>ee(ft),d._document.head.appendChild(Ae)}):Promise.resolve()})()}ready(){return this.isReady$}render(o){if(R.c.markdown.mathjax)return window.MathJax.typesetPromise([o])}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(p.qQ),e.KVO(b.lc))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),AS=(()=>{class u extends id{initXSRFToken(o){return()=>new Promise(d=>{o.get(new ya.F("/security/csrf").toString(),void 0).pipe((0,D.s)(1)).subscribe(()=>{this.tokenInitialized$.next(!0)}),d()})}static{this.\u0275fac=(()=>{let o;return function(x){return(o||(o=e.xGo(u)))(x||u)}})()}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var wS=n(84418),tC=n.n(wS),xS=n(61889),nC=n.n(xS),sC=n(74449),Gm=n(34826),Fp=n(80566);const $m="klaro-anonymous",Wm="google-analytics",rC={storageName:$m,privacyPolicy:"./info/privacy",hideLearnMore:!1,acceptAll:!0,cookieExpiresAfterDays:365,htmlTexts:!0,lang:"zy",translations:{zy:{acceptAll:"cookies.consent.accept-all",acceptSelected:"cookies.consent.accept-selected",close:"cookies.consent.close",consentModal:{title:"cookies.consent.content-modal.title",description:"cookies.consent.content-modal.description"},consentNotice:{changeDescription:"cookies.consent.update",title:"cookies.consent.content-notice.title",description:"cookies.consent.content-notice.description",learnMore:"cookies.consent.content-notice.learnMore"},decline:"cookies.consent.decline",ok:"cookies.consent.ok",poweredBy:"Powered by Klaro!",privacyPolicy:{name:"cookies.consent.content-modal.privacy-policy.name",text:"cookies.consent.content-modal.privacy-policy.text"},purposeItem:{service:"cookies.consent.content-modal.service",services:"cookies.consent.content-modal.services"},purposes:{},save:"cookies.consent.save",service:{disableAll:{description:"cookies.consent.app.disable-all.description",title:"cookies.consent.app.disable-all.title"},optOut:{description:"cookies.consent.app.opt-out.description",title:"cookies.consent.app.opt-out.title"},purpose:"cookies.consent.app.purpose",purposes:"cookies.consent.app.purposes",required:{title:"cookies.consent.app.required.title",description:"cookies.consent.app.required.description"}}}},services:[{name:"authentication",purposes:["functional"],required:!0,cookies:[Aa.R,h.of,h.kL]},{name:"preferences",purposes:["functional"],required:!0,cookies:[Pc.m4]},{name:"acknowledgement",purposes:["functional"],required:!0,cookies:[[/^klaro-.+$/],"dsHasAgreedEndUser"]},{name:Wm,purposes:["statistical"],required:!1,cookies:[[/^_ga.?$/],[/^_gid$/]],onlyOnce:!0},{name:Gm.BA,purposes:["registration-password-recovery"],required:!1,cookies:[Gm.oL],onAccept:"window.refreshCaptchaScript?.call()",onDecline:"window.refreshCaptchaScript?.call()",onlyOnce:!0}]},Km="dspace.agreements.cookies",Tv=new e.nKC("Lazily loaded Klaro",{providedIn:"root",factory:(u=(0,m.A)(function*(){return yield n.e(3628).then(n.t.bind(n,43628,23))}),function(){return u.apply(this,arguments)})});var u;let Hm=(()=>{class u extends Fp.${constructor(o,d,x,ee,Se,Ae){super(),this.translateService=o,this.authService=d,this.ePersonService=x,this.configService=ee,this.cookieService=Se,this.lazyKlaro=Ae,this.GOOGLE_ANALYTICS_KEY="google.analytics.key",this.REGISTRATION_VERIFICATION_ENABLED_KEY="registration.verification.enabled",this.GOOGLE_ANALYTICS_SERVICE_NAME="google-analytics",this.klaroConfig=tC()(rC)}initialize(){R.c.info.enablePrivacyStatement||(delete this.klaroConfig.privacyPolicy,this.klaroConfig.translations.zy.consentNotice.description="cookies.consent.content-notice.description.no-privacy");const o=this.configService.findByPropertyName(this.GOOGLE_ANALYTICS_KEY).pipe((0,ws.qD)(),(0,Rt.T)(Ae=>!Ae.hasSucceeded||!Ae.payload||(0,V.Im)(Ae.payload.values))),d=this.configService.findByPropertyName(this.REGISTRATION_VERIFICATION_ENABLED_KEY).pipe((0,ws.qD)(),(0,Rt.T)(Ae=>!Ae.hasSucceeded||!Ae.payload||(0,V.Im)(Ae.payload.values)||"true"!==Ae.payload.values[0].toLowerCase())),x=(0,us.z)([o,d]).pipe((0,Rt.T)(([Ae,ft])=>{const jt=[];return Ae&&jt.push(this.GOOGLE_ANALYTICS_SERVICE_NAME),ft&&jt.push(Gm.BA),jt}));this.translateService.setDefaultLang(R.c.defaultLanguage);const ee=this.getUser$(),Se=this.translateService.get("loading.default").pipe((0,D.s)(1));(0,us.z)([ee,x,Se]).subscribe(([Ae,ft,jt])=>{Ae=tC()(Ae),(0,V.a4)(Ae)&&this.initializeUser(Ae),this.addAppMessages(),this.translateConfiguration(),this.klaroConfig.services=this.filterConfigServices(ft),this.lazyKlaro.then(({setup:_n})=>_n(this.klaroConfig))})}getSavedPreferences(){return this.getUser$().pipe((0,Rt.T)(o=>{let d;return d=(0,V.Im)(o)?$m:this.getStorageName(o.uuid),this.cookieService.get(d)}))}initializeUser(o){this.klaroConfig.callback=nC()((x,ee)=>this.updateSettingsForUsers(o),300),this.klaroConfig.storageName=this.getStorageName(o.uuid);const d=this.cookieService.get($m);(0,V.a4)(this.getSettingsForUser(o))?this.restoreSettingsForUsers(o):(0,V.a4)(d)&&(this.cookieService.set(this.getStorageName(o.uuid),d),this.updateSettingsForUsers(o))}getUser$(){return this.authService.isAuthenticated().pipe((0,D.s)(1),(0,Vs.n)(o=>o?this.authService.getAuthenticatedUserFromStore():(0,bs.of)(void 0)),(0,D.s)(1))}getTitleTranslation(o){return"cookies.consent.app.title."+o}getDescriptionTranslation(o){return"cookies.consent.app.description."+o}getPurposeTranslation(o){return"cookies.consent.purpose."+o}showSettings(){this.lazyKlaro.then(({show:o})=>o(this.klaroConfig))}addAppMessages(){this.klaroConfig.services.forEach(o=>{this.klaroConfig.translations.zy[o.name]={title:this.getTitleTranslation(o.name),description:this.getDescriptionTranslation(o.name)},o.purposes.forEach(d=>{this.klaroConfig.translations.zy.purposes[d]=this.getPurposeTranslation(d)})})}translateConfiguration(){this.translateService.setDefaultLang(R.c.defaultLanguage),this.translate(this.klaroConfig.translations.zy)}translate(o){return"string"==typeof o?this.translateService.instant(o):(Object.entries(o).forEach(([d,x])=>{o[d]=this.translate(x)}),o)}getSettingsForUser(o){const d=o.firstMetadataValue(Km);return(0,V.a4)(d)?JSON.parse(d):void 0}setSettingsForUser(o,d){(0,V.hj)(d)?o.setMetadata(Km,void 0,JSON.stringify(d)):o.removeMetadata(Km),this.ePersonService.createPatchFromCache(o).pipe((0,D.s)(1),(0,Vs.n)(x=>(0,V.hj)(x)?this.ePersonService.patch(o,x):(0,bs.of)(void 0))).subscribe()}restoreSettingsForUsers(o){this.cookieService.set(this.getStorageName(o.uuid),this.getSettingsForUser(o))}updateSettingsForUsers(o){this.setSettingsForUser(o,this.cookieService.get(this.getStorageName(o.uuid)))}getStorageName(o){return"klaro-"+o}filterConfigServices(o){return this.klaroConfig.services.filter(d=>!o.some(x=>x===d.name))}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(G.c$),e.KVO(h.uR),e.KVO(sC.EPersonDataService),e.KVO(Tr.ConfigurationDataService),e.KVO(hu.O),e.KVO(Tv))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Dv=n(25543);let Bp=(()=>{class u{constructor(o,d,x,ee,Se){this.googleAnalytics=o,this.googleGlobalSiteTag=d,this.klaroService=x,this.configService=ee,this.document=Se}addTrackingIdToPage(){const o=this.configService.findByPropertyName("google.analytics.key").pipe((0,ws.qD)()),d=this.klaroService.getSavedPreferences();(0,us.z)([d,o]).subscribe(([x,ee])=>{if((0,V.Im)(x)||(0,V.Im)(x[Wm])||!x[Wm]||!ee.hasSucceeded)return;const Se=ee.payload.values[0];if(!(0,V.Im)(Se))if(this.isGTagVersion(Se)){const Ae=this.document.createElement("script");Ae.src=`https://www.googletagmanager.com/gtag/js?id=${Se}`,this.document.body.appendChild(Ae);const ft=this.document.createElement("script");ft.innerHTML=`window.dataLayer = window.dataLayer || [];function gtag(){window.dataLayer.push(arguments);}\n                               gtag('js', new Date());gtag('config', '${Se}');`,this.document.body.appendChild(ft),this.googleGlobalSiteTag.startTracking()}else{const Ae=this.document.createElement("script");Ae.innerHTML=`(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n                              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n                              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n                              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n                              ga('create', '${Se}', 'auto');`,this.document.body.appendChild(Ae),this.googleAnalytics.startTracking()}})}isGTagVersion(o){return o&&o.startsWith("G-")}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Eo.Z1),e.KVO(Eo.RH),e.KVO(Fp.$),e.KVO(Tr.ConfigurationDataService),e.KVO(p.qQ))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();var Ov=n(59540);const lC=(0,e.zw6)("NGX_TRANSLATE_STATE");class cC{constructor(E,o,d,x){this.transferState=E,this.http=o,this.prefix=d,this.suffix=x}getTranslation(E){const d=this.transferState.get(lC,{})[E];return(0,V.a4)(d)?(0,bs.of)(d):this.http.get(`${this.prefix}${E}${R.c.production?`.${{"ar.json5":"dbd078a71f57a0ebfad9c5303bcc6128","bn.json5":"ba2d1da4505a1f8178e619fc9e6490e7","ca.json5":"a83fbf4a720de6630d95b36930d1ea47","cs.json5":"07b4a8bd235594762ba3f000dd7453cd","de.json5":"b95a05a13b855b74ee51fa42a47bde14","el.json5":"44ca0d2019cc102da326904e9b089f38","en.json5":"c963fa9985ca4a2657aa61c6db74eec6","es.json5":"6d58d3002dfcd49d0f21f04de72bf47d","fi.json5":"9c5278060564bce82fc5ebd3583404c3","fr.json5":"ccdbed6bff5e75c2849628a304ddfea8","gd.json5":"3bc9f8df9b6ee7e53d5aa0706b780695","hi.json5":"63fa5437f687c50e0194b97dec494f61","hu.json5":"3af9fdc1a654d0514e0bfb3fbf8fbf69","it.json5":"27f4dfa0f7345652d7d6dadd76b49917","ja.json5":"ca46d7f920980545b3bdd6aa7fbe9763","kk.json5":"180219e7dc8d9ad42651838e8f1b83fe","lv.json5":"bba7da6bf941042b8c414c200a5b45e0","nl.json5":"7cc176891621b5da0d69558be11d7d73","pl.json5":"e71049fa740366e7be1a08cd2890d4b4","pt-BR.json5":"ba39c6095907d9746c07a6fdc42c771d","pt-PT.json5":"7447ccf79137eb09634a52bff57b52a3","sr-cyr.json5":"8b1d8baddfa738ac53a58eb968b1736b","sr-lat.json5":"bfeb0119427872cdc3aaa19632e78264","sv.json5":"33c1183ab2158147ebf56a05dcb23e68","sw.json5":"7f19b77a00d2930d9a5cac60d55949e7","tr.json5":"dca8a85af7c266911adf8d53a14d98bd","uk.json5":"796adf811d8fdb4c7a46540f8d8794aa","vi.json5":"39f069f72a959b52ee1f7fbaf95cee7f"}[E+".json5"]}`:""}${this.suffix}`,{responseType:"text"}).pipe((0,Rt.T)(ee=>JSON.parse(ee)))}}var Mv=n(9350);function Iv(u,E){const o="object"==typeof E;return new Promise((d,x)=>{let Se,ee=!1;u.subscribe({next:Ae=>{Se=Ae,ee=!0},error:x,complete:()=>{ee?d(Se):o?d(E.defaultValue):x(new Mv.G)}})})}var Sv=n(47707);var Rv=n(92688);const Up=u=>E=>E.pipe((0,Vs.n)(o=>(0,V.a4)(o)?u.isAuthorized(de._.CanDownload,o.self).pipe((0,Rt.T)(d=>d?o:null)):(0,bs.of)(null))),uC=(0,v.Mz)(P1.N,u=>u.metaTag),Av=(0,v.Mz)(uC,u=>u.tagsInUse);let hC=(()=>{class u{constructor(o,d,x,ee,Se,Ae,ft,jt,_n,dn,ss){this.router=o,this.translate=d,this.meta=x,this.title=ee,this.dsoNameService=Se,this.bundleDataService=Ae,this.rootService=ft,this.store=jt,this.hardRedirectService=_n,this.appConfig=dn,this.authorizationService=ss,this.currentObject=new y.t(void 0),this.CITATION_PDF_URL_MIMETYPES=["application/pdf","application/postscript","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/rtf","application/epub+zip"]}listenForRouteChange(){this.setGenerator(),this.router.events.pipe((0,Fn.p)(o=>o instanceof _.wF),(0,Rt.T)(()=>this.router.routerState.root),(0,Rt.T)(o=>({params:(o=this.getCurrentRoute(o)).params,data:o.data}))).subscribe(o=>{this.processRouteChange(o)})}processRouteChange(o){if(this.clearMetaTags(),(0,V.a4)(o.data.value.dso)&&(0,V.a4)(o.data.value.dso.payload)&&(this.currentObject.next(o.data.value.dso.payload),this.setDSOMetaTags()),o.data.value.title){const d=this.translate.get("repository.title.prefix"),x=this.translate.get(o.data.value.title,o.data.value);(0,us.z)([d,x]).pipe((0,D.s)(1)).subscribe(([ee,Se])=>{this.addMetaTag("title",ee+Se),this.title.setTitle(ee+Se)})}o.data.value.description&&this.translate.get(o.data.value.description).pipe((0,D.s)(1)).subscribe(d=>{this.addMetaTag("description",d)})}getCurrentRoute(o){for(;o.firstChild;)o=o.firstChild;return o}setDSOMetaTags(){this.setTitleTag(),this.setDescriptionTag(),this.setCitationTitleTag(),this.setCitationAuthorTags(),this.setCitationPublicationDateTag(),this.setCitationISSNTag(),this.setCitationISBNTag(),this.setCitationLanguageTag(),this.setCitationKeywordsTag(),this.setCitationAbstractUrlTag(),this.setCitationPdfUrlTag(),this.setCitationPublisherTag(),this.isDissertation()&&this.setCitationDissertationNameTag()}setTitleTag(){const o=this.dsoNameService.getName(this.currentObject.getValue());this.addMetaTag("title",o),this.title.setTitle(o)}setDescriptionTag(){const o=this.getMetaTagValue("dc.description.abstract");this.addMetaTag("description",o)}setCitationTitleTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_title",o)}setCitationAuthorTags(){const o=this.getMetaTagValues(["dc.author","dc.contributor.author","dc.creator"]);this.addMetaTags("citation_author",o)}setCitationPublicationDateTag(){const o=this.getFirstMetaTagValue(["dc.date.copyright","dc.date.issued","dc.date.available","dc.date.accessioned"]);this.addMetaTag("citation_publication_date",o)}setCitationISSNTag(){const o=this.getMetaTagValue("dc.identifier.issn");this.addMetaTag("citation_issn",o)}setCitationISBNTag(){const o=this.getMetaTagValue("dc.identifier.isbn");this.addMetaTag("citation_isbn",o)}setCitationLanguageTag(){const o=this.getFirstMetaTagValue(["dc.language","dc.language.iso"]);this.addMetaTag("citation_language",o)}setCitationDissertationNameTag(){const o=this.getMetaTagValue("dc.title");this.addMetaTag("citation_dissertation_name",o)}setCitationPublisherTag(){const o=this.getMetaTagValue("dc.publisher");this.isDissertation()?this.addMetaTag("citation_dissertation_institution",o):this.isTechReport()?this.addMetaTag("citation_technical_report_institution",o):this.addMetaTag("citation_publisher",o)}setCitationKeywordsTag(){const o=this.getMetaTagValuesAndCombine("dc.subject");this.addMetaTag("citation_keywords",o)}setCitationAbstractUrlTag(){if(this.currentObject.value instanceof hl.q){let o=this.getMetaTagValue("dc.identifier.uri");(0,V.Tn)(o)&&(o=new Ul.t(this.hardRedirectService.getCurrentOrigin(),this.router.url).toString()),this.addMetaTag("citation_abstract_html_url",o)}}setCitationPdfUrlTag(){this.currentObject.value instanceof hl.q&&this.bundleDataService.findByItemAndName(this.currentObject.value,"ORIGINAL",!0,!0,new Ry._,(0,js.s)("primaryBitstream"),(0,js.s)("bitstreams",{findListOptions:{elementsPerPage:this.appConfig.item.bitstream.pageSize}},(0,js.s)("format"))).pipe((0,ws.ak)(),(0,Vs.n)(d=>d.primaryBitstream.pipe((0,ws.qD)(),(0,Rt.T)(x=>(0,V.a4)(x.payload)?x.payload:null),Up(this.authorizationService),(0,Rt.T)(x=>[d,x]))),(0,Vs.n)(([d,x])=>(0,V.a4)(x)?[(0,Ur.hV)(x)]:d.bitstreams.pipe((0,ws.qD)(),(0,Vs.n)(ee=>(0,V.a4)(ee.payload)&&1===ee.payload.totalElements?this.getBitLinkIfDownloadable(ee.payload.page[0],ee):this.getFirstAllowedFormatBitstreamLink(ee)))),(0,D.s)(1)).subscribe(d=>{this.addMetaTag("citation_pdf_url",new Ul.t(this.hardRedirectService.getCurrentOrigin(),d).toString())})}getBitLinkIfDownloadable(o,d){return(0,bs.of)(o).pipe(Up(this.authorizationService),(0,Vs.n)(x=>(0,V.a4)(x)?[(0,Ur.hV)(x)]:this.getFirstAllowedFormatBitstreamLink(d)))}getFirstAllowedFormatBitstreamLink(o){return(0,V.a4)(o.payload)&&(0,V.hj)(o.payload.page)?(0,Rv.x)(...o.payload.page.map(d=>d.format.pipe((0,ws.ak)(),(0,Rt.T)(x=>[d,x])))).pipe((0,zn.Z)(([d,x])=>(0,bs.of)(d).pipe(Up(this.authorizationService),(0,Rt.T)(ee=>[ee,x]))),(0,Fn.p)(([d,x])=>(0,V.a4)(x)&&(0,V.a4)(d)&&this.CITATION_PDF_URL_MIMETYPES.includes(x.mimetype)),(0,D.s)(1),(0,Rt.T)(([d,x])=>(0,Ur.hV)(d))):Io.w}setGenerator(){this.rootService.findRoot().pipe((0,ws.ak)()).subscribe(o=>{this.meta.addTag({name:"Generator",content:o.dspaceVersion})})}hasType(o){return this.currentObject.value.hasMetadata("dc.type",{value:o,ignoreCase:!0})}isDissertation(){return this.hasType("thesis")}isTechReport(){return this.hasType("technical report")}getMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getFirstMetaTagValue(o){return this.currentObject.value.firstMetadataValue(o)}getMetaTagValuesAndCombine(o){return this.getMetaTagValues([o]).join("; ")}getMetaTagValues(o){return this.currentObject.value.allMetadataValues(o)}addMetaTag(o,d){d&&(this.meta.addTag({name:o,content:d}),this.storeTag(o))}addMetaTags(o,d){for(const x of d)this.addMetaTag(o,x)}storeTag(o){this.store.dispatch(new K1(o))}clearMetaTags(){this.store.pipe((0,v.Lt)(Av),(0,D.s)(1)).subscribe(o=>{for(const d of o)this.meta.removeTag("name='"+d+"'");this.store.dispatch(new H1)})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(_.Ix),e.KVO(G.c$),e.KVO(f.W8),e.KVO(f.hE),e.KVO(Rs.f),e.KVO(TE.BundleDataService),e.KVO(Un.RootDataService),e.KVO(v.il),e.KVO(Np.$),e.KVO(ti.vQ),e.KVO(Wr.AuthorizationDataService))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var pC=n(87152),wv=n(60654),US=n(20930),fC=n(43733);const jS=new hi.v("duplicate");var mC=n(17860),kS=n(61196),VS=n(54949),zm=n(6291);const gC=new hi.v("feedback");var _C=n(1259),vC=n(51934),yC=n(178),EC=n(71077),CC=n(88985),bC=n(96470),GS=n(92174),$S=n(87369),WS=n(2527),KS=n(72364),jp=n(39147),TC=n(49623),DC=n(17133),OC=n(80284),xv=n(84276);let Gl=class extends ec.I{static{this.type=new hi.v("correctiontype")}};(0,Ue.Cg)([gr.aK,hn.autoserialize,(0,Ue.Sn)("design:type",hi.v)],Gl.prototype,"type",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Gl.prototype,"id",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Gl.prototype,"topic",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Gl.prototype,"discoveryConfiguration",void 0),(0,Ue.Cg)([hn.autoserialize,(0,Ue.Sn)("design:type",String)],Gl.prototype,"creationForm",void 0),(0,Ue.Cg)([hn.deserialize,(0,Ue.Sn)("design:type",Object)],Gl.prototype,"_links",void 0),Gl=(0,Ue.Cg)([ci.gV],Gl);var MC=n(92946),IC=n(22822),BA=n(26147);const UA=new Map([[M0.value,()=>Promise.resolve().then(n.bind(n,65007)).then(u=>u.AuthorizationDataService)],[$S.z.value,()=>Promise.resolve().then(n.bind(n,42673)).then(u=>u.BrowseDefinitionDataService)],[va.XI.value,()=>n.e(2719).then(n.bind(n,82719)).then(u=>u.BulkAccessConfigDataService)],[vC.M.value,()=>n.e(8290).then(n.bind(n,58290)).then(u=>u.MetadataSchemaDataService)],[va.V_.value,()=>n.e(1345).then(n.bind(n,51345)).then(u=>u.SubmissionUploadsConfigDataService)],[bC.e.value,()=>Promise.resolve().then(n.bind(n,42578)).then(u=>u.BitstreamDataService)],[va.NS.value,()=>n.e(4319).then(n.bind(n,4319)).then(u=>u.SubmissionAccessesConfigDataService)],[kS.B.value,()=>Promise.resolve().then(n.bind(n,27795)).then(u=>u.SystemWideAlertDataService)],[xv.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(u=>u.UsageReportDataService)],[vf.E.value,()=>Promise.resolve().then(n.bind(n,45022)).then(u=>u.AccessStatusDataService)],[R0.n.value,()=>Promise.resolve().then(n.bind(n,6983)).then(u=>u.CollectionDataService)],[IC.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(u=>u.ClaimedTaskDataService)],[Fc.mt.value,()=>Promise.resolve().then(n.bind(n,70413)).then(u=>u.HrefOnlyDataService)],[TC.N.value,()=>Promise.resolve().then(n.bind(n,70413)).then(u=>u.HrefOnlyDataService)],[bf.m.value,()=>Promise.resolve().then(n.bind(n,70413)).then(u=>u.HrefOnlyDataService)],[mC.m.value,()=>n.e(2355).then(n.bind(n,62355)).then(u=>u.SubscriptionsDataService)],[KS.G.value,()=>Promise.resolve().then(n.bind(n,46660)).then(u=>u.CommunityDataService)],[Fc.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(u=>u.VocabularyDataService)],[WS.d.value,()=>Promise.resolve().then(n.bind(n,81443)).then(u=>u.BundleDataService)],[S0.value,()=>Promise.resolve().then(n.bind(n,8917)).then(u=>u.ConfigurationDataService)],[BA.T.value,()=>Promise.resolve().then(n.bind(n,28515)).then(u=>u.PoolTaskDataService)],[IC.a.value,()=>Promise.resolve().then(n.bind(n,12532)).then(u=>u.ClaimedTaskDataService)],[Rd.T.value,()=>Promise.resolve().then(n.bind(n,66129)).then(u=>u.SupervisionOrderDataService)],[zm.l.value,()=>Promise.resolve().then(n.bind(n,24261)).then(u=>u.WorkspaceitemDataService)],[VS.z.value,()=>Promise.resolve().then(n.bind(n,52837)).then(u=>u.WorkflowItemDataService)],[Fc.Hx.value,()=>Promise.resolve().then(n.bind(n,59081)).then(u=>u.VocabularyDataService)],[Fc.cK.value,()=>Promise.resolve().then(n.bind(n,75955)).then(u=>u.VocabularyEntryDetailsDataService)],[cD.value,()=>n.e(9914).then(n.bind(n,79914)).then(u=>u.SubmissionCcLicenseUrlDataService)],[MC.Q.value,()=>n.e(3138).then(n.bind(n,73138)).then(u=>u.SubmissionCcLicenseDataService)],[xv.N.value,()=>n.e(2076).then(n.bind(n,41516)).then(u=>u.UsageReportDataService)],[CC.O.value,()=>n.e(5521).then(n.bind(n,25521)).then(u=>u.ResourcePolicyDataService)],[EC.T.value,()=>Promise.resolve().then(n.bind(n,98926)).then(u=>u.ResearcherProfileDataService)],[D0.value,()=>n.e(2076).then(n.bind(n,53067)).then(u=>u.OrcidQueueDataService)],[Og.value,()=>n.e(2076).then(n.bind(n,52326)).then(u=>u.OrcidHistoryDataService)],[gC.value,()=>n.e(2076).then(n.bind(n,10241)).then(u=>u.FeedbackDataService)],[Kg.U.value,()=>Promise.resolve().then(n.bind(n,44494)).then(u=>u.GroupDataService)],[yf.N.value,()=>Promise.resolve().then(n.bind(n,74449)).then(u=>u.EPersonDataService)],[F0.f.value,()=>Promise.resolve().then(n.bind(n,52749)).then(u=>u.WorkflowActionDataService)],[_u.s.value,()=>n.e(3860).then(n.bind(n,93860)).then(u=>u.VersionHistoryDataService)],[P0.value,()=>Promise.resolve().then(n.bind(n,5090)).then(u=>u.SiteDataService)],[v0.value,()=>Promise.resolve().then(n.bind(n,29443)).then(u=>u.RootDataService)],[OC.U.value,()=>Promise.resolve().then(n.bind(n,38096)).then(u=>u.RelationshipTypeDataService)],[DC.X.value,()=>Promise.resolve().then(n.bind(n,48833)).then(u=>u.RelationshipDataService)],[fC.M.value,()=>Promise.resolve().then(n.bind(n,32736)).then(u=>u.ScriptDataService)],[US.A.value,()=>n.e(2076).then(n.bind(n,87414)).then(u=>u.ProcessDataService)],[_C.R.value,()=>n.e(2151).then(n.bind(n,22151)).then(u=>u.MetadataFieldDataService)],[wc.U.value,()=>Promise.resolve().then(n.bind(n,29326)).then(u=>u.ItemDataService)],[w0.x.value,()=>n.e(1783).then(n.bind(n,81783)).then(u=>u.VersionDataService)],[p0.f.value,()=>n.e(2076).then(n.bind(n,90378)).then(u=>u.IdentifierDataService)],[Ef.value,()=>Promise.resolve().then(n.bind(n,65007)).then(u=>u.AuthorizationDataService)],[jp.X.value,()=>Promise.resolve().then(n.bind(n,13989)).then(u=>u.DSpaceObjectDataService)],[GS.a.value,()=>Promise.resolve().then(n.bind(n,4856)).then(u=>u.BitstreamFormatDataService)],[m0.value,()=>n.e(9184).then(n.bind(n,69184)).then(u=>u.CoarNotifyConfigDataService)],[Rc.tc.value,()=>n.e(2076).then(n.bind(n,16734)).then(u=>u.LdnItemfiltersService)],[Rc.zd.value,()=>Promise.resolve().then(n.bind(n,68630)).then(u=>u.LdnServicesService)],[wv.g.value,()=>Promise.resolve().then(n.bind(n,88857)).then(u=>u.AdminNotifyMessagesService)],[va.KX.value,()=>n.e(3928).then(n.bind(n,43928)).then(u=>u.SubmissionFormsConfigDataService)],[pf.value,()=>n.e(9380).then(n.bind(n,69380)).then(u=>u.NotifyRequestsStatusDataService)],[bg.value,()=>n.e(7450).then(n.bind(n,27450)).then(u=>u.QualityAssuranceEventDataService)],[Tg.value,()=>Promise.resolve().then(n.bind(n,61723)).then(u=>u.QualityAssuranceSourceDataService)],[b0.value,()=>Promise.resolve().then(n.bind(n,31936)).then(u=>u.QualityAssuranceTopicDataService)],[yC.P.value,()=>Promise.resolve().then(n.bind(n,96687)).then(u=>u.SuggestionDataService)],[T0.value,()=>n.e(3371).then(n.bind(n,43371)).then(u=>u.SuggestionSourceDataService)],[Dg.value,()=>Promise.resolve().then(n.bind(n,94791)).then(u=>u.SuggestionTargetDataService)],[jS.value,()=>Promise.resolve().then(n.bind(n,69723)).then(u=>u.SubmissionDuplicateDataService)],[Gl.type.value,()=>n.e(5447).then(n.bind(n,75447)).then(u=>u.CorrectionTypeDataService)]]),rd=(u,E)=>[u,E];function SC(u,E){if(1&u){const o=e.RV6();e.j41(0,"label",3)(1,"input",4),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){const ee=e.eBV(o).$implicit,Se=e.XpG();return e.Njj(Se.onCheckboxChange(x,ee))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.nrm(2,"span",5),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG();e.Y8G("hidden",o.hidden)("ngClass",d.getClass("element","control",o)),e.R7$(),e.Y8G("checked",o.checked)("formControlName",o.id)("id",d.getCheckboxId(o))("name",o.name)("required",o.required)("tabindex",o.tabIndex)("value",o.value),e.R7$(),e.Y8G("ngClass",d.getClass("element","label",o))("innerHTML",o.label,e.npT)}}function zS(u,E){if(1&u&&(e.j41(0,"div",6),e.nrm(1,"span",7),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.prefix,e.npT)}}function kp(u,E){if(1&u){const o=e.RV6();e.j41(0,"input",8),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s()}if(2&u){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function PC(u,E){if(1&u){const o=e.RV6();e.j41(0,"input",9),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s()}if(2&u){const o=e.XpG();e.AVh("is-invalid",o.showErrorMessages),e.Y8G("autocomplete",o.model.autoComplete)("autofocus",o.model.autoFocus)("dynamicList",o.model.listId)("formControlName",o.model.id)("id",o.id)("maxlength",o.model.maxLength)("minlength",o.model.minLength)("name",o.model.name)("ngClass",o.getClass("element","control"))("pattern",o.model.pattern)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("required",o.model.required)("spellcheck",o.model.spellCheck)("tabindex",o.model.tabIndex)("mask",o.model.mask)("specialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.specialCharacters)("patterns",null==o.model.maskConfig?null:o.model.maskConfig.patterns)("prefix",null==o.model.maskConfig?null:o.model.maskConfig.prefix)("suffix",null==o.model.maskConfig?null:o.model.maskConfig.suffix)("thousandSeparator",null==o.model.maskConfig?null:o.model.maskConfig.thousandSeparator)("decimalMarker",null==o.model.maskConfig?null:o.model.maskConfig.decimalMarker)("dropSpecialCharacters",null==o.model.maskConfig?null:o.model.maskConfig.dropSpecialCharacters)("hiddenInput",null==o.model.maskConfig?null:o.model.maskConfig.hiddenInput)("showMaskTyped",null==o.model.maskConfig?null:o.model.maskConfig.showMaskTyped)("placeHolderCharacter",null==o.model.maskConfig?null:o.model.maskConfig.placeHolderCharacter)("shownMaskExpression",null==o.model.maskConfig?null:o.model.maskConfig.shownMaskExpression)("showTemplate",null==o.model.maskConfig?null:o.model.maskConfig.showTemplate)("clearIfNotMatch",o.model.maskConfig.clearIfNotMatch)("validation",o.model.maskConfig.validation)("separatorLimit",o.model.maskConfig.separatorLimit)("allowNegativeNumbers",o.model.maskConfig.allowNegativeNumbers)("leadZeroDateTime",o.model.maskConfig.leadZeroDateTime)("type",o.model.inputType),e.BMQ("accept",o.model.accept)("max",o.model.max)("min",o.model.min)("multiple",o.model.multiple)("step",o.model.step)}}function YS(u,E){if(1&u&&(e.j41(0,"div",10),e.nrm(1,"span",7),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.Y8G("innerHTML",o.model.suffix,e.npT)}}function XS(u,E){1&u&&e.nrm(0,"option",13),2&u&&e.Y8G("value",E.$implicit)}function Ea(u,E){if(1&u&&(e.j41(0,"datalist",11),e.DNE(1,XS,1,1,"option",12),e.nI1(2,"async"),e.k0s()),2&u){const o=e.XpG();e.Y8G("id",o.model.listId),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,o.model.list$))}}function ch(u,E){if(1&u&&e.nrm(0,"legend",4),2&u){const o=e.XpG();e.Y8G("innerHTML",o.model.legend,e.npT)}}function JS(u,E){if(1&u){const o=e.RV6();e.j41(0,"label",5)(1,"input",6),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.nrm(2,"span",4),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG();e.Y8G("ngClass",e.l_i(5,rd,d.getClass("element","option"),d.getClass("grid","option"))),e.R7$(),e.Y8G("disabled",o.disabled)("name",d.model.name)("value",o.value),e.R7$(),e.Y8G("innerHTML",o.label,e.npT)}}function QS(u,E){if(1&u&&(e.j41(0,"option",3),e.EFF(1),e.k0s()),2&u){const o=E.$implicit;e.Y8G("disabled",o.disabled)("ngValue",o.value),e.R7$(),e.JRh(o.label)}}let qS=(()=>{class u extends Ss.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(X.I5))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-calendar"]],viewQuery:function(o,d){if(1&o&&e.GBs(X.yB,7),2&o){let x;e.mGM(x=e.lsd())&&(d.ngbCalendar=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:13,consts:[[3,"formGroup"],[3,"select","displayMonths","firstDayOfWeek","formControlName","id","maxDate","minDate","navigation","ngClass","outsideDays","showWeekNumbers","weekdays","startDate"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"ngb-datepicker",1),e.bIt("select",function(ee){return d.onChange(ee)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("displayMonths",d.model.getAdditional("displayMonths",d.config.displayMonths))("firstDayOfWeek",d.model.getAdditional("firstDayOfWeek",d.config.firstDayOfWeek))("formControlName",d.model.id)("id",d.id)("maxDate",d.model.max)("minDate",d.model.min)("navigation",d.model.getAdditional("navigation",d.config.navigation))("ngClass",d.getClass("element","control"))("outsideDays",d.model.getAdditional("outsideDays",d.config.outsideDays))("showWeekNumbers",d.model.getAdditional("showWeekNumbers",d.config.showWeekNumbers))("weekdays",d.model.getAdditional("showWeekdays",d.config.weekdays))("startDate",d.model.focusedDate))},dependencies:[p.YU,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.yB],encapsulation:2,changeDetection:0}),u})(),Xm=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-checkbox"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:19,consts:[[1,"form-check",3,"formGroup"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"blur","change","focus","checked","formControlName","id","indeterminate","name","ngClass","required","tabindex","value"],[3,"innerHTML","ngClass"]],template:function(o,d){1&o&&(e.j41(0,"div",0)(1,"label",1)(2,"input",2),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.k0s(),e.nrm(3,"span",3),e.k0s()()),2&o&&(e.AVh("disabled",d.model.disabled),e.Y8G("formGroup",d.group),e.R7$(2),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("checked",d.model.checked)("formControlName",d.model.id)("id",d.id)("indeterminate",d.model.indeterminate)("name",d.model.name)("ngClass",d.getClass("element","control"))("required",d.model.required)("tabindex",d.model.tabIndex)("value",d.model.value),e.R7$(),e.Y8G("innerHTML",d.model.label,e.npT)("ngClass",e.l_i(16,rd,d.getClass("element","label"),d.getClass("grid","label"))))},dependencies:[p.YU,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD],encapsulation:2}),u})(),LC=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}getCheckboxId(o){return this.layoutService.getElementId(o)}onCheckboxChange(o,d){this.onChange(o),d.value=o.target.checked}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-checkbox-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:3,vars:5,consts:[[3,"formGroup"],["data-toggle","buttons",1,"btn-group","btn-group-toggle",3,"formGroupName","id","ngClass"],["ngbButtonLabel","",3,"hidden","ngClass",4,"ngFor","ngForOf"],["ngbButtonLabel","",3,"hidden","ngClass"],["type","checkbox","ngbButton","",3,"blur","change","focus","checked","formControlName","id","name","required","tabindex","value"],[3,"ngClass","innerHTML"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.DNE(2,SC,3,11,"label",2),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("formGroupName",d.model.id)("id",d.id)("ngClass",d.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",d.model.group))},dependencies:[p.YU,p.Sq,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD,Nn.$R,X.so,X.b7],encapsulation:2,changeDetection:0}),u})(),Xd=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-input"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:7,vars:8,consts:[["maskedInput",""],[3,"formGroup"],["class","input-group-prepend",4,"ngIf"],["class","form-control-file",3,"autocomplete","autofocus","is-invalid","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type","blur","change","focus",4,"ngIf","ngIfElse"],["class","input-group-append",4,"ngIf"],[3,"id",4,"ngIf"],[1,"input-group-prepend"],[1,"input-group-text",3,"innerHTML"],[1,"form-control-file",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","type"],[1,"form-control",3,"blur","change","focus","autocomplete","autofocus","dynamicList","formControlName","id","maxlength","minlength","name","ngClass","pattern","placeholder","readonly","required","spellcheck","tabindex","mask","specialCharacters","patterns","prefix","suffix","thousandSeparator","decimalMarker","dropSpecialCharacters","hiddenInput","showMaskTyped","placeHolderCharacter","shownMaskExpression","showTemplate","clearIfNotMatch","validation","separatorLimit","allowNegativeNumbers","leadZeroDateTime","type"],[1,"input-group-append"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,d){if(1&o&&(e.j41(0,"div",1),e.DNE(1,zS,2,1,"div",2)(2,kp,1,23,"input",3)(3,PC,1,41,"ng-template",null,0,e.C5r)(5,YS,2,1,"div",4)(6,Ea,3,4,"datalist",5),e.k0s()),2&o){const x=e.sdS(4);e.AVh("input-group",d.model.prefix||d.model.suffix),e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("ngIf",d.model.prefix),e.R7$(),e.Y8G("ngIf","file"===d.model.inputType)("ngIfElse",x),e.R7$(3),e.Y8G("ngIf",d.model.suffix),e.R7$(),e.Y8G("ngIf",d.model.hasList)}},dependencies:[p.YU,p.Sq,p.bT,Nn.xH,Nn.y7,Nn.me,Nn.BC,Nn.cb,Nn.YS,Nn.xh,Nn.tU,Nn.R_,Nn.j4,Nn.JD,Hl.I0,Ss.Vne,p.Jj],encapsulation:2}),u})(),FC=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-radio-group"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:5,vars:9,consts:[[3,"formGroup"],["ngbRadioGroup","","role","radiogroup",1,"btn-group","btn-group-toggle",3,"change","formControlName","id","ngClass","tabindex"],[3,"innerHTML",4,"ngIf"],["ngbButtonLabel","",3,"ngClass",4,"ngFor","ngForOf"],[3,"innerHTML"],["ngbButtonLabel","",3,"ngClass"],["type","radio","ngbButton","",3,"blur","focus","disabled","name","value"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"div",1),e.bIt("change",function(ee){return d.onChange(ee)}),e.DNE(2,ch,1,1,"legend",2)(3,JS,3,8,"label",3),e.nI1(4,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("formControlName",d.model.id)("id",d.id)("ngClass",d.getClass("element","control"))("tabindex",d.model.tabIndex),e.R7$(),e.Y8G("ngIf",d.model.legend),e.R7$(),e.Y8G("ngForOf",e.bMT(4,7,d.model.options$)))},dependencies:[p.YU,p.Sq,p.bT,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.so,X.M0,X.px,p.Jj],encapsulation:2,changeDetection:0}),u})(),Jm=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-select"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:4,vars:13,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","compareWith","formControlName","id","name","ngClass","required","tabindex"],[3,"disabled","ngValue",4,"ngFor","ngForOf"],[3,"disabled","ngValue"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"select",1),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.DNE(2,QS,2,3,"option",2),e.nI1(3,"async"),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("compareWith",d.model.compareWithFn)("formControlName",d.model.id)("id",d.id)("name",d.model.name)("ngClass",d.getClass("element","control"))("required",d.model.required)("tabindex",d.model.tabIndex),e.R7$(),e.Y8G("ngForOf",e.bMT(3,11,d.model.options$)))},dependencies:[p.YU,p.Sq,Nn.xH,Nn.y7,Nn.wz,Nn.BC,Nn.cb,Nn.YS,Nn.j4,Nn.JD,p.Jj],encapsulation:2}),u})(),UC=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-textarea"]],inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:17,consts:[[3,"formGroup"],[1,"form-control",3,"blur","change","focus","cols","formControlName","id","maxlength","minlength","name","ngClass","placeholder","readonly","required","rows","spellcheck","tabindex","wrap"]],template:function(o,d){1&o&&(e.qex(0,0),e.j41(1,"textarea",1),e.bIt("blur",function(ee){return d.onBlur(ee)})("change",function(ee){return d.onChange(ee)})("focus",function(ee){return d.onFocus(ee)}),e.k0s(),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.AVh("is-invalid",d.showErrorMessages),e.Y8G("cols",d.model.cols)("formControlName",d.model.id)("id",d.id)("maxlength",d.model.maxLength)("minlength",d.model.minLength)("name",d.model.name)("ngClass",d.getClass("element","control"))("placeholder",d.model.placeholder)("readonly",d.model.readOnly)("required",d.model.required)("rows",d.model.rows)("spellcheck",d.model.spellCheck)("tabindex",d.model.tabIndex)("wrap",d.model.wrap))},dependencies:[p.YU,Nn.me,Nn.BC,Nn.cb,Nn.YS,Nn.xh,Nn.tU,Nn.j4,Nn.JD],encapsulation:2}),u})(),jC=(()=>{class u extends Ss.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}}return u.\u0275fac=function(o){return new(o||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(X.Ng))},u.\u0275cmp=e.VBU({type:u,selectors:[["dynamic-ng-bootstrap-timepicker"]],viewQuery:function(o,d){if(1&o&&e.GBs(X.Pe,7),2&o){let x;e.mGM(x=e.lsd())&&(d.ngbTimePicker=x.first)}},inputs:{formLayout:"formLayout",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},features:[e.Vt3],decls:2,vars:11,consts:[[3,"formGroup"],[3,"id","formControlName","hourStep","meridian","minuteStep","ngClass","seconds","secondStep","size","spinners"]],template:function(o,d){1&o&&(e.qex(0,0),e.nrm(1,"ngb-timepicker",1),e.bVm()),2&o&&(e.Y8G("formGroup",d.group),e.R7$(),e.Y8G("id",d.id)("formControlName",d.model.id)("hourStep",d.model.getAdditional("hourStep",d.config.hourStep))("meridian",d.model.meridian)("minuteStep",d.model.getAdditional("minuteStep",d.config.minuteStep))("ngClass",d.getClass("element","control"))("seconds",d.model.showSeconds)("secondStep",d.model.getAdditional("secondStep",d.config.secondStep))("size",d.model.getAdditional("size",d.config.size))("spinners",d.model.getAdditional("spinners",d.config.spinners)))},dependencies:[p.YU,Nn.BC,Nn.cb,Nn.j4,Nn.JD,X.Pe],encapsulation:2,changeDetection:0}),u})();var Jd=n(56899),Qd=n(52717),VC=n(25488),GC=n(10460);n(8590);const Fv=(u,E)=>[u,E];function $C(u,E){1&u&&e.eu8(0)}function WC(u,E){if(1&u){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",11),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onBlur(x))})("dfChange",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onChange(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onFocus(x))})("ngbEvent",function(x){e.eBV(o);const ee=e.XpG(2);return e.Njj(ee.onCustomEvent(x,null,!0))}),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG().$implicit,x=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("bindId",!1)("formGroup",x.group)("formModel",x.formModel)("context",d)("group",x.getControlOfGroup(d))("hidden",o.hidden)("layout",x.formLayout)("model",o)("templates",x.templates)("ngClass",e.l_i(12,Fv,x.getClass("element","host",o),x.getClass("grid","host",o)))}}function rP(u,E){1&u&&e.eu8(0)}function oP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",6,1)(2,"div",7),e.bIt("focus",function(){e.eBV(o);const x=e.sdS(1),ee=e.XpG();return e.Njj(ee.addInstructionMessageToLiveRegion(x))})("keydown.space",function(x){const ee=e.eBV(o),Se=ee.index,Ae=ee.count,ft=e.sdS(1),jt=e.XpG();return e.Njj(jt.toggleKeyboardDragAndDrop(x,ft,Se,Ae))})("keydown.enter",function(x){const ee=e.eBV(o),Se=ee.index,Ae=ee.count,ft=e.sdS(1),jt=e.XpG();return e.Njj(jt.toggleKeyboardDragAndDrop(x,ft,Se,Ae))})("keydown.tab",function(){const x=e.eBV(o),ee=x.index,Se=x.count,Ae=e.sdS(1),ft=e.XpG();return e.Njj(ft.stopKeyboardDragAndDrop(Ae,ee,Se))})("keydown.escape",function(){const x=e.eBV(o),ee=x.index,Se=x.count,Ae=e.sdS(1),ft=e.XpG();return e.Njj(ft.cancelKeyboardDragAndDrop(Ae,ee,Se))})("keydown.arrowUp",function(x){const ee=e.eBV(o),Se=ee.index,Ae=ee.count,ft=e.XpG(),jt=e.sdS(3);return e.Njj(ft.handleArrowPress(x,jt,Ae,Se,"up"))})("keydown.arrowDown",function(x){const ee=e.eBV(o),Se=ee.index,Ae=ee.count,ft=e.XpG(),jt=e.sdS(3);return e.Njj(ft.handleArrowPress(x,jt,Ae,Se,"down"))}),e.nrm(3,"i",8),e.k0s(),e.DNE(4,$C,1,0,"ng-container",9)(5,WC,1,15,"ds-dynamic-form-control-container",10)(6,rP,1,0,"ng-container",9),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG();e.AVh("grey-background",d.model.isInlineGroupArray),e.Y8G("formGroupName",o.index)("ngClass",e.l_i(15,Fv,d.getClass("element","group"),d.getClass("grid","group")))("cdkDragDisabled",d.dragDisabled)("cdkDragPreviewClass","ds-submission-reorder-dragging"),e.R7$(2),e.AVh("drag-disable",d.dragDisabled),e.R7$(),e.AVh("drag-disable",d.dragDisabled),e.R7$(),e.Y8G("ngTemplateOutlet",null==d.startTemplate?null:d.startTemplate.templateRef)("ngTemplateOutletContext",o),e.R7$(),e.Y8G("ngForOf",o.group),e.R7$(),e.Y8G("ngTemplateOutlet",null==d.endTemplate?null:d.endTemplate.templateRef)("ngTemplateOutletContext",o)}}let zA=(()=>{class u extends Ss.mEL{constructor(o,d,x,ee){super(o,d),this.layoutService=o,this.validationService=d,this.liveRegionService=x,this.translateService=ee,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}moveSelection(o){if(o.previousIndex===o.currentIndex)return;this.model.moveGroup(o.previousIndex,o.currentIndex-o.previousIndex);const d=o.previousIndex,x=o.currentIndex;(0,V.a4)(this.model.groups[x])&&(0,V.a4)(this.control.controls[x])&&this.onCustomEvent({previousIndex:d,index:x,arrayModel:this.model,model:this.model.groups[x].group[0],control:this.control.controls[x]},"move")}update(o,d){const x=Object.assign({},o,{context:{index:d-1}});this.onChange(x)}get dragDisabled(){return 1===this.model.groups.length||!this.model.isDraggable}getControlOfGroup(o){return o.hasOwnProperty("startingIndex")||(o.startingIndex=o.index),this.control.get([o.startingIndex])}toggleKeyboardDragAndDrop(o,d,x,ee){o.preventDefault(),this.elementBeingSorted?this.stopKeyboardDragAndDrop(d,x,ee):(d.classList.add("sorting-with-keyboard"),this.elementBeingSorted=d,this.elementBeingSortedStartingIndex=x,this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.status",{itemName:d.querySelector("input")?.value,index:x+1,length:ee})))}stopKeyboardDragAndDrop(o,d,x){this.elementBeingSorted?.classList.remove("sorting-with-keyboard"),this.liveRegionService.clear(),this.elementBeingSorted&&(this.elementBeingSorted=null,this.elementBeingSortedStartingIndex=null,this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.dropped",{itemName:o.querySelector("input")?.value,index:d+1,length:x})))}handleArrowPress(o,d,x,ee,Se){let Ae="up"===Se?ee-1:ee+1;Ae<0?Ae=x-1:Ae>=x&&(Ae=0),this.elementBeingSorted?(this.model.moveGroup(ee,Ae-ee),(0,V.a4)(this.model.groups[Ae])&&(0,V.a4)(this.control.controls[Ae])&&(this.onCustomEvent({previousIndex:ee,newIndex:Ae,arrayModel:this.model,model:this.model.groups[Ae].group[0],control:this.control.controls[Ae]},"move"),this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.moved",{itemName:this.elementBeingSorted.querySelector("input")?.value,index:Ae+1,length:x}))),o.preventDefault(),setTimeout(()=>{this.setFocusToDropListElementOfIndex(d,Ae,Se)})):(o.preventDefault(),this.setFocusToDropListElementOfIndex(d,Ae,Se))}cancelKeyboardDragAndDrop(o,d,x){this.model.moveGroup(d,this.elementBeingSortedStartingIndex-d),(0,V.a4)(this.model.groups[this.elementBeingSortedStartingIndex])&&(0,V.a4)(this.control.controls[this.elementBeingSortedStartingIndex])&&(this.onCustomEvent({previousIndex:d,newIndex:this.elementBeingSortedStartingIndex,arrayModel:this.model,model:this.model.groups[this.elementBeingSortedStartingIndex].group[0],control:this.control.controls[this.elementBeingSortedStartingIndex]},"move"),this.stopKeyboardDragAndDrop(o,this.elementBeingSortedStartingIndex,x))}setFocusToDropListElementOfIndex(o,d,x){const ee=o.querySelectorAll("[cdkDragHandle]")[d];ee&&(ee.focus(),this.isElementInViewport(ee)||ee.scrollIntoView("up"===x))}isElementInViewport(o){const d=o.getBoundingClientRect();return d.top>=0&&d.left>=0&&d.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&d.right<=(window.innerWidth||document.documentElement.clientWidth)}addInstructionMessageToLiveRegion(o){this.elementBeingSorted||(this.liveRegionService.clear(),this.liveRegionService.addMessage(this.translateService.instant("live-region.ordering.instructions",{itemName:o.querySelector("input")?.value})))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(VC.A),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-form-array"]],inputs:{bindId:"bindId",formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:6,vars:10,consts:[["dropList",""],["sortableElement",""],[3,"formGroup"],[3,"id","formArrayName","ngClass"],["role","listbox","cdkDropList","","cdkDropListLockAxis","y",3,"cdkDropListDropped"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass","grey-background",4,"ngFor","ngForOf"],["role","group","cdkDrag","",3,"formGroupName","ngClass","cdkDragDisabled","cdkDragPreviewClass"],["tabindex","0","cdkDragHandle","",1,"drag-handle",3,"focus","keydown.space","keydown.enter","keydown.tab","keydown.escape","keydown.arrowUp","keydown.arrowDown"],[1,"drag-icon","fas","fa-grip-vertical","fa-fw"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"bindId","formGroup","formModel","context","group","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","bindId","formGroup","formModel","context","group","hidden","layout","model","templates","ngClass"]],template:function(d,x){if(1&d){const ee=e.RV6();e.qex(0,2),e.j41(1,"div",3)(2,"div",4,0),e.nI1(4,"translate"),e.bIt("cdkDropListDropped",function(Ae){return e.eBV(ee),e.Njj(x.moveSelection(Ae))}),e.DNE(5,oP,7,18,"div",5),e.k0s()(),e.bVm()}2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("id",x.id)("formArrayName",x.model.id)("ngClass",x.getClass("element","control")),e.R7$(),e.BMQ("aria-label",e.bMT(4,8,"dynamic-form-array.sortable-list.label")),e.R7$(3),e.Y8G("ngForOf",x.model.groups))},dependencies:()=>[Nn.X1,Nn.cb,Nn.j4,Nn.$R,Nn.v8,Qd.O7,p.YU,p.Sq,Qd.T1,Qd.Fb,GC._,p.T3,G.h,G.D9],styles:["[_nghost-%COMP%]{display:block}.drag-disable[_ngcontent-%COMP%]{visibility:hidden!important}.drag-disable[_ngcontent-%COMP%]:hover, .drag-disable[_ngcontent-%COMP%]:focus{cursor:default}.drag-disable[_ngcontent-%COMP%]:hover   .drag-icon[_ngcontent-%COMP%], .drag-disable[_ngcontent-%COMP%]:focus   .drag-icon[_ngcontent-%COMP%]{visibility:hidden!important}.cdk-drag[_ngcontent-%COMP%]{margin-left:calc(-2.3 * var(--bs-spacer));margin-right:calc(-.5 * var(--bs-spacer));padding-right:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{width:calc(2 * var(--bs-spacer));color:var(--bs-gray-600);margin:var(--bs-btn-padding-y) 0;line-height:var(--bs-btn-line-height);text-indent:calc(.5 * var(--bs-spacer))}.cdk-drag[_ngcontent-%COMP%]:hover, .cdk-drag[_ngcontent-%COMP%]:focus{cursor:grab}.drag-handle[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:grabbing}.cdk-drag-preview[_ngcontent-%COMP%]{margin:0;padding:0}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}  .sorting-with-keyboard input{background-color:var(--bs-gray-400)}"]})}}return u})();var KC=n(37636);const YA=(u,E)=>[u,E];let XA=(()=>{class u extends Xm{constructor(o,d){super(o,d),this.bindId=!0,this.selected=new e.bkB,this.remove=new e.bkB,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-custom-switch"]],inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{selected:"selected",remove:"remove",blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:23,consts:[[1,"form-check","custom-control","custom-switch",3,"formGroup","ngClass"],["type","checkbox",1,"form-check-input","custom-control-input",3,"blur","change","focus","checked","id","formControlName","indeterminate","name","ngClass","required","tabindex","value"],[1,"form-check-label","custom-control-label",3,"for"],[3,"innerHTML","ngClass"]],template:function(d,x){1&d&&(e.j41(0,"div",0)(1,"input",1),e.bIt("blur",function(Se){return x.onBlur(Se)})("change",function(Se){return x.onChange(Se)})("focus",function(Se){return x.onFocus(Se)}),e.k0s(),e.j41(2,"label",2),e.nrm(3,"span",3),e.nI1(4,"translate"),e.k0s()()),2&d&&(e.AVh("disabled",x.model.disabled),e.Y8G("formGroup",x.group)("ngClass",x.getClass("element","container")),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("checked",x.model.checked)("id",x.id)("formControlName",x.model.id)("indeterminate",x.model.indeterminate)("name",x.model.name)("ngClass",x.getClass("element","control"))("required",x.model.required)("tabindex",x.model.tabIndex)("value",x.model.value),e.R7$(),e.Y8G("for",x.bindId&&x.model.id),e.R7$(),e.Y8G("innerHTML",e.bMT(4,18,x.model.label),e.npT)("ngClass",e.l_i(20,YA,x.getClass("element","label"),x.getClass("grid","label"))))},dependencies:[p.YU,Nn.X1,Nn.Zm,Nn.BC,Nn.cb,Nn.xq,Nn.j4,Nn.JD,G.h,G.D9],styles:["div.custom-switch.custom-control-right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:after{right:-1.5rem;left:auto}div.custom-switch.custom-control-right[_ngcontent-%COMP%]:before{right:-2.35rem;left:auto}"]})}}return u})();var JA=n(33382),QA=n(87668);function ZA(u,E){if(1&u&&e.nrm(0,"i",7),2&u){const o=e.XpG();e.HbH(o.model.toggleIcon)}}function qA(u,E){if(1&u&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&u){const o=e.XpG();e.R7$(),e.JRh(o.model.toggleLabel)}}let e2=(()=>{class u extends Ss.S6A{constructor(o,d,x){super(o,d),this.layoutService=o,this.validationService=d,this.config=x,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK),e.rXU(X.I5))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-date-picker-inline"]],viewQuery:function(d,x){if(1&d&&e.GBs(X.yB,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.ngbDatePicker=ee.first)}},inputs:{bindId:"bindId",group:"group",layout:"layout",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:7,vars:25,consts:[["datepicker","ngbDatepicker"],[1,"input-group",3,"formGroup"],["ngbDatepicker","",1,"form-control",3,"blur","dateSelect","change","focus","displayMonths","id","firstDayOfWeek","formControlName","maxDate","minDate","name","navigation","ngClass","outsideDays","placeholder","placement","weekdays","showWeekNumbers","startDate"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click","dsBtnDisabled"],["aria-hidden","true",3,"class",4,"ngIf"],[4,"ngIf"],["aria-hidden","true"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"div",1)(1,"input",2,0),e.bIt("blur",function(Ae){return e.eBV(ee),e.Njj(x.onBlur(Ae))})("dateSelect",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("change",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("focus",function(Ae){return e.eBV(ee),e.Njj(x.onFocus(Ae))}),e.k0s(),e.j41(3,"div",3)(4,"button",4),e.bIt("click",function(){e.eBV(ee);const Ae=e.sdS(2);return e.Njj(Ae.toggle())}),e.DNE(5,ZA,1,3,"i",5)(6,qA,2,1,"span",6),e.k0s()()()}2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("displayMonths",x.model.getAdditional("displayMonths",x.config.displayMonths))("id",x.id)("firstDayOfWeek",x.model.getAdditional("firstDayOfWeek",x.config.firstDayOfWeek))("formControlName",x.model.id)("maxDate",x.model.max)("minDate",x.model.min)("name",x.model.name)("navigation",x.model.getAdditional("navigation",x.config.navigation))("ngClass",x.getClass("element","control"))("outsideDays",x.model.getAdditional("outsideDays",x.config.outsideDays))("placeholder",x.model.placeholder)("placement",x.model.getAdditional("placement","bottom-left"))("weekdays",x.model.getAdditional("showWeekdays",x.config.showWeekdays))("showWeekNumbers",x.model.getAdditional("showWeekNumbers",x.config.showWeekNumbers))("startDate",x.model.focusedDate),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(3),e.AVh("disabled",x.model.disabled),e.Y8G("dsBtnDisabled",x.model.disabled),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.Y8G("ngIf",x.model.toggleIcon),e.R7$(),e.Y8G("ngIf",x.model.toggleLabel))},dependencies:[p.YU,X.IQ,X.cw,Nn.X1,Nn.me,Nn.BC,Nn.cb,Nn.j4,Nn.JD,p.bT,gc.A],encapsulation:2})}}return u})();var t2=n(6458);let HC=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.modelValuesString="",this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-disabled"]],inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:11,consts:[[1,"form-row","align-items-center"],[1,"col"],[1,"form-control",3,"id","name","value","disabled","type","placeholder","readonly"]],template:function(d,x){1&d&&(e.j41(0,"div")(1,"div",0)(2,"div",1),e.nrm(3,"input",2),e.nI1(4,"translate"),e.k0s()()()),2&d&&(e.R7$(3),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.id)("name",x.model.name)("value",x.modelValuesString)("disabled",x.model.disabled)("type",x.model.inputType)("placeholder",e.bMT(4,9,x.model.placeholder))("readonly",x.model.readOnly))},dependencies:[G.h,G.D9],encapsulation:2})}}return u})();const n2=(u,E)=>[u,E];function zC(u,E){if(1&u){const o=e.RV6();e.j41(0,"ds-dynamic-form-control-container",4),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("dfChange",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))})("ngbEvent",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onCustomEvent(x,null,!0))}),e.k0s()}if(2&u){const o=E.$implicit,d=e.XpG();e.AVh("d-none",o.hidden),e.Y8G("formGroup",d.group)("formModel",d.formModel)("group",d.control)("hasErrorMessaging",d.model.hasErrorMessages)("hidden",o.hidden)("layout",d.formLayout)("model",o)("templates",d.templates)("ngClass",e.l_i(11,n2,d.getClass("element","host",o),d.getClass("grid","host",o)))}}let aP=(()=>{class u extends Ss.S6A{constructor(o,d){super(o,d),this.layoutService=o,this.validationService=d,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.customEvent=new e.bkB}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-form-group"]],inputs:{formModel:"formModel",formLayout:"formLayout",group:"group",layout:"layout",model:"model",templates:"templates"},outputs:{blur:"dfBlur",change:"dfChange",focus:"dfFocus",customEvent:"ngbEvent"},standalone:!0,features:[e.Vt3,e.aNF],decls:4,vars:7,consts:[[2,"width","100%"],[3,"formGroup"],["role","group",3,"formGroupName","id","ngClass"],[3,"formGroup","formModel","group","hasErrorMessaging","hidden","d-none","layout","model","templates","ngClass","dfBlur","dfChange","dfFocus","ngbEvent",4,"ngFor","ngForOf"],[3,"dfBlur","dfChange","dfFocus","ngbEvent","formGroup","formModel","group","hasErrorMessaging","hidden","layout","model","templates","ngClass"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.qex(1,1),e.j41(2,"div",2),e.DNE(3,zC,1,14,"ds-dynamic-form-control-container",3),e.k0s(),e.bVm(),e.k0s()),2&d&&(e.R7$(),e.Y8G("formGroup",x.group),e.R7$(),e.AVh("d-none",x.model.hidden),e.Y8G("formGroupName",x.model.id)("id",x.id)("ngClass",x.getClass("element","control")),e.R7$(),e.Y8G("ngForOf",x.model.group))},dependencies:()=>[Nn.X1,Nn.cb,Nn.j4,Nn.$R,p.YU,p.Sq,GC._],encapsulation:2})}}return u})();var Cc=n(32089),Zd=n(19506),YC=n(33126);function lP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",8)(1,"input",9),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onBlur(x))})("change",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onChange(x))})("focus",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onFocus(x))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&u){const o=E.$implicit,d=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("formControlName",o.id)("name",d.model.name)("value",o.value),e.BMQ("aria-labelledby","label_"+d.model.id)("tabindex",o.index),e.R7$(),e.AVh("disabled",d.model.disabled),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.label)("innerHTML",o.label,e.npT)}}function cP(u,E){if(1&u&&(e.j41(0,"div",6),e.DNE(1,lP,4,13,"div",7),e.k0s()),2&u){const o=E.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function dP(u,E){if(1&u&&(e.j41(0,"div",4),e.DNE(1,cP,2,1,"div",5),e.k0s()),2&u){const o=e.XpG();e.Y8G("id",o.id)("formGroupName",o.model.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function uP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",14)(1,"input",15),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG(3);return e.Njj(ee.onFocus(x))}),e.k0s(),e.j41(2,"label",10),e.nrm(3,"span",11),e.k0s()()}if(2&u){const o=E.$implicit,d=e.XpG(3);e.R7$(),e.Y8G("checked",o.value)("id",o.id)("name",d.model.id)("required",d.model.required)("value",o.index),e.R7$(),e.AVh("disabled",d.model.disabled),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.control)("for",o.id),e.R7$(),e.Y8G("ngClass",null==d.model.layout.element?null:d.model.layout.element.label)("innerHTML",o.label,e.npT)}}function hP(u,E){if(1&u&&(e.j41(0,"div",6),e.DNE(1,uP,4,11,"div",13),e.k0s()),2&u){const o=E.$implicit;e.R7$(),e.Y8G("ngForOf",o)}}function pP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",12),e.bIt("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))}),e.DNE(1,hP,2,1,"div",5),e.k0s()}if(2&u){const o=e.XpG();e.Y8G("id",o.id)("ngClass",null==o.model.layout.element?null:o.model.layout.element.control),e.BMQ("tabindex",o.model.tabIndex),e.R7$(),e.Y8G("ngForOf",o.items)}}function XC(u,E){1&u&&(e.j41(0,"div",16),e.nrm(1,"ds-loading"),e.k0s())}let JC=(()=>{class u extends Ss.S6A{constructor(o,d,x,ee,Se){super(ee,Se),this.vocabularyService=o,this.cdr=d,this.formBuilderService=x,this.layoutService=ee,this.validationService=Se,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.items=[],this.isLoading$=new y.t(!0),this.optionsList=[],this.subs=[]}ngOnInit(){this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name)&&this.initOptionsFromVocabulary()}ngOnDestroy(){this.subs.length>0&&this.subs.forEach(o=>o.unsubscribe())}onBlur(o){this.blur.emit(o)}onFocus(o){this.focus.emit(o)}onChange(o){const d=o.target;if(this.model.repeatable){const x=this.optionsList[d.tabIndex];if(d.checked)this.model.valueUpdates.next(x);else{const ee=[];this.model.value.filter(Se=>Se.value!==x.value).forEach(Se=>ee.push(Se)),this.model.valueUpdates.next(ee)}}else this.model.value=this.optionsList[d.value];this.change.emit(o)}initOptionsFromVocabulary(){if(this.model.vocabularyOptions.name&&this.model.vocabularyOptions.name.length>0){const o=this.group.controls[this.model.id];this.model.repeatable&&this.model.required&&o.addValidators(this.hasAtLeastOneVocabularyEntry()),this.nextPageInfo=new Cc.Q({elementsPerPage:20,currentPage:1}),this.loadEntries(o)}}hasAtLeastOneVocabularyEntry(){return o=>o&&o.value&&Object.values(o.value).find(d=>!0===d)?null:this.model.errorMessages}setPaginationInfo(o){o.pageInfo.currentPage<o.pageInfo.totalPages?(this.nextPageInfo=Object.assign(new Cc.Q,o.pageInfo,{currentPage:o.currentPage+1}),this.isLoading$.next(!0)):this.isLoading$.next(!1)}loadEntries(o){(0,V.a4)(o)||(o=this.group.controls[this.model.id]),this.subs.push(this.vocabularyService.getVocabularyEntries(this.model.vocabularyOptions,this.nextPageInfo).pipe((0,ws.ak)(),(0,ii.M)(d=>this.setPaginationInfo(d)),(0,Rt.T)(d=>d.page)).subscribe(d=>{this.optionsList=[...this.optionsList,...d];let x=this.items.length,ee=0,Se=[];d.forEach(Ae=>{const ft=Ae.authority||Ae.value,jt=(0,V.hj)(hg()(this.model.value,dn=>dn?.value===Ae.value)),_n={id:`${this.model.id}_${ft}`,label:Ae.display,value:jt,index:this.optionsList.indexOf(Ae)};this.model.repeatable?this.formBuilderService.addFormGroupControl(o,this.model,new Ss.M7d(_n)):this.model.options.push({label:_n.label,value:Ae}),Se.push(_n),ee++,this.items[x]=Se,ee===this.model.groupLength&&(x++,ee=0,Se=[])}),this.cdr.markForCheck(),this.isLoading$.value&&this.loadEntries()}))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Zd.g),e.rXU(e.gRc),e.rXU(YC.j),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-list"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[[3,"formGroup"],["class","form-row",3,"id","formGroupName","ngClass",4,"ngIf"],["class","form-row","ngbRadioGroup","",3,"id","ngClass","change",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"form-row",3,"id","formGroupName","ngClass"],["class","col-sm ml-3",4,"ngFor","ngForOf"],[1,"col-sm","ml-3"],["class","custom-control custom-checkbox",4,"ngFor","ngForOf"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"blur","change","focus","checked","id","formControlName","name","value"],[1,"custom-control-label",3,"ngClass","for"],[3,"ngClass","innerHTML"],["ngbRadioGroup","",1,"form-row",3,"change","id","ngClass"],["class","custom-control custom-radio",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio"],["type","radio",1,"custom-control-input",3,"blur","focus","checked","id","name","required","value"],[1,"d-flex","justify-content-center"]],template:function(d,x){1&d&&(e.j41(0,"div",0),e.DNE(1,dP,2,5,"div",1)(2,pP,2,4,"div",2)(3,XC,2,0,"div",3),e.nI1(4,"async"),e.k0s()),2&d&&(e.Y8G("formGroup",x.group),e.R7$(),e.Y8G("ngIf",x.model.repeatable),e.R7$(),e.Y8G("ngIf",!x.model.repeatable),e.R7$(),e.Y8G("ngIf",e.bMT(4,4,x.isLoading$)))},dependencies:[p.YU,p.bT,X.Ll,X.M0,p.Sq,Nn.X1,Nn.Zm,Nn.BC,Nn.cb,Nn.j4,Nn.JD,Nn.$R,p.Jj,G.h,fc.v]})}}return u})();var fP=n(29658),mP=n(90558),QC=n(86820),ZC=n(96820),gP=n(99390),qC=n(39729),Qm=n(61280),eb=n(54875),tb=n(37146);const _P=()=>({}),vP=u=>({entry:u});function yP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",17)(1,"input",18),e.nI1(2,"translate"),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.secondInputValue,x)||(ee.secondInputValue=x),e.Njj(x)}),e.bIt("change",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChange(x))})("blur",function(x){e.eBV(o);const ee=e.XpG(),Se=e.sdS(1);return ee.onBlur(x),x.stopPropagation(),e.Njj(Se.close())})("focus",function(x){e.eBV(o);const ee=e.XpG(),Se=e.sdS(1);return ee.onFocus(x),x.stopPropagation(),e.Njj(Se.close())})("click",function(x){e.eBV(o),e.XpG();const ee=e.sdS(1);return x.stopPropagation(),e.Njj(ee.close())}),e.k0s()()}if(2&u){const o=e.XpG();e.R7$(),e.AVh("is-invalid",o.showErrorMessages),e.Y8G("ngClass",e.lJ4(14,_P))("id",o.id)("name",o.model.name+"_2")("type",o.model.inputType),e.R50("ngModel",o.secondInputValue),e.Y8G("disabled",0===o.firstInputValue.length||o.isInputDisabled())("placeholder",e.bMT(2,12,o.model.secondPlaceholder))("readonly",o.model.readOnly),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}function nb(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.remove())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&u){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.clear-help")),e.Y8G("dsBtnDisabled",o.model.readOnly),e.R7$(2),e.SpI("",e.bMT(3,5,"form.clear")," ")}}function Bv(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.switchEditMode())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&u){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.edit-help")),e.Y8G("dsBtnDisabled",o.isEditDisabled()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.edit")," ")}}function EP(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",19),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.saveChanges())}),e.EFF(2),e.nI1(3,"translate"),e.k0s()}if(2&u){const o=e.XpG();e.FS9("ngbTooltip",e.bMT(1,3,"form.save-help")),e.Y8G("dsBtnDisabled",!o.hasEmptyValue()),e.R7$(2),e.SpI("",e.bMT(3,5,"form.save")," ")}}function CP(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",20),e.bIt("click",function(x){e.eBV(o);const ee=e.XpG(),Se=e.sdS(1);return x.stopPropagation(),ee.clearFields(),e.Njj(Se.close())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&u&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"form.no-results")," "))}function sb(u,E){if(1&u){const o=e.RV6();e.j41(0,"button",21),e.bIt("click",function(x){const ee=e.eBV(o).$implicit,Se=e.XpG(),Ae=e.sdS(1);return x.stopPropagation(),Se.onSelect(ee),e.Njj(Ae.close())}),e.eu8(1,22),e.k0s()}if(2&u){const o=E.$implicit;e.XpG();const d=e.sdS(23),x=e.sdS(25);e.FS9("title",o.display),e.R7$(),e.Y8G("ngTemplateOutlet",o.hasOtherInformation()?d:x)("ngTemplateOutletContext",e.eq3(3,vP,o))}}function bP(u,E){1&u&&(e.j41(0,"div",23)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&u&&(e.R7$(2),e.JRh(e.bMT(3,1,"form.loading")))}function ib(u,E){if(1&u&&(e.j41(0,"li",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&u){const o=E.$implicit;e.R7$(),e.Lme(" ",e.bMT(2,2,"form.other-information."+o.key)," : ",o.value," ")}}function s2(u,E){if(1&u&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s(),e.DNE(3,ib,3,4,"li",26),e.nI1(4,"dsObjNgFor"),e.k0s()),2&u){const o=E.entry,d=e.XpG();e.BMQ("aria-labelledby","label_"+d.model.id),e.R7$(2),e.JRh(o.value),e.R7$(),e.Y8G("ngForOf",e.bMT(4,3,o.otherInformation))}}function TP(u,E){if(1&u&&(e.j41(0,"ul",24)(1,"li",25),e.EFF(2),e.k0s()()),2&u){const o=E.entry,d=e.XpG();e.BMQ("aria-labelledby","label_"+d.model.id),e.R7$(2),e.JRh(o.value)}}let Uv=(()=>{class u extends eb.o{constructor(o,d,x,ee){super(o,x,ee),this.vocabularyService=o,this.cdr=d,this.layoutService=x,this.validationService=ee,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.editMode=!1,this.firstInputValue="",this.secondInputValue="",this.loading=!1,this.subs=[],this.inputFormatter=(Se,Ae)=>1===Ae?this.firstInputValue:this.secondInputValue}ngOnInit(){(0,V.hj)(this.model.value)&&this.setCurrentValue(this.model.value,!0),this.subs.push(this.model.valueChanges.subscribe(o=>{(0,V.Im)(o)?this.resetFields():this.editMode||this.setCurrentValue(this.model.value)}))}hasAuthorityValue(){return(0,V.a4)(this.model.value)&&"object"==typeof this.model.value&&this.model.value.hasAuthority()}hasEmptyValue(){return(0,V.hj)(this.getCurrentValue())}clearFields(){this.model.vocabularyOptions.closed&&this.resetFields()}isEditDisabled(){return!this.hasAuthorityValue()}isInputDisabled(){return this.model.vocabularyOptions.closed&&this.hasAuthorityValue()&&!this.editMode}isLookupName(){return this.model instanceof tb._}isSearchDisabled(){return(0,V.Im)(this.firstInputValue)||this.editMode}onChange(o){if(o.preventDefault(),!this.model.vocabularyOptions.closed)if((0,V.hj)(this.getCurrentValue())){const d=new Qm.e(this.getCurrentValue());this.editMode||this.updateModel(d)}else this.remove()}onScroll(){!this.loading&&this.pageInfo.currentPage<=this.pageInfo.totalPages&&(this.updatePageInfo(this.pageInfo.elementsPerPage,this.pageInfo.currentPage+1,this.pageInfo.totalElements,this.pageInfo.totalPages),this.search())}onSelect(o){this.updateModel(o)}openChange(o){o||this.model.vocabularyOptions.closed&&!this.hasAuthorityValue()&&this.setCurrentValue("")}remove(){this.group.markAsPristine(),this.dispatchUpdate(null)}saveChanges(){if((0,V.hj)(this.getCurrentValue())){const o=Object.assign(new vu.b,this.model.value,{display:this.getCurrentValue(),value:this.getCurrentValue()});this.updateModel(o)}else this.remove();this.switchEditMode()}search(){this.optionsList=null,this.updatePageInfo(this.model.maxOptions,1),this.loading=!0,this.subs.push(this.vocabularyService.getVocabularyEntriesByValue(this.getCurrentValue(),!1,this.model.vocabularyOptions,this.pageInfo).pipe((0,ws.ak)(),(0,In.W)(()=>(0,bs.of)((0,ZC.g)(new Cc.Q,[]))),(0,C.F)()).subscribe(o=>{this.optionsList=o.page,this.updatePageInfo(o.pageInfo.elementsPerPage,o.pageInfo.currentPage,o.pageInfo.totalElements,o.pageInfo.totalPages),this.loading=!1,this.cdr.detectChanges()}))}switchEditMode(){this.editMode=!this.editMode}whenClickOnConfidenceNotAccepted(o,d){this.model.readOnly||(o.open(),this.search())}ngOnDestroy(){this.subs.filter(o=>(0,V.a4)(o)).forEach(o=>o.unsubscribe())}setCurrentValue(o,d=!1){d?this.getInitValueFromModel().subscribe(x=>this.setDisplayInputValue(x.display)):(0,V.a4)(o)&&(o instanceof Qm.e||o instanceof vu.b)&&this.setDisplayInputValue(o.display)}setDisplayInputValue(o){if((0,V.a4)(o)){if(this.isLookupName()){const d=o.split(this.model.separator);this.firstInputValue=(d[0]||"").trim(),this.secondInputValue=(d[1]||"").trim()}else this.firstInputValue=o||"";this.cdr.detectChanges()}}getCurrentValue(){let o="";return this.isLookupName()?((0,V.hj)(this.firstInputValue)&&(o=this.firstInputValue),(0,V.hj)(this.secondInputValue)&&(o=(0,V.Im)(o)?this.secondInputValue:this.firstInputValue+this.model.separator+" "+this.secondInputValue)):o=this.firstInputValue,o}resetFields(){this.firstInputValue="",this.isLookupName()&&(this.secondInputValue="")}updateModel(o){this.group.markAsDirty(),this.dispatchUpdate(o),this.setCurrentValue(o),this.optionsList=null,this.pageInfo=null}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Zd.g),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-lookup"]],inputs:{group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:26,vars:33,consts:[["sdRef","ngbDropdown"],["hasInfo",""],["noInfo",""],["ngbDropdown","",3,"click","openChange"],[1,"form-row","align-items-center"],[1,"col","right-addon"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle","fa-2x","fa-fw","position-absolute","mt-1","p-0","pr-2",3,"whenClickOnConfidenceNotAccepted","authorityValue"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","id","name","type","ngModel","disabled","placeholder","readonly"],["class","col",4,"ngIf"],[1,"col-auto","text-center"],["ngbDropdownAnchor","","type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled","hidden"],["class","btn btn-secondary","type","button","placement","top",3,"ngbTooltip","dsBtnDisabled","click",4,"ngIf"],["ngbDropdownMenu","","aria-haspopup","true","aria-expanded","false",1,"dropdown-menu","scrollable-dropdown-menu","w-100"],["infiniteScroll","",1,"scrollable-menu",3,"scrolled","infiniteScrollDistance","infiniteScrollThrottle","scrollWindow"],["class","dropdown-item disabled","type","button",3,"click",4,"ngIf"],["class","dropdown-item lookup-item","type","button",3,"title","click",4,"ngFor","ngForOf"],["class","scrollable-dropdown-loading text-center",4,"ngIf"],[1,"col"],[1,"form-control",3,"ngModelChange","change","blur","focus","click","ngClass","id","name","type","ngModel","disabled","placeholder","readonly"],["type","button","placement","top",1,"btn","btn-secondary",3,"click","ngbTooltip","dsBtnDisabled"],["type","button",1,"dropdown-item","disabled",3,"click"],["type","button",1,"dropdown-item","lookup-item",3,"click","title"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"scrollable-dropdown-loading","text-center"],[1,"list-unstyled","mb-0"],[1,"list-item","text-truncate","text-primary","font-weight-bold"],["class","list-item text-truncate text-secondary",4,"ngFor","ngForOf"],[1,"list-item","text-truncate","text-secondary"]],template:function(d,x){if(1&d){const ee=e.RV6();e.j41(0,"div",3,0),e.bIt("click",function(Ae){return e.eBV(ee),e.Njj(Ae.stopPropagation())})("openChange",function(Ae){return e.eBV(ee),e.Njj(x.openChange(Ae))}),e.j41(2,"div",4)(3,"div",5)(4,"i",6),e.bIt("whenClickOnConfidenceNotAccepted",function(Ae){e.eBV(ee);const ft=e.sdS(1);return e.Njj(x.whenClickOnConfidenceNotAccepted(ft,Ae))}),e.k0s(),e.j41(5,"input",7),e.nI1(6,"translate"),e.mxI("ngModelChange",function(Ae){return e.eBV(ee),e.DH7(x.firstInputValue,Ae)||(x.firstInputValue=Ae),e.Njj(Ae)}),e.bIt("change",function(Ae){return e.eBV(ee),e.Njj(x.onChange(Ae))})("blur",function(Ae){e.eBV(ee);const ft=e.sdS(1);return x.onBlur(Ae),Ae.stopPropagation(),e.Njj(ft.close())})("focus",function(Ae){e.eBV(ee);const ft=e.sdS(1);return x.onFocus(Ae),Ae.stopPropagation(),e.Njj(ft.close())})("click",function(Ae){e.eBV(ee);const ft=e.sdS(1);return Ae.stopPropagation(),Ae.stopPropagation(),e.Njj(ft.close())}),e.k0s()(),e.DNE(7,yP,3,15,"div",8),e.j41(8,"div",9)(9,"button",10),e.nI1(10,"translate"),e.bIt("click",function(Ae){return e.eBV(ee),e.sdS(1).open(),x.search(),e.Njj(Ae.stopPropagation())}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,nb,4,7,"button",11),e.k0s(),e.j41(14,"div",9),e.DNE(15,Bv,4,7,"button",11)(16,EP,4,7,"button",11),e.k0s()(),e.j41(17,"div",12)(18,"div",13),e.bIt("scrolled",function(){return e.eBV(ee),e.Njj(x.onScroll())}),e.DNE(19,CP,3,3,"button",14)(20,sb,2,5,"button",15)(21,bP,4,3,"div",16),e.k0s()()(),e.DNE(22,s2,5,5,"ng-template",null,1,e.C5r)(24,TP,3,2,"ng-template",null,2,e.C5r)}2&d&&(e.R7$(4),e.Y8G("authorityValue",x.model.value),e.R7$(),e.AVh("is-invalid",x.showErrorMessages),e.Y8G("id",x.model.id)("name",x.model.name)("type",x.model.inputType),e.R50("ngModel",x.firstInputValue),e.Y8G("disabled",x.isInputDisabled())("placeholder",e.bMT(6,27,x.model.placeholder))("readonly",x.model.readOnly),e.BMQ("aria-labelledby","label_"+x.model.id)("autoComplete",x.model.autoComplete),e.R7$(2),e.Y8G("ngIf",x.isLookupName()),e.R7$(2),e.FS9("ngbTooltip",e.bMT(10,29,"form.search-help")),e.Y8G("dsBtnDisabled",x.model.readOnly||x.isSearchDisabled())("hidden",x.isInputDisabled()),e.R7$(2),e.SpI("",e.bMT(12,31,"form.search")," "),e.R7$(2),e.Y8G("ngIf",x.isInputDisabled()),e.R7$(2),e.Y8G("ngIf",!x.editMode),e.R7$(),e.Y8G("ngIf",x.editMode),e.R7$(),e.BMQ("aria-labelledby","label_"+x.model.id),e.R7$(),e.Y8G("infiniteScrollDistance",2)("infiniteScrollThrottle",50)("scrollWindow",!1),e.R7$(),e.Y8G("ngIf",x.optionsList&&0===x.optionsList.length),e.R7$(),e.Y8G("ngForOf",x.optionsList),e.R7$(),e.Y8G("ngIf",x.loading))},dependencies:[G.h,G.D9,X.n8,X.md,X.zH,X.tg,X.E5,X.U0,qC.K,Nn.YN,Nn.me,Nn.BC,Nn.vS,p.bT,p.YU,QC.eO,QC.DP,p.Sq,p.T3,gP.U,gc.A],styles:[".dropdown-toggle[_ngcontent-%COMP%]:after{display:none}[_nghost-%COMP%]     .dropdown-menu{left:0!important;width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:auto!important;overflow-x:hidden}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}div[_ngcontent-%COMP%]{overflow:visible}.lookup-item[_ngcontent-%COMP%]{border-bottom:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color)}"]})}}return u})();var rb=n(80902),DP=n(18302),ob=n(45500),OP=n(83278),od=n.n(OP);const jv=(0,oe.hZ)("shrinkInOut",[(0,oe.wk)("in",(0,oe.iF)({height:"100%",opacity:1})),(0,oe.kY)("* => void",[(0,oe.iF)({height:"!",opacity:1}),(0,oe.i0)(200,(0,oe.iF)({height:0,opacity:0}))]),(0,oe.kY)("void => *",[(0,oe.iF)({height:0,opacity:0}),(0,oe.i0)(200,(0,oe.iF)({height:"*",opacity:1}))])]);var ab=n(80597),lb=n(48376),qd=n.n(lb),kv=n(59519),r2=n.n(kv),cb=n(98179);class db{constructor(E,o="display",d,x,ee){this.id=r2()(),this._item=E,this.fieldToDisplay=o,this.objToDisplay=d,this.setDisplayText(),this.editMode=ee||!1,this.icons=x||[]}set item(E){this._item=E}get item(){return this._item}isNestedItem(){return(0,V.hj)(this.item)&&od()(this.item)&&(0,V.hj)(this.objToDisplay)&&this.item[this.objToDisplay]}hasIcons(){return(0,V.hj)(this.icons)}hasVisibleIcons(){if((0,V.hj)(this.icons)){let E=!1;for(const o of this.icons)if(this._item.hasOwnProperty(o.metadata)&&("string"==typeof this._item[o.metadata]&&(0,V.a4)(this._item[o.metadata])||this._item[o.metadata].hasValue())&&!this.hasPlaceholder(this._item[o.metadata])&&(o.visibleWhenAuthorityEmpty||this._item[o.metadata].confidence!==cb.l.CF_UNSET)&&(0,V.hj)(o.style)){E=!0;break}return E}return!1}setEditMode(){this.editMode=!0}updateIcons(E){this.icons=E}updateItem(E){this._item=E,this.setDisplayText()}unsetEditMode(){this.editMode=!1}setDisplayText(){let E=this._item;if(od()(this._item)){const o=this.objToDisplay?this._item[this.objToDisplay]:this._item;E=od()(o)&&o?o[this.fieldToDisplay]||o.value:o}this.display=E}hasPlaceholder(E){return"string"==typeof E?E===Jd.N:E.hasPlaceholder()}}class MP{constructor(E=[],o="display",d,x){this.displayField=o,this.displayObj=d,this.iconsConfig=x||[],Array.isArray(E)&&this.setInitialItems(E)}add(E){const o=this.getChipsIcons(E),d=new db(E,this.displayField,this.displayObj,o),x=qd()(this._items,{display:d.display.trim()});(-1===x||!cu()(E,this.getChipByIndex(x).item))&&(this._items.push(d),this.chipsItems.next(this._items))}getChipById(E){const o=qd()(this._items,{id:E});return this.getChipByIndex(o)}getChipByIndex(E){return this._items.length>0&&this._items[E]?this._items[E]:null}getChips(){return this._items}getChipsItems(){const E=[];return this._items.forEach(o=>{E.push(o.item)}),E}hasItems(){return this._items.length>0}hasPlaceholder(E){return od()(E)?E.value===Jd.N:E===Jd.N}remove(E){const o=qd()(this._items,{id:E.id});this._items.splice(o,1),this.chipsItems.next(this._items)}update(E,o){const d=this.getChipById(E),x=this.getChipsIcons(o);d.updateItem(o),d.updateIcons(x),d.unsetEditMode(),this.chipsItems.next(this._items)}updateOrder(){this.chipsItems.next(this._items)}getChipsIcons(E){const o=[];if("string"==typeof E||E instanceof Qm.e||E instanceof vu.b)return o;const d=qd()(this.iconsConfig,{name:"default"}),x=-1!==d?this.iconsConfig[d]:void 0;let ee,Se,Ae;return Object.keys(E).forEach(ft=>{Ae=E[ft],Se=qd()(this.iconsConfig,{name:ft}),ee=-1!==Se?this.iconsConfig[Se]:x,(0,V.a4)(Ae)&&(0,V.hj)(ee)&&!this.hasPlaceholder(Ae)&&o.push({metadata:ft,visibleWhenAuthorityEmpty:this.displayObj!==ft,style:ee.style})}),o}setInitialItems(E){this._items=[],E.forEach(o=>{const d=this.getChipsIcons(o),x=new db(o,this.displayField,this.displayObj,d);this._items.push(x)}),this.chipsItems=new y.t(this._items)}}const ub=["*"],hb=u=>({index:u}),ad=u=>({"chip-selected disabled":u});function Zm(u,E){if(1&u&&(e.j41(0,"p",7),e.EFF(1),e.k0s()),2&u){const o=E.$implicit;e.R7$(),e.SpI(" ",o," ")}}function qm(u,E){if(1&u&&e.DNE(0,Zm,2,1,"p",6),2&u){const o=e.XpG();e.Y8G("ngForOf",o.tipText)}}function pb(u,E){if(1&u&&(e.j41(0,"i",14),e.EFF(1,"\xa0"),e.k0s()),2&u){const o=e.XpG().$implicit;e.Y8G("authorityValue",o.item)}}function IP(u,E){if(1&u){const o=e.RV6();e.j41(0,"i",16,1),e.bIt("mouseover",function(){const x=e.eBV(o).$implicit,ee=e.sdS(1),Se=e.XpG(2).index,Ae=e.XpG();return e.Njj(Ae.showTooltip(ee,Se,x.metadata))})("mouseout",function(){e.eBV(o);const x=e.sdS(1);return e.Njj(x.close())}),e.k0s()}if(2&u){const o=E.$implicit,d=E.last,x=e.XpG(2).$implicit;e.XpG();const ee=e.sdS(3);e.HbH(o.style),e.AVh("mr-1",!d)("mr-2",d),e.Y8G("ngbTooltip",ee)("authorityValue",x.item[o.metadata]||x.item)("visibleWhenAuthorityEmpty",o.visibleWhenAuthorityEmpty)}}function Vv(u,E){if(1&u&&(e.qex(0),e.DNE(1,IP,2,10,"i",15),e.bVm()),2&u){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",o.icons)}}function SP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",8,1),e.bIt("cdkDropListDropped",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onDrop(x))})("mouseover",function(){const x=e.eBV(o).index,ee=e.sdS(1),Se=e.XpG();return e.Njj(Se.showTooltip(ee,x))})("mouseout",function(){e.eBV(o);const x=e.sdS(1);return e.Njj(x.close())}),e.j41(2,"a",9),e.bIt("cdkDragStarted",function(){const x=e.eBV(o).index,ee=e.XpG();return e.Njj(ee.onDrag(x))})("click",function(x){const ee=e.eBV(o).index,Se=e.XpG();return e.Njj(Se.chipsSelected(x,ee))}),e.j41(3,"span"),e.DNE(4,pb,2,1,"i",10)(5,Vv,2,1,"ng-container",11),e.j41(6,"p",12),e.EFF(7),e.k0s(),e.j41(8,"i",13),e.nI1(9,"translate"),e.bIt("click",function(x){const ee=e.eBV(o).index,Se=e.XpG();return e.Njj(Se.removeChips(x,ee))}),e.k0s()()()()}if(2&u){const o=E.$implicit,d=E.index,x=e.XpG(),ee=e.sdS(3);e.Y8G("cdkDropListData",e.eq3(9,hb,d))("ngbTooltip",ee),e.R7$(2),e.Y8G("ngClass",e.eq3(11,ad,x.editable&&o.editMode||x.dragged===d)),e.R7$(2),e.Y8G("ngIf",x.showIcons&&!o.isNestedItem()),e.R7$(),e.Y8G("ngIf",x.showIcons&&o.hasVisibleIcons()),e.R7$(2),e.JRh(o.display),e.R7$(),e.Y8G("title",e.bMT(9,7,"chips.remove"))}}let fb=(()=>{class u{constructor(o,d){this.cdr=o,this.translate=d,this.editable=!0,this.showIcons=!1,this.selected=new e.bkB,this.remove=new e.bkB,this.change=new e.bkB,this.isDragging=new y.t(!1),this.dragged=-1}ngOnChanges(o){o.chips&&!o.chips.isFirstChange()&&(this.chips=o.chips.currentValue)}chipsSelected(o,d){o.preventDefault(),this.editable&&(this.chips.getChips().forEach((x,ee)=>{ee===d?x.setEditMode():x.unsetEditMode()}),this.selected.emit(d))}removeChips(o,d){o.preventDefault(),o.stopPropagation(),this.chips.getChipByIndex(d).editMode||this.chips.remove(this.chips.getChipByIndex(d))}onDrag(o){this.isDragging.next(!0),this.dragged=o}onDrop(o){const d=o.previousContainer.data.index,x=o.container.data.index,ee=o.currentIndex,Se=x>d?-1:0;(0,Qd.HD)(this.chips.chipsItems.getValue(),d,x+ee+Se),this.dragged=-1,this.chips.updateOrder(),this.isDragging.next(!1)}showTooltip(o,d,x){if(o.close(),this.isDragging.value)return;const ee=this.chips.getChipByIndex(d),Se=[];!ee.editMode&&-1===this.dragged&&(x?od()(ee.item[x])?(Se.push(ee.item[x].display),ee.item[x].hasOtherInformation()&&Object.keys(ee.item[x].otherInformation).forEach(Ae=>{this.translate.get("form.other-information."+Ae).subscribe(ft=>{Se.push(ft+": "+ee.item[x].otherInformation[Ae])})})):Se.push(ee.item[x]):Se.push(ee.display),this.cdr.detectChanges(),(!ee.hasIcons()||!ee.hasVisibleIcons()||x)&&(this.tipText=Se,o.open()))}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(e.gRc),e.rXU(G.c$))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-chips"]],inputs:{chips:"chips",wrapperClass:"wrapperClass",editable:"editable",showIcons:"showIcons"},outputs:{selected:"selected",remove:"remove",change:"change"},standalone:!0,features:[e.OA$,e.aNF],ngContentSelectors:ub,decls:8,vars:6,consts:[["tipContent",""],["t","ngbTooltip"],[3,"className"],["role","list","cdkDropListGroup","",1,"nav","nav-pills","d-flex","flex-column","flex-sm-row"],["role","listitem","class","nav-item mr-2 mb-1 d-flex flex-row","triggers","manual","cdkDropList","","cdkDropListOrientation","horizontal",3,"cdkDropListData","ngbTooltip","cdkDropListDropped","mouseover","mouseout",4,"ngFor","ngForOf"],[1,"flex-grow-1"],["class","text-left p-0 m-0",4,"ngFor","ngForOf"],[1,"text-left","p-0","m-0"],["role","listitem","triggers","manual","cdkDropList","","cdkDropListOrientation","horizontal",1,"nav-item","mr-2","mb-1","d-flex","flex-row",3,"cdkDropListDropped","mouseover","mouseout","cdkDropListData","ngbTooltip"],["cdkDrag","","href","javascript:void(0);",1,"flex-sm-fill","text-sm-center","nav-link","active","bg-info",3,"cdkDragStarted","click","ngClass"],["dsAuthorityConfidenceState","","class","far fa-circle","aria-hidden","true",3,"authorityValue",4,"ngIf"],[4,"ngIf"],[1,"chip-label","text-truncate","d-table-cell"],[1,"fas","fa-times","ml-2",3,"click","title"],["dsAuthorityConfidenceState","","aria-hidden","true",1,"far","fa-circle",3,"authorityValue"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"ngbTooltip","class","mr-1","mr-2","authorityValue","visibleWhenAuthorityEmpty","mouseover","mouseout",4,"ngFor","ngForOf"],["triggers","manual","dsAuthorityConfidenceState","","aria-hidden","true",3,"mouseover","mouseout","ngbTooltip","authorityValue","visibleWhenAuthorityEmpty"]],template:function(d,x){1&d&&(e.NAR(),e.j41(0,"div",2)(1,"div",3),e.DNE(2,qm,1,1,"ng-template",null,0,e.C5r)(4,SP,10,13,"div",4),e.j41(5,"div",5),e.nI1(6,"async"),e.SdG(7),e.k0s()()()),2&d&&(e.Y8G("className","float-left w-100 "+x.wrapperClass),e.R7$(4),e.Y8G("ngForOf",x.chips.getChips()),e.R7$(),e.AVh("chips-sort-ignore",e.bMT(6,4,x.isDragging)))},dependencies:[X.n8,X.md,p.YU,p.Sq,p.Jj,qC.K,p.bT,G.h,G.D9,Qd.T1,Qd.O7,Qd.RK],styles:[".cdk-drag-placeholder[_ngcontent-%COMP%]{filter:grayscale(100%);margin:0 .25rem}.cdk-drag-preview[_ngcontent-%COMP%]{color:#fff;box-sizing:border-box;border-radius:.25rem;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}"]})}}return u})();var PP=n(13143),RP=n(54002);n(11166);const AP=["formRef"],mb=(u,E)=>({"border-top":u,"border border-danger":E});function wP(u,E){if(1&u){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",9),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.collapseForm())}),e.k0s()()}2&u&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-collapse-help"))}function o2(u,E){if(1&u){const o=e.RV6();e.j41(0,"a",8),e.nI1(1,"translate"),e.j41(2,"span",10),e.bIt("click",function(){e.eBV(o);const x=e.XpG();return e.Njj(x.expandForm())}),e.k0s()()}2&u&&e.FS9("ngbTooltip",e.bMT(1,1,"form.group-expand-help"))}function gb(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",15)(1,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.save())}),e.nrm(2,"i",17),e.k0s(),e.j41(3,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.delete())}),e.nrm(4,"i",18),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(o);const x=e.XpG(2);return e.Njj(x.clear())}),e.nrm(6,"i",19),e.k0s()()}if(2&u){const o=e.XpG(2);e.R7$(),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty()),e.R7$(2),e.Y8G("dsBtnDisabled",!o.editMode),e.R7$(2),e.Y8G("dsBtnDisabled",o.isMandatoryFieldEmpty())}}function xP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",11)(1,"ds-form",12,0),e.bIt("dfBlur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("dfFocus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))}),e.k0s(),e.DNE(3,gb,7,3,"div",13),e.nI1(4,"async"),e.nrm(5,"div",14),e.k0s()}if(2&u){const o=e.XpG();e.Y8G("@shrinkInOut",void 0),e.R7$(),e.Y8G("formId",o.formId)("formModel",o.formModel)("displaySubmit",!1)("displayCancel",!1)("emitChange",!1),e.R7$(2),e.Y8G("ngIf",!0!==e.bMT(4,7,o.formCollapsed))}}function LP(u,E){1&u&&e.nrm(0,"ds-loading",20),2&u&&e.Y8G("showMessage",!1)}function _b(u,E){1&u&&(e.j41(0,"div"),e.nrm(1,"input",21),e.nI1(2,"translate"),e.k0s()),2&u&&(e.R7$(),e.FS9("value",e.bMT(2,1,"form.no-value")))}function NP(u,E){if(1&u){const o=e.RV6();e.j41(0,"ds-chips",22),e.bIt("selected",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onChipSelected(x))}),e.k0s()}if(2&u){const o=e.XpG();e.Y8G("chips",o.chips)("editable",!0)("showIcons",!0)}}let FP=(()=>{class u extends Ss.S6A{constructor(o,d,x,ee,Se,Ae){super(Se,Ae),this.vocabularyService=o,this.formBuilderService=d,this.formService=x,this.cdr=ee,this.layoutService=Se,this.validationService=Ae,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.formCollapsed=(0,bs.of)(!1),this.editMode=!1,this.subs=[]}ngOnInit(){const o={rows:this.model.formConfiguration};this.model.isEmpty()||(this.formCollapsed=(0,bs.of)(!0)),this.model.valueChanges.subscribe(d=>{!(0,V.hj)(d)||1===d.length&&(0,ab.Zb)(d[0])?this.expandForm():this.collapseForm()}),this.formId=this.formService.getUniqueId(this.model.id),this.formModel=this.formBuilderService.modelFromConfiguration(this.model.submissionId,o,this.model.scopeUUID,{},this.model.submissionScope,this.model.readOnly),this.initChipsFromModelValue()}isMandatoryFieldEmpty(){let o=!0;return this.formModel.forEach(d=>{d.group.forEach(ee=>{ee.name!==this.model.mandatoryField||(o=null==ee.value)})}),o}onBlur(o){this.blur.emit()}onChipSelected(o){this.expandForm(),this.selectedChipItem=this.chips.getChipByIndex(o),this.formModel.forEach(d=>{d.group.forEach(ee=>{const Se=this.selectedChipItem.item[ee.name]===Jd.N||this.selectedChipItem.item[ee.name].value===Jd.N?null:this.selectedChipItem.item[ee.name],Ae=this.formBuilderService.isInputModel(ee)&&(0,V.Pe)(Se)&&"string"!=typeof Se?Se.value:Se;ee.value=Ae})}),this.editMode=!0}onFocus(o){this.focus.emit(o)}collapseForm(){this.formCollapsed=(0,bs.of)(!0),this.clear()}expandForm(){this.formCollapsed=(0,bs.of)(!1)}clear(){this.editMode&&(this.selectedChipItem.editMode=!1,this.selectedChipItem=null,this.editMode=!1),this.resetForm(),this.model.isEmpty()||(this.formCollapsed=(0,bs.of)(!0))}save(){this.editMode?this.modifyChip():this.addToChips()}delete(){this.chips.remove(this.selectedChipItem),this.clear()}ngOnDestroy(){this.subs.filter(o=>(0,V.a4)(o)).forEach(o=>o.unsubscribe())}addToChips(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.add(o),this.resetForm()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}modifyChip(){if(this.formRef.formGroup.valid){if(!this.isMandatoryFieldEmpty()){const o=this.buildChipItem();this.chips.update(this.selectedChipItem.id,o),this.resetForm(),this.cdr.detectChanges()}}else this.formService.validateAllFormFields(this.formRef.formGroup)}buildChipItem(){const o=Object.create({});return this.formModel.forEach(d=>{d.group.forEach(ee=>{o[ee.name]=ee.value||Jd.N})}),o}initChipsFromModelValue(){let o;this.model.isEmpty()?this.initChips([]):(o=(0,bs.of)(this.model.value),this.subs.push(o.pipe((0,zn.Z)(d=>{const x=[];return d.forEach(ee=>{const Se=Object.keys(ee).map(Ae=>{let ft;if(od()(ee[Ae])&&ee[Ae].hasAuthority()&&(0,V.hj)(ee[Ae].authority)){const jt=Ae.replace(/\./g,"_"),_n=this.formBuilderService.findById(jt,this.formModel);ft=this.vocabularyService.findEntryDetailById(ee[Ae].authority,_n.vocabularyOptions.name).pipe((0,ws.ak)(),(0,Rt.T)(dn=>Object.assign(new Qm.e,ee[Ae],{otherInformation:dn.otherInformation})))}else ft=(0,bs.of)(ee[Ae]);return ft.pipe((0,Rt.T)(jt=>({[Ae]:jt})))});x.push((0,us.z)(Se))}),x}),(0,zn.Z)((d,x)=>d.pipe((0,Rt.T)(ee=>({index:x,value:ee.reduce((Se,Ae)=>Object.assign({},Se,Ae))})))),(0,YT.S)((d,x)=>(0===d.length?d.push(x.value):d.splice(x.index,0,x.value),d),[]),(0,Fn.p)(d=>this.model.value.length===d.length)).subscribe(d=>{this.model.value=d,this.initChips(d),this.cdr.markForCheck()})))}initChips(o){this.chips=new MP(o,"value",this.model.mandatoryField,R.c.submission.icons.metadata),this.subs.push(this.chips.chipsItems.subscribe(()=>{const d=this.chips.getChipsItems();cu()(d,this.model.value)||(0,V.Im)(d)&&this.model.isEmpty()||(this.model.value=d,this.change.emit())}))}resetForm(){this.formRef&&this.formService.resetForm(this.formRef.formGroup,this.formModel,this.formId)}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Zd.g),e.rXU(YC.j),e.rXU(RP.u),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-relation-group"]],viewQuery:function(d,x){if(1&d&&e.GBs(AP,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.formRef=ee.first)}},inputs:{formId:"formId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:11,vars:16,consts:[["formRef","formComponent"],["class","close position-relative","placement","left",3,"ngbTooltip",4,"ngIf"],[1,"pt-2",3,"ngClass"],["class","pl-2 row",4,"ngIf"],[1,"d-flex"],[3,"showMessage",4,"ngIf"],[4,"ngIf"],[3,"chips","editable","showIcons","selected",4,"ngIf"],["placement","left",1,"close","position-relative",3,"ngbTooltip"],["aria-hidden","true",1,"fas","fa-angle-up","fa-fw","fa-2x",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","fa-fw","fa-2x",3,"click"],[1,"pl-2","row"],[1,"col-sm-12","col-md-8","col-lg-9","col-xl-10","pl-0",3,"dfBlur","dfFocus","formId","formModel","displaySubmit","displayCancel","emitChange"],["class","col p-0 m-0 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"clearfix"],[1,"col","p-0","m-0","d-flex","justify-content-center","align-items-center"],["type","button",1,"btn","btn-link",3,"click","dsBtnDisabled"],["aria-hidden","true",1,"fas","fa-save","text-primary","fa-2x"],["aria-hidden","true",1,"fas","fa-trash","text-danger","fa-2x"],["aria-hidden","true",1,"fas","fa-undo","fa-2x"],[3,"showMessage"],["type","text","readonly","","tabindex","-1",1,"border-0","form-control-plaintext","tag-input","mt-1","mb-1","pl-2","text-muted",3,"value"],[3,"selected","chips","editable","showIcons"]],template:function(d,x){1&d&&(e.DNE(0,wP,3,3,"a",1),e.nI1(1,"async"),e.DNE(2,o2,3,3,"a",1),e.nI1(3,"async"),e.j41(4,"div",2),e.DNE(5,xP,6,9,"div",3),e.nI1(6,"async"),e.j41(7,"div",4),e.DNE(8,LP,1,1,"ds-loading",5)(9,_b,3,3,"div",6)(10,NP,1,3,"ds-chips",7),e.k0s()()),2&d&&(e.Y8G("ngIf",!0!==e.bMT(1,7,x.formCollapsed)),e.R7$(2),e.Y8G("ngIf",e.bMT(3,9,x.formCollapsed)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,mb,!x.showErrorMessages,x.showErrorMessages)),e.R7$(),e.Y8G("ngIf",!0!==e.bMT(6,11,x.formCollapsed)),e.R7$(3),e.Y8G("ngIf",!x.chips),e.R7$(),e.Y8G("ngIf",x.chips&&!x.chips.hasItems()),e.R7$(),e.Y8G("ngIf",x.chips&&x.chips.hasItems()))},dependencies:()=>[p.bT,p.Jj,X.n8,X.md,G.h,G.D9,p.YU,fc.v,fb,PP.s,gc.A],styles:[".close[_ngcontent-%COMP%]{top:-2.5rem}"],data:{animation:[jv]}})}}return u})();var eg=n(83766),BP=n(11220),a2=n(70152),l2=n(79335),UP=n(38512);const Gv=["instance"];function vb(u,E){1&u&&e.EFF(0),2&u&&e.SpI(" ",E.result.display,"\n")}function ld(u,E){if(1&u){const o=e.RV6();e.j41(0,"input",5),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.currentValue,x)||(ee.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("keypress",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keydown",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keyup",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onKeyUp(x))}),e.k0s()}if(2&u){const o=e.XpG();e.AVh("pl-3",o.chips.hasItems()),e.Y8G("placeholder",o.model.placeholder)("readonly",o.model.readOnly),e.R50("ngModel",o.currentValue)}}function yb(u,E){1&u&&e.nrm(0,"i",9)}function jP(u,E){if(1&u){const o=e.RV6();e.j41(0,"div",6),e.DNE(1,yb,1,0,"i",7),e.j41(2,"input",8,1),e.mxI("ngModelChange",function(x){e.eBV(o);const ee=e.XpG();return e.DH7(ee.currentValue,x)||(ee.currentValue=x),e.Njj(x)}),e.bIt("blur",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onBlur(x))})("focus",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onFocus(x))})("change",function(x){return e.eBV(o),e.Njj(x.stopPropagation())})("input",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onInput(x))})("selectItem",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onSelectItem(x))})("keypress",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keydown",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.preventEventsPropagation(x))})("keyup",function(x){e.eBV(o);const ee=e.XpG();return e.Njj(ee.onKeyUp(x))}),e.k0s()()}if(2&u){const o=e.XpG(),d=e.sdS(1);e.R7$(),e.Y8G("ngIf",o.searching),e.R7$(),e.AVh("is-invalid",o.showErrorMessages)("pl-3",o.chips.hasItems()),e.R50("ngModel",o.currentValue),e.Y8G("id",o.id)("inputFormatter",o.formatter)("name",o.model.name)("ngbTypeahead",o.search)("placeholder",o.model.placeholder)("readonly",o.model.readOnly)("resultTemplate",d)("type",o.model.inputType),e.BMQ("aria-labelledby","label_"+o.model.id)("autoComplete",o.model.autoComplete)}}let c2=(()=>{class u extends eb.o{constructor(o,d,x,ee){super(o,x,ee),this.vocabularyService=o,this.cdr=d,this.layoutService=x,this.validationService=ee,this.bindId=!0,this.blur=new e.bkB,this.change=new e.bkB,this.focus=new e.bkB,this.searching=!1,this.searchFailed=!1,this.hideSearchingWhenUnsubscribed=new Lr.c(()=>()=>this.changeSearchingStatus(!1)),this.formatter=Se=>Se.display,this.search=Se=>Se.pipe((0,a2.B)(300),(0,C.F)(),(0,ii.M)(()=>this.changeSearchingStatus(!0)),(0,Vs.n)(Ae=>""===Ae||Ae.length<this.model.minChars?(0,bs.of)({list:[]}):this.vocabularyService.getVocabularyEntriesByValue(Ae,!1,this.model.vocabularyOptions,new Cc.Q).pipe((0,ws.ak)(),(0,ii.M)(()=>this.searchFailed=!1),(0,In.W)(()=>(this.searchFailed=!0,(0,bs.of)((0,ZC.g)(new Cc.Q,[])))))),(0,Rt.T)(Ae=>Ae.page),(0,Rt.T)(Ae=>{if(Ae&&Ae.length>0&&(0,V.hj)(this.currentValue)){const ft=new vu.b;ft.display=this.currentValue,ft.value=this.currentValue,Ae.push(ft)}return Ae}),(0,ii.M)(()=>this.changeSearchingStatus(!1)),(0,l2.h)(this.hideSearchingWhenUnsubscribed))}ngOnInit(){this.hasAuthority=this.model.vocabularyOptions&&(0,V.a4)(this.model.vocabularyOptions.name),this.chips=new MP(this.model.value,"display",null,R.c.submission.icons.metadata),this.chips.chipsItems.subscribe(o=>{const d=this.chips.getChipsItems();cu()(d,this.model.value)||this.dispatchUpdate(d)})}changeSearchingStatus(o){this.searching=o,this.cdr.detectChanges()}onInput(o){o.data&&this.group.markAsDirty(),this.cdr.detectChanges()}onBlur(o){(0,V.hj)(this.currentValue)&&(!this.model.hasAuthority||!this.instance.isPopupOpen())&&this.addTagsToChips(),this.blur.emit(o)}onSelectItem(o){this.chips.add(o.item),this.updateModel(o),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50)}updateModel(o){this.dispatchUpdate(this.chips.getChipsItems())}onKeyUp(o){(13===o.keyCode||188===o.keyCode)&&(o.preventDefault(),this.addTagsToChips(),o.stopPropagation())}preventEventsPropagation(o){o.stopPropagation(),13===o.keyCode&&o.preventDefault()}setCurrentValue(o,d=!1){this.currentValue=o}addTagsToChips(){if((0,V.a4)(this.currentValue)&&(!this.hasAuthority||!this.model.vocabularyOptions.closed)){let o=[];o=this.currentValue.split(",");const d=[];o.forEach(x=>{x.split(";").forEach(ee=>{d.push(ee)})}),d.forEach(x=>{(x=x.trim()).length>0&&this.chips.add(x)}),setTimeout(()=>{this.setCurrentValue(null),this.cdr.detectChanges()},50),this.updateModel(event)}}static{this.\u0275fac=function(d){return new(d||u)(e.rXU(Zd.g),e.rXU(e.gRc),e.rXU(Ss.fpj),e.rXU(Ss.STK))}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["ds-dynamic-tag"]],viewQuery:function(d,x){if(1&d&&e.GBs(Gv,5),2&d){let ee;e.mGM(ee=e.lsd())&&(x.instance=ee.first)}},inputs:{bindId:"bindId",group:"group",model:"model"},outputs:{blur:"blur",change:"change",focus:"focus"},standalone:!0,features:[e.Vt3,e.aNF],decls:5,vars:6,consts:[["rt",""],["instance","ngbTypeahead"],[3,"chips","editable","showIcons","wrapperClass"],["class","border-0 form-control-plaintext tag-input flex-grow-1 mt-1 mb-1","type","text","role","textbox",3,"pl-3","placeholder","readonly","ngModel","ngModelChange","blur","keypress","keydown","keyup",4,"ngIf"],["class","position-relative right-addon",4,"ngIf"],["type","text","role","textbox",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","keypress","keydown","keyup","placeholder","readonly","ngModel"],[1,"position-relative","right-addon"],["class","fas fa-circle-notch fa-spin fa-2x fa-fw text-primary position-absolute mt-1 p-0","aria-hidden","true",4,"ngIf"],["type","text",1,"border-0","form-control-plaintext","tag-input","flex-grow-1","mt-1","mb-1",3,"ngModelChange","blur","focus","change","input","selectItem","keypress","keydown","keyup","ngModel","id","inputFormatter","name","ngbTypeahead","placeholder","readonly","resultTemplate","type"],["aria-hidden","true",1,"fas","fa-circle-notch","fa-spin","fa-2x","fa-fw","text-primary","position-absolute","mt-1","p-0"]],template:function(d,x){1&d&&(e.DNE(0,vb,1,1,"ng-template",null,0,e.C5r),e.j41(2,"ds-chips",2),e.DNE(3,ld,1,5,"input",3)(4,jP,4,16,"div",4),e.k0s()),2&d&&(e.R7$(2),e.Y8G("chips",x.chips)("editable",!1)("showIcons",x.model.hasAuthority)("wrapperClass","border-bottom border-light"),e.R7$(),e.Y8G("ngIf",!x.model.hasAuthority),e.R7$(),e.Y8G("ngIf",x.model.hasAuthority))},dependencies:[X.h_,X.$n,Nn.YN,Nn.me,Nn.BC,Nn.vS,p.bT,fb],styles:[".ds-form-input-addon[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important;border-right:0!important}.ds-form-input-btn[_ngcontent-%COMP%]{border:var(--bs-input-btn-border-width) solid var(--bs-input-border-color);border-top-left-radius:0;border-bottom-left-radius:0;border-left:0}.ds-form-input-btn[_ngcontent-%COMP%]:focus{box-shadow:none!important}button.ds-form-add-more[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none!important}.ds-form-input-value[_ngcontent-%COMP%]{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.fa-spin[_ngcontent-%COMP%]{pointer-events:none}.left-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .left-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{left:0}.right-addon[_ngcontent-%COMP%]   .far[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%], .right-addon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{right:0}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:calc(var(--bs-spacer) * 2.25)}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:calc(var(--bs-spacer) * 2.25)}.chips-left[_ngcontent-%COMP%]{left:0;padding-right:100%}[_nghost-%COMP%]     .dropdown-menu{width:100%!important;max-height:var(--ds-dropdown-menu-max-height);overflow-y:scroll;overflow-x:hidden;left:0!important;margin-top:var(--bs-spacer)!important}[_nghost-%COMP%]     .dropdown-item.active, [_nghost-%COMP%]     .dropdown-item:active, [_nghost-%COMP%]     .dropdown-item:focus, [_nghost-%COMP%]     .dropdown-item:hover{color:var(--bs-dropdown-link-hover-color)!important;background-color:var(--bs-dropdown-link-hover-bg)!important}.tag-input[_ngcontent-%COMP%]{flex-grow:1;outline:none;width:auto!important}"]})}}return u})();function Eb(u){const E=u;switch(u.type){case Ss.WlY:return zA;case Ss.eU4:return Xm;case Ss.W25:return u instanceof fP.R?JC:LC;case Ss.fQD:return E.inline?qS:e2;case Ss.wnr:return aP;case Ss.FlA:return Xd;case Ss.KMD:return u instanceof mP.t?JC:FC;case Ss.PTN:return Jm;case Ss.TwG:return UC;case Ss.CTm:return jC;case ob.m:return DP.d;case BP.W:return eg.s;case UP.v:return c2;case Jd.T:return FP;case QA.s:return JA.P;case rb.d:case tb.V:return Uv;case t2.v:return HC;case KC.L:return XA;default:return null}}var kP=n(14410);class $v extends Hd.Qf{getResponseParser(){return kP.M}}let d2=(()=>{class u{constructor(o,d){this.requestService=o,this.halService=d}sendEvent(o,d){const x=this.requestService.generateRequestId();this.halService.getEndpoint(o).pipe((0,Rt.T)(ee=>new $v(x,ee,JSON.stringify(d))),(0,D.s)(1)).subscribe(ee=>this.requestService.send(ee))}trackViewEvent(o,d){this.sendEvent("/statistics/viewevents",{targetId:o.uuid,targetType:o.type,referrer:d})}trackSearchEvent(o,d,x,ee,Se){const Ae={query:o.query,page:{size:d.size,totalElements:d.totalElements,totalPages:d.totalPages,number:d.number},sort:{by:x.by,order:x.order.toLowerCase()}};if((0,V.a4)(o.configuration)&&Object.assign(Ae,{configuration:o.configuration}),(0,V.hj)(o.dsoTypes)&&Object.assign(Ae,{dsoType:o.dsoTypes[0].toLowerCase()}),(0,V.a4)(o.scope)&&Object.assign(Ae,{scope:o.scope}),(0,V.hj)(ee)){const ft=[];for(let jt=0,_n=ee.length;jt<_n;jt++){const dn=ee[jt];ft.push({filter:dn.filter,operator:dn.operator,value:dn.value,label:dn.label})}Object.assign(Ae,{appliedFilters:ft})}(0,V.a4)(Se)&&Object.assign(Ae,{clickedObject:Se}),this.sendEvent("/statistics/searchevents",Ae)}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(eo.B),e.KVO(Cm.Y))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Cb=(()=>{class u{constructor(o,d){this.angulartics2=o,this.statisticsService=d}startTracking(){this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(o=>this.eventTrack(o))}eventTrack(o){"page_view"===o.action?this.statisticsService.trackViewEvent(o.properties.object,o.properties.referrer):"search"===o.action&&this.statisticsService.trackSearchEvent(o.properties.searchOptions,o.properties.page,o.properties.sort,o.properties.filters,o.properties.clickedObject?.split("?")[0])}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(Eo.il),e.KVO(d2))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var dh;let Vp=class{static{dh=this}static{this.NGRX_STATE=(0,e.zw6)("NGRX_STATE")}constructor(E,o,d,x,ee,Se,Ae,ft,jt,_n){this.store=E,this.correlationIdService=o,this.appConfig=d,this.translate=x,this.localeService=ee,this.angulartics2DSpace=Se,this.headTagService=Ae,this.breadcrumbsService=ft,this.themeService=jt,this.menuService=_n}static providers(){if(!dh.isPrototypeOf(this))throw new Error("Initalization providers should only be generated from concrete subclasses of InitService");return[{provide:dh,useClass:this},{provide:ti.vQ,useFactory:E=>(this.resolveAppConfig(E),R.c),deps:[e.pJN]},{provide:e.hnV,useFactory:E=>E.init(),deps:[dh],multi:!0},{provide:ti.l9,useValue:UA},{provide:Ss.Fdw,useValue:Eb}]}static resolveAppConfig(E){}checkAuthenticationToken(){this.store.dispatch(new z.S3)}initCorrelationId(){this.correlationIdService.initCorrelationId()}checkEnvironment(){if(!cu()(R.c,this.appConfig))throw new Error("environment does not match app config!");R.c.debug&&console.info(R.c)}initI18n(){this.translate.addLangs(R.c.languages.filter(E=>!0===E.active).map(E=>E.code)),this.localeService.setCurrentLanguageCode()}initAngulartics(){this.angulartics2DSpace.startTracking()}initRouteListeners(){this.headTagService.listenForRouteChange(),this.breadcrumbsService.listenForRouteChanges(),this.themeService.listenForRouteChanges(),this.menuService.listenForRouteChanges()}authenticationReady$(){return this.store.pipe((0,v.Lt)(w.Gv),(0,C.F)(),(0,Ws.I)(E=>!1===E))}};Vp=dh=(0,Ue.Cg)([(0,Ue.Qj)(2,(0,e.y_5)(ti.vQ)),(0,Ue.Sn)("design:paramtypes",[v.il,hf,Object,G.c$,Pc.iH,Cb,hC,pC.E,H.Fs,Sl.$])],Vp);var VP=n(16358);class u2{constructor(){this.production=!1,this.debug=!1,this.ui={ssl:!1,host:"localhost",port:4e3,nameSpace:"/",rateLimiter:{windowMs:6e4,max:500},useProxies:!0},this.rest={ssl:!1,host:"localhost",port:8080,nameSpace:"/"},this.actuators={endpointPath:"/actuator/health"},this.cache={msToLive:{default:9e5},control:"max-age=604800",autoSync:{defaultTime:0,maxBufferSize:100,timePerMethod:{[hv.D.PATCH]:3}},serverSide:{debug:!1,headers:["Link"],botCache:{max:1e3,timeToLive:864e5,allowStale:!0},anonymousCache:{max:0,timeToLive:1e4,allowStale:!0}}},this.auth={ui:{timeUntilIdle:9e5,idleGracePeriod:3e5},rest:{timeLeftBeforeTokenRefresh:12e4}},this.form={spellCheck:!0,validatorMap:{required:"required",regex:"pattern"}},this.notifications={rtl:!1,position:["top","right"],maxStack:8,timeOut:5e3,clickToClose:!0,animate:VP.n.Scale},this.submission={autosave:{metadata:[],timer:0},duplicateDetection:{alwaysShowSection:!1},typeBind:{field:"dc.type"},icons:{metadata:[{name:"dc.author",style:"fas fa-user"},{name:"default",style:""}],authority:{confidence:[{value:600,style:"text-success",icon:"fa-circle-check"},{value:500,style:"text-info",icon:"fa-gear"},{value:400,style:"text-warning",icon:"fa-circle-question"},{value:300,style:"text-muted",icon:"fa-circle-question"},{value:200,style:"text-muted",icon:"fa-circle-exclamation"},{value:100,style:"text-muted",icon:"fa-circle-stop"},{value:0,style:"text-muted",icon:"fa-ban"},{value:-1,style:"text-muted",icon:"fa-circle-xmark"},{value:"default",style:"text-muted",icon:"fa-circle-xmark"}]}}},this.defaultLanguage="en",this.languages=[{code:"en",label:"English",active:!0},{code:"ar",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",active:!0},{code:"bn",label:"\u09ac\u09be\u0982\u09b2\u09be",active:!0},{code:"ca",label:"Catal\xe0",active:!0},{code:"cs",label:"\u010ce\u0161tina",active:!0},{code:"de",label:"Deutsch",active:!0},{code:"el",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",active:!0},{code:"es",label:"Espa\xf1ol",active:!0},{code:"fi",label:"Suomi",active:!0},{code:"fr",label:"Fran\xe7ais",active:!0},{code:"gd",label:"G\xe0idhlig",active:!0},{code:"hi",label:"\u0939\u093f\u0902\u0926\u0940",active:!0},{code:"hu",label:"Magyar",active:!0},{code:"it",label:"Italiano",active:!0},{code:"kk",label:"\u049a\u0430\u0437\u0430\u049b",active:!0},{code:"lv",label:"Latvie\u0161u",active:!0},{code:"nl",label:"Nederlands",active:!0},{code:"pl",label:"Polski",active:!0},{code:"pt-PT",label:"Portugu\xeas",active:!0},{code:"pt-BR",label:"Portugu\xeas do Brasil",active:!0},{code:"sr-lat",label:"Srpski (lat)",active:!0},{code:"sr-cyr",label:"\u0421\u0440\u043f\u0441\u043a\u0438",active:!0},{code:"sv",label:"Svenska",active:!0},{code:"tr",label:"T\xfcrk\xe7e",active:!0},{code:"uk",label:"Y\u043a\u0440\u0430\u0457\u0301\u043d\u0441\u044c\u043a\u0430",active:!0},{code:"vi",label:"Ti\u1ebfng Vi\u1ec7t",active:!0}],this.browseBy={oneYearLimit:10,fiveYearLimit:30,defaultLowerLimit:1900,showThumbnails:!0,pageSize:20},this.communityList={pageSize:20},this.homePage={recentSubmissions:{pageSize:5,sortField:"dc.date.accessioned"},topLevelCommunityList:{pageSize:5},showDiscoverFilters:!1},this.item={edit:{undoTimeout:1e4},showAccessStatuses:!1,bitstream:{pageSize:5}},this.community={searchSection:{showSidebar:!0}},this.collection={searchSection:{showSidebar:!0},edit:{undoTimeout:1e4}},this.suggestion=[],this.themes=[{name:"dspace",headTags:[{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.ico",sizes:"any"}},{tagName:"link",attributes:{rel:"icon",href:"assets/dspace/images/favicons/favicon.svg",type:"image/svg+xml"}},{tagName:"link",attributes:{rel:"apple-touch-icon",href:"assets/dspace/images/favicons/apple-touch-icon.png"}},{tagName:"link",attributes:{rel:"manifest",href:"assets/dspace/images/favicons/manifest.webmanifest"}}]}],this.bundle={standardBundles:["ORIGINAL","THUMBNAIL","LICENSE"]},this.mediaViewer={image:!1,video:!1},this.info={enableEndUserAgreement:!0,enablePrivacyStatement:!0,enableCOARNotifySupport:!0},this.markdown={enabled:!1,mathjax:!1},this.vocabularies=[{filter:"subject",vocabulary:"srsc",enabled:!1}],this.comcolSelectionSort={sortField:"dc.title",sortDirection:"ASC"},this.qualityAssuranceConfig={sourceUrlMapForProjectSearch:{openaire:"https://explore.openaire.eu/search/project?projectId="},pageSize:5},this.search={advancedFilters:{enabled:!1,filter:["title","author","subject","entityType"]},filterPlaceholdersCount:5},this.notifyMetrics=[{title:"admin-notify-dashboard.received-ldn",boxes:[{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.incoming.accepted",config:"NOTIFY.incoming.accepted",description:"admin-notify-dashboard.NOTIFY.incoming.accepted.description"},{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.incoming.processed",config:"NOTIFY.incoming.processed",description:"admin-notify-dashboard.NOTIFY.incoming.processed.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.failure",config:"NOTIFY.incoming.failure",description:"admin-notify-dashboard.NOTIFY.incoming.failure.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.incoming.untrusted",config:"NOTIFY.incoming.untrusted",description:"admin-notify-dashboard.NOTIFY.incoming.untrusted.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.incoming.involvedItems",textColor:"#fff",config:"NOTIFY.incoming.involvedItems",description:"admin-notify-dashboard.NOTIFY.incoming.involvedItems.description"}]},{title:"admin-notify-dashboard.generated-ldn",boxes:[{color:"#D4EDDA",title:"admin-notify-dashboard.NOTIFY.outgoing.delivered",config:"NOTIFY.outgoing.delivered",description:"admin-notify-dashboard.NOTIFY.outgoing.delivered.description"},{color:"#B8DAFF",title:"admin-notify-dashboard.NOTIFY.outgoing.queued",config:"NOTIFY.outgoing.queued",description:"admin-notify-dashboard.NOTIFY.outgoing.queued.description"},{color:"#FDEEBB",title:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry",config:"NOTIFY.outgoing.queued_for_retry",description:"admin-notify-dashboard.NOTIFY.outgoing.queued_for_retry.description"},{color:"#FDBBC7",title:"admin-notify-dashboard.NOTIFY.outgoing.failure",config:"NOTIFY.outgoing.failure",description:"admin-notify-dashboard.NOTIFY.outgoing.failure.description"},{color:"#43515F",title:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems",textColor:"#fff",config:"NOTIFY.outgoing.involvedItems",description:"admin-notify-dashboard.NOTIFY.outgoing.involvedItems.description"}]}],this.liveRegion={messageTimeOutDurationMs:3e4,isVisible:!1}}}let h2=(()=>{class u extends Vp{constructor(o,d,x,ee,Se,Ae,ft,jt,_n,dn,ss,_s,Bn,qn,Xs,ji,pi,yr){super(o,d,ee,Se,Ae,ft,_n,dn,Bn,qn),this.store=o,this.correlationIdService=d,this.transferState=x,this.appConfig=ee,this.translate=Se,this.localeService=Ae,this.angulartics2DSpace=ft,this.googleAnalyticsService=jt,this.headTagService=_n,this.breadcrumbsService=dn,this.klaroService=ss,this.authService=_s,this.themeService=Bn,this.menuService=qn,this.rootDataService=Xs,this.router=ji,this.requestService=pi,this.halService=yr}static resolveAppConfig(o){if(o.hasKey(ti.Dr)){const d=o.get(ti.Dr,new u2);(0,Q.$k)(R.c,d)}}init(){var o=this;return(0,m.A)(function*(){return yield o.loadAppState(),o.checkAuthenticationToken(),o.externalAuthCheck(),o.initCorrelationId(),o.checkEnvironment(),(u=>{const E=u.production?"Production":"Development",o=u.production?"red":"green";console.info(""),console.info("%cdspace-angular","font-weight: bold;"),console.info("Version: %c8.1.0","font-weight: bold;"),console.info(`Environment: %c${E}`,`color: ${o}; font-weight: bold;`),console.info("")})(R.c),o.initI18n(),o.initAngulartics(),o.initGoogleAnalytics(),o.initRouteListeners(),o.themeService.listenForThemeChanges(!0),o.trackAuthTokenExpiration(),o.initKlaro(),yield Iv(o.authenticationReady$()),!0})}loadAppState(){var o=this;return(0,m.A)(function*(){if(o.appConfig.ssr.transferState){const d=o.transferState.get(Vp.NGRX_STATE,null);return o.transferState.remove(Vp.NGRX_STATE),o.store.dispatch(new ag(Sa.REHYDRATE,d)),Iv(o.store.select(P1.N).pipe((0,Ws.I)(x=>(0,V.hj)(x)),(0,Rt.T)(()=>!0)))}return Promise.resolve(!0)})()}trackAuthTokenExpiration(){this.authService.trackTokenExpiration()}initKlaro(){this.authenticationReady$().subscribe(()=>{this.klaroService.initialize()})}initGoogleAnalytics(){this.googleAnalyticsService.addTrackingIdToPage()}externalAuthCheck(){this.sub=this.authService.isExternalAuthentication().pipe((0,Fn.p)(o=>o)).subscribe(()=>{this.requestService.setStaleByHrefSubstring(this.halService.getRootHref()),this.authService.setExternalAuthStatus(!1)}),this.closeAuthCheckSubscription()}closeAuthCheckSubscription(){(function dC(u,E){const o="object"==typeof E;return new Promise((d,x)=>{const ee=new Sv.Ms({next:Se=>{d(Se),ee.unsubscribe()},error:x,complete:()=>{o?d(E.defaultValue):x(new Mv.G)}});u.subscribe(ee)})})(this.authenticationReady$()).then(()=>{this.sub.unsubscribe()})}initRouteListeners(){super.initRouteListeners(),this.listenForRouteChanges()}listenForRouteChanges(){this.rootDataService.invalidateRootCache(),this.router.events.pipe((0,Fn.p)(o=>o instanceof _.Z)).subscribe(()=>{this.rootDataService.invalidateRootCache()})}static{this.\u0275fac=function(d){return new(d||u)(e.KVO(v.il),e.KVO(hf),e.KVO(e.pJN),e.KVO(ti.vQ),e.KVO(G.c$),e.KVO(Pc.iH),e.KVO(Cb),e.KVO(Bp),e.KVO(hC),e.KVO(pC.E),e.KVO(Fp.$),e.KVO(h.uR),e.KVO(H.Fs),e.KVO(Sl.$),e.KVO(Un.RootDataService),e.KVO(_.Ix),e.KVO(eo.B),e.KVO(Cm.Y))}}static{this.\u0275prov=e.jDH({token:u,factory:u.\u0275fac})}}return u})();const bb=(0,e.zw6)("req"),$P=(0,e.v7R)({providers:[(0,ie.$R)((0,ie.Sx)()),function bl(){return(0,e.ngT)("NgEagerAnimations"),[...ua]}(),(0,f.$x)(),(0,e.oKB)(Eo.ok.forRoot(),v.md.forFeature("core",MS,dl.wP),sa.forFeature(iS),G.h.forRoot({loader:{provide:G.Wr,useFactory:function Tb(u,E){return new cC(u,E,"assets/i18n/",".json")},deps:[e.pJN,ie.Qq]},missingTranslationHandler:{provide:G.er,useClass:Dv.M},useDefaultLang:!0})),...h2.providers(),{provide:e.sZ2,useValue:"dspace-angular"},{provide:Ov.S,useFactory:function GP(u){return u.get(bb,{})},deps:[e.pJN]},{provide:e.hnV,useFactory:(u,E)=>u.initXSRFToken(E),deps:[id,ie.Qq],multi:!0},{provide:id,useClass:AS},{provide:h.uR,useClass:h.uR},{provide:hu.O,useClass:Ng},{provide:Fp.$,useClass:Hm},{provide:lf.E,useClass:lf.E},{provide:Pc.iH,useClass:Pc.iH},{provide:Np.$,useClass:PS},{provide:Bp,useClass:Bp},{provide:Eo.eB,useClass:Eo.eB},{provide:uv.H,useClass:Pp},{provide:q1.f,useClass:IS},{provide:eC,useFactory:function SS(){return window.location}},{provide:xd,useClass:RS}]},WI),WP=()=>(0,f.B8)(Y,$P),KP=null!==document.querySelector("script#dspace-angular-state"),HP=()=>(R.c.production&&(0,e.SmG)(),KP?WP():fetch("assets/config.json").then(u=>u.json()).then(u=>((0,Q.$k)(R.c,u),WP())));"complete"!==document.readyState||KP?document.addEventListener("DOMContentLoaded",HP):HP()},47435:(N,T,n)=>{"use strict";n.r(T),n.d(T,{HeaderNavbarWrapperComponent:()=>v});var i=n(60177),t=n(41780),l=n(95960),e=n(78221),f=n(77632),m=n(621),p=n(54438);function _(y,C){if(1&y&&(p.j41(0,"div",2),p.nI1(1,"async"),p.j41(2,"nav",3),p.nI1(3,"async"),p.nI1(4,"translate"),p.nrm(5,"ds-navbar"),p.k0s()()),2&y){const O=p.XpG();p.Y8G("@slideMobileNav",p.bMT(1,3,O.isNavBarCollapsed$)?"collapsed":"expanded"),p.R7$(2),p.BMQ("aria-hidden",p.bMT(3,5,O.isNavBarCollapsed$))("aria-label",p.bMT(4,7,"nav.main.description"))}}let v=(()=>{class y extends e.HeaderNavbarWrapperComponent{static{this.\u0275fac=(()=>{let O;return function(D){return(O||(O=p.xGo(y)))(D||y)}})()}static{this.\u0275cmp=p.VBU({type:y,selectors:[["ds-themed-header-navbar-wrapper"]],standalone:!0,features:[p.Vt3,p.aNF],decls:4,vars:3,consts:[["id","header-navbar-wrapper"],["id","mobile-navbar-wrapper",4,"ngIf"],["id","mobile-navbar-wrapper"],["id","collapsible-mobile-navbar",1,"px-3"]],template:function(I,D){1&I&&(p.j41(0,"div",0),p.nrm(1,"ds-header"),p.DNE(2,_,6,9,"div",1),p.nI1(3,"async"),p.k0s()),2&I&&(p.R7$(2),p.Y8G("ngIf",p.bMT(3,1,D.isMobile$)))},dependencies:[l.q,f.D,i.Jj,t.h,t.D9,i.bT],styles:["[_nghost-%COMP%]{--ds-header-navbar-border-bottom-style: solid var(--ds-header-navbar-border-bottom-height) var(--ds-header-navbar-border-bottom-color);--ds-expandable-navbar-border-top-style: solid var(--ds-expandable-navbar-border-top-height) var(--ds-expandable-navbar-border-top-color);--ds-expandable-navbar-height: calc(100vh - var(--ds-header-height))}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]{position:relative;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]{width:100%;background-color:var(--ds-expandable-navbar-bg);position:absolute;z-index:var(--ds-nav-z-index);overflow:hidden}[_nghost-%COMP%]   div#header-navbar-wrapper[_ngcontent-%COMP%]   div#mobile-navbar-wrapper[_ngcontent-%COMP%]   nav#collapsible-mobile-navbar[_ngcontent-%COMP%]{min-height:var(--ds-expandable-navbar-height);height:auto;border-bottom:var(--ds-header-navbar-border-bottom-style)}[_nghost-%COMP%]     .ds-menu-item, [_nghost-%COMP%]     .ds-menu-toggler-wrapper{white-space:nowrap;text-decoration:none}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item-wrapper, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{display:flex;align-items:center;height:100%}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-navbar-item-vertical-padding) var(--ds-navbar-item-horizontal-padding)}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper{color:var(--ds-navbar-link-color)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-item:focus, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:hover, [_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .ds-menu-toggler-wrapper:focus{color:var(--ds-navbar-link-color-hover)!important}[_nghost-%COMP%]     nav#desktop-navbar #main-site-navigation .dropdown-menu .ds-menu-item{padding:var(--ds-navbar-dropdown-item-vertical-padding) var(--ds-navbar-dropdown-item-horizontal-padding)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar{border-top:var(--ds-expandable-navbar-border-top-style);padding-top:var(--ds-expandable-navbar-padding-top)}[_nghost-%COMP%]     nav#collapsible-mobile-navbar #main-site-navigation .ds-menu-item{padding:var(--ds-expandable-navbar-item-vertical-padding) 0}"],data:{animation:[m.p8]}})}}return y})()},3018:(N,T,n)=>{"use strict";n.r(T),n.d(T,{HeaderComponent:()=>R});var i=n(60177),t=n(7901),l=n(52149),e=n(41780),f=n(28068),m=n(20968),p=n(34912),_=n(77632),v=n(3224),y=n(44002),C=n(34458),O=n(54438);function I(h,w){1&h&&(O.j41(0,"nav",9),O.nI1(1,"translate"),O.nrm(2,"ds-navbar"),O.k0s()),2&h&&O.BMQ("aria-label",O.bMT(1,1,"nav.main.description"))}function D(h,w){if(1&h){const b=O.RV6();O.j41(0,"div",10)(1,"button",11),O.nI1(2,"translate"),O.nI1(3,"async"),O.bIt("click",function(){O.eBV(b);const M=O.XpG();return O.Njj(M.toggleNavbar())}),O.nrm(4,"span",12),O.k0s()()}if(2&h){const b=O.XpG();O.R7$(),O.BMQ("aria-label",O.bMT(2,2,"nav.toggle"))("aria-expanded",!0!==O.bMT(3,4,b.isNavBarCollapsed$))}}let R=(()=>{class h extends p.HeaderComponent{ngOnInit(){super.ngOnInit(),this.isNavBarCollapsed$=this.menuService.isMenuCollapsed(this.menuID)}static{this.\u0275fac=(()=>{let b;return function(M){return(b||(b=O.xGo(h)))(M||h)}})()}static{this.\u0275cmp=O.VBU({type:h,selectors:[["ds-themed-header"]],standalone:!0,features:[O.Vt3,O.aNF],decls:21,vars:20,consts:[["id","main-site-header"],["id","main-site-header-container",1,"container","h-100","d-flex","flex-row","flex-wrap","align-items-center","justify-content-between","gapx-3","gapy-2"],["id","header-left",1,"h-100","flex-fill","d-flex","flex-row","flex-nowrap","justify-content-start","align-items-center","gapx-3"],["routerLink","/home",1,"d-block","my-2","my-md-0"],["id","header-logo","src","assets/images/unifesp_logo.png"],["class","navbar navbar-expand p-0 align-items-stretch align-self-stretch","id","desktop-navbar",4,"ngIf"],["id","header-right",1,"h-100","d-flex","flex-row","flex-nowrap","justify-content-end","align-items-center","gapx-1","ml-auto"],["role","menubar",1,"h-100","d-flex","flex-row","flex-nowrap","align-items-center","gapx-1"],["id","mobile-navbar-toggler","class","d-block d-lg-none ml-3",4,"ngIf"],["id","desktop-navbar",1,"navbar","navbar-expand","p-0","align-items-stretch","align-self-stretch"],["id","mobile-navbar-toggler",1,"d-block","d-lg-none","ml-3"],["id","navbar-toggler","type","button","aria-controls","collapsible-mobile-navbar",1,"btn",3,"click"],["aria-hidden","true",1,"fas","fa-bars","fa-fw","fa-xl","toggler-icon"]],template:function(P,M){1&P&&(O.j41(0,"header",0)(1,"div",1)(2,"div",2),O.nI1(3,"async"),O.nI1(4,"async"),O.nI1(5,"translate"),O.j41(6,"a",3),O.nI1(7,"translate"),O.nrm(8,"img",4),O.nI1(9,"translate"),O.k0s(),O.DNE(10,I,3,3,"nav",5),O.nI1(11,"async"),O.k0s(),O.j41(12,"div",6),O.nrm(13,"ds-search-navbar"),O.j41(14,"div",7),O.nrm(15,"ds-lang-switch")(16,"ds-context-help-toggle")(17,"ds-impersonate-navbar")(18,"ds-auth-nav-menu"),O.k0s(),O.DNE(19,D,5,6,"div",8),O.nI1(20,"async"),O.k0s()()()),2&P&&(O.R7$(2),O.BMQ("role",O.bMT(3,6,M.isMobile$)?"navigation":"presentation")("aria-label",O.bMT(4,8,M.isMobile$)?O.bMT(5,10,"nav.main.description"):null),O.R7$(4),O.BMQ("aria-label",O.bMT(7,12,"home.title")),O.R7$(2),O.BMQ("alt",O.bMT(9,14,"menu.header.image.logo")),O.R7$(2),O.Y8G("ngIf",!0!==O.bMT(11,16,M.isMobile$)),O.R7$(9),O.Y8G("ngIf",O.bMT(20,18,M.isMobile$)))},dependencies:[l.zH,l.QE,f.n,t.Wk,v.X,m.Y,y.v,C.d,_.D,e.h,e.D9,i.Jj,i.bT],styles:["[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{min-height:var(--ds-header-height);background-color:var(--ds-header-bg)}@media (min-width: 768px){[_nghost-%COMP%]   #main-site-header[_ngcontent-%COMP%]{height:var(--ds-header-height)}}[_nghost-%COMP%]   #main-site-header-container[_ngcontent-%COMP%]{min-height:var(--ds-header-height)}[_nghost-%COMP%]   img#header-logo[_ngcontent-%COMP%]{height:var(--ds-header-logo-height)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]{color:var(--ds-header-icon-color)}[_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   button#navbar-toggler[_ngcontent-%COMP%]:focus{color:var(--ds-header-icon-color-hover)}"]})}}return h})()},89768:(N,T,n)=>{"use strict";n.r(T),n.d(T,{NavbarComponent:()=>C});var i=n(60177),t=n(52149),l=n(41780),e=n(67454),f=n(621),m=n(28619),p=n(54438);function _(O,I){1&O&&(p.qex(0),p.nrm(1,"ds-user-menu",3),p.bVm()),2&O&&(p.R7$(),p.Y8G("inExpandableNavbar",!0))}function v(O,I){1&O&&p.eu8(0)}function y(O,I){if(1&O&&(p.qex(0),p.DNE(1,v,1,0,"ng-container",4),p.nI1(2,"async"),p.nI1(3,"async"),p.bVm()),2&O){let D,R;const h=I.$implicit,w=p.XpG();p.R7$(),p.Y8G("ngComponentOutlet",null==(D=p.bMT(2,2,w.sectionMap$).get(h.id))?null:D.component)("ngComponentOutletInjector",null==(R=p.bMT(3,4,w.sectionMap$).get(h.id))?null:R.injector)}}let C=(()=>{class O extends e.NavbarComponent{static{this.\u0275fac=(()=>{let D;return function(h){return(D||(D=p.xGo(O)))(h||O)}})()}static{this.\u0275cmp=p.VBU({type:O,selectors:[["ds-themed-navbar"]],standalone:!0,features:[p.Vt3,p.aNF],decls:7,vars:11,consts:[[4,"ngIf"],["role","menubar","id","main-site-navigation",1,"navbar-nav","h-100","align-items-md-stretch","gapx-3",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"inExpandableNavbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(R,h){1&R&&(p.DNE(0,_,2,1,"ng-container",0),p.nI1(1,"async"),p.nI1(2,"async"),p.j41(3,"div",1),p.nI1(4,"async"),p.DNE(5,y,4,6,"ng-container",2),p.nI1(6,"async"),p.k0s()),2&R&&(p.Y8G("ngIf",p.bMT(1,3,h.isMobile$)&&p.bMT(2,5,h.isAuthenticated$)),p.R7$(3),p.Y8G("ngClass",p.bMT(4,7,h.isMobile$)?"navbar-nav-mobile":"navbar-nav-desktop"),p.R7$(2),p.Y8G("ngForOf",p.bMT(6,9,h.sections)))},dependencies:[t.zH,i.YU,i.bT,m.r,i.pM,i.OI,i.Jj,l.h],data:{animation:[f.p8]}})}}return O})()},77181:(N,T)=>{"use strict";var i=null;try{i=window}catch{i=global}var t=i.__CerializeTypeMap=new i.Map;function p(We){return Array.isArray(We)?We.map(function(dt){return dt&&dt.toString()||null}):We&&We.toString()||null}function _(We){return Array.isArray(We)?We.map(function(dt){return parseFloat(dt)}):parseFloat(We)}function v(We){return Array.isArray(We)?We.map(function(dt){return!!dt}):!!We}function y(We){return Array.isArray(We)?We.map(function(dt){return dt&&dt.toString()||null}):We&&We.toString()||null}function C(We){return Array.isArray(We)?We.map(function(dt){return parseInt(dt)}):parseInt(We)}function O(We){return Array.isArray(We)?We.map(function(dt){return!!dt}):!!We}function I(We){return We===String?p:We===Number?_:We===Boolean?v:We}function D(We){return We===String?y:We===Number?C:We===Boolean?O:We}function R(We,dt){for(var it=0;it<We.length;it++)if(We[it].keyName===dt)return We[it];return We.push(new z(dt)),We[We.length-1]}function h(We,dt){var it=null,Ge=null;return"string"==typeof We?Ge=We:(We&&"function"==typeof We||"object"==typeof We)&&(it=We,Ge=dt),{key:Ge,type:it}}T.inheritSerialization=function w(We){return function(dt){for(var it=t.get(We)||[],Ge=t.get(dt)||[],gt=0;gt<it.length;gt++)z.hasKeyName(Ge,it[gt].keyName)||Ge.push(z.clone(it[gt]));t.set(dt,Ge)}},T.deserialize=function P(We,dt){if(We&&dt){var it=t.get(We.constructor)||[];R(it,dt).deserializedKey=dt,t.set(We.constructor,it)}},T.autoserialize=function M(We,dt){if(We&&dt){var it=t.get(We.constructor)||[],Ge=R(it,dt);Ge.serializedKey=dt,Ge.deserializedKey=dt,t.set(We.constructor,it)}},T.serializeAs=function L(We,dt){if(We){var it=h(We,dt),Ge=it.key,gt=it.type;return function(Pe,we){if(Pe&&we){var vt=t.get(Pe.constructor)||[],at=R(vt,we);at.serializedKey=Ge||we,at.serializedType=gt,gt!==Date&&gt!==RegExp&&!t.get(gt)&&"function"==typeof gt&&(at.serializedType={Serialize:D(gt)}),t.set(Pe.constructor,vt)}}}},T.deserializeAs=function U(We,dt){if(We){var it=h(We,dt),Ge=it.key,gt=it.type;return function(Pe,we){if(Pe&&we){var vt=t.get(Pe.constructor)||[],at=R(vt,we);at.deserializedKey=Ge||we,at.deserializedType=gt,!t.get(gt)&&gt!==Date&&gt!==RegExp&&"function"==typeof gt&&(at.deserializedType={Deserialize:I(gt)}),t.set(Pe.constructor,vt)}}}},T.autoserializeAs=function j(We,dt){if(We){var it=h(We,dt),Ge=it.key,gt=it.type;return function(Pe,we){if(Pe&&we){var vt=t.get(Pe.constructor)||[],at=R(vt,we),nt=Ge||we;at.deserializedKey=nt,at.deserializedType=gt,at.serializedKey=nt,at.serializedType=D(gt),!t.get(gt)&&gt!==Date&&gt!==RegExp&&"function"==typeof gt&&(at.deserializedType={Deserialize:I(gt)}),t.set(Pe.constructor,vt)}}}};var z=function(){function We(dt){this.keyName=dt,this.serializedKey=null,this.deserializedKey=null,this.deserializedType=null,this.serializedType=null,this.indexable=!1}return We.hasKeyName=function(dt,it){for(var Ge=0;Ge<dt.length;Ge++)if(dt[Ge].keyName===it)return!0;return!1},We.clone=function(dt){var it=new We(dt.keyName);return it.deserializedKey=dt.deserializedKey,it.serializedKey=dt.serializedKey,it.serializedType=dt.serializedType,it.deserializedType=dt.deserializedType,it.indexable=dt.indexable,it},We}();function q(We,dt){return Array.isArray(We)?H(We,dt):We&&"object"==typeof We?ie(We,dt):("string"==typeof We||We instanceof Date)&&dt===Date.prototype.constructor?new Date(We):"string"==typeof We&&dt===RegExp?new RegExp(We):We}function H(We,dt){for(var it=new Array(We.length),Ge=0;Ge<We.length;Ge++)it[Ge]=q(We[Ge],dt);return it}function Y(We,dt,it){it&&"function"==typeof it.OnDeserialized&&it.OnDeserialized(We,dt)}function Q(We,dt){"function"==typeof We.constructor.OnSerialized&&We.constructor.OnSerialized(We,dt)}function ie(We,dt){var it=t.get(dt);if(!it){var Ge=null;return dt?Y(Ge=new dt,We,dt):Ge=JSON.parse(JSON.stringify(We)),Ge}for(var gt=new dt,Pe=0;Pe<it.length;Pe++){var we=it[Pe];if(we.deserializedKey){var vt=we.deserializedKey;we.deserializedKey===we.keyName&&"function"==typeof ye&&(vt=ye(we.keyName));var at=We[vt];void 0!==at&&(gt[we.keyName]=null===at?at:we.deserializedType&&"function"==typeof we.deserializedType.Deserialize?we.deserializedType.Deserialize(at):Array.isArray(at)?H(at,we.deserializedType||null):("string"==typeof at||at instanceof Date)&&we.deserializedType===Date.prototype.constructor?new Date(at):"string"==typeof at&&we.deserializedType===RegExp?new RegExp(We):at&&"object"==typeof at?we.indexable?oe(at,we.deserializedType):ie(at,we.deserializedType):at)}}return Y(gt,We,dt),gt}function oe(We,dt){var it={};return Object.keys(We).forEach(function(Ge){it[Ge]=ie(We[Ge],dt)}),it}function ne(We,dt){for(var it=new Array(We.length),Ge=0;Ge<We.length;Ge++)it[Ge]=Ce(We[Ge],dt);return it}function re(We,dt){var Ge,it={};Ge=t.get(dt||We.constructor);for(var gt=0;gt<Ge.length;gt++){var Pe=Ge[gt];if(Pe.serializedKey){var we=Pe.serializedKey;Pe.serializedKey===Pe.keyName&&"function"==typeof ae&&(we=ae(Pe.keyName));var vt=We[Pe.keyName];if(void 0!==vt)if(Array.isArray(vt))it[we]=ne(vt,Pe.serializedType||null);else if(Pe.serializedType&&"function"==typeof Pe.serializedType.Serialize)it[we]=Pe.serializedType.Serialize(vt);else{var at=Ce(vt);void 0!==at&&(it[we]=at)}}}return Q(We,it),it}function Ce(We,dt){if(null==We)return null;if(Array.isArray(We))return ne(We,dt);if(dt&&t.has(dt))return re(We,dt);if(We.constructor&&t.has(We.constructor))return re(We);if(We instanceof Date)return We.toISOString();if(We instanceof RegExp)return We.toString();if(We&&"object"==typeof We||"function"==typeof We){for(var it=Object.keys(We),Ge={},gt=0;gt<it.length;gt++)Ge[it[gt]]=Ce(We[it[gt]]);return Q(We,Ge),Ge}return We}T.Deserialize=q,T.Serialize=Ce;var ae=null,ye=null},74850:(N,T,n)=>{N.exports=n(77181)},43364:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i,t){for(var l=i<0?"-":"",e=Math.abs(i).toString();e.length<t;)e="0"+e;return l+e},N.exports=T.default},66139:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i,t){if(null==i)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(i[l]=t[l]);return i},N.exports=T.default},88200:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function l(e){return(0,t.default)({},e)};var t=i(n(66139));N.exports=T.default},70733:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(12606));T.default=t.default,N.exports=T.default},18635:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.getDefaultOptions=function i(){return n},T.setDefaultOptions=function t(l){n=l};var n={}},99073:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(3498)),l=i(n(79429)),e=i(n(29348)),f=i(n(86964)),m=i(n(10125)),p=i(n(43364)),_=i(n(33133));function C(R,h){var w=R>0?"-":"+",b=Math.abs(R),P=Math.floor(b/60),M=b%60;if(0===M)return w+String(P);var L=h||"";return w+String(P)+L+(0,p.default)(M,2)}function O(R,h){return R%60==0?(R>0?"-":"+")+(0,p.default)(Math.abs(R)/60,2):I(R,h)}function I(R,h){var w=h||"",b=R>0?"-":"+",P=Math.abs(R);return b+(0,p.default)(Math.floor(P/60),2)+w+(0,p.default)(P%60,2)}T.default={G:function(h,w,b){var P=h.getUTCFullYear()>0?1:0;switch(w){case"G":case"GG":case"GGG":return b.era(P,{width:"abbreviated"});case"GGGGG":return b.era(P,{width:"narrow"});default:return b.era(P,{width:"wide"})}},y:function(h,w,b){if("yo"===w){var P=h.getUTCFullYear();return b.ordinalNumber(P>0?P:1-P,{unit:"year"})}return _.default.y(h,w)},Y:function(h,w,b,P){var M=(0,m.default)(h,P),L=M>0?M:1-M;return"YY"===w?(0,p.default)(L%100,2):"Yo"===w?b.ordinalNumber(L,{unit:"year"}):(0,p.default)(L,w.length)},R:function(h,w){var b=(0,e.default)(h);return(0,p.default)(b,w.length)},u:function(h,w){var b=h.getUTCFullYear();return(0,p.default)(b,w.length)},Q:function(h,w,b){var P=Math.ceil((h.getUTCMonth()+1)/3);switch(w){case"Q":return String(P);case"QQ":return(0,p.default)(P,2);case"Qo":return b.ordinalNumber(P,{unit:"quarter"});case"QQQ":return b.quarter(P,{width:"abbreviated",context:"formatting"});case"QQQQQ":return b.quarter(P,{width:"narrow",context:"formatting"});default:return b.quarter(P,{width:"wide",context:"formatting"})}},q:function(h,w,b){var P=Math.ceil((h.getUTCMonth()+1)/3);switch(w){case"q":return String(P);case"qq":return(0,p.default)(P,2);case"qo":return b.ordinalNumber(P,{unit:"quarter"});case"qqq":return b.quarter(P,{width:"abbreviated",context:"standalone"});case"qqqqq":return b.quarter(P,{width:"narrow",context:"standalone"});default:return b.quarter(P,{width:"wide",context:"standalone"})}},M:function(h,w,b){var P=h.getUTCMonth();switch(w){case"M":case"MM":return _.default.M(h,w);case"Mo":return b.ordinalNumber(P+1,{unit:"month"});case"MMM":return b.month(P,{width:"abbreviated",context:"formatting"});case"MMMMM":return b.month(P,{width:"narrow",context:"formatting"});default:return b.month(P,{width:"wide",context:"formatting"})}},L:function(h,w,b){var P=h.getUTCMonth();switch(w){case"L":return String(P+1);case"LL":return(0,p.default)(P+1,2);case"Lo":return b.ordinalNumber(P+1,{unit:"month"});case"LLL":return b.month(P,{width:"abbreviated",context:"standalone"});case"LLLLL":return b.month(P,{width:"narrow",context:"standalone"});default:return b.month(P,{width:"wide",context:"standalone"})}},w:function(h,w,b,P){var M=(0,f.default)(h,P);return"wo"===w?b.ordinalNumber(M,{unit:"week"}):(0,p.default)(M,w.length)},I:function(h,w,b){var P=(0,l.default)(h);return"Io"===w?b.ordinalNumber(P,{unit:"week"}):(0,p.default)(P,w.length)},d:function(h,w,b){return"do"===w?b.ordinalNumber(h.getUTCDate(),{unit:"date"}):_.default.d(h,w)},D:function(h,w,b){var P=(0,t.default)(h);return"Do"===w?b.ordinalNumber(P,{unit:"dayOfYear"}):(0,p.default)(P,w.length)},E:function(h,w,b){var P=h.getUTCDay();switch(w){case"E":case"EE":case"EEE":return b.day(P,{width:"abbreviated",context:"formatting"});case"EEEEE":return b.day(P,{width:"narrow",context:"formatting"});case"EEEEEE":return b.day(P,{width:"short",context:"formatting"});default:return b.day(P,{width:"wide",context:"formatting"})}},e:function(h,w,b,P){var M=h.getUTCDay(),L=(M-P.weekStartsOn+8)%7||7;switch(w){case"e":return String(L);case"ee":return(0,p.default)(L,2);case"eo":return b.ordinalNumber(L,{unit:"day"});case"eee":return b.day(M,{width:"abbreviated",context:"formatting"});case"eeeee":return b.day(M,{width:"narrow",context:"formatting"});case"eeeeee":return b.day(M,{width:"short",context:"formatting"});default:return b.day(M,{width:"wide",context:"formatting"})}},c:function(h,w,b,P){var M=h.getUTCDay(),L=(M-P.weekStartsOn+8)%7||7;switch(w){case"c":return String(L);case"cc":return(0,p.default)(L,w.length);case"co":return b.ordinalNumber(L,{unit:"day"});case"ccc":return b.day(M,{width:"abbreviated",context:"standalone"});case"ccccc":return b.day(M,{width:"narrow",context:"standalone"});case"cccccc":return b.day(M,{width:"short",context:"standalone"});default:return b.day(M,{width:"wide",context:"standalone"})}},i:function(h,w,b){var P=h.getUTCDay(),M=0===P?7:P;switch(w){case"i":return String(M);case"ii":return(0,p.default)(M,w.length);case"io":return b.ordinalNumber(M,{unit:"day"});case"iii":return b.day(P,{width:"abbreviated",context:"formatting"});case"iiiii":return b.day(P,{width:"narrow",context:"formatting"});case"iiiiii":return b.day(P,{width:"short",context:"formatting"});default:return b.day(P,{width:"wide",context:"formatting"})}},a:function(h,w,b){var M=h.getUTCHours()/12>=1?"pm":"am";switch(w){case"a":case"aa":return b.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"aaa":return b.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return b.dayPeriod(M,{width:"narrow",context:"formatting"});default:return b.dayPeriod(M,{width:"wide",context:"formatting"})}},b:function(h,w,b){var M,P=h.getUTCHours();switch(M=12===P?"noon":0===P?"midnight":P/12>=1?"pm":"am",w){case"b":case"bb":return b.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"bbb":return b.dayPeriod(M,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return b.dayPeriod(M,{width:"narrow",context:"formatting"});default:return b.dayPeriod(M,{width:"wide",context:"formatting"})}},B:function(h,w,b){var M,P=h.getUTCHours();switch(M=P>=17?"evening":P>=12?"afternoon":P>=4?"morning":"night",w){case"B":case"BB":case"BBB":return b.dayPeriod(M,{width:"abbreviated",context:"formatting"});case"BBBBB":return b.dayPeriod(M,{width:"narrow",context:"formatting"});default:return b.dayPeriod(M,{width:"wide",context:"formatting"})}},h:function(h,w,b){if("ho"===w){var P=h.getUTCHours()%12;return 0===P&&(P=12),b.ordinalNumber(P,{unit:"hour"})}return _.default.h(h,w)},H:function(h,w,b){return"Ho"===w?b.ordinalNumber(h.getUTCHours(),{unit:"hour"}):_.default.H(h,w)},K:function(h,w,b){var P=h.getUTCHours()%12;return"Ko"===w?b.ordinalNumber(P,{unit:"hour"}):(0,p.default)(P,w.length)},k:function(h,w,b){var P=h.getUTCHours();return 0===P&&(P=24),"ko"===w?b.ordinalNumber(P,{unit:"hour"}):(0,p.default)(P,w.length)},m:function(h,w,b){return"mo"===w?b.ordinalNumber(h.getUTCMinutes(),{unit:"minute"}):_.default.m(h,w)},s:function(h,w,b){return"so"===w?b.ordinalNumber(h.getUTCSeconds(),{unit:"second"}):_.default.s(h,w)},S:function(h,w){return _.default.S(h,w)},X:function(h,w,b,P){var L=(P._originalDate||h).getTimezoneOffset();if(0===L)return"Z";switch(w){case"X":return O(L);case"XXXX":case"XX":return I(L);default:return I(L,":")}},x:function(h,w,b,P){var L=(P._originalDate||h).getTimezoneOffset();switch(w){case"x":return O(L);case"xxxx":case"xx":return I(L);default:return I(L,":")}},O:function(h,w,b,P){var L=(P._originalDate||h).getTimezoneOffset();switch(w){case"O":case"OO":case"OOO":return"GMT"+C(L,":");default:return"GMT"+I(L,":")}},z:function(h,w,b,P){var L=(P._originalDate||h).getTimezoneOffset();switch(w){case"z":case"zz":case"zzz":return"GMT"+C(L,":");default:return"GMT"+I(L,":")}},t:function(h,w,b,P){var L=Math.floor((P._originalDate||h).getTime()/1e3);return(0,p.default)(L,w.length)},T:function(h,w,b,P){var L=(P._originalDate||h).getTime();return(0,p.default)(L,w.length)}},N.exports=T.default},33133:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(43364));T.default={y:function(m,p){var _=m.getUTCFullYear(),v=_>0?_:1-_;return(0,t.default)("yy"===p?v%100:v,p.length)},M:function(m,p){var _=m.getUTCMonth();return"M"===p?String(_+1):(0,t.default)(_+1,2)},d:function(m,p){return(0,t.default)(m.getUTCDate(),p.length)},a:function(m,p){var _=m.getUTCHours()/12>=1?"pm":"am";switch(p){case"a":case"aa":return _.toUpperCase();case"aaa":return _;case"aaaaa":return _[0];default:return"am"===_?"a.m.":"p.m."}},h:function(m,p){return(0,t.default)(m.getUTCHours()%12||12,p.length)},H:function(m,p){return(0,t.default)(m.getUTCHours(),p.length)},m:function(m,p){return(0,t.default)(m.getUTCMinutes(),p.length)},s:function(m,p){return(0,t.default)(m.getUTCSeconds(),p.length)},S:function(m,p){var _=p.length,v=m.getUTCMilliseconds(),y=Math.floor(v*Math.pow(10,_-3));return(0,t.default)(y,p.length)}},N.exports=T.default},26035:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var n=function(m,p){switch(m){case"P":return p.date({width:"short"});case"PP":return p.date({width:"medium"});case"PPP":return p.date({width:"long"});default:return p.date({width:"full"})}},i=function(m,p){switch(m){case"p":return p.time({width:"short"});case"pp":return p.time({width:"medium"});case"ppp":return p.time({width:"long"});default:return p.time({width:"full"})}};T.default={p:i,P:function(m,p){var C,_=m.match(/(P+)(p+)?/)||[],v=_[1],y=_[2];if(!y)return n(m,p);switch(v){case"P":C=p.dateTime({width:"short"});break;case"PP":C=p.dateTime({width:"medium"});break;case"PPP":C=p.dateTime({width:"long"});break;default:C=p.dateTime({width:"full"})}return C.replace("{{date}}",n(v,p)).replace("{{time}}",i(y,p))}},N.exports=T.default},20059:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i){var t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return t.setUTCFullYear(i.getFullYear()),i.getTime()-t.getTime()},N.exports=T.default},3498:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m){(0,l.default)(1,arguments);var p=(0,t.default)(m),_=p.getTime();p.setUTCMonth(0,1),p.setUTCHours(0,0,0,0);var v=p.getTime();return Math.floor((_-v)/e)+1};var t=i(n(75624)),l=i(n(5238)),e=864e5;N.exports=T.default},79429:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(_){(0,f.default)(1,arguments);var v=(0,t.default)(_),y=(0,l.default)(v).getTime()-(0,e.default)(v).getTime();return Math.round(y/m)+1};var t=i(n(75624)),l=i(n(68224)),e=i(n(96145)),f=i(n(5238)),m=6048e5;N.exports=T.default},29348:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m){(0,l.default)(1,arguments);var p=(0,t.default)(m),_=p.getUTCFullYear(),v=new Date(0);v.setUTCFullYear(_+1,0,4),v.setUTCHours(0,0,0,0);var y=(0,e.default)(v),C=new Date(0);C.setUTCFullYear(_,0,4),C.setUTCHours(0,0,0,0);var O=(0,e.default)(C);return p.getTime()>=y.getTime()?_+1:p.getTime()>=O.getTime()?_:_-1};var t=i(n(75624)),l=i(n(5238)),e=i(n(68224));N.exports=T.default},86964:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(_,v){(0,f.default)(1,arguments);var y=(0,t.default)(_),C=(0,l.default)(y,v).getTime()-(0,e.default)(y,v).getTime();return Math.round(C/m)+1};var t=i(n(75624)),l=i(n(3595)),e=i(n(12086)),f=i(n(5238)),m=6048e5;N.exports=T.default},10125:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(_,v){var y,C,O,I,D,R,h,w;(0,l.default)(1,arguments);var b=(0,t.default)(_),P=b.getUTCFullYear(),M=(0,m.getDefaultOptions)(),L=(0,f.default)(null!==(y=null!==(C=null!==(O=null!==(I=v?.firstWeekContainsDate)&&void 0!==I?I:null==v||null===(D=v.locale)||void 0===D||null===(R=D.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:M.firstWeekContainsDate)&&void 0!==C?C:null===(h=M.locale)||void 0===h||null===(w=h.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==y?y:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=new Date(0);B.setUTCFullYear(P+1,0,L),B.setUTCHours(0,0,0,0);var U=(0,e.default)(B,v),$=new Date(0);$.setUTCFullYear(P,0,L),$.setUTCHours(0,0,0,0);var j=(0,e.default)($,v);return b.getTime()>=U.getTime()?P+1:b.getTime()>=j.getTime()?P:P-1};var t=i(n(75624)),l=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);N.exports=T.default},79850:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.isProtectedDayOfYearToken=function t(f){return-1!==n.indexOf(f)},T.isProtectedWeekYearToken=function l(f){return-1!==i.indexOf(f)},T.throwProtectedError=function e(f,m,p){if("YYYY"===f)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(m,"`) for formatting years to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===f)throw new RangeError("Use `yy` instead of `YY` (in `".concat(m,"`) for formatting years to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===f)throw new RangeError("Use `d` instead of `D` (in `".concat(m,"`) for formatting days of the month to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===f)throw new RangeError("Use `dd` instead of `DD` (in `".concat(m,"`) for formatting days of the month to the input `").concat(p,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var n=["D","DD"],i=["YY","YYYY"]},5238:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i,t){if(t.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+t.length+" present")},N.exports=T.default},68224:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function e(f){(0,l.default)(1,arguments);var p=(0,t.default)(f),_=p.getUTCDay(),v=(_<1?7:0)+_-1;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p};var t=i(n(75624)),l=i(n(5238));N.exports=T.default},96145:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m){(0,e.default)(1,arguments);var p=(0,t.default)(m),_=new Date(0);return _.setUTCFullYear(p,0,4),_.setUTCHours(0,0,0,0),(0,l.default)(_)};var t=i(n(29348)),l=i(n(68224)),e=i(n(5238));N.exports=T.default},3595:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function m(p,_){var v,y,C,O,I,D,R,h;(0,l.default)(1,arguments);var w=(0,f.getDefaultOptions)(),b=(0,e.default)(null!==(v=null!==(y=null!==(C=null!==(O=_?.weekStartsOn)&&void 0!==O?O:null==_||null===(I=_.locale)||void 0===I||null===(D=I.options)||void 0===D?void 0:D.weekStartsOn)&&void 0!==C?C:w.weekStartsOn)&&void 0!==y?y:null===(R=w.locale)||void 0===R||null===(h=R.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==v?v:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var P=(0,t.default)(p),M=P.getUTCDay(),L=(M<b?7:0)+M-b;return P.setUTCDate(P.getUTCDate()-L),P.setUTCHours(0,0,0,0),P};var t=i(n(75624)),l=i(n(5238)),e=i(n(25167)),f=n(18635);N.exports=T.default},12086:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(_,v){var y,C,O,I,D,R,h,w;(0,l.default)(1,arguments);var b=(0,m.getDefaultOptions)(),P=(0,f.default)(null!==(y=null!==(C=null!==(O=null!==(I=v?.firstWeekContainsDate)&&void 0!==I?I:null==v||null===(D=v.locale)||void 0===D||null===(R=D.options)||void 0===R?void 0:R.firstWeekContainsDate)&&void 0!==O?O:b.firstWeekContainsDate)&&void 0!==C?C:null===(h=b.locale)||void 0===h||null===(w=h.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==y?y:1),M=(0,t.default)(_,v),L=new Date(0);return L.setUTCFullYear(M,0,P),L.setUTCHours(0,0,0,0),(0,e.default)(L,v)};var t=i(n(10125)),l=i(n(5238)),e=i(n(3595)),f=i(n(25167)),m=n(18635);N.exports=T.default},25167:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i){if(null===i||!0===i||!1===i)return NaN;var t=Number(i);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)},N.exports=T.default},82678:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m,p){(0,e.default)(2,arguments);var _=(0,l.default)(m).getTime(),v=(0,t.default)(p);return new Date(_+v)};var t=i(n(25167)),l=i(n(75624)),e=i(n(5238));N.exports=T.default},24150:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function b(M,L,B){var U,$,j,G,z,V,X,J,q,Z,H,Y,Q,ie,oe,pe,ne,re;(0,y.default)(2,arguments);var Ce=String(L),Ee=(0,C.getDefaultOptions)(),ue=null!==(U=null!==($=B?.locale)&&void 0!==$?$:Ee.locale)&&void 0!==U?U:O.default,ae=(0,v.default)(null!==(j=null!==(G=null!==(z=null!==(V=B?.firstWeekContainsDate)&&void 0!==V?V:null==B||null===(X=B.locale)||void 0===X||null===(J=X.options)||void 0===J?void 0:J.firstWeekContainsDate)&&void 0!==z?z:Ee.firstWeekContainsDate)&&void 0!==G?G:null===(q=Ee.locale)||void 0===q||null===(Z=q.options)||void 0===Z?void 0:Z.firstWeekContainsDate)&&void 0!==j?j:1);if(!(ae>=1&&ae<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ye=(0,v.default)(null!==(H=null!==(Y=null!==(Q=null!==(ie=B?.weekStartsOn)&&void 0!==ie?ie:null==B||null===(oe=B.locale)||void 0===oe||null===(pe=oe.options)||void 0===pe?void 0:pe.weekStartsOn)&&void 0!==Q?Q:Ee.weekStartsOn)&&void 0!==Y?Y:null===(ne=Ee.locale)||void 0===ne||null===(re=ne.options)||void 0===re?void 0:re.weekStartsOn)&&void 0!==H?H:0);if(!(ye>=0&&ye<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ue.localize)throw new RangeError("locale must contain localize property");if(!ue.formatLong)throw new RangeError("locale must contain formatLong property");var De=(0,e.default)(M);if(!(0,t.default)(De))throw new RangeError("Invalid time value");var tt=(0,p.default)(De),_t=(0,l.default)(De,tt),We={firstWeekContainsDate:ae,weekStartsOn:ye,locale:ue,_originalDate:De};return Ce.match(D).map(function(it){var Ge=it[0];return"p"===Ge||"P"===Ge?(0,m.default[Ge])(it,ue.formatLong):it}).join("").match(I).map(function(it){if("''"===it)return"'";var Ge=it[0];if("'"===Ge)return function P(M){var L=M.match(R);return L?L[1].replace(h,"'"):M}(it);var gt=f.default[Ge];if(gt)return!(null!=B&&B.useAdditionalWeekYearTokens)&&(0,_.isProtectedWeekYearToken)(it)&&(0,_.throwProtectedError)(it,L,String(M)),!(null!=B&&B.useAdditionalDayOfYearTokens)&&(0,_.isProtectedDayOfYearToken)(it)&&(0,_.throwProtectedError)(it,L,String(M)),gt(_t,it,ue.localize,We);if(Ge.match(w))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ge+"`");return it}).join("")};var t=i(n(79649)),l=i(n(38695)),e=i(n(75624)),f=i(n(99073)),m=i(n(26035)),p=i(n(20059)),_=n(79850),v=i(n(25167)),y=i(n(5238)),C=n(18635),O=i(n(70733)),I=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,D=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R=/^'([^]*?)'?$/,h=/''/g,w=/[a-zA-Z]/;N.exports=T.default},24321:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function e(f){return(0,l.default)(1,arguments),f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===Object.prototype.toString.call(f)};var t=i(n(73738)),l=i(n(5238));N.exports=T.default},79649:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m){if((0,e.default)(1,arguments),!(0,t.default)(m)&&"number"!=typeof m)return!1;var p=(0,l.default)(m);return!isNaN(Number(p))};var t=i(n(24321)),l=i(n(75624)),e=i(n(5238));N.exports=T.default},93126:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=t.width?String(t.width):i.defaultWidth;return i.formats[l]||i.formats[i.defaultWidth]}},N.exports=T.default},33628:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i){return function(t,l){var f;if("formatting"===(null!=l&&l.context?String(l.context):"standalone")&&i.formattingValues){var m=i.defaultFormattingWidth||i.defaultWidth,p=null!=l&&l.width?String(l.width):m;f=i.formattingValues[p]||i.formattingValues[m]}else{var _=i.defaultWidth,v=null!=l&&l.width?String(l.width):i.defaultWidth;f=i.values[v]||i.values[_]}return f[i.argumentCallback?i.argumentCallback(t):t]}},N.exports=T.default},43636:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(l){return function(e){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=f.width,_=e.match(m&&l.matchPatterns[m]||l.matchPatterns[l.defaultMatchWidth]);if(!_)return null;var O,v=_[0],y=m&&l.parsePatterns[m]||l.parsePatterns[l.defaultParseWidth],C=Array.isArray(y)?function t(l,e){for(var f=0;f<l.length;f++)if(e(l[f]))return f}(y,function(D){return D.test(v)}):function i(l,e){for(var f in l)if(l.hasOwnProperty(f)&&e(l[f]))return f}(y,function(D){return D.test(v)});return O=l.valueCallback?l.valueCallback(C):C,{value:O=f.valueCallback?f.valueCallback(O):O,rest:e.slice(v.length)}}},N.exports=T.default},59354:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i){return function(t){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.match(i.matchPattern);if(!e)return null;var f=e[0],m=t.match(i.parsePattern);if(!m)return null;var p=i.valueCallback?i.valueCallback(m[0]):m[0];return{value:p=l.valueCallback?l.valueCallback(p):p,rest:t.slice(f.length)}}},N.exports=T.default},93204:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};T.default=function(e,f,m){var p,_=n[e];return p="string"==typeof _?_:1===f?_.one:_.other.replace("{{count}}",f.toString()),null!=m&&m.addSuffix?m.comparison&&m.comparison>0?"in "+p:p+" ago":p},N.exports=T.default},64837:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(93126)),m={date:(0,t.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,t.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,t.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};T.default=m,N.exports=T.default},77767:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};T.default=function(e,f,m,p){return n[e]},N.exports=T.default},29063:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(33628)),y={ordinalNumber:function(I,D){var R=Number(I),h=R%100;if(h>20||h<10)switch(h%10){case 1:return R+"st";case 2:return R+"nd";case 3:return R+"rd"}return R+"th"},era:(0,t.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,t.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(I){return I-1}}),month:(0,t.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,t.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,t.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};T.default=y,N.exports=T.default},95401:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(43636)),h={ordinalNumber:(0,i(n(59354)).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(P){return parseInt(P,10)}}),era:(0,t.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,t.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(P){return P+1}}),month:(0,t.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,t.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,t.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};T.default=h,N.exports=T.default},12606:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var t=i(n(93204)),l=i(n(64837)),e=i(n(77767)),f=i(n(29063)),m=i(n(95401));T.default={code:"en-US",formatDistance:t.default,formatLong:l.default,formatRelative:e.default,localize:f.default,match:m.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},N.exports=T.default},38695:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m,p){(0,l.default)(2,arguments);var _=(0,e.default)(p);return(0,t.default)(m,-_)};var t=i(n(82678)),l=i(n(5238)),e=i(n(25167));N.exports=T.default},75624:(N,T,n)=>{"use strict";var i=n(24994).default;Object.defineProperty(T,"__esModule",{value:!0}),T.default=function e(f){(0,l.default)(1,arguments);var m=Object.prototype.toString.call(f);return f instanceof Date||"object"===(0,t.default)(f)&&"[object Date]"===m?new Date(f.getTime()):"number"==typeof f||"[object Number]"===m?new Date(f):(("string"==typeof f||"[object String]"===m)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var t=i(n(73738)),l=i(n(5238));N.exports=T.default},58813:N=>{"use strict";var T=function(w){return function n(h){return!!h&&"object"==typeof h}(w)&&!function i(h){var w=Object.prototype.toString.call(h);return"[object RegExp]"===w||"[object Date]"===w||function e(h){return h.$$typeof===l}(h)}(w)},l="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function m(h,w){return!1!==w.clone&&w.isMergeableObject(h)?D(function f(h){return Array.isArray(h)?[]:{}}(h),h,w):h}function p(h,w,b){return h.concat(w).map(function(P){return m(P,b)})}function y(h){return Object.keys(h).concat(function v(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(w){return Object.propertyIsEnumerable.call(h,w)}):[]}(h))}function C(h,w){try{return w in h}catch{return!1}}function D(h,w,b){(b=b||{}).arrayMerge=b.arrayMerge||p,b.isMergeableObject=b.isMergeableObject||T,b.cloneUnlessOtherwiseSpecified=m;var P=Array.isArray(w);return P===Array.isArray(h)?P?b.arrayMerge(h,w,b):function I(h,w,b){var P={};return b.isMergeableObject(h)&&y(h).forEach(function(M){P[M]=m(h[M],b)}),y(w).forEach(function(M){(function O(h,w){return C(h,w)&&!(Object.hasOwnProperty.call(h,w)&&Object.propertyIsEnumerable.call(h,w))})(h,M)||(P[M]=C(h,M)&&b.isMergeableObject(w[M])?function _(h,w){if(!w.customMerge)return D;var b=w.customMerge(h);return"function"==typeof b?b:D}(M,b)(h[M],w[M],b):m(w[M],b))}),P}(h,w,b):m(w,b)}D.all=function(w,b){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(P,M){return D(P,M,b)},{})},N.exports=D},806:function(N){N.exports=function(){"use strict";var T=/^(b|B)$/,n={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},i={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},t={floor:Math.floor,ceil:Math.ceil};function l(e){var f,m,p,_,v,y,C,O,I,D,R,h,w,b,P,M,L,B,U,$,j,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=[],V=0;if(isNaN(e))throw new TypeError("Invalid number");if(p=!0===G.bits,P=!0===G.unix,h=!0===G.pad,w=void 0!==G.round?G.round:P?1:2,C=void 0!==G.locale?G.locale:"",O=G.localeOptions||{},M=void 0!==G.separator?G.separator:"",L=void 0!==G.spacer?G.spacer:P?"":" ",U=G.symbols||{},B=2===(m=G.base||2)&&G.standard||"jedec",R=G.output||"string",v=!0===G.fullform,y=G.fullforms instanceof Array?G.fullforms:[],f=void 0!==G.exponent?G.exponent:-1,$=t[G.roundingMethod]||Math.round,I=(D=Number(e))<0,_=m>2?1e3:1024,j=!1===isNaN(G.precision)?parseInt(G.precision,10):0,I&&(D=-D),(-1===f||isNaN(f))&&(f=Math.floor(Math.log(D)/Math.log(_)))<0&&(f=0),f>8&&(j>0&&(j+=8-f),f=8),"exponent"===R)return f;if(0===D)z[0]=0,b=z[1]=P?"":n[B][p?"bits":"bytes"][f];else{V=D/(2===m?Math.pow(2,10*f):Math.pow(1e3,f)),p&&(V*=8)>=_&&f<8&&(V/=_,f++);var X=Math.pow(10,f>0?w:0);z[0]=$(V*X)/X,z[0]===_&&f<8&&void 0===G.exponent&&(z[0]=1,f++),b=z[1]=10===m&&1===f?p?"kb":"kB":n[B][p?"bits":"bytes"][f],P&&(z[1]="jedec"===B?z[1].charAt(0):f>0?z[1].replace(/B$/,""):z[1],T.test(z[1])&&(z[0]=Math.floor(z[0]),z[1]=""))}if(I&&(z[0]=-z[0]),j>0&&(z[0]=z[0].toPrecision(j)),z[1]=U[z[1]]||z[1],!0===C?z[0]=z[0].toLocaleString():C.length>0?z[0]=z[0].toLocaleString(C,O):M.length>0&&(z[0]=z[0].toString().replace(".",M)),h&&!1===Number.isInteger(z[0])&&w>0){var J=M||".",q=z[0].toString().split(J),Z=q[1]||"",H=Z.length,Y=w-H;z[0]="".concat(q[0]).concat(J).concat(Z.padEnd(H+Y,"0"))}return v&&(z[1]=y[f]?y[f]:i[B][f]+(p?"bit":"byte")+(1===z[0]?"":"s")),"array"===R?z:"object"===R?{value:z[0],symbol:z[1],exponent:f,unit:b}:z.join(L)}return l.partial=function(e){return function(f){return l(f,e)}},l}()},2632:(N,T,n)=>{var i,t,l;void 0!==(t="function"==typeof(i=l=function(){function l(){for(var m=0,p={};m<arguments.length;m++){var _=arguments[m];for(var v in _)p[v]=_[v]}return p}function e(m){return m.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function f(m){function p(){}function _(y,C,O){if(!(typeof document>"u")){"number"==typeof(O=l({path:"/"},p.defaults,O)).expires&&(O.expires=new Date(1*new Date+864e5*O.expires)),O.expires=O.expires?O.expires.toUTCString():"";try{var I=JSON.stringify(C);/^[\{\[]/.test(I)&&(C=I)}catch{}C=m.write?m.write(C,y):encodeURIComponent(String(C)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),y=encodeURIComponent(String(y)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var D="";for(var R in O)O[R]&&(D+="; "+R,!0!==O[R]&&(D+="="+O[R].split(";")[0]));return document.cookie=y+"="+C+D}}function v(y,C){if(!(typeof document>"u")){for(var O={},I=document.cookie?document.cookie.split("; "):[],D=0;D<I.length;D++){var R=I[D].split("="),h=R.slice(1).join("=");!C&&'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var w=e(R[0]);if(h=(m.read||m)(h,w)||e(h),C)try{h=JSON.parse(h)}catch{}if(O[w]=h,y===w)break}catch{}}return y?O[y]:O}}return p.set=_,p.get=function(y){return v(y,!1)},p.getJSON=function(y){return v(y,!0)},p.remove=function(y,C){_(y,"",l(C,{expires:-1}))},p.defaults={},p.withConverter=f,p}(function(){})})?i.call(T,n,T,N):i)&&(N.exports=t),N.exports=l()},55013:(N,T,n)=>{var l=n(54385)(n(81464),"DataView");N.exports=l},63028:(N,T,n)=>{var i=n(56399),t=n(61483),l=n(83434),e=n(5230),f=n(33718);function m(p){var _=-1,v=null==p?0:p.length;for(this.clear();++_<v;){var y=p[_];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},25752:(N,T,n)=>{var i=n(23643),t=n(27103),l=n(30062),e=n(31610),f=n(1090);function m(p){var _=-1,v=null==p?0:p.length;for(this.clear();++_<v;){var y=p[_];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},51012:(N,T,n)=>{var l=n(54385)(n(81464),"Map");N.exports=l},90752:(N,T,n)=>{var i=n(21891),t=n(92759),l=n(97766),e=n(40322),f=n(47258);function m(p){var _=-1,v=null==p?0:p.length;for(this.clear();++_<v;){var y=p[_];this.set(y[0],y[1])}}m.prototype.clear=i,m.prototype.delete=t,m.prototype.get=l,m.prototype.has=e,m.prototype.set=f,N.exports=m},81339:(N,T,n)=>{var l=n(54385)(n(81464),"Promise");N.exports=l},57814:(N,T,n)=>{var l=n(54385)(n(81464),"Set");N.exports=l},50342:(N,T,n)=>{var i=n(90752),t=n(74643),l=n(92768);function e(f){var m=-1,p=null==f?0:f.length;for(this.__data__=new i;++m<p;)this.add(f[m])}e.prototype.add=e.prototype.push=t,e.prototype.has=l,N.exports=e},6898:(N,T,n)=>{var i=n(25752),t=n(48945),l=n(78425),e=n(25280),f=n(80324),m=n(84516);function p(_){var v=this.__data__=new i(_);this.size=v.size}p.prototype.clear=t,p.prototype.delete=l,p.prototype.get=e,p.prototype.has=f,p.prototype.set=m,N.exports=p},8516:(N,T,n)=>{var i=n(81464);N.exports=i.Symbol},12737:(N,T,n)=>{var i=n(81464);N.exports=i.Uint8Array},72248:(N,T,n)=>{var l=n(54385)(n(81464),"WeakMap");N.exports=l},81458:N=>{N.exports=function T(n,i,t){switch(t.length){case 0:return n.call(i);case 1:return n.call(i,t[0]);case 2:return n.call(i,t[0],t[1]);case 3:return n.call(i,t[0],t[1],t[2])}return n.apply(i,t)}},99526:N=>{N.exports=function T(n,i,t,l){for(var e=-1,f=null==n?0:n.length;++e<f;){var m=n[e];i(l,m,t(m),n)}return l}},75558:N=>{N.exports=function T(n,i){for(var t=-1,l=null==n?0:n.length;++t<l&&!1!==i(n[t],t,n););return n}},32873:N=>{N.exports=function T(n,i){for(var t=-1,l=null==n?0:n.length,e=0,f=[];++t<l;){var m=n[t];i(m,t,n)&&(f[e++]=m)}return f}},75306:(N,T,n)=>{var i=n(55300);N.exports=function t(l,e){return!(null==l||!l.length)&&i(l,e,0)>-1}},35878:N=>{N.exports=function T(n,i,t){for(var l=-1,e=null==n?0:n.length;++l<e;)if(t(i,n[l]))return!0;return!1}},28548:(N,T,n)=>{var i=n(69695),t=n(56265),l=n(9812),e=n(63151),f=n(98426),m=n(31028),_=Object.prototype.hasOwnProperty;N.exports=function v(y,C){var O=l(y),I=!O&&t(y),D=!O&&!I&&e(y),R=!O&&!I&&!D&&m(y),h=O||I||D||R,w=h?i(y.length,String):[],b=w.length;for(var P in y)(C||_.call(y,P))&&(!h||!("length"==P||D&&("offset"==P||"parent"==P)||R&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||f(P,b)))&&w.push(P);return w}},12757:N=>{N.exports=function T(n,i){for(var t=-1,l=null==n?0:n.length,e=Array(l);++t<l;)e[t]=i(n[t],t,n);return e}},86319:N=>{N.exports=function T(n,i){for(var t=-1,l=i.length,e=n.length;++t<l;)n[e+t]=i[t];return n}},57371:N=>{N.exports=function T(n,i){for(var t=-1,l=null==n?0:n.length;++t<l;)if(i(n[t],t,n))return!0;return!1}},10732:(N,T,n)=>{var i=n(64399),t=n(12651);N.exports=function l(e,f,m){(void 0!==m&&!t(e[f],m)||void 0===m&&!(f in e))&&i(e,f,m)}},69220:(N,T,n)=>{var i=n(64399),t=n(12651),e=Object.prototype.hasOwnProperty;N.exports=function f(m,p,_){var v=m[p];(!e.call(m,p)||!t(v,_)||void 0===_&&!(p in m))&&i(m,p,_)}},86316:(N,T,n)=>{var i=n(12651);N.exports=function t(l,e){for(var f=l.length;f--;)if(i(l[f][0],e))return f;return-1}},61512:(N,T,n)=>{var i=n(40868);N.exports=function t(l,e,f,m){return i(l,function(p,_,v){e(m,p,f(p),v)}),m}},28336:(N,T,n)=>{var i=n(43190),t=n(32561);N.exports=function l(e,f){return e&&i(f,t(f),e)}},66303:(N,T,n)=>{var i=n(43190),t=n(47674);N.exports=function l(e,f){return e&&i(f,t(f),e)}},64399:(N,T,n)=>{var i=n(44678);N.exports=function t(l,e,f){"__proto__"==e&&i?i(l,e,{configurable:!0,enumerable:!0,value:f,writable:!0}):l[e]=f}},25052:(N,T,n)=>{var i=n(6898),t=n(75558),l=n(69220),e=n(28336),f=n(66303),m=n(7697),p=n(25820),_=n(5308),v=n(67491),y=n(3539),C=n(49088),O=n(20828),I=n(89900),D=n(69686),R=n(92870),h=n(9812),w=n(63151),b=n(56879),P=n(83278),M=n(74257),L=n(32561),B=n(47674),G="[object Arguments]",q="[object Function]",Q="[object Object]",Ge={};Ge[G]=Ge["[object Array]"]=Ge["[object ArrayBuffer]"]=Ge["[object DataView]"]=Ge["[object Boolean]"]=Ge["[object Date]"]=Ge["[object Float32Array]"]=Ge["[object Float64Array]"]=Ge["[object Int8Array]"]=Ge["[object Int16Array]"]=Ge["[object Int32Array]"]=Ge["[object Map]"]=Ge["[object Number]"]=Ge[Q]=Ge["[object RegExp]"]=Ge["[object Set]"]=Ge["[object String]"]=Ge["[object Symbol]"]=Ge["[object Uint8Array]"]=Ge["[object Uint8ClampedArray]"]=Ge["[object Uint16Array]"]=Ge["[object Uint32Array]"]=!0,Ge["[object Error]"]=Ge[q]=Ge["[object WeakMap]"]=!1,N.exports=function gt(Pe,we,vt,at,nt,lt){var ve,Ne=1&we,ut=2&we,cn=4&we;if(vt&&(ve=nt?vt(Pe,at,nt,lt):vt(Pe)),void 0!==ve)return ve;if(!P(Pe))return Pe;var nn=h(Pe);if(nn){if(ve=I(Pe),!Ne)return p(Pe,ve)}else{var Mn=O(Pe),Tt=Mn==q||"[object GeneratorFunction]"==Mn;if(w(Pe))return m(Pe,Ne);if(Mn==Q||Mn==G||Tt&&!nt){if(ve=ut||Tt?{}:R(Pe),!Ne)return ut?v(Pe,f(ve,Pe)):_(Pe,e(ve,Pe))}else{if(!Ge[Mn])return nt?Pe:{};ve=D(Pe,Mn,Ne)}}lt||(lt=new i);var $t=lt.get(Pe);if($t)return $t;lt.set(Pe,ve),M(Pe)?Pe.forEach(function(ln){ve.add(gt(ln,we,vt,ln,Pe,lt))}):b(Pe)&&Pe.forEach(function(ln,It){ve.set(It,gt(ln,we,vt,It,Pe,lt))});var Jt=nn?void 0:(cn?ut?C:y:ut?B:L)(Pe);return t(Jt||Pe,function(ln,It){Jt&&(ln=Pe[It=ln]),l(ve,It,gt(ln,we,vt,It,Pe,lt))}),ve}},19593:(N,T,n)=>{var i=n(83278),t=Object.create;N.exports=function(){function e(){}return function(f){if(!i(f))return{};if(t)return t(f);e.prototype=f;var m=new e;return e.prototype=void 0,m}}()},6362:(N,T,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(12757),f=n(42502),m=n(31890);N.exports=function _(v,y,C,O){var I=-1,D=t,R=!0,h=v.length,w=[],b=y.length;if(!h)return w;C&&(y=e(y,f(C))),O?(D=l,R=!1):y.length>=200&&(D=m,R=!1,y=new i(y));e:for(;++I<h;){var P=v[I],M=null==C?P:C(P);if(P=O||0!==P?P:0,R&&M==M){for(var L=b;L--;)if(y[L]===M)continue e;w.push(P)}else D(y,M,O)||w.push(P)}return w}},40868:(N,T,n)=>{var i=n(73432),l=n(55892)(i);N.exports=l},75736:N=>{N.exports=function T(n,i,t,l){for(var e=n.length,f=t+(l?1:-1);l?f--:++f<e;)if(i(n[f],f,n))return f;return-1}},12875:N=>{N.exports=function T(n,i,t){var l;return t(n,function(e,f,m){if(i(e,f,m))return l=f,!1}),l}},13091:(N,T,n)=>{var i=n(86319),t=n(98892);N.exports=function l(e,f,m,p,_){var v=-1,y=e.length;for(m||(m=t),_||(_=[]);++v<y;){var C=e[v];f>0&&m(C)?f>1?l(C,f-1,m,p,_):i(_,C):p||(_[_.length]=C)}return _}},32898:(N,T,n)=>{var t=n(99602)();N.exports=t},73432:(N,T,n)=>{var i=n(32898),t=n(32561);N.exports=function l(e,f){return e&&i(e,f,t)}},98137:(N,T,n)=>{var i=n(43916),t=n(58130);N.exports=function l(e,f){for(var m=0,p=(f=i(f,e)).length;null!=e&&m<p;)e=e[t(f[m++])];return m&&m==p?e:void 0}},79926:(N,T,n)=>{var i=n(86319),t=n(9812);N.exports=function l(e,f,m){var p=f(e);return t(e)?p:i(p,m(e))}},61057:(N,T,n)=>{var i=n(8516),t=n(8488),l=n(53327),m=i?i.toStringTag:void 0;N.exports=function p(_){return null==_?void 0===_?"[object Undefined]":"[object Null]":m&&m in Object(_)?t(_):l(_)}},31398:N=>{N.exports=function T(n,i){return null!=n&&i in Object(n)}},55300:(N,T,n)=>{var i=n(75736),t=n(59636),l=n(75220);N.exports=function e(f,m,p){return m==m?l(f,m,p):i(f,t,p)}},16324:(N,T,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(12757),f=n(42502),m=n(31890),p=Math.min;N.exports=function _(v,y,C){for(var O=C?l:t,I=v[0].length,D=v.length,R=D,h=Array(D),w=1/0,b=[];R--;){var P=v[R];R&&y&&(P=e(P,f(y))),w=p(P.length,w),h[R]=!C&&(y||I>=120&&P.length>=120)?new i(R&&P):void 0}P=v[0];var M=-1,L=h[0];e:for(;++M<I&&b.length<w;){var B=P[M],U=y?y(B):B;if(B=C||0!==B?B:0,!(L?m(L,U):O(b,U,C))){for(R=D;--R;){var $=h[R];if(!($?m($,U):O(v[R],U,C)))continue e}L&&L.push(U),b.push(B)}}return b}},18313:(N,T,n)=>{var i=n(61057),t=n(57433);N.exports=function e(f){return t(f)&&"[object Arguments]"==i(f)}},32925:(N,T,n)=>{var i=n(89471),t=n(57433);N.exports=function l(e,f,m,p,_){return e===f||(null==e||null==f||!t(e)&&!t(f)?e!=e&&f!=f:i(e,f,m,p,l,_))}},89471:(N,T,n)=>{var i=n(6898),t=n(12900),l=n(7987),e=n(47880),f=n(20828),m=n(9812),p=n(63151),_=n(31028),y="[object Arguments]",C="[object Array]",O="[object Object]",D=Object.prototype.hasOwnProperty;N.exports=function R(h,w,b,P,M,L){var B=m(h),U=m(w),$=B?C:f(h),j=U?C:f(w),G=($=$==y?O:$)==O,z=(j=j==y?O:j)==O,V=$==j;if(V&&p(h)){if(!p(w))return!1;B=!0,G=!1}if(V&&!G)return L||(L=new i),B||_(h)?t(h,w,b,P,M,L):l(h,w,$,b,P,M,L);if(!(1&b)){var X=G&&D.call(h,"__wrapped__"),J=z&&D.call(w,"__wrapped__");if(X||J){var q=X?h.value():h,Z=J?w.value():w;return L||(L=new i),M(q,Z,b,P,L)}}return!!V&&(L||(L=new i),e(h,w,b,P,M,L))}},26095:(N,T,n)=>{var i=n(20828),t=n(57433);N.exports=function e(f){return t(f)&&"[object Map]"==i(f)}},32692:(N,T,n)=>{var i=n(6898),t=n(32925);N.exports=function f(m,p,_,v){var y=_.length,C=y,O=!v;if(null==m)return!C;for(m=Object(m);y--;){var I=_[y];if(O&&I[2]?I[1]!==m[I[0]]:!(I[0]in m))return!1}for(;++y<C;){var D=(I=_[y])[0],R=m[D],h=I[1];if(O&&I[2]){if(void 0===R&&!(D in m))return!1}else{var w=new i;if(v)var b=v(R,h,D,m,p,w);if(!(void 0===b?t(h,R,3,v,w):b))return!1}}return!0}},59636:N=>{N.exports=function T(n){return n!=n}},60298:(N,T,n)=>{var i=n(58653),t=n(48401),l=n(83278),e=n(68020),m=/^\[object .+?Constructor\]$/,C=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");N.exports=function O(I){return!(!l(I)||t(I))&&(i(I)?C:m).test(e(I))}},91889:(N,T,n)=>{var i=n(20828),t=n(57433);N.exports=function e(f){return t(f)&&"[object Set]"==i(f)}},18068:(N,T,n)=>{var i=n(61057),t=n(18845),l=n(57433),V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1,N.exports=function X(J){return l(J)&&t(J.length)&&!!V[i(J)]}},12344:(N,T,n)=>{var i=n(7432),t=n(61669),l=n(39631),e=n(9812),f=n(15788);N.exports=function m(p){return"function"==typeof p?p:null==p?l:"object"==typeof p?e(p)?t(p[0],p[1]):i(p):f(p)}},13809:(N,T,n)=>{var i=n(3164),t=n(96199),e=Object.prototype.hasOwnProperty;N.exports=function f(m){if(!i(m))return t(m);var p=[];for(var _ in Object(m))e.call(m,_)&&"constructor"!=_&&p.push(_);return p}},71194:(N,T,n)=>{var i=n(83278),t=n(3164),l=n(20908),f=Object.prototype.hasOwnProperty;N.exports=function m(p){if(!i(p))return l(p);var _=t(p),v=[];for(var y in p)"constructor"==y&&(_||!f.call(p,y))||v.push(y);return v}},45619:(N,T,n)=>{var i=n(40868),t=n(47291);N.exports=function l(e,f){var m=-1,p=t(e)?Array(e.length):[];return i(e,function(_,v,y){p[++m]=f(_,v,y)}),p}},7432:(N,T,n)=>{var i=n(32692),t=n(90613),l=n(2878);N.exports=function e(f){var m=t(f);return 1==m.length&&m[0][2]?l(m[0][0],m[0][1]):function(p){return p===f||i(p,f,m)}}},61669:(N,T,n)=>{var i=n(32925),t=n(26681),l=n(49830),e=n(181),f=n(94745),m=n(2878),p=n(58130);N.exports=function y(C,O){return e(C)&&f(O)?m(p(C),O):function(I){var D=t(I,C);return void 0===D&&D===O?l(I,C):i(O,D,3)}}},85765:(N,T,n)=>{var i=n(6898),t=n(10732),l=n(32898),e=n(91239),f=n(83278),m=n(47674),p=n(3609);N.exports=function _(v,y,C,O,I){v!==y&&l(y,function(D,R){if(I||(I=new i),f(D))e(v,y,R,C,_,O,I);else{var h=O?O(p(v,R),D,R+"",v,y,I):void 0;void 0===h&&(h=D),t(v,R,h)}},m)}},91239:(N,T,n)=>{var i=n(10732),t=n(7697),l=n(11334),e=n(25820),f=n(92870),m=n(56265),p=n(9812),_=n(25152),v=n(63151),y=n(58653),C=n(83278),O=n(49970),I=n(31028),D=n(3609),R=n(6729);N.exports=function h(w,b,P,M,L,B,U){var $=D(w,P),j=D(b,P),G=U.get(j);if(G)i(w,P,G);else{var z=B?B($,j,P+"",w,b,U):void 0,V=void 0===z;if(V){var X=p(j),J=!X&&v(j),q=!X&&!J&&I(j);z=j,X||J||q?p($)?z=$:_($)?z=e($):J?(V=!1,z=t(j,!0)):q?(V=!1,z=l(j,!0)):z=[]:O(j)||m(j)?(z=$,m($)?z=R($):(!C($)||y($))&&(z=f(j))):V=!1}V&&(U.set(j,z),L(z,j,M,B,U),U.delete(j)),i(w,P,z)}}},32168:(N,T,n)=>{var i=n(12757),t=n(98137),l=n(12344),e=n(45619),f=n(90480),m=n(42502),p=n(81653),_=n(39631),v=n(9812);N.exports=function y(C,O,I){O=O.length?i(O,function(h){return v(h)?function(w){return t(w,1===h.length?h[0]:h)}:h}):[_];var D=-1;O=i(O,m(l));var R=e(C,function(h,w,b){return{criteria:i(O,function(M){return M(h)}),index:++D,value:h}});return f(R,function(h,w){return p(h,w,I)})}},21740:N=>{N.exports=function T(n){return function(i){return i?.[n]}}},55058:(N,T,n)=>{var i=n(98137);N.exports=function t(l){return function(e){return i(e,l)}}},68591:(N,T,n)=>{var i=n(39631),t=n(28452),l=n(11230);N.exports=function e(f,m){return l(t(f,m,i),f+"")}},48565:(N,T,n)=>{var i=n(26205),t=n(44678),l=n(39631);N.exports=t?function(f,m){return t(f,"toString",{configurable:!0,enumerable:!1,value:i(m),writable:!0})}:l},90480:N=>{N.exports=function T(n,i){var t=n.length;for(n.sort(i);t--;)n[t]=n[t].value;return n}},69695:N=>{N.exports=function T(n,i){for(var t=-1,l=Array(n);++t<n;)l[t]=i(t);return l}},87005:(N,T,n)=>{var i=n(8516),t=n(12757),l=n(9812),e=n(15153),m=i?i.prototype:void 0,p=m?m.toString:void 0;N.exports=function _(v){if("string"==typeof v)return v;if(l(v))return t(v,_)+"";if(e(v))return p?p.call(v):"";var y=v+"";return"0"==y&&1/v==-1/0?"-0":y}},35461:(N,T,n)=>{var i=n(37327),t=/^\s+/;N.exports=function l(e){return e&&e.slice(0,i(e)+1).replace(t,"")}},42502:N=>{N.exports=function T(n){return function(i){return n(i)}}},73136:(N,T,n)=>{var i=n(50342),t=n(75306),l=n(35878),e=n(31890),f=n(67366),m=n(3578);N.exports=function _(v,y,C){var O=-1,I=t,D=v.length,R=!0,h=[],w=h;if(C)R=!1,I=l;else if(D>=200){var b=y?null:f(v);if(b)return m(b);R=!1,I=e,w=new i}else w=y?[]:h;e:for(;++O<D;){var P=v[O],M=y?y(P):P;if(P=C||0!==P?P:0,R&&M==M){for(var L=w.length;L--;)if(w[L]===M)continue e;y&&w.push(M),h.push(P)}else I(w,M,C)||(w!==h&&w.push(M),h.push(P))}return h}},31890:N=>{N.exports=function T(n,i){return n.has(i)}},86638:(N,T,n)=>{var i=n(25152);N.exports=function t(l){return i(l)?l:[]}},43916:(N,T,n)=>{var i=n(9812),t=n(181),l=n(22447),e=n(54717);N.exports=function f(m,p){return i(m)?m:t(m,p)?[m]:l(e(m))}},96220:(N,T,n)=>{var i=n(12737);N.exports=function t(l){var e=new l.constructor(l.byteLength);return new i(e).set(new i(l)),e}},7697:(N,T,n)=>{N=n.nmd(N);var i=n(81464),t=T&&!T.nodeType&&T,l=t&&N&&!N.nodeType&&N,f=l&&l.exports===t?i.Buffer:void 0,m=f?f.allocUnsafe:void 0;N.exports=function p(_,v){if(v)return _.slice();var y=_.length,C=m?m(y):new _.constructor(y);return _.copy(C),C}},55942:(N,T,n)=>{var i=n(96220);N.exports=function t(l,e){var f=e?i(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.byteLength)}},38466:N=>{var T=/\w*$/;N.exports=function n(i){var t=new i.constructor(i.source,T.exec(i));return t.lastIndex=i.lastIndex,t}},54511:(N,T,n)=>{var i=n(8516),t=i?i.prototype:void 0,l=t?t.valueOf:void 0;N.exports=function e(f){return l?Object(l.call(f)):{}}},11334:(N,T,n)=>{var i=n(96220);N.exports=function t(l,e){var f=e?i(l.buffer):l.buffer;return new l.constructor(f,l.byteOffset,l.length)}},44967:(N,T,n)=>{var i=n(15153);N.exports=function t(l,e){if(l!==e){var f=void 0!==l,m=null===l,p=l==l,_=i(l),v=void 0!==e,y=null===e,C=e==e,O=i(e);if(!y&&!O&&!_&&l>e||_&&v&&C&&!y&&!O||m&&v&&C||!f&&C||!p)return 1;if(!m&&!_&&!O&&l<e||O&&f&&p&&!m&&!_||y&&f&&p||!v&&p||!C)return-1}return 0}},81653:(N,T,n)=>{var i=n(44967);N.exports=function t(l,e,f){for(var m=-1,p=l.criteria,_=e.criteria,v=p.length,y=f.length;++m<v;){var C=i(p[m],_[m]);if(C)return m>=y?C:C*("desc"==f[m]?-1:1)}return l.index-e.index}},25820:N=>{N.exports=function T(n,i){var t=-1,l=n.length;for(i||(i=Array(l));++t<l;)i[t]=n[t];return i}},43190:(N,T,n)=>{var i=n(69220),t=n(64399);N.exports=function l(e,f,m,p){var _=!m;m||(m={});for(var v=-1,y=f.length;++v<y;){var C=f[v],O=p?p(m[C],e[C],C,m,e):void 0;void 0===O&&(O=e[C]),_?t(m,C,O):i(m,C,O)}return m}},5308:(N,T,n)=>{var i=n(43190),t=n(90181);N.exports=function l(e,f){return i(e,t(e),f)}},67491:(N,T,n)=>{var i=n(43190),t=n(35254);N.exports=function l(e,f){return i(e,t(e),f)}},20336:(N,T,n)=>{var i=n(81464);N.exports=i["__core-js_shared__"]},3145:(N,T,n)=>{var i=n(99526),t=n(61512),l=n(12344),e=n(9812);N.exports=function f(m,p){return function(_,v){var y=e(_)?i:t,C=p?p():{};return y(_,m,l(v,2),C)}}},87530:(N,T,n)=>{var i=n(68591),t=n(12721);N.exports=function l(e){return i(function(f,m){var p=-1,_=m.length,v=_>1?m[_-1]:void 0,y=_>2?m[2]:void 0;for(v=e.length>3&&"function"==typeof v?(_--,v):void 0,y&&t(m[0],m[1],y)&&(v=_<3?void 0:v,_=1),f=Object(f);++p<_;){var C=m[p];C&&e(f,C,p,v)}return f})}},55892:(N,T,n)=>{var i=n(47291);N.exports=function t(l,e){return function(f,m){if(null==f)return f;if(!i(f))return l(f,m);for(var p=f.length,_=e?p:-1,v=Object(f);(e?_--:++_<p)&&!1!==m(v[_],_,v););return f}}},99602:N=>{N.exports=function T(n){return function(i,t,l){for(var e=-1,f=Object(i),m=l(i),p=m.length;p--;){var _=m[n?p:++e];if(!1===t(f[_],_,f))break}return i}}},67366:(N,T,n)=>{var i=n(57814),t=n(68145),l=n(3578),f=i&&1/l(new i([,-0]))[1]==1/0?function(m){return new i(m)}:t;N.exports=f},44678:(N,T,n)=>{var i=n(54385),t=function(){try{var l=i(Object,"defineProperty");return l({},"",{}),l}catch{}}();N.exports=t},12900:(N,T,n)=>{var i=n(50342),t=n(57371),l=n(31890);N.exports=function m(p,_,v,y,C,O){var I=1&v,D=p.length,R=_.length;if(D!=R&&!(I&&R>D))return!1;var h=O.get(p),w=O.get(_);if(h&&w)return h==_&&w==p;var b=-1,P=!0,M=2&v?new i:void 0;for(O.set(p,_),O.set(_,p);++b<D;){var L=p[b],B=_[b];if(y)var U=I?y(B,L,b,_,p,O):y(L,B,b,p,_,O);if(void 0!==U){if(U)continue;P=!1;break}if(M){if(!t(_,function($,j){if(!l(M,j)&&(L===$||C(L,$,v,y,O)))return M.push(j)})){P=!1;break}}else if(L!==B&&!C(L,B,v,y,O)){P=!1;break}}return O.delete(p),O.delete(_),P}},7987:(N,T,n)=>{var i=n(8516),t=n(12737),l=n(12651),e=n(12900),f=n(37152),m=n(3578),M=i?i.prototype:void 0,L=M?M.valueOf:void 0;N.exports=function B(U,$,j,G,z,V,X){switch(j){case"[object DataView]":if(U.byteLength!=$.byteLength||U.byteOffset!=$.byteOffset)return!1;U=U.buffer,$=$.buffer;case"[object ArrayBuffer]":return!(U.byteLength!=$.byteLength||!V(new t(U),new t($)));case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+U,+$);case"[object Error]":return U.name==$.name&&U.message==$.message;case"[object RegExp]":case"[object String]":return U==$+"";case"[object Map]":var J=f;case"[object Set]":if(J||(J=m),U.size!=$.size&&!(1&G))return!1;var Z=X.get(U);if(Z)return Z==$;G|=2,X.set(U,$);var H=e(J(U),J($),G,z,V,X);return X.delete(U),H;case"[object Symbol]":if(L)return L.call(U)==L.call($)}return!1}},47880:(N,T,n)=>{var i=n(3539),e=Object.prototype.hasOwnProperty;N.exports=function f(m,p,_,v,y,C){var O=1&_,I=i(m),D=I.length;if(D!=i(p).length&&!O)return!1;for(var w=D;w--;){var b=I[w];if(!(O?b in p:e.call(p,b)))return!1}var P=C.get(m),M=C.get(p);if(P&&M)return P==p&&M==m;var L=!0;C.set(m,p),C.set(p,m);for(var B=O;++w<D;){var U=m[b=I[w]],$=p[b];if(v)var j=O?v($,U,b,p,m,C):v(U,$,b,m,p,C);if(!(void 0===j?U===$||y(U,$,_,v,C):j)){L=!1;break}B||(B="constructor"==b)}if(L&&!B){var G=m.constructor,z=p.constructor;G!=z&&"constructor"in m&&"constructor"in p&&!("function"==typeof G&&G instanceof G&&"function"==typeof z&&z instanceof z)&&(L=!1)}return C.delete(m),C.delete(p),L}},78657:N=>{var T="object"==typeof global&&global&&global.Object===Object&&global;N.exports=T},3539:(N,T,n)=>{var i=n(79926),t=n(90181),l=n(32561);N.exports=function e(f){return i(f,l,t)}},49088:(N,T,n)=>{var i=n(79926),t=n(35254),l=n(47674);N.exports=function e(f){return i(f,l,t)}},79038:(N,T,n)=>{var i=n(83329);N.exports=function t(l,e){var f=l.__data__;return i(e)?f["string"==typeof e?"string":"hash"]:f.map}},90613:(N,T,n)=>{var i=n(94745),t=n(32561);N.exports=function l(e){for(var f=t(e),m=f.length;m--;){var p=f[m],_=e[p];f[m]=[p,_,i(_)]}return f}},54385:(N,T,n)=>{var i=n(60298),t=n(58737);N.exports=function l(e,f){var m=t(e,f);return i(m)?m:void 0}},46902:(N,T,n)=>{var t=n(72852)(Object.getPrototypeOf,Object);N.exports=t},8488:(N,T,n)=>{var i=n(8516),t=Object.prototype,l=t.hasOwnProperty,e=t.toString,f=i?i.toStringTag:void 0;N.exports=function m(p){var _=l.call(p,f),v=p[f];try{p[f]=void 0;var y=!0}catch{}var C=e.call(p);return y&&(_?p[f]=v:delete p[f]),C}},90181:(N,T,n)=>{var i=n(32873),t=n(2260),e=Object.prototype.propertyIsEnumerable,f=Object.getOwnPropertySymbols;N.exports=f?function(p){return null==p?[]:(p=Object(p),i(f(p),function(_){return e.call(p,_)}))}:t},35254:(N,T,n)=>{var i=n(86319),t=n(46902),l=n(90181),e=n(2260);N.exports=Object.getOwnPropertySymbols?function(p){for(var _=[];p;)i(_,l(p)),p=t(p);return _}:e},20828:(N,T,n)=>{var i=n(55013),t=n(51012),l=n(81339),e=n(57814),f=n(72248),m=n(61057),p=n(68020),_="[object Map]",y="[object Promise]",C="[object Set]",O="[object WeakMap]",I="[object DataView]",D=p(i),R=p(t),h=p(l),w=p(e),b=p(f),P=m;(i&&P(new i(new ArrayBuffer(1)))!=I||t&&P(new t)!=_||l&&P(l.resolve())!=y||e&&P(new e)!=C||f&&P(new f)!=O)&&(P=function(M){var L=m(M),B="[object Object]"==L?M.constructor:void 0,U=B?p(B):"";if(U)switch(U){case D:return I;case R:return _;case h:return y;case w:return C;case b:return O}return L}),N.exports=P},58737:N=>{N.exports=function T(n,i){return n?.[i]}},85121:(N,T,n)=>{var i=n(43916),t=n(56265),l=n(9812),e=n(98426),f=n(18845),m=n(58130);N.exports=function p(_,v,y){for(var C=-1,O=(v=i(v,_)).length,I=!1;++C<O;){var D=m(v[C]);if(!(I=null!=_&&y(_,D)))break;_=_[D]}return I||++C!=O?I:!!(O=null==_?0:_.length)&&f(O)&&e(D,O)&&(l(_)||t(_))}},56399:(N,T,n)=>{var i=n(58247);N.exports=function t(){this.__data__=i?i(null):{},this.size=0}},61483:N=>{N.exports=function T(n){var i=this.has(n)&&delete this.__data__[n];return this.size-=i?1:0,i}},83434:(N,T,n)=>{var i=n(58247),e=Object.prototype.hasOwnProperty;N.exports=function f(m){var p=this.__data__;if(i){var _=p[m];return"__lodash_hash_undefined__"===_?void 0:_}return e.call(p,m)?p[m]:void 0}},5230:(N,T,n)=>{var i=n(58247),l=Object.prototype.hasOwnProperty;N.exports=function e(f){var m=this.__data__;return i?void 0!==m[f]:l.call(m,f)}},33718:(N,T,n)=>{var i=n(58247);N.exports=function l(e,f){var m=this.__data__;return this.size+=this.has(e)?0:1,m[e]=i&&void 0===f?"__lodash_hash_undefined__":f,this}},89900:N=>{var n=Object.prototype.hasOwnProperty;N.exports=function i(t){var l=t.length,e=new t.constructor(l);return l&&"string"==typeof t[0]&&n.call(t,"index")&&(e.index=t.index,e.input=t.input),e}},69686:(N,T,n)=>{var i=n(96220),t=n(55942),l=n(38466),e=n(54511),f=n(11334);N.exports=function j(G,z,V){var X=G.constructor;switch(z){case"[object ArrayBuffer]":return i(G);case"[object Boolean]":case"[object Date]":return new X(+G);case"[object DataView]":return t(G,V);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(G,V);case"[object Map]":case"[object Set]":return new X;case"[object Number]":case"[object String]":return new X(G);case"[object RegExp]":return l(G);case"[object Symbol]":return e(G)}}},92870:(N,T,n)=>{var i=n(19593),t=n(46902),l=n(3164);N.exports=function e(f){return"function"!=typeof f.constructor||l(f)?{}:i(t(f))}},98892:(N,T,n)=>{var i=n(8516),t=n(56265),l=n(9812),e=i?i.isConcatSpreadable:void 0;N.exports=function f(m){return l(m)||t(m)||!!(e&&m&&m[e])}},98426:N=>{var n=/^(?:0|[1-9]\d*)$/;N.exports=function i(t,l){var e=typeof t;return!!(l=l??9007199254740991)&&("number"==e||"symbol"!=e&&n.test(t))&&t>-1&&t%1==0&&t<l}},12721:(N,T,n)=>{var i=n(12651),t=n(47291),l=n(98426),e=n(83278);N.exports=function f(m,p,_){if(!e(_))return!1;var v=typeof p;return!!("number"==v?t(_)&&l(p,_.length):"string"==v&&p in _)&&i(_[p],m)}},181:(N,T,n)=>{var i=n(9812),t=n(15153),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;N.exports=function f(m,p){if(i(m))return!1;var _=typeof m;return!("number"!=_&&"symbol"!=_&&"boolean"!=_&&null!=m&&!t(m))||e.test(m)||!l.test(m)||null!=p&&m in Object(p)}},83329:N=>{N.exports=function T(n){var i=typeof n;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n}},48401:(N,T,n)=>{var e,i=n(20336),t=(e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";N.exports=function l(e){return!!t&&t in e}},3164:N=>{var T=Object.prototype;N.exports=function n(i){var t=i&&i.constructor;return i===("function"==typeof t&&t.prototype||T)}},94745:(N,T,n)=>{var i=n(83278);N.exports=function t(l){return l==l&&!i(l)}},23643:N=>{N.exports=function T(){this.__data__=[],this.size=0}},27103:(N,T,n)=>{var i=n(86316),l=Array.prototype.splice;N.exports=function e(f){var m=this.__data__,p=i(m,f);return!(p<0||(p==m.length-1?m.pop():l.call(m,p,1),--this.size,0))}},30062:(N,T,n)=>{var i=n(86316);N.exports=function t(l){var e=this.__data__,f=i(e,l);return f<0?void 0:e[f][1]}},31610:(N,T,n)=>{var i=n(86316);N.exports=function t(l){return i(this.__data__,l)>-1}},1090:(N,T,n)=>{var i=n(86316);N.exports=function t(l,e){var f=this.__data__,m=i(f,l);return m<0?(++this.size,f.push([l,e])):f[m][1]=e,this}},21891:(N,T,n)=>{var i=n(63028),t=n(25752),l=n(51012);N.exports=function e(){this.size=0,this.__data__={hash:new i,map:new(l||t),string:new i}}},92759:(N,T,n)=>{var i=n(79038);N.exports=function t(l){var e=i(this,l).delete(l);return this.size-=e?1:0,e}},97766:(N,T,n)=>{var i=n(79038);N.exports=function t(l){return i(this,l).get(l)}},40322:(N,T,n)=>{var i=n(79038);N.exports=function t(l){return i(this,l).has(l)}},47258:(N,T,n)=>{var i=n(79038);N.exports=function t(l,e){var f=i(this,l),m=f.size;return f.set(l,e),this.size+=f.size==m?0:1,this}},37152:N=>{N.exports=function T(n){var i=-1,t=Array(n.size);return n.forEach(function(l,e){t[++i]=[e,l]}),t}},2878:N=>{N.exports=function T(n,i){return function(t){return null!=t&&t[n]===i&&(void 0!==i||n in Object(t))}}},68339:(N,T,n)=>{var i=n(89605);N.exports=function l(e){var f=i(e,function(p){return 500===m.size&&m.clear(),p}),m=f.cache;return f}},58247:(N,T,n)=>{var t=n(54385)(Object,"create");N.exports=t},96199:(N,T,n)=>{var t=n(72852)(Object.keys,Object);N.exports=t},20908:N=>{N.exports=function T(n){var i=[];if(null!=n)for(var t in Object(n))i.push(t);return i}},90512:(N,T,n)=>{N=n.nmd(N);var i=n(78657),t=T&&!T.nodeType&&T,l=t&&N&&!N.nodeType&&N,f=l&&l.exports===t&&i.process,m=function(){try{return l&&l.require&&l.require("util").types||f&&f.binding&&f.binding("util")}catch{}}();N.exports=m},53327:N=>{var n=Object.prototype.toString;N.exports=function i(t){return n.call(t)}},72852:N=>{N.exports=function T(n,i){return function(t){return n(i(t))}}},28452:(N,T,n)=>{var i=n(81458),t=Math.max;N.exports=function l(e,f,m){return f=t(void 0===f?e.length-1:f,0),function(){for(var p=arguments,_=-1,v=t(p.length-f,0),y=Array(v);++_<v;)y[_]=p[f+_];_=-1;for(var C=Array(f+1);++_<f;)C[_]=p[_];return C[f]=m(y),i(e,this,C)}}},81464:(N,T,n)=>{var i=n(78657),t="object"==typeof self&&self&&self.Object===Object&&self,l=i||t||Function("return this")();N.exports=l},3609:N=>{N.exports=function T(n,i){if(("constructor"!==i||"function"!=typeof n[i])&&"__proto__"!=i)return n[i]}},74643:N=>{N.exports=function n(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},92768:N=>{N.exports=function T(n){return this.__data__.has(n)}},3578:N=>{N.exports=function T(n){var i=-1,t=Array(n.size);return n.forEach(function(l){t[++i]=l}),t}},11230:(N,T,n)=>{var i=n(48565),l=n(12770)(i);N.exports=l},12770:N=>{var i=Date.now;N.exports=function t(l){var e=0,f=0;return function(){var m=i(),p=16-(m-f);if(f=m,p>0){if(++e>=800)return arguments[0]}else e=0;return l.apply(void 0,arguments)}}},48945:(N,T,n)=>{var i=n(25752);N.exports=function t(){this.__data__=new i,this.size=0}},78425:N=>{N.exports=function T(n){var i=this.__data__,t=i.delete(n);return this.size=i.size,t}},25280:N=>{N.exports=function T(n){return this.__data__.get(n)}},80324:N=>{N.exports=function T(n){return this.__data__.has(n)}},84516:(N,T,n)=>{var i=n(25752),t=n(51012),l=n(90752);N.exports=function f(m,p){var _=this.__data__;if(_ instanceof i){var v=_.__data__;if(!t||v.length<199)return v.push([m,p]),this.size=++_.size,this;_=this.__data__=new l(v)}return _.set(m,p),this.size=_.size,this}},75220:N=>{N.exports=function T(n,i,t){for(var l=t-1,e=n.length;++l<e;)if(n[l]===i)return l;return-1}},22447:(N,T,n)=>{var i=n(68339),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,e=i(function(f){var m=[];return 46===f.charCodeAt(0)&&m.push(""),f.replace(t,function(p,_,v,y){m.push(v?y.replace(l,"$1"):_||p)}),m});N.exports=e},58130:(N,T,n)=>{var i=n(15153);N.exports=function l(e){if("string"==typeof e||i(e))return e;var f=e+"";return"0"==f&&1/e==-1/0?"-0":f}},68020:N=>{var n=Function.prototype.toString;N.exports=function i(t){if(null!=t){try{return n.call(t)}catch{}try{return t+""}catch{}}return""}},37327:N=>{var T=/\s/;N.exports=function n(i){for(var t=i.length;t--&&T.test(i.charAt(t)););return t}},84418:(N,T,n)=>{var i=n(25052);N.exports=function e(f){return i(f,5)}},26205:N=>{N.exports=function T(n){return function(){return n}}},61889:(N,T,n)=>{var i=n(83278),t=n(90501),l=n(73521),f=Math.max,m=Math.min;N.exports=function p(_,v,y){var C,O,I,D,R,h,w=0,b=!1,P=!1,M=!0;if("function"!=typeof _)throw new TypeError("Expected a function");function L(J){var q=C,Z=O;return C=O=void 0,w=J,D=_.apply(Z,q)}function $(J){var q=J-h;return void 0===h||q>=v||q<0||P&&J-w>=I}function j(){var J=t();if($(J))return G(J);R=setTimeout(j,function U(J){var H=v-(J-h);return P?m(H,I-(J-w)):H}(J))}function G(J){return R=void 0,M&&C?L(J):(C=O=void 0,D)}function X(){var J=t(),q=$(J);if(C=arguments,O=this,h=J,q){if(void 0===R)return function B(J){return w=J,R=setTimeout(j,v),b?L(J):D}(h);if(P)return clearTimeout(R),R=setTimeout(j,v),L(h)}return void 0===R&&(R=setTimeout(j,v)),D}return v=l(v)||0,i(y)&&(b=!!y.leading,I=(P="maxWait"in y)?f(l(y.maxWait)||0,v):I,M="trailing"in y?!!y.trailing:M),X.cancel=function z(){void 0!==R&&clearTimeout(R),w=0,C=h=O=R=void 0},X.flush=function V(){return void 0===R?D:G(t())},X}},22458:(N,T,n)=>{var i=n(6362),t=n(13091),l=n(68591),e=n(25152),f=l(function(m,p){return e(m)?i(m,t(p,1,e,!0)):[]});N.exports=f},25622:(N,T,n)=>{var i=n(6362),t=n(13091),l=n(68591),e=n(25152),f=n(95649),m=l(function(p,_){var v=f(_);return e(v)&&(v=void 0),e(p)?i(p,t(_,1,e,!0),void 0,v):[]});N.exports=m},12651:N=>{N.exports=function T(n,i){return n===i||n!=n&&i!=i}},48376:(N,T,n)=>{var i=n(75736),t=n(12344),l=n(71284),e=Math.max;N.exports=function f(m,p,_){var v=null==m?0:m.length;if(!v)return-1;var y=null==_?0:l(_);return y<0&&(y=e(v+y,0)),i(m,t(p,3),y)}},5771:(N,T,n)=>{var i=n(12875),t=n(73432),l=n(12344);N.exports=function e(f,m){return i(f,l(m,3),t)}},26681:(N,T,n)=>{var i=n(98137);N.exports=function t(l,e,f){var m=null==l?void 0:i(l,e);return void 0===m?f:m}},28267:(N,T,n)=>{var i=n(64399),t=n(3145),e=Object.prototype.hasOwnProperty,f=t(function(m,p,_){e.call(m,_)?m[_].push(p):i(m,_,[p])});N.exports=f},49830:(N,T,n)=>{var i=n(31398),t=n(85121);N.exports=function l(e,f){return null!=e&&t(e,f,i)}},39631:N=>{N.exports=function T(n){return n}},27916:(N,T,n)=>{var i=n(12757),t=n(16324),l=n(68591),e=n(86638),f=n(95649),m=l(function(p){var _=f(p),v=i(p,e);return(_="function"==typeof _?_:void 0)&&v.pop(),v.length&&v[0]===p[0]?t(v,void 0,_):[]});N.exports=m},56265:(N,T,n)=>{var i=n(18313),t=n(57433),l=Object.prototype,e=l.hasOwnProperty,f=l.propertyIsEnumerable,m=i(function(){return arguments}())?i:function(p){return t(p)&&e.call(p,"callee")&&!f.call(p,"callee")};N.exports=m},9812:N=>{N.exports=Array.isArray},47291:(N,T,n)=>{var i=n(58653),t=n(18845);N.exports=function l(e){return null!=e&&t(e.length)&&!i(e)}},25152:(N,T,n)=>{var i=n(47291),t=n(57433);N.exports=function l(e){return t(e)&&i(e)}},63151:(N,T,n)=>{N=n.nmd(N);var i=n(81464),t=n(95710),l=T&&!T.nodeType&&T,e=l&&N&&!N.nodeType&&N,m=e&&e.exports===l?i.Buffer:void 0;N.exports=(m?m.isBuffer:void 0)||t},48125:(N,T,n)=>{var i=n(32925);N.exports=function t(l,e){return i(l,e)}},58653:(N,T,n)=>{var i=n(61057),t=n(83278);N.exports=function p(_){if(!t(_))return!1;var v=i(_);return"[object Function]"==v||"[object GeneratorFunction]"==v||"[object AsyncFunction]"==v||"[object Proxy]"==v}},18845:N=>{N.exports=function n(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56879:(N,T,n)=>{var i=n(26095),t=n(42502),l=n(90512),e=l&&l.isMap,f=e?t(e):i;N.exports=f},83278:N=>{N.exports=function T(n){var i=typeof n;return null!=n&&("object"==i||"function"==i)}},57433:N=>{N.exports=function T(n){return null!=n&&"object"==typeof n}},49970:(N,T,n)=>{var i=n(61057),t=n(46902),l=n(57433),p=Function.prototype.toString,_=Object.prototype.hasOwnProperty,v=p.call(Object);N.exports=function y(C){if(!l(C)||"[object Object]"!=i(C))return!1;var O=t(C);if(null===O)return!0;var I=_.call(O,"constructor")&&O.constructor;return"function"==typeof I&&I instanceof I&&p.call(I)==v}},74257:(N,T,n)=>{var i=n(91889),t=n(42502),l=n(90512),e=l&&l.isSet,f=e?t(e):i;N.exports=f},78124:(N,T,n)=>{var i=n(61057),t=n(9812),l=n(57433);N.exports=function f(m){return"string"==typeof m||!t(m)&&l(m)&&"[object String]"==i(m)}},15153:(N,T,n)=>{var i=n(61057),t=n(57433);N.exports=function e(f){return"symbol"==typeof f||t(f)&&"[object Symbol]"==i(f)}},31028:(N,T,n)=>{var i=n(18068),t=n(42502),l=n(90512),e=l&&l.isTypedArray,f=e?t(e):i;N.exports=f},32561:(N,T,n)=>{var i=n(28548),t=n(13809),l=n(47291);N.exports=function e(f){return l(f)?i(f):t(f)}},47674:(N,T,n)=>{var i=n(28548),t=n(71194),l=n(47291);N.exports=function e(f){return l(f)?i(f,!0):t(f)}},95649:N=>{N.exports=function T(n){var i=null==n?0:n.length;return i?n[i-1]:void 0}},89605:(N,T,n)=>{var i=n(90752);function l(e,f){if("function"!=typeof e||null!=f&&"function"!=typeof f)throw new TypeError("Expected a function");var m=function(){var p=arguments,_=f?f.apply(this,p):p[0],v=m.cache;if(v.has(_))return v.get(_);var y=e.apply(this,p);return m.cache=v.set(_,y)||v,y};return m.cache=new(l.Cache||i),m}l.Cache=i,N.exports=l},25689:(N,T,n)=>{var i=n(85765),l=n(87530)(function(e,f,m,p){i(e,f,m,p)});N.exports=l},68145:N=>{N.exports=function T(){}},90501:(N,T,n)=>{var i=n(81464);N.exports=function(){return i.Date.now()}},15788:(N,T,n)=>{var i=n(21740),t=n(55058),l=n(181),e=n(58130);N.exports=function f(m){return l(m)?i(e(m)):t(m)}},69136:(N,T,n)=>{var i=n(13091),t=n(32168),l=n(68591),e=n(12721),f=l(function(m,p){if(null==m)return[];var _=p.length;return _>1&&e(m,p[0],p[1])?p=[]:_>2&&e(p[0],p[1],p[2])&&(p=[p[0]]),t(m,i(p,1),[])});N.exports=f},2260:N=>{N.exports=function T(){return[]}},95710:N=>{N.exports=function T(){return!1}},68263:(N,T,n)=>{var i=n(73521),t=1/0;N.exports=function e(f){return f?(f=i(f))===t||f===-t?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}},71284:(N,T,n)=>{var i=n(68263);N.exports=function t(l){var e=i(l),f=e%1;return e==e?f?e-f:e:0}},73521:(N,T,n)=>{var i=n(35461),t=n(83278),l=n(15153),f=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,_=parseInt;N.exports=function v(y){if("number"==typeof y)return y;if(l(y))return NaN;if(t(y)){var C="function"==typeof y.valueOf?y.valueOf():y;y=t(C)?C+"":C}if("string"!=typeof y)return 0===y?y:+y;y=i(y);var O=m.test(y);return O||p.test(y)?_(y.slice(2),O?2:8):f.test(y)?NaN:+y}},6729:(N,T,n)=>{var i=n(43190),t=n(47674);N.exports=function l(e){return i(e,t(e))}},54717:(N,T,n)=>{var i=n(87005);N.exports=function t(l){return null==l?"":i(l)}},95341:(N,T,n)=>{var i=n(75558),t=n(19593),l=n(73432),e=n(12344),f=n(46902),m=n(9812),p=n(63151),_=n(58653),v=n(83278),y=n(31028);N.exports=function C(O,I,D){var R=m(O),h=R||p(O)||y(O);if(I=e(I,4),null==D){var w=O&&O.constructor;D=h?R?new w:[]:v(O)&&_(w)?t(f(O)):{}}return(h?i:l)(O,function(b,P,M){return I(D,b,P,M)}),D}},28898:(N,T,n)=>{var i=n(13091),t=n(68591),l=n(73136),e=n(25152),f=t(function(m){return l(i(m,1,e,!0))});N.exports=f},63448:(N,T,n)=>{var i=n(73136);N.exports=function t(l,e){return e="function"==typeof e?e:void 0,l&&l.length?i(l,void 0,e):[]}},59519:(N,T,n)=>{var i=n(54717),t=0;N.exports=function l(e){var f=++t;return i(e)+f}},77876:(N,T,n)=>{"use strict";n.d(T,{h:()=>t});var i=n(21413);class t extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:f,_hasValue:m,_value:p,thrownError:_,isStopped:v,_isComplete:y}=this;f?e.error(_):(v||y)&&(m&&e.next(p),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:f,_isComplete:m}=this;m||(this._isComplete=!0,e&&super.next(f),super.complete())}}},84412:(N,T,n)=>{"use strict";n.d(T,{t:()=>t});var i=n(21413);class t extends i.B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const f=super._subscribe(e);return!f.closed&&e.next(this._value),f}getValue(){const{hasError:e,thrownError:f,_value:m}=this;if(e)throw f;return this._throwIfClosed(),m}next(e){super.next(this._value=e)}}},71985:(N,T,n)=>{"use strict";n.d(T,{c:()=>_});var i=n(47707),t=n(18359),l=n(3494),e=n(71203),f=n(41026),m=n(98071),p=n(49786);let _=(()=>{class O{constructor(D){D&&(this._subscribe=D)}lift(D){const R=new O;return R.source=this,R.operator=D,R}subscribe(D,R,h){const w=function C(O){return O&&O instanceof i.vU||function y(O){return O&&(0,m.T)(O.next)&&(0,m.T)(O.error)&&(0,m.T)(O.complete)}(O)&&(0,t.Uv)(O)}(D)?D:new i.Ms(D,R,h);return(0,p.Y)(()=>{const{operator:b,source:P}=this;w.add(b?b.call(w,P):P?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(D){try{return this._subscribe(D)}catch(R){D.error(R)}}forEach(D,R){return new(R=v(R))((h,w)=>{const b=new i.Ms({next:P=>{try{D(P)}catch(M){w(M),b.unsubscribe()}},error:w,complete:h});this.subscribe(b)})}_subscribe(D){var R;return null===(R=this.source)||void 0===R?void 0:R.subscribe(D)}[l.s](){return this}pipe(...D){return(0,e.m)(D)(this)}toPromise(D){return new(D=v(D))((R,h)=>{let w;this.subscribe(b=>w=b,b=>h(b),()=>R(w))})}}return O.create=I=>new O(I),O})();function v(O){var I;return null!==(I=O??f.$.Promise)&&void 0!==I?I:Promise}},92771:(N,T,n)=>{"use strict";n.d(T,{m:()=>l});var i=n(21413),t=n(86129);class l extends i.B{constructor(f=1/0,m=1/0,p=t.U){super(),this._bufferSize=f,this._windowTime=m,this._timestampProvider=p,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=m===1/0,this._bufferSize=Math.max(1,f),this._windowTime=Math.max(1,m)}next(f){const{isStopped:m,_buffer:p,_infiniteTimeWindow:_,_timestampProvider:v,_windowTime:y}=this;m||(p.push(f),!_&&p.push(v.now()+y)),this._trimBuffer(),super.next(f)}_subscribe(f){this._throwIfClosed(),this._trimBuffer();const m=this._innerSubscribe(f),{_infiniteTimeWindow:p,_buffer:_}=this,v=_.slice();for(let y=0;y<v.length&&!f.closed;y+=p?1:2)f.next(v[y]);return this._checkFinalizedStatuses(f),m}_trimBuffer(){const{_bufferSize:f,_timestampProvider:m,_buffer:p,_infiniteTimeWindow:_}=this,v=(_?1:2)*f;if(f<1/0&&v<p.length&&p.splice(0,p.length-v),!_){const y=m.now();let C=0;for(let O=1;O<p.length&&p[O]<=y;O+=2)C=O;C&&p.splice(0,C+1)}}}},21413:(N,T,n)=>{"use strict";n.d(T,{B:()=>p});var i=n(71985),t=n(18359);const e=(0,n(81853).L)(v=>function(){v(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var f=n(57908),m=n(49786);let p=(()=>{class v extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(C){const O=new _(this,this);return O.operator=C,O}_throwIfClosed(){if(this.closed)throw new e}next(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(C)}})}error(C){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=C;const{observers:O}=this;for(;O.length;)O.shift().error(C)}})}complete(){(0,m.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:C}=this;for(;C.length;)C.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var C;return(null===(C=this.observers)||void 0===C?void 0:C.length)>0}_trySubscribe(C){return this._throwIfClosed(),super._trySubscribe(C)}_subscribe(C){return this._throwIfClosed(),this._checkFinalizedStatuses(C),this._innerSubscribe(C)}_innerSubscribe(C){const{hasError:O,isStopped:I,observers:D}=this;return O||I?t.Kn:(this.currentObservers=null,D.push(C),new t.yU(()=>{this.currentObservers=null,(0,f.o)(D,C)}))}_checkFinalizedStatuses(C){const{hasError:O,thrownError:I,isStopped:D}=this;O?C.error(I):D&&C.complete()}asObservable(){const C=new i.c;return C.source=this,C}}return v.create=(y,C)=>new _(y,C),v})();class _ extends p{constructor(y,C){super(),this.destination=y,this.source=C}next(y){var C,O;null===(O=null===(C=this.destination)||void 0===C?void 0:C.next)||void 0===O||O.call(C,y)}error(y){var C,O;null===(O=null===(C=this.destination)||void 0===C?void 0:C.error)||void 0===O||O.call(C,y)}complete(){var y,C;null===(C=null===(y=this.destination)||void 0===y?void 0:y.complete)||void 0===C||C.call(y)}_subscribe(y){var C,O;return null!==(O=null===(C=this.source)||void 0===C?void 0:C.subscribe(y))&&void 0!==O?O:t.Kn}}},47707:(N,T,n)=>{"use strict";n.d(T,{Ms:()=>h,vU:()=>O});var i=n(98071),t=n(18359),l=n(41026),e=n(45334),f=n(85343);const m=v("C",void 0,void 0);function v(L,B,U){return{kind:L,value:B,error:U}}var y=n(19270),C=n(49786);class O extends t.yU{constructor(B){super(),this.isStopped=!1,B?(this.destination=B,(0,t.Uv)(B)&&B.add(this)):this.destination=M}static create(B,U,$){return new h(B,U,$)}next(B){this.isStopped?P(function _(L){return v("N",L,void 0)}(B),this):this._next(B)}error(B){this.isStopped?P(function p(L){return v("E",void 0,L)}(B),this):(this.isStopped=!0,this._error(B))}complete(){this.isStopped?P(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(B){this.destination.next(B)}_error(B){try{this.destination.error(B)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const I=Function.prototype.bind;function D(L,B){return I.call(L,B)}class R{constructor(B){this.partialObserver=B}next(B){const{partialObserver:U}=this;if(U.next)try{U.next(B)}catch($){w($)}}error(B){const{partialObserver:U}=this;if(U.error)try{U.error(B)}catch($){w($)}else w(B)}complete(){const{partialObserver:B}=this;if(B.complete)try{B.complete()}catch(U){w(U)}}}class h extends O{constructor(B,U,$){let j;if(super(),(0,i.T)(B)||!B)j={next:B??void 0,error:U??void 0,complete:$??void 0};else{let G;this&&l.$.useDeprecatedNextContext?(G=Object.create(B),G.unsubscribe=()=>this.unsubscribe(),j={next:B.next&&D(B.next,G),error:B.error&&D(B.error,G),complete:B.complete&&D(B.complete,G)}):j=B}this.destination=new R(j)}}function w(L){l.$.useDeprecatedSynchronousErrorHandling?(0,C.l)(L):(0,e.m)(L)}function P(L,B){const{onStoppedNotification:U}=l.$;U&&y.f.setTimeout(()=>U(L,B))}const M={closed:!0,next:f.l,error:function b(L){throw L},complete:f.l}},18359:(N,T,n)=>{"use strict";n.d(T,{Kn:()=>m,yU:()=>f,Uv:()=>p});var i=n(98071);const l=(0,n(81853).L)(v=>function(C){v(this),this.message=C?`${C.length} errors occurred during unsubscription:\n${C.map((O,I)=>`${I+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=C});var e=n(57908);class f{constructor(y){this.initialTeardown=y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let y;if(!this.closed){this.closed=!0;const{_parentage:C}=this;if(C)if(this._parentage=null,Array.isArray(C))for(const D of C)D.remove(this);else C.remove(this);const{initialTeardown:O}=this;if((0,i.T)(O))try{O()}catch(D){y=D instanceof l?D.errors:[D]}const{_finalizers:I}=this;if(I){this._finalizers=null;for(const D of I)try{_(D)}catch(R){y=y??[],R instanceof l?y=[...y,...R.errors]:y.push(R)}}if(y)throw new l(y)}}add(y){var C;if(y&&y!==this)if(this.closed)_(y);else{if(y instanceof f){if(y.closed||y._hasParent(this))return;y._addParent(this)}(this._finalizers=null!==(C=this._finalizers)&&void 0!==C?C:[]).push(y)}}_hasParent(y){const{_parentage:C}=this;return C===y||Array.isArray(C)&&C.includes(y)}_addParent(y){const{_parentage:C}=this;this._parentage=Array.isArray(C)?(C.push(y),C):C?[C,y]:y}_removeParent(y){const{_parentage:C}=this;C===y?this._parentage=null:Array.isArray(C)&&(0,e.o)(C,y)}remove(y){const{_finalizers:C}=this;C&&(0,e.o)(C,y),y instanceof f&&y._removeParent(this)}}f.EMPTY=(()=>{const v=new f;return v.closed=!0,v})();const m=f.EMPTY;function p(v){return v instanceof f||v&&"closed"in v&&(0,i.T)(v.remove)&&(0,i.T)(v.add)&&(0,i.T)(v.unsubscribe)}function _(v){(0,i.T)(v)?v():v.unsubscribe()}},41026:(N,T,n)=>{"use strict";n.d(T,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(N,T,n)=>{"use strict";n.d(T,{G:()=>m});var i=n(71985),t=n(18359),l=n(99898),e=n(54360),f=n(39974);class m extends i.c{constructor(_,v){super(),this.source=_,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,f.S)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,_?.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new t.yU;const v=this.getSubject();_.add(this.source.subscribe((0,e._)(v,void 0,()=>{this._teardown(),v.complete()},y=>{this._teardown(),v.error(y)},()=>this._teardown()))),_.closed&&(this._connection=null,_=t.yU.EMPTY)}return _}refCount(){return(0,l.B)()(this)}}},84572:(N,T,n)=>{"use strict";n.d(T,{P:()=>C,z:()=>y});var i=n(71985),t=n(93073),l=n(22806),e=n(33669),f=n(6450),m=n(9326),p=n(58496),_=n(54360),v=n(45225);function y(...I){const D=(0,m.lI)(I),R=(0,m.ms)(I),{args:h,keys:w}=(0,t.D)(I);if(0===h.length)return(0,l.H)([],D);const b=new i.c(C(h,D,w?P=>(0,p.e)(w,P):e.D));return R?b.pipe((0,f.I)(R)):b}function C(I,D,R=e.D){return h=>{O(D,()=>{const{length:w}=I,b=new Array(w);let P=w,M=w;for(let L=0;L<w;L++)O(D,()=>{const B=(0,l.H)(I[L],D);let U=!1;B.subscribe((0,_._)(h,$=>{b[L]=$,U||(U=!0,M--),M||h.next(R(b.slice()))},()=>{--P||h.complete()}))},h)},h)}}function O(I,D,R){I?(0,v.N)(R,I,D):D()}},92688:(N,T,n)=>{"use strict";n.d(T,{x:()=>e});var i=n(79131),t=n(9326),l=n(22806);function e(...f){return(0,i.K)()((0,l.H)(f,(0,t.lI)(f)))}},59030:(N,T,n)=>{"use strict";n.d(T,{v:()=>l});var i=n(71985),t=n(58750);function l(e){return new i.c(f=>{(0,t.Tg)(e()).subscribe(f)})}},983:(N,T,n)=>{"use strict";n.d(T,{w:()=>t});const t=new(n(71985).c)(f=>f.complete())},27468:(N,T,n)=>{"use strict";n.d(T,{p:()=>_});var i=n(71985),t=n(93073),l=n(58750),e=n(9326),f=n(54360),m=n(6450),p=n(58496);function _(...v){const y=(0,e.ms)(v),{args:C,keys:O}=(0,t.D)(v),I=new i.c(D=>{const{length:R}=C;if(!R)return void D.complete();const h=new Array(R);let w=R,b=R;for(let P=0;P<R;P++){let M=!1;(0,l.Tg)(C[P]).subscribe((0,f._)(D,L=>{M||(M=!0,b--),h[P]=L},()=>w--,void 0,()=>{(!w||!M)&&(b||D.next(O?(0,p.e)(O,h):h),D.complete())}))}});return y?I.pipe((0,m.I)(y)):I}},22806:(N,T,n)=>{"use strict";n.d(T,{H:()=>U});var i=n(58750),t=n(40941),l=n(39974);function e($,j=0){return(0,l.N)((G,z)=>{z.add($.schedule(()=>G.subscribe(z),j))})}var p=n(71985),v=n(4761),y=n(98071),C=n(45225);function I($,j){if(!$)throw new Error("Iterable cannot be null");return new p.c(G=>{(0,C.N)(G,j,()=>{const z=$[Symbol.asyncIterator]();(0,C.N)(G,j,()=>{z.next().then(V=>{V.done?G.complete():G.next(V.value)})},0,!0)})})}var D=n(55055),R=n(59858),h=n(47441),w=n(85397),b=n(37953),P=n(50591),M=n(15196);function U($,j){return j?function B($,j){if(null!=$){if((0,D.l)($))return function f($,j){return(0,i.Tg)($).pipe(e(j),(0,t.Q)(j))}($,j);if((0,h.X)($))return function _($,j){return new p.c(G=>{let z=0;return j.schedule(function(){z===$.length?G.complete():(G.next($[z++]),G.closed||this.schedule())})})}($,j);if((0,R.y)($))return function m($,j){return(0,i.Tg)($).pipe(e(j),(0,t.Q)(j))}($,j);if((0,b.T)($))return I($,j);if((0,w.x)($))return function O($,j){return new p.c(G=>{let z;return(0,C.N)(G,j,()=>{z=$[v.l](),(0,C.N)(G,j,()=>{let V,X;try{({value:V,done:X}=z.next())}catch(J){return void G.error(J)}X?G.complete():G.next(V)},0,!0)}),()=>(0,y.T)(z?.return)&&z.return()})}($,j);if((0,M.U)($))return function L($,j){return I((0,M.C)($),j)}($,j)}throw(0,P.L)($)}($,j):(0,i.Tg)($)}},33726:(N,T,n)=>{"use strict";n.d(T,{R:()=>y});var i=n(58750),t=n(71985),l=n(73028),e=n(47441),f=n(98071),m=n(6450);const p=["addListener","removeListener"],_=["addEventListener","removeEventListener"],v=["on","off"];function y(R,h,w,b){if((0,f.T)(w)&&(b=w,w=void 0),b)return y(R,h,w).pipe((0,m.I)(b));const[P,M]=function D(R){return(0,f.T)(R.addEventListener)&&(0,f.T)(R.removeEventListener)}(R)?_.map(L=>B=>R[L](h,B,w)):function O(R){return(0,f.T)(R.addListener)&&(0,f.T)(R.removeListener)}(R)?p.map(C(R,h)):function I(R){return(0,f.T)(R.on)&&(0,f.T)(R.off)}(R)?v.map(C(R,h)):[];if(!P&&(0,e.X)(R))return(0,l.Z)(L=>y(L,h,w))((0,i.Tg)(R));if(!P)throw new TypeError("Invalid event target");return new t.c(L=>{const B=(...U)=>L.next(1<U.length?U:U[0]);return P(B),()=>M(B)})}function C(R,h){return w=>b=>R[w](h,b)}},58750:(N,T,n)=>{"use strict";n.d(T,{Tg:()=>I});var i=n(31635),t=n(47441),l=n(59858),e=n(71985),f=n(55055),m=n(37953),p=n(50591),_=n(85397),v=n(15196),y=n(98071),C=n(45334),O=n(3494);function I(L){if(L instanceof e.c)return L;if(null!=L){if((0,f.l)(L))return function D(L){return new e.c(B=>{const U=L[O.s]();if((0,y.T)(U.subscribe))return U.subscribe(B);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(L);if((0,t.X)(L))return function R(L){return new e.c(B=>{for(let U=0;U<L.length&&!B.closed;U++)B.next(L[U]);B.complete()})}(L);if((0,l.y)(L))return function h(L){return new e.c(B=>{L.then(U=>{B.closed||(B.next(U),B.complete())},U=>B.error(U)).then(null,C.m)})}(L);if((0,m.T)(L))return b(L);if((0,_.x)(L))return function w(L){return new e.c(B=>{for(const U of L)if(B.next(U),B.closed)return;B.complete()})}(L);if((0,v.U)(L))return function P(L){return b((0,v.C)(L))}(L)}throw(0,p.L)(L)}function b(L){return new e.c(B=>{(function M(L,B){var U,$,j,G;return(0,i.sH)(this,void 0,void 0,function*(){try{for(U=(0,i.xN)(L);!($=yield U.next()).done;)if(B.next($.value),B.closed)return}catch(z){j={error:z}}finally{try{$&&!$.done&&(G=U.return)&&(yield G.call(U))}finally{if(j)throw j.error}}B.complete()})})(L,B).catch(U=>B.error(U))})}},40605:(N,T,n)=>{"use strict";n.d(T,{Y:()=>l});var i=n(43236),t=n(41584);function l(e=0,f=i.E){return e<0&&(e=0),(0,t.O)(e,e,f)}},57786:(N,T,n)=>{"use strict";n.d(T,{h:()=>m});var i=n(26365),t=n(58750),l=n(983),e=n(9326),f=n(22806);function m(...p){const _=(0,e.lI)(p),v=(0,e.R0)(p,1/0),y=p;return y.length?1===y.length?(0,t.Tg)(y[0]):(0,i.U)(v)((0,f.H)(y,_)):l.w}},7673:(N,T,n)=>{"use strict";n.d(T,{of:()=>l});var i=n(9326),t=n(22806);function l(...e){const f=(0,i.lI)(e);return(0,t.H)(e,f)}},1033:(N,T,n)=>{"use strict";n.d(T,{O:()=>f});var i=n(71985),t=n(58750),l=n(42326),e=n(54360);function f(...p){return 1===(p=(0,l.K)(p)).length?(0,t.Tg)(p[0]):new i.c(function m(p){return _=>{let v=[];for(let y=0;v&&!_.closed&&y<p.length;y++)v.push((0,t.Tg)(p[y]).subscribe((0,e._)(_,C=>{if(v){for(let O=0;O<v.length;O++)O!==y&&v[O].unsubscribe();v=null}_.next(C)})))}}(p))}},18810:(N,T,n)=>{"use strict";n.d(T,{$:()=>l});var i=n(71985),t=n(98071);function l(e,f){const m=(0,t.T)(e)?e:()=>e,p=_=>_.error(m());return new i.c(f?_=>f.schedule(p,0,_):p)}},41584:(N,T,n)=>{"use strict";n.d(T,{O:()=>f});var i=n(71985),t=n(43236),l=n(79470);function f(m=0,p,_=t.b){let v=-1;return null!=p&&((0,l.m)(p)?_=p:v=p),new i.c(y=>{let C=function e(m){return m instanceof Date&&!isNaN(m)}(m)?+m-_.now():m;C<0&&(C=0);let O=0;return _.schedule(function(){y.closed||(y.next(O++),0<=v?this.schedule(void 0,v):y.complete())},C)})}},44437:(N,T,n)=>{"use strict";n.d(T,{y:()=>p});var i=n(71985),t=n(58750),l=n(42326),e=n(983),f=n(54360),m=n(9326);function p(..._){const v=(0,m.ms)(_),y=(0,l.K)(_);return y.length?new i.c(C=>{let O=y.map(()=>[]),I=y.map(()=>!1);C.add(()=>{O=I=null});for(let D=0;!C.closed&&D<y.length;D++)(0,t.Tg)(y[D]).subscribe((0,f._)(C,R=>{if(O[D].push(R),O.every(h=>h.length)){const h=O.map(w=>w.shift());C.next(v?v(...h):h),O.some((w,b)=>!w.length&&I[b])&&C.complete()}},()=>{I[D]=!0,!O[D].length&&C.complete()}));return()=>{O=I=null}}):e.w}},54360:(N,T,n)=>{"use strict";n.d(T,{H:()=>l,_:()=>t});var i=n(47707);function t(e,f,m,p,_){return new l(e,f,m,p,_)}class l extends i.vU{constructor(f,m,p,_,v,y){super(f),this.onFinalize=v,this.shouldUnsubscribe=y,this._next=m?function(C){try{m(C)}catch(O){f.error(O)}}:super._next,this._error=_?function(C){try{_(C)}catch(O){f.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=p?function(){try{p()}catch(C){f.error(C)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var f;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:m}=this;super.unsubscribe(),!m&&(null===(f=this.onFinalize)||void 0===f||f.call(this))}}}},99437:(N,T,n)=>{"use strict";n.d(T,{W:()=>e});var i=n(58750),t=n(54360),l=n(39974);function e(f){return(0,l.N)((m,p)=>{let y,_=null,v=!1;_=m.subscribe((0,t._)(p,void 0,void 0,C=>{y=(0,i.Tg)(f(C,e(f)(m))),_?(_.unsubscribe(),_=null,y.subscribe(p)):v=!0})),v&&(_.unsubscribe(),_=null,y.subscribe(p))})}},79131:(N,T,n)=>{"use strict";n.d(T,{K:()=>t});var i=n(26365);function t(){return(0,i.U)(1)}},70274:(N,T,n)=>{"use strict";n.d(T,{H:()=>l});var i=n(73028),t=n(98071);function l(e,f){return(0,t.T)(f)?(0,i.Z)(e,f,1):(0,i.Z)(e,1)}},70152:(N,T,n)=>{"use strict";n.d(T,{B:()=>e});var i=n(43236),t=n(39974),l=n(54360);function e(f,m=i.E){return(0,t.N)((p,_)=>{let v=null,y=null,C=null;const O=()=>{if(v){v.unsubscribe(),v=null;const D=y;y=null,_.next(D)}};function I(){const D=C+f,R=m.now();if(R<D)return v=this.schedule(void 0,D-R),void _.add(v);O()}p.subscribe((0,l._)(_,D=>{y=D,C=m.now(),v||(v=m.schedule(I,f),_.add(v))},()=>{O(),_.complete()},void 0,()=>{y=v=null}))})}},39901:(N,T,n)=>{"use strict";n.d(T,{U:()=>l});var i=n(39974),t=n(54360);function l(e){return(0,i.N)((f,m)=>{let p=!1;f.subscribe((0,t._)(m,_=>{p=!0,m.next(_)},()=>{p||m.next(e),m.complete()}))})}},35335:(N,T,n)=>{"use strict";n.d(T,{c:()=>y});var i=n(43236),t=n(92688),l=n(96697),e=n(73557),f=n(73703),m=n(73028),p=n(58750);function _(C,O){return O?I=>(0,t.x)(O.pipe((0,l.s)(1),(0,e.w)()),I.pipe(_(C))):(0,m.Z)((I,D)=>(0,p.Tg)(C(I,D)).pipe((0,l.s)(1),(0,f.u)(I)))}var v=n(41584);function y(C,O=i.E){const I=(0,v.O)(C,O);return _(()=>I)}},23294:(N,T,n)=>{"use strict";n.d(T,{F:()=>e});var i=n(33669),t=n(39974),l=n(54360);function e(m,p=i.D){return m=m??f,(0,t.N)((_,v)=>{let y,C=!0;_.subscribe((0,l._)(v,O=>{const I=p(O);(C||!m(y,I))&&(C=!1,y=I,v.next(O))}))})}function f(m,p){return m===p}},5964:(N,T,n)=>{"use strict";n.d(T,{p:()=>l});var i=n(39974),t=n(54360);function l(e,f){return(0,i.N)((m,p)=>{let _=0;m.subscribe((0,t._)(p,v=>e.call(f,v,_++)&&p.next(v)))})}},70980:(N,T,n)=>{"use strict";n.d(T,{j:()=>t});var i=n(39974);function t(l){return(0,i.N)((e,f)=>{try{e.subscribe(f)}finally{f.add(l)}})}},47677:(N,T,n)=>{"use strict";n.d(T,{I:()=>l});var i=n(39974),t=n(54360);function l(f,m){return(0,i.N)(function e(f,m,p){const _="index"===p;return(v,y)=>{let C=0;v.subscribe((0,t._)(y,O=>{const I=C++;f.call(m,O,I,v)&&(y.next(_?I:O),y.complete())},()=>{y.next(_?-1:void 0),y.complete()}))}}(f,m,"value"))}},61594:(N,T,n)=>{"use strict";n.d(T,{$:()=>p});var i=n(9350),t=n(5964),l=n(96697),e=n(39901),f=n(93774),m=n(33669);function p(_,v){const y=arguments.length>=2;return C=>C.pipe(_?(0,t.p)((O,I)=>_(O,I,C)):m.D,(0,l.s)(1),y?(0,e.U)(v):(0,f.v)(()=>new i.G))}},73557:(N,T,n)=>{"use strict";n.d(T,{w:()=>e});var i=n(39974),t=n(54360),l=n(85343);function e(){return(0,i.N)((f,m)=>{f.subscribe((0,t._)(m,l.l))})}},67018:(N,T,n)=>{"use strict";n.d(T,{H:()=>p});var i=n(9350),t=n(5964),l=n(55109),e=n(93774),f=n(39901),m=n(33669);function p(_,v){const y=arguments.length>=2;return C=>C.pipe(_?(0,t.p)((O,I)=>_(O,I,C)):m.D,(0,l.o)(1),y?(0,f.U)(v):(0,e.v)(()=>new i.G))}},96354:(N,T,n)=>{"use strict";n.d(T,{T:()=>l});var i=n(39974),t=n(54360);function l(e,f){return(0,i.N)((m,p)=>{let _=0;m.subscribe((0,t._)(p,v=>{p.next(e.call(f,v,_++))}))})}},73703:(N,T,n)=>{"use strict";n.d(T,{u:()=>t});var i=n(96354);function t(l){return(0,i.T)(()=>l)}},79335:(N,T,n)=>{"use strict";n.d(T,{h:()=>m});var i=n(39974),t=n(42326),l=n(26365),e=n(9326),f=n(22806);function m(...p){const _=(0,e.lI)(p),v=(0,e.R0)(p,1/0);return p=(0,t.K)(p),(0,i.N)((y,C)=>{(0,l.U)(v)((0,f.H)([y,...p],_)).subscribe(C)})}},26365:(N,T,n)=>{"use strict";n.d(T,{U:()=>l});var i=n(73028),t=n(33669);function l(e=1/0){return(0,i.Z)(t.D,e)}},85412:(N,T,n)=>{"use strict";n.d(T,{h:()=>e});var i=n(58750),t=n(45225),l=n(54360);function e(f,m,p,_,v,y,C,O){const I=[];let D=0,R=0,h=!1;const w=()=>{h&&!I.length&&!D&&m.complete()},b=M=>D<_?P(M):I.push(M),P=M=>{y&&m.next(M),D++;let L=!1;(0,i.Tg)(p(M,R++)).subscribe((0,l._)(m,B=>{v?.(B),y?b(B):m.next(B)},()=>{L=!0},void 0,()=>{if(L)try{for(D--;I.length&&D<_;){const B=I.shift();C?(0,t.N)(m,C,()=>P(B)):P(B)}w()}catch(B){m.error(B)}}))};return f.subscribe((0,l._)(m,b,()=>{h=!0,w()})),()=>{O?.()}}},73028:(N,T,n)=>{"use strict";n.d(T,{Z:()=>m});var i=n(96354),t=n(58750),l=n(39974),e=n(85412),f=n(98071);function m(p,_,v=1/0){return(0,f.T)(_)?m((y,C)=>(0,i.T)((O,I)=>_(y,O,C,I))((0,t.Tg)(p(y,C))),v):("number"==typeof _&&(v=_),(0,l.N)((y,C)=>(0,e.h)(y,C,p,v)))}},40941:(N,T,n)=>{"use strict";n.d(T,{Q:()=>e});var i=n(45225),t=n(39974),l=n(54360);function e(f,m=0){return(0,t.N)((p,_)=>{p.subscribe((0,l._)(_,v=>(0,i.N)(_,f,()=>_.next(v),m),()=>(0,i.N)(_,f,()=>_.complete(),m),v=>(0,i.N)(_,f,()=>_.error(v),m)))})}},19852:(N,T,n)=>{"use strict";n.d(T,{T:()=>l});var i=n(46649),t=n(39974);function l(e,f){return(0,t.N)((0,i.S)(e,f,arguments.length>=2,!1,!0))}},99898:(N,T,n)=>{"use strict";n.d(T,{B:()=>l});var i=n(39974),t=n(54360);function l(){return(0,i.N)((e,f)=>{let m=null;e._refCount++;const p=(0,t._)(f,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(m=null);const _=e._connection,v=m;m=null,_&&(!v||_===v)&&_.unsubscribe(),f.unsubscribe()});e.subscribe(p),p.closed||(m=e.connect())})}},31943:(N,T,n)=>{"use strict";n.d(T,{S:()=>l});var i=n(39974),t=n(46649);function l(e,f){return(0,i.N)((0,t.S)(e,f,arguments.length>=2,!0))}},46649:(N,T,n)=>{"use strict";n.d(T,{S:()=>t});var i=n(54360);function t(l,e,f,m,p){return(_,v)=>{let y=f,C=e,O=0;_.subscribe((0,i._)(v,I=>{const D=O++;C=y?l(C,I,D):(y=!0,I),m&&v.next(C)},p&&(()=>{y&&v.next(C),v.complete()})))}}},97647:(N,T,n)=>{"use strict";n.d(T,{u:()=>f});var i=n(58750),t=n(21413),l=n(47707),e=n(39974);function f(p={}){const{connector:_=(()=>new t.B),resetOnError:v=!0,resetOnComplete:y=!0,resetOnRefCountZero:C=!0}=p;return O=>{let I,D,R,h=0,w=!1,b=!1;const P=()=>{D?.unsubscribe(),D=void 0},M=()=>{P(),I=R=void 0,w=b=!1},L=()=>{const B=I;M(),B?.unsubscribe()};return(0,e.N)((B,U)=>{h++,!b&&!w&&P();const $=R=R??_();U.add(()=>{h--,0===h&&!b&&!w&&(D=m(L,C))}),$.subscribe(U),!I&&h>0&&(I=new l.Ms({next:j=>$.next(j),error:j=>{b=!0,P(),D=m(M,v,j),$.error(j)},complete:()=>{w=!0,P(),D=m(M,y),$.complete()}}),(0,i.Tg)(B).subscribe(I))})(O)}}function m(p,_,...v){if(!0===_)return void p();if(!1===_)return;const y=new l.Ms({next:()=>{y.unsubscribe(),p()}});return(0,i.Tg)(_(...v)).subscribe(y)}},44668:(N,T,n)=>{"use strict";n.d(T,{t:()=>l});var i=n(92771),t=n(97647);function l(e,f,m){let p,_=!1;return e&&"object"==typeof e?({bufferSize:p=1/0,windowTime:f=1/0,refCount:_=!1,scheduler:m}=e):p=e??1/0,(0,t.u)({connector:()=>new i.m(p,f,m),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:_})}},65245:(N,T,n)=>{"use strict";n.d(T,{i:()=>t});var i=n(5964);function t(l){return(0,i.p)((e,f)=>l<=f)}},28492:(N,T,n)=>{"use strict";n.d(T,{j:()=>l});var i=n(39974),t=n(54360);function l(e){return(0,i.N)((f,m)=>{let p=!1,_=0;f.subscribe((0,t._)(m,v=>(p||(p=!e(v,_++)))&&m.next(v)))})}},99172:(N,T,n)=>{"use strict";n.d(T,{Z:()=>e});var i=n(92688),t=n(9326),l=n(39974);function e(...f){const m=(0,t.lI)(f);return(0,l.N)((p,_)=>{(m?(0,i.x)(f,p,m):(0,i.x)(f,p)).subscribe(_)})}},25558:(N,T,n)=>{"use strict";n.d(T,{n:()=>e});var i=n(58750),t=n(39974),l=n(54360);function e(f,m){return(0,t.N)((p,_)=>{let v=null,y=0,C=!1;const O=()=>C&&!v&&_.complete();p.subscribe((0,l._)(_,I=>{v?.unsubscribe();let D=0;const R=y++;(0,i.Tg)(f(I,R)).subscribe(v=(0,l._)(_,h=>_.next(m?m(I,h,R,D++):h),()=>{v=null,O()}))},()=>{C=!0,O()}))})}},96697:(N,T,n)=>{"use strict";n.d(T,{s:()=>e});var i=n(983),t=n(39974),l=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,p)=>{let _=0;m.subscribe((0,l._)(p,v=>{++_<=f&&(p.next(v),f<=_&&p.complete())}))})}},55109:(N,T,n)=>{"use strict";n.d(T,{o:()=>e});var i=n(983),t=n(39974),l=n(54360);function e(f){return f<=0?()=>i.w:(0,t.N)((m,p)=>{let _=[];m.subscribe((0,l._)(p,v=>{_.push(v),f<_.length&&_.shift()},()=>{for(const v of _)p.next(v);p.complete()},void 0,()=>{_=null}))})}},56977:(N,T,n)=>{"use strict";n.d(T,{Q:()=>f});var i=n(39974),t=n(54360),l=n(58750),e=n(85343);function f(m){return(0,i.N)((p,_)=>{(0,l.Tg)(m).subscribe((0,t._)(_,()=>_.complete(),e.l)),!_.closed&&p.subscribe(_)})}},77048:(N,T,n)=>{"use strict";n.d(T,{v:()=>l});var i=n(39974),t=n(54360);function l(e,f=!1){return(0,i.N)((m,p)=>{let _=0;m.subscribe((0,t._)(p,v=>{const y=e(v,_++);(y||f)&&p.next(v),!y&&p.complete()}))})}},88141:(N,T,n)=>{"use strict";n.d(T,{M:()=>f});var i=n(98071),t=n(39974),l=n(54360),e=n(33669);function f(m,p,_){const v=(0,i.T)(m)||p||_?{next:m,error:p,complete:_}:m;return v?(0,t.N)((y,C)=>{var O;null===(O=v.subscribe)||void 0===O||O.call(v);let I=!0;y.subscribe((0,l._)(C,D=>{var R;null===(R=v.next)||void 0===R||R.call(v,D),C.next(D)},()=>{var D;I=!1,null===(D=v.complete)||void 0===D||D.call(v),C.complete()},D=>{var R;I=!1,null===(R=v.error)||void 0===R||R.call(v,D),C.error(D)},()=>{var D,R;I&&(null===(D=v.unsubscribe)||void 0===D||D.call(v)),null===(R=v.finalize)||void 0===R||R.call(v)}))}):e.D}},93774:(N,T,n)=>{"use strict";n.d(T,{v:()=>e});var i=n(9350),t=n(39974),l=n(54360);function e(m=f){return(0,t.N)((p,_)=>{let v=!1;p.subscribe((0,l._)(_,y=>{v=!0,_.next(y)},()=>v?_.complete():_.error(m())))})}function f(){return new i.G}},56594:(N,T,n)=>{"use strict";n.d(T,{$:()=>e});var i=n(19852),t=n(39974);const l=(f,m)=>(f.push(m),f);function e(){return(0,t.N)((f,m)=>{(0,i.T)(l,[])(f).subscribe(m)})}},53993:(N,T,n)=>{"use strict";n.d(T,{E:()=>p});var i=n(39974),t=n(54360),l=n(58750),e=n(33669),f=n(85343),m=n(9326);function p(..._){const v=(0,m.ms)(_);return(0,i.N)((y,C)=>{const O=_.length,I=new Array(O);let D=_.map(()=>!1),R=!1;for(let h=0;h<O;h++)(0,l.Tg)(_[h]).subscribe((0,t._)(C,w=>{I[h]=w,!R&&!D[h]&&(D[h]=!0,(R=D.every(e.D))&&(D=null))},f.l));y.subscribe((0,t._)(C,h=>{if(R){const w=[h,...I];C.next(v?v(...w):w)}}))})}},96780:(N,T,n)=>{"use strict";n.d(T,{R:()=>f});var i=n(18359);class t extends i.yU{constructor(p,_){super()}schedule(p,_=0){return this}}const l={setInterval(m,p,..._){const{delegate:v}=l;return v?.setInterval?v.setInterval(m,p,..._):setInterval(m,p,..._)},clearInterval(m){const{delegate:p}=l;return(p?.clearInterval||clearInterval)(m)},delegate:void 0};var e=n(57908);class f extends t{constructor(p,_){super(p,_),this.scheduler=p,this.work=_,this.pending=!1}schedule(p,_=0){var v;if(this.closed)return this;this.state=p;const y=this.id,C=this.scheduler;return null!=y&&(this.id=this.recycleAsyncId(C,y,_)),this.pending=!0,this.delay=_,this.id=null!==(v=this.id)&&void 0!==v?v:this.requestAsyncId(C,this.id,_),this}requestAsyncId(p,_,v=0){return l.setInterval(p.flush.bind(p,this),v)}recycleAsyncId(p,_,v=0){if(null!=v&&this.delay===v&&!1===this.pending)return _;null!=_&&l.clearInterval(_)}execute(p,_){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const v=this._execute(p,_);if(v)return v;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(p,_){let y,v=!1;try{this.work(p)}catch(C){v=!0,y=C||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),y}unsubscribe(){if(!this.closed){const{id:p,scheduler:_}=this,{actions:v}=_;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.o)(v,this),null!=p&&(this.id=this.recycleAsyncId(_,p,null)),this.delay=null,super.unsubscribe()}}}},39687:(N,T,n)=>{"use strict";n.d(T,{q:()=>l});var i=n(86129);class t{constructor(f,m=t.now){this.schedulerActionCtor=f,this.now=m}schedule(f,m=0,p){return new this.schedulerActionCtor(this,f).schedule(p,m)}}t.now=i.U.now;class l extends t{constructor(f,m=t.now){super(f,m),this.actions=[],this._active=!1}flush(f){const{actions:m}=this;if(this._active)return void m.push(f);let p;this._active=!0;do{if(p=f.execute(f.state,f.delay))break}while(f=m.shift());if(this._active=!1,p){for(;f=m.shift();)f.unsubscribe();throw p}}}},25007:(N,T,n)=>{"use strict";n.d(T,{$:()=>D});var i=n(96780);let l,t=1;const e={};function f(h){return h in e&&(delete e[h],!0)}const m={setImmediate(h){const w=t++;return e[w]=!0,l||(l=Promise.resolve()),l.then(()=>f(w)&&h()),w},clearImmediate(h){f(h)}},{setImmediate:_,clearImmediate:v}=m,y={setImmediate(...h){const{delegate:w}=y;return(w?.setImmediate||_)(...h)},clearImmediate(h){const{delegate:w}=y;return(w?.clearImmediate||v)(h)},delegate:void 0};var O=n(39687);const D=new class I extends O.q{flush(w){this._active=!0;const b=this._scheduled;this._scheduled=void 0;const{actions:P}=this;let M;w=w||P.shift();do{if(M=w.execute(w.state,w.delay))break}while((w=P[0])&&w.id===b&&P.shift());if(this._active=!1,M){for(;(w=P[0])&&w.id===b&&P.shift();)w.unsubscribe();throw M}}}(class C extends i.R{constructor(w,b){super(w,b),this.scheduler=w,this.work=b}requestAsyncId(w,b,P=0){return null!==P&&P>0?super.requestAsyncId(w,b,P):(w.actions.push(this),w._scheduled||(w._scheduled=y.setImmediate(w.flush.bind(w,void 0))))}recycleAsyncId(w,b,P=0){var M;if(null!=P?P>0:this.delay>0)return super.recycleAsyncId(w,b,P);const{actions:L}=w;null!=b&&(null===(M=L[L.length-1])||void 0===M?void 0:M.id)!==b&&(y.clearImmediate(b),w._scheduled===b&&(w._scheduled=void 0))}})},43236:(N,T,n)=>{"use strict";n.d(T,{E:()=>l,b:()=>e});var i=n(96780);const l=new(n(39687).q)(i.R),e=l},86129:(N,T,n)=>{"use strict";n.d(T,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},47242:(N,T,n)=>{"use strict";n.d(T,{T:()=>f});var i=n(96780),l=n(39687);const f=new class e extends l.q{}(class t extends i.R{constructor(_,v){super(_,v),this.scheduler=_,this.work=v}schedule(_,v=0){return v>0?super.schedule(_,v):(this.delay=v,this.state=_,this.scheduler.flush(this),this)}execute(_,v){return v>0||this.closed?super.execute(_,v):this._execute(_,v)}requestAsyncId(_,v,y=0){return null!=y&&y>0||null==y&&this.delay>0?super.requestAsyncId(_,v,y):(_.flush(this),0)}})},19270:(N,T,n)=>{"use strict";n.d(T,{f:()=>i});const i={setTimeout(t,l,...e){const{delegate:f}=i;return f?.setTimeout?f.setTimeout(t,l,...e):setTimeout(t,l,...e)},clearTimeout(t){const{delegate:l}=i;return(l?.clearTimeout||clearTimeout)(t)},delegate:void 0}},4761:(N,T,n)=>{"use strict";n.d(T,{l:()=>t});const t=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(N,T,n)=>{"use strict";n.d(T,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(N,T,n)=>{"use strict";n.d(T,{G:()=>t});const t=(0,n(81853).L)(l=>function(){l(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(N,T,n)=>{"use strict";n.d(T,{R0:()=>m,lI:()=>f,ms:()=>e});var i=n(98071),t=n(79470);function l(p){return p[p.length-1]}function e(p){return(0,i.T)(l(p))?p.pop():void 0}function f(p){return(0,t.m)(l(p))?p.pop():void 0}function m(p,_){return"number"==typeof l(p)?p.pop():_}},93073:(N,T,n)=>{"use strict";n.d(T,{D:()=>f});const{isArray:i}=Array,{getPrototypeOf:t,prototype:l,keys:e}=Object;function f(p){if(1===p.length){const _=p[0];if(i(_))return{args:_,keys:null};if(function m(p){return p&&"object"==typeof p&&t(p)===l}(_)){const v=e(_);return{args:v.map(y=>_[y]),keys:v}}}return{args:p,keys:null}}},42326:(N,T,n)=>{"use strict";n.d(T,{K:()=>t});const{isArray:i}=Array;function t(l){return 1===l.length&&i(l[0])?l[0]:l}},57908:(N,T,n)=>{"use strict";function i(t,l){if(t){const e=t.indexOf(l);0<=e&&t.splice(e,1)}}n.d(T,{o:()=>i})},81853:(N,T,n)=>{"use strict";function i(t){const e=t(f=>{Error.call(f),f.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}n.d(T,{L:()=>i})},58496:(N,T,n)=>{"use strict";function i(t,l){return t.reduce((e,f,m)=>(e[f]=l[m],e),{})}n.d(T,{e:()=>i})},49786:(N,T,n)=>{"use strict";n.d(T,{Y:()=>l,l:()=>e});var i=n(41026);let t=null;function l(f){if(i.$.useDeprecatedSynchronousErrorHandling){const m=!t;if(m&&(t={errorThrown:!1,error:null}),f(),m){const{errorThrown:p,error:_}=t;if(t=null,p)throw _}}else f()}function e(f){i.$.useDeprecatedSynchronousErrorHandling&&t&&(t.errorThrown=!0,t.error=f)}},45225:(N,T,n)=>{"use strict";function i(t,l,e,f=0,m=!1){const p=l.schedule(function(){e(),m?t.add(this.schedule(null,f)):this.unsubscribe()},f);if(t.add(p),!m)return p}n.d(T,{N:()=>i})},33669:(N,T,n)=>{"use strict";function i(t){return t}n.d(T,{D:()=>i})},47441:(N,T,n)=>{"use strict";n.d(T,{X:()=>i});const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},37953:(N,T,n)=>{"use strict";n.d(T,{T:()=>t});var i=n(98071);function t(l){return Symbol.asyncIterator&&(0,i.T)(l?.[Symbol.asyncIterator])}},98071:(N,T,n)=>{"use strict";function i(t){return"function"==typeof t}n.d(T,{T:()=>i})},55055:(N,T,n)=>{"use strict";n.d(T,{l:()=>l});var i=n(3494),t=n(98071);function l(e){return(0,t.T)(e[i.s])}},85397:(N,T,n)=>{"use strict";n.d(T,{x:()=>l});var i=n(4761),t=n(98071);function l(e){return(0,t.T)(e?.[i.l])}},74402:(N,T,n)=>{"use strict";n.d(T,{A:()=>l});var i=n(71985),t=n(98071);function l(e){return!!e&&(e instanceof i.c||(0,t.T)(e.lift)&&(0,t.T)(e.subscribe))}},59858:(N,T,n)=>{"use strict";n.d(T,{y:()=>t});var i=n(98071);function t(l){return(0,i.T)(l?.then)}},15196:(N,T,n)=>{"use strict";n.d(T,{C:()=>l,U:()=>e});var i=n(31635),t=n(98071);function l(f){return(0,i.AQ)(this,arguments,function*(){const p=f.getReader();try{for(;;){const{value:_,done:v}=yield(0,i.N3)(p.read());if(v)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(_)}}finally{p.releaseLock()}})}function e(f){return(0,t.T)(f?.getReader)}},79470:(N,T,n)=>{"use strict";n.d(T,{m:()=>t});var i=n(98071);function t(l){return l&&(0,i.T)(l.schedule)}},39974:(N,T,n)=>{"use strict";n.d(T,{N:()=>l,S:()=>t});var i=n(98071);function t(e){return(0,i.T)(e?.lift)}function l(e){return f=>{if(t(f))return f.lift(function(m){try{return e(m,this)}catch(p){this.error(p)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(N,T,n)=>{"use strict";n.d(T,{I:()=>e});var i=n(96354);const{isArray:t}=Array;function e(f){return(0,i.T)(m=>function l(f,m){return t(m)?f(...m):f(m)}(f,m))}},85343:(N,T,n)=>{"use strict";function i(){}n.d(T,{l:()=>i})},71203:(N,T,n)=>{"use strict";n.d(T,{F:()=>t,m:()=>l});var i=n(33669);function t(...e){return l(e)}function l(e){return 0===e.length?i.D:1===e.length?e[0]:function(m){return e.reduce((p,_)=>_(p),m)}}},45334:(N,T,n)=>{"use strict";n.d(T,{m:()=>l});var i=n(41026),t=n(19270);function l(e){t.f.setTimeout(()=>{const{onUnhandledError:f}=i.$;if(!f)throw e;f(e)})}},50591:(N,T,n)=>{"use strict";function i(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}n.d(T,{L:()=>i})},36883:(N,T,n)=>{"use strict";n.d(T,{A:()=>O});var i,t=new Uint8Array(16);function l(){if(!i&&!(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(t)}const e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=[],_=0;_<256;++_)p.push((_+256).toString(16).substr(1));const y=function v(I){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=(p[I[D+0]]+p[I[D+1]]+p[I[D+2]]+p[I[D+3]]+"-"+p[I[D+4]]+p[I[D+5]]+"-"+p[I[D+6]]+p[I[D+7]]+"-"+p[I[D+8]]+p[I[D+9]]+"-"+p[I[D+10]]+p[I[D+11]]+p[I[D+12]]+p[I[D+13]]+p[I[D+14]]+p[I[D+15]]).toLowerCase();if(!function f(I){return"string"==typeof I&&e.test(I)}(R))throw TypeError("Stringified UUID is invalid");return R},O=function C(I,D,R){var h=(I=I||{}).random||(I.rng||l)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,D){R=R||0;for(var w=0;w<16;++w)D[R+w]=h[w];return D}return y(h)}},96935:()=>{"use strict";const N=globalThis;function T(It){return(N.__Zone_symbol_prefix||"__zone_symbol__")+It}const t=Object.getOwnPropertyDescriptor,l=Object.defineProperty,e=Object.getPrototypeOf,f=Object.create,m=Array.prototype.slice,p="addEventListener",_="removeEventListener",v=T(p),y=T(_),C="true",O="false",I=T("");function D(It,zt){return Zone.current.wrap(It,zt)}function R(It,zt,Ht,At,Ot){return Zone.current.scheduleMacroTask(It,zt,Ht,At,Ot)}const h=T,w=typeof window<"u",b=w?window:void 0,P=w&&b||globalThis,M="removeAttribute";function L(It,zt){for(let Ht=It.length-1;Ht>=0;Ht--)"function"==typeof It[Ht]&&(It[Ht]=D(It[Ht],zt+"_"+Ht));return It}function U(It){return!It||!1!==It.writable&&!("function"==typeof It.get&&typeof It.set>"u")}const $=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,j=!("nw"in P)&&typeof P.process<"u"&&"[object process]"===P.process.toString(),G=!j&&!$&&!(!w||!b.HTMLElement),z=typeof P.process<"u"&&"[object process]"===P.process.toString()&&!$&&!(!w||!b.HTMLElement),V={},X=h("enable_beforeunload"),J=function(It){if(!(It=It||P.event))return;let zt=V[It.type];zt||(zt=V[It.type]=h("ON_PROPERTY"+It.type));const Ht=this||It.target||P,At=Ht[zt];let Ot;return G&&Ht===b&&"error"===It.type?(Ot=At&&At.call(this,It.message,It.filename,It.lineno,It.colno,It.error),!0===Ot&&It.preventDefault()):(Ot=At&&At.apply(this,arguments),"beforeunload"===It.type&&P[X]&&"string"==typeof Ot?It.returnValue=Ot:null!=Ot&&!Ot&&It.preventDefault()),Ot};function q(It,zt,Ht){let At=t(It,zt);if(!At&&Ht&&t(Ht,zt)&&(At={enumerable:!0,configurable:!0}),!At||!At.configurable)return;const Ot=h("on"+zt+"patched");if(It.hasOwnProperty(Ot)&&It[Ot])return;delete At.writable,delete At.value;const Zt=At.get,Dt=At.set,Lt=zt.slice(2);let st=V[Lt];st||(st=V[Lt]=h("ON_PROPERTY"+Lt)),At.set=function(Le){let je=this;!je&&It===P&&(je=P),je&&("function"==typeof je[st]&&je.removeEventListener(Lt,J),Dt&&Dt.call(je,null),je[st]=Le,"function"==typeof Le&&je.addEventListener(Lt,J,!1))},At.get=function(){let Le=this;if(!Le&&It===P&&(Le=P),!Le)return null;const je=Le[st];if(je)return je;if(Zt){let He=Zt.call(this);if(He)return At.set.call(this,He),"function"==typeof Le[M]&&Le.removeAttribute(zt),He}return null},l(It,zt,At),It[Ot]=!0}function Z(It,zt,Ht){if(zt)for(let At=0;At<zt.length;At++)q(It,"on"+zt[At],Ht);else{const At=[];for(const Ot in It)"on"==Ot.slice(0,2)&&At.push(Ot);for(let Ot=0;Ot<At.length;Ot++)q(It,At[Ot],Ht)}}const H=h("originalInstance");function Y(It){const zt=P[It];if(!zt)return;P[h(It)]=zt,P[It]=function(){const Ot=L(arguments,It);switch(Ot.length){case 0:this[H]=new zt;break;case 1:this[H]=new zt(Ot[0]);break;case 2:this[H]=new zt(Ot[0],Ot[1]);break;case 3:this[H]=new zt(Ot[0],Ot[1],Ot[2]);break;case 4:this[H]=new zt(Ot[0],Ot[1],Ot[2],Ot[3]);break;default:throw new Error("Arg list too long.")}},oe(P[It],zt);const Ht=new zt(function(){});let At;for(At in Ht)"XMLHttpRequest"===It&&"responseBlob"===At||function(Ot){"function"==typeof Ht[Ot]?P[It].prototype[Ot]=function(){return this[H][Ot].apply(this[H],arguments)}:l(P[It].prototype,Ot,{set:function(Zt){"function"==typeof Zt?(this[H][Ot]=D(Zt,It+"."+Ot),oe(this[H][Ot],Zt)):this[H][Ot]=Zt},get:function(){return this[H][Ot]}})}(At);for(At in zt)"prototype"!==At&&zt.hasOwnProperty(At)&&(P[It][At]=zt[At])}function Q(It,zt,Ht){let At=It;for(;At&&!At.hasOwnProperty(zt);)At=e(At);!At&&It[zt]&&(At=It);const Ot=h(zt);let Zt=null;if(At&&(!(Zt=At[Ot])||!At.hasOwnProperty(Ot))&&(Zt=At[Ot]=At[zt],U(At&&t(At,zt)))){const Lt=Ht(Zt,Ot,zt);At[zt]=function(){return Lt(this,arguments)},oe(At[zt],Zt)}return Zt}function ie(It,zt,Ht){let At=null;function Ot(Zt){const Dt=Zt.data;return Dt.args[Dt.cbIdx]=function(){Zt.invoke.apply(this,arguments)},At.apply(Dt.target,Dt.args),Zt}At=Q(It,zt,Zt=>function(Dt,Lt){const st=Ht(Dt,Lt);return st.cbIdx>=0&&"function"==typeof Lt[st.cbIdx]?R(st.name,Lt[st.cbIdx],st,Ot):Zt.apply(Dt,Lt)})}function oe(It,zt){It[h("OriginalDelegate")]=zt}let pe=!1,ne=!1;function Ce(){if(pe)return ne;pe=!0;try{const It=b.navigator.userAgent;(-1!==It.indexOf("MSIE ")||-1!==It.indexOf("Trident/")||-1!==It.indexOf("Edge/"))&&(ne=!0)}catch{}return ne}function Ee(It){return"function"==typeof It}function ue(It){return"number"==typeof It}let ae=!1;if(typeof window<"u")try{const It=Object.defineProperty({},"passive",{get:function(){ae=!0}});window.addEventListener("test",It,It),window.removeEventListener("test",It,It)}catch{ae=!1}const ye={useG:!0},De={},tt={},_t=new RegExp("^"+I+"(\\w+)(true|false)$"),We=h("propagationStopped");function dt(It,zt){const Ht=(zt?zt(It):It)+O,At=(zt?zt(It):It)+C,Ot=I+Ht,Zt=I+At;De[It]={},De[It][O]=Ot,De[It][C]=Zt}function it(It,zt,Ht,At){const Ot=At&&At.add||p,Zt=At&&At.rm||_,Dt=At&&At.listeners||"eventListeners",Lt=At&&At.rmAll||"removeAllListeners",st=h(Ot),Le="."+Ot+":",je="prependListener",He="."+je+":",Be=function(fn,Cn,ns){if(fn.isRemoved)return;const hs=fn.callback;let Gs;"object"==typeof hs&&hs.handleEvent&&(fn.callback=ct=>hs.handleEvent(ct),fn.originalDelegate=hs);try{fn.invoke(fn,Cn,[ns])}catch(ct){Gs=ct}const yt=fn.options;return yt&&"object"==typeof yt&&yt.once&&Cn[Zt].call(Cn,ns.type,fn.originalDelegate?fn.originalDelegate:fn.callback,yt),Gs};function Pt(fn,Cn,ns){if(!(Cn=Cn||It.event))return;const hs=fn||Cn.target||It,Gs=hs[De[Cn.type][ns?C:O]];if(Gs){const yt=[];if(1===Gs.length){const ct=Be(Gs[0],hs,Cn);ct&&yt.push(ct)}else{const ct=Gs.slice();for(let Xt=0;Xt<ct.length&&(!Cn||!0!==Cn[We]);Xt++){const Pn=Be(ct[Xt],hs,Cn);Pn&&yt.push(Pn)}}if(1===yt.length)throw yt[0];for(let ct=0;ct<yt.length;ct++){const Xt=yt[ct];zt.nativeScheduleMicroTask(()=>{throw Xt})}}}const Je=function(fn){return Pt(this,fn,!1)},Nt=function(fn){return Pt(this,fn,!0)};function Et(fn,Cn){if(!fn)return!1;let ns=!0;Cn&&void 0!==Cn.useG&&(ns=Cn.useG);const hs=Cn&&Cn.vh;let Gs=!0;Cn&&void 0!==Cn.chkDup&&(Gs=Cn.chkDup);let yt=!1;Cn&&void 0!==Cn.rt&&(yt=Cn.rt);let ct=fn;for(;ct&&!ct.hasOwnProperty(Ot);)ct=e(ct);if(!ct&&fn[Ot]&&(ct=fn),!ct||ct[st])return!1;const Xt=Cn&&Cn.eventNameToString,Pn={},kn=ct[st]=ct[Ot],rs=ct[h(Zt)]=ct[Zt],as=ct[h(Dt)]=ct[Dt],Qs=ct[h(Lt)]=ct[Lt];let gs;Cn&&Cn.prepend&&(gs=ct[h(Cn.prepend)]=ct[Cn.prepend]);const ai=ns?function(kt){if(!Pn.isExisting)return kn.call(Pn.target,Pn.eventName,Pn.capture?Nt:Je,Pn.options)}:function(kt){return kn.call(Pn.target,Pn.eventName,kt.invoke,Pn.options)},mt=ns?function(kt){if(!kt.isRemoved){const sn=De[kt.eventName];let Tn;sn&&(Tn=sn[kt.capture?C:O]);const Vn=Tn&&kt.target[Tn];if(Vn)for(let Ln=0;Ln<Vn.length;Ln++)if(Vn[Ln]===kt){Vn.splice(Ln,1),kt.isRemoved=!0,kt.removeAbortListener&&(kt.removeAbortListener(),kt.removeAbortListener=null),0===Vn.length&&(kt.allRemoved=!0,kt.target[Tn]=null);break}}if(kt.allRemoved)return rs.call(kt.target,kt.eventName,kt.capture?Nt:Je,kt.options)}:function(kt){return rs.call(kt.target,kt.eventName,kt.invoke,kt.options)},$e=Cn&&Cn.diff?Cn.diff:function(kt,sn){const Tn=typeof sn;return"function"===Tn&&kt.callback===sn||"object"===Tn&&kt.originalDelegate===sn},en=Zone[h("UNPATCHED_EVENTS")],rt=It[h("PASSIVE_EVENTS")],Ct=function(kt,sn,Tn,Vn,Ln=!1,ms=!1){return function(){const Os=this||It;let ys=arguments[0];Cn&&Cn.transferEventName&&(ys=Cn.transferEventName(ys));let ls=arguments[1];if(!ls)return kt.apply(this,arguments);if(j&&"uncaughtException"===ys)return kt.apply(this,arguments);let Ds=!1;if("function"!=typeof ls){if(!ls.handleEvent)return kt.apply(this,arguments);Ds=!0}if(hs&&!hs(kt,ls,Os,arguments))return;const Mi=ae&&!!rt&&-1!==rt.indexOf(ys),ki=function ht(kt){if("object"==typeof kt&&null!==kt){const sn={...kt};return kt.signal&&(sn.signal=kt.signal),sn}return kt}(function Is(kt,sn){return!ae&&"object"==typeof kt&&kt?!!kt.capture:ae&&sn?"boolean"==typeof kt?{capture:kt,passive:!0}:kt?"object"==typeof kt&&!1!==kt.passive?{...kt,passive:!0}:kt:{passive:!0}:kt}(arguments[2],Mi)),Ai=ki?.signal;if(Ai?.aborted)return;if(en)for(let bn=0;bn<en.length;bn++)if(ys===en[bn])return Mi?kt.call(Os,ys,ls,ki):kt.apply(this,arguments);const Ni=!!ki&&("boolean"==typeof ki||ki.capture),Ar=!(!ki||"object"!=typeof ki)&&ki.once,Zi=Zone.current;let Ms=De[ys];Ms||(dt(ys,Xt),Ms=De[ys]);const Ys=Ms[Ni?C:O];let Ti,$i=Os[Ys],po=!1;if($i){if(po=!0,Gs)for(let bn=0;bn<$i.length;bn++)if($e($i[bn],ls))return}else $i=Os[Ys]=[];const Bt=Os.constructor.name,gn=tt[Bt];gn&&(Ti=gn[ys]),Ti||(Ti=Bt+sn+(Xt?Xt(ys):ys)),Pn.options=ki,Ar&&(Pn.options.once=!1),Pn.target=Os,Pn.capture=Ni,Pn.eventName=ys,Pn.isExisting=po;const tn=ns?ye:void 0;tn&&(tn.taskData=Pn),Ai&&(Pn.options.signal=void 0);const Wt=Zi.scheduleEventTask(Ti,ls,tn,Tn,Vn);if(Ai){Pn.options.signal=Ai;const bn=()=>Wt.zone.cancelTask(Wt);kt.call(Ai,"abort",bn,{once:!0}),Wt.removeAbortListener=()=>Ai.removeEventListener("abort",bn)}return Pn.target=null,tn&&(tn.taskData=null),Ar&&(Pn.options.once=!0),!ae&&"boolean"==typeof Wt.options||(Wt.options=ki),Wt.target=Os,Wt.capture=Ni,Wt.eventName=ys,Ds&&(Wt.originalDelegate=ls),ms?$i.unshift(Wt):$i.push(Wt),Ln?Os:void 0}};return ct[Ot]=Ct(kn,Le,ai,mt,yt),gs&&(ct[je]=Ct(gs,He,function(kt){return gs.call(Pn.target,Pn.eventName,kt.invoke,Pn.options)},mt,yt,!0)),ct[Zt]=function(){const kt=this||It;let sn=arguments[0];Cn&&Cn.transferEventName&&(sn=Cn.transferEventName(sn));const Tn=arguments[2],Vn=!!Tn&&("boolean"==typeof Tn||Tn.capture),Ln=arguments[1];if(!Ln)return rs.apply(this,arguments);if(hs&&!hs(rs,Ln,kt,arguments))return;const ms=De[sn];let Os;ms&&(Os=ms[Vn?C:O]);const ys=Os&&kt[Os];if(ys)for(let ls=0;ls<ys.length;ls++){const Ds=ys[ls];if($e(Ds,Ln))return ys.splice(ls,1),Ds.isRemoved=!0,0!==ys.length||(Ds.allRemoved=!0,kt[Os]=null,Vn||"string"!=typeof sn)||(kt[I+"ON_PROPERTY"+sn]=null),Ds.zone.cancelTask(Ds),yt?kt:void 0}return rs.apply(this,arguments)},ct[Dt]=function(){const kt=this||It;let sn=arguments[0];Cn&&Cn.transferEventName&&(sn=Cn.transferEventName(sn));const Tn=[],Vn=Ge(kt,Xt?Xt(sn):sn);for(let Ln=0;Ln<Vn.length;Ln++){const ms=Vn[Ln];Tn.push(ms.originalDelegate?ms.originalDelegate:ms.callback)}return Tn},ct[Lt]=function(){const kt=this||It;let sn=arguments[0];if(sn){Cn&&Cn.transferEventName&&(sn=Cn.transferEventName(sn));const Tn=De[sn];if(Tn){const ms=kt[Tn[O]],Os=kt[Tn[C]];if(ms){const ys=ms.slice();for(let ls=0;ls<ys.length;ls++){const Ds=ys[ls];this[Zt].call(this,sn,Ds.originalDelegate?Ds.originalDelegate:Ds.callback,Ds.options)}}if(Os){const ys=Os.slice();for(let ls=0;ls<ys.length;ls++){const Ds=ys[ls];this[Zt].call(this,sn,Ds.originalDelegate?Ds.originalDelegate:Ds.callback,Ds.options)}}}}else{const Tn=Object.keys(kt);for(let Vn=0;Vn<Tn.length;Vn++){const ms=_t.exec(Tn[Vn]);let Os=ms&&ms[1];Os&&"removeListener"!==Os&&this[Lt].call(this,Os)}this[Lt].call(this,"removeListener")}if(yt)return this},oe(ct[Ot],kn),oe(ct[Zt],rs),Qs&&oe(ct[Lt],Qs),as&&oe(ct[Dt],as),!0}let qt=[];for(let fn=0;fn<Ht.length;fn++)qt[fn]=Et(Ht[fn],At);return qt}function Ge(It,zt){if(!zt){const Zt=[];for(let Dt in It){const Lt=_t.exec(Dt);let st=Lt&&Lt[1];if(st&&(!zt||st===zt)){const Le=It[Dt];if(Le)for(let je=0;je<Le.length;je++)Zt.push(Le[je])}}return Zt}let Ht=De[zt];Ht||(dt(zt),Ht=De[zt]);const At=It[Ht[O]],Ot=It[Ht[C]];return At?Ot?At.concat(Ot):At.slice():Ot?Ot.slice():[]}function gt(It,zt){const Ht=It.Event;Ht&&Ht.prototype&&zt.patchMethod(Ht.prototype,"stopImmediatePropagation",At=>function(Ot,Zt){Ot[We]=!0,At&&At.apply(Ot,Zt)})}const we=h("zoneTask");function vt(It,zt,Ht,At){let Ot=null,Zt=null;Ht+=At;const Dt={};function Lt(Le){const je=Le.data;je.args[0]=function(){return Le.invoke.apply(this,arguments)};const He=Ot.apply(It,je.args);return ue(He)?je.handleId=He:(je.handle=He,je.isRefreshable=Ee(He.refresh)),Le}function st(Le){const{handle:je,handleId:He}=Le.data;return Zt.call(It,je??He)}Ot=Q(It,zt+=At,Le=>function(je,He){if(Ee(He[0])){const Be={isRefreshable:!1,isPeriodic:"Interval"===At,delay:"Timeout"===At||"Interval"===At?He[1]||0:void 0,args:He},Pt=He[0];He[0]=function(){try{return Pt.apply(this,arguments)}finally{const{handle:ns,handleId:hs,isPeriodic:Gs,isRefreshable:yt}=Be;!Gs&&!yt&&(hs?delete Dt[hs]:ns&&(ns[we]=null))}};const Je=R(zt,He[0],Be,Lt,st);if(!Je)return Je;const{handleId:Nt,handle:Et,isRefreshable:qt,isPeriodic:fn}=Je.data;if(Nt)Dt[Nt]=Je;else if(Et&&(Et[we]=Je,qt&&!fn)){const Cn=Et.refresh;Et.refresh=function(){const{zone:ns,state:hs}=Je;return"notScheduled"===hs?(Je._state="scheduled",ns._updateTaskCount(Je,1)):"running"===hs&&(Je._state="scheduling"),Cn.call(this)}}return Et??Nt??Je}return Le.apply(It,He)}),Zt=Q(It,Ht,Le=>function(je,He){const Be=He[0];let Pt;ue(Be)?(Pt=Dt[Be],delete Dt[Be]):(Pt=Be?.[we],Pt?Be[we]=null:Pt=Be),Pt?.type?Pt.cancelFn&&Pt.zone.cancelTask(Pt):Le.apply(It,He)})}function ve(It,zt,Ht){if(!Ht||0===Ht.length)return zt;const At=Ht.filter(Zt=>Zt.target===It);if(!At||0===At.length)return zt;const Ot=At[0].ignoreProperties;return zt.filter(Zt=>-1===Ot.indexOf(Zt))}function Ne(It,zt,Ht,At){It&&Z(It,ve(It,zt,Ht),At)}function ut(It){return Object.getOwnPropertyNames(It).filter(zt=>zt.startsWith("on")&&zt.length>2).map(zt=>zt.substring(2))}function $t(It,zt,Ht,At,Ot){const Zt=Zone.__symbol__(At);if(zt[Zt])return;const Dt=zt[Zt]=zt[At];zt[At]=function(Lt,st,Le){return st&&st.prototype&&Ot.forEach(function(je){const He=`${Ht}.${At}::`+je,Be=st.prototype;try{if(Be.hasOwnProperty(je)){const Pt=It.ObjectGetOwnPropertyDescriptor(Be,je);Pt&&Pt.value?(Pt.value=It.wrapWithCurrentZone(Pt.value,He),It._redefineProperty(st.prototype,je,Pt)):Be[je]&&(Be[je]=It.wrapWithCurrentZone(Be[je],He))}else Be[je]&&(Be[je]=It.wrapWithCurrentZone(Be[je],He))}catch{}}),Dt.call(zt,Lt,st,Le)},It.attachOriginToPatched(zt[At],Dt)}const ln=function i(){const It=globalThis,zt=!0===It[T("forceDuplicateZoneCheck")];if(It.Zone&&(zt||"function"!=typeof It.Zone.__symbol__))throw new Error("Zone already loaded.");return It.Zone??=function n(){const It=N.performance;function zt(Is){It&&It.mark&&It.mark(Is)}function Ht(Is,os){It&&It.measure&&It.measure(Is,os)}zt("Zone");let At=(()=>{class Is{static{this.__symbol__=T}static assertZonePatched(){if(N.Promise!==Pn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let rn=Is.current;for(;rn.parent;)rn=rn.parent;return rn}static get current(){return rs.zone}static get currentTask(){return as}static __load_patch(rn,pn,Zn=!1){if(Pn.hasOwnProperty(rn)){const Ps=!0===N[T("forceDuplicateZoneCheck")];if(!Zn&&Ps)throw Error("Already loaded patch: "+rn)}else if(!N["__Zone_disable_"+rn]){const Ps="Zone:"+rn;zt(Ps),Pn[rn]=pn(N,Is,kn),Ht(Ps,Ps)}}get parent(){return this._parent}get name(){return this._name}constructor(rn,pn){this._parent=rn,this._name=pn?pn.name||"unnamed":"<root>",this._properties=pn&&pn.properties||{},this._zoneDelegate=new Zt(this,this._parent&&this._parent._zoneDelegate,pn)}get(rn){const pn=this.getZoneWith(rn);if(pn)return pn._properties[rn]}getZoneWith(rn){let pn=this;for(;pn;){if(pn._properties.hasOwnProperty(rn))return pn;pn=pn._parent}return null}fork(rn){if(!rn)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,rn)}wrap(rn,pn){if("function"!=typeof rn)throw new Error("Expecting function got: "+rn);const Zn=this._zoneDelegate.intercept(this,rn,pn),Ps=this;return function(){return Ps.runGuarded(Zn,this,arguments,pn)}}run(rn,pn,Zn,Ps){rs={parent:rs,zone:this};try{return this._zoneDelegate.invoke(this,rn,pn,Zn,Ps)}finally{rs=rs.parent}}runGuarded(rn,pn=null,Zn,Ps){rs={parent:rs,zone:this};try{try{return this._zoneDelegate.invoke(this,rn,pn,Zn,Ps)}catch(ai){if(this._zoneDelegate.handleError(this,ai))throw ai}}finally{rs=rs.parent}}runTask(rn,pn,Zn){if(rn.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(rn.zone||Et).name+"; Execution: "+this.name+")");const Ps=rn,{type:ai,data:{isPeriodic:mt=!1,isRefreshable:Gt=!1}={}}=rn;if(rn.state===qt&&(ai===Xt||ai===ct))return;const $e=rn.state!=ns;$e&&Ps._transitionTo(ns,Cn);const en=as;as=Ps,rs={parent:rs,zone:this};try{ai==ct&&rn.data&&!mt&&!Gt&&(rn.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Ps,pn,Zn)}catch(rt){if(this._zoneDelegate.handleError(this,rt))throw rt}}finally{const rt=rn.state;if(rt!==qt&&rt!==Gs)if(ai==Xt||mt||Gt&&rt===fn)$e&&Ps._transitionTo(Cn,ns,fn);else{const ht=Ps._zoneDelegates;this._updateTaskCount(Ps,-1),$e&&Ps._transitionTo(qt,ns,qt),Gt&&(Ps._zoneDelegates=ht)}rs=rs.parent,as=en}}scheduleTask(rn){if(rn.zone&&rn.zone!==this){let Zn=this;for(;Zn;){if(Zn===rn.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${rn.zone.name}`);Zn=Zn.parent}}rn._transitionTo(fn,qt);const pn=[];rn._zoneDelegates=pn,rn._zone=this;try{rn=this._zoneDelegate.scheduleTask(this,rn)}catch(Zn){throw rn._transitionTo(Gs,fn,qt),this._zoneDelegate.handleError(this,Zn),Zn}return rn._zoneDelegates===pn&&this._updateTaskCount(rn,1),rn.state==fn&&rn._transitionTo(Cn,fn),rn}scheduleMicroTask(rn,pn,Zn,Ps){return this.scheduleTask(new Dt(yt,rn,pn,Zn,Ps,void 0))}scheduleMacroTask(rn,pn,Zn,Ps,ai){return this.scheduleTask(new Dt(ct,rn,pn,Zn,Ps,ai))}scheduleEventTask(rn,pn,Zn,Ps,ai){return this.scheduleTask(new Dt(Xt,rn,pn,Zn,Ps,ai))}cancelTask(rn){if(rn.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(rn.zone||Et).name+"; Execution: "+this.name+")");if(rn.state===Cn||rn.state===ns){rn._transitionTo(hs,Cn,ns);try{this._zoneDelegate.cancelTask(this,rn)}catch(pn){throw rn._transitionTo(Gs,hs),this._zoneDelegate.handleError(this,pn),pn}return this._updateTaskCount(rn,-1),rn._transitionTo(qt,hs),rn.runCount=-1,rn}}_updateTaskCount(rn,pn){const Zn=rn._zoneDelegates;-1==pn&&(rn._zoneDelegates=null);for(let Ps=0;Ps<Zn.length;Ps++)Zn[Ps]._updateTaskCount(rn.type,pn)}}return Is})();const Ot={name:"",onHasTask:(Is,os,rn,pn)=>Is.hasTask(rn,pn),onScheduleTask:(Is,os,rn,pn)=>Is.scheduleTask(rn,pn),onInvokeTask:(Is,os,rn,pn,Zn,Ps)=>Is.invokeTask(rn,pn,Zn,Ps),onCancelTask:(Is,os,rn,pn)=>Is.cancelTask(rn,pn)};class Zt{get zone(){return this._zone}constructor(os,rn,pn){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this._zone=os,this._parentDelegate=rn,this._forkZS=pn&&(pn&&pn.onFork?pn:rn._forkZS),this._forkDlgt=pn&&(pn.onFork?rn:rn._forkDlgt),this._forkCurrZone=pn&&(pn.onFork?this._zone:rn._forkCurrZone),this._interceptZS=pn&&(pn.onIntercept?pn:rn._interceptZS),this._interceptDlgt=pn&&(pn.onIntercept?rn:rn._interceptDlgt),this._interceptCurrZone=pn&&(pn.onIntercept?this._zone:rn._interceptCurrZone),this._invokeZS=pn&&(pn.onInvoke?pn:rn._invokeZS),this._invokeDlgt=pn&&(pn.onInvoke?rn:rn._invokeDlgt),this._invokeCurrZone=pn&&(pn.onInvoke?this._zone:rn._invokeCurrZone),this._handleErrorZS=pn&&(pn.onHandleError?pn:rn._handleErrorZS),this._handleErrorDlgt=pn&&(pn.onHandleError?rn:rn._handleErrorDlgt),this._handleErrorCurrZone=pn&&(pn.onHandleError?this._zone:rn._handleErrorCurrZone),this._scheduleTaskZS=pn&&(pn.onScheduleTask?pn:rn._scheduleTaskZS),this._scheduleTaskDlgt=pn&&(pn.onScheduleTask?rn:rn._scheduleTaskDlgt),this._scheduleTaskCurrZone=pn&&(pn.onScheduleTask?this._zone:rn._scheduleTaskCurrZone),this._invokeTaskZS=pn&&(pn.onInvokeTask?pn:rn._invokeTaskZS),this._invokeTaskDlgt=pn&&(pn.onInvokeTask?rn:rn._invokeTaskDlgt),this._invokeTaskCurrZone=pn&&(pn.onInvokeTask?this._zone:rn._invokeTaskCurrZone),this._cancelTaskZS=pn&&(pn.onCancelTask?pn:rn._cancelTaskZS),this._cancelTaskDlgt=pn&&(pn.onCancelTask?rn:rn._cancelTaskDlgt),this._cancelTaskCurrZone=pn&&(pn.onCancelTask?this._zone:rn._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Zn=pn&&pn.onHasTask;(Zn||rn&&rn._hasTaskZS)&&(this._hasTaskZS=Zn?pn:Ot,this._hasTaskDlgt=rn,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,pn.onScheduleTask||(this._scheduleTaskZS=Ot,this._scheduleTaskDlgt=rn,this._scheduleTaskCurrZone=this._zone),pn.onInvokeTask||(this._invokeTaskZS=Ot,this._invokeTaskDlgt=rn,this._invokeTaskCurrZone=this._zone),pn.onCancelTask||(this._cancelTaskZS=Ot,this._cancelTaskDlgt=rn,this._cancelTaskCurrZone=this._zone))}fork(os,rn){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,os,rn):new At(os,rn)}intercept(os,rn,pn){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,os,rn,pn):rn}invoke(os,rn,pn,Zn,Ps){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,os,rn,pn,Zn,Ps):rn.apply(pn,Zn)}handleError(os,rn){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,os,rn)}scheduleTask(os,rn){let pn=rn;if(this._scheduleTaskZS)this._hasTaskZS&&pn._zoneDelegates.push(this._hasTaskDlgtOwner),pn=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,os,rn),pn||(pn=rn);else if(rn.scheduleFn)rn.scheduleFn(rn);else{if(rn.type!=yt)throw new Error("Task is missing scheduleFn.");Je(rn)}return pn}invokeTask(os,rn,pn,Zn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,os,rn,pn,Zn):rn.callback.apply(pn,Zn)}cancelTask(os,rn){let pn;if(this._cancelTaskZS)pn=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,os,rn);else{if(!rn.cancelFn)throw Error("Task is not cancelable");pn=rn.cancelFn(rn)}return pn}hasTask(os,rn){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,os,rn)}catch(pn){this.handleError(os,pn)}}_updateTaskCount(os,rn){const pn=this._taskCounts,Zn=pn[os],Ps=pn[os]=Zn+rn;if(Ps<0)throw new Error("More tasks executed then were scheduled.");0!=Zn&&0!=Ps||this.hasTask(this._zone,{microTask:pn.microTask>0,macroTask:pn.macroTask>0,eventTask:pn.eventTask>0,change:os})}}class Dt{constructor(os,rn,pn,Zn,Ps,ai){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=os,this.source=rn,this.data=Zn,this.scheduleFn=Ps,this.cancelFn=ai,!pn)throw new Error("callback is not defined");this.callback=pn;const mt=this;this.invoke=os===Xt&&Zn&&Zn.useG?Dt.invokeTask:function(){return Dt.invokeTask.call(N,mt,this,arguments)}}static invokeTask(os,rn,pn){os||(os=this),Qs++;try{return os.runCount++,os.zone.runTask(os,rn,pn)}finally{1==Qs&&Nt(),Qs--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(qt,fn)}_transitionTo(os,rn,pn){if(this._state!==rn&&this._state!==pn)throw new Error(`${this.type} '${this.source}': can not transition to '${os}', expecting state '${rn}'${pn?" or '"+pn+"'":""}, was '${this._state}'.`);this._state=os,os==qt&&(this._zoneDelegates=null)}toString(){return this.data&&typeof this.data.handleId<"u"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Lt=T("setTimeout"),st=T("Promise"),Le=T("then");let Be,je=[],He=!1;function Pt(Is){if(Be||N[st]&&(Be=N[st].resolve(0)),Be){let os=Be[Le];os||(os=Be.then),os.call(Be,Is)}else N[Lt](Is,0)}function Je(Is){0===Qs&&0===je.length&&Pt(Nt),Is&&je.push(Is)}function Nt(){if(!He){for(He=!0;je.length;){const Is=je;je=[];for(let os=0;os<Is.length;os++){const rn=Is[os];try{rn.zone.runTask(rn,null,null)}catch(pn){kn.onUnhandledError(pn)}}}kn.microtaskDrainDone(),He=!1}}const Et={name:"NO ZONE"},qt="notScheduled",fn="scheduling",Cn="scheduled",ns="running",hs="canceling",Gs="unknown",yt="microTask",ct="macroTask",Xt="eventTask",Pn={},kn={symbol:T,currentZoneFrame:()=>rs,onUnhandledError:gs,microtaskDrainDone:gs,scheduleMicroTask:Je,showUncaughtError:()=>!At[T("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:gs,patchMethod:()=>gs,bindArguments:()=>[],patchThen:()=>gs,patchMacroTask:()=>gs,patchEventPrototype:()=>gs,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>gs,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>gs,wrapWithCurrentZone:()=>gs,filterProperties:()=>[],attachOriginToPatched:()=>gs,_redefineProperty:()=>gs,patchCallbacks:()=>gs,nativeScheduleMicroTask:Pt};let rs={parent:null,zone:new At(null,null)},as=null,Qs=0;function gs(){}return Ht("Zone","Zone"),At}(),It.Zone}();(function Jt(It){(function Mn(It){It.__load_patch("ZoneAwarePromise",(zt,Ht,At)=>{const Ot=Object.getOwnPropertyDescriptor,Zt=Object.defineProperty,Lt=At.symbol,st=[],Le=!1!==zt[Lt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],je=Lt("Promise"),He=Lt("then"),Be="__creationTrace__";At.onUnhandledError=ht=>{if(At.showUncaughtError()){const Ct=ht&&ht.rejection;Ct?console.error("Unhandled Promise rejection:",Ct instanceof Error?Ct.message:Ct,"; Zone:",ht.zone.name,"; Task:",ht.task&&ht.task.source,"; Value:",Ct,Ct instanceof Error?Ct.stack:void 0):console.error(ht)}},At.microtaskDrainDone=()=>{for(;st.length;){const ht=st.shift();try{ht.zone.runGuarded(()=>{throw ht.throwOriginal?ht.rejection:ht})}catch(Ct){Je(Ct)}}};const Pt=Lt("unhandledPromiseRejectionHandler");function Je(ht){At.onUnhandledError(ht);try{const Ct=Ht[Pt];"function"==typeof Ct&&Ct.call(this,ht)}catch{}}function Nt(ht){return ht&&ht.then}function Et(ht){return ht}function qt(ht){return mt.reject(ht)}const fn=Lt("state"),Cn=Lt("value"),ns=Lt("finally"),hs=Lt("parentPromiseValue"),Gs=Lt("parentPromiseState"),yt="Promise.then",ct=null,Xt=!0,Pn=!1,kn=0;function rs(ht,Ct){return kt=>{try{Is(ht,Ct,kt)}catch(sn){Is(ht,!1,sn)}}}const as=function(){let ht=!1;return function(kt){return function(){ht||(ht=!0,kt.apply(null,arguments))}}},Qs="Promise resolved with itself",gs=Lt("currentTaskTrace");function Is(ht,Ct,kt){const sn=as();if(ht===kt)throw new TypeError(Qs);if(ht[fn]===ct){let Tn=null;try{("object"==typeof kt||"function"==typeof kt)&&(Tn=kt&&kt.then)}catch(Vn){return sn(()=>{Is(ht,!1,Vn)})(),ht}if(Ct!==Pn&&kt instanceof mt&&kt.hasOwnProperty(fn)&&kt.hasOwnProperty(Cn)&&kt[fn]!==ct)rn(kt),Is(ht,kt[fn],kt[Cn]);else if(Ct!==Pn&&"function"==typeof Tn)try{Tn.call(kt,sn(rs(ht,Ct)),sn(rs(ht,!1)))}catch(Vn){sn(()=>{Is(ht,!1,Vn)})()}else{ht[fn]=Ct;const Vn=ht[Cn];if(ht[Cn]=kt,ht[ns]===ns&&Ct===Xt&&(ht[fn]=ht[Gs],ht[Cn]=ht[hs]),Ct===Pn&&kt instanceof Error){const Ln=Ht.currentTask&&Ht.currentTask.data&&Ht.currentTask.data[Be];Ln&&Zt(kt,gs,{configurable:!0,enumerable:!1,writable:!0,value:Ln})}for(let Ln=0;Ln<Vn.length;)pn(ht,Vn[Ln++],Vn[Ln++],Vn[Ln++],Vn[Ln++]);if(0==Vn.length&&Ct==Pn){ht[fn]=kn;let Ln=kt;try{throw new Error("Uncaught (in promise): "+function Dt(ht){return ht&&ht.toString===Object.prototype.toString?(ht.constructor&&ht.constructor.name||"")+": "+JSON.stringify(ht):ht?ht.toString():Object.prototype.toString.call(ht)}(kt)+(kt&&kt.stack?"\n"+kt.stack:""))}catch(ms){Ln=ms}Le&&(Ln.throwOriginal=!0),Ln.rejection=kt,Ln.promise=ht,Ln.zone=Ht.current,Ln.task=Ht.currentTask,st.push(Ln),At.scheduleMicroTask()}}}return ht}const os=Lt("rejectionHandledHandler");function rn(ht){if(ht[fn]===kn){try{const Ct=Ht[os];Ct&&"function"==typeof Ct&&Ct.call(this,{rejection:ht[Cn],promise:ht})}catch{}ht[fn]=Pn;for(let Ct=0;Ct<st.length;Ct++)ht===st[Ct].promise&&st.splice(Ct,1)}}function pn(ht,Ct,kt,sn,Tn){rn(ht);const Vn=ht[fn],Ln=Vn?"function"==typeof sn?sn:Et:"function"==typeof Tn?Tn:qt;Ct.scheduleMicroTask(yt,()=>{try{const ms=ht[Cn],Os=!!kt&&ns===kt[ns];Os&&(kt[hs]=ms,kt[Gs]=Vn);const ys=Ct.run(Ln,void 0,Os&&Ln!==qt&&Ln!==Et?[]:[ms]);Is(kt,!0,ys)}catch(ms){Is(kt,!1,ms)}},kt)}const Ps=function(){},ai=zt.AggregateError;class mt{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Ct){return Ct instanceof mt?Ct:Is(new this(null),Xt,Ct)}static reject(Ct){return Is(new this(null),Pn,Ct)}static withResolvers(){const Ct={};return Ct.promise=new mt((kt,sn)=>{Ct.resolve=kt,Ct.reject=sn}),Ct}static any(Ct){if(!Ct||"function"!=typeof Ct[Symbol.iterator])return Promise.reject(new ai([],"All promises were rejected"));const kt=[];let sn=0;try{for(let Ln of Ct)sn++,kt.push(mt.resolve(Ln))}catch{return Promise.reject(new ai([],"All promises were rejected"))}if(0===sn)return Promise.reject(new ai([],"All promises were rejected"));let Tn=!1;const Vn=[];return new mt((Ln,ms)=>{for(let Os=0;Os<kt.length;Os++)kt[Os].then(ys=>{Tn||(Tn=!0,Ln(ys))},ys=>{Vn.push(ys),sn--,0===sn&&(Tn=!0,ms(new ai(Vn,"All promises were rejected")))})})}static race(Ct){let kt,sn,Tn=new this((ms,Os)=>{kt=ms,sn=Os});function Vn(ms){kt(ms)}function Ln(ms){sn(ms)}for(let ms of Ct)Nt(ms)||(ms=this.resolve(ms)),ms.then(Vn,Ln);return Tn}static all(Ct){return mt.allWithCallback(Ct)}static allSettled(Ct){return(this&&this.prototype instanceof mt?this:mt).allWithCallback(Ct,{thenCallback:sn=>({status:"fulfilled",value:sn}),errorCallback:sn=>({status:"rejected",reason:sn})})}static allWithCallback(Ct,kt){let sn,Tn,Vn=new this((ys,ls)=>{sn=ys,Tn=ls}),Ln=2,ms=0;const Os=[];for(let ys of Ct){Nt(ys)||(ys=this.resolve(ys));const ls=ms;try{ys.then(Ds=>{Os[ls]=kt?kt.thenCallback(Ds):Ds,Ln--,0===Ln&&sn(Os)},Ds=>{kt?(Os[ls]=kt.errorCallback(Ds),Ln--,0===Ln&&sn(Os)):Tn(Ds)})}catch(Ds){Tn(Ds)}Ln++,ms++}return Ln-=2,0===Ln&&sn(Os),Vn}constructor(Ct){const kt=this;if(!(kt instanceof mt))throw new Error("Must be an instanceof Promise.");kt[fn]=ct,kt[Cn]=[];try{const sn=as();Ct&&Ct(sn(rs(kt,Xt)),sn(rs(kt,Pn)))}catch(sn){Is(kt,!1,sn)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return mt}then(Ct,kt){let sn=this.constructor?.[Symbol.species];(!sn||"function"!=typeof sn)&&(sn=this.constructor||mt);const Tn=new sn(Ps),Vn=Ht.current;return this[fn]==ct?this[Cn].push(Vn,Tn,Ct,kt):pn(this,Vn,Tn,Ct,kt),Tn}catch(Ct){return this.then(null,Ct)}finally(Ct){let kt=this.constructor?.[Symbol.species];(!kt||"function"!=typeof kt)&&(kt=mt);const sn=new kt(Ps);sn[ns]=ns;const Tn=Ht.current;return this[fn]==ct?this[Cn].push(Tn,sn,Ct,Ct):pn(this,Tn,sn,Ct,Ct),sn}}mt.resolve=mt.resolve,mt.reject=mt.reject,mt.race=mt.race,mt.all=mt.all;const Gt=zt[je]=zt.Promise;zt.Promise=mt;const $e=Lt("thenPatched");function en(ht){const Ct=ht.prototype,kt=Ot(Ct,"then");if(kt&&(!1===kt.writable||!kt.configurable))return;const sn=Ct.then;Ct[He]=sn,ht.prototype.then=function(Tn,Vn){return new mt((ms,Os)=>{sn.call(this,ms,Os)}).then(Tn,Vn)},ht[$e]=!0}return At.patchThen=en,Gt&&(en(Gt),Q(zt,"fetch",ht=>function rt(ht){return function(Ct,kt){let sn=ht.apply(Ct,kt);if(sn instanceof mt)return sn;let Tn=sn.constructor;return Tn[$e]||en(Tn),sn}}(ht))),Promise[Ht.__symbol__("uncaughtPromiseErrors")]=st,mt})})(It),function Tt(It){It.__load_patch("toString",zt=>{const Ht=Function.prototype.toString,At=h("OriginalDelegate"),Ot=h("Promise"),Zt=h("Error"),Dt=function(){if("function"==typeof this){const je=this[At];if(je)return"function"==typeof je?Ht.call(je):Object.prototype.toString.call(je);if(this===Promise){const He=zt[Ot];if(He)return Ht.call(He)}if(this===Error){const He=zt[Zt];if(He)return Ht.call(He)}}return Ht.call(this)};Dt[At]=Ht,Function.prototype.toString=Dt;const Lt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Lt.call(this)}})}(It),function St(It){It.__load_patch("util",(zt,Ht,At)=>{const Ot=ut(zt);At.patchOnProperties=Z,At.patchMethod=Q,At.bindArguments=L,At.patchMacroTask=ie;const Zt=Ht.__symbol__("BLACK_LISTED_EVENTS"),Dt=Ht.__symbol__("UNPATCHED_EVENTS");zt[Dt]&&(zt[Zt]=zt[Dt]),zt[Zt]&&(Ht[Zt]=Ht[Dt]=zt[Zt]),At.patchEventPrototype=gt,At.patchEventTarget=it,At.isIEOrEdge=Ce,At.ObjectDefineProperty=l,At.ObjectGetOwnPropertyDescriptor=t,At.ObjectCreate=f,At.ArraySlice=m,At.patchClass=Y,At.wrapWithCurrentZone=D,At.filterProperties=ve,At.attachOriginToPatched=oe,At._redefineProperty=Object.defineProperty,At.patchCallbacks=$t,At.getGlobalObjects=()=>({globalSources:tt,zoneSymbolEventNames:De,eventNames:Ot,isBrowser:G,isMix:z,isNode:j,TRUE_STR:C,FALSE_STR:O,ZONE_SYMBOL_PREFIX:I,ADD_EVENT_LISTENER_STR:p,REMOVE_EVENT_LISTENER_STR:_})})}(It)})(ln),function nn(It){It.__load_patch("legacy",zt=>{const Ht=zt[It.__symbol__("legacyPatch")];Ht&&Ht()}),It.__load_patch("timers",zt=>{const At="clear";vt(zt,"set",At,"Timeout"),vt(zt,"set",At,"Interval"),vt(zt,"set",At,"Immediate")}),It.__load_patch("requestAnimationFrame",zt=>{vt(zt,"request","cancel","AnimationFrame"),vt(zt,"mozRequest","mozCancel","AnimationFrame"),vt(zt,"webkitRequest","webkitCancel","AnimationFrame")}),It.__load_patch("blocking",(zt,Ht)=>{const At=["alert","prompt","confirm"];for(let Ot=0;Ot<At.length;Ot++)Q(zt,At[Ot],(Dt,Lt,st)=>function(Le,je){return Ht.current.run(Dt,zt,je,st)})}),It.__load_patch("EventTarget",(zt,Ht,At)=>{(function lt(It,zt){zt.patchEventPrototype(It,zt)})(zt,At),function nt(It,zt){if(Zone[zt.symbol("patchEventTarget")])return;const{eventNames:Ht,zoneSymbolEventNames:At,TRUE_STR:Ot,FALSE_STR:Zt,ZONE_SYMBOL_PREFIX:Dt}=zt.getGlobalObjects();for(let st=0;st<Ht.length;st++){const Le=Ht[st],Be=Dt+(Le+Zt),Pt=Dt+(Le+Ot);At[Le]={},At[Le][Zt]=Be,At[Le][Ot]=Pt}const Lt=It.EventTarget;Lt&&Lt.prototype&&zt.patchEventTarget(It,zt,[Lt&&Lt.prototype])}(zt,At);const Ot=zt.XMLHttpRequestEventTarget;Ot&&Ot.prototype&&At.patchEventTarget(zt,At,[Ot.prototype])}),It.__load_patch("MutationObserver",(zt,Ht,At)=>{Y("MutationObserver"),Y("WebKitMutationObserver")}),It.__load_patch("IntersectionObserver",(zt,Ht,At)=>{Y("IntersectionObserver")}),It.__load_patch("FileReader",(zt,Ht,At)=>{Y("FileReader")}),It.__load_patch("on_property",(zt,Ht,At)=>{!function cn(It,zt){if(j&&!z||Zone[It.symbol("patchEvents")])return;const Ht=zt.__Zone_ignore_on_properties;let At=[];if(G){const Ot=window;At=At.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Zt=function re(){try{const It=b.navigator.userAgent;if(-1!==It.indexOf("MSIE ")||-1!==It.indexOf("Trident/"))return!0}catch{}return!1}()?[{target:Ot,ignoreProperties:["error"]}]:[];Ne(Ot,ut(Ot),Ht&&Ht.concat(Zt),e(Ot))}At=At.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let Ot=0;Ot<At.length;Ot++){const Zt=zt[At[Ot]];Zt&&Zt.prototype&&Ne(Zt.prototype,ut(Zt.prototype),Ht)}}(At,zt)}),It.__load_patch("customElements",(zt,Ht,At)=>{!function at(It,zt){const{isBrowser:Ht,isMix:At}=zt.getGlobalObjects();(Ht||At)&&It.customElements&&"customElements"in It&&zt.patchCallbacks(zt,It.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"])}(zt,At)}),It.__load_patch("XHR",(zt,Ht)=>{!function Le(je){const He=je.XMLHttpRequest;if(!He)return;const Be=He.prototype;let Je=Be[v],Nt=Be[y];if(!Je){const kn=je.XMLHttpRequestEventTarget;if(kn){const rs=kn.prototype;Je=rs[v],Nt=rs[y]}}const Et="readystatechange",qt="scheduled";function fn(kn){const rs=kn.data,as=rs.target;as[Dt]=!1,as[st]=!1;const Qs=as[Zt];Je||(Je=as[v],Nt=as[y]),Qs&&Nt.call(as,Et,Qs);const gs=as[Zt]=()=>{if(as.readyState===as.DONE)if(!rs.aborted&&as[Dt]&&kn.state===qt){const os=as[Ht.__symbol__("loadfalse")];if(0!==as.status&&os&&os.length>0){const rn=kn.invoke;kn.invoke=function(){const pn=as[Ht.__symbol__("loadfalse")];for(let Zn=0;Zn<pn.length;Zn++)pn[Zn]===kn&&pn.splice(Zn,1);!rs.aborted&&kn.state===qt&&rn.call(kn)},os.push(kn)}else kn.invoke()}else!rs.aborted&&!1===as[Dt]&&(as[st]=!0)};return Je.call(as,Et,gs),as[At]||(as[At]=kn),Xt.apply(as,rs.args),as[Dt]=!0,kn}function Cn(){}function ns(kn){const rs=kn.data;return rs.aborted=!0,Pn.apply(rs.target,rs.args)}const hs=Q(Be,"open",()=>function(kn,rs){return kn[Ot]=0==rs[2],kn[Lt]=rs[1],hs.apply(kn,rs)}),yt=h("fetchTaskAborting"),ct=h("fetchTaskScheduling"),Xt=Q(Be,"send",()=>function(kn,rs){if(!0===Ht.current[ct]||kn[Ot])return Xt.apply(kn,rs);{const as={target:kn,url:kn[Lt],isPeriodic:!1,args:rs,aborted:!1},Qs=R("XMLHttpRequest.send",Cn,as,fn,ns);kn&&!0===kn[st]&&!as.aborted&&Qs.state===qt&&Qs.invoke()}}),Pn=Q(Be,"abort",()=>function(kn,rs){const as=function Pt(kn){return kn[At]}(kn);if(as&&"string"==typeof as.type){if(null==as.cancelFn||as.data&&as.data.aborted)return;as.zone.cancelTask(as)}else if(!0===Ht.current[yt])return Pn.apply(kn,rs)})}(zt);const At=h("xhrTask"),Ot=h("xhrSync"),Zt=h("xhrListener"),Dt=h("xhrScheduled"),Lt=h("xhrURL"),st=h("xhrErrorBeforeScheduled")}),It.__load_patch("geolocation",zt=>{zt.navigator&&zt.navigator.geolocation&&function B(It,zt){const Ht=It.constructor.name;for(let At=0;At<zt.length;At++){const Ot=zt[At],Zt=It[Ot];if(Zt){if(!U(t(It,Ot)))continue;It[Ot]=(Lt=>{const st=function(){return Lt.apply(this,L(arguments,Ht+"."+Ot))};return oe(st,Lt),st})(Zt)}}}(zt.navigator.geolocation,["getCurrentPosition","watchPosition"])}),It.__load_patch("PromiseRejectionEvent",(zt,Ht)=>{function At(Ot){return function(Zt){Ge(zt,Ot).forEach(Lt=>{const st=zt.PromiseRejectionEvent;if(st){const Le=new st(Ot,{promise:Zt.promise,reason:Zt.rejection});Lt.invoke(Le)}})}}zt.PromiseRejectionEvent&&(Ht[h("unhandledPromiseRejectionHandler")]=At("unhandledrejection"),Ht[h("rejectionHandledHandler")]=At("rejectionhandled"))}),It.__load_patch("queueMicrotask",(zt,Ht,At)=>{!function Pe(It,zt){zt.patchMethod(It,"queueMicrotask",Ht=>function(At,Ot){Zone.current.scheduleMicroTask("queueMicrotask",Ot[0])})}(zt,At)})}(ln)},48832:(N,T,n)=>{var i={"./custom/app/admin/admin-sidebar/admin-sidebar.component":[87323,7323]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=48832,N.exports=t},32012:(N,T,n)=>{var i={"./custom/app/breadcrumbs/breadcrumbs.component":[20335,335]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=32012,N.exports=t},43562:(N,T,n)=>{var i={"./custom/app/footer/footer.component":[951,951]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43562,N.exports=t},30130:(N,T,n)=>{var i={"./custom/app/forbidden/forbidden.component":[50547,547]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=30130,N.exports=t},20991:(N,T,n)=>{var i={"./custom/app/header-nav-wrapper/header-navbar-wrapper.component":[66520,6520],"./dspace/app/header-nav-wrapper/header-navbar-wrapper.component":[47435]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=20991,N.exports=t},16722:(N,T,n)=>{var i={"./custom/app/header/header.component":[75559,5559],"./dspace/app/header/header.component":[3018]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=16722,N.exports=t},52636:(N,T,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-image/media-viewer-image.component":[59655,9655]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52636,N.exports=t},38815:(N,T,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer-video/media-viewer-video.component":[92531,2531]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=38815,N.exports=t},5452:(N,T,n)=>{var i={"./custom/app/item-page/media-viewer/media-viewer.component":[81917,1917]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=5452,N.exports=t},78373:(N,T,n)=>{var i={"./custom/app/item-page/simple/field-components/file-section/file-section.component":[38072,8072]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=78373,N.exports=t},17026:(N,T,n)=>{var i={"./custom/app/item-page/simple/field-components/specific-field/title/item-page-title-field.component":[1739,1739]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=17026,N.exports=t},89979:(N,T,n)=>{var i={"./custom/app/item-page/simple/metadata-representation-list/metadata-representation-list.component":[32890,2890]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=89979,N.exports=t},88289:(N,T,n)=>{var i={"./custom/app/navbar/expandable-navbar-section/expandable-navbar-section.component":[61754,1754]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=88289,N.exports=t},19318:(N,T,n)=>{var i={"./custom/app/navbar/navbar.component":[77069,7069],"./dspace/app/navbar/navbar.component":[89768]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=19318,N.exports=t},18400:N=>{function T(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}T.keys=()=>[],T.resolve=T,T.id=18400,N.exports=T},46544:N=>{function T(n){return Promise.resolve().then(()=>{var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i})}T.keys=()=>[],T.resolve=T,T.id=46544,N.exports=T},94826:(N,T,n)=>{var i={"./custom/app/pagenotfound/pagenotfound.component":[21797,1797]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94826,N.exports=t},94634:(N,T,n)=>{var i={"./custom/app/root/root.component":[83469,3469]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=94634,N.exports=t},28754:(N,T,n)=>{var i={"./custom/app/search-navbar/search-navbar.component":[9323,9323]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=28754,N.exports=t},21133:(N,T,n)=>{var i={"./custom/app/search-page/configuration-search-page.component":[74892,4892]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=21133,N.exports=t},51808:(N,T,n)=>{var i={"./custom/app/shared/auth-nav-menu/auth-nav-menu.component":[5789,5789]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=51808,N.exports=t},13361:(N,T,n)=>{var i={"./custom/app/shared/auth-nav-menu/user-menu/user-menu.component":[95208,5208]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13361,N.exports=t},60939:(N,T,n)=>{var i={"./custom/app/shared/browse-by/browse-by.component.ts":[84281,4281]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60939,N.exports=t},80882:(N,T,n)=>{var i={"./custom/app/shared/collection-dropdown/collection-dropdown.component":[15733,5733]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=80882,N.exports=t},12706:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-collection-parent-selector/create-collection-parent-selector.component":[73159,3159]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=12706,N.exports=t},27122:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-community-parent-selector/create-community-parent-selector.component":[14899,4899]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=27122,N.exports=t},25074:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/create-item-parent-selector/create-item-parent-selector.component":[2851,2851]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=25074,N.exports=t},61130:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-collection-selector/edit-collection-selector.component":[90627,627]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=61130,N.exports=t},11452:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-community-selector/edit-community-selector.component":[56303,6303]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=11452,N.exports=t},6122:(N,T,n)=>{var i={"./custom/app/shared/dso-selector/modal-wrappers/edit-item-selector/edit-item-selector.component":[94189,4189]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=6122,N.exports=t},72834:(N,T,n)=>{var i={"./custom/app/shared/file-download-link/file-download-link.component":[93015,3015]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=72834,N.exports=t},90331:(N,T,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/dynamic-lookup-relation-external-source-tab.component":[5924,5924]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=90331,N.exports=t},14651:(N,T,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/external-source-tab/external-source-entry-import-modal/external-source-entry-import-modal.component":[60360,360]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=14651,N.exports=t},37919:(N,T,n)=>{var i={"./custom/app/shared/form/builder/ds-dynamic-form-ui/relation-lookup-modal/search-tab/dynamic-lookup-relation-search-tab.component":[37558,5177]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=37919,N.exports=t},97394:(N,T,n)=>{var i={"./custom/app/shared/lang-switch/lang-switch.component":[1237,1237]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=97394,N.exports=t},54512:(N,T,n)=>{var i={"./custom/app/shared/loading/loading.component":[86905,2076,9286]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=54512,N.exports=t},43800:(N,T,n)=>{var i={"./custom/app/shared/log-in/log-in.component":[74267,4267]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=43800,N.exports=t},50822:(N,T,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/access-status-badge/access-status-badge.component":[16953,6953]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=50822,N.exports=t},70295:(N,T,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/badges.component":[67830,7830]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=70295,N.exports=t},87596:(N,T,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/my-dspace-status-badge/my-dspace-status-badge.component":[67635,7635]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=87596,N.exports=t},52504:(N,T,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/status-badge/status-badge.component":[93463,3463]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=52504,N.exports=t},45796:(N,T,n)=>{var i={"./custom/app/shared/object-collection/shared/badges/type-badge/type-badge.component":[14491,4491]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=45796,N.exports=t},4026:(N,T,n)=>{var i={"./custom/app/shared/object-detail/my-dspace-result-detail-element/item-detail-preview/item-detail-preview-field/item-detail-preview-field.component":[69585,9585]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=4026,N.exports=t},71931:(N,T,n)=>{var i={"./custom/app/shared/object-list/my-dspace-result-list-element/item-list-preview/item-list-preview.component":[6455,8836]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=71931,N.exports=t},8894:(N,T,n)=>{var i={"./custom/app/shared/object-list/object-list.component":[16625,6625]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=8894,N.exports=t},79086:(N,T,n)=>{var i={"./custom/app/shared/results-back-button/results-back-button.component":[54545,2076,4545]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return Promise.all(e.slice(1).map(n.e)).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=79086,N.exports=t},76142:(N,T,n)=>{var i={"./custom/app/shared/search-form/search-form.component":[62645,2645]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=76142,N.exports=t},64565:(N,T,n)=>{var i={"./custom/app/shared/search/search-filters/search-filters.component":[4072,4072]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=64565,N.exports=t},18527:(N,T,n)=>{var i={"./custom/app/shared/search/search-results/search-results.component":[27826,7826]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=18527,N.exports=t},60911:(N,T,n)=>{var i={"./custom/app/shared/search/search-settings/search-settings.component":[13622,3622]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=60911,N.exports=t},98587:(N,T,n)=>{var i={"./custom/app/shared/search/search-sidebar/search-sidebar.component":[26318,6318]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=98587,N.exports=t},13390:(N,T,n)=>{var i={"./custom/app/shared/search/search.component":[40488,8107]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=13390,N.exports=t},572:(N,T,n)=>{var i={"./custom/app/thumbnail/thumbnail.component":[71859,1859]};function t(l){if(!n.o(i,l))return Promise.resolve().then(()=>{var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m});var e=i[l],f=e[0];return n.e(e[1]).then(()=>n(f))}t.keys=()=>Object.keys(i),t.id=572,N.exports=t},18820:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(i,t,l,e,f,m,p){var _=new Date(0);return _.setUTCFullYear(i,t,l),_.setUTCHours(e,f,m,p),_},N.exports=T.default},59573:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(e,f,m){var p=function l(e,f,m){if(m&&!m.code)throw new Error("date-fns-tz error: Please set a language code on the locale object imported from date-fns, e.g. `locale.code = 'en-US'`");return new Intl.DateTimeFormat(m?[m.code,"en-US"]:void 0,{timeZone:f,timeZoneName:e})}(e,m.timeZone,m.locale);return p.formatToParts?function i(e,f){for(var m=e.formatToParts(f),p=m.length-1;p>=0;--p)if("timeZoneName"===m[p].type)return m[p].value}(p,f):function t(e,f){var m=e.format(f).replace(/\u200E/g,""),p=/ [\w-+ ]+$/.exec(m);return p?p[0].substr(1):""}(p,f)},N.exports=T.default},34898:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(D,R,h){var w,b,P;if(!D||(w=m.timezoneZ.exec(D)))return 0;if(w=m.timezoneHH.exec(D))return C(P=parseInt(w[1],10))?-P*e:NaN;if(w=m.timezoneHHMM.exec(D)){P=parseInt(w[1],10);var M=parseInt(w[2],10);return C(P,M)?(b=Math.abs(P)*e+M*f,P>0?-b:b):NaN}if(function I(D){if(O[D])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:D}),O[D]=!0,!0}catch{return!1}}(D)){R=new Date(R||Date.now());var L=h?R:function _(D){return(0,t.default)(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds())}(R),B=v(L,D),U=h?B:function y(D,R,h){var b=D.getTime()-R,P=v(new Date(b),h);if(R===P)return R;b-=P-R;var M=v(new Date(b),h);return P===M?P:Math.max(P,M)}(R,B,D);return-U}return NaN};var i=l(n(21771)),t=l(n(18820));function l(D){return D&&D.__esModule?D:{default:D}}var e=36e5,f=6e4,m={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function v(D,R){var h=(0,i.default)(D,R),w=(0,t.default)(h[0],h[1]-1,h[2],h[3]%24,h[4],h[5],0).getTime(),b=D.getTime(),P=b%1e3;return w-(b-(P>=0?P:1e3+P))}function C(D,R){return-23<=D&&D<=23&&(null==R||0<=R&&R<=59)}var O={};N.exports=T.default},85812:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0,T.default=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,N.exports=T.default},21771:(N,T)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function n(m,p){var _=function f(m){if(!e[m]){var p=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z"));e[m]="06/25/2014, 00:00:00"===p||"\u200e06\u200e/\u200e25\u200e/\u200e2014\u200e \u200e00\u200e:\u200e00\u200e:\u200e00"===p?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return e[m]}(p);return _.formatToParts?function t(m,p){try{for(var _=m.formatToParts(p),v=[],y=0;y<_.length;y++){var C=i[_[y].type];C>=0&&(v[C]=parseInt(_[y].value,10))}return v}catch(O){if(O instanceof RangeError)return[NaN];throw O}}(_,m):function l(m,p){var _=m.format(p).replace(/\u200E/g,""),v=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(_);return[v[3],v[1],v[2],v[4],v[5],v[6]]}(_,m)};var i={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};N.exports=T.default},91490:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var i=l(n(59573)),t=l(n(34898));function l(O){return O&&O.__esModule?O:{default:O}}function m(O,I){var D=O?(0,t.default)(O,I,!0)/6e4:I.getTimezoneOffset();if(Number.isNaN(D))throw new RangeError("Invalid time zone specified: "+O);return D}function p(O,I){for(var D=O<0?"-":"",R=Math.abs(O).toString();R.length<I;)R="0"+R;return D+R}function _(O,I){var D=I||"",R=O>0?"-":"+",h=Math.abs(O);return R+p(Math.floor(h/60),2)+D+p(Math.floor(h%60),2)}function v(O,I){return O%60==0?(O>0?"-":"+")+p(Math.abs(O)/60,2):_(O,I)}T.default={X:function(O,I,D,R){var h=m(R.timeZone,R._originalDate||O);if(0===h)return"Z";switch(I){case"X":return v(h);case"XXXX":case"XX":return _(h);default:return _(h,":")}},x:function(O,I,D,R){var h=m(R.timeZone,R._originalDate||O);switch(I){case"x":return v(h);case"xxxx":case"xx":return _(h);default:return _(h,":")}},O:function(O,I,D,R){var h=m(R.timeZone,R._originalDate||O);switch(I){case"O":case"OO":case"OOO":return"GMT"+function y(O,I){var D=O>0?"-":"+",R=Math.abs(O),h=Math.floor(R/60),w=R%60;if(0===w)return D+String(h);var b=I||"";return D+String(h)+b+p(w,2)}(h,":");default:return"GMT"+_(h,":")}},z:function(O,I,D,R){var h=R._originalDate||O;switch(I){case"z":case"zz":case"zzz":return(0,i.default)("short",h,R);default:return(0,i.default)("long",h,R)}}},N.exports=T.default},38308:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function m(p,_,v){var y=String(_),C=v||{},O=y.match(f);if(O){var I=(0,l.default)(p,C);y=O.reduce(function(D,R){if("'"===R[0])return D;var h=D.indexOf(R),w="'"===D[h-1],b=D.replace(R,"'"+t.default[R[0]](I,R,null,C)+"'");return w?b.substring(0,h-1)+b.substring(h+1):b},y)}return(0,i.default)(p,y,C)};var i=e(n(24150)),t=e(n(91490)),l=e(n(64358));function e(p){return p&&p.__esModule?p:{default:p}}var f=/([xXOz]+)|''|'(''|[^'])+('|$)/g;N.exports=T.default},62628:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function f(m,p,_,v){var y=(0,i.default)(v);return y.timeZone=p,(0,t.default)((0,l.default)(m,p),_,y)};var i=e(n(88200)),t=e(n(38308)),l=e(n(2589));function e(m){return m&&m.__esModule?m:{default:m}}N.exports=T.default},48493:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function l(e,f){return-(0,i.default)(e,f)};var i=function t(e){return e&&e.__esModule?e:{default:e}}(n(34898));N.exports=T.default},56106:(N,T,n)=>{"use strict";N.exports={format:n(38308),formatInTimeZone:n(62628),getTimezoneOffset:n(48493),toDate:n(64358),utcToZonedTime:n(2589),zonedTimeToUtc:n(56743)}},64358:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function y(U,$){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===U)return new Date(NaN);var j=$||{},G=null==j.additionalDigits?_:(0,i.default)(j.additionalDigits);if(2!==G&&1!==G&&0!==G)throw new RangeError("additionalDigits must be 0, 1 or 2");if(U instanceof Date||"object"==typeof U&&"[object Date]"===Object.prototype.toString.call(U))return new Date(U.getTime());if("number"==typeof U||"[object Number]"===Object.prototype.toString.call(U))return new Date(U);if("string"!=typeof U&&"[object String]"!==Object.prototype.toString.call(U))return new Date(NaN);var z=function C(U){var G,$={},j=v.dateTimePattern.exec(U);if(j?($.date=j[1],G=j[3]):(j=v.datePattern.exec(U))?($.date=j[1],G=j[2]):($.date=null,G=U),G){var z=v.timeZone.exec(G);z?($.time=G.replace(z[1],""),$.timeZone=z[1].trim()):$.time=G}return $}(U),V=function O(U,$){var z,j=v.YYY[$],G=v.YYYYY[$];if(z=v.YYYY.exec(U)||G.exec(U)){var V=z[1];return{year:parseInt(V,10),restDateString:U.slice(V.length)}}if(z=v.YY.exec(U)||j.exec(U)){var X=z[1];return{year:100*parseInt(X,10),restDateString:U.slice(X.length)}}return{year:null}}(z.date,G),q=function I(U,$){if(null===$)return null;var j,G,z,V;if(0===U.length)return(G=new Date(0)).setUTCFullYear($),G;if(j=v.MM.exec(U))return G=new Date(0),P($,z=parseInt(j[1],10)-1)?(G.setUTCFullYear($,z),G):new Date(NaN);if(j=v.DDD.exec(U)){G=new Date(0);var X=parseInt(j[1],10);return function M(U,$){if($<1)return!1;var j=b(U);return!(j&&$>366||!j&&$>365)}($,X)?(G.setUTCFullYear($,0,X),G):new Date(NaN)}if(j=v.MMDD.exec(U)){G=new Date(0),z=parseInt(j[1],10)-1;var J=parseInt(j[2],10);return P($,z,J)?(G.setUTCFullYear($,z,J),G):new Date(NaN)}if(j=v.Www.exec(U))return L(0,V=parseInt(j[1],10)-1)?R($,V):new Date(NaN);if(j=v.WwwD.exec(U)){V=parseInt(j[1],10)-1;var q=parseInt(j[2],10)-1;return L(0,V,q)?R($,V,q):new Date(NaN)}return null}(V.restDateString,V.year);if(isNaN(q))return new Date(NaN);if(q){var Y,Z=q.getTime(),H=0;if(z.time&&(H=function D(U){var $,j,G;if($=v.HH.exec(U))return B(j=parseFloat($[1].replace(",",".")))?j%24*m:NaN;if($=v.HHMM.exec(U))return B(j=parseInt($[1],10),G=parseFloat($[2].replace(",",".")))?j%24*m+G*p:NaN;if($=v.HHMMSS.exec(U)){j=parseInt($[1],10),G=parseInt($[2],10);var z=parseFloat($[3].replace(",","."));return B(j,G,z)?j%24*m+G*p+1e3*z:NaN}return null}(z.time),isNaN(H)))return new Date(NaN);if(z.timeZone||j.timeZone){if(Y=(0,l.default)(z.timeZone||j.timeZone,new Date(Z+H)),isNaN(Y))return new Date(NaN)}else Y=(0,t.default)(new Date(Z+H)),Y=(0,t.default)(new Date(Z+H+Y));return new Date(Z+H+Y)}return new Date(NaN)};var i=f(n(25167)),t=f(n(20059)),l=f(n(34898)),e=f(n(85812));function f(U){return U&&U.__esModule?U:{default:U}}var m=36e5,p=6e4,_=2,v={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:e.default};function R(U,$,j){$=$||0,j=j||0;var G=new Date(0);G.setUTCFullYear(U,0,4);var V=7*$+j+1-(G.getUTCDay()||7);return G.setUTCDate(G.getUTCDate()+V),G}var h=[31,28,31,30,31,30,31,31,30,31,30,31],w=[31,29,31,30,31,30,31,31,30,31,30,31];function b(U){return U%400==0||U%4==0&&U%100!=0}function P(U,$,j){if($<0||$>11)return!1;if(null!=j){if(j<1)return!1;var G=b(U);if(G&&j>w[$]||!G&&j>h[$])return!1}return!0}function L(U,$,j){return!($<0||$>52||null!=j&&(j<0||j>6))}function B(U,$,j){return!(null!=U&&(U<0||U>=25)||null!=$&&($<0||$>=60)||null!=j&&(j<0||j>=60))}N.exports=T.default},2589:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function e(f,m,p){var _=(0,t.default)(f,p),v=(0,i.default)(m,_,!0),y=new Date(_.getTime()-v),C=new Date(0);return C.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),C.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),C};var i=l(n(34898)),t=l(n(64358));function l(f){return f&&f.__esModule?f:{default:f}}N.exports=T.default},56743:(N,T,n)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function p(_,v,y){if("string"==typeof _&&!_.match(l.default)){var C=(0,i.default)(y);return C.timeZone=v,(0,t.default)(_,C)}var O=(0,t.default)(_,y),I=(0,f.default)(O.getFullYear(),O.getMonth(),O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds(),O.getMilliseconds()).getTime(),D=(0,e.default)(v,new Date(I));return new Date(I+D)};var i=m(n(88200)),t=m(n(64358)),l=m(n(85812)),e=m(n(34898)),f=m(n(18820));function m(_){return _&&_.__esModule?_:{default:_}}N.exports=T.default},52165:()=>{var N,T;T=N||(N={}),function(n){var i="object"==typeof globalThis?globalThis:"object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:function m(){return function e(){try{return Function("return this;")()}catch{}}()||function f(){try{return(0,eval)("(function() { return this; })()")}catch{}}()}(),t=l(T);function l(p,_){return function(v,y){Object.defineProperty(p,v,{configurable:!0,writable:!0,value:y}),_&&_(v,y)}}typeof i.Reflect<"u"&&(t=l(i.Reflect,t)),function(n,i){var t=Object.prototype.hasOwnProperty,l="function"==typeof Symbol,e=l&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",f=l&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",m="function"==typeof Object.create,p={__proto__:[]}instanceof Array,_=!m&&!p,v={create:m?function(){return Mn(Object.create(null))}:p?function(){return Mn({__proto__:null})}:function(){return Mn({})},has:_?function(Tt,$t){return t.call(Tt,$t)}:function(Tt,$t){return $t in Tt},get:_?function(Tt,$t){return t.call(Tt,$t)?Tt[$t]:void 0}:function(Tt,$t){return Tt[$t]}},y=Object.getPrototypeOf(Function),C="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:function ut(){var Tt={},$t=[],St=function(){function Ht(At,Ot,Zt){this._index=0,this._keys=At,this._values=Ot,this._selector=Zt}return Ht.prototype["@@iterator"]=function(){return this},Ht.prototype[f]=function(){return this},Ht.prototype.next=function(){var At=this._index;if(At>=0&&At<this._keys.length){var Ot=this._selector(this._keys[At],this._values[At]);return At+1>=this._keys.length?(this._index=-1,this._keys=$t,this._values=$t):this._index++,{value:Ot,done:!1}}return{value:void 0,done:!0}},Ht.prototype.throw=function(At){throw this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),At},Ht.prototype.return=function(At){return this._index>=0&&(this._index=-1,this._keys=$t,this._values=$t),{value:At,done:!0}},Ht}();return function(){function Ht(){this._keys=[],this._values=[],this._cacheKey=Tt,this._cacheIndex=-2}return Object.defineProperty(Ht.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Ht.prototype.has=function(At){return this._find(At,!1)>=0},Ht.prototype.get=function(At){var Ot=this._find(At,!1);return Ot>=0?this._values[Ot]:void 0},Ht.prototype.set=function(At,Ot){var Zt=this._find(At,!0);return this._values[Zt]=Ot,this},Ht.prototype.delete=function(At){var Ot=this._find(At,!1);if(Ot>=0){for(var Zt=this._keys.length,Dt=Ot+1;Dt<Zt;Dt++)this._keys[Dt-1]=this._keys[Dt],this._values[Dt-1]=this._values[Dt];return this._keys.length--,this._values.length--,dt(At,this._cacheKey)&&(this._cacheKey=Tt,this._cacheIndex=-2),!0}return!1},Ht.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Tt,this._cacheIndex=-2},Ht.prototype.keys=function(){return new St(this._keys,this._values,ln)},Ht.prototype.values=function(){return new St(this._keys,this._values,It)},Ht.prototype.entries=function(){return new St(this._keys,this._values,zt)},Ht.prototype["@@iterator"]=function(){return this.entries()},Ht.prototype[f]=function(){return this.entries()},Ht.prototype._find=function(At,Ot){if(!dt(this._cacheKey,At)){this._cacheIndex=-1;for(var Zt=0;Zt<this._keys.length;Zt++)if(dt(this._keys[Zt],At)){this._cacheIndex=Zt;break}}return this._cacheIndex<0&&Ot&&(this._cacheIndex=this._keys.length,this._keys.push(At),this._values.push(void 0)),this._cacheIndex},Ht}();function ln(Ht,At){return Ht}function It(Ht,At){return At}function zt(Ht,At){return[Ht,At]}}(),O="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:function cn(){return function(){function $t(){this._map=new C}return Object.defineProperty($t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),$t.prototype.has=function(St){return this._map.has(St)},$t.prototype.add=function(St){return this._map.set(St,St),this},$t.prototype.delete=function(St){return this._map.delete(St)},$t.prototype.clear=function(){this._map.clear()},$t.prototype.keys=function(){return this._map.keys()},$t.prototype.values=function(){return this._map.keys()},$t.prototype.entries=function(){return this._map.entries()},$t.prototype["@@iterator"]=function(){return this.keys()},$t.prototype[f]=function(){return this.keys()},$t}()}(),I="function"==typeof WeakMap?WeakMap:function nn(){var Tt=16,$t=v.create(),St=Jt();return function(){function At(){this._key=Jt()}return At.prototype.has=function(Ot){var Zt=ln(Ot,!1);return void 0!==Zt&&v.has(Zt,this._key)},At.prototype.get=function(Ot){var Zt=ln(Ot,!1);return void 0!==Zt?v.get(Zt,this._key):void 0},At.prototype.set=function(Ot,Zt){return ln(Ot,!0)[this._key]=Zt,this},At.prototype.delete=function(Ot){var Zt=ln(Ot,!1);return void 0!==Zt&&delete Zt[this._key]},At.prototype.clear=function(){this._key=Jt()},At}();function Jt(){var At;do{At="@@WeakMap@@"+Ht()}while(v.has($t,At));return $t[At]=!0,At}function ln(At,Ot){if(!t.call(At,St)){if(!Ot)return;Object.defineProperty(At,St,{value:v.create()})}return At[St]}function It(At,Ot){for(var Zt=0;Zt<Ot;++Zt)At[Zt]=255*Math.random()|0;return At}function Ht(){var At=function zt(At){if("function"==typeof Uint8Array){var Ot=new Uint8Array(At);return typeof crypto<"u"?crypto.getRandomValues(Ot):typeof msCrypto<"u"?msCrypto.getRandomValues(Ot):It(Ot,At),Ot}return It(new Array(At),At)}(Tt);At[6]=79&At[6]|64,At[8]=191&At[8]|128;for(var Ot="",Zt=0;Zt<Tt;++Zt){var Dt=At[Zt];(4===Zt||6===Zt||8===Zt)&&(Ot+="-"),Dt<16&&(Ot+="0"),Ot+=Dt.toString(16).toLowerCase()}return Ot}}(),D=l?Symbol.for("@reflect-metadata:registry"):void 0,R=function nt(){var Tt;return!oe(D)&&re(i.Reflect)&&Object.isExtensible(i.Reflect)&&(Tt=i.Reflect[D]),oe(Tt)&&(Tt=function at(){var Tt;!oe(D)&&typeof i.Reflect<"u"&&!(D in i.Reflect)&&"function"==typeof i.Reflect.defineMetadata&&(Tt=function ve(Tt){var $t=Tt.defineMetadata,St=Tt.hasOwnMetadata,Jt=Tt.getOwnMetadata,ln=Tt.getOwnMetadataKeys,It=Tt.deleteMetadata,zt=new I;return{isProviderFor:function(At,Ot){var Zt=zt.get(At);return!(oe(Zt)||!Zt.has(Ot))||!!ln(At,Ot).length&&(oe(Zt)&&(Zt=new O,zt.set(At,Zt)),Zt.add(Ot),!0)},OrdinaryDefineOwnMetadata:$t,OrdinaryHasOwnMetadata:St,OrdinaryGetOwnMetadata:Jt,OrdinaryOwnMetadataKeys:ln,OrdinaryDeleteMetadata:It}}(i.Reflect));var $t,St,Jt,ln=new I,It={registerProvider:zt,getProvider:At,setProvider:Zt};return It;function zt(Dt){if(!Object.isExtensible(It))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case Tt===Dt:break;case oe($t):$t=Dt;break;case $t===Dt:break;case oe(St):St=Dt;break;case St===Dt:break;default:void 0===Jt&&(Jt=new O),Jt.add(Dt)}}function Ht(Dt,Lt){if(!oe($t)){if($t.isProviderFor(Dt,Lt))return $t;if(!oe(St)){if(St.isProviderFor(Dt,Lt))return $t;if(!oe(Jt))for(var st=Ge(Jt);;){var Le=Pe(st);if(!Le)return;var je=gt(Le);if(je.isProviderFor(Dt,Lt))return we(st),je}}}if(!oe(Tt)&&Tt.isProviderFor(Dt,Lt))return Tt}function At(Dt,Lt){var Le,st=ln.get(Dt);return oe(st)||(Le=st.get(Lt)),oe(Le)&&(oe(Le=Ht(Dt,Lt))||(oe(st)&&(st=new C,ln.set(Dt,st)),st.set(Lt,Le))),Le}function Ot(Dt){if(oe(Dt))throw new TypeError;return $t===Dt||St===Dt||!oe(Jt)&&Jt.has(Dt)}function Zt(Dt,Lt,st){if(!Ot(st))throw new Error("Metadata provider not registered.");var Le=At(Dt,Lt);if(Le!==st){if(!oe(Le))return!1;var je=ln.get(Dt);oe(je)&&(je=new C,ln.set(Dt,je)),je.set(Lt,st)}return!0}}()),!oe(D)&&re(i.Reflect)&&Object.isExtensible(i.Reflect)&&Object.defineProperty(i.Reflect,D,{enumerable:!1,configurable:!1,writable:!1,value:Tt}),Tt}(),h=function lt(Tt){var $t=new I,St={isProviderFor:function(Ot,Zt){var Dt=$t.get(Ot);return!oe(Dt)&&Dt.has(Zt)},OrdinaryDefineOwnMetadata:function zt(Ot,Zt,Dt,Lt){Jt(Dt,Lt,!0).set(Ot,Zt)},OrdinaryHasOwnMetadata:function ln(Ot,Zt,Dt){var Lt=Jt(Zt,Dt,!1);return!oe(Lt)&&ue(Lt.has(Ot))},OrdinaryGetOwnMetadata:function It(Ot,Zt,Dt){var Lt=Jt(Zt,Dt,!1);if(!oe(Lt))return Lt.get(Ot)},OrdinaryOwnMetadataKeys:function Ht(Ot,Zt){var Dt=[],Lt=Jt(Ot,Zt,!1);if(oe(Lt))return Dt;for(var Le=Ge(Lt.keys()),je=0;;){var He=Pe(Le);if(!He)return Dt.length=je,Dt;var Be=gt(He);try{Dt[je]=Be}catch(Pt){try{we(Le)}finally{throw Pt}}je++}},OrdinaryDeleteMetadata:function At(Ot,Zt,Dt){var Lt=Jt(Zt,Dt,!1);if(oe(Lt)||!Lt.delete(Ot))return!1;if(0===Lt.size){var st=$t.get(Zt);oe(st)||(st.delete(Dt),0===st.size&&$t.delete(st))}return!0}};return R.registerProvider(St),St;function Jt(Ot,Zt,Dt){var Lt=$t.get(Ot),st=!1;if(oe(Lt)){if(!Dt)return;Lt=new C,$t.set(Ot,Lt),st=!0}var Le=Lt.get(Zt);if(oe(Le)){if(!Dt)return;if(Le=new C,Lt.set(Zt,Le),!Tt.setProvider(Ot,Zt,St))throw Lt.delete(Zt),st&&$t.delete(Ot),new Error("Wrong provider for target.")}return Le}}(R);function X(Tt,$t,St){if(J(Tt,$t,St))return!0;var ln=vt($t);return!pe(ln)&&X(Tt,ln,St)}function J(Tt,$t,St){var Jt=Ne($t,St,!1);return!oe(Jt)&&ue(Jt.OrdinaryHasOwnMetadata(Tt,$t,St))}function q(Tt,$t,St){if(J(Tt,$t,St))return Z(Tt,$t,St);var ln=vt($t);return pe(ln)?void 0:q(Tt,ln,St)}function Z(Tt,$t,St){var Jt=Ne($t,St,!1);if(!oe(Jt))return Jt.OrdinaryGetOwnMetadata(Tt,$t,St)}function H(Tt,$t,St,Jt){Ne(St,Jt,!0).OrdinaryDefineOwnMetadata(Tt,$t,St,Jt)}function Y(Tt,$t){var St=Q(Tt,$t),Jt=vt(Tt);if(null===Jt)return St;var ln=Y(Jt,$t);if(ln.length<=0)return St;if(St.length<=0)return ln;for(var It=new O,zt=[],Ht=0,At=St;Ht<At.length;Ht++)It.has(Ot=At[Ht])||(It.add(Ot),zt.push(Ot));for(var Dt=0,Lt=ln;Dt<Lt.length;Dt++){var Ot;It.has(Ot=Lt[Dt])||(It.add(Ot),zt.push(Ot))}return zt}function Q(Tt,$t){var St=Ne(Tt,$t,!1);return St?St.OrdinaryOwnMetadataKeys(Tt,$t):[]}function ie(Tt){if(null===Tt)return 1;switch(typeof Tt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===Tt?1:6;default:return 6}}function oe(Tt){return void 0===Tt}function pe(Tt){return null===Tt}function re(Tt){return"object"==typeof Tt?null!==Tt:"function"==typeof Tt}function Ce(Tt,$t){switch(ie(Tt)){case 0:case 1:case 2:case 3:case 4:case 5:return Tt}var St=3===$t?"string":5===$t?"number":"default",Jt=it(Tt,e);if(void 0!==Jt){var ln=Jt.call(Tt,St);if(re(ln))throw new TypeError;return ln}return function Ee(Tt,$t){if("string"===$t){var St=Tt.toString;if(tt(St)&&!re(Jt=St.call(Tt)))return Jt;if(tt(ln=Tt.valueOf)&&!re(Jt=ln.call(Tt)))return Jt}else{var ln;if(tt(ln=Tt.valueOf)&&!re(Jt=ln.call(Tt)))return Jt;var Jt,It=Tt.toString;if(tt(It)&&!re(Jt=It.call(Tt)))return Jt}throw new TypeError}(Tt,"default"===St?"number":St)}function ue(Tt){return!!Tt}function ye(Tt){var $t=Ce(Tt,3);return function ne(Tt){return"symbol"==typeof Tt}($t)?$t:function ae(Tt){return""+Tt}($t)}function De(Tt){return Array.isArray?Array.isArray(Tt):Tt instanceof Object?Tt instanceof Array:"[object Array]"===Object.prototype.toString.call(Tt)}function tt(Tt){return"function"==typeof Tt}function _t(Tt){return"function"==typeof Tt}function dt(Tt,$t){return Tt===$t||Tt!=Tt&&$t!=$t}function it(Tt,$t){var St=Tt[$t];if(null!=St){if(!tt(St))throw new TypeError;return St}}function Ge(Tt){var $t=it(Tt,f);if(!tt($t))throw new TypeError;var St=$t.call(Tt);if(!re(St))throw new TypeError;return St}function gt(Tt){return Tt.value}function Pe(Tt){var $t=Tt.next();return!$t.done&&$t}function we(Tt){var $t=Tt.return;$t&&$t.call(Tt)}function vt(Tt){var $t=Object.getPrototypeOf(Tt);if("function"!=typeof Tt||Tt===y||$t!==y)return $t;var St=Tt.prototype,Jt=St&&Object.getPrototypeOf(St);if(null==Jt||Jt===Object.prototype)return $t;var ln=Jt.constructor;return"function"!=typeof ln||ln===Tt?$t:ln}function Ne(Tt,$t,St){var Jt=R.getProvider(Tt,$t);if(!oe(Jt))return Jt;if(St){if(R.setProvider(Tt,$t,h))return h;throw new Error("Illegal state.")}}function Mn(Tt){return Tt.__=void 0,delete Tt.__,Tt}n("decorate",function w(Tt,$t,St,Jt){if(oe(St)){if(!De(Tt))throw new TypeError;if(!_t($t))throw new TypeError;return function z(Tt,$t){for(var St=Tt.length-1;St>=0;--St){var ln=(0,Tt[St])($t);if(!oe(ln)&&!pe(ln)){if(!_t(ln))throw new TypeError;$t=ln}}return $t}(Tt,$t)}if(!De(Tt))throw new TypeError;if(!re($t))throw new TypeError;if(!re(Jt)&&!oe(Jt)&&!pe(Jt))throw new TypeError;return pe(Jt)&&(Jt=void 0),function V(Tt,$t,St,Jt){for(var ln=Tt.length-1;ln>=0;--ln){var zt=(0,Tt[ln])($t,St,Jt);if(!oe(zt)&&!pe(zt)){if(!re(zt))throw new TypeError;Jt=zt}}return Jt}(Tt,$t,St=ye(St),Jt)}),n("metadata",function b(Tt,$t){return function St(Jt,ln){if(!re(Jt))throw new TypeError;if(!oe(ln)&&!function We(Tt){switch(ie(Tt)){case 3:case 4:return!0;default:return!1}}(ln))throw new TypeError;H(Tt,$t,Jt,ln)}}),n("defineMetadata",function P(Tt,$t,St,Jt){if(!re(St))throw new TypeError;return oe(Jt)||(Jt=ye(Jt)),H(Tt,$t,St,Jt)}),n("hasMetadata",function M(Tt,$t,St){if(!re($t))throw new TypeError;return oe(St)||(St=ye(St)),X(Tt,$t,St)}),n("hasOwnMetadata",function L(Tt,$t,St){if(!re($t))throw new TypeError;return oe(St)||(St=ye(St)),J(Tt,$t,St)}),n("getMetadata",function B(Tt,$t,St){if(!re($t))throw new TypeError;return oe(St)||(St=ye(St)),q(Tt,$t,St)}),n("getOwnMetadata",function U(Tt,$t,St){if(!re($t))throw new TypeError;return oe(St)||(St=ye(St)),Z(Tt,$t,St)}),n("getMetadataKeys",function $(Tt,$t){if(!re(Tt))throw new TypeError;return oe($t)||($t=ye($t)),Y(Tt,$t)}),n("getOwnMetadataKeys",function j(Tt,$t){if(!re(Tt))throw new TypeError;return oe($t)||($t=ye($t)),Q(Tt,$t)}),n("deleteMetadata",function G(Tt,$t,St){if(!re($t))throw new TypeError;if(oe(St)||(St=ye(St)),!re($t))throw new TypeError;oe(St)||(St=ye(St));var Jt=Ne($t,St,!1);return!oe(Jt)&&Jt.OrdinaryDeleteMetadata(Tt,$t,St)})}(t,i),typeof i.Reflect>"u"&&(i.Reflect=T)}()},24994:N=>{N.exports=function T(n){return n&&n.__esModule?n:{default:n}},N.exports.__esModule=!0,N.exports.default=N.exports},73738:N=>{function T(n){return N.exports=T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},N.exports.__esModule=!0,N.exports.default=N.exports,T(n)}N.exports=T,N.exports.__esModule=!0,N.exports.default=N.exports},82374:(N,T,n)=>{"use strict";n(26099),n(39796),n(60825),n(87411),n(21211),n(40888),n(9065),n(86565),n(32812),n(84634),n(71137),n(30985),n(34268),n(34873),n(15472);var i=n(19167);N.exports=i.Reflect},79306:(N,T,n)=>{"use strict";var i=n(94901),t=n(16823),l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not a function")}},35548:(N,T,n)=>{"use strict";var i=n(33517),t=n(16823),l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not a constructor")}},73506:(N,T,n)=>{"use strict";var i=n(13925),t=String,l=TypeError;N.exports=function(e){if(i(e))return e;throw new l("Can't set "+t(e)+" as a prototype")}},28551:(N,T,n)=>{"use strict";var i=n(20034),t=String,l=TypeError;N.exports=function(e){if(i(e))return e;throw new l(t(e)+" is not an object")}},15652:(N,T,n)=>{"use strict";var i=n(79039);N.exports=i(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})},19617:(N,T,n)=>{"use strict";var i=n(25397),t=n(35610),l=n(26198),e=function(f){return function(m,p,_){var v=i(m),y=l(v);if(0===y)return!f&&-1;var O,C=t(_,y);if(f&&p!=p){for(;y>C;)if((O=v[C++])!=O)return!0}else for(;y>C;C++)if((f||C in v)&&v[C]===p)return f||C||0;return!f&&-1}};N.exports={includes:e(!0),indexOf:e(!1)}},67680:(N,T,n)=>{"use strict";var i=n(79504);N.exports=i([].slice)},22195:(N,T,n)=>{"use strict";var i=n(79504),t=i({}.toString),l=i("".slice);N.exports=function(e){return l(t(e),8,-1)}},36955:(N,T,n)=>{"use strict";var i=n(92140),t=n(94901),l=n(22195),f=n(78227)("toStringTag"),m=Object,p="Arguments"===l(function(){return arguments}());N.exports=i?l:function(v){var y,C,O;return void 0===v?"Undefined":null===v?"Null":"string"==typeof(C=function(v,y){try{return v[y]}catch{}}(y=m(v),f))?C:p?l(y):"Object"===(O=l(y))&&t(y.callee)?"Arguments":O}},77740:(N,T,n)=>{"use strict";var i=n(39297),t=n(35031),l=n(77347),e=n(24913);N.exports=function(f,m,p){for(var _=t(m),v=e.f,y=l.f,C=0;C<_.length;C++){var O=_[C];!i(f,O)&&(!p||!i(p,O))&&v(f,O,y(m,O))}}},12211:(N,T,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},66699:(N,T,n)=>{"use strict";var i=n(43724),t=n(24913),l=n(6980);N.exports=i?function(e,f,m){return t.f(e,f,l(1,m))}:function(e,f,m){return e[f]=m,e}},6980:N=>{"use strict";N.exports=function(T,n){return{enumerable:!(1&T),configurable:!(2&T),writable:!(4&T),value:n}}},36840:(N,T,n)=>{"use strict";var i=n(94901),t=n(24913),l=n(50283),e=n(39433);N.exports=function(f,m,p,_){_||(_={});var v=_.enumerable,y=void 0!==_.name?_.name:m;if(i(p)&&l(p,y,_),_.global)v?f[m]=p:e(m,p);else{try{_.unsafe?f[m]&&(v=!0):delete f[m]}catch{}v?f[m]=p:t.f(f,m,{value:p,enumerable:!1,configurable:!_.nonConfigurable,writable:!_.nonWritable})}return f}},39433:(N,T,n)=>{"use strict";var i=n(44576),t=Object.defineProperty;N.exports=function(l,e){try{t(i,l,{value:e,configurable:!0,writable:!0})}catch{i[l]=e}return e}},43724:(N,T,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(N,T,n)=>{"use strict";var i=n(44576),t=n(20034),l=i.document,e=t(l)&&t(l.createElement);N.exports=function(f){return e?l.createElement(f):{}}},88727:N=>{"use strict";N.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82839:(N,T,n)=>{"use strict";var t=n(44576).navigator,l=t&&t.userAgent;N.exports=l?String(l):""},39519:(N,T,n)=>{"use strict";var p,_,i=n(44576),t=n(82839),l=i.process,e=i.Deno,f=l&&l.versions||e&&e.version,m=f&&f.v8;m&&(_=(p=m.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!_&&t&&(!(p=t.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=t.match(/Chrome\/(\d+)/))&&(_=+p[1]),N.exports=_},46518:(N,T,n)=>{"use strict";var i=n(44576),t=n(77347).f,l=n(66699),e=n(36840),f=n(39433),m=n(77740),p=n(92796);N.exports=function(_,v){var D,R,h,w,b,y=_.target,C=_.global,O=_.stat;if(D=C?i:O?i[y]||f(y,{}):i[y]&&i[y].prototype)for(R in v){if(w=v[R],h=_.dontCallGetSet?(b=t(D,R))&&b.value:D[R],!p(C?R:y+(O?".":"#")+R,_.forced)&&void 0!==h){if(typeof w==typeof h)continue;m(w,h)}(_.sham||h&&h.sham)&&l(w,"sham",!0),e(D,R,w,_)}}},79039:N=>{"use strict";N.exports=function(T){try{return!!T()}catch{return!0}}},92744:(N,T,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},18745:(N,T,n)=>{"use strict";var i=n(40616),t=Function.prototype,l=t.apply,e=t.call;N.exports="object"==typeof Reflect&&Reflect.apply||(i?e.bind(l):function(){return e.apply(l,arguments)})},40616:(N,T,n)=>{"use strict";var i=n(79039);N.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},30566:(N,T,n)=>{"use strict";var i=n(79504),t=n(79306),l=n(20034),e=n(39297),f=n(67680),m=n(40616),p=Function,_=i([].concat),v=i([].join),y={};N.exports=m?p.bind:function(I){var D=t(this),R=D.prototype,h=f(arguments,1),w=function(){var P=_(h,f(arguments));return this instanceof w?function(O,I,D){if(!e(y,I)){for(var R=[],h=0;h<I;h++)R[h]="a["+h+"]";y[I]=p("C,a","return new C("+v(R,",")+")")}return y[I](O,D)}(D,P.length,P):D.apply(I,P)};return l(R)&&(w.prototype=R),w}},69565:(N,T,n)=>{"use strict";var i=n(40616),t=Function.prototype.call;N.exports=i?t.bind(t):function(){return t.apply(t,arguments)}},10350:(N,T,n)=>{"use strict";var i=n(43724),t=n(39297),l=Function.prototype,e=i&&Object.getOwnPropertyDescriptor,f=t(l,"name"),m=f&&"something"===function(){}.name,p=f&&(!i||i&&e(l,"name").configurable);N.exports={EXISTS:f,PROPER:m,CONFIGURABLE:p}},46706:(N,T,n)=>{"use strict";var i=n(79504),t=n(79306);N.exports=function(l,e,f){try{return i(t(Object.getOwnPropertyDescriptor(l,e)[f]))}catch{}}},79504:(N,T,n)=>{"use strict";var i=n(40616),t=Function.prototype,l=t.call,e=i&&t.bind.bind(l,l);N.exports=i?e:function(f){return function(){return l.apply(f,arguments)}}},97751:(N,T,n)=>{"use strict";var i=n(44576),t=n(94901);N.exports=function(e,f){return arguments.length<2?function(e){return t(e)?e:void 0}(i[e]):i[e]&&i[e][f]}},55966:(N,T,n)=>{"use strict";var i=n(79306),t=n(64117);N.exports=function(l,e){var f=l[e];return t(f)?void 0:i(f)}},44576:function(N){"use strict";var T=function(n){return n&&n.Math===Math&&n};N.exports=T("object"==typeof globalThis&&globalThis)||T("object"==typeof window&&window)||T("object"==typeof self&&self)||T("object"==typeof global&&global)||T("object"==typeof this&&this)||function(){return this}()||Function("return this")()},39297:(N,T,n)=>{"use strict";var i=n(79504),t=n(48981),l=i({}.hasOwnProperty);N.exports=Object.hasOwn||function(f,m){return l(t(f),m)}},30421:N=>{"use strict";N.exports={}},20397:(N,T,n)=>{"use strict";var i=n(97751);N.exports=i("document","documentElement")},35917:(N,T,n)=>{"use strict";var i=n(43724),t=n(79039),l=n(4055);N.exports=!i&&!t(function(){return 7!==Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a})},47055:(N,T,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(22195),e=Object,f=i("".split);N.exports=t(function(){return!e("z").propertyIsEnumerable(0)})?function(m){return"String"===l(m)?f(m,""):e(m)}:e},33706:(N,T,n)=>{"use strict";var i=n(79504),t=n(94901),l=n(77629),e=i(Function.toString);t(l.inspectSource)||(l.inspectSource=function(f){return e(f)}),N.exports=l.inspectSource},91181:(N,T,n)=>{"use strict";var O,I,D,i=n(58622),t=n(44576),l=n(20034),e=n(66699),f=n(39297),m=n(77629),p=n(66119),_=n(30421),v="Object already initialized",y=t.TypeError;if(i||m.state){var w=m.state||(m.state=new(0,t.WeakMap));w.get=w.get,w.has=w.has,w.set=w.set,O=function(P,M){if(w.has(P))throw new y(v);return M.facade=P,w.set(P,M),M},I=function(P){return w.get(P)||{}},D=function(P){return w.has(P)}}else{var b=p("state");_[b]=!0,O=function(P,M){if(f(P,b))throw new y(v);return M.facade=P,e(P,b,M),M},I=function(P){return f(P,b)?P[b]:{}},D=function(P){return f(P,b)}}N.exports={set:O,get:I,has:D,enforce:function(P){return D(P)?I(P):O(P,{})},getterFor:function(P){return function(M){var L;if(!l(M)||(L=I(M)).type!==P)throw new y("Incompatible receiver, "+P+" required");return L}}}},94901:N=>{"use strict";var T="object"==typeof document&&document.all;N.exports=typeof T>"u"&&void 0!==T?function(n){return"function"==typeof n||n===T}:function(n){return"function"==typeof n}},33517:(N,T,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(94901),e=n(36955),f=n(97751),m=n(33706),p=function(){},_=f("Reflect","construct"),v=/^\s*(?:class|function)\b/,y=i(v.exec),C=!v.test(p),O=function(R){if(!l(R))return!1;try{return _(p,[],R),!0}catch{return!1}},I=function(R){if(!l(R))return!1;switch(e(R)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return C||!!y(v,m(R))}catch{return!0}};I.sham=!0,N.exports=!_||t(function(){var D;return O(O.call)||!O(Object)||!O(function(){D=!0})||D})?I:O},16575:(N,T,n)=>{"use strict";var i=n(39297);N.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}},92796:(N,T,n)=>{"use strict";var i=n(79039),t=n(94901),l=/#|\.prototype\./,e=function(v,y){var C=m[f(v)];return C===_||C!==p&&(t(y)?i(y):!!y)},f=e.normalize=function(v){return String(v).replace(l,".").toLowerCase()},m=e.data={},p=e.NATIVE="N",_=e.POLYFILL="P";N.exports=e},64117:N=>{"use strict";N.exports=function(T){return null==T}},20034:(N,T,n)=>{"use strict";var i=n(94901);N.exports=function(t){return"object"==typeof t?null!==t:i(t)}},13925:(N,T,n)=>{"use strict";var i=n(20034);N.exports=function(t){return i(t)||null===t}},96395:N=>{"use strict";N.exports=!1},10757:(N,T,n)=>{"use strict";var i=n(97751),t=n(94901),l=n(1625),e=n(7040),f=Object;N.exports=e?function(m){return"symbol"==typeof m}:function(m){var p=i("Symbol");return t(p)&&l(p.prototype,f(m))}},26198:(N,T,n)=>{"use strict";var i=n(18014);N.exports=function(t){return i(t.length)}},50283:(N,T,n)=>{"use strict";var i=n(79504),t=n(79039),l=n(94901),e=n(39297),f=n(43724),m=n(10350).CONFIGURABLE,p=n(33706),_=n(91181),v=_.enforce,y=_.get,C=String,O=Object.defineProperty,I=i("".slice),D=i("".replace),R=i([].join),h=f&&!t(function(){return 8!==O(function(){},"length",{value:8}).length}),w=String(String).split("String"),b=N.exports=function(P,M,L){"Symbol("===I(C(M),0,7)&&(M="["+D(C(M),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),L&&L.getter&&(M="get "+M),L&&L.setter&&(M="set "+M),(!e(P,"name")||m&&P.name!==M)&&(f?O(P,"name",{value:M,configurable:!0}):P.name=M),h&&L&&e(L,"arity")&&P.length!==L.arity&&O(P,"length",{value:L.arity});try{L&&e(L,"constructor")&&L.constructor?f&&O(P,"prototype",{writable:!1}):P.prototype&&(P.prototype=void 0)}catch{}var B=v(P);return e(B,"source")||(B.source=R(w,"string"==typeof M?M:"")),P};Function.prototype.toString=b(function(){return l(this)&&y(this).source||p(this)},"toString")},80741:N=>{"use strict";var T=Math.ceil,n=Math.floor;N.exports=Math.trunc||function(t){var l=+t;return(l>0?n:T)(l)}},2360:(N,T,n)=>{"use strict";var w,i=n(28551),t=n(96801),l=n(88727),e=n(30421),f=n(20397),m=n(4055),p=n(66119),y="prototype",C="script",O=p("IE_PROTO"),I=function(){},D=function(P){return"<"+C+">"+P+"</"+C+">"},R=function(P){P.write(D("")),P.close();var M=P.parentWindow.Object;return P=null,M},b=function(){try{w=new ActiveXObject("htmlfile")}catch{}b=typeof document<"u"?document.domain&&w?R(w):function(){var L,P=m("iframe"),M="java"+C+":";return P.style.display="none",f.appendChild(P),P.src=String(M),(L=P.contentWindow.document).open(),L.write(D("document.F=Object")),L.close(),L.F}():R(w);for(var P=l.length;P--;)delete b[y][l[P]];return b()};e[O]=!0,N.exports=Object.create||function(M,L){var B;return null!==M?(I[y]=i(M),B=new I,I[y]=null,B[O]=M):B=b(),void 0===L?B:t.f(B,L)}},96801:(N,T,n)=>{"use strict";var i=n(43724),t=n(48686),l=n(24913),e=n(28551),f=n(25397),m=n(71072);T.f=i&&!t?Object.defineProperties:function(_,v){e(_);for(var D,y=f(v),C=m(v),O=C.length,I=0;O>I;)l.f(_,D=C[I++],y[D]);return _}},24913:(N,T,n)=>{"use strict";var i=n(43724),t=n(35917),l=n(48686),e=n(28551),f=n(56969),m=TypeError,p=Object.defineProperty,_=Object.getOwnPropertyDescriptor,v="enumerable",y="configurable",C="writable";T.f=i?l?function(I,D,R){if(e(I),D=f(D),e(R),"function"==typeof I&&"prototype"===D&&"value"in R&&C in R&&!R[C]){var h=_(I,D);h&&h[C]&&(I[D]=R.value,R={configurable:y in R?R[y]:h[y],enumerable:v in R?R[v]:h[v],writable:!1})}return p(I,D,R)}:p:function(I,D,R){if(e(I),D=f(D),e(R),t)try{return p(I,D,R)}catch{}if("get"in R||"set"in R)throw new m("Accessors not supported");return"value"in R&&(I[D]=R.value),I}},77347:(N,T,n)=>{"use strict";var i=n(43724),t=n(69565),l=n(48773),e=n(6980),f=n(25397),m=n(56969),p=n(39297),_=n(35917),v=Object.getOwnPropertyDescriptor;T.f=i?v:function(C,O){if(C=f(C),O=m(O),_)try{return v(C,O)}catch{}if(p(C,O))return e(!t(l.f,C,O),C[O])}},38480:(N,T,n)=>{"use strict";var i=n(61828),l=n(88727).concat("length","prototype");T.f=Object.getOwnPropertyNames||function(f){return i(f,l)}},33717:(N,T)=>{"use strict";T.f=Object.getOwnPropertySymbols},42787:(N,T,n)=>{"use strict";var i=n(39297),t=n(94901),l=n(48981),e=n(66119),f=n(12211),m=e("IE_PROTO"),p=Object,_=p.prototype;N.exports=f?p.getPrototypeOf:function(v){var y=l(v);if(i(y,m))return y[m];var C=y.constructor;return t(C)&&y instanceof C?C.prototype:y instanceof p?_:null}},34124:(N,T,n)=>{"use strict";var i=n(79039),t=n(20034),l=n(22195),e=n(15652),f=Object.isExtensible,m=i(function(){f(1)});N.exports=m||e?function(_){return!(!t(_)||e&&"ArrayBuffer"===l(_))&&(!f||f(_))}:f},1625:(N,T,n)=>{"use strict";var i=n(79504);N.exports=i({}.isPrototypeOf)},61828:(N,T,n)=>{"use strict";var i=n(79504),t=n(39297),l=n(25397),e=n(19617).indexOf,f=n(30421),m=i([].push);N.exports=function(p,_){var O,v=l(p),y=0,C=[];for(O in v)!t(f,O)&&t(v,O)&&m(C,O);for(;_.length>y;)t(v,O=_[y++])&&(~e(C,O)||m(C,O));return C}},71072:(N,T,n)=>{"use strict";var i=n(61828),t=n(88727);N.exports=Object.keys||function(e){return i(e,t)}},48773:(N,T)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,t=i&&!n.call({1:2},1);T.f=t?function(e){var f=i(this,e);return!!f&&f.enumerable}:n},52967:(N,T,n)=>{"use strict";var i=n(46706),t=n(20034),l=n(67750),e=n(73506);N.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,f=!1,m={};try{(p=i(Object.prototype,"__proto__","set"))(m,[]),f=m instanceof Array}catch{}return function(v,y){return l(v),e(y),t(v)&&(f?p(v,y):v.__proto__=y),v}}():void 0)},53179:(N,T,n)=>{"use strict";var i=n(92140),t=n(36955);N.exports=i?{}.toString:function(){return"[object "+t(this)+"]"}},84270:(N,T,n)=>{"use strict";var i=n(69565),t=n(94901),l=n(20034),e=TypeError;N.exports=function(f,m){var p,_;if("string"===m&&t(p=f.toString)&&!l(_=i(p,f))||t(p=f.valueOf)&&!l(_=i(p,f))||"string"!==m&&t(p=f.toString)&&!l(_=i(p,f)))return _;throw new e("Can't convert object to primitive value")}},35031:(N,T,n)=>{"use strict";var i=n(97751),t=n(79504),l=n(38480),e=n(33717),f=n(28551),m=t([].concat);N.exports=i("Reflect","ownKeys")||function(_){var v=l.f(f(_)),y=e.f;return y?m(v,y(_)):v}},19167:(N,T,n)=>{"use strict";var i=n(44576);N.exports=i},67750:(N,T,n)=>{"use strict";var i=n(64117),t=TypeError;N.exports=function(l){if(i(l))throw new t("Can't call method on "+l);return l}},10687:(N,T,n)=>{"use strict";var i=n(24913).f,t=n(39297),e=n(78227)("toStringTag");N.exports=function(f,m,p){f&&!p&&(f=f.prototype),f&&!t(f,e)&&i(f,e,{configurable:!0,value:m})}},66119:(N,T,n)=>{"use strict";var i=n(25745),t=n(33392),l=i("keys");N.exports=function(e){return l[e]||(l[e]=t(e))}},77629:(N,T,n)=>{"use strict";var i=n(96395),t=n(44576),l=n(39433),e="__core-js_shared__",f=N.exports=t[e]||l(e,{});(f.versions||(f.versions=[])).push({version:"3.40.0",mode:i?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})},25745:(N,T,n)=>{"use strict";var i=n(77629);N.exports=function(t,l){return i[t]||(i[t]=l||{})}},4495:(N,T,n)=>{"use strict";var i=n(39519),t=n(79039),e=n(44576).String;N.exports=!!Object.getOwnPropertySymbols&&!t(function(){var f=Symbol("symbol detection");return!e(f)||!(Object(f)instanceof Symbol)||!Symbol.sham&&i&&i<41})},35610:(N,T,n)=>{"use strict";var i=n(91291),t=Math.max,l=Math.min;N.exports=function(e,f){var m=i(e);return m<0?t(m+f,0):l(m,f)}},25397:(N,T,n)=>{"use strict";var i=n(47055),t=n(67750);N.exports=function(l){return i(t(l))}},91291:(N,T,n)=>{"use strict";var i=n(80741);N.exports=function(t){var l=+t;return l!=l||0===l?0:i(l)}},18014:(N,T,n)=>{"use strict";var i=n(91291),t=Math.min;N.exports=function(l){var e=i(l);return e>0?t(e,9007199254740991):0}},48981:(N,T,n)=>{"use strict";var i=n(67750),t=Object;N.exports=function(l){return t(i(l))}},72777:(N,T,n)=>{"use strict";var i=n(69565),t=n(20034),l=n(10757),e=n(55966),f=n(84270),m=n(78227),p=TypeError,_=m("toPrimitive");N.exports=function(v,y){if(!t(v)||l(v))return v;var O,C=e(v,_);if(C){if(void 0===y&&(y="default"),O=i(C,v,y),!t(O)||l(O))return O;throw new p("Can't convert object to primitive value")}return void 0===y&&(y="number"),f(v,y)}},56969:(N,T,n)=>{"use strict";var i=n(72777),t=n(10757);N.exports=function(l){var e=i(l,"string");return t(e)?e:e+""}},92140:(N,T,n)=>{"use strict";var l={};l[n(78227)("toStringTag")]="z",N.exports="[object z]"===String(l)},16823:N=>{"use strict";var T=String;N.exports=function(n){try{return T(n)}catch{return"Object"}}},33392:(N,T,n)=>{"use strict";var i=n(79504),t=0,l=Math.random(),e=i(1..toString);N.exports=function(f){return"Symbol("+(void 0===f?"":f)+")_"+e(++t+l,36)}},7040:(N,T,n)=>{"use strict";var i=n(4495);N.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},48686:(N,T,n)=>{"use strict";var i=n(43724),t=n(79039);N.exports=i&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},58622:(N,T,n)=>{"use strict";var i=n(44576),t=n(94901),l=i.WeakMap;N.exports=t(l)&&/native code/.test(String(l))},78227:(N,T,n)=>{"use strict";var i=n(44576),t=n(25745),l=n(39297),e=n(33392),f=n(4495),m=n(7040),p=i.Symbol,_=t("wks"),v=m?p.for||p:p&&p.withoutSetter||e;N.exports=function(y){return l(_,y)||(_[y]=f&&l(p,y)?p[y]:v("Symbol."+y)),_[y]}},26099:(N,T,n)=>{"use strict";var i=n(92140),t=n(36840),l=n(53179);i||t(Object.prototype,"toString",l,{unsafe:!0})},39796:(N,T,n)=>{"use strict";var i=n(46518),t=n(18745),l=n(79306),e=n(28551);i({target:"Reflect",stat:!0,forced:!n(79039)(function(){Reflect.apply(function(){})})},{apply:function(_,v,y){return t(l(_),v,e(y))}})},60825:(N,T,n)=>{"use strict";var i=n(46518),t=n(97751),l=n(18745),e=n(30566),f=n(35548),m=n(28551),p=n(20034),_=n(2360),v=n(79039),y=t("Reflect","construct"),C=Object.prototype,O=[].push,I=v(function(){function h(){}return!(y(function(){},[],h)instanceof h)}),D=!v(function(){y(function(){})}),R=I||D;i({target:"Reflect",stat:!0,forced:R,sham:R},{construct:function(w,b){f(w),m(b);var P=arguments.length<3?w:f(arguments[2]);if(D&&!I)return y(w,b,P);if(w===P){switch(b.length){case 0:return new w;case 1:return new w(b[0]);case 2:return new w(b[0],b[1]);case 3:return new w(b[0],b[1],b[2]);case 4:return new w(b[0],b[1],b[2],b[3])}var M=[null];return l(O,M,b),new(l(e,w,M))}var L=P.prototype,B=_(p(L)?L:C),U=l(w,B,b);return p(U)?U:B}})},87411:(N,T,n)=>{"use strict";var i=n(46518),t=n(43724),l=n(28551),e=n(56969),f=n(24913);i({target:"Reflect",stat:!0,forced:n(79039)(function(){Reflect.defineProperty(f.f({},1,{value:1}),1,{value:2})}),sham:!t},{defineProperty:function(v,y,C){l(v);var O=e(y);l(C);try{return f.f(v,O,C),!0}catch{return!1}}})},21211:(N,T,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(77347).f;i({target:"Reflect",stat:!0},{deleteProperty:function(f,m){var p=l(t(f),m);return!(p&&!p.configurable)&&delete f[m]}})},9065:(N,T,n)=>{"use strict";var i=n(46518),t=n(43724),l=n(28551),e=n(77347);i({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(m,p){return e.f(l(m),p)}})},86565:(N,T,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(42787);i({target:"Reflect",stat:!0,sham:!n(12211)},{getPrototypeOf:function(m){return l(t(m))}})},40888:(N,T,n)=>{"use strict";var i=n(46518),t=n(69565),l=n(20034),e=n(28551),f=n(16575),m=n(77347),p=n(42787);i({target:"Reflect",stat:!0},{get:function _(v,y){var O,I,C=arguments.length<3?v:arguments[2];return e(v)===C?v[y]:(O=m.f(v,y))?f(O)?O.value:void 0===O.get?void 0:t(O.get,C):l(I=p(v))?_(I,y,C):void 0}})},32812:(N,T,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{has:function(l,e){return e in l}})},84634:(N,T,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(34124);i({target:"Reflect",stat:!0},{isExtensible:function(f){return t(f),l(f)}})},71137:(N,T,n)=>{"use strict";n(46518)({target:"Reflect",stat:!0},{ownKeys:n(35031)})},30985:(N,T,n)=>{"use strict";var i=n(46518),t=n(97751),l=n(28551);i({target:"Reflect",stat:!0,sham:!n(92744)},{preventExtensions:function(m){l(m);try{var p=t("Object","preventExtensions");return p&&p(m),!0}catch{return!1}}})},34873:(N,T,n)=>{"use strict";var i=n(46518),t=n(28551),l=n(73506),e=n(52967);e&&i({target:"Reflect",stat:!0},{setPrototypeOf:function(m,p){t(m),l(p);try{return e(m,p),!0}catch{return!1}}})},34268:(N,T,n)=>{"use strict";var i=n(46518),t=n(69565),l=n(28551),e=n(20034),f=n(16575),m=n(79039),p=n(24913),_=n(77347),v=n(42787),y=n(6980);i({target:"Reflect",stat:!0,forced:m(function(){var I=function(){},D=p.f(new I,"a",{configurable:!0});return!1!==Reflect.set(I.prototype,"a",1,D)})},{set:function C(I,D,R){var b,P,M,h=arguments.length<4?I:arguments[3],w=_.f(l(I),D);if(!w){if(e(P=v(I)))return C(P,D,R,h);w=y(0)}if(f(w)){if(!1===w.writable||!e(h))return!1;if(b=_.f(h,D)){if(b.get||b.set||!1===b.writable)return!1;b.value=R,p.f(h,D,b)}else p.f(h,D,y(0,R))}else{if(void 0===(M=w.set))return!1;t(M,h,R)}return!0}})},15472:(N,T,n)=>{"use strict";var i=n(46518),t=n(44576),l=n(10687);i({global:!0},{Reflect:{}}),l(t.Reflect,"Reflect",!0)},74523:(N,T,n)=>{"use strict";function i(l,e,f,m,p,_,v){try{var y=l[_](v),C=y.value}catch(O){return void f(O)}y.done?e(C):Promise.resolve(C).then(m,p)}function t(l){return function(){var e=this,f=arguments;return new Promise(function(m,p){var _=l.apply(e,f);function v(C){i(_,m,p,v,y,"next",C)}function y(C){i(_,m,p,v,y,"throw",C)}v(void 0)})}}n.d(T,{A:()=>t})},49969:(N,T,n)=>{"use strict";n.d(T,{FX:()=>G,If:()=>i,K2:()=>m,MA:()=>O,Os:()=>f,P:()=>D,hZ:()=>l,i0:()=>e,iF:()=>p,kY:()=>y,kp:()=>t,sf:()=>$,ui:()=>j,wk:()=>_});var i=function(z){return z[z.State=0]="State",z[z.Transition=1]="Transition",z[z.Sequence=2]="Sequence",z[z.Group=3]="Group",z[z.Animate=4]="Animate",z[z.Keyframes=5]="Keyframes",z[z.Style=6]="Style",z[z.Trigger=7]="Trigger",z[z.Reference=8]="Reference",z[z.AnimateChild=9]="AnimateChild",z[z.AnimateRef=10]="AnimateRef",z[z.Query=11]="Query",z[z.Stagger=12]="Stagger",z}(i||{});const t="*";function l(z,V){return{type:i.Trigger,name:z,definitions:V,options:{}}}function e(z,V=null){return{type:i.Animate,styles:V,timings:z}}function f(z,V=null){return{type:i.Group,steps:z,options:V}}function m(z,V=null){return{type:i.Sequence,steps:z,options:V}}function p(z){return{type:i.Style,styles:z,offset:null}}function _(z,V,X){return{type:i.State,name:z,styles:V,options:X}}function y(z,V,X=null){return{type:i.Transition,expr:z,animation:V,options:X}}function O(z=null){return{type:i.AnimateChild,options:z}}function D(z,V,X=null){return{type:i.Query,selector:z,animation:V,options:X}}class ${constructor(V=0,X=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=V+X}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}onStart(V){this._originalOnStartFns.push(V),this._onStartFns.push(V)}onDone(V){this._originalOnDoneFns.push(V),this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(V=>V()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(V){this._position=this.totalTime?V*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(J=>J()),X.length=0}}class j{constructor(V){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=V;let X=0,J=0,q=0;const Z=this.players.length;0==Z?queueMicrotask(()=>this._onFinish()):this.players.forEach(H=>{H.onDone(()=>{++X==Z&&this._onFinish()}),H.onDestroy(()=>{++J==Z&&this._onDestroy()}),H.onStart(()=>{++q==Z&&this._onStart()})}),this.totalTime=this.players.reduce((H,Y)=>Math.max(H,Y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(V=>V()),this._onDoneFns=[])}init(){this.players.forEach(V=>V.init())}onStart(V){this._onStartFns.push(V)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(V=>V()),this._onStartFns=[])}onDone(V){this._onDoneFns.push(V)}onDestroy(V){this._onDestroyFns.push(V)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(V=>V.play())}pause(){this.players.forEach(V=>V.pause())}restart(){this.players.forEach(V=>V.restart())}finish(){this._onFinish(),this.players.forEach(V=>V.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(V=>V.destroy()),this._onDestroyFns.forEach(V=>V()),this._onDestroyFns=[])}reset(){this.players.forEach(V=>V.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(V){const X=V*this.totalTime;this.players.forEach(J=>{const q=J.totalTime?Math.min(1,X/J.totalTime):1;J.setPosition(q)})}getPosition(){const V=this.players.reduce((X,J)=>null===X||J.totalTime>X.totalTime?J:X,null);return null!=V?V.getPosition():0}beforeDestroy(){this.players.forEach(V=>{V.beforeDestroy&&V.beforeDestroy()})}triggerCallback(V){const X="start"==V?this._onStartFns:this._onDoneFns;X.forEach(J=>J()),X.length=0}}const G="!"},28203:(N,T,n)=>{"use strict";n.d(T,{dS:()=>p});var i=n(54438),t=n(60177);const l=new i.nKC("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,i.WQX)(t.qQ)}}),f=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let p=(()=>{class y{constructor(O){this.value="ltr",this.change=new i.bkB,O&&(this.value=function m(y){const C=y?.toLowerCase()||"";return"auto"===C&&typeof navigator<"u"&&navigator?.language?f.test(navigator.language)?"rtl":"ltr":"rtl"===C?"rtl":"ltr"}((O.body?O.body.dir:null)||(O.documentElement?O.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(I){return new(I||y)(i.KVO(l,8))}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},45024:(N,T,n)=>{"use strict";n.d(T,{CB:()=>I,qS:()=>m,y4:()=>p});var i=n(30017),e=(n(74402),n(7673),n(21413));n(54438);class m{}function p(h){return h&&"function"==typeof h.connect&&!(h instanceof i.G)}class I{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(w=!1,b,P=!0,M){this._multiple=w,this._emitChanges=P,this.compareWith=M,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new e.B,b&&b.length&&(w?b.forEach(L=>this._markSelected(L)):this._markSelected(b[0]),this._selectedToEmit.length=0)}select(...w){this._verifyValueAssignment(w),w.forEach(P=>this._markSelected(P));const b=this._hasQueuedChanges();return this._emitChangeEvent(),b}deselect(...w){this._verifyValueAssignment(w),w.forEach(P=>this._unmarkSelected(P));const b=this._hasQueuedChanges();return this._emitChangeEvent(),b}setSelection(...w){this._verifyValueAssignment(w);const b=this.selected,P=new Set(w);w.forEach(L=>this._markSelected(L)),b.filter(L=>!P.has(this._getConcreteValue(L,P))).forEach(L=>this._unmarkSelected(L));const M=this._hasQueuedChanges();return this._emitChangeEvent(),M}toggle(w){return this.isSelected(w)?this.deselect(w):this.select(w)}clear(w=!0){this._unmarkAll();const b=this._hasQueuedChanges();return w&&this._emitChangeEvent(),b}isSelected(w){return this._selection.has(this._getConcreteValue(w))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(w){this._multiple&&this.selected&&this._selected.sort(w)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(w){w=this._getConcreteValue(w),this.isSelected(w)||(this._multiple||this._unmarkAll(),this.isSelected(w)||this._selection.add(w),this._emitChanges&&this._selectedToEmit.push(w))}_unmarkSelected(w){w=this._getConcreteValue(w),this.isSelected(w)&&(this._selection.delete(w),this._emitChanges&&this._deselectedToEmit.push(w))}_unmarkAll(){this.isEmpty()||this._selection.forEach(w=>this._unmarkSelected(w))}_verifyValueAssignment(w){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(w,b){if(this.compareWith){b=b??this._selection;for(let P of b)if(this.compareWith(w,P))return P;return w}return w}}},52717:(N,T,n)=>{"use strict";n.d(T,{T1:()=>qr,Fb:()=>Fr,O7:()=>cl,RK:()=>Il,HD:()=>Hs});var i=n(54438),t=n(60177);function e(Me,_e=0){return function f(Me){return!isNaN(parseFloat(Me))&&!isNaN(Number(Me))}(Me)?Number(Me):_e}function _(Me){return Me instanceof i.aKT?Me.nativeElement:Me}var y=n(21413),C=n(7673),O=n(71985),I=n(33726),D=n(96780),R=n(18359);const h={schedule(Me){let _e=requestAnimationFrame,le=cancelAnimationFrame;const{delegate:Ie}=h;Ie&&(_e=Ie.requestAnimationFrame,le=Ie.cancelAnimationFrame);const et=_e(wt=>{le=void 0,Me(wt)});return new R.yU(()=>le?.(et))},requestAnimationFrame(...Me){const{delegate:_e}=h;return(_e?.requestAnimationFrame||requestAnimationFrame)(...Me)},cancelAnimationFrame(...Me){const{delegate:_e}=h;return(_e?.cancelAnimationFrame||cancelAnimationFrame)(...Me)},delegate:void 0};var b=n(39687);const M=new class P extends b.q{flush(_e){this._active=!0;const le=this._scheduled;this._scheduled=void 0;const{actions:Ie}=this;let et;_e=_e||Ie.shift();do{if(et=_e.execute(_e.state,_e.delay))break}while((_e=Ie[0])&&_e.id===le&&Ie.shift());if(this._active=!1,et){for(;(_e=Ie[0])&&_e.id===le&&Ie.shift();)_e.unsubscribe();throw et}}}(class w extends D.R{constructor(_e,le){super(_e,le),this.scheduler=_e,this.work=le}requestAsyncId(_e,le,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(_e,le,Ie):(_e.actions.push(this),_e._scheduled||(_e._scheduled=h.requestAnimationFrame(()=>_e.flush(void 0))))}recycleAsyncId(_e,le,Ie=0){var et;if(null!=Ie?Ie>0:this.delay>0)return super.recycleAsyncId(_e,le,Ie);const{actions:wt}=_e;null!=le&&(null===(et=wt[wt.length-1])||void 0===et?void 0:et.id)!==le&&(h.cancelAnimationFrame(le),_e._scheduled=void 0)}});n(25007);var U=n(43236),$=n(39974),j=n(58750),G=n(54360),V=n(41584);function X(Me,_e=U.E){return function z(Me){return(0,$.N)((_e,le)=>{let Ie=!1,et=null,wt=null,un=!1;const On=()=>{if(wt?.unsubscribe(),wt=null,Ie){Ie=!1;const ds=et;et=null,le.next(ds)}un&&le.complete()},Xn=()=>{wt=null,un&&le.complete()};_e.subscribe((0,G._)(le,ds=>{Ie=!0,et=ds,wt||(0,j.Tg)(Me(ds)).subscribe(wt=(0,G._)(le,On,Xn))},()=>{un=!0,(!Ie||!wt||wt.closed)&&le.complete()}))})}(()=>(0,V.O)(Me,_e))}var J=n(5964);let q;try{q=typeof Intl<"u"&&Intl.v8BreakIterator}catch{q=!1}let oe,ye,Z=(()=>{class Me{constructor(le){this._platformId=le,this.isBrowser=this._platformId?(0,t.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!q)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();function ne(Me){return function pe(){if(null==oe&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oe=!0}))}finally{oe=oe||!1}return oe}()?Me:!!Me.capture}function tt(Me){if(function De(){if(null==ye){const Me=typeof document<"u"?document.head:null;ye=!(!Me||!Me.createShadowRoot&&!Me.attachShadow)}return ye}()){const _e=Me.getRootNode?Me.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&_e instanceof ShadowRoot)return _e}return null}function We(Me){return Me.composedPath?Me.composedPath()[0]:Me.target}let nt=(()=>{class Me{constructor(le,Ie,et){this._ngZone=le,this._platform=Ie,this._scrolled=new y.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=et}register(le){this.scrollContainers.has(le)||this.scrollContainers.set(le,le.elementScrolled().subscribe(()=>this._scrolled.next(le)))}deregister(le){const Ie=this.scrollContainers.get(le);Ie&&(Ie.unsubscribe(),this.scrollContainers.delete(le))}scrolled(le=20){return this._platform.isBrowser?new O.c(Ie=>{this._globalSubscription||this._addGlobalListener();const et=le>0?this._scrolled.pipe(X(le)).subscribe(Ie):this._scrolled.subscribe(Ie);return this._scrolledCount++,()=>{et.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,C.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((le,Ie)=>this.deregister(Ie)),this._scrolled.complete()}ancestorScrolled(le,Ie){const et=this.getAncestorScrollContainers(le);return this.scrolled(Ie).pipe((0,J.p)(wt=>!wt||et.indexOf(wt)>-1))}getAncestorScrollContainers(le){const Ie=[];return this.scrollContainers.forEach((et,wt)=>{this._scrollableContainsElement(wt,le)&&Ie.push(wt)}),Ie}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(le,Ie){let et=_(Ie),wt=le.getElementRef().nativeElement;do{if(et==wt)return!0}while(et=et.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const le=this._getWindow();return(0,I.R)(le.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.KVO(i.SKi),i.KVO(Z),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})(),Ne=(()=>{class Me{constructor(le,Ie,et){this._platform=le,this._change=new y.B,this._changeListener=wt=>{this._change.next(wt)},this._document=et,Ie.runOutsideAngular(()=>{if(le.isBrowser){const wt=this._getWindow();wt.addEventListener("resize",this._changeListener),wt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const le=this._getWindow();le.removeEventListener("resize",this._changeListener),le.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const le={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),le}getViewportRect(){const le=this.getViewportScrollPosition(),{width:Ie,height:et}=this.getViewportSize();return{top:le.top,left:le.left,bottom:le.top+et,right:le.left+Ie,height:et,width:Ie}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const le=this._document,Ie=this._getWindow(),et=le.documentElement,wt=et.getBoundingClientRect();return{top:-wt.top||le.body.scrollTop||Ie.scrollY||et.scrollTop||0,left:-wt.left||le.body.scrollLeft||Ie.scrollX||et.scrollLeft||0}}change(le=20){return le>0?this._change.pipe(X(le)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const le=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:le.innerWidth,height:le.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.KVO(Z),i.KVO(i.SKi),i.KVO(t.qQ,8))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();var cr=n(88141),Jo=(n(70152),n(96354)),fr=n(96697),Fn=n(40605),es=n(57786),Bs=n(84412),zn=n(56977),yi=n(25558),xi=n(99172),nr=n(28203);function Bi(Me,_e,le){for(let Ie in _e)if(_e.hasOwnProperty(Ie)){const et=_e[Ie];et?Me.setProperty(Ie,et,le?.has(Ie)?"important":""):Me.removeProperty(Ie)}return Me}function xn(Me,_e){const le=_e?"":"none";Bi(Me.style,{"touch-action":_e?"":"none","-webkit-user-drag":_e?"":"none","-webkit-tap-highlight-color":_e?"":"transparent","user-select":le,"-ms-user-select":le,"-webkit-user-select":le,"-moz-user-select":le})}function sr(Me,_e,le){Bi(Me.style,{position:_e?"":"fixed",top:_e?"":"0",opacity:_e?"":"0",left:_e?"":"-999em"},le)}function Mr(Me,_e){return _e&&"none"!=_e?Me+" "+_e:Me}function fe(Me,_e){Me.style.width=`${_e.width}px`,Me.style.height=`${_e.height}px`,Me.style.transform=Xe(_e.left,_e.top)}function Xe(Me,_e){return`translate3d(${Math.round(Me)}px, ${Math.round(_e)}px, 0)`}function Re(Me){const _e=Me.getBoundingClientRect();return{top:_e.top,right:_e.right,bottom:_e.bottom,left:_e.left,width:_e.width,height:_e.height,x:_e.x,y:_e.y}}function Ye(Me,_e,le){const{top:Ie,bottom:et,left:wt,right:un}=Me;return le>=Ie&&le<=et&&_e>=wt&&_e<=un}function xt(Me,_e,le){Me.top+=_e,Me.bottom=Me.top+Me.height,Me.left+=le,Me.right=Me.left+Me.width}function vn(Me,_e,le,Ie){const{top:et,right:wt,bottom:un,left:On,width:Xn,height:ds}=Me,_i=Xn*_e,Wi=ds*_e;return Ie>et-Wi&&Ie<un+Wi&&le>On-_i&&le<wt+_i}class wn{constructor(_e){this._document=_e,this.positions=new Map}clear(){this.positions.clear()}cache(_e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),_e.forEach(le=>{this.positions.set(le,{scrollPosition:{top:le.scrollTop,left:le.scrollLeft},clientRect:Re(le)})})}handleScroll(_e){const le=We(_e),Ie=this.positions.get(le);if(!Ie)return null;const et=Ie.scrollPosition;let wt,un;if(le===this._document){const ds=this.getViewportScrollPosition();wt=ds.top,un=ds.left}else wt=le.scrollTop,un=le.scrollLeft;const On=et.top-wt,Xn=et.left-un;return this.positions.forEach((ds,_i)=>{ds.clientRect&&le!==_i&&le.contains(_i)&&xt(ds.clientRect,On,Xn)}),et.top=wt,et.left=un,{top:On,left:Xn}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function ts(Me){const _e=Me.cloneNode(!0),le=_e.querySelectorAll("[id]"),Ie=Me.nodeName.toLowerCase();_e.removeAttribute("id");for(let et=0;et<le.length;et++)le[et].removeAttribute("id");return"canvas"===Ie?ei(Me,_e):("input"===Ie||"select"===Ie||"textarea"===Ie)&&Gn(Me,_e),Us("canvas",Me,_e,ei),Us("input, textarea, select",Me,_e,Gn),_e}function Us(Me,_e,le,Ie){const et=_e.querySelectorAll(Me);if(et.length){const wt=le.querySelectorAll(Me);for(let un=0;un<et.length;un++)Ie(et[un],wt[un])}}let As=0;function Gn(Me,_e){"file"!==_e.type&&(_e.value=Me.value),"radio"===_e.type&&_e.name&&(_e.name=`mat-clone-${_e.name}-${As++}`)}function ei(Me,_e){const le=_e.getContext("2d");if(le)try{le.drawImage(Me,0,0)}catch{}}function Li(Me,_e){const le=Me.rootNodes;if(1===le.length&&le[0].nodeType===_e.ELEMENT_NODE)return le[0];const Ie=_e.createElement("div");return le.forEach(et=>Ie.appendChild(et)),Ie}function Ii(Me){const _e=Me.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(Me)*_e}function Zr(Me,_e){return Me.getPropertyValue(_e).split(",").map(Ie=>Ie.trim())}const gi=new Set(["position"]);class Kn{constructor(_e,le,Ie,et,wt,un,On,Xn,ds){this._document=_e,this._rootElement=le,this._direction=Ie,this._initialDomRect=et,this._previewTemplate=wt,this._previewClass=un,this._pickupPositionOnPage=On,this._initialTransform=Xn,this._zIndex=ds}attach(_e){this._preview=this._createPreview(),_e.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(_e){this._preview.style.transform=_e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(_e){this._preview.classList.add(_e)}getTransitionDuration(){return function dr(Me){const _e=getComputedStyle(Me),le=Zr(_e,"transition-property"),Ie=le.find(On=>"transform"===On||"all"===On);if(!Ie)return 0;const et=le.indexOf(Ie),wt=Zr(_e,"transition-duration"),un=Zr(_e,"transition-delay");return Ii(wt[et])+Ii(un[et])}(this._preview)}addEventListener(_e,le){this._preview.addEventListener(_e,le)}removeEventListener(_e,le){this._preview.removeEventListener(_e,le)}_createPreview(){const _e=this._previewTemplate,le=this._previewClass,Ie=_e?_e.template:null;let et;if(Ie&&_e){const wt=_e.matchSize?this._initialDomRect:null,un=_e.viewContainer.createEmbeddedView(Ie,_e.context);un.detectChanges(),et=Li(un,this._document),this._previewEmbeddedView=un,_e.matchSize?fe(et,wt):et.style.transform=Xe(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else et=ts(this._rootElement),fe(et,this._initialDomRect),this._initialTransform&&(et.style.transform=this._initialTransform);return Bi(et.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},gi),xn(et,!1),et.classList.add("cdk-drag-preview"),et.setAttribute("popover","manual"),et.setAttribute("dir",this._direction),le&&(Array.isArray(le)?le.forEach(wt=>et.classList.add(wt)):et.classList.add(le)),et}}const Ts=ne({passive:!0}),Si=ne({passive:!1}),Cr=ne({passive:!1,capture:!0}),Nr=new Set(["position"]);class Ir{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(_e){_e!==this._disabled&&(this._disabled=_e,this._toggleNativeDragInteractions(),this._handles.forEach(le=>xn(le,_e)))}constructor(_e,le,Ie,et,wt,un){this._config=le,this._document=Ie,this._ngZone=et,this._viewportRuler=wt,this._dragDropRegistry=un,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new y.B,this._pointerMoveSubscription=R.yU.EMPTY,this._pointerUpSubscription=R.yU.EMPTY,this._scrollSubscription=R.yU.EMPTY,this._resizeSubscription=R.yU.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new y.B,this.started=new y.B,this.released=new y.B,this.ended=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.moved=this._moveEvents,this._pointerDown=On=>{if(this.beforeStarted.next(),this._handles.length){const Xn=this._getTargetHandle(On);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&this._initializeDragSequence(Xn,On)}else this.disabled||this._initializeDragSequence(this._rootElement,On)},this._pointerMove=On=>{const Xn=this._getPointerPositionOnPage(On);if(!this._hasStartedDragging){if(Math.abs(Xn.x-this._pickupPositionOnPage.x)+Math.abs(Xn.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const za=Date.now()>=this._dragStartTime+this._getDragStartDelay(On),Ia=this._dropContainer;if(!za)return void this._endDragSequence(On);(!Ia||!Ia.isDragging()&&!Ia.isReceiving())&&(On.cancelable&&On.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(On)))}return}On.cancelable&&On.preventDefault();const ds=this._getConstrainedPointerPosition(Xn);if(this._hasMoved=!0,this._lastKnownPointerPosition=Xn,this._updatePointerDirectionDelta(ds),this._dropContainer)this._updateActiveDropContainer(ds,Xn);else{const _i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,Wi=this._activeTransform;Wi.x=ds.x-_i.x+this._passiveTransform.x,Wi.y=ds.y-_i.y+this._passiveTransform.y,this._applyRootElementTransform(Wi.x,Wi.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ds,event:On,distance:this._getDragDistance(ds),delta:this._pointerDirectionDelta})})},this._pointerUp=On=>{this._endDragSequence(On)},this._nativeDragStart=On=>{if(this._handles.length){const Xn=this._getTargetHandle(On);Xn&&!this._disabledHandles.has(Xn)&&!this.disabled&&On.preventDefault()}else this.disabled||On.preventDefault()},this.withRootElement(_e).withParent(le.parentDragRef||null),this._parentPositions=new wn(Ie),un.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(_e){this._handles=_e.map(Ie=>_(Ie)),this._handles.forEach(Ie=>xn(Ie,this.disabled)),this._toggleNativeDragInteractions();const le=new Set;return this._disabledHandles.forEach(Ie=>{this._handles.indexOf(Ie)>-1&&le.add(Ie)}),this._disabledHandles=le,this}withPreviewTemplate(_e){return this._previewTemplate=_e,this}withPlaceholderTemplate(_e){return this._placeholderTemplate=_e,this}withRootElement(_e){const le=_(_e);return le!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{le.addEventListener("mousedown",this._pointerDown,Si),le.addEventListener("touchstart",this._pointerDown,Ts),le.addEventListener("dragstart",this._nativeDragStart,Si)}),this._initialTransform=void 0,this._rootElement=le),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(_e){return this._boundaryElement=_e?_(_e):null,this._resizeSubscription.unsubscribe(),_e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(_e){return this._parentDragRef=_e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(_e){!this._disabledHandles.has(_e)&&this._handles.indexOf(_e)>-1&&(this._disabledHandles.add(_e),xn(_e,!0))}enableHandle(_e){this._disabledHandles.has(_e)&&(this._disabledHandles.delete(_e),xn(_e,this.disabled))}withDirection(_e){return this._direction=_e,this}_withDropContainer(_e){this._dropContainer=_e}getFreeDragPosition(){const _e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:_e.x,y:_e.y}}setFreeDragPosition(_e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=_e.x,this._passiveTransform.y=_e.y,this._dropContainer||this._applyRootElementTransform(_e.x,_e.y),this}withPreviewContainer(_e){return this._previewContainer=_e,this}_sortFromLastPointerPosition(){const _e=this._lastKnownPointerPosition;_e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(_e),_e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",yo,Cr)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(_e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:_e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(_e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const le=this._getPointerPositionOnPage(_e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(le),dropPoint:le,event:_e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(_e){Xi(_e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const le=this._getShadowRoot(),Ie=this._dropContainer;if(le&&this._ngZone.runOutsideAngular(()=>{le.addEventListener("selectstart",yo,Cr)}),Ie){const et=this._rootElement,wt=et.parentNode,un=this._placeholder=this._createPlaceholderElement(),On=this._anchor=this._anchor||this._document.createComment("");wt.insertBefore(On,et),this._initialTransform=et.style.transform||"",this._preview=new Kn(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(wt,le)),sr(et,!1,Nr),this._document.body.appendChild(wt.replaceChild(un,et)),this.started.next({source:this,event:_e}),Ie.start(),this._initialContainer=Ie,this._initialIndex=Ie.getItemIndex(this)}else this.started.next({source:this,event:_e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(Ie?Ie.getScrollableParents():[])}_initializeDragSequence(_e,le){this._parentDragRef&&le.stopPropagation();const Ie=this.isDragging(),et=Xi(le),wt=!et&&0!==le.button,un=this._rootElement,On=We(le),Xn=!et&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ds=et?function pa(Me){const _e=Me.touches&&Me.touches[0]||Me.changedTouches&&Me.changedTouches[0];return!(!_e||-1!==_e.identifier||null!=_e.radiusX&&1!==_e.radiusX||null!=_e.radiusY&&1!==_e.radiusY)}(le):function ha(Me){return 0===Me.buttons||0===Me.detail}(le);if(On&&On.draggable&&"mousedown"===le.type&&le.preventDefault(),Ie||wt||Xn||ds)return;if(this._handles.length){const _a=un.style;this._rootElementTapHighlight=_a.webkitTapHighlightColor||"",_a.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_a=>this._updateOnScroll(_a)),this._boundaryElement&&(this._boundaryRect=Re(this._boundaryElement));const _i=this._previewTemplate;this._pickupPositionInElement=_i&&_i.template&&!_i.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,_e,le);const Wi=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(le);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Wi.x,y:Wi.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,le)}_cleanupDragArtifacts(_e){sr(this._rootElement,!0,Nr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const le=this._dropContainer,Ie=le.getItemIndex(this),et=this._getPointerPositionOnPage(_e),wt=this._getDragDistance(et),un=le._isOverContainer(et.x,et.y);this.ended.next({source:this,distance:wt,dropPoint:et,event:_e}),this.dropped.next({item:this,currentIndex:Ie,previousIndex:this._initialIndex,container:le,previousContainer:this._initialContainer,isPointerOverContainer:un,distance:wt,dropPoint:et,event:_e}),le.drop(this,Ie,this._initialIndex,this._initialContainer,un,wt,et,_e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:_e,y:le},{x:Ie,y:et}){let wt=this._initialContainer._getSiblingContainerFromPosition(this,_e,le);!wt&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(_e,le)&&(wt=this._initialContainer),wt&&wt!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=wt,this._dropContainer.enter(this,_e,le,wt===this._initialContainer&&wt.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:wt,currentIndex:wt.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(Ie,et),this._dropContainer._sortItem(this,_e,le,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(_e,le):this._applyPreviewTransform(_e-this._pickupPositionInElement.x,le-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const _e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(_e.left,_e.top);const le=this._preview.getTransitionDuration();return 0===le?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(Ie=>{const et=un=>{(!un||We(un)===this._preview&&"transform"===un.propertyName)&&(this._preview?.removeEventListener("transitionend",et),Ie(),clearTimeout(wt))},wt=setTimeout(et,1.5*le);this._preview.addEventListener("transitionend",et)}))}_createPlaceholderElement(){const _e=this._placeholderTemplate,le=_e?_e.template:null;let Ie;return le?(this._placeholderRef=_e.viewContainer.createEmbeddedView(le,_e.context),this._placeholderRef.detectChanges(),Ie=Li(this._placeholderRef,this._document)):Ie=ts(this._rootElement),Ie.style.pointerEvents="none",Ie.classList.add("cdk-drag-placeholder"),Ie}_getPointerPositionInElement(_e,le,Ie){const et=le===this._rootElement?null:le,wt=et?et.getBoundingClientRect():_e,un=Xi(Ie)?Ie.targetTouches[0]:Ie,On=this._getViewportScrollPosition();return{x:wt.left-_e.left+(un.pageX-wt.left-On.left),y:wt.top-_e.top+(un.pageY-wt.top-On.top)}}_getPointerPositionOnPage(_e){const le=this._getViewportScrollPosition(),Ie=Xi(_e)?_e.touches[0]||_e.changedTouches[0]||{pageX:0,pageY:0}:_e,et=Ie.pageX-le.left,wt=Ie.pageY-le.top;if(this._ownerSVGElement){const un=this._ownerSVGElement.getScreenCTM();if(un){const On=this._ownerSVGElement.createSVGPoint();return On.x=et,On.y=wt,On.matrixTransform(un.inverse())}}return{x:et,y:wt}}_getConstrainedPointerPosition(_e){const le=this._dropContainer?this._dropContainer.lockAxis:null;let{x:Ie,y:et}=this.constrainPosition?this.constrainPosition(_e,this,this._initialDomRect,this._pickupPositionInElement):_e;if("x"===this.lockAxis||"x"===le?et=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===le)&&(Ie=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:wt,y:un}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,On=this._boundaryRect,{width:Xn,height:ds}=this._getPreviewRect(),_i=On.top+un,Wi=On.bottom-(ds-un);Ie=Ri(Ie,On.left+wt,On.right-(Xn-wt)),et=Ri(et,_i,Wi)}return{x:Ie,y:et}}_updatePointerDirectionDelta(_e){const{x:le,y:Ie}=_e,et=this._pointerDirectionDelta,wt=this._pointerPositionAtLastDirectionChange,un=Math.abs(le-wt.x),On=Math.abs(Ie-wt.y);return un>this._config.pointerDirectionChangeThreshold&&(et.x=le>wt.x?1:-1,wt.x=le),On>this._config.pointerDirectionChangeThreshold&&(et.y=Ie>wt.y?1:-1,wt.y=Ie),et}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const _e=this._handles.length>0||!this.isDragging();_e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=_e,xn(this._rootElement,_e))}_removeRootElementListeners(_e){_e.removeEventListener("mousedown",this._pointerDown,Si),_e.removeEventListener("touchstart",this._pointerDown,Ts),_e.removeEventListener("dragstart",this._nativeDragStart,Si)}_applyRootElementTransform(_e,le){const Ie=Xe(_e,le),et=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=et.transform&&"none"!=et.transform?et.transform:""),et.transform=Mr(Ie,this._initialTransform)}_applyPreviewTransform(_e,le){const Ie=this._previewTemplate?.template?void 0:this._initialTransform,et=Xe(_e,le);this._preview.setTransform(Mr(et,Ie))}_getDragDistance(_e){const le=this._pickupPositionOnPage;return le?{x:_e.x-le.x,y:_e.y-le.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:_e,y:le}=this._passiveTransform;if(0===_e&&0===le||this.isDragging()||!this._boundaryElement)return;const Ie=this._rootElement.getBoundingClientRect(),et=this._boundaryElement.getBoundingClientRect();if(0===et.width&&0===et.height||0===Ie.width&&0===Ie.height)return;const wt=et.left-Ie.left,un=Ie.right-et.right,On=et.top-Ie.top,Xn=Ie.bottom-et.bottom;et.width>Ie.width?(wt>0&&(_e+=wt),un>0&&(_e-=un)):_e=0,et.height>Ie.height?(On>0&&(le+=On),Xn>0&&(le-=Xn)):le=0,(_e!==this._passiveTransform.x||le!==this._passiveTransform.y)&&this.setFreeDragPosition({y:le,x:_e})}_getDragStartDelay(_e){const le=this.dragStartDelay;return"number"==typeof le?le:Xi(_e)?le.touch:le?le.mouse:0}_updateOnScroll(_e){const le=this._parentPositions.handleScroll(_e);if(le){const Ie=We(_e);this._boundaryRect&&Ie!==this._boundaryElement&&Ie.contains(this._boundaryElement)&&xt(this._boundaryRect,le.top,le.left),this._pickupPositionOnPage.x+=le.left,this._pickupPositionOnPage.y+=le.top,this._dropContainer||(this._activeTransform.x-=le.left,this._activeTransform.y-=le.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=tt(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(_e,le){const Ie=this._previewContainer||"global";if("parent"===Ie)return _e;if("global"===Ie){const et=this._document;return le||et.fullscreenElement||et.webkitFullscreenElement||et.mozFullScreenElement||et.msFullscreenElement||et.body}return _(Ie)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(_e){return this._handles.find(le=>_e.target&&(_e.target===le||le.contains(_e.target)))}}function Ri(Me,_e,le){return Math.max(_e,Math.min(le,Me))}function Xi(Me){return"t"===Me.type[0]}function yo(Me){Me.preventDefault()}function Hs(Me,_e,le){const Ie=oo(_e,Me.length-1),et=oo(le,Me.length-1);if(Ie===et)return;const wt=Me[Ie],un=et<Ie?-1:1;for(let On=Ie;On!==et;On+=un)Me[On]=Me[On+un];Me[et]=wt}function oo(Me,_e){return Math.max(0,Math.min(_e,Me))}class ur{constructor(_e,le){this._element=_e,this._dragDropRegistry=le,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(_e){this.withItems(_e)}sort(_e,le,Ie,et){const wt=this._itemPositions,un=this._getItemIndexFromPointerPosition(_e,le,Ie,et);if(-1===un&&wt.length>0)return null;const On="horizontal"===this.orientation,Xn=wt.findIndex(So=>So.drag===_e),ds=wt[un],Wi=ds.clientRect,_a=Xn>un?1:-1,za=this._getItemOffsetPx(wt[Xn].clientRect,Wi,_a),Ia=this._getSiblingOffsetPx(Xn,wt,_a),zl=wt.slice();return Hs(wt,Xn,un),wt.forEach((So,Dc)=>{if(zl[Dc]===So)return;const Oc=So.drag===_e,pd=Oc?za:Ia,tu=Oc?_e.getPlaceholderElement():So.drag.getRootElement();So.offset+=pd,On?(tu.style.transform=Mr(`translate3d(${Math.round(So.offset)}px, 0, 0)`,So.initialTransform),xt(So.clientRect,0,pd)):(tu.style.transform=Mr(`translate3d(0, ${Math.round(So.offset)}px, 0)`,So.initialTransform),xt(So.clientRect,pd,0))}),this._previousSwap.overlaps=Ye(Wi,le,Ie),this._previousSwap.drag=ds.drag,this._previousSwap.delta=On?et.x:et.y,{previousIndex:Xn,currentIndex:un}}enter(_e,le,Ie,et){const wt=null==et||et<0?this._getItemIndexFromPointerPosition(_e,le,Ie):et,un=this._activeDraggables,On=un.indexOf(_e),Xn=_e.getPlaceholderElement();let ds=un[wt];if(ds===_e&&(ds=un[wt+1]),!ds&&(null==wt||-1===wt||wt<un.length-1)&&this._shouldEnterAsFirstChild(le,Ie)&&(ds=un[0]),On>-1&&un.splice(On,1),ds&&!this._dragDropRegistry.isDragging(ds)){const _i=ds.getRootElement();_i.parentElement.insertBefore(Xn,_i),un.splice(wt,0,_e)}else _(this._element).appendChild(Xn),un.push(_e);Xn.style.transform="",this._cacheItemPositions()}withItems(_e){this._activeDraggables=_e.slice(),this._cacheItemPositions()}withSortPredicate(_e){this._sortPredicate=_e}reset(){this._activeDraggables.forEach(_e=>{const le=_e.getRootElement();if(le){const Ie=this._itemPositions.find(et=>et.drag===_e)?.initialTransform;le.style.transform=Ie||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(_e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(Ie=>Ie.drag===_e)}updateOnScroll(_e,le){this._itemPositions.forEach(({clientRect:Ie})=>{xt(Ie,_e,le)}),this._itemPositions.forEach(({drag:Ie})=>{this._dragDropRegistry.isDragging(Ie)&&Ie._sortFromLastPointerPosition()})}_cacheItemPositions(){const _e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(le=>{const Ie=le.getVisibleElement();return{drag:le,offset:0,initialTransform:Ie.style.transform||"",clientRect:Re(Ie)}}).sort((le,Ie)=>_e?le.clientRect.left-Ie.clientRect.left:le.clientRect.top-Ie.clientRect.top)}_getItemOffsetPx(_e,le,Ie){const et="horizontal"===this.orientation;let wt=et?le.left-_e.left:le.top-_e.top;return-1===Ie&&(wt+=et?le.width-_e.width:le.height-_e.height),wt}_getSiblingOffsetPx(_e,le,Ie){const et="horizontal"===this.orientation,wt=le[_e].clientRect,un=le[_e+-1*Ie];let On=wt[et?"width":"height"]*Ie;if(un){const Xn=et?"left":"top",ds=et?"right":"bottom";-1===Ie?On-=un.clientRect[Xn]-wt[ds]:On+=wt[Xn]-un.clientRect[ds]}return On}_shouldEnterAsFirstChild(_e,le){if(!this._activeDraggables.length)return!1;const Ie=this._itemPositions,et="horizontal"===this.orientation;if(Ie[0].drag!==this._activeDraggables[0]){const un=Ie[Ie.length-1].clientRect;return et?_e>=un.right:le>=un.bottom}{const un=Ie[0].clientRect;return et?_e<=un.left:le<=un.top}}_getItemIndexFromPointerPosition(_e,le,Ie,et){const wt="horizontal"===this.orientation,un=this._itemPositions.findIndex(({drag:On,clientRect:Xn})=>On!==_e&&((!et||On!==this._previousSwap.drag||!this._previousSwap.overlaps||(wt?et.x:et.y)!==this._previousSwap.delta)&&(wt?le>=Math.floor(Xn.left)&&le<Math.floor(Xn.right):Ie>=Math.floor(Xn.top)&&Ie<Math.floor(Xn.bottom))));return-1!==un&&this._sortPredicate(un,_e)?un:-1}}var br=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.UP=1]="UP",Me[Me.DOWN=2]="DOWN",Me}(br||{}),Sr=function(Me){return Me[Me.NONE=0]="NONE",Me[Me.LEFT=1]="LEFT",Me[Me.RIGHT=2]="RIGHT",Me}(Sr||{});class hd{constructor(_e,le,Ie,et,wt){this._dragDropRegistry=le,this._ngZone=et,this._viewportRuler=wt,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new y.B,this.entered=new y.B,this.exited=new y.B,this.dropped=new y.B,this.sorted=new y.B,this.receivingStarted=new y.B,this.receivingStopped=new y.B,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=R.yU.EMPTY,this._verticalScrollDirection=br.NONE,this._horizontalScrollDirection=Sr.NONE,this._stopScrollTimers=new y.B,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Fn.Y)(0,M).pipe((0,zn.Q)(this._stopScrollTimers)).subscribe(()=>{const un=this._scrollNode,On=this.autoScrollStep;this._verticalScrollDirection===br.UP?un.scrollBy(0,-On):this._verticalScrollDirection===br.DOWN&&un.scrollBy(0,On),this._horizontalScrollDirection===Sr.LEFT?un.scrollBy(-On,0):this._horizontalScrollDirection===Sr.RIGHT&&un.scrollBy(On,0)})},this.element=_(_e),this._document=Ie,this.withScrollableParents([this.element]),le.registerDropContainer(this),this._parentPositions=new wn(Ie),this._sortStrategy=new ur(this.element,le),this._sortStrategy.withSortPredicate((un,On)=>this.sortPredicate(un,On,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(_e,le,Ie,et){this._draggingStarted(),null==et&&this.sortingDisabled&&(et=this._draggables.indexOf(_e)),this._sortStrategy.enter(_e,le,Ie,et),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:_e,container:this,currentIndex:this.getItemIndex(_e)})}exit(_e){this._reset(),this.exited.next({item:_e,container:this})}drop(_e,le,Ie,et,wt,un,On,Xn={}){this._reset(),this.dropped.next({item:_e,currentIndex:le,previousIndex:Ie,container:this,previousContainer:et,isPointerOverContainer:wt,distance:un,dropPoint:On,event:Xn})}withItems(_e){const le=this._draggables;return this._draggables=_e,_e.forEach(Ie=>Ie._withDropContainer(this)),this.isDragging()&&(le.filter(et=>et.isDragging()).every(et=>-1===_e.indexOf(et))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(_e){return this._sortStrategy.direction=_e,this}connectedTo(_e){return this._siblings=_e.slice(),this}withOrientation(_e){return this._sortStrategy.orientation=_e,this}withScrollableParents(_e){const le=_(this.element);return this._scrollableElements=-1===_e.indexOf(le)?[le,..._e]:_e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(_e){return this._isDragging?this._sortStrategy.getItemIndex(_e):this._draggables.indexOf(_e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(_e,le,Ie,et){if(this.sortingDisabled||!this._domRect||!vn(this._domRect,.05,le,Ie))return;const wt=this._sortStrategy.sort(_e,le,Ie,et);wt&&this.sorted.next({previousIndex:wt.previousIndex,currentIndex:wt.currentIndex,container:this,item:_e})}_startScrollingIfNecessary(_e,le){if(this.autoScrollDisabled)return;let Ie,et=br.NONE,wt=Sr.NONE;if(this._parentPositions.positions.forEach((un,On)=>{On===this._document||!un.clientRect||Ie||vn(un.clientRect,.05,_e,le)&&([et,wt]=function Ka(Me,_e,le,Ie,et){const wt=sa(_e,et),un=Dl(_e,Ie);let On=br.NONE,Xn=Sr.NONE;if(wt){const ds=Me.scrollTop;wt===br.UP?ds>0&&(On=br.UP):Me.scrollHeight-ds>Me.clientHeight&&(On=br.DOWN)}if(un){const ds=Me.scrollLeft;"rtl"===le?un===Sr.RIGHT?ds<0&&(Xn=Sr.RIGHT):Me.scrollWidth+ds>Me.clientWidth&&(Xn=Sr.LEFT):un===Sr.LEFT?ds>0&&(Xn=Sr.LEFT):Me.scrollWidth-ds>Me.clientWidth&&(Xn=Sr.RIGHT)}return[On,Xn]}(On,un.clientRect,this._sortStrategy.direction,_e,le),(et||wt)&&(Ie=On))}),!et&&!wt){const{width:un,height:On}=this._viewportRuler.getViewportSize(),Xn={width:un,height:On,top:0,right:un,bottom:On,left:0};et=sa(Xn,le),wt=Dl(Xn,_e),Ie=window}Ie&&(et!==this._verticalScrollDirection||wt!==this._horizontalScrollDirection||Ie!==this._scrollNode)&&(this._verticalScrollDirection=et,this._horizontalScrollDirection=wt,this._scrollNode=Ie,(et||wt)&&Ie?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const _e=_(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=_e.msScrollSnapType||_e.scrollSnapType||"",_e.scrollSnapType=_e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const _e=_(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(_e).clientRect}_reset(){this._isDragging=!1;const _e=_(this.element).style;_e.scrollSnapType=_e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(le=>le._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(_e,le){return null!=this._domRect&&Ye(this._domRect,_e,le)}_getSiblingContainerFromPosition(_e,le,Ie){return this._siblings.find(et=>et._canReceive(_e,le,Ie))}_canReceive(_e,le,Ie){if(!this._domRect||!Ye(this._domRect,le,Ie)||!this.enterPredicate(_e,this))return!1;const et=this._getShadowRoot().elementFromPoint(le,Ie);if(!et)return!1;const wt=_(this.element);return et===wt||wt.contains(et)}_startReceiving(_e,le){const Ie=this._activeSiblings;!Ie.has(_e)&&le.every(et=>this.enterPredicate(et,this)||this._draggables.indexOf(et)>-1)&&(Ie.add(_e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:_e,receiver:this,items:le}))}_stopReceiving(_e){this._activeSiblings.delete(_e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:_e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(_e=>{if(this.isDragging()){const le=this._parentPositions.handleScroll(_e);le&&this._sortStrategy.updateOnScroll(le.top,le.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const _e=tt(_(this.element));this._cachedShadowRoot=_e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const _e=this._sortStrategy.getActiveItemsSnapshot().filter(le=>le.isDragging());this._siblings.forEach(le=>le._startReceiving(this,_e))}}function sa(Me,_e){const{top:le,bottom:Ie,height:et}=Me,wt=.05*et;return _e>=le-wt&&_e<=le+wt?br.UP:_e>=Ie-wt&&_e<=Ie+wt?br.DOWN:br.NONE}function Dl(Me,_e){const{left:le,right:Ie,width:et}=Me,wt=.05*et;return _e>=le-wt&&_e<=le+wt?Sr.LEFT:_e>=Ie-wt&&_e<=Ie+wt?Sr.RIGHT:Sr.NONE}const Zs=ne({passive:!1,capture:!0}),Kl=new Set;let Ol=(()=>{class Me{static{this.\u0275fac=function(Ie){return new(Ie||Me)}}static{this.\u0275cmp=i.VBU({type:Me,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[i.aNF],decls:0,vars:0,template:function(Ie,et){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0})}}return Me})(),Eo=(()=>{class Me{constructor(le,Ie){this._ngZone=le,this._appRef=(0,i.WQX)(i.o8S),this._environmentInjector=(0,i.WQX)(i.uvJ),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=et=>et.isDragging(),this.pointerMove=new y.B,this.pointerUp=new y.B,this.scroll=new y.B,this._preventDefaultWhileDragging=et=>{this._activeDragInstances.length>0&&et.preventDefault()},this._persistentTouchmoveListener=et=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&et.preventDefault(),this.pointerMove.next(et))},this._document=Ie}registerDropContainer(le){this._dropInstances.has(le)||this._dropInstances.add(le)}registerDragItem(le){this._dragInstances.add(le),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Zs)})}removeDropContainer(le){this._dropInstances.delete(le)}removeDragItem(le){this._dragInstances.delete(le),this.stopDragging(le),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Zs)}startDragging(le,Ie){if(!(this._activeDragInstances.indexOf(le)>-1)&&(this._loadResets(),this._activeDragInstances.push(le),1===this._activeDragInstances.length)){const et=Ie.type.startsWith("touch");this._globalListeners.set(et?"touchend":"mouseup",{handler:wt=>this.pointerUp.next(wt),options:!0}).set("scroll",{handler:wt=>this.scroll.next(wt),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Zs}),et||this._globalListeners.set("mousemove",{handler:wt=>this.pointerMove.next(wt),options:Zs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((wt,un)=>{this._document.addEventListener(un,wt.handler,wt.options)})})}}stopDragging(le){const Ie=this._activeDragInstances.indexOf(le);Ie>-1&&(this._activeDragInstances.splice(Ie,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(le){return this._activeDragInstances.indexOf(le)>-1}scrolled(le){const Ie=[this.scroll];return le&&le!==this._document&&Ie.push(new O.c(et=>this._ngZone.runOutsideAngular(()=>{const un=On=>{this._activeDragInstances.length&&et.next(On)};return le.addEventListener("scroll",un,!0),()=>{le.removeEventListener("scroll",un,!0)}}))),(0,es.h)(...Ie)}ngOnDestroy(){this._dragInstances.forEach(le=>this.removeDragItem(le)),this._dropInstances.forEach(le=>this.removeDropContainer(le)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((le,Ie)=>{this._document.removeEventListener(Ie,le.handler,le.options)}),this._globalListeners.clear()}_loadResets(){if(!Kl.has(this._appRef)){Kl.add(this._appRef);const le=(0,i.a0P)(Ol,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Kl.delete(this._appRef),0===Kl.size&&le.destroy()})}}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.KVO(i.SKi),i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ss={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ia=(()=>{class Me{constructor(le,Ie,et,wt){this._document=le,this._ngZone=Ie,this._viewportRuler=et,this._dragDropRegistry=wt}createDrag(le,Ie=Ss){return new Ir(le,Ie,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(le){return new hd(le,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.KVO(t.qQ),i.KVO(i.SKi),i.KVO(Ne),i.KVO(Eo))}}static{this.\u0275prov=i.jDH({token:Me,factory:Me.\u0275fac,providedIn:"root"})}}return Me})();const Ji=new i.nKC("CDK_DRAG_PARENT"),ti=new i.nKC("CdkDragHandle");let Fr=(()=>{class Me{get disabled(){return this._disabled}set disabled(le){this._disabled=le,this._stateChanges.next(this)}constructor(le,Ie){this.element=le,this._parentDrag=Ie,this._stateChanges=new y.B,this._disabled=!1,Ie?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.rXU(i.aKT),i.rXU(Ji,12))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",i.L39]},standalone:!0,features:[i.Jv_([{provide:ti,useExisting:Me}]),i.GFd]})}}return Me})();const Ma=new i.nKC("CDK_DRAG_CONFIG"),Ha=new i.nKC("CdkDropList");let qr=(()=>{class Me{static{this._dragInstances=[]}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(le){this._disabled=le,this._dragRef.disabled=this._disabled}constructor(le,Ie,et,wt,un,On,Xn,ds,_i,Wi,_a){this.element=le,this.dropContainer=Ie,this._ngZone=wt,this._viewContainerRef=un,this._dir=Xn,this._changeDetectorRef=_i,this._selfHandle=Wi,this._parentDrag=_a,this._destroyed=new y.B,this._handles=new Bs.t([]),this.started=new i.bkB,this.released=new i.bkB,this.ended=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.dropped=new i.bkB,this.moved=new O.c(za=>{const Ia=this._dragRef.moved.pipe((0,Jo.T)(zl=>({source:this,pointerPosition:zl.pointerPosition,event:zl.event,delta:zl.delta,distance:zl.distance}))).subscribe(za);return()=>{Ia.unsubscribe()}}),this._dragRef=ds.createDrag(le,{dragStartThreshold:On&&null!=On.dragStartThreshold?On.dragStartThreshold:5,pointerDirectionChangeThreshold:On&&null!=On.pointerDirectionChangeThreshold?On.pointerDirectionChangeThreshold:5,zIndex:On?.zIndex}),this._dragRef.data=this,Me._dragInstances.push(this),On&&this._assignDefaults(On),Ie&&(this._dragRef._withDropContainer(Ie._dropListRef),Ie.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(le){this._dragRef.setFreeDragPosition(le)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,fr.s)(1),(0,zn.Q)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(le){const Ie=le.rootElementSelector,et=le.freeDragPosition;Ie&&!Ie.firstChange&&this._updateRootElement(),et&&!et.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const le=Me._dragInstances.indexOf(this);le>-1&&Me._dragInstances.splice(le,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(le){const Ie=this._handles.getValue();Ie.push(le),this._handles.next(Ie)}_removeHandle(le){const Ie=this._handles.getValue(),et=Ie.indexOf(le);et>-1&&(Ie.splice(et,1),this._handles.next(Ie))}_setPreviewTemplate(le){this._previewTemplate=le}_resetPreviewTemplate(le){le===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(le){this._placeholderTemplate=le}_resetPlaceholderTemplate(le){le===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){const le=this.element.nativeElement;let Ie=le;this.rootElementSelector&&(Ie=void 0!==le.closest?le.closest(this.rootElementSelector):le.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(Ie||le)}_getBoundaryElement(){const le=this.boundaryElement;return le?"string"==typeof le?this.element.nativeElement.closest(le):_(le):null}_syncInputs(le){le.beforeStarted.subscribe(()=>{if(!le.isDragging()){const Ie=this._dir,et=this.dragStartDelay,wt=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,un=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;le.disabled=this.disabled,le.lockAxis=this.lockAxis,le.dragStartDelay="object"==typeof et&&et?et:e(et),le.constrainPosition=this.constrainPosition,le.previewClass=this.previewClass,le.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(wt).withPreviewTemplate(un).withPreviewContainer(this.previewContainer||"global"),Ie&&le.withDirection(Ie.value)}}),le.beforeStarted.pipe((0,fr.s)(1)).subscribe(()=>{if(this._parentDrag)return void le.withParent(this._parentDrag._dragRef);let Ie=this.element.nativeElement.parentElement;for(;Ie;){if(Ie.classList.contains("cdk-drag")){le.withParent(Me._dragInstances.find(et=>et.element.nativeElement===Ie)?._dragRef||null);break}Ie=Ie.parentElement}})}_handleEvents(le){le.started.subscribe(Ie=>{this.started.emit({source:this,event:Ie.event}),this._changeDetectorRef.markForCheck()}),le.released.subscribe(Ie=>{this.released.emit({source:this,event:Ie.event})}),le.ended.subscribe(Ie=>{this.ended.emit({source:this,distance:Ie.distance,dropPoint:Ie.dropPoint,event:Ie.event}),this._changeDetectorRef.markForCheck()}),le.entered.subscribe(Ie=>{this.entered.emit({container:Ie.container.data,item:this,currentIndex:Ie.currentIndex})}),le.exited.subscribe(Ie=>{this.exited.emit({container:Ie.container.data,item:this})}),le.dropped.subscribe(Ie=>{this.dropped.emit({previousIndex:Ie.previousIndex,currentIndex:Ie.currentIndex,previousContainer:Ie.previousContainer.data,container:Ie.container.data,isPointerOverContainer:Ie.isPointerOverContainer,item:this,distance:Ie.distance,dropPoint:Ie.dropPoint,event:Ie.event})})}_assignDefaults(le){const{lockAxis:Ie,dragStartDelay:et,constrainPosition:wt,previewClass:un,boundaryElement:On,draggingDisabled:Xn,rootElementSelector:ds,previewContainer:_i}=le;this.disabled=Xn??!1,this.dragStartDelay=et||0,Ie&&(this.lockAxis=Ie),wt&&(this.constrainPosition=wt),un&&(this.previewClass=un),On&&(this.boundaryElement=On),ds&&(this.rootElementSelector=ds),_i&&(this.previewContainer=_i)}_setupHandlesListener(){this._handles.pipe((0,cr.M)(le=>{const Ie=le.map(et=>et.element);this._selfHandle&&this.rootElementSelector&&Ie.push(this.element),this._dragRef.withHandles(Ie)}),(0,yi.n)(le=>(0,es.h)(...le.map(Ie=>Ie._stateChanges.pipe((0,xi.Z)(Ie))))),(0,zn.Q)(this._destroyed)).subscribe(le=>{const Ie=this._dragRef,et=le.element.nativeElement;le.disabled?Ie.disableHandle(et):Ie.enableHandle(et)})}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.rXU(i.aKT),i.rXU(Ha,12),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.c1b),i.rXU(Ma,8),i.rXU(nr.dS,8),i.rXU(ia),i.rXU(i.gRc),i.rXU(ti,10),i.rXU(Ji,12))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(Ie,et){2&Ie&&i.AVh("cdk-drag-disabled",et.disabled)("cdk-drag-dragging",et._dragRef.isDragging())},inputs:{data:[i.Mj6.None,"cdkDragData","data"],lockAxis:[i.Mj6.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[i.Mj6.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[i.Mj6.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[i.Mj6.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[i.Mj6.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDragDisabled","disabled",i.L39],constrainPosition:[i.Mj6.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[i.Mj6.None,"cdkDragPreviewClass","previewClass"],previewContainer:[i.Mj6.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[i.Jv_([{provide:Ji,useExisting:Me}]),i.GFd,i.OA$]})}}return Me})();const Ml=new i.nKC("CdkDropListGroup");let Il=(()=>{class Me{constructor(){this._items=new Set,this.disabled=!1}ngOnDestroy(){this._items.clear()}static{this.\u0275fac=function(Ie){return new(Ie||Me)}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListGroupDisabled","disabled",i.L39]},exportAs:["cdkDropListGroup"],standalone:!0,features:[i.Jv_([{provide:Ml,useExisting:Me}]),i.GFd]})}}return Me})(),ja=0,cl=(()=>{class Me{static{this._dropLists=[]}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(le){this._dropListRef.disabled=this._disabled=le}constructor(le,Ie,et,wt,un,On,Xn){this.element=le,this._changeDetectorRef=et,this._scrollDispatcher=wt,this._dir=un,this._group=On,this._destroyed=new y.B,this.connectedTo=[],this.id="cdk-drop-list-"+ja++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.bkB,this.entered=new i.bkB,this.exited=new i.bkB,this.sorted=new i.bkB,this._unsortedItems=new Set,this._dropListRef=Ie.createDropList(le),this._dropListRef.data=this,Xn&&this._assignDefaults(Xn),this._dropListRef.enterPredicate=(ds,_i)=>this.enterPredicate(ds.data,_i.data),this._dropListRef.sortPredicate=(ds,_i,Wi)=>this.sortPredicate(ds,_i.data,Wi.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Me._dropLists.push(this),On&&On._items.add(this)}addItem(le){this._unsortedItems.add(le),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(le){this._unsortedItems.delete(le),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((le,Ie)=>le._dragRef.getVisibleElement().compareDocumentPosition(Ie._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const le=Me._dropLists.indexOf(this);le>-1&&Me._dropLists.splice(le,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(le){this._dir&&this._dir.change.pipe((0,xi.Z)(this._dir.value),(0,zn.Q)(this._destroyed)).subscribe(Ie=>le.withDirection(Ie)),le.beforeStarted.subscribe(()=>{const Ie=function m(Me){return Array.isArray(Me)?Me:[Me]}(this.connectedTo).map(et=>"string"==typeof et?Me._dropLists.find(un=>un.id===et):et);if(this._group&&this._group._items.forEach(et=>{-1===Ie.indexOf(et)&&Ie.push(et)}),!this._scrollableParentsResolved){const et=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(wt=>wt.getElementRef().nativeElement);this._dropListRef.withScrollableParents(et),this._scrollableParentsResolved=!0}le.disabled=this.disabled,le.lockAxis=this.lockAxis,le.sortingDisabled=this.sortingDisabled,le.autoScrollDisabled=this.autoScrollDisabled,le.autoScrollStep=e(this.autoScrollStep,2),le.connectedTo(Ie.filter(et=>et&&et!==this).map(et=>et._dropListRef)).withOrientation(this.orientation)})}_handleEvents(le){le.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),le.entered.subscribe(Ie=>{this.entered.emit({container:this,item:Ie.item.data,currentIndex:Ie.currentIndex})}),le.exited.subscribe(Ie=>{this.exited.emit({container:this,item:Ie.item.data}),this._changeDetectorRef.markForCheck()}),le.sorted.subscribe(Ie=>{this.sorted.emit({previousIndex:Ie.previousIndex,currentIndex:Ie.currentIndex,container:this,item:Ie.item.data})}),le.dropped.subscribe(Ie=>{this.dropped.emit({previousIndex:Ie.previousIndex,currentIndex:Ie.currentIndex,previousContainer:Ie.previousContainer.data,container:Ie.container.data,item:Ie.item.data,isPointerOverContainer:Ie.isPointerOverContainer,distance:Ie.distance,dropPoint:Ie.dropPoint,event:Ie.event}),this._changeDetectorRef.markForCheck()}),(0,es.h)(le.receivingStarted,le.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(le){const{lockAxis:Ie,draggingDisabled:et,sortingDisabled:wt,listAutoScrollDisabled:un,listOrientation:On}=le;this.disabled=et??!1,this.sortingDisabled=wt??!1,this.autoScrollDisabled=un??!1,this.orientation=On||"vertical",Ie&&(this.lockAxis=Ie)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(le=>le._dragRef))}static{this.\u0275fac=function(Ie){return new(Ie||Me)(i.rXU(i.aKT),i.rXU(ia),i.rXU(i.gRc),i.rXU(nt),i.rXU(nr.dS,8),i.rXU(Ml,12),i.rXU(Ma,8))}}static{this.\u0275dir=i.FsC({type:Me,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(Ie,et){2&Ie&&(i.BMQ("id",et.id),i.AVh("cdk-drop-list-disabled",et.disabled)("cdk-drop-list-dragging",et._dropListRef.isDragging())("cdk-drop-list-receiving",et._dropListRef.isReceiving()))},inputs:{connectedTo:[i.Mj6.None,"cdkDropListConnectedTo","connectedTo"],data:[i.Mj6.None,"cdkDropListData","data"],orientation:[i.Mj6.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[i.Mj6.None,"cdkDropListLockAxis","lockAxis"],disabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",i.L39],sortingDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",i.L39],enterPredicate:[i.Mj6.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[i.Mj6.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[i.Mj6.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",i.L39],autoScrollStep:[i.Mj6.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[i.Jv_([{provide:Ml,useValue:void 0},{provide:Ha,useExisting:Me}]),i.GFd]})}}return Me})()},64109:(N,T,n)=>{"use strict";n.d(T,{Dc:()=>Z,Hy:()=>J,NL:()=>U,Sz:()=>w,XW:()=>O,aI:()=>X,xn:()=>$});var i=n(45024),t=n(74402),l=n(21413),e=n(84412),f=n(7673),_=(n(96697),n(5964),n(56977)),v=n(54438),y=n(28203);class C{constructor(){this.expansionModel=new i.CB(!0)}toggle(Y){this.expansionModel.toggle(this._trackByValue(Y))}expand(Y){this.expansionModel.select(this._trackByValue(Y))}collapse(Y){this.expansionModel.deselect(this._trackByValue(Y))}isExpanded(Y){return this.expansionModel.isSelected(this._trackByValue(Y))}toggleDescendants(Y){this.expansionModel.isSelected(this._trackByValue(Y))?this.collapseDescendants(Y):this.expandDescendants(Y)}collapseAll(){this.expansionModel.clear()}expandDescendants(Y){let Q=[Y];Q.push(...this.getDescendants(Y)),this.expansionModel.select(...Q.map(ie=>this._trackByValue(ie)))}collapseDescendants(Y){let Q=[Y];Q.push(...this.getDescendants(Y)),this.expansionModel.deselect(...Q.map(ie=>this._trackByValue(ie)))}_trackByValue(Y){return this.trackBy?this.trackBy(Y):Y}}class O extends C{constructor(Y,Q,ie){super(),this.getLevel=Y,this.isExpandable=Q,this.options=ie,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(Y){const ie=[];for(let oe=this.dataNodes.indexOf(Y)+1;oe<this.dataNodes.length&&this.getLevel(Y)<this.getLevel(this.dataNodes[oe]);oe++)ie.push(this.dataNodes[oe]);return ie}expandAll(){this.expansionModel.select(...this.dataNodes.map(Y=>this._trackByValue(Y)))}}const D=new v.nKC("CDK_TREE_NODE_OUTLET_NODE");let R=(()=>{class H{constructor(Q,ie){this.viewContainer=Q,this._node=ie}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU(v.c1b),v.rXU(D,8))}}static{this.\u0275dir=v.FsC({type:H,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return H})();class h{constructor(Y){this.$implicit=Y}}let w=(()=>{class H{constructor(Q){this.template=Q}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU(v.C4Q))}}static{this.\u0275dir=v.FsC({type:H,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[v.Mj6.None,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return H})(),U=(()=>{class H{get dataSource(){return this._dataSource}set dataSource(Q){this._dataSource!==Q&&this._switchDataSource(Q)}constructor(Q,ie){this._differs=Q,this._changeDetectorRef=ie,this._onDestroy=new l.B,this._levels=new Map,this.viewChange=new e.t({start:0,end:Number.MAX_VALUE})}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const Q=this._nodeDefs.filter(ie=>!ie.when);this._defaultNodeDef=Q[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(Q){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),Q||this._nodeOutlet.viewContainer.clear(),this._dataSource=Q,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let Q;(0,i.y4)(this._dataSource)?Q=this._dataSource.connect(this):(0,t.A)(this._dataSource)?Q=this._dataSource:Array.isArray(this._dataSource)&&(Q=(0,f.of)(this._dataSource)),Q&&(this._dataSubscription=Q.pipe((0,_.Q)(this._onDestroy)).subscribe(ie=>this.renderNodeChanges(ie)))}renderNodeChanges(Q,ie=this._dataDiffer,oe=this._nodeOutlet.viewContainer,pe){const ne=ie.diff(Q);ne&&(ne.forEachOperation((re,Ce,Ee)=>{if(null==re.previousIndex)this.insertNode(Q[Ee],Ee,oe,pe);else if(null==Ee)oe.remove(Ce),this._levels.delete(re.item);else{const ue=oe.get(Ce);oe.move(ue,Ee)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(Q,ie){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(pe=>pe.when&&pe.when(ie,Q))||this._defaultNodeDef}insertNode(Q,ie,oe,pe){const ne=this._getNodeDef(Q,ie),re=new h(Q);re.level=this.treeControl.getLevel?this.treeControl.getLevel(Q):typeof pe<"u"&&this._levels.has(pe)?this._levels.get(pe)+1:0,this._levels.set(Q,re.level),(oe||this._nodeOutlet.viewContainer).createEmbeddedView(ne.template,re,ie),$.mostRecentTreeNode&&($.mostRecentTreeNode.data=Q)}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU(v._q3),v.rXU(v.gRc))}}static{this.\u0275cmp=v.VBU({type:H,selectors:[["cdk-tree"]],contentQueries:function(ie,oe,pe){if(1&ie&&v.wni(pe,w,5),2&ie){let ne;v.mGM(ne=v.lsd())&&(oe._nodeDefs=ne)}},viewQuery:function(ie,oe){if(1&ie&&v.GBs(R,7),2&ie){let pe;v.mGM(pe=v.lsd())&&(oe._nodeOutlet=pe.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],standalone:!0,features:[v.aNF],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(ie,oe){1&ie&&v.eu8(0,0)},dependencies:[R],encapsulation:2})}}return H})(),$=(()=>{class H{get role(){return"treeitem"}set role(Q){this._elementRef.nativeElement.setAttribute("role",Q)}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(Q){Q!==this._data&&(this._data=Q,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}constructor(Q,ie){this._elementRef=Q,this._tree=ie,this._destroyed=new l.B,this._dataChanges=new l.B,H.mostRecentTreeNode=this,this.role="treeitem"}ngOnInit(){this._parentNodeAriaLevel=function j(H){let Y=H.parentElement;for(;Y&&!G(Y);)Y=Y.parentElement;return Y?Y.classList.contains("cdk-nested-tree-node")?(0,v.Udg)(Y.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){H.mostRecentTreeNode===this&&(H.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU(v.aKT),v.rXU(U))}}static{this.\u0275dir=v.FsC({type:H,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(ie,oe){2&ie&&v.BMQ("aria-expanded",oe.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"],standalone:!0})}}return H})();function G(H){const Y=H.classList;return!(!Y?.contains("cdk-nested-tree-node")&&!Y?.contains("cdk-tree"))}const V=/([A-Za-z%]+)$/;let X=(()=>{class H{get level(){return this._level}set level(Q){this._setLevelInput(Q)}get indent(){return this._indent}set indent(Q){this._setIndentInput(Q)}constructor(Q,ie,oe,pe){this._treeNode=Q,this._tree=ie,this._element=oe,this._dir=pe,this._destroyed=new l.B,this.indentUnits="px",this._indent=40,this._setPadding(),pe&&pe.change.pipe((0,_.Q)(this._destroyed)).subscribe(()=>this._setPadding(!0)),Q._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const Q=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,ie=null==this._level?Q:this._level;return"number"==typeof ie?`${ie*this._indent}${this.indentUnits}`:null}_setPadding(Q=!1){const ie=this._paddingIndent();if(ie!==this._currentPadding||Q){const oe=this._element.nativeElement,pe=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",ne="paddingLeft"===pe?"paddingRight":"paddingLeft";oe.style[pe]=ie||"",oe.style[ne]="",this._currentPadding=ie}}_setLevelInput(Q){this._level=isNaN(Q)?null:Q,this._setPadding()}_setIndentInput(Q){let ie=Q,oe="px";if("string"==typeof Q){const pe=Q.split(V);ie=pe[0],oe=pe[1]||oe}this.indentUnits=oe,this._indent=(0,v.Udg)(ie),this._setPadding()}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU($),v.rXU(U),v.rXU(v.aKT),v.rXU(y.dS,8))}}static{this.\u0275dir=v.FsC({type:H,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[v.Mj6.HasDecoratorInputTransform,"cdkTreeNodePadding","level",v.Udg],indent:[v.Mj6.None,"cdkTreeNodePaddingIndent","indent"]},standalone:!0,features:[v.GFd]})}}return H})(),J=(()=>{class H{constructor(Q,ie){this._tree=Q,this._treeNode=ie,this.recursive=!1}_toggle(Q){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),Q.stopPropagation()}static{this.\u0275fac=function(ie){return new(ie||H)(v.rXU(U),v.rXU($))}}static{this.\u0275dir=v.FsC({type:H,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(ie,oe){1&ie&&v.bIt("click",function(ne){return oe._toggle(ne)})},inputs:{recursive:[v.Mj6.HasDecoratorInputTransform,"cdkTreeNodeToggleRecursive","recursive",v.L39]},standalone:!0,features:[v.GFd]})}}return H})(),Z=(()=>{class H{static{this.\u0275fac=function(ie){return new(ie||H)}}static{this.\u0275mod=v.$C({type:H})}static{this.\u0275inj=v.G2t({})}}return H})()},60177:(N,T,n)=>{"use strict";n.d(T,{AJ:()=>Or,B3:()=>Zi,GH:()=>Wt,Jj:()=>tn,MD:()=>Uo,N0:()=>Dn,OI:()=>rt,PV:()=>$n,QT:()=>l,Sm:()=>h,Sq:()=>kt,T3:()=>Ms,UE:()=>Jr,VF:()=>f,Vy:()=>Do,XO:()=>H,Xr:()=>Ze,YU:()=>en,Yq:()=>cn,ZD:()=>e,_b:()=>mt,aZ:()=>b,bT:()=>Vn,cH:()=>z,e1:()=>Ds,fw:()=>w,hb:()=>D,hj:()=>v,kB:()=>R,lG:()=>mo,oV:()=>G,pM:()=>kt,qQ:()=>p,rd:()=>Z,tL:()=>Y,ux:()=>ls,vh:()=>fi});var i=n(54438);let t=null;function l(){return t}function e(fe){t??=fe}class f{}const p=new i.nKC("");let _=(()=>{class fe{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>(0,i.WQX)(y),providedIn:"platform"})}}return fe})();const v=new i.nKC("");let y=(()=>{class fe extends _{constructor(){super(),this._doc=(0,i.WQX)(p),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return l().getBaseHref(this._doc)}onPopState(Re){const Ye=l().getGlobalEventTarget(this._doc,"window");return Ye.addEventListener("popstate",Re,!1),()=>Ye.removeEventListener("popstate",Re)}onHashChange(Re){const Ye=l().getGlobalEventTarget(this._doc,"window");return Ye.addEventListener("hashchange",Re,!1),()=>Ye.removeEventListener("hashchange",Re)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Re){this._location.pathname=Re}pushState(Re,Ye,xt){this._history.pushState(Re,Ye,xt)}replaceState(Re,Ye,xt){this._history.replaceState(Re,Ye,xt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Re=0){this._history.go(Re)}getState(){return this._history.state}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>new fe,providedIn:"platform"})}}return fe})();function C(fe,Xe){if(0==fe.length)return Xe;if(0==Xe.length)return fe;let Re=0;return fe.endsWith("/")&&Re++,Xe.startsWith("/")&&Re++,2==Re?fe+Xe.substring(1):1==Re?fe+Xe:fe+"/"+Xe}function O(fe){const Xe=fe.match(/#|\?|$/),Re=Xe&&Xe.index||fe.length;return fe.slice(0,Re-("/"===fe[Re-1]?1:0))+fe.slice(Re)}function I(fe){return fe&&"?"!==fe[0]?"?"+fe:fe}let D=(()=>{class fe{historyGo(Re){throw new Error("")}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>(0,i.WQX)(h),providedIn:"root"})}}return fe})();const R=new i.nKC("");let h=(()=>{class fe extends D{constructor(Re,Ye){super(),this._platformLocation=Re,this._removeListenerFns=[],this._baseHref=Ye??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(p).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}prepareExternalUrl(Re){return C(this._baseHref,Re)}path(Re=!1){const Ye=this._platformLocation.pathname+I(this._platformLocation.search),xt=this._platformLocation.hash;return xt&&Re?`${Ye}${xt}`:Ye}pushState(Re,Ye,xt,vn){const wn=this.prepareExternalUrl(xt+I(vn));this._platformLocation.pushState(Re,Ye,wn)}replaceState(Re,Ye,xt,vn){const wn=this.prepareExternalUrl(xt+I(vn));this._platformLocation.replaceState(Re,Ye,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.KVO(_),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac,providedIn:"root"})}}return fe})(),w=(()=>{class fe extends D{constructor(Re,Ye){super(),this._platformLocation=Re,this._baseHref="",this._removeListenerFns=[],null!=Ye&&(this._baseHref=Ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Re){this._removeListenerFns.push(this._platformLocation.onPopState(Re),this._platformLocation.onHashChange(Re))}getBaseHref(){return this._baseHref}path(Re=!1){const Ye=this._platformLocation.hash??"#";return Ye.length>0?Ye.substring(1):Ye}prepareExternalUrl(Re){const Ye=C(this._baseHref,Re);return Ye.length>0?"#"+Ye:Ye}pushState(Re,Ye,xt,vn){let wn=this.prepareExternalUrl(xt+I(vn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.pushState(Re,Ye,wn)}replaceState(Re,Ye,xt,vn){let wn=this.prepareExternalUrl(xt+I(vn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.replaceState(Re,Ye,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Re=0){this._platformLocation.historyGo?.(Re)}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.KVO(_),i.KVO(R,8))}}static{this.\u0275prov=i.jDH({token:fe,factory:fe.\u0275fac})}}return fe})(),b=(()=>{class fe{constructor(Re){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Re;const Ye=this._locationStrategy.getBaseHref();this._basePath=function B(fe){if(new RegExp("^(https?:)?//").test(fe)){const[,Re]=fe.split(/\/\/[^\/]+/);return Re}return fe}(O(L(Ye))),this._locationStrategy.onPopState(xt=>{this._subject.emit({url:this.path(!0),pop:!0,state:xt.state,type:xt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Re=!1){return this.normalize(this._locationStrategy.path(Re))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Re,Ye=""){return this.path()==this.normalize(Re+I(Ye))}normalize(Re){return fe.stripTrailingSlash(function M(fe,Xe){if(!fe||!Xe.startsWith(fe))return Xe;const Re=Xe.substring(fe.length);return""===Re||["/",";","?","#"].includes(Re[0])?Re:Xe}(this._basePath,L(Re)))}prepareExternalUrl(Re){return Re&&"/"!==Re[0]&&(Re="/"+Re),this._locationStrategy.prepareExternalUrl(Re)}go(Re,Ye="",xt=null){this._locationStrategy.pushState(xt,"",Re,Ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+I(Ye)),xt)}replaceState(Re,Ye="",xt=null){this._locationStrategy.replaceState(xt,"",Re,Ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(Re+I(Ye)),xt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Re=0){this._locationStrategy.historyGo?.(Re)}onUrlChange(Re){return this._urlChangeListeners.push(Re),this._urlChangeSubscription??=this.subscribe(Ye=>{this._notifyUrlChangeListeners(Ye.url,Ye.state)}),()=>{const Ye=this._urlChangeListeners.indexOf(Re);this._urlChangeListeners.splice(Ye,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Re="",Ye){this._urlChangeListeners.forEach(xt=>xt(Re,Ye))}subscribe(Re,Ye,xt){return this._subject.subscribe({next:Re,error:Ye,complete:xt})}static{this.normalizeQueryParams=I}static{this.joinWithSlash=C}static{this.stripTrailingSlash=O}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.KVO(D))}}static{this.\u0275prov=i.jDH({token:fe,factory:()=>function P(){return new b((0,i.KVO)(D))}(),providedIn:"root"})}}return fe})();function L(fe){return fe.replace(/\/index.html$/,"")}var G=function(fe){return fe[fe.Format=0]="Format",fe[fe.Standalone=1]="Standalone",fe}(G||{}),z=function(fe){return fe[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe}(z||{}),V=function(fe){return fe[fe.Short=0]="Short",fe[fe.Medium=1]="Medium",fe[fe.Long=2]="Long",fe[fe.Full=3]="Full",fe}(V||{});const X={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Z(fe,Xe,Re){const Ye=(0,i.H5H)(fe),vn=Ge([Ye[i.KH2.DayPeriodsFormat],Ye[i.KH2.DayPeriodsStandalone]],Xe);return Ge(vn,Re)}function H(fe,Xe,Re){const Ye=(0,i.H5H)(fe),vn=Ge([Ye[i.KH2.DaysFormat],Ye[i.KH2.DaysStandalone]],Xe);return Ge(vn,Re)}function Y(fe,Xe,Re){const Ye=(0,i.H5H)(fe),vn=Ge([Ye[i.KH2.MonthsFormat],Ye[i.KH2.MonthsStandalone]],Xe);return Ge(vn,Re)}function pe(fe,Xe){return Ge((0,i.H5H)(fe)[i.KH2.DateFormat],Xe)}function ne(fe,Xe){return Ge((0,i.H5H)(fe)[i.KH2.TimeFormat],Xe)}function re(fe,Xe){return Ge((0,i.H5H)(fe)[i.KH2.DateTimeFormat],Xe)}function Ce(fe,Xe){const Re=(0,i.H5H)(fe),Ye=Re[i.KH2.NumberSymbols][Xe];if(typeof Ye>"u"){if(Xe===X.CurrencyDecimal)return Re[i.KH2.NumberSymbols][X.Decimal];if(Xe===X.CurrencyGroup)return Re[i.KH2.NumberSymbols][X.Group]}return Ye}function _t(fe){if(!fe[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${fe[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ge(fe,Xe){for(let Re=Xe;Re>-1;Re--)if(typeof fe[Re]<"u")return fe[Re];throw new Error("Locale data API: locale data undefined")}function gt(fe){const[Xe,Re]=fe.split(":");return{hours:+Xe,minutes:+Re}}const at=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nt={},lt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ve=function(fe){return fe[fe.Short=0]="Short",fe[fe.ShortGMT=1]="ShortGMT",fe[fe.Long=2]="Long",fe[fe.Extended=3]="Extended",fe}(ve||{}),Ne=function(fe){return fe[fe.FullYear=0]="FullYear",fe[fe.Month=1]="Month",fe[fe.Date=2]="Date",fe[fe.Hours=3]="Hours",fe[fe.Minutes=4]="Minutes",fe[fe.Seconds=5]="Seconds",fe[fe.FractionalSeconds=6]="FractionalSeconds",fe[fe.Day=7]="Day",fe}(Ne||{}),ut=function(fe){return fe[fe.DayPeriods=0]="DayPeriods",fe[fe.Days=1]="Days",fe[fe.Months=2]="Months",fe[fe.Eras=3]="Eras",fe}(ut||{});function cn(fe,Xe,Re,Ye){let xt=function Je(fe){if(Et(fe))return fe;if("number"==typeof fe&&!isNaN(fe))return new Date(fe);if("string"==typeof fe){if(fe=fe.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(fe)){const[xt,vn=1,wn=1]=fe.split("-").map(ts=>+ts);return nn(xt,vn-1,wn)}const Re=parseFloat(fe);if(!isNaN(fe-Re))return new Date(Re);let Ye;if(Ye=fe.match(at))return function Nt(fe){const Xe=new Date(0);let Re=0,Ye=0;const xt=fe[8]?Xe.setUTCFullYear:Xe.setFullYear,vn=fe[8]?Xe.setUTCHours:Xe.setHours;fe[9]&&(Re=Number(fe[9]+fe[10]),Ye=Number(fe[9]+fe[11])),xt.call(Xe,Number(fe[1]),Number(fe[2])-1,Number(fe[3]));const wn=Number(fe[4]||0)-Re,ts=Number(fe[5]||0)-Ye,Us=Number(fe[6]||0),As=Math.floor(1e3*parseFloat("0."+(fe[7]||0)));return vn.call(Xe,wn,ts,Us,As),Xe}(Ye)}const Xe=new Date(fe);if(!Et(Xe))throw new Error(`Unable to convert "${fe}" into a date`);return Xe}(fe);Xe=Mn(Re,Xe)||Xe;let ts,wn=[];for(;Xe;){if(ts=lt.exec(Xe),!ts){wn.push(Xe);break}{wn=wn.concat(ts.slice(1));const Gn=wn.pop();if(!Gn)break;Xe=Gn}}let Us=xt.getTimezoneOffset();Ye&&(Us=He(Ye,Us),xt=function Pt(fe,Xe,Re){const Ye=Re?-1:1,xt=fe.getTimezoneOffset();return function Be(fe,Xe){return(fe=new Date(fe.getTime())).setMinutes(fe.getMinutes()+Xe),fe}(fe,Ye*(He(Xe,xt)-xt))}(xt,Ye,!0));let As="";return wn.forEach(Gn=>{const ei=function je(fe){if(Le[fe])return Le[fe];let Xe;switch(fe){case"G":case"GG":case"GGG":Xe=It(ut.Eras,z.Abbreviated);break;case"GGGG":Xe=It(ut.Eras,z.Wide);break;case"GGGGG":Xe=It(ut.Eras,z.Narrow);break;case"y":Xe=Jt(Ne.FullYear,1,0,!1,!0);break;case"yy":Xe=Jt(Ne.FullYear,2,0,!0,!0);break;case"yyy":Xe=Jt(Ne.FullYear,3,0,!1,!0);break;case"yyyy":Xe=Jt(Ne.FullYear,4,0,!1,!0);break;case"Y":Xe=st(1);break;case"YY":Xe=st(2,!0);break;case"YYY":Xe=st(3);break;case"YYYY":Xe=st(4);break;case"M":case"L":Xe=Jt(Ne.Month,1,1);break;case"MM":case"LL":Xe=Jt(Ne.Month,2,1);break;case"MMM":Xe=It(ut.Months,z.Abbreviated);break;case"MMMM":Xe=It(ut.Months,z.Wide);break;case"MMMMM":Xe=It(ut.Months,z.Narrow);break;case"LLL":Xe=It(ut.Months,z.Abbreviated,G.Standalone);break;case"LLLL":Xe=It(ut.Months,z.Wide,G.Standalone);break;case"LLLLL":Xe=It(ut.Months,z.Narrow,G.Standalone);break;case"w":Xe=Lt(1);break;case"ww":Xe=Lt(2);break;case"W":Xe=Lt(1,!0);break;case"d":Xe=Jt(Ne.Date,1);break;case"dd":Xe=Jt(Ne.Date,2);break;case"c":case"cc":Xe=Jt(Ne.Day,1);break;case"ccc":Xe=It(ut.Days,z.Abbreviated,G.Standalone);break;case"cccc":Xe=It(ut.Days,z.Wide,G.Standalone);break;case"ccccc":Xe=It(ut.Days,z.Narrow,G.Standalone);break;case"cccccc":Xe=It(ut.Days,z.Short,G.Standalone);break;case"E":case"EE":case"EEE":Xe=It(ut.Days,z.Abbreviated);break;case"EEEE":Xe=It(ut.Days,z.Wide);break;case"EEEEE":Xe=It(ut.Days,z.Narrow);break;case"EEEEEE":Xe=It(ut.Days,z.Short);break;case"a":case"aa":case"aaa":Xe=It(ut.DayPeriods,z.Abbreviated);break;case"aaaa":Xe=It(ut.DayPeriods,z.Wide);break;case"aaaaa":Xe=It(ut.DayPeriods,z.Narrow);break;case"b":case"bb":case"bbb":Xe=It(ut.DayPeriods,z.Abbreviated,G.Standalone,!0);break;case"bbbb":Xe=It(ut.DayPeriods,z.Wide,G.Standalone,!0);break;case"bbbbb":Xe=It(ut.DayPeriods,z.Narrow,G.Standalone,!0);break;case"B":case"BB":case"BBB":Xe=It(ut.DayPeriods,z.Abbreviated,G.Format,!0);break;case"BBBB":Xe=It(ut.DayPeriods,z.Wide,G.Format,!0);break;case"BBBBB":Xe=It(ut.DayPeriods,z.Narrow,G.Format,!0);break;case"h":Xe=Jt(Ne.Hours,1,-12);break;case"hh":Xe=Jt(Ne.Hours,2,-12);break;case"H":Xe=Jt(Ne.Hours,1);break;case"HH":Xe=Jt(Ne.Hours,2);break;case"m":Xe=Jt(Ne.Minutes,1);break;case"mm":Xe=Jt(Ne.Minutes,2);break;case"s":Xe=Jt(Ne.Seconds,1);break;case"ss":Xe=Jt(Ne.Seconds,2);break;case"S":Xe=Jt(Ne.FractionalSeconds,1);break;case"SS":Xe=Jt(Ne.FractionalSeconds,2);break;case"SSS":Xe=Jt(Ne.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Xe=Ht(ve.Short);break;case"ZZZZZ":Xe=Ht(ve.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Xe=Ht(ve.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Xe=Ht(ve.Long);break;default:return null}return Le[fe]=Xe,Xe}(Gn);As+=ei?ei(xt,Re,Us):"''"===Gn?"'":Gn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),As}function nn(fe,Xe,Re){const Ye=new Date(0);return Ye.setFullYear(fe,Xe,Re),Ye.setHours(0,0,0),Ye}function Mn(fe,Xe){const Re=function q(fe){return(0,i.H5H)(fe)[i.KH2.LocaleId]}(fe);if(nt[Re]??={},nt[Re][Xe])return nt[Re][Xe];let Ye="";switch(Xe){case"shortDate":Ye=pe(fe,V.Short);break;case"mediumDate":Ye=pe(fe,V.Medium);break;case"longDate":Ye=pe(fe,V.Long);break;case"fullDate":Ye=pe(fe,V.Full);break;case"shortTime":Ye=ne(fe,V.Short);break;case"mediumTime":Ye=ne(fe,V.Medium);break;case"longTime":Ye=ne(fe,V.Long);break;case"fullTime":Ye=ne(fe,V.Full);break;case"short":const xt=Mn(fe,"shortTime"),vn=Mn(fe,"shortDate");Ye=Tt(re(fe,V.Short),[xt,vn]);break;case"medium":const wn=Mn(fe,"mediumTime"),ts=Mn(fe,"mediumDate");Ye=Tt(re(fe,V.Medium),[wn,ts]);break;case"long":const Us=Mn(fe,"longTime"),As=Mn(fe,"longDate");Ye=Tt(re(fe,V.Long),[Us,As]);break;case"full":const Gn=Mn(fe,"fullTime"),ei=Mn(fe,"fullDate");Ye=Tt(re(fe,V.Full),[Gn,ei])}return Ye&&(nt[Re][Xe]=Ye),Ye}function Tt(fe,Xe){return Xe&&(fe=fe.replace(/\{([^}]+)}/g,function(Re,Ye){return null!=Xe&&Ye in Xe?Xe[Ye]:Re})),fe}function $t(fe,Xe,Re="-",Ye,xt){let vn="";(fe<0||xt&&fe<=0)&&(xt?fe=1-fe:(fe=-fe,vn=Re));let wn=String(fe);for(;wn.length<Xe;)wn="0"+wn;return Ye&&(wn=wn.slice(wn.length-Xe)),vn+wn}function Jt(fe,Xe,Re=0,Ye=!1,xt=!1){return function(vn,wn){let ts=function ln(fe,Xe){switch(fe){case Ne.FullYear:return Xe.getFullYear();case Ne.Month:return Xe.getMonth();case Ne.Date:return Xe.getDate();case Ne.Hours:return Xe.getHours();case Ne.Minutes:return Xe.getMinutes();case Ne.Seconds:return Xe.getSeconds();case Ne.FractionalSeconds:return Xe.getMilliseconds();case Ne.Day:return Xe.getDay();default:throw new Error(`Unknown DateType value "${fe}".`)}}(fe,vn);if((Re>0||ts>-Re)&&(ts+=Re),fe===Ne.Hours)0===ts&&-12===Re&&(ts=12);else if(fe===Ne.FractionalSeconds)return function St(fe,Xe){return $t(fe,3).substring(0,Xe)}(ts,Xe);const Us=Ce(wn,X.MinusSign);return $t(ts,Xe,Us,Ye,xt)}}function It(fe,Xe,Re=G.Format,Ye=!1){return function(xt,vn){return function zt(fe,Xe,Re,Ye,xt,vn){switch(Re){case ut.Months:return Y(Xe,xt,Ye)[fe.getMonth()];case ut.Days:return H(Xe,xt,Ye)[fe.getDay()];case ut.DayPeriods:const wn=fe.getHours(),ts=fe.getMinutes();if(vn){const As=function We(fe){const Xe=(0,i.H5H)(fe);return _t(Xe),(Xe[i.KH2.ExtraData][2]||[]).map(Ye=>"string"==typeof Ye?gt(Ye):[gt(Ye[0]),gt(Ye[1])])}(Xe),Gn=function dt(fe,Xe,Re){const Ye=(0,i.H5H)(fe);_t(Ye);const vn=Ge([Ye[i.KH2.ExtraData][0],Ye[i.KH2.ExtraData][1]],Xe)||[];return Ge(vn,Re)||[]}(Xe,xt,Ye),ei=As.findIndex(Li=>{if(Array.isArray(Li)){const[Ii,dr]=Li,Zr=wn>=Ii.hours&&ts>=Ii.minutes,gi=wn<dr.hours||wn===dr.hours&&ts<dr.minutes;if(Ii.hours<dr.hours){if(Zr&&gi)return!0}else if(Zr||gi)return!0}else if(Li.hours===wn&&Li.minutes===ts)return!0;return!1});if(-1!==ei)return Gn[ei]}return Z(Xe,xt,Ye)[wn<12?0:1];case ut.Eras:return function Q(fe,Xe){return Ge((0,i.H5H)(fe)[i.KH2.Eras],Xe)}(Xe,Ye)[fe.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Re}`)}}(xt,vn,fe,Xe,Re,Ye)}}function Ht(fe){return function(Xe,Re,Ye){const xt=-1*Ye,vn=Ce(Re,X.MinusSign),wn=xt>0?Math.floor(xt/60):Math.ceil(xt/60);switch(fe){case ve.Short:return(xt>=0?"+":"")+$t(wn,2,vn)+$t(Math.abs(xt%60),2,vn);case ve.ShortGMT:return"GMT"+(xt>=0?"+":"")+$t(wn,1,vn);case ve.Long:return"GMT"+(xt>=0?"+":"")+$t(wn,2,vn)+":"+$t(Math.abs(xt%60),2,vn);case ve.Extended:return 0===Ye?"Z":(xt>=0?"+":"")+$t(wn,2,vn)+":"+$t(Math.abs(xt%60),2,vn);default:throw new Error(`Unknown zone width "${fe}"`)}}}const At=0,Ot=4;function Dt(fe){const Xe=fe.getDay(),Re=0===Xe?-3:Ot-Xe;return nn(fe.getFullYear(),fe.getMonth(),fe.getDate()+Re)}function Lt(fe,Xe=!1){return function(Re,Ye){let xt;if(Xe){const vn=new Date(Re.getFullYear(),Re.getMonth(),1).getDay()-1,wn=Re.getDate();xt=1+Math.floor((wn+vn)/7)}else{const vn=Dt(Re),wn=function Zt(fe){const Xe=nn(fe,At,1).getDay();return nn(fe,0,1+(Xe<=Ot?Ot:Ot+7)-Xe)}(vn.getFullYear()),ts=vn.getTime()-wn.getTime();xt=1+Math.round(ts/6048e5)}return $t(xt,fe,Ce(Ye,X.MinusSign))}}function st(fe,Xe=!1){return function(Re,Ye){return $t(Dt(Re).getFullYear(),fe,Ce(Ye,X.MinusSign),Xe)}}const Le={};function He(fe,Xe){fe=fe.replace(/:/g,"");const Re=Date.parse("Jan 01, 1970 00:00:00 "+fe)/6e4;return isNaN(Re)?Xe:Re}function Et(fe){return fe instanceof Date&&!isNaN(fe.valueOf())}function mt(fe,Xe){Xe=encodeURIComponent(Xe);for(const Re of fe.split(";")){const Ye=Re.indexOf("="),[xt,vn]=-1==Ye?[Re,""]:[Re.slice(0,Ye),Re.slice(Ye+1)];if(xt.trim()===Xe)return decodeURIComponent(vn)}return null}const Gt=/\s+/,$e=[];let en=(()=>{class fe{constructor(Re,Ye){this._ngEl=Re,this._renderer=Ye,this.initialClasses=$e,this.stateMap=new Map}set klass(Re){this.initialClasses=null!=Re?Re.trim().split(Gt):$e}set ngClass(Re){this.rawClass="string"==typeof Re?Re.trim().split(Gt):Re}ngDoCheck(){for(const Ye of this.initialClasses)this._updateState(Ye,!0);const Re=this.rawClass;if(Array.isArray(Re)||Re instanceof Set)for(const Ye of Re)this._updateState(Ye,!0);else if(null!=Re)for(const Ye of Object.keys(Re))this._updateState(Ye,!!Re[Ye]);this._applyStateDiff()}_updateState(Re,Ye){const xt=this.stateMap.get(Re);void 0!==xt?(xt.enabled!==Ye&&(xt.changed=!0,xt.enabled=Ye),xt.touched=!0):this.stateMap.set(Re,{enabled:Ye,changed:!0,touched:!0})}_applyStateDiff(){for(const Re of this.stateMap){const Ye=Re[0],xt=Re[1];xt.changed?(this._toggleClass(Ye,xt.enabled),xt.changed=!1):xt.touched||(xt.enabled&&this._toggleClass(Ye,!1),this.stateMap.delete(Ye)),xt.touched=!1}}_toggleClass(Re,Ye){(Re=Re.trim()).length>0&&Re.split(Gt).forEach(xt=>{Ye?this._renderer.addClass(this._ngEl.nativeElement,xt):this._renderer.removeClass(this._ngEl.nativeElement,xt)})}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return fe})(),rt=(()=>{class fe{constructor(Re){this._viewContainerRef=Re,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(Re){return void 0!==Re.ngComponentOutletNgModule||void 0!==Re.ngComponentOutletNgModuleFactory}_needToReCreateComponentInstance(Re){return void 0!==Re.ngComponentOutlet||void 0!==Re.ngComponentOutletContent||void 0!==Re.ngComponentOutletInjector||this._needToReCreateNgModuleInstance(Re)}ngOnChanges(Re){if(this._needToReCreateComponentInstance(Re)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){const Ye=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(Re)&&(this._moduleRef?.destroy(),this._moduleRef=this.ngComponentOutletNgModule?(0,i.w6W)(this.ngComponentOutletNgModule,ht(Ye)):this.ngComponentOutletNgModuleFactory?this.ngComponentOutletNgModuleFactory.create(ht(Ye)):void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:Ye,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(const Re of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(Re,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(Re){for(const[Ye,xt]of this._inputsUsed)xt?(Re.setInput(Ye,this.ngComponentOutletInputs[Ye]),this._inputsUsed.set(Ye,!1)):(Re.setInput(Ye,void 0),this._inputsUsed.delete(Ye))}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[i.OA$]})}}return fe})();function ht(fe){return fe.get(i.Vns).injector}class Ct{constructor(Xe,Re,Ye,xt){this.$implicit=Xe,this.ngForOf=Re,this.index=Ye,this.count=xt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kt=(()=>{class fe{set ngForOf(Re){this._ngForOf=Re,this._ngForOfDirty=!0}set ngForTrackBy(Re){this._trackByFn=Re}get ngForTrackBy(){return this._trackByFn}constructor(Re,Ye,xt){this._viewContainer=Re,this._template=Ye,this._differs=xt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Re){Re&&(this._template=Re)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Re=this._ngForOf;!this._differ&&Re&&(this._differ=this._differs.find(Re).create(this.ngForTrackBy))}if(this._differ){const Re=this._differ.diff(this._ngForOf);Re&&this._applyChanges(Re)}}_applyChanges(Re){const Ye=this._viewContainer;Re.forEachOperation((xt,vn,wn)=>{if(null==xt.previousIndex)Ye.createEmbeddedView(this._template,new Ct(xt.item,this._ngForOf,-1,-1),null===wn?void 0:wn);else if(null==wn)Ye.remove(null===vn?void 0:vn);else if(null!==vn){const ts=Ye.get(vn);Ye.move(ts,wn),sn(ts,xt)}});for(let xt=0,vn=Ye.length;xt<vn;xt++){const ts=Ye.get(xt).context;ts.index=xt,ts.count=vn,ts.ngForOf=this._ngForOf}Re.forEachIdentityChange(xt=>{sn(Ye.get(xt.currentIndex),xt)})}static ngTemplateContextGuard(Re,Ye){return!0}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return fe})();function sn(fe,Xe){fe.context.$implicit=Xe.item}let Vn=(()=>{class fe{constructor(Re,Ye){this._viewContainer=Re,this._context=new Ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Ye}set ngIf(Re){this._context.$implicit=this._context.ngIf=Re,this._updateView()}set ngIfThen(Re){ms("ngIfThen",Re),this._thenTemplateRef=Re,this._thenViewRef=null,this._updateView()}set ngIfElse(Re){ms("ngIfElse",Re),this._elseTemplateRef=Re,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Re,Ye){return!0}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return fe})();class Ln{constructor(){this.$implicit=null,this.ngIf=null}}function ms(fe,Xe){if(Xe&&!Xe.createEmbeddedView)throw new Error(`${fe} must be a TemplateRef, but received '${(0,i.Tbb)(Xe)}'.`)}class ys{constructor(Xe,Re){this._viewContainerRef=Xe,this._templateRef=Re,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Xe){Xe&&!this._created?this.create():!Xe&&this._created&&this.destroy()}}let ls=(()=>{class fe{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Re){this._ngSwitch=Re,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Re){this._defaultViews.push(Re)}_matchCase(Re){const Ye=Re===this._ngSwitch;return this._lastCasesMatched||=Ye,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Ye}_updateDefaultCases(Re){if(this._defaultViews.length>0&&Re!==this._defaultUsed){this._defaultUsed=Re;for(const Ye of this._defaultViews)Ye.enforceState(Re)}}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return fe})(),Ds=(()=>{class fe{constructor(Re,Ye,xt){this.ngSwitch=xt,xt._addCase(),this._view=new ys(Re,Ye)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(ls,9))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return fe})(),Zi=(()=>{class fe{constructor(Re,Ye,xt){this._ngEl=Re,this._differs=Ye,this._renderer=xt,this._ngStyle=null,this._differ=null}set ngStyle(Re){this._ngStyle=Re,!this._differ&&Re&&(this._differ=this._differs.find(Re).create())}ngDoCheck(){if(this._differ){const Re=this._differ.diff(this._ngStyle);Re&&this._applyChanges(Re)}}_setStyle(Re,Ye){const[xt,vn]=Re.split("."),wn=-1===xt.indexOf("-")?void 0:i.czy.DashCase;null!=Ye?this._renderer.setStyle(this._ngEl.nativeElement,xt,vn?`${Ye}${vn}`:Ye,wn):this._renderer.removeStyle(this._ngEl.nativeElement,xt,wn)}_applyChanges(Re){Re.forEachRemovedItem(Ye=>this._setStyle(Ye.key,null)),Re.forEachAddedItem(Ye=>this._setStyle(Ye.key,Ye.currentValue)),Re.forEachChangedItem(Ye=>this._setStyle(Ye.key,Ye.currentValue))}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.aKT),i.rXU(i.MKu),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return fe})(),Ms=(()=>{class fe{constructor(Re){this._viewContainerRef=Re,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Re){if(this._shouldRecreateView(Re)){const Ye=this._viewContainerRef;if(this._viewRef&&Ye.remove(Ye.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const xt=this._createContextForwardProxy();this._viewRef=Ye.createEmbeddedView(this.ngTemplateOutlet,xt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Re){return!!Re.ngTemplateOutlet||!!Re.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Re,Ye,xt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Ye,xt),get:(Re,Ye,xt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Ye,xt)}})}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:fe,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return fe})();function $i(fe,Xe){return new i.wOt(2100,!1)}class po{createSubscription(Xe,Re){return(0,i.O8t)(()=>Xe.subscribe({next:Re,error:Ye=>{throw Ye}}))}dispose(Xe){(0,i.O8t)(()=>Xe.unsubscribe())}}class Ti{createSubscription(Xe,Re){return Xe.then(Re,Ye=>{throw Ye})}dispose(Xe){}}const Bt=new Ti,gn=new po;let tn=(()=>{class fe{constructor(Re){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Re}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Re){if(!this._obj){if(Re)try{this.markForCheckOnValueUpdate=!1,this._subscribe(Re)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return Re!==this._obj?(this._dispose(),this.transform(Re)):this._latestValue}_subscribe(Re){this._obj=Re,this._strategy=this._selectStrategy(Re),this._subscription=this._strategy.createSubscription(Re,Ye=>this._updateLatestValue(Re,Ye))}_selectStrategy(Re){if((0,i.jNT)(Re))return Bt;if((0,i.zjR)(Re))return gn;throw $i()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Re,Ye){Re===this._obj&&(this._latestValue=Ye,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.gRc,16))}}static{this.\u0275pipe=i.EJ8({name:"async",type:fe,pure:!1,standalone:!0})}}return fe})(),Wt=(()=>{class fe{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw $i();return Re.toLowerCase()}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275pipe=i.EJ8({name:"lowercase",type:fe,pure:!0,standalone:!0})}}return fe})();const bn=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let $n=(()=>{class fe{transform(Re){if(null==Re)return null;if("string"!=typeof Re)throw $i();return Re.replace(bn,Ye=>Ye[0].toUpperCase()+Ye.slice(1).toLowerCase())}static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275pipe=i.EJ8({name:"titlecase",type:fe,pure:!0,standalone:!0})}}return fe})();const Ei=new i.nKC(""),ar=new i.nKC("");let fi=(()=>{class fe{constructor(Re,Ye,xt){this.locale=Re,this.defaultTimezone=Ye,this.defaultOptions=xt}transform(Re,Ye,xt,vn){if(null==Re||""===Re||Re!=Re)return null;try{return cn(Re,Ye??this.defaultOptions?.dateFormat??"mediumDate",vn||this.locale,xt??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(wn){throw $i()}}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.xe9,16),i.rXU(Ei,24),i.rXU(ar,24))}}static{this.\u0275pipe=i.EJ8({name:"date",type:fe,pure:!0,standalone:!0})}}return fe})(),mo=(()=>{class fe{constructor(Re){this.differs=Re,this.keyValues=[],this.compareFn=kr}transform(Re,Ye=kr){if(!Re||!(Re instanceof Map)&&"object"!=typeof Re)return null;this.differ??=this.differs.find(Re).create();const xt=this.differ.diff(Re),vn=Ye!==this.compareFn;return xt&&(this.keyValues=[],xt.forEachItem(wn=>{this.keyValues.push(function wo(fe,Xe){return{key:fe,value:Xe}}(wn.key,wn.currentValue))})),(xt||vn)&&(this.keyValues.sort(Ye),this.compareFn=Ye),this.keyValues}static{this.\u0275fac=function(Ye){return new(Ye||fe)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:fe,pure:!1,standalone:!0})}}return fe})();function kr(fe,Xe){const Re=fe.key,Ye=Xe.key;if(Re===Ye)return 0;if(void 0===Re)return 1;if(void 0===Ye)return-1;if(null===Re)return 1;if(null===Ye)return-1;if("string"==typeof Re&&"string"==typeof Ye)return Re<Ye?-1:1;if("number"==typeof Re&&"number"==typeof Ye)return Re-Ye;if("boolean"==typeof Re&&"boolean"==typeof Ye)return Re<Ye?-1:1;const xt=String(Re),vn=String(Ye);return xt==vn?0:xt<vn?-1:1}let Uo=(()=>{class fe{static{this.\u0275fac=function(Ye){return new(Ye||fe)}}static{this.\u0275mod=i.$C({type:fe})}static{this.\u0275inj=i.G2t({})}}return fe})();const Or="browser",_o="server";function Jr(fe){return fe===Or}function Do(fe){return fe===_o}let Ze=(()=>{class fe{static{this.\u0275prov=(0,i.jDH)({token:fe,providedIn:"root",factory:()=>Jr((0,i.WQX)(i.Agw))?new ot((0,i.WQX)(p),window):new Ut})}}return fe})();class ot{constructor(Xe,Re){this.document=Xe,this.window=Re,this.offset=()=>[0,0]}setOffset(Xe){this.offset=Array.isArray(Xe)?()=>Xe:Xe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Xe){this.window.scrollTo(Xe[0],Xe[1])}scrollToAnchor(Xe){const Re=function Ft(fe,Xe){const Re=fe.getElementById(Xe)||fe.getElementsByName(Xe)[0];if(Re)return Re;if("function"==typeof fe.createTreeWalker&&fe.body&&"function"==typeof fe.body.attachShadow){const Ye=fe.createTreeWalker(fe.body,NodeFilter.SHOW_ELEMENT);let xt=Ye.currentNode;for(;xt;){const vn=xt.shadowRoot;if(vn){const wn=vn.getElementById(Xe)||vn.querySelector(`[name="${Xe}"]`);if(wn)return wn}xt=Ye.nextNode()}}return null}(this.document,Xe);Re&&(this.scrollToElement(Re),Re.focus())}setHistoryScrollRestoration(Xe){this.window.history.scrollRestoration=Xe}scrollToElement(Xe){const Re=Xe.getBoundingClientRect(),Ye=Re.left+this.window.pageXOffset,xt=Re.top+this.window.pageYOffset,vn=this.offset();this.window.scrollTo(Ye-vn[0],xt-vn[1])}}class Ut{setOffset(Xe){}getScrollPosition(){return[0,0]}scrollToPosition(Xe){}scrollToAnchor(Xe){}setHistoryScrollRestoration(Xe){}}class Dn{}},21626:(N,T,n)=>{"use strict";n.d(T,{$R:()=>Be,$m:()=>Ps,B3:()=>Dt,Lr:()=>R,Nl:()=>U,Qq:()=>ne,Sx:()=>Nt,a7:()=>dt,cS:()=>Q,yz:()=>ie}),n(74523);var t=n(54438),l=n(7673),e=n(71985),f=n(22806),m=n(70274),p=n(5964),_=n(96354),v=n(70980),y=n(25558),C=n(88141),O=n(60177);class I{}class D{}class R{constructor(Gt){this.normalizedNames=new Map,this.lazyUpdate=null,Gt?"string"==typeof Gt?this.lazyInit=()=>{this.headers=new Map,Gt.split("\n").forEach($e=>{const en=$e.indexOf(":");if(en>0){const rt=$e.slice(0,en),ht=rt.toLowerCase(),Ct=$e.slice(en+1).trim();this.maybeSetNormalizedName(rt,ht),this.headers.has(ht)?this.headers.get(ht).push(Ct):this.headers.set(ht,[Ct])}})}:typeof Headers<"u"&&Gt instanceof Headers?(this.headers=new Map,Gt.forEach(($e,en)=>{this.setHeaderEntries(en,$e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Gt).forEach(([$e,en])=>{this.setHeaderEntries($e,en)})}:this.headers=new Map}has(Gt){return this.init(),this.headers.has(Gt.toLowerCase())}get(Gt){this.init();const $e=this.headers.get(Gt.toLowerCase());return $e&&$e.length>0?$e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Gt){return this.init(),this.headers.get(Gt.toLowerCase())||null}append(Gt,$e){return this.clone({name:Gt,value:$e,op:"a"})}set(Gt,$e){return this.clone({name:Gt,value:$e,op:"s"})}delete(Gt,$e){return this.clone({name:Gt,value:$e,op:"d"})}maybeSetNormalizedName(Gt,$e){this.normalizedNames.has($e)||this.normalizedNames.set($e,Gt)}init(){this.lazyInit&&(this.lazyInit instanceof R?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Gt=>this.applyUpdate(Gt)),this.lazyUpdate=null))}copyFrom(Gt){Gt.init(),Array.from(Gt.headers.keys()).forEach($e=>{this.headers.set($e,Gt.headers.get($e)),this.normalizedNames.set($e,Gt.normalizedNames.get($e))})}clone(Gt){const $e=new R;return $e.lazyInit=this.lazyInit&&this.lazyInit instanceof R?this.lazyInit:this,$e.lazyUpdate=(this.lazyUpdate||[]).concat([Gt]),$e}applyUpdate(Gt){const $e=Gt.name.toLowerCase();switch(Gt.op){case"a":case"s":let en=Gt.value;if("string"==typeof en&&(en=[en]),0===en.length)return;this.maybeSetNormalizedName(Gt.name,$e);const rt=("a"===Gt.op?this.headers.get($e):void 0)||[];rt.push(...en),this.headers.set($e,rt);break;case"d":const ht=Gt.value;if(ht){let Ct=this.headers.get($e);if(!Ct)return;Ct=Ct.filter(kt=>-1===ht.indexOf(kt)),0===Ct.length?(this.headers.delete($e),this.normalizedNames.delete($e)):this.headers.set($e,Ct)}else this.headers.delete($e),this.normalizedNames.delete($e)}}setHeaderEntries(Gt,$e){const en=(Array.isArray($e)?$e:[$e]).map(ht=>ht.toString()),rt=Gt.toLowerCase();this.headers.set(rt,en),this.maybeSetNormalizedName(Gt,rt)}forEach(Gt){this.init(),Array.from(this.normalizedNames.keys()).forEach($e=>Gt(this.normalizedNames.get($e),this.headers.get($e)))}}class w{encodeKey(Gt){return L(Gt)}encodeValue(Gt){return L(Gt)}decodeKey(Gt){return decodeURIComponent(Gt)}decodeValue(Gt){return decodeURIComponent(Gt)}}const P=/%(\d[a-f0-9])/gi,M={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function L(mt){return encodeURIComponent(mt).replace(P,(Gt,$e)=>M[$e]??Gt)}function B(mt){return`${mt}`}class U{constructor(Gt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Gt.encoder||new w,Gt.fromString){if(Gt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function b(mt,Gt){const $e=new Map;return mt.length>0&&mt.replace(/^\?/,"").split("&").forEach(rt=>{const ht=rt.indexOf("="),[Ct,kt]=-1==ht?[Gt.decodeKey(rt),""]:[Gt.decodeKey(rt.slice(0,ht)),Gt.decodeValue(rt.slice(ht+1))],sn=$e.get(Ct)||[];sn.push(kt),$e.set(Ct,sn)}),$e}(Gt.fromString,this.encoder)}else Gt.fromObject?(this.map=new Map,Object.keys(Gt.fromObject).forEach($e=>{const en=Gt.fromObject[$e],rt=Array.isArray(en)?en.map(B):[B(en)];this.map.set($e,rt)})):this.map=null}has(Gt){return this.init(),this.map.has(Gt)}get(Gt){this.init();const $e=this.map.get(Gt);return $e?$e[0]:null}getAll(Gt){return this.init(),this.map.get(Gt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Gt,$e){return this.clone({param:Gt,value:$e,op:"a"})}appendAll(Gt){const $e=[];return Object.keys(Gt).forEach(en=>{const rt=Gt[en];Array.isArray(rt)?rt.forEach(ht=>{$e.push({param:en,value:ht,op:"a"})}):$e.push({param:en,value:rt,op:"a"})}),this.clone($e)}set(Gt,$e){return this.clone({param:Gt,value:$e,op:"s"})}delete(Gt,$e){return this.clone({param:Gt,value:$e,op:"d"})}toString(){return this.init(),this.keys().map(Gt=>{const $e=this.encoder.encodeKey(Gt);return this.map.get(Gt).map(en=>$e+"="+this.encoder.encodeValue(en)).join("&")}).filter(Gt=>""!==Gt).join("&")}clone(Gt){const $e=new U({encoder:this.encoder});return $e.cloneFrom=this.cloneFrom||this,$e.updates=(this.updates||[]).concat(Gt),$e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Gt=>this.map.set(Gt,this.cloneFrom.map.get(Gt))),this.updates.forEach(Gt=>{switch(Gt.op){case"a":case"s":const $e=("a"===Gt.op?this.map.get(Gt.param):void 0)||[];$e.push(B(Gt.value)),this.map.set(Gt.param,$e);break;case"d":if(void 0===Gt.value){this.map.delete(Gt.param);break}{let en=this.map.get(Gt.param)||[];const rt=en.indexOf(B(Gt.value));-1!==rt&&en.splice(rt,1),en.length>0?this.map.set(Gt.param,en):this.map.delete(Gt.param)}}}),this.cloneFrom=this.updates=null)}}class j{constructor(){this.map=new Map}set(Gt,$e){return this.map.set(Gt,$e),this}get(Gt){return this.map.has(Gt)||this.map.set(Gt,Gt.defaultValue()),this.map.get(Gt)}delete(Gt){return this.map.delete(Gt),this}has(Gt){return this.map.has(Gt)}keys(){return this.map.keys()}}function z(mt){return typeof ArrayBuffer<"u"&&mt instanceof ArrayBuffer}function V(mt){return typeof Blob<"u"&&mt instanceof Blob}function X(mt){return typeof FormData<"u"&&mt instanceof FormData}class q{constructor(Gt,$e,en,rt){let ht;if(this.url=$e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Gt.toUpperCase(),function G(mt){switch(mt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rt?(this.body=void 0!==en?en:null,ht=rt):ht=en,ht&&(this.reportProgress=!!ht.reportProgress,this.withCredentials=!!ht.withCredentials,ht.responseType&&(this.responseType=ht.responseType),ht.headers&&(this.headers=ht.headers),ht.context&&(this.context=ht.context),ht.params&&(this.params=ht.params),this.transferCache=ht.transferCache),this.headers??=new R,this.context??=new j,this.params){const Ct=this.params.toString();if(0===Ct.length)this.urlWithParams=$e;else{const kt=$e.indexOf("?");this.urlWithParams=$e+(-1===kt?"?":kt<$e.length-1?"&":"")+Ct}}else this.params=new U,this.urlWithParams=$e}serializeBody(){return null===this.body?null:"string"==typeof this.body||z(this.body)||V(this.body)||X(this.body)||function J(mt){return typeof URLSearchParams<"u"&&mt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof U?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X(this.body)?null:V(this.body)?this.body.type||null:z(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof U?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Gt={}){const $e=Gt.method||this.method,en=Gt.url||this.url,rt=Gt.responseType||this.responseType,ht=Gt.transferCache??this.transferCache,Ct=void 0!==Gt.body?Gt.body:this.body,kt=Gt.withCredentials??this.withCredentials,sn=Gt.reportProgress??this.reportProgress;let Tn=Gt.headers||this.headers,Vn=Gt.params||this.params;const Ln=Gt.context??this.context;return void 0!==Gt.setHeaders&&(Tn=Object.keys(Gt.setHeaders).reduce((ms,Os)=>ms.set(Os,Gt.setHeaders[Os]),Tn)),Gt.setParams&&(Vn=Object.keys(Gt.setParams).reduce((ms,Os)=>ms.set(Os,Gt.setParams[Os]),Vn)),new q($e,en,Ct,{params:Vn,headers:Tn,context:Ln,reportProgress:sn,responseType:rt,withCredentials:kt,transferCache:ht})}}var Z=function(mt){return mt[mt.Sent=0]="Sent",mt[mt.UploadProgress=1]="UploadProgress",mt[mt.ResponseHeader=2]="ResponseHeader",mt[mt.DownloadProgress=3]="DownloadProgress",mt[mt.Response=4]="Response",mt[mt.User=5]="User",mt}(Z||{});class H{constructor(Gt,$e=oe.Ok,en="OK"){this.headers=Gt.headers||new R,this.status=void 0!==Gt.status?Gt.status:$e,this.statusText=Gt.statusText||en,this.url=Gt.url||null,this.ok=this.status>=200&&this.status<300}}class Y extends H{constructor(Gt={}){super(Gt),this.type=Z.ResponseHeader}clone(Gt={}){return new Y({headers:Gt.headers||this.headers,status:void 0!==Gt.status?Gt.status:this.status,statusText:Gt.statusText||this.statusText,url:Gt.url||this.url||void 0})}}class Q extends H{constructor(Gt={}){super(Gt),this.type=Z.Response,this.body=void 0!==Gt.body?Gt.body:null}clone(Gt={}){return new Q({body:void 0!==Gt.body?Gt.body:this.body,headers:Gt.headers||this.headers,status:void 0!==Gt.status?Gt.status:this.status,statusText:Gt.statusText||this.statusText,url:Gt.url||this.url||void 0})}}class ie extends H{constructor(Gt){super(Gt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Gt.url||"(unknown url)"}`:`Http failure response for ${Gt.url||"(unknown url)"}: ${Gt.status} ${Gt.statusText}`,this.error=Gt.error||null}}var oe=function(mt){return mt[mt.Continue=100]="Continue",mt[mt.SwitchingProtocols=101]="SwitchingProtocols",mt[mt.Processing=102]="Processing",mt[mt.EarlyHints=103]="EarlyHints",mt[mt.Ok=200]="Ok",mt[mt.Created=201]="Created",mt[mt.Accepted=202]="Accepted",mt[mt.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",mt[mt.NoContent=204]="NoContent",mt[mt.ResetContent=205]="ResetContent",mt[mt.PartialContent=206]="PartialContent",mt[mt.MultiStatus=207]="MultiStatus",mt[mt.AlreadyReported=208]="AlreadyReported",mt[mt.ImUsed=226]="ImUsed",mt[mt.MultipleChoices=300]="MultipleChoices",mt[mt.MovedPermanently=301]="MovedPermanently",mt[mt.Found=302]="Found",mt[mt.SeeOther=303]="SeeOther",mt[mt.NotModified=304]="NotModified",mt[mt.UseProxy=305]="UseProxy",mt[mt.Unused=306]="Unused",mt[mt.TemporaryRedirect=307]="TemporaryRedirect",mt[mt.PermanentRedirect=308]="PermanentRedirect",mt[mt.BadRequest=400]="BadRequest",mt[mt.Unauthorized=401]="Unauthorized",mt[mt.PaymentRequired=402]="PaymentRequired",mt[mt.Forbidden=403]="Forbidden",mt[mt.NotFound=404]="NotFound",mt[mt.MethodNotAllowed=405]="MethodNotAllowed",mt[mt.NotAcceptable=406]="NotAcceptable",mt[mt.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",mt[mt.RequestTimeout=408]="RequestTimeout",mt[mt.Conflict=409]="Conflict",mt[mt.Gone=410]="Gone",mt[mt.LengthRequired=411]="LengthRequired",mt[mt.PreconditionFailed=412]="PreconditionFailed",mt[mt.PayloadTooLarge=413]="PayloadTooLarge",mt[mt.UriTooLong=414]="UriTooLong",mt[mt.UnsupportedMediaType=415]="UnsupportedMediaType",mt[mt.RangeNotSatisfiable=416]="RangeNotSatisfiable",mt[mt.ExpectationFailed=417]="ExpectationFailed",mt[mt.ImATeapot=418]="ImATeapot",mt[mt.MisdirectedRequest=421]="MisdirectedRequest",mt[mt.UnprocessableEntity=422]="UnprocessableEntity",mt[mt.Locked=423]="Locked",mt[mt.FailedDependency=424]="FailedDependency",mt[mt.TooEarly=425]="TooEarly",mt[mt.UpgradeRequired=426]="UpgradeRequired",mt[mt.PreconditionRequired=428]="PreconditionRequired",mt[mt.TooManyRequests=429]="TooManyRequests",mt[mt.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",mt[mt.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",mt[mt.InternalServerError=500]="InternalServerError",mt[mt.NotImplemented=501]="NotImplemented",mt[mt.BadGateway=502]="BadGateway",mt[mt.ServiceUnavailable=503]="ServiceUnavailable",mt[mt.GatewayTimeout=504]="GatewayTimeout",mt[mt.HttpVersionNotSupported=505]="HttpVersionNotSupported",mt[mt.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",mt[mt.InsufficientStorage=507]="InsufficientStorage",mt[mt.LoopDetected=508]="LoopDetected",mt[mt.NotExtended=510]="NotExtended",mt[mt.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",mt}(oe||{});function pe(mt,Gt){return{body:Gt,headers:mt.headers,context:mt.context,observe:mt.observe,params:mt.params,reportProgress:mt.reportProgress,responseType:mt.responseType,withCredentials:mt.withCredentials,transferCache:mt.transferCache}}let ne=(()=>{class mt{constructor($e){this.handler=$e}request($e,en,rt={}){let ht;if($e instanceof q)ht=$e;else{let sn,Tn;sn=rt.headers instanceof R?rt.headers:new R(rt.headers),rt.params&&(Tn=rt.params instanceof U?rt.params:new U({fromObject:rt.params})),ht=new q($e,en,void 0!==rt.body?rt.body:null,{headers:sn,context:rt.context,params:Tn,reportProgress:rt.reportProgress,responseType:rt.responseType||"json",withCredentials:rt.withCredentials,transferCache:rt.transferCache})}const Ct=(0,l.of)(ht).pipe((0,m.H)(sn=>this.handler.handle(sn)));if($e instanceof q||"events"===rt.observe)return Ct;const kt=Ct.pipe((0,p.p)(sn=>sn instanceof Q));switch(rt.observe||"body"){case"body":switch(ht.responseType){case"arraybuffer":return kt.pipe((0,_.T)(sn=>{if(null!==sn.body&&!(sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return sn.body}));case"blob":return kt.pipe((0,_.T)(sn=>{if(null!==sn.body&&!(sn.body instanceof Blob))throw new Error("Response is not a Blob.");return sn.body}));case"text":return kt.pipe((0,_.T)(sn=>{if(null!==sn.body&&"string"!=typeof sn.body)throw new Error("Response is not a string.");return sn.body}));default:return kt.pipe((0,_.T)(sn=>sn.body))}case"response":return kt;default:throw new Error(`Unreachable: unhandled observe type ${rt.observe}}`)}}delete($e,en={}){return this.request("DELETE",$e,en)}get($e,en={}){return this.request("GET",$e,en)}head($e,en={}){return this.request("HEAD",$e,en)}jsonp($e,en){return this.request("JSONP",$e,{params:(new U).append(en,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options($e,en={}){return this.request("OPTIONS",$e,en)}patch($e,en,rt={}){return this.request("PATCH",$e,pe(rt,en))}post($e,en,rt={}){return this.request("POST",$e,pe(rt,en))}put($e,en,rt={}){return this.request("PUT",$e,pe(rt,en))}static{this.\u0275fac=function(en){return new(en||mt)(t.KVO(I))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();function tt(mt,Gt){return Gt(mt)}function _t(mt,Gt){return($e,en)=>Gt.intercept($e,{handle:rt=>mt(rt,en)})}const dt=new t.nKC(""),it=new t.nKC(""),Ge=new t.nKC(""),gt=new t.nKC("");function Pe(){let mt=null;return(Gt,$e)=>{null===mt&&(mt=((0,t.WQX)(dt,{optional:!0})??[]).reduceRight(_t,tt));const en=(0,t.WQX)(t.TgB),rt=en.add();return mt(Gt,$e).pipe((0,v.j)(()=>en.remove(rt)))}}let at=(()=>{class mt extends I{constructor($e,en){super(),this.backend=$e,this.injector=en,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB);const rt=(0,t.WQX)(gt,{optional:!0});this.backend=rt??$e}handle($e){if(null===this.chain){const rt=Array.from(new Set([...this.injector.get(it),...this.injector.get(Ge,[])]));this.chain=rt.reduceRight((ht,Ct)=>function We(mt,Gt,$e){return(en,rt)=>(0,t.N4e)($e,()=>Gt(en,ht=>mt(ht,rt)))}(ht,Ct,this.injector),tt)}const en=this.pendingTasks.add();return this.chain($e,rt=>this.backend.handle(rt)).pipe((0,v.j)(()=>this.pendingTasks.remove(en)))}static{this.\u0275fac=function(en){return new(en||mt)(t.KVO(D),t.KVO(t.uvJ))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const Jt=/^\)\]\}',?\n/;let It=(()=>{class mt{constructor($e){this.xhrFactory=$e}handle($e){if("JSONP"===$e.method)throw new t.wOt(-2800,!1);const en=this.xhrFactory;return(en.\u0275loadImpl?(0,f.H)(en.\u0275loadImpl()):(0,l.of)(null)).pipe((0,y.n)(()=>new e.c(ht=>{const Ct=en.build();if(Ct.open($e.method,$e.urlWithParams),$e.withCredentials&&(Ct.withCredentials=!0),$e.headers.forEach((ls,Ds)=>Ct.setRequestHeader(ls,Ds.join(","))),$e.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!$e.headers.has("Content-Type")){const ls=$e.detectContentTypeHeader();null!==ls&&Ct.setRequestHeader("Content-Type",ls)}if($e.responseType){const ls=$e.responseType.toLowerCase();Ct.responseType="json"!==ls?ls:"text"}const kt=$e.serializeBody();let sn=null;const Tn=()=>{if(null!==sn)return sn;const ls=Ct.statusText||"OK",Ds=new R(Ct.getAllResponseHeaders()),Mi=function ln(mt){return"responseURL"in mt&&mt.responseURL?mt.responseURL:/^X-Request-URL:/m.test(mt.getAllResponseHeaders())?mt.getResponseHeader("X-Request-URL"):null}(Ct)||$e.url;return sn=new Y({headers:Ds,status:Ct.status,statusText:ls,url:Mi}),sn},Vn=()=>{let{headers:ls,status:Ds,statusText:Mi,url:ki}=Tn(),Ai=null;Ds!==oe.NoContent&&(Ai=typeof Ct.response>"u"?Ct.responseText:Ct.response),0===Ds&&(Ds=Ai?oe.Ok:0);let Ni=Ds>=200&&Ds<300;if("json"===$e.responseType&&"string"==typeof Ai){const Ar=Ai;Ai=Ai.replace(Jt,"");try{Ai=""!==Ai?JSON.parse(Ai):null}catch(Zi){Ai=Ar,Ni&&(Ni=!1,Ai={error:Zi,text:Ai})}}Ni?(ht.next(new Q({body:Ai,headers:ls,status:Ds,statusText:Mi,url:ki||void 0})),ht.complete()):ht.error(new ie({error:Ai,headers:ls,status:Ds,statusText:Mi,url:ki||void 0}))},Ln=ls=>{const{url:Ds}=Tn(),Mi=new ie({error:ls,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:Ds||void 0});ht.error(Mi)};let ms=!1;const Os=ls=>{ms||(ht.next(Tn()),ms=!0);let Ds={type:Z.DownloadProgress,loaded:ls.loaded};ls.lengthComputable&&(Ds.total=ls.total),"text"===$e.responseType&&Ct.responseText&&(Ds.partialText=Ct.responseText),ht.next(Ds)},ys=ls=>{let Ds={type:Z.UploadProgress,loaded:ls.loaded};ls.lengthComputable&&(Ds.total=ls.total),ht.next(Ds)};return Ct.addEventListener("load",Vn),Ct.addEventListener("error",Ln),Ct.addEventListener("timeout",Ln),Ct.addEventListener("abort",Ln),$e.reportProgress&&(Ct.addEventListener("progress",Os),null!==kt&&Ct.upload&&Ct.upload.addEventListener("progress",ys)),Ct.send(kt),ht.next({type:Z.Sent}),()=>{Ct.removeEventListener("error",Ln),Ct.removeEventListener("abort",Ln),Ct.removeEventListener("load",Vn),Ct.removeEventListener("timeout",Ln),$e.reportProgress&&(Ct.removeEventListener("progress",Os),null!==kt&&Ct.upload&&Ct.upload.removeEventListener("progress",ys)),Ct.readyState!==Ct.DONE&&Ct.abort()}})))}static{this.\u0275fac=function(en){return new(en||mt)(t.KVO(O.N0))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const zt=new t.nKC(""),At=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Zt=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dt{}let Lt=(()=>{class mt{constructor($e,en,rt){this.doc=$e,this.platform=en,this.cookieName=rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const $e=this.doc.cookie||"";return $e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)($e,this.cookieName),this.lastCookieString=$e),this.lastToken}static{this.\u0275fac=function(en){return new(en||mt)(t.KVO(O.qQ),t.KVO(t.Agw),t.KVO(At))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();function st(mt,Gt){const $e=mt.url.toLowerCase();if(!(0,t.WQX)(zt)||"GET"===mt.method||"HEAD"===mt.method||$e.startsWith("http://")||$e.startsWith("https://"))return Gt(mt);const en=(0,t.WQX)(Dt).getToken(),rt=(0,t.WQX)(Zt);return null!=en&&!mt.headers.has(rt)&&(mt=mt.clone({headers:mt.headers.set(rt,en)})),Gt(mt)}var je=function(mt){return mt[mt.Interceptors=0]="Interceptors",mt[mt.LegacyInterceptors=1]="LegacyInterceptors",mt[mt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",mt[mt.NoXsrfProtection=3]="NoXsrfProtection",mt[mt.JsonpSupport=4]="JsonpSupport",mt[mt.RequestsMadeViaParent=5]="RequestsMadeViaParent",mt[mt.Fetch=6]="Fetch",mt}(je||{});function Be(...mt){const Gt=[ne,It,at,{provide:I,useExisting:at},{provide:D,useExisting:It},{provide:it,useValue:st,multi:!0},{provide:zt,useValue:!0},{provide:Dt,useClass:Lt}];for(const $e of mt)Gt.push(...$e.\u0275providers);return(0,t.EmA)(Gt)}const Je=new t.nKC("");function Nt(){return function He(mt,Gt){return{\u0275kind:mt,\u0275providers:Gt}}(je.LegacyInterceptors,[{provide:Je,useFactory:Pe},{provide:it,useExisting:Je,multi:!0}])}const ct="b",Xt="h",Pn="s",kn="st",rs="u",as="rt",Qs=new t.nKC(""),gs=["GET","HEAD"];function Is(mt,Gt){const{isCacheActive:$e,...en}=(0,t.WQX)(Qs),{transferCache:rt,method:ht}=mt;if(!$e||"POST"===ht&&!en.includePostRequests&&!rt||"POST"!==ht&&!gs.includes(ht)||!1===rt||!1===en.filter?.(mt))return Gt(mt);const Ct=(0,t.WQX)(t.pJN),kt=function pn(mt){const{params:Gt,method:$e,responseType:en,url:rt}=mt,ht=rn(Gt);let Ct=mt.serializeBody();Ct instanceof URLSearchParams?Ct=rn(Ct):"string"!=typeof Ct&&(Ct="");const sn=function Zn(mt){let Gt=0;for(const $e of mt)Gt=Math.imul(31,Gt)+$e.charCodeAt(0)|0;return Gt+=2147483648,Gt.toString()}([$e,en,rt,Ct,ht].join("|"));return(0,t.zw6)(sn)}(mt),sn=Ct.get(kt,null);let Tn=en.includeHeaders;if("object"==typeof rt&&rt.includeHeaders&&(Tn=rt.includeHeaders),sn){const{[ct]:Ln,[as]:ms,[Xt]:Os,[Pn]:ys,[kn]:ls,[rs]:Ds}=sn;let Mi=Ln;switch(ms){case"arraybuffer":Mi=(new TextEncoder).encode(Ln).buffer;break;case"blob":Mi=new Blob([Ln])}let ki=new R(Os);return(0,l.of)(new Q({body:Mi,headers:ki,status:ys,statusText:ls,url:Ds}))}const Vn=(0,O.Vy)((0,t.WQX)(t.Agw));return Gt(mt).pipe((0,C.M)(Ln=>{Ln instanceof Q&&Vn&&Ct.set(kt,{[ct]:Ln.body,[Xt]:os(Ln.headers,Tn),[Pn]:Ln.status,[kn]:Ln.statusText,[rs]:Ln.url||"",[as]:mt.responseType})}))}function os(mt,Gt){if(!Gt)return{};const $e={};for(const en of Gt){const rt=mt.getAll(en);null!==rt&&($e[en]=rt)}return $e}function rn(mt){return[...mt.keys()].sort().map(Gt=>`${Gt}=${mt.getAll(Gt)}`).join("&")}function Ps(mt){return[{provide:Qs,useFactory:()=>((0,t.ngT)("NgHttpTransferCache"),{isCacheActive:!0,...mt})},{provide:Ge,useValue:Is,multi:!0,deps:[t.pJN,Qs]},{provide:t.iLQ,multi:!0,useFactory:()=>{const Gt=(0,t.WQX)(t.o8S),$e=(0,t.WQX)(Qs);return()=>{(0,t.zuW)(Gt).then(()=>{$e.isCacheActive=!1})}}}]}},54438:(N,T,n)=>{"use strict";function t(r,a){return Object.is(r,a)}n.d(T,{bc$:()=>nD,iLQ:()=>kv,sZ2:()=>Ef,hnV:()=>lb,o8S:()=>ad,BIS:()=>sD,gRc:()=>Tb,Ql9:()=>PP,OM3:()=>Hc,Ocv:()=>BP,abz:()=>yd,Z63:()=>er,aKT:()=>Rc,uvJ:()=>Rt,zcH:()=>ql,bkB:()=>oa,y_5:()=>Jr,$GK:()=>Wt,nKC:()=>rt,zZn:()=>Aa,_q3:()=>Gp,MKu:()=>Ns,xe9:()=>eg,Co$:()=>CE,Vns:()=>Qc,SKi:()=>bo,Xx1:()=>Do,Agw:()=>Ig,PLl:()=>Mg,rOR:()=>ff,sFG:()=>FO,_9s:()=>Ny,czy:()=>xf,WPN:()=>Sd,kdw:()=>ba,C4Q:()=>xd,NYb:()=>DP,giA:()=>ob,pJN:()=>Oh,RxE:()=>HC,c1b:()=>om,gXe:()=>fr,mal:()=>Vy,Af3:()=>fe,tdH:()=>jO,L39:()=>fw,EWP:()=>_w,a0P:()=>Tw,Ol2:()=>mp,w6W:()=>IM,QZP:()=>x2,SmG:()=>VP,Rfq:()=>st,oKB:()=>bs,WQX:()=>Fs,naY:()=>Vp,Hps:()=>ju,QuC:()=>vo,EmA:()=>Vo,zw6:()=>S0,v7R:()=>Ow,Udg:()=>mw,HJs:()=>Dw,N4e:()=>sr,vPA:()=>oE,O8t:()=>vw,An2:()=>Zf,H3F:()=>zC,H8p:()=>Qr,KH2:()=>_c,TgB:()=>Vu,wOt:()=>we,WHO:()=>Uv,e01:()=>rb,lNU:()=>Pe,h9k:()=>$0,$MX:()=>kc,ZF7:()=>$r,Kcf:()=>Rh,e5t:()=>U0,UyX:()=>jc,cWb:()=>jr,osQ:()=>dD,H5H:()=>oh,Zy3:()=>vt,mq5:()=>C1,JZv:()=>ln,TL3:()=>Z2,LfX:()=>pn,plB:()=>zc,jNT:()=>jv,zjR:()=>ab,ngT:()=>_l,TL$:()=>M0,Tbb:()=>Ot,zUL:()=>Dt,rcV:()=>Ui,zuW:()=>pb,M8M:()=>nw,Vt3:()=>P_,Mj6:()=>Gr,GFd:()=>R_,OA$:()=>Dc,Jv_:()=>fC,aNF:()=>mC,R7$:()=>Gh,BMQ:()=>H_,HbH:()=>Tp,ZvI:()=>d1,STu:()=>u1,ZBM:()=>Dp,AVh:()=>ev,vxM:()=>Im,wni:()=>X1,VBU:()=>jo,FsC:()=>Ua,jDH:()=>gs,G2t:()=>os,$C:()=>ko,EJ8:()=>Ta,rXU:()=>wd,nrm:()=>av,eu8:()=>lv,bVm:()=>Wd,qex:()=>$d,k0s:()=>Am,j41:()=>Rm,RV6:()=>Ip,xGo:()=>l0,Mr5:()=>cv,pXf:()=>j1,nnv:()=>k1,uP7:()=>gv,KVO:()=>lr,kS0:()=>cf,QTQ:()=>ay,bIt:()=>Yd,lsd:()=>bv,XpG:()=>$1,nI1:()=>MC,bMT:()=>rd,i5U:()=>SC,brH:()=>HS,SdG:()=>W1,NAR:()=>lh,Y8G:()=>sh,FS9:()=>vv,Mz_:()=>Vm,FCK:()=>yv,lJ4:()=>_C,eq3:()=>vC,l_i:()=>yC,sMw:()=>EC,ziG:()=>CC,s1E:()=>bC,mGM:()=>J1,sdS:()=>Np,Dyx:()=>_1,Z7z:()=>g1,fX1:()=>m1,Njj:()=>Xp,EBC:()=>z0,tSv:()=>Ko,eBV:()=>Yp,npT:()=>W0,f$h:()=>kg,B4B:()=>wh,n$t:()=>Po,xc7:()=>q_,DNE:()=>Gu,C5r:()=>PC,EFF:()=>oC,JRh:()=>Tv,SpI:()=>Hm,Lme:()=>Dv,E5c:()=>Bp,LHq:()=>Ov,DH7:()=>dC,mxI:()=>Pv,R50:()=>Sv,GBs:()=>Cv}),n(74523);let l=null,e=!1,f=1;const m=Symbol("SIGNAL");function p(r){const a=l;return l=r,a}const C={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function O(r){if(e)throw new Error("");if(null===l)return;l.consumerOnSignalRead(r);const a=l.nextProducerIndex++;j(l),a<l.producerNode.length&&l.producerNode[a]!==r&&$(l)&&U(l.producerNode[a],l.producerIndexOfThis[a]),l.producerNode[a]!==r&&(l.producerNode[a]=r,l.producerIndexOfThis[a]=$(l)?B(r,l,a):0),l.producerLastReadVersion[a]=r.version}function D(r){if((!$(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==f)){if(!r.producerMustRecompute(r)&&!M(r))return r.dirty=!1,void(r.lastCleanEpoch=f);r.producerRecomputeValue(r),r.dirty=!1,r.lastCleanEpoch=f}}function R(r){if(void 0===r.liveConsumerNode)return;const a=e;e=!0;try{for(const c of r.liveConsumerNode)c.dirty||w(c)}finally{e=a}}function h(){return!1!==l?.consumerAllowSignalWrites}function w(r){r.dirty=!0,R(r),r.consumerMarkedDirty?.(r)}function b(r){return r&&(r.nextProducerIndex=0),p(r)}function P(r,a){if(p(a),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if($(r))for(let c=r.nextProducerIndex;c<r.producerNode.length;c++)U(r.producerNode[c],r.producerIndexOfThis[c]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function M(r){j(r);for(let a=0;a<r.producerNode.length;a++){const c=r.producerNode[a],g=r.producerLastReadVersion[a];if(g!==c.version||(D(c),g!==c.version))return!0}return!1}function L(r){if(j(r),$(r))for(let a=0;a<r.producerNode.length;a++)U(r.producerNode[a],r.producerIndexOfThis[a]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function B(r,a,c){if(G(r),j(r),0===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)r.producerIndexOfThis[g]=B(r.producerNode[g],r,g);return r.liveConsumerIndexOfThis.push(c),r.liveConsumerNode.push(a)-1}function U(r,a){if(G(r),j(r),1===r.liveConsumerNode.length)for(let g=0;g<r.producerNode.length;g++)U(r.producerNode[g],r.producerIndexOfThis[g]);const c=r.liveConsumerNode.length-1;if(r.liveConsumerNode[a]=r.liveConsumerNode[c],r.liveConsumerIndexOfThis[a]=r.liveConsumerIndexOfThis[c],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,a<r.liveConsumerNode.length){const g=r.liveConsumerIndexOfThis[a],S=r.liveConsumerNode[a];j(S),S.producerIndexOfThis[g]=a}}function $(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function j(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function G(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}const V=Symbol("UNSET"),X=Symbol("COMPUTING"),J=Symbol("ERRORED"),q={...C,value:V,dirty:!0,error:null,equal:t,producerMustRecompute:r=>r.value===V||r.value===X,producerRecomputeValue(r){if(r.value===X)throw new Error("Detected cycle in computations.");const a=r.value;r.value=X;const c=b(r);let g;try{g=r.computation()}catch(S){g=J,r.error=S}finally{P(r,c)}a!==V&&a!==J&&g!==J&&r.equal(a,g)?r.value=a:(r.value=g,r.version++)}};let H=function Z(){throw new Error};function Y(){H()}let ie=null;function re(r,a){h()||Y(),r.equal(r.value,a)||(r.value=a,function ue(r){r.version++,function I(){f++}(),R(r),ie?.()}(r))}const Ee={...C,equal:t,value:void 0};const ye=()=>{},De={...C,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{null!==r.schedule&&r.schedule(r.ref)},hasRun:!1,cleanupFn:ye};var _t=n(21413),We=n(18359),dt=n(84412),it=n(96354),Ge=n(61594);const Pe="https://g.co/ng/security#xss";class we extends Error{constructor(a,c){super(vt(a,c)),this.code=a}}function vt(r,a){return`NG0${Math.abs(r)}${a?": "+a:""}`}function ut(r){return{toString:r}.toString()}const nn="__parameters__";function St(r,a,c){return ut(()=>{const g=function $t(r){return function(...c){if(r){const g=r(...c);for(const S in g)this[S]=g[S]}}}(a);function S(...F){if(this instanceof S)return g.apply(this,F),this;const K=new S(...F);return te.annotation=K,te;function te(ge,xe,Qe){const Mt=ge.hasOwnProperty(nn)?ge[nn]:Object.defineProperty(ge,nn,{value:[]})[nn];for(;Mt.length<=Qe;)Mt.push(null);return(Mt[Qe]=Mt[Qe]||[]).push(K),ge}}return c&&(S.prototype=Object.create(c.prototype)),S.prototype.ngMetadataName=r,S.annotationCls=S,S})}const ln=globalThis;function Ht(r){for(let a in r)if(r[a]===Ht)return a;throw Error("Could not find renamed property on target object.")}function At(r,a){for(const c in a)a.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(r[c]=a[c])}function Ot(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(Ot).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const a=r.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Zt(r,a){return null==r||""===r?null===a?"":a:null==a||""===a?r:r+" "+a}function Dt(r,a=100){if(!r||a<1||r.length<=a)return r;if(1==a)return r.substring(0,1)+"...";const c=Math.round(a/2);return r.substring(0,c)+"..."+r.substring(r.length-c)}const Lt=Ht({__forward_ref__:Ht});function st(r){return r.__forward_ref__=st,r.toString=function(){return Ot(this())},r}function Le(r){return je(r)?r():r}function je(r){return"function"==typeof r&&r.hasOwnProperty(Lt)&&r.__forward_ref__===st}function Nt(r,a,c){r!=a&&function Xt(r,a,c,g){throw new Error(`ASSERTION ERROR: ${r}`+(null==g?"":` [Expected=> ${c} ${g} ${a} <=Actual]`))}(c,r,a,"==")}function gs(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function os(r){return{providers:r.providers||[],imports:r.imports||[]}}function rn(r){return Zn(r,mt)||Zn(r,$e)}function pn(r){return null!==rn(r)}function Zn(r,a){return r.hasOwnProperty(a)?r[a]:null}function ai(r){return r&&(r.hasOwnProperty(Gt)||r.hasOwnProperty(en))?r[Gt]:null}const mt=Ht({\u0275prov:Ht}),Gt=Ht({\u0275inj:Ht}),$e=Ht({ngInjectableDef:Ht}),en=Ht({ngInjectorDef:Ht});class rt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=gs({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ls(r){return r&&!!r.\u0275providers}const Ds=Ht({\u0275cmp:Ht}),Mi=Ht({\u0275dir:Ht}),ki=Ht({\u0275pipe:Ht}),Ai=Ht({\u0275mod:Ht}),Ni=Ht({\u0275fac:Ht}),Ar=Ht({__NG_ELEMENT_ID__:Ht}),Zi=Ht({__NG_ENV_ID__:Ht});function Ms(r){return"string"==typeof r?r:null==r?"":String(r)}function tn(r,a){throw new we(-201,!1)}var Wt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Wt||{});let bn;function $n(){return bn}function vs(r){const a=bn;return bn=r,a}function li(r,a,c){const g=rn(r);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:c&Wt.Optional?null:void 0!==a?a:void tn()}const fi={},Fi="__NG_DI_FLAG__",fo="ngTempTokenPath",wr=/\n/gm,mo="__source";let kr;function wi(r){const a=kr;return kr=r,a}function Bo(r,a=Wt.Default){if(void 0===kr)throw new we(-203,!1);return null===kr?li(r,void 0,a):kr.get(r,a&Wt.Optional?null:void 0,a)}function lr(r,a=Wt.Default){return($n()||Bo)(Le(r),a)}function Fs(r,a=Wt.Default){return lr(r,ro(a))}function ro(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Uo(r){const a=[];for(let c=0;c<r.length;c++){const g=Le(r[c]);if(Array.isArray(g)){if(0===g.length)throw new we(900,!1);let S,F=Wt.Default;for(let K=0;K<g.length;K++){const te=g[K],ge=_o(te);"number"==typeof ge?-1===ge?S=te.token:F|=ge:S=te}a.push(lr(S,F))}else a.push(lr(g))}return a}function Or(r,a){return r[Fi]=a,r.prototype[Fi]=a,r}function _o(r){return r[Fi]}const Jr=Or(St("Inject",r=>({token:r})),-1),Do=Or(St("Optional"),8),ba=Or(St("SkipSelf"),4);function Ze(r,a){return r.hasOwnProperty(Ni)?r[Ni]:null}function Ut(r,a){r.forEach(c=>Array.isArray(c)?Ut(c,a):a(c))}function Dn(r,a,c){a>=r.length?r.push(c):r.splice(a,0,c)}function Qn(r,a){return a>=r.length-1?r.pop():r.splice(a,1)[0]}function ui(r,a,c){let g=zi(r,a);return g>=0?r[1|g]=c:(g=~g,function di(r,a,c,g){let S=r.length;if(S==a)r.push(c,g);else if(1===S)r.push(g,r[0]),r[0]=c;else{for(S--,r.push(r[S-1],r[S]);S>a;)r[S]=r[S-2],S--;r[a]=c,r[a+1]=g}}(r,g,a,c)),g}function qs(r,a){const c=zi(r,a);if(c>=0)return r[1|c]}function zi(r,a){return function Er(r,a,c){let g=0,S=r.length>>c;for(;S!==g;){const F=g+(S-g>>1),K=r[F<<c];if(a===K)return F<<c;K>a?S=F:g=F+1}return~(S<<c)}(r,a,1)}const qi={},Ks=[],er=new rt(""),Vr=new rt("",-1),cr=new rt("");class _r{get(a,c=fi){if(c===fi){const g=new Error(`NullInjectorError: No provider for ${Ot(a)}!`);throw g.name="NullInjectorError",g}return c}}var Jo=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Jo||{}),fr=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(fr||{}),Gr=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Gr||{});function ca(r,a,c){let g=r.length;for(;;){const S=r.indexOf(a,c);if(-1===S)return S;if(0===S||r.charCodeAt(S-1)<=32){const F=a.length;if(S+F===g||r.charCodeAt(S+F)<=32)return S}c=S+1}}function ke(r,a,c){let g=0;for(;g<c.length;){const S=c[g];if("number"==typeof S){if(0!==S)break;g++;const F=c[g++],K=c[g++],te=c[g++];r.setAttribute(a,K,te,F)}else{const F=S,K=c[++g];se(F)?r.setProperty(a,F,K):r.setAttribute(a,F,K),g++}}return g}function ze(r){return 3===r||4===r||6===r}function se(r){return 64===r.charCodeAt(0)}function Ve(r,a){if(null!==a&&0!==a.length)if(null===r||0===r.length)r=a.slice();else{let c=-1;for(let g=0;g<a.length;g++){const S=a[g];"number"==typeof S?c=S:0===c||me(r,c,S,null,-1===c||2===c?a[++g]:null)}}return r}function me(r,a,c,g,S){let F=0,K=r.length;if(-1===a)K=-1;else for(;F<r.length;){const te=r[F++];if("number"==typeof te){if(te===a){K=-1;break}if(te>a){K=F-1;break}}}for(;F<r.length;){const te=r[F];if("number"==typeof te)break;if(te===c){if(null===g)return void(null!==S&&(r[F+1]=S));if(g===r[F+1])return void(r[F+2]=S)}F++,null!==g&&F++,null!==S&&F++}-1!==K&&(r.splice(K,0,a),F=K+1),r.splice(F++,0,c),null!==g&&r.splice(F++,0,g),null!==S&&r.splice(F++,0,S)}const bt="ng-template";function Yt(r,a,c,g){let S=0;if(g){for(;S<a.length&&"string"==typeof a[S];S+=2)if("class"===a[S]&&-1!==ca(a[S+1].toLowerCase(),c,0))return!0}else if(En(r))return!1;if(S=a.indexOf(1,S),S>-1){let F;for(;++S<a.length&&"string"==typeof(F=a[S]);)if(F.toLowerCase()===c)return!0}return!1}function En(r){return 4===r.type&&r.value!==bt}function Yn(r,a,c){return a===(4!==r.type||c?r.value:bt)}function cs(r,a,c){let g=4;const S=r.attrs,F=null!==S?function Ci(r){for(let a=0;a<r.length;a++)if(ze(r[a]))return a;return r.length}(S):0;let K=!1;for(let te=0;te<a.length;te++){const ge=a[te];if("number"!=typeof ge){if(!K)if(4&g){if(g=2|1&g,""!==ge&&!Yn(r,ge,c)||""===ge&&1===a.length){if(xs(g))return!1;K=!0}}else if(8&g){if(null===S||!Yt(r,S,ge,c)){if(xs(g))return!1;K=!0}}else{const xe=a[++te],Qe=Yi(ge,S,En(r),c);if(-1===Qe){if(xs(g))return!1;K=!0;continue}if(""!==xe){let Mt;if(Mt=Qe>F?"":S[Qe+1].toLowerCase(),2&g&&xe!==Mt){if(xs(g))return!1;K=!0}}}}else{if(!K&&!xs(g)&&!xs(ge))return!1;if(K&&xs(ge))continue;K=!1,g=ge|1&g}}return xs(g)||K}function xs(r){return!(1&r)}function Yi(r,a,c,g){if(null===a)return-1;let S=0;if(g||!c){let F=!1;for(;S<a.length;){const K=a[S];if(K===r)return S;if(3===K||6===K)F=!0;else{if(1===K||2===K){let te=a[++S];for(;"string"==typeof te;)te=a[++S];continue}if(4===K)break;if(0===K){S+=4;continue}}S+=F?1:2}return-1}return function Qo(r,a){let c=r.indexOf(4);if(c>-1)for(c++;c<r.length;){const g=r[c];if("number"==typeof g)return-1;if(g===a)return c;c++}return-1}(a,r)}function Gi(r,a,c=!1){for(let g=0;g<a.length;g++)if(cs(r,a[g],c))return!0;return!1}function xo(r,a){e:for(let c=0;c<a.length;c++){const g=a[c];if(r.length===g.length){for(let S=0;S<r.length;S++)if(r[S]!==g[S])continue e;return!0}}return!1}function Oo(r,a){return r?":not("+a.trim()+")":a}function Mo(r){let a=r[0],c=1,g=2,S="",F=!1;for(;c<r.length;){let K=r[c];if("string"==typeof K)if(2&g){const te=r[++c];S+="["+K+(te.length>0?'="'+te+'"':"")+"]"}else 8&g?S+="."+K:4&g&&(S+=" "+K);else""!==S&&!xs(K)&&(a+=Oo(F,S),S=""),g=K,F=F||!xs(g);c++}return""!==S&&(a+=Oo(F,S)),a}function jo(r){return ut(()=>{const a=ua(r),c={...a,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Jo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||fr.Emulated,styles:r.styles||Ks,_:null,schemas:r.schemas||null,tView:null,id:""};ha(c);const g=r.dependencies;return c.directiveDefs=pa(g,!1),c.pipeDefs=pa(g,!0),c.id=function il(r){let a=0;const c=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const S of c)a=Math.imul(31,a)+S.charCodeAt(0)|0;return a+=2147483648,"c"+a}(c),c})}function Ba(r){return si(r)||tr(r)}function Zo(r){return null!==r}function ko(r){return ut(()=>({type:r.type,bootstrap:r.bootstrap||Ks,declarations:r.declarations||Ks,imports:r.imports||Ks,exports:r.exports||Ks,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function da(r,a){if(null==r)return qi;const c={};for(const g in r)if(r.hasOwnProperty(g)){const S=r[g];let F,K,te=Gr.None;Array.isArray(S)?(te=S[0],F=S[1],K=S[2]??F):(F=S,K=S),a?(c[F]=te!==Gr.None?[g,te]:g,a[F]=K):c[F]=g}return c}function Ua(r){return ut(()=>{const a=ua(r);return ha(a),a})}function Ta(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function si(r){return r[Ds]||null}function tr(r){return r[Mi]||null}function mr(r){return r[ki]||null}function vo(r){const a=si(r)||tr(r)||mr(r);return null!==a&&a.standalone}function fs(r,a){const c=r[Ai]||null;if(!c&&!0===a)throw new Error(`Type ${Ot(r)} does not have '\u0275mod' property.`);return c}function ua(r){const a={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:r.inputs||qi,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Ks,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:da(r.inputs,a),outputs:da(r.outputs),debugInfo:null}}function ha(r){r.features?.forEach(a=>a(r))}function pa(r,a){if(!r)return null;const c=a?mr:Ba;return()=>("function"==typeof r?r():r).map(g=>c(g)).filter(Zo)}function Vo(r){return{\u0275providers:r}}function bs(...r){return{\u0275providers:Go(0,r),\u0275fromNgModule:!0}}function Go(r,...a){const c=[],g=new Set;let S;const F=K=>{c.push(K)};return Ut(a,K=>{const te=K;ma(te,F,[],g)&&(S||=[],S.push(te))}),void 0!==S&&fa(S,F),c}function fa(r,a){for(let c=0;c<r.length;c++){const{ngModule:g,providers:S}=r[c];Lr(S,F=>{a(F,g)})}}function ma(r,a,c,g){if(!(r=Le(r)))return!1;let S=null,F=ai(r);const K=!F&&si(r);if(F||K){if(K&&!K.standalone)return!1;S=r}else{const ge=r.ngModule;if(F=ai(ge),!F)return!1;S=ge}const te=g.has(S);if(K){if(te)return!1;if(g.add(S),K.dependencies){const ge="function"==typeof K.dependencies?K.dependencies():K.dependencies;for(const xe of ge)ma(xe,a,c,g)}}else{if(!F)return!1;{if(null!=F.imports&&!te){let xe;g.add(S);try{Ut(F.imports,Qe=>{ma(Qe,a,c,g)&&(xe||=[],xe.push(Qe))})}finally{}void 0!==xe&&fa(xe,a)}if(!te){const xe=Ze(S)||(()=>new S);a({provide:S,useFactory:xe,deps:Ks},S),a({provide:cr,useValue:S,multi:!0},S),a({provide:er,useValue:()=>lr(S),multi:!0},S)}const ge=F.providers;if(null!=ge&&!te){const xe=r;Lr(ge,Qe=>{a(Qe,xe)})}}}return S!==r&&void 0!==r.providers}function Lr(r,a){for(let c of r)ls(c)&&(c=c.\u0275providers),Array.isArray(c)?Lr(c,a):a(c)}const qo=Ht({provide:String,useValue:Ht});function rl(r){return null!==r&&"object"==typeof r&&qo in r}function $o(r){return"function"==typeof r}const Qr=new rt(""),ta={},na={};let Vt;function an(){return void 0===Vt&&(Vt=new _r),Vt}class Rt{}class In extends Rt{get destroyed(){return this._destroyed}constructor(a,c,g,S){super(),this.parent=c,this.source=g,this.scopes=S,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xn(a,K=>this.processProvider(K)),this.records.set(Vr,yi(void 0,this)),S.has("environment")&&this.records.set(Rt,yi(void 0,this));const F=this.records.get(Qr);null!=F&&"string"==typeof F.value&&this.scopes.add(F.value),this.injectorDefTypes=new Set(this.get(cr,Ks,Wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const a=p(null);try{for(const g of this._ngOnDestroyHooks)g.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const g of c)g()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),p(a)}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=wi(this),g=vs(void 0);try{return a()}finally{wi(c),vs(g)}}get(a,c=fi,g=Wt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Zi))return a[Zi](this);g=ro(g);const F=wi(this),K=vs(void 0);try{if(!(g&Wt.SkipSelf)){let ge=this.records.get(a);if(void 0===ge){const xe=function Bi(r){return"function"==typeof r||"object"==typeof r&&r instanceof rt}(a)&&rn(a);ge=xe&&this.injectableDefInScope(xe)?yi(Fn(a),ta):null,this.records.set(a,ge)}if(null!=ge)return this.hydrate(a,ge)}return(g&Wt.Self?an():this.parent).get(a,c=g&Wt.Optional&&c===fi?null:c)}catch(te){if("NullInjectorError"===te.name){if((te[fo]=te[fo]||[]).unshift(Ot(a)),F)throw te;return function Yo(r,a,c,g){const S=r[fo];throw a[mo]&&S.unshift(a[mo]),r.message=function To(r,a,c,g=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let S=Ot(a);if(Array.isArray(a))S=a.map(Ot).join(" -> ");else if("object"==typeof a){let F=[];for(let K in a)if(a.hasOwnProperty(K)){let te=a[K];F.push(K+":"+("string"==typeof te?JSON.stringify(te):Ot(te)))}S=`{${F.join(", ")}}`}return`${c}${g?"("+g+")":""}[${S}]: ${r.replace(wr,"\n  ")}`}("\n"+r.message,S,c,g),r.ngTokenPath=S,r[fo]=null,r}(te,a,"R3InjectorError",this.source)}throw te}finally{vs(K),wi(F)}}resolveInjectorInitializers(){const a=p(null),c=wi(this),g=vs(void 0);try{const F=this.get(er,Ks,Wt.Self);for(const K of F)K()}finally{wi(c),vs(g),p(a)}}toString(){const a=[],c=this.records;for(const g of c.keys())a.push(Ot(g));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let c=$o(a=Le(a))?a:Le(a&&a.provide);const g=function Bs(r){return rl(r)?yi(void 0,r.useValue):yi(zn(r),ta)}(a);if(!$o(a)&&!0===a.multi){let S=this.records.get(c);S||(S=yi(void 0,ta,!0),S.factory=()=>Uo(S.multi),this.records.set(c,S)),c=a,S.multi.push(a)}this.records.set(c,g)}hydrate(a,c){const g=p(null);try{return c.value===ta&&(c.value=na,c.value=c.factory()),"object"==typeof c.value&&c.value&&function nr(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}finally{p(g)}}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Le(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Fn(r){const a=rn(r),c=null!==a?a.factory:Ze(r);if(null!==c)return c;if(r instanceof rt)throw new we(204,!1);if(r instanceof Function)return function es(r){if(r.length>0)throw new we(204,!1);const c=function Ps(r){return r&&(r[mt]||r[$e])||null}(r);return null!==c?()=>c.factory(r):()=>new r}(r);throw new we(204,!1)}function zn(r,a,c){let g;if($o(r)){const S=Le(r);return Ze(S)||Fn(S)}if(rl(r))g=()=>Le(r.useValue);else if(function ea(r){return!(!r||!r.useFactory)}(r))g=()=>r.useFactory(...Uo(r.deps||[]));else if(function Io(r){return!(!r||!r.useExisting)}(r))g=()=>lr(Le(r.useExisting));else{const S=Le(r&&(r.useClass||r.provide));if(!function xi(r){return!!r.deps}(r))return Ze(S)||Fn(S);g=()=>new S(...Uo(r.deps))}return g}function yi(r,a,c=!1){return{factory:r,value:a,multi:c?[]:void 0}}function xn(r,a){for(const c of r)Array.isArray(c)?xn(c,a):c&&ls(c)?xn(c.\u0275providers,a):a(c)}function sr(r,a){r instanceof In&&r.assertNotDestroyed();const g=wi(r),S=vs(void 0);try{return a()}finally{wi(g),vs(S)}}function Mr(){return void 0!==$n()||null!=function go(){return kr}()}function fe(r){if(!Mr())throw new we(-203,!1)}const gi=0,Kn=1,Ts=2,Si=3,Cr=4,vr=5,Nr=6,Ir=7,Ri=8,Xi=9,yo=10,Hs=11,Da=12,Oa=13,oo=14,ur=15,al=16,ll=17,br=18,Sr=19,hd=20,sa=21,Dl=22,Ka=23,Zs=25,Kl=1,Ol=6,Eo=7,ia=9,Ji=10;var Hl=function(r){return r[r.None=0]="None",r[r.HasTransplantedViews=2]="HasTransplantedViews",r}(Hl||{});function ti(r){return Array.isArray(r)&&"object"==typeof r[Kl]}function Fr(r){return Array.isArray(r)&&!0===r[Kl]}function Ma(r){return!!(4&r.flags)}function Lo(r){return r.componentOffset>-1}function Ha(r){return!(1&~r.flags)}function qr(r){return!!r.template}function Ml(r){return!!(512&r[Ts])}class zl{constructor(a,c,g){this.previousValue=a,this.currentValue=c,this.firstChange=g}isFirstChange(){return this.firstChange}}function So(r,a,c,g){null!==a?a.applyValueToInputSignal(a,g):r[c]=g}function Dc(){return Oc}function Oc(r){return r.type.prototype.ngOnChanges&&(r.setInput=tu),pd}function pd(){const r=su(this),a=r?.current;if(a){const c=r.previous;if(c===qi)r.previous=a;else for(let g in a)c[g]=a[g];r.current=null,this.ngOnChanges(a)}}function tu(r,a,c,g,S){const F=this.declaredInputs[g],K=su(r)||function ph(r,a){return r[nu]=a}(r,{previous:qi,current:null}),te=K.current||(K.current={}),ge=K.previous,xe=ge[F];te[F]=new zl(xe&&xe.currentValue,c,ge===qi),So(r,a,S,c)}Dc.ngInherit=!0;const nu="__ngSimpleChanges__";function su(r){return r[nu]||null}const Ya=function(r,a,c){};let Wp=!1;function ir(r){for(;Array.isArray(r);)r=r[gi];return r}function Sl(r,a){return ir(a[r])}function Qi(r,a){return ir(a[r.index])}function ru(r,a){return r.data[a]}function ii(r,a){return r[a]}function Br(r,a){const c=a[r];return ti(c)?c:c[gi]}function Xl(r){return!(128&~r[Ts])}function eo(r,a){return null==a?null:r[a]}function ao(r){r[ll]=0}function ws(r){1024&r[Ts]||(r[Ts]|=1024,Xl(r)&&Xa(r))}function mi(r){return!!(9216&r[Ts]||r[Ka]?.dirty)}function to(r){r[yo].changeDetectionScheduler?.notify(1),mi(r)?Xa(r):64&r[Ts]&&(function og(){return Wp}()?(r[Ts]|=1024,Xa(r)):r[yo].changeDetectionScheduler?.notify())}function Xa(r){r[yo].changeDetectionScheduler?.notify();let a=Pl(r);for(;null!==a&&!(8192&a[Ts])&&(a[Ts]|=8192,Xl(a));)a=Pl(a)}function js(r,a){if(!(256&~r[Ts]))throw new we(911,!1);null===r[sa]&&(r[sa]=[]),r[sa].push(a)}function Pl(r){const a=r[Si];return Fr(a)?a[Si]:a}const zs={lFrame:Tr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zp(){return zs.bindingsEnabled}function md(){return null!==zs.skipHydrationRootTNode}function Sn(){return zs.lFrame.lView}function bi(){return zs.lFrame.tView}function Yp(r){return zs.lFrame.contextLView=r,r[Ri]}function Xp(r){return zs.lFrame.contextLView=null,r}function hr(){let r=gh();for(;null!==r&&64===r.type;)r=r.parent;return r}function gh(){return zs.lFrame.currentTNode}function dl(){const r=zs.lFrame,a=r.currentTNode;return r.isParent?a:a.parent}function ka(r,a){const c=zs.lFrame;c.currentTNode=r,c.isParent=a}function Ur(){return zs.lFrame.isParent}function gd(){zs.lFrame.isParent=!1}function Wo(){const r=zs.lFrame;let a=r.bindingRootIndex;return-1===a&&(a=r.bindingRootIndex=r.tView.bindingStartIndex),a}function k(){return zs.lFrame.bindingIndex}function A(){return zs.lFrame.bindingIndex++}function W(r){const a=zs.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+r,c}function Fe(r){zs.lFrame.inI18n=r}function Kt(r,a){const c=zs.lFrame;c.bindingIndex=c.bindingRootIndex=r,An(a)}function An(r){zs.lFrame.currentDirectiveIndex=r}function is(){return zs.lFrame.currentQueryIndex}function Ls(r){zs.lFrame.currentQueryIndex=r}function us(r){const a=r[Kn];return 2===a.type?a.declTNode:1===a.type?r[vr]:null}function Ws(r,a,c){if(c&Wt.SkipSelf){let S=a,F=r;for(;!(S=S.parent,null!==S||c&Wt.Host||(S=us(F),null===S||(F=F[oo],10&S.type))););if(null===S)return!1;a=S,r=F}const g=zs.lFrame=Ki();return g.currentTNode=a,g.lView=r,!0}function pr(r){const a=Ki(),c=r[Kn];zs.lFrame=a,a.currentTNode=c.firstChild,a.lView=r,a.tView=c,a.contextLView=r,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ki(){const r=zs.lFrame,a=null===r?null:r.child;return null===a?Tr(r):a}function Tr(r){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=a),a}function Wr(){const r=zs.lFrame;return zs.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Pr=Wr;function au(){const r=Wr();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function lo(){return zs.lFrame.selectedIndex}function Rl(r){zs.lFrame.selectedIndex=r}function Dr(){const r=zs.lFrame;return ru(r.tView,r.selectedIndex)}function LT(){return zs.lFrame.currentNamespace}let Qv=!0;function vh(){return Qv}function wl(r){Qv=r}function Zp(r,a){for(let c=a.directiveStart,g=a.directiveEnd;c<g;c++){const F=r.data[c].type.prototype,{ngAfterContentInit:K,ngAfterContentChecked:te,ngAfterViewInit:ge,ngAfterViewChecked:xe,ngOnDestroy:Qe}=F;K&&(r.contentHooks??=[]).push(-c,K),te&&((r.contentHooks??=[]).push(c,te),(r.contentCheckHooks??=[]).push(c,te)),ge&&(r.viewHooks??=[]).push(-c,ge),xe&&((r.viewHooks??=[]).push(c,xe),(r.viewCheckHooks??=[]).push(c,xe)),null!=Qe&&(r.destroyHooks??=[]).push(c,Qe)}}function qp(r,a,c){qv(r,a,3,c)}function ef(r,a,c,g){(3&r[Ts])===c&&qv(r,a,c,g)}function Zv(r,a){let c=r[Ts];(3&c)===a&&(c&=16383,c+=1,r[Ts]=c)}function qv(r,a,c,g){const F=g??-1,K=a.length-1;let te=0;for(let ge=void 0!==g?65535&r[ll]:0;ge<K;ge++)if("number"==typeof a[ge+1]){if(te=a[ge],null!=g&&te>=g)break}else a[ge]<0&&(r[ll]+=65536),(te<F||-1==F)&&(NT(r,c,a,ge),r[ll]=(4294901760&r[ll])+ge+2),ge++}function e0(r,a){Ya(4,r,a);const c=p(null);try{a.call(r)}finally{p(c),Ya(5,r,a)}}function NT(r,a,c,g){const S=c[g]<0,F=c[g+1],te=r[S?-c[g]:c[g]];S?r[Ts]>>14<r[ll]>>16&&(3&r[Ts])===a&&(r[Ts]+=16384,e0(te,F)):e0(te,F)}const Rs=-1;class Zl{constructor(a,c,g){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=g}}function dg(r){return r!==Rs}function Ch(r){return 32767&r}function bh(r,a){let c=function nf(r){return r>>16}(r),g=a;for(;c>0;)g=g[oo],c--;return g}let ug=!0;function ni(r){const a=ug;return ug=r,a}const n0=255,s0=5;let BT=0;const Pa={};function sf(r,a){const c=lu(r,a);if(-1!==c)return c;const g=a[Kn];g.firstCreatePass&&(r.injectorIndex=a.length,rf(g.data,r),rf(a,null),rf(g.blueprint,null));const S=Th(r,a),F=r.injectorIndex;if(dg(S)){const K=Ch(S),te=bh(S,a),ge=te[Kn].data;for(let xe=0;xe<8;xe++)a[F+xe]=te[K+xe]|ge[K+xe]}return a[F+8]=S,F}function rf(r,a){r.push(0,0,0,0,0,0,0,0,a)}function lu(r,a){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===a[r.injectorIndex+8]?-1:r.injectorIndex}function Th(r,a){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let c=0,g=null,S=a;for(;null!==S;){if(g=lf(S),null===g)return Rs;if(c++,S=S[oo],-1!==g.injectorIndex)return g.injectorIndex|c<<16}return Rs}function af(r,a,c){!function UT(r,a,c){let g;"string"==typeof c?g=c.charCodeAt(0)||0:c.hasOwnProperty(Ar)&&(g=c[Ar]),null==g&&(g=c[Ar]=BT++);const S=g&n0;a.data[r+(S>>s0)]|=1<<S}(r,a,c)}function r0(r,a,c){if(c&Wt.Optional||void 0!==r)return r;tn()}function o0(r,a,c,g){if(c&Wt.Optional&&void 0===g&&(g=null),!(c&(Wt.Self|Wt.Host))){const S=r[Xi],F=vs(void 0);try{return S?S.get(a,g,c&Wt.Optional):li(a,g,c&Wt.Optional)}finally{vs(F)}}return r0(g,0,c)}function Ra(r,a,c,g=Wt.Default,S){if(null!==r){if(2048&a[Ts]&&!(g&Wt.Self)){const K=function xl(r,a,c,g,S){let F=r,K=a;for(;null!==F&&null!==K&&2048&K[Ts]&&!(512&K[Ts]);){const te=kT(F,K,c,g|Wt.Self,Pa);if(te!==Pa)return te;let ge=F.parent;if(!ge){const xe=K[hd];if(xe){const Qe=xe.get(c,Pa,g);if(Qe!==Pa)return Qe}ge=lf(K),K=K[oo]}F=ge}return S}(r,a,c,g,Pa);if(K!==Pa)return K}const F=kT(r,a,c,g,Pa);if(F!==Pa)return F}return o0(a,c,g,S)}function kT(r,a,c,g,S){const F=function hg(r){if("string"==typeof r)return r.charCodeAt(0)||0;const a=r.hasOwnProperty(Ar)?r[Ar]:void 0;return"number"==typeof a?a>=0?a&n0:GT:a}(c);if("function"==typeof F){if(!Ws(a,r,g))return g&Wt.Host?r0(S,0,g):o0(a,c,g,S);try{let K;if(K=F(g),null!=K||g&Wt.Optional)return K;tn()}finally{Pr()}}else if("number"==typeof F){let K=null,te=lu(r,a),ge=Rs,xe=g&Wt.Host?a[ur][vr]:null;for((-1===te||g&Wt.SkipSelf)&&(ge=-1===te?Th(r,a):a[te+8],ge!==Rs&&cu(g,!1)?(K=a[Kn],te=Ch(ge),a=bh(ge,a)):te=-1);-1!==te;){const Qe=a[Kn];if(a0(F,te,Qe.data)){const Mt=VT(te,a,c,K,g,xe);if(Mt!==Pa)return Mt}ge=a[te+8],ge!==Rs&&cu(g,a[Kn].data[te+8]===xe)&&a0(F,te,a)?(K=Qe,te=Ch(ge),a=bh(ge,a)):te=-1}}return S}function VT(r,a,c,g,S,F){const K=a[Kn],te=K.data[r+8],Qe=Sc(te,K,c,null==g?Lo(te)&&ug:g!=K&&!!(3&te.type),S&Wt.Host&&F===te);return null!==Qe?_d(a,K,Qe,te):Pa}function Sc(r,a,c,g,S){const F=r.providerIndexes,K=a.data,te=1048575&F,ge=r.directiveStart,Qe=F>>20,Qt=S?te+Qe:r.directiveEnd;for(let on=g?te:te+Qe;on<Qt;on++){const mn=K[on];if(on<ge&&c===mn||on>=ge&&mn.type===c)return on}if(S){const on=K[ge];if(on&&qr(on)&&on.type===c)return ge}return null}function _d(r,a,c,g){let S=r[c];const F=a.data;if(function yh(r){return r instanceof Zl}(S)){const K=S;K.resolving&&function Ti(r,a){throw a&&a.join(" > "),new we(-200,r)}(function Ys(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ms(r)}(F[c]));const te=ni(K.canSeeViewProviders);K.resolving=!0;const xe=K.injectImpl?vs(K.injectImpl):null;Ws(r,g,Wt.Default);try{S=r[c]=K.factory(void 0,F,r,g),a.firstCreatePass&&c>=g.directiveStart&&function TR(r,a,c){const{ngOnChanges:g,ngOnInit:S,ngDoCheck:F}=a.type.prototype;if(g){const K=Oc(a);(c.preOrderHooks??=[]).push(r,K),(c.preOrderCheckHooks??=[]).push(r,K)}S&&(c.preOrderHooks??=[]).push(0-r,S),F&&((c.preOrderHooks??=[]).push(r,F),(c.preOrderCheckHooks??=[]).push(r,F))}(c,F[c],a)}finally{null!==xe&&vs(xe),ni(te),K.resolving=!1,Pr()}}return S}function a0(r,a,c){return!!(c[a+(r>>s0)]&1<<r)}function cu(r,a){return!(r&Wt.Self||r&Wt.Host&&a)}class no{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,g){return Ra(this._tNode,this._lView,a,ro(g),c)}}function GT(){return new no(hr(),Sn())}function l0(r){return ut(()=>{const a=r.prototype.constructor,c=a[Ni]||pg(a),g=Object.prototype;let S=Object.getPrototypeOf(r.prototype).constructor;for(;S&&S!==g;){const F=S[Ni]||pg(S);if(F&&F!==c)return F;S=Object.getPrototypeOf(S)}return F=>new F})}function pg(r){return je(r)?()=>{const a=pg(Le(r));return a&&a()}:Ze(r)}function lf(r){const a=r[Kn],c=a.type;return 2===c?a.declTNode:1===c?r[vr]:null}function cf(r){return function jT(r,a){if("class"===a)return r.classes;if("style"===a)return r.styles;const c=r.attrs;if(c){const g=c.length;let S=0;for(;S<g;){const F=c[S];if(ze(F))break;if(0===F)S+=2;else if("number"==typeof F)for(S++;S<g&&"string"==typeof c[S];)S++;else{if(F===a)return c[S+1];S+=2}}}return null}(hr(),r)}function vd(r,a=null,c=null,g){const S=_g(r,a,c,g);return S.resolveInjectorInitializers(),S}function _g(r,a=null,c=null,g,S=new Set){const F=[c||Ks,bs(r)];return g=g||("object"==typeof r?void 0:Ot(r)),new In(F,a||an(),g||null,S)}let Aa=(()=>{class r{static{this.THROW_IF_NOT_FOUND=fi}static{this.NULL=new _r}static create(c,g){if(Array.isArray(c))return vd({name:""},g,c,"");{const S=c.name??"";return vd({name:S},c.parent,c.providers,S)}}static{this.\u0275prov=gs({token:r,providedIn:"any",factory:()=>lr(Vr)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function Pc(r){return r.ngOriginalError}class ql{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Pc(a);for(;c&&Pc(c);)c=Pc(c);return c||null}}const hu=new rt("",{providedIn:"root",factory:()=>Fs(ql).handleError.bind(void 0)});let yd=(()=>{class r{static{this.__NG_ELEMENT_ID__=JT}static{this.__NG_ENV_ID__=c=>c}}return r})();class XT extends yd{constructor(a){super(),this._lView=a}onDestroy(a){return js(this._lView,a),()=>function Jl(r,a){if(null===r[sa])return;const c=r[sa].indexOf(a);-1!==c&&r[sa].splice(c,1)}(this._lView,a)}}function JT(){return new XT(Sn())}function hi(){return gr(hr(),Sn())}function gr(r,a){return new Rc(Qi(r,a))}let Rc=(()=>{class r{constructor(c){this.nativeElement=c}static{this.__NG_ELEMENT_ID__=hi}}return r})();function Ed(r){return r instanceof Rc?r.nativeElement:r}function pf(r){return a=>{setTimeout(r,void 0,a)}}const oa=class ra extends _t.B{constructor(a=!1){super(),this.destroyRef=void 0,this.__isAsync=a,Mr()&&(this.destroyRef=Fs(yd,{optional:!0})??void 0)}emit(a){const c=p(null);try{super.next(a)}finally{p(c)}}subscribe(a,c,g){let S=a,F=c||(()=>null),K=g;if(a&&"object"==typeof a){const ge=a;S=ge.next?.bind(ge),F=ge.error?.bind(ge),K=ge.complete?.bind(ge)}this.__isAsync&&(F=pf(F),S&&(S=pf(S)),K&&(K=pf(K)));const te=super.subscribe({next:S,error:F,complete:K});return a instanceof We.yU&&a.add(te),te}};function SR(){return this._results[Symbol.iterator]()}class ff{get changes(){return this._changes??=new oa}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const c=ff.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=SR)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){this.dirty=!1;const g=function Ft(r){return r.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function ot(r,a,c){if(r.length!==a.length)return!1;for(let g=0;g<r.length;g++){let S=r[g],F=a[g];if(c&&(S=c(S),F=c(F)),F!==S)return!1}return!0}(this._results,g,c))&&(this._results=g,this.length=g.length,this.last=g[this.length-1],this.first=g[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(a){this._onDirty=a}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}const Dh="ngSkipHydration",mf="ngskiphydration";function QT(r){const a=r.mergedAttrs;if(null===a)return!1;for(let c=0;c<a.length;c+=2){const g=a[c];if("number"==typeof g)return!1;if("string"==typeof g&&g.toLowerCase()===mf)return!0}return!1}function vg(r){return r.hasAttribute(Dh)}function gf(r){return!(128&~r.flags)}const vf=new Map;let Cd=0;const Ac="__ngContext__";function Kr(r,a){ti(a)?(r[Ac]=a[Sr],function pu(r){vf.set(r[Sr],r)}(a)):r[Ac]=a}function y0(r){return C0(r[Da])}function E0(r){return C0(r[Cr])}function C0(r){for(;null!==r&&!Fr(r);)r=r[Cr];return r}let yf;function M0(r){yf=r}function Co(){if(void 0!==yf)return yf;if(typeof document<"u")return document;throw new we(210,!1)}const Ef=new rt("",{providedIn:"root",factory:()=>Lc}),Lc="ng",Mg=new rt(""),Ig=new rt("",{providedIn:"platform",factory:()=>"unknown"}),nD=new rt(""),sD=new rt("",{providedIn:"root",factory:()=>Co().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function S0(r){return r}function Nc(){const r=new Oh;return"browser"===Fs(Ig)&&(r.store=function Sg(r,a){const c=r.getElementById(a+"-state");if(c?.textContent)try{return JSON.parse(c.textContent)}catch(g){console.warn("Exception while restoring TransferState for app "+a,g)}return{}}(Co(),Fs(Ef))),r}let Oh=(()=>{class r{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=gs({token:r,providedIn:"root",factory:Nc})}get(c,g){return void 0!==this.store[c]?this.store[c]:g}set(c,g){this.store[c]=g}remove(c){delete this.store[c]}hasKey(c){return this.store.hasOwnProperty(c)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(c,g){this.onSerializeCallbacks[c]=g}toJson(){for(const c in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(c))try{this.store[c]=this.onSerializeCallbacks[c]()}catch(g){console.warn("Exception in onSerialize callback: ",g)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return r})();const oc="h",Pg="b";var fu=function(r){return r.FirstChild="f",r.NextSibling="n",r}(fu||{});const hl="e",Rg="t",Mh="c",Cf="x",mu="r",bf="i",Td="n",Tf="d",Ag="__nghData__",Qa="ngh",P0="nghm";let Df=()=>null;function R0(r,a,c=!1){let g=r.getAttribute(Qa);if(null==g)return null;const[S,F]=g.split("|");if(g=c?F:S,!g)return null;const te=c?S:F?`|${F}`:"";let ge={};if(""!==g){const Qe=a.get(Oh,null,{optional:!0});null!==Qe&&(ge=Qe.get(Ag,[])[Number(g)])}const xe={data:ge,firstChild:r.firstChild??null};return c&&(xe.firstChild=r,Ih(xe,0,r.nextSibling)),te?r.setAttribute(Qa,te):r.removeAttribute(Qa),xe}function gu(r,a,c=!1){return Df(r,a,c)}function A0(r){let a=r._lView;return 2===a[Kn].type?null:(Ml(a)&&(a=a[Zs]),a)}function Ih(r,a,c){r.segmentHeads??={},r.segmentHeads[a]=c}function Fc(r,a){return r.segmentHeads?.[a]??null}function vu(r,a){return r.data[Mh]?.[a]??null}function xg(r,a){const c=vu(r,a)??[];let g=0;for(let S of c)g+=S[mu]*(S[Cf]??1);return g}function lc(r,a){if(typeof r.disconnectedNodes>"u"){const c=r.data[Tf];r.disconnectedNodes=c?new Set(c):null}return!!r.disconnectedNodes?.has(a)}const Sh=new rt(""),L0=new rt("",{providedIn:"root",factory:()=>!1}),N0=new rt("");let Bc,Of;function Eu(r){return function yu(){if(void 0===Bc&&(Bc=null,ln.trustedTypes))try{Bc=ln.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Bc}()?.createHTML(r)||r}function B0(){if(void 0===Of&&(Of=null,ln.trustedTypes))try{Of=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Of}function Ph(r){return B0()?.createHTML(r)||r}function Nn(r){return B0()?.createScriptURL(r)||r}class ks{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pe})`}}class Wn extends ks{getTypeName(){return"HTML"}}class Cu extends ks{getTypeName(){return"Style"}}class Hn extends ks{getTypeName(){return"Script"}}class Di extends ks{getTypeName(){return"URL"}}class No extends ks{getTypeName(){return"ResourceURL"}}function Ui(r){return r instanceof ks?r.changingThisBreaksApplicationSecurity:r}function $r(r,a){const c=function Pi(r){return r instanceof ks&&r.getTypeName()||null}(r);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Pe})`)}return c===a}function Rh(r){return new Wn(r)}function jr(r){return new Cu(r)}function jc(r){return new Hn(r)}function dD(r){return new Di(r)}function U0(r){return new No(r)}function j0(r){const a=new hD(r);return function pD(){try{return!!(new window.DOMParser).parseFromString(Eu(""),"text/html")}catch{return!1}}()?new uD(a):a}class uD{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Eu(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class hD{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Eu(a),c}}const fD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function kc(r){return(r=String(r)).match(fD)?r:"unsafe:"+r}function cc(r){const a={};for(const c of r.split(","))a[c]=!0;return a}function Vc(...r){const a={};for(const c of r)for(const g in c)c.hasOwnProperty(g)&&(a[g]=!0);return a}const Dd=cc("area,br,col,hr,img,wbr"),k0=cc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fg=cc("rp,rt"),Bg=Vc(Dd,Vc(k0,cc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vc(Fg,cc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vc(Fg,k0)),Ug=cc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ah=Vc(Ug,cc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Od=cc("script,style,template");class wa{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,g=!0,S=[];for(;c;)if(c.nodeType===Node.ELEMENT_NODE?g=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,g&&c.firstChild)S.push(c),c=Id(c);else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let F=Md(c);if(F){c=F;break}c=S.pop()}return this.buf.join("")}startElement(a){const c=Gc(a).toLowerCase();if(!Bg.hasOwnProperty(c))return this.sanitizedSomething=!0,!Od.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const g=a.attributes;for(let S=0;S<g.length;S++){const F=g.item(S),K=F.name,te=K.toLowerCase();if(!Ah.hasOwnProperty(te)){this.sanitizedSomething=!0;continue}let ge=F.value;Ug[te]&&(ge=kc(ge)),this.buf.push(" ",K,'="',G0(ge),'"')}return this.buf.push(">"),!0}endElement(a){const c=Gc(a).toLowerCase();Bg.hasOwnProperty(c)&&!Dd.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(G0(a))}}function Md(r){const a=r.nextSibling;if(a&&r!==a.previousSibling)throw V0(a);return a}function Id(r){const a=r.firstChild;if(a&&function Ul(r,a){return(r.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,a))throw V0(a);return a}function Gc(r){const a=r.nodeName;return"string"==typeof a?a:"FORM"}function V0(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const mD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gD=/([^\#-~ |!])/g;function G0(r){return r.replace(/&/g,"&amp;").replace(mD,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(gD,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let If;function $0(r,a){let c=null;try{If=If||j0(r);let g=a?String(a):"";c=If.getInertBodyElement(g);let S=5,F=g;do{if(0===S)throw new Error("Failed to sanitize html because the input is unstable");S--,g=F,F=c.innerHTML,c=If.getInertBodyElement(g)}while(g!==F);return Eu((new wa).sanitizeChildren(jg(c)||c))}finally{if(c){const g=jg(c)||c;for(;g.firstChild;)g.removeChild(g.firstChild)}}}function jg(r){return"content"in r&&function _D(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Sd=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Sd||{});function W0(r){const a=xh();return a?Ph(a.sanitize(Sd.HTML,r)||""):$r(r,"HTML")?Ph(Ui(r)):$0(Co(),Ms(r))}function wh(r){const a=xh();return a?a.sanitize(Sd.URL,r)||"":$r(r,"URL")?Ui(r):kc(Ms(r))}function kg(r){const a=xh();if(a)return Nn(a.sanitize(Sd.RESOURCE_URL,r)||"");if($r(r,"ResourceURL"))return Nn(Ui(r));throw new we(904,!1)}function Po(r,a,c){return function Sf(r,a){return"src"===a&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===a&&("base"===r||"link"===r)?kg:wh}(a,c)(r)}function xh(){const r=Sn();return r&&r[yo].sanitizer}const bD=/^>|^->|<!--|-->|--!>|<!-$/g,TD=/(<|>)/g,DD="\u200b$1\u200b";function Ko(r){return r.ownerDocument.defaultView}function z0(r){return r.ownerDocument}function so(r){return r instanceof Function?r():r}function fl(r){return"browser"===(r??Fs(Aa)).get(Ig)}var xf=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(xf||{});let Hg;function Fh(r,a){return Hg(r,a)}function Du(r,a,c,g,S){if(null!=g){let F,K=!1;Fr(g)?F=g:ti(g)&&(K=!0,g=g[gi]);const te=ir(g);0===r&&null!==c?null==S?BD(a,c,te):xa(a,c,te,S||null,!0):1===r&&null!==c?xa(a,c,te,S||null,!0):2===r?Mu(a,te,K):3===r&&a.destroyNode(te),null!=F&&function kD(r,a,c,g,S){const F=c[Eo];F!==ir(c)&&Du(a,r,g,F,S);for(let te=Ji;te<c.length;te++){const ge=c[te];jf(ge[Kn],ge,r,a,g,F)}}(a,r,F,c,S)}}function zg(r,a){return r.createText(a)}function J0(r,a,c){r.setValue(a,c)}function Bh(r,a){return r.createComment(function bu(r){return r.replace(bD,a=>a.replace(TD,DD))}(a))}function Ad(r,a,c){return r.createElement(a,c)}function Q0(r,a){a[yo].changeDetectionScheduler?.notify(1),jf(r,a,a[Hs],2,null,null)}function Z0(r,a){const c=r[ia],g=c.indexOf(a);c.splice(g,1)}function Uh(r,a){if(r.length<=Ji)return;const c=Ji+a,g=r[c];if(g){const S=g[al];null!==S&&S!==r&&Z0(S,g),a>0&&(r[c-1][Cr]=g[Cr]);const F=Qn(r,Ji+a);!function xD(r,a){Q0(r,a),a[gi]=null,a[vr]=null}(g[Kn],g);const K=F[br];null!==K&&K.detachView(F[Kn]),g[Si]=null,g[Cr]=null,g[Ts]&=-129}return g}function Ff(r,a){if(!(256&a[Ts])){const c=a[Hs];c.destroyNode&&jf(r,a,c,3,null,null),function ND(r){let a=r[Da];if(!a)return Ou(r[Kn],r);for(;a;){let c=null;if(ti(a))c=a[Da];else{const g=a[Ji];g&&(c=g)}if(!c){for(;a&&!a[Cr]&&a!==r;)ti(a)&&Ou(a[Kn],a),a=a[Si];null===a&&(a=r),ti(a)&&Ou(a[Kn],a),c=a&&a[Cr]}a=c}}(a)}}function Ou(r,a){if(256&a[Ts])return;const c=p(null);try{a[Ts]&=-129,a[Ts]|=256,a[Ka]&&L(a[Ka]),function Bf(r,a){let c;if(null!=r&&null!=(c=r.destroyHooks))for(let g=0;g<c.length;g+=2){const S=a[c[g]];if(!(S instanceof Zl)){const F=c[g+1];if(Array.isArray(F))for(let K=0;K<F.length;K+=2){const te=S[F[K]],ge=F[K+1];Ya(4,te,ge);try{ge.call(te)}finally{Ya(5,te,ge)}}else{Ya(4,S,F);try{F.call(S)}finally{Ya(5,S,F)}}}}}(r,a),function FD(r,a){const c=r.cleanup,g=a[Ir];if(null!==c)for(let F=0;F<c.length-1;F+=2)if("string"==typeof c[F]){const K=c[F+3];K>=0?g[K]():g[-K].unsubscribe(),F+=2}else c[F].call(g[c[F+1]]);null!==g&&(a[Ir]=null);const S=a[sa];if(null!==S){a[sa]=null;for(let F=0;F<S.length;F++)(0,S[F])()}}(r,a),1===a[Kn].type&&a[Hs].destroy();const g=a[al];if(null!==g&&Fr(a[Si])){g!==a[Si]&&Z0(g,a);const S=a[br];null!==S&&S.detachView(r)}!function m0(r){vf.delete(r[Sr])}(a)}finally{p(c)}}function Yg(r,a,c){return jh(r,a.parent,c)}function jh(r,a,c){let g=a;for(;null!==g&&40&g.type;)g=(a=g).parent;if(null===g)return c[gi];{const{componentOffset:S}=g;if(S>-1){const{encapsulation:F}=r.data[g.directiveStart+S];if(F===fr.None||F===fr.Emulated)return null}return Qi(g,c)}}function xa(r,a,c,g,S){r.insertBefore(a,c,g,S)}function BD(r,a,c){r.appendChild(a,c)}function La(r,a,c,g,S){null!==g?xa(r,a,c,g,S):BD(r,a,c)}function kh(r,a){return r.parentNode(a)}function ey(r,a,c){return ny(r,a,c)}function ty(r,a,c){return 40&r.type?Qi(r,c):null}let Xg,ny=ty;function sy(r,a){ny=r,Xg=a}function Uf(r,a,c,g){const S=Yg(r,g,a),F=a[Hs],te=ey(g.parent||a[vr],g,a);if(null!=S)if(Array.isArray(c))for(let ge=0;ge<c.length;ge++)La(F,S,c[ge],te,!1);else La(F,S,c,te,!1);void 0!==Xg&&Xg(F,g,a,c,S)}function Vh(r,a){if(null!==a){const c=a.type;if(3&c)return Qi(a,r);if(4&c)return Va(-1,r[a.index]);if(8&c){const g=a.child;if(null!==g)return Vh(r,g);{const S=r[a.index];return Fr(S)?Va(-1,S):ir(S)}}if(32&c)return Fh(a,r)()||ir(r[a.index]);{const g=iy(r,a);return null!==g?Array.isArray(g)?g[0]:Vh(Pl(r[ur]),g):Vh(r,a.next)}}return null}function iy(r,a){return null!==a?r[ur][vr].projection[a.projection]:null}function Va(r,a){const c=Ji+r+1;if(c<a.length){const g=a[c],S=g[Kn].firstChild;if(null!==S)return Vh(g,S)}return a[Eo]}function Mu(r,a,c){const g=kh(r,a);g&&function Hr(r,a,c,g){r.removeChild(a,c,g)}(r,g,a,c)}function Jg(r){r.textContent=""}function Qg(r,a,c,g,S,F,K){for(;null!=c;){const te=g[c.index],ge=c.type;if(K&&0===a&&(te&&Kr(ir(te),g),c.flags|=2),32&~c.flags)if(8&ge)Qg(r,a,c.child,g,S,F,!1),Du(a,r,S,te,F);else if(32&ge){const xe=Fh(c,g);let Qe;for(;Qe=xe();)Du(a,r,S,Qe,F);Du(a,r,S,te,F)}else 16&ge?ry(r,a,g,c,S,F):Du(a,r,S,te,F);c=K?c.projectionNext:c.next}}function jf(r,a,c,g,S,F){Qg(c,g,r.firstChild,a,S,F,!1)}function ry(r,a,c,g,S,F){const K=c[ur],ge=K[vr].projection[g.projection];if(Array.isArray(ge))for(let xe=0;xe<ge.length;xe++)Du(a,r,S,ge[xe],F);else{let xe=ge;const Qe=K[Si];gf(g)&&(xe.flags|=128),Qg(r,a,xe,Qe,S,F,!0)}}function Iu(r,a,c){""===c?r.removeAttribute(a,"class"):r.setAttribute(a,"class",c)}function oy(r,a,c){const{mergedAttrs:g,classes:S,styles:F}=c;null!==g&&ke(r,a,g),null!==S&&Iu(r,a,S),null!==F&&function GD(r,a,c){r.setAttribute(a,"style",c)}(r,a,F)}const vi={};function Gh(r=1){Zg(bi(),Sn(),lo()+r,!1)}function Zg(r,a,c,g){if(!g)if(3&~a[Ts]){const F=r.preOrderHooks;null!==F&&ef(a,F,0,c)}else{const F=r.preOrderCheckHooks;null!==F&&qp(a,F,c)}Rl(c)}function wd(r,a=Wt.Default){const c=Sn();return null===c?lr(r,a):Ra(hr(),c,Le(r),a)}function ay(){throw new Error("invalid")}function ly(r,a,c,g,S,F){const K=p(null);try{let te=null;S&Gr.SignalBased&&(te=a[g][m]),null!==te&&void 0!==te.transformFn&&(F=te.transformFn(F)),S&Gr.HasDecoratorInputTransform&&(F=r.inputTransforms[g].call(a,F)),null!==r.setInput?r.setInput(a,te,F,c,g):So(a,te,g,F)}finally{p(K)}}function kf(r,a,c,g,S,F,K,te,ge,xe,Qe){const Mt=a.blueprint.slice();return Mt[gi]=S,Mt[Ts]=204|g,(null!==xe||r&&2048&r[Ts])&&(Mt[Ts]|=2048),ao(Mt),Mt[Si]=Mt[oo]=r,Mt[Ri]=c,Mt[yo]=K||r&&r[yo],Mt[Hs]=te||r&&r[Hs],Mt[Xi]=ge||r&&r[Xi]||null,Mt[vr]=F,Mt[Sr]=function p0(){return Cd++}(),Mt[Nr]=Qe,Mt[hd]=xe,Mt[ur]=2==a.type?r[ur]:Mt,Mt}function Su(r,a,c,g,S){let F=r.data[a];if(null===F)F=qg(r,a,c,g,S),function be(){return zs.lFrame.inI18n}()&&(F.flags|=32);else if(64&F.type){F.type=c,F.value=g,F.attrs=S;const K=dl();F.injectorIndex=null===K?-1:K.injectorIndex}return ka(F,!0),F}function qg(r,a,c,g,S){const F=gh(),K=Ur(),ge=r.data[a]=function XD(r,a,c,g,S,F){let K=a?a.injectorIndex:-1,te=0;return md()&&(te|=128),{type:c,index:g,insertBeforeIndex:null,injectorIndex:K,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:te,providerIndexes:0,value:S,attrs:F,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,K?F:F&&F.parent,c,a,g,S);return null===r.firstChild&&(r.firstChild=ge),null!==F&&(K?null==F.child&&null!==ge.parent&&(F.child=ge):null===F.next&&(F.next=ge,ge.prev=F)),ge}function dc(r,a,c,g){if(0===c)return-1;const S=a.length;for(let F=0;F<c;F++)a.push(g),r.blueprint.push(g),r.data.push(null);return S}function cy(r,a,c,g,S){const F=lo(),K=2&g;try{Rl(-1),K&&a.length>Zs&&Zg(r,a,Zs,!1),Ya(K?2:0,S),c(g,S)}finally{Rl(F),Ya(K?3:1,S)}}function e_(r,a,c){if(Ma(a)){const g=p(null);try{const F=a.directiveEnd;for(let K=a.directiveStart;K<F;K++){const te=r.data[K];te.contentQueries&&te.contentQueries(1,c[K],K)}}finally{p(g)}}}function Pu(r,a,c){zp()&&(function eO(r,a,c,g){const S=c.directiveStart,F=c.directiveEnd;Lo(c)&&function iO(r,a,c){const g=Qi(a,r),S=t_(c);let K=16;c.signals?K=4096:c.onPush&&(K=64);const te=Gf(r,kf(r,S,null,K,g,a,null,r[yo].rendererFactory.createRenderer(g,c),null,null,null));r[a.index]=te}(a,c,r.data[S+c.componentOffset]),r.firstCreatePass||sf(c,a),Kr(g,a);const K=c.initialInputs;for(let te=S;te<F;te++){const ge=r.data[te],xe=_d(a,r,te,c);Kr(xe,a),null!==K&&rO(0,te-S,xe,ge,0,K),qr(ge)&&(Br(c.index,a)[Ri]=_d(a,r,te,c))}}(r,a,c,Qi(c,a)),!(64&~c.flags)&&Ru(r,a,c))}function Vf(r,a,c=Qi){const g=a.localNames;if(null!==g){let S=a.index+1;for(let F=0;F<g.length;F+=2){const K=g[F+1],te=-1===K?c(a,r):r[K];r[S++]=te}}}function t_(r){const a=r.tView;return null===a||a.incompleteFirstPass?r.tView=n_(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):a}function n_(r,a,c,g,S,F,K,te,ge,xe,Qe){const Mt=Zs+g,Qt=Mt+S,on=function WD(r,a){const c=[];for(let g=0;g<a;g++)c.push(g<r?null:vi);return c}(Mt,Qt),mn="function"==typeof xe?xe():xe;return on[Kn]={type:r,blueprint:on,template:c,queries:null,viewQuery:te,declTNode:a,data:on.slice().fill(null,Mt),bindingStartIndex:Mt,expandoStartIndex:Qt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof F?F():F,pipeRegistry:"function"==typeof K?K():K,firstChild:null,schemas:ge,consts:mn,incompleteFirstPass:!1,ssrId:Qe}}let dy=()=>null;function zD(r){vg(r)?Jg(r):function w0(r){const a=Co(),c=a.createNodeIterator(r,NodeFilter.SHOW_COMMENT,{acceptNode(F){const K=function oD(r){return r.textContent?.replace(/\s/gm,"")}(F);return"ngetn"===K||"ngtns"===K?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let g;const S=[];for(;g=c.nextNode();)S.push(g);for(const F of S)"ngetn"===F.textContent?F.replaceWith(a.createTextNode("")):F.remove()}(r)}function Wh(r,a,c,g,S){for(let F in a){if(!a.hasOwnProperty(F))continue;const K=a[F];if(void 0===K)continue;g??={};let te,ge=Gr.None;Array.isArray(K)?(te=K[0],ge=K[1]):te=K;let xe=F;if(null!==S){if(!S.hasOwnProperty(F))continue;xe=S[F]}0===r?uc(g,c,xe,te,ge):uc(g,c,xe,te)}return g}function uc(r,a,c,g,S){let F;r.hasOwnProperty(c)?(F=r[c]).push(a,g):F=r[c]=[a,g],void 0!==S&&F.push(S)}function Na(r,a,c,g,S,F,K,te){const ge=Qi(a,c);let Qe,xe=a.inputs;!te&&null!=xe&&(Qe=xe[g])?(o_(r,c,Qe,g,S),Lo(a)&&function JD(r,a){const c=Br(a,r);16&c[Ts]||(c[Ts]|=64)}(c,a.index)):3&a.type&&(g=function hy(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(g),S=null!=K?K(S,a.value||"",g):S,F.setProperty(ge,g,S))}function s_(r,a,c,g){if(zp()){const S=null===g?null:{"":-1},F=function nO(r,a){const c=r.directiveRegistry;let g=null,S=null;if(c)for(let F=0;F<c.length;F++){const K=c[F];if(Gi(a,K.selectors,!1))if(g||(g=[]),qr(K))if(null!==K.findHostDirectiveDefs){const te=[];S=S||new Map,K.findHostDirectiveDefs(K,te,S),g.unshift(...te,K),Au(r,a,te.length)}else g.unshift(K),Au(r,a,0);else S=S||new Map,K.findHostDirectiveDefs?.(K,g,S),g.push(K)}return null===g?null:[g,S]}(r,c);let K,te;null===F?K=te=null:[K,te]=F,null!==K&&py(r,a,c,K,S,te),S&&function fy(r,a,c){if(a){const g=r.localNames=[];for(let S=0;S<a.length;S+=2){const F=c[a[S+1]];if(null==F)throw new we(-301,!1);g.push(a[S],F)}}}(c,g,S)}c.mergedAttrs=Ve(c.mergedAttrs,c.attrs)}function py(r,a,c,g,S,F){for(let xe=0;xe<g.length;xe++)af(sf(c,a),r,g[xe].type);!function gy(r,a,c){r.flags|=1,r.directiveStart=a,r.directiveEnd=a+c,r.providerIndexes=a}(c,r.data.length,g.length);for(let xe=0;xe<g.length;xe++){const Qe=g[xe];Qe.providersResolver&&Qe.providersResolver(Qe)}let K=!1,te=!1,ge=dc(r,a,g.length,null);for(let xe=0;xe<g.length;xe++){const Qe=g[xe];c.mergedAttrs=Ve(c.mergedAttrs,Qe.hostAttrs),sO(r,c,a,ge,Qe),my(ge,Qe,S),null!==Qe.contentQueries&&(c.flags|=4),(null!==Qe.hostBindings||null!==Qe.hostAttrs||0!==Qe.hostVars)&&(c.flags|=64);const Mt=Qe.type.prototype;!K&&(Mt.ngOnChanges||Mt.ngOnInit||Mt.ngDoCheck)&&((r.preOrderHooks??=[]).push(c.index),K=!0),!te&&(Mt.ngOnChanges||Mt.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(c.index),te=!0),ge++}!function uy(r,a,c){const S=a.directiveEnd,F=r.data,K=a.attrs,te=[];let ge=null,xe=null;for(let Qe=a.directiveStart;Qe<S;Qe++){const Mt=F[Qe],Qt=c?c.get(Mt):null,mn=Qt?Qt.outputs:null;ge=Wh(0,Mt.inputs,Qe,ge,Qt?Qt.inputs:null),xe=Wh(1,Mt.outputs,Qe,xe,mn);const Rn=null===ge||null===K||En(a)?null:oO(ge,Qe,K);te.push(Rn)}null!==ge&&(ge.hasOwnProperty("class")&&(a.flags|=8),ge.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=te,a.inputs=ge,a.outputs=xe}(r,c,F)}function Ru(r,a,c){const g=c.directiveStart,S=c.directiveEnd,F=c.index,K=function yn(){return zs.lFrame.currentDirectiveIndex}();try{Rl(F);for(let te=g;te<S;te++){const ge=r.data[te],xe=a[te];An(te),(null!==ge.hostBindings||0!==ge.hostVars||null!==ge.hostAttrs)&&tO(ge,xe)}}finally{Rl(-1),An(K)}}function tO(r,a){null!==r.hostBindings&&r.hostBindings(1,a)}function Au(r,a,c){a.componentOffset=c,(r.components??=[]).push(a.index)}function my(r,a,c){if(c){if(a.exportAs)for(let g=0;g<a.exportAs.length;g++)c[a.exportAs[g]]=r;qr(a)&&(c[""]=r)}}function sO(r,a,c,g,S){r.data[g]=S;const F=S.factory||(S.factory=Ze(S.type)),K=new Zl(F,qr(S),wd);r.blueprint[g]=K,c[g]=K,function ZD(r,a,c,g,S){const F=S.hostBindings;if(F){let K=r.hostBindingOpCodes;null===K&&(K=r.hostBindingOpCodes=[]);const te=~a.index;(function qD(r){let a=r.length;for(;a>0;){const c=r[--a];if("number"==typeof c&&c<0)return c}return 0})(K)!=te&&K.push(te),K.push(c,g,F)}}(r,a,g,dc(r,c,S.hostVars,vi),S)}function i_(r,a,c,g,S,F,K){if(null==F)r.removeAttribute(a,S,c);else{const te=null==K?Ms(F):K(F,g||"",S);r.setAttribute(a,S,te,c)}}function rO(r,a,c,g,S,F){const K=F[a];if(null!==K)for(let te=0;te<K.length;)ly(g,c,K[te++],K[te++],K[te++],K[te++])}function oO(r,a,c){let g=null,S=0;for(;S<c.length;){const F=c[S];if(0!==F)if(5!==F){if("number"==typeof F)break;if(r.hasOwnProperty(F)){null===g&&(g=[]);const K=r[F];for(let te=0;te<K.length;te+=3)if(K[te]===a){g.push(F,K[te+1],K[te+2],c[S+1]);break}}S+=2}else S+=2;else S+=4}return g}function _y(r,a,c,g){return[r,!0,0,a,null,g,null,c,null,null]}function vy(r,a){const c=r.contentQueries;if(null!==c){const g=p(null);try{for(let S=0;S<c.length;S+=2){const K=c[S+1];if(-1!==K){const te=r.data[K];Ls(c[S]),te.contentQueries(2,a[K],K)}}}finally{p(g)}}}function Gf(r,a){return r[Da]?r[Oa][Cr]=a:r[Da]=a,r[Oa]=a,a}function r_(r,a,c){Ls(0);const g=p(null);try{a(r,c)}finally{p(g)}}function yy(r){return r[Ir]||(r[Ir]=[])}function Ey(r){return r.cleanup||(r.cleanup=[])}function $f(r,a){const c=r[Xi],g=c?c.get(ql,null):null;g&&g.handleError(a)}function o_(r,a,c,g,S){for(let F=0;F<c.length;){const K=c[F++],te=c[F++],ge=c[F++];ly(r.data[K],a[K],g,te,ge,S)}}function Za(r,a,c){const g=Sl(a,r);J0(r[Hs],g,c)}function Cy(r,a){const c=Br(a,r),g=c[Kn];!function by(r,a){for(let c=a.length;c<r.blueprint.length;c++)a.push(r.blueprint[c])}(g,c);const S=c[gi];null!==S&&null===c[Nr]&&(c[Nr]=gu(S,c[Xi])),Wf(g,c,c[Ri])}function Wf(r,a,c){pr(a);try{const g=r.viewQuery;null!==g&&r_(1,g,c);const S=r.template;null!==S&&cy(r,a,S,1,c),r.firstCreatePass&&(r.firstCreatePass=!1),a[br]?.finishViewCreation(r),r.staticContentQueries&&vy(r,a),r.staticViewQueries&&r_(2,r.viewQuery,c);const F=r.components;null!==F&&function aO(r,a){for(let c=0;c<a.length;c++)Cy(r,a[c])}(a,F)}catch(g){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),g}finally{a[Ts]&=-5,au()}}function Kh(r,a,c,g){const S=p(null);try{const F=a.tView,ge=kf(r,F,c,4096&r[Ts]?4096:16,null,a,null,null,g?.injector??null,g?.embeddedViewInjector??null,g?.dehydratedView??null);ge[al]=r[a.index];const Qe=r[br];return null!==Qe&&(ge[br]=Qe.createEmbeddedView(F)),Wf(F,ge,c),ge}finally{p(S)}}function Ty(r,a){const c=Ji+a;if(c<r.length)return r[c]}function xu(r,a){return!a||null===a.firstChild||gf(r)}function Hh(r,a,c,g=!0){const S=a[Kn];if(function Lf(r,a,c,g){const S=Ji+g,F=c.length;g>0&&(c[S-1][Cr]=a),g<F-Ji?(a[Cr]=c[S],Dn(c,Ji+g,a)):(c.push(a),a[Cr]=null),a[Si]=c;const K=a[al];null!==K&&c!==K&&function Nf(r,a){const c=r[ia];a[ur]!==a[Si][Si][ur]&&(r[Ts]|=Hl.HasTransplantedViews),null===c?r[ia]=[a]:c.push(a)}(K,a);const te=a[br];null!==te&&te.insertView(r),to(a),a[Ts]|=128}(S,a,r,c),g){const K=Va(c,r),te=a[Hs],ge=kh(te,r[Eo]);null!==ge&&function LD(r,a,c,g,S,F){g[gi]=S,g[vr]=a,jf(r,g,c,1,S,F)}(S,r[vr],te,a,ge,K)}const F=a[Nr];null!==F&&null!==F.firstChild&&(F.firstChild=null)}function a_(r,a){const c=Uh(r,a);return void 0!==c&&Ff(c[Kn],c),c}function zh(r,a,c,g,S=!1){for(;null!==c;){const F=a[c.index];null!==F&&g.push(ir(F)),Fr(F)&&Dy(F,g);const K=c.type;if(8&K)zh(r,a,c.child,g);else if(32&K){const te=Fh(c,a);let ge;for(;ge=te();)g.push(ge)}else if(16&K){const te=iy(a,c);if(Array.isArray(te))g.push(...te);else{const ge=Pl(a[ur]);zh(ge[Kn],ge,te,g,!0)}}c=S?c.projectionNext:c.next}return g}function Dy(r,a){for(let c=Ji;c<r.length;c++){const g=r[c],S=g[Kn].firstChild;null!==S&&zh(g[Kn],g,S,a)}r[Eo]!==r[gi]&&a.push(r[Eo])}let Oy=[];const Yh={...C,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Xa(r.lView)},consumerOnSignalRead(){this.lView[Ka]=this}},My=100;function Kf(r,a=!0,c=0){const g=r[yo],S=g.rendererFactory;S.begin?.();try{!function Hf(r,a){Lu(r,a);let c=0;for(;mi(r);){if(c===My)throw new we(103,!1);c++,Lu(r,1)}}(r,c)}catch(K){throw a&&$f(r,K),K}finally{S.end?.(),g.inlineEffectRunner?.flush()}}function hc(r,a,c,g){const S=a[Ts];if(!(256&~S))return;a[yo].inlineEffectRunner?.flush(),pr(a);let K=null,te=null;(function uO(r){return 2!==r.type})(r)&&(te=function lO(r){return r[Ka]??function cO(r){const a=Oy.pop()??Object.create(Yh);return a.lView=r,a}(r)}(a),K=b(te));try{ao(a),function de(r){return zs.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==c&&cy(r,a,c,2,g);const ge=!(3&~S);if(ge){const Mt=r.preOrderCheckHooks;null!==Mt&&qp(a,Mt,null)}else{const Mt=r.preOrderHooks;null!==Mt&&ef(a,Mt,0,null),Zv(a,0)}if(function hO(r){for(let a=y0(r);null!==a;a=E0(a)){if(!(a[Ts]&Hl.HasTransplantedViews))continue;const c=a[ia];for(let g=0;g<c.length;g++){ws(c[g])}}}(a),Xh(a,0),null!==r.contentQueries&&vy(r,a),ge){const Mt=r.contentCheckHooks;null!==Mt&&qp(a,Mt)}else{const Mt=r.contentHooks;null!==Mt&&ef(a,Mt,1),Zv(a,1)}!function $D(r,a){const c=r.hostBindingOpCodes;if(null!==c)try{for(let g=0;g<c.length;g++){const S=c[g];if(S<0)Rl(~S);else{const F=S,K=c[++g],te=c[++g];Kt(K,F),te(2,a[F])}}}finally{Rl(-1)}}(r,a);const xe=r.components;null!==xe&&Sy(a,xe,0);const Qe=r.viewQuery;if(null!==Qe&&r_(2,Qe,g),ge){const Mt=r.viewCheckHooks;null!==Mt&&qp(a,Mt)}else{const Mt=r.viewHooks;null!==Mt&&ef(a,Mt,2),Zv(a,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),a[Dl]){for(const Mt of a[Dl])Mt();a[Dl]=null}a[Ts]&=-73}catch(ge){throw Xa(a),ge}finally{null!==te&&(P(te,K),function dO(r){r.lView[Ka]!==r&&(r.lView=null,Oy.push(r))}(te)),au()}}function Xh(r,a){for(let c=y0(r);null!==c;c=E0(c))for(let g=Ji;g<c.length;g++)Iy(c[g],a)}function zf(r,a,c){Iy(Br(a,r),c)}function Iy(r,a){Xl(r)&&Lu(r,a)}function Lu(r,a){const g=r[Kn],S=r[Ts],F=r[Ka];let K=!!(0===a&&16&S);if(K||=!!(64&S&&0===a),K||=!!(1024&S),K||=!(!F?.dirty||!M(F)),F&&(F.dirty=!1),r[Ts]&=-9217,K)hc(g,r,g.template,r[Ri]);else if(8192&S){Xh(r,1);const te=g.components;null!==te&&Sy(r,te,1)}}function Sy(r,a,c){for(let g=0;g<a.length;g++)zf(r,a[g],c)}function Fo(r){for(r[yo].changeDetectionScheduler?.notify();r;){r[Ts]|=64;const a=Pl(r);if(Ml(r)&&!a)return r;r=a}return null}class Jh{get rootNodes(){const a=this._lView,c=a[Kn];return zh(c,a,c.firstChild,[])}constructor(a,c,g=!0){this._lView=a,this._cdRefInjectingView=c,this.notifyErrorHandler=g,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ri]}set context(a){this._lView[Ri]=a}get destroyed(){return!(256&~this._lView[Ts])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Si];if(Fr(a)){const c=a[8],g=c?c.indexOf(this):-1;g>-1&&(Uh(a,g),Qn(c,g))}this._attachedToViewContainer=!1}Ff(this._lView[Kn],this._lView)}onDestroy(a){js(this._lView,a)}markForCheck(){Fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ts]&=-129}reattach(){to(this._lView),this._lView[Ts]|=128}detectChanges(){this._lView[Ts]|=1024,Kf(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Q0(this._lView[Kn],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a,to(this._lView)}}let xd=(()=>{class r{static{this.__NG_ELEMENT_ID__=mO}}return r})();const pO=xd,fO=class extends pO{constructor(a,c,g){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=g}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,g){const S=Kh(this._declarationLView,this._declarationTContainer,a,{embeddedViewInjector:c,dehydratedView:g});return new Jh(S)}};function mO(){return Yf(hr(),Sn())}function Yf(r,a){return 4&r.type?new fO(a,r,gr(r,a)):null}function Py(r){const a=r[Ol]??[],g=r[Si][Hs];for(const S of a)bO(S,g);r[Ol]=Ks}function bO(r,a){let c=0,g=r.firstChild;if(g){const S=r.data[mu];for(;c<S;){const F=g.nextSibling;Mu(a,g,!1),g=F,c++}}}function pc(r){Py(r);for(let a=Ji;a<r.length;a++)Jf(r[a])}function Jf(r){!function TO(r){const a=r[Nr]?.i18nNodes;if(a){const c=r[Hs];for(const g of a.values())Mu(c,g,!1);r[Nr].i18nNodes=void 0}}(r);const a=r[Kn];for(let c=Zs;c<a.bindingStartIndex;c++)Fr(r[c])?pc(r[c]):ti(r[c])&&Jf(r[c])}const OO=new RegExp(`^(\\d+)*(${Pg}|${oc})*(.*)`);function u_(r){return r.index-Zs}function fc(r,a,c,g){const S=u_(g);let F=function Ry(r,a){const c=r.i18nNodes;if(c){const g=c.get(a);return g&&c.delete(a),g}return null}(r,S);if(!F){const K=r.data[Td];if(K?.[S])F=function PO(r,a){const[c,...g]=function IO(r){const a=r.match(OO),[c,g,S,F]=a,K=g?parseInt(g,10):S,te=[];for(const[ge,xe,Qe]of F.matchAll(/(f|n)(\d*)/g)){const Mt=parseInt(Qe,10)||1;te.push(xe,Mt)}return[K,...te]}(r);let S;return S=c===oc?a[ur][gi]:c===Pg?function Kg(r){return r.ownerDocument.body}(a[ur][gi]):ir(a[Number(c)+Zs]),function Ay(r,a){let c=r;for(let g=0;g<a.length;g+=2){const S=a[g],F=a[g+1];for(let K=0;K<F;K++)switch(S){case fu.FirstChild:c=c.firstChild;break;case fu.NextSibling:c=c.nextSibling}}return c}(S,g)}(K[S],c);else if(a.firstChild===g)F=r.firstChild;else{const te=null===g.prev,ge=g.prev??g.parent;if(function SO(r){return!r.prev&&8===r.parent?.type}(g))F=Fc(r,u_(g.parent));else{let xe=Qi(ge,c);if(te)F=xe.firstChild;else{const Qe=u_(ge),Mt=Fc(r,Qe);F=2===ge.type&&Mt?Qf(xg(r,Qe)+1,Mt):xe.nextSibling}}}}return F}function Qf(r,a){let c=a;for(let g=0;g<r;g++)c=c.nextSibling;return c}let xy=()=>null;function Wc(r,a){const c=r[Ol];return a&&null!==c&&0!==c.length?c[0].data[bf]===a?c.shift():(Py(r),null):null}function $a(r,a){return xy(r,a)}class Zf{}class xO{}class Ly{}class NO{resolveComponentFactory(a){throw function LO(r){const a=Error(`No component factory found for ${Ot(r)}.`);return a.ngComponent=r,a}(a)}}let Hc=(()=>{class r{static{this.NULL=new NO}}return r})();class Ny{}let FO=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function BO(){const r=Sn(),c=Br(hr().index,r);return(ti(c)?c:r)[Hs]}()}}return r})(),UO=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>null})}}return r})();const f_={};function jO(r,a){if(null!==function _(){return l}())throw new we(-602,!1)}const Fy=new Set;function _l(r){Fy.has(r)||(Fy.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}function By(...r){}class bo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const S=this;S._nesting=0,S._outer=S._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(S._inner=S._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(S._inner=S._inner.fork(Zone.longStackTraceZoneSpec)),S.shouldCoalesceEventChangeDetection=!g&&c,S.shouldCoalesceRunChangeDetection=g,S.lastRequestAnimationFrameId=-1,S.nativeRequestAnimationFrame=function qf(){const r="function"==typeof ln.requestAnimationFrame;let a=ln[r?"requestAnimationFrame":"setTimeout"],c=ln[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const g=a[Zone.__symbol__("OriginalDelegate")];g&&(a=g);const S=c[Zone.__symbol__("OriginalDelegate")];S&&(c=S)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function em(r){const a=()=>{!function VO(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ln,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,tm(r),r.isCheckStableRunning=!0,m_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),tm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,g,S,F,K,te)=>{if(function GO(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(te))return c.invokeTask(S,F,K,te);try{return g_(r),c.invokeTask(S,F,K,te)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===F.type||r.shouldCoalesceRunChangeDetection)&&a(),Uy(r)}},onInvoke:(c,g,S,F,K,te,ge)=>{try{return g_(r),c.invoke(S,F,K,te,ge)}finally{r.shouldCoalesceRunChangeDetection&&a(),Uy(r)}},onHasTask:(c,g,S,F)=>{c.hasTask(S,F),g===S&&("microTask"==F.change?(r._hasPendingMicrotasks=F.microTask,tm(r),m_(r)):"macroTask"==F.change&&(r.hasPendingMacrotasks=F.macroTask))},onHandleError:(c,g,S,F)=>(c.handleError(S,F),r.runOutsideAngular(()=>r.onError.emit(F)),!1)})}(S)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new we(909,!1)}run(a,c,g){return this._inner.run(a,c,g)}runTask(a,c,g,S){const F=this._inner,K=F.scheduleEventTask("NgZoneEvent: "+S,a,kO,By,By);try{return F.runTask(K,c,g)}finally{F.cancelTask(K)}}runGuarded(a,c,g){return this._inner.runGuarded(a,c,g)}runOutsideAngular(a){return this._outer.run(a)}}const kO={};function m_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function tm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function g_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Uy(r){r._nesting--,m_(r)}var Ld=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}(Ld||{});const ky={destroy(){}};function Vy(r,a){!a&&fe();const c=a?.injector??Fs(Aa);if(!fl(c))return ky;_l("NgAfterNextRender");const g=c.get(Bu),S=g.handler??=new tp,F=a?.phase??Ld.MixedReadWrite,K=()=>{S.unregister(ge),te()},te=c.get(yd).onDestroy(K),ge=sr(c,()=>new Gy(F,()=>{K(),r()}));return S.register(ge),{destroy:K}}class Gy{constructor(a,c){this.phase=a,this.callbackFn=c,this.zone=Fs(bo),this.errorHandler=Fs(ql,{optional:!0}),Fs(Zf,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class tp{constructor(){this.executingCallbacks=!1,this.buckets={[Ld.EarlyRead]:new Set,[Ld.Write]:new Set,[Ld.MixedReadWrite]:new Set,[Ld.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){this.executingCallbacks=!0;for(const a of Object.values(this.buckets))for(const c of a)c.invoke();this.executingCallbacks=!1;for(const a of this.deferredCallbacks)this.buckets[a.phase].add(a);this.deferredCallbacks.clear()}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let Bu=(()=>{class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const g of c)g()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>new r})}}return r})();function zc(r){return!!fs(r)}function ip(r,a,c){let g=c?r.styles:null,S=c?r.classes:null,F=0;if(null!==a)for(let K=0;K<a.length;K++){const te=a[K];"number"==typeof te?F=te:1==F?S=Zt(S,te):2==F&&(g=Zt(g,te+": "+a[++K]+";"))}c?r.styles=g:r.stylesWithoutHost=g,c?r.classes=S:r.classesWithoutHost=S}class Ky extends Hc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=si(a);return new rp(c,this.ngModule)}}function Hy(r){const a=[];for(const c in r){if(!r.hasOwnProperty(c))continue;const g=r[c];void 0!==g&&a.push({propName:Array.isArray(g)?g[0]:g,templateName:c})}return a}class im{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,g){g=ro(g);const S=this.injector.get(a,f_,g);return S!==f_||c===f_?S:this.parentInjector.get(a,c,g)}}class rp extends Ly{get inputs(){const a=this.componentDef,c=a.inputTransforms,g=Hy(a.inputs);if(null!==c)for(const S of g)c.hasOwnProperty(S.propName)&&(S.transform=c[S.propName]);return g}get outputs(){return Hy(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function sl(r){return r.map(Mo).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,g,S){const F=p(null);try{let K=(S=S||this.ngModule)instanceof Rt?S:S?.injector;K&&null!==this.componentDef.getStandaloneInjector&&(K=this.componentDef.getStandaloneInjector(K)||K);const te=K?new im(a,K):a,ge=te.get(Ny,null);if(null===ge)throw new we(407,!1);const xe=te.get(UO,null),Qt={rendererFactory:ge,sanitizer:xe,inlineEffectRunner:null,afterRenderEventManager:te.get(Bu,null),changeDetectionScheduler:te.get(Zf,null)},on=ge.createRenderer(null,this.componentDef),mn=this.componentDef.selectors[0][0]||"div",Rn=g?function KD(r,a,c,g){const F=g.get(L0,!1)||c===fr.ShadowDom,K=r.selectRootElement(a,F);return function HD(r){dy(r)}(K),K}(on,g,this.componentDef.encapsulation,te):Ad(on,mn,function zO(r){const a=r.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(mn));let Jn=512;this.componentDef.signals?Jn|=4096:this.componentDef.onPush||(Jn|=16);let ps=null;null!==Rn&&(ps=gu(Rn,te,!0));const jn=n_(0,null,null,1,0,null,null,null,null,null,null),oi=kf(null,jn,null,Jn,null,null,Qt,on,te,null,ps);let or,Rr;pr(oi);try{const zo=this.componentDef;let nl,ig=null;zo.findHostDirectiveDefs?(nl=[],ig=new Map,zo.findHostDirectiveDefs(zo,nl,ig),nl.push(zo)):nl=[zo];const L2=function YO(r,a){const c=r[Kn],g=Zs;return r[g]=a,Su(c,g,2,"#host",null)}(oi,Rn),Mw=function XO(r,a,c,g,S,F,K){const te=S[Kn];!function rm(r,a,c,g){for(const S of r)a.mergedAttrs=Ve(a.mergedAttrs,S.hostAttrs);null!==a.mergedAttrs&&(ip(a,a.mergedAttrs,!0),null!==c&&oy(g,c,a))}(g,r,a,K);let ge=null;null!==a&&(ge=gu(a,S[Xi]));const xe=F.rendererFactory.createRenderer(a,c);let Qe=16;c.signals?Qe=4096:c.onPush&&(Qe=64);const Mt=kf(S,t_(c),null,Qe,S[r.index],r,F,xe,null,null,ge);return te.firstCreatePass&&Au(te,r,g.length-1),Gf(S,Mt),S[r.index]=Mt}(L2,Rn,zo,nl,oi,Qt,on);Rr=ru(jn,Zs),Rn&&function zy(r,a,c,g){if(g)ke(r,c,["ng-version","17.3.12"]);else{const{attrs:S,classes:F}=function Wl(r){const a=[],c=[];let g=1,S=2;for(;g<r.length;){let F=r[g];if("string"==typeof F)2===S?""!==F&&a.push(F,r[++g]):8===S&&c.push(F);else{if(!xs(S))break;S=F}g++}return{attrs:a,classes:c}}(a.selectors[0]);S&&ke(r,c,S),F&&F.length>0&&Iu(r,c,F.join(" "))}}(on,zo,Rn,g),void 0!==c&&function QO(r,a,c){const g=r.projection=[];for(let S=0;S<a.length;S++){const F=c[S];g.push(null!=F?Array.from(F):null)}}(Rr,this.ngContentSelectors,c),or=function JO(r,a,c,g,S,F){const K=hr(),te=S[Kn],ge=Qi(K,S);py(te,S,K,c,null,g);for(let Qe=0;Qe<c.length;Qe++)Kr(_d(S,te,K.directiveStart+Qe,K),S);Ru(te,S,K),ge&&Kr(ge,S);const xe=_d(S,te,K.directiveStart+K.componentOffset,K);if(r[Ri]=S[Ri]=xe,null!==F)for(const Qe of F)Qe(xe,a);return e_(te,K,S),xe}(Mw,zo,nl,ig,oi,[ZO]),Wf(jn,oi,null)}finally{au()}return new op(this.componentType,or,gr(Rr,oi),oi,Rr)}finally{p(F)}}}class op extends xO{constructor(a,c,g,S,F){super(),this.location=g,this._rootLView=S,this._tNode=F,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Jh(S,void 0,!1),this.componentType=a}setInput(a,c){const g=this._tNode.inputs;let S;if(null!==g&&(S=g[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const F=this._rootLView;o_(F[Kn],F,S,a,c),this.previousInputValues.set(a,c),Fo(Br(this._tNode.index,F))}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ZO(){const r=hr();Zp(Sn()[Kn],r)}let om=(()=>{class r{static{this.__NG_ELEMENT_ID__=qO}}return r})();function qO(){return Jy(hr(),Sn())}const eM=om,Yy=class extends eM{constructor(a,c,g){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=g}get element(){return gr(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const a=Th(this._hostTNode,this._hostLView);if(dg(a)){const c=bh(a,this._hostLView),g=Ch(a);return new no(c[Kn].data[g+8],c)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Xy(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Ji}createEmbeddedView(a,c,g){let S,F;"number"==typeof g?S=g:null!=g&&(S=g.index,F=g.injector);const K=$a(this._lContainer,a.ssrId),te=a.createEmbeddedViewImpl(c||{},F,K);return this.insertImpl(te,S,xu(this._hostTNode,K)),te}createComponent(a,c,g,S,F){const K=a&&!function ts(r){return"function"==typeof r}(a);let te;if(K)te=c;else{const mn=c||{};te=mn.index,g=mn.injector,S=mn.projectableNodes,F=mn.environmentInjector||mn.ngModuleRef}const ge=K?a:new rp(si(a)),xe=g||this.parentInjector;if(!F&&null==ge.ngModule){const Rn=(K?xe:this.parentInjector).get(Rt,null);Rn&&(F=Rn)}const Qe=si(ge.componentType??{}),Mt=$a(this._lContainer,Qe?.id??null),on=ge.create(xe,S,Mt?.firstChild??null,F);return this.insertImpl(on.hostView,te,xu(this._hostTNode,Mt)),on}insert(a,c){return this.insertImpl(a,c,!0)}insertImpl(a,c,g){const S=a._lView;if(function Kp(r){return Fr(r[Si])}(S)){const te=this.indexOf(a);if(-1!==te)this.detach(te);else{const ge=S[Si],xe=new Yy(ge,ge[vr],ge[Si]);xe.detach(xe.indexOf(a))}}const F=this._adjustIndex(c),K=this._lContainer;return Hh(K,S,F,g),a.attachToViewContainerRef(),Dn(Fd(K),F,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Xy(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),g=Uh(this._lContainer,c);g&&(Qn(Fd(this._lContainer),c),Ff(g[Kn],g))}detach(a){const c=this._adjustIndex(a,-1),g=Uh(this._lContainer,c);return g&&null!=Qn(Fd(this._lContainer),c)?new Jh(g):null}_adjustIndex(a,c=0){return a??this.length+c}};function Xy(r){return r[8]}function Fd(r){return r[8]||(r[8]=[])}function Jy(r,a){let c;const g=a[r.index];return Fr(g)?c=g:(c=_y(g,a,null,r),a[r.index]=c,Gf(a,c)),ap(c,a,r,g),new Yy(c,r,a)}let ap=Qy,am=()=>!1;function Qy(r,a,c,g){if(r[Eo])return;let S;S=8&c.type?ir(g):function tM(r,a){const c=r[Hs],g=c.createComment(""),S=Qi(a,r);return xa(c,kh(c,S),g,function q0(r,a){return r.nextSibling(a)}(c,S),!1),g}(a,c),r[Eo]=S}function nM(r,a,c){if(r[Eo]&&r[Ol])return!0;const g=c[Nr],S=a.index-Zs;if(!g||function _f(r){if(gf(r))return!0;let a=r.parent;for(;a;){if(gf(r)||QT(a))return!0;a=a.parent}return!1}(a)||lc(g,S))return!1;const K=Fc(g,S),te=g.data[Mh]?.[S],[ge,xe]=function wO(r,a){const c=[];for(const g of a)for(let S=0;S<(g[Cf]??1);S++){const F={data:g,firstChild:null};g[mu]>0&&(F.firstChild=r,r=Qf(g[mu],r)),c.push(F)}return[r,c]}(K,te);return r[Eo]=ge,r[Ol]=xe,!0}function sM(r,a,c,g){am(r,c,a)||Qy(r,a,c,g)}class y_{constructor(a){this.queryList=a,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class E_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const g=null!==a.contentQueries?a.contentQueries[0]:c.length,S=[];for(let F=0;F<g;F++){const K=c.getByIndex(F);S.push(this.queries[K.indexInDeclarationView].clone())}return new E_(S)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}finishViewCreation(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Uu(a,c).matches&&this.queries[c].setDirty()}}class Zy{constructor(a,c,g=null){this.flags=c,this.read=g,this.predicate="string"==typeof a?function lp(r){return r.split(",").map(a=>a.trim())}(a):a}}class C_{constructor(a=[]){this.queries=a}elementStart(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let g=0;g<this.length;g++){const S=null!==c?c.length:0,F=this.getByIndex(g).embeddedTView(a,S);F&&(F.indexInDeclarationView=g,null!==c?c.push(F):c=[F])}return null!==c?new C_(c):null}template(a,c){for(let g=0;g<this.queries.length;g++)this.queries[g].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Bd{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Bd(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1&~this.metadata.flags){const c=this._declarationNodeIndex;let g=a.parent;for(;null!==g&&8&g.type&&g.index!==c;)g=g.parent;return c===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const g=this.metadata.predicate;if(Array.isArray(g))for(let S=0;S<g.length;S++){const F=g[S];this.matchTNodeWithReadOption(a,c,rM(c,F)),this.matchTNodeWithReadOption(a,c,Sc(c,a,F,!1,!1))}else g===xd?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Sc(c,a,g,!1,!1))}matchTNodeWithReadOption(a,c,g){if(null!==g){const S=this.metadata.read;if(null!==S)if(S===Rc||S===om||S===xd&&4&c.type)this.addMatch(c.index,-2);else{const F=Sc(c,a,S,!1,!1);null!==F&&this.addMatch(c.index,F)}else this.addMatch(c.index,g)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function rM(r,a){const c=r.localNames;if(null!==c)for(let g=0;g<c.length;g+=2)if(c[g]===a)return c[g+1];return null}function lm(r,a,c,g){return-1===c?function oM(r,a){return 11&r.type?gr(r,a):4&r.type?Yf(r,a):null}(a,r):-2===c?function qy(r,a,c){return c===Rc?gr(a,r):c===xd?Yf(a,r):c===om?Jy(a,r):void 0}(r,a,g):_d(r,r[Kn],c,a)}function eE(r,a,c,g){const S=a[br].queries[g];if(null===S.matches){const F=r.data,K=c.matches,te=[];for(let ge=0;null!==K&&ge<K.length;ge+=2){const xe=K[ge];te.push(xe<0?null:lm(a,F[xe],K[ge+1],c.metadata.read))}S.matches=te}return S.matches}function b_(r,a,c,g){const S=r.queries.getByIndex(c),F=S.matches;if(null!==F){const K=eE(r,a,S,c);for(let te=0;te<F.length;te+=2){const ge=F[te];if(ge>0)g.push(K[te/2]);else{const xe=F[te+1],Qe=a[-ge];for(let Mt=Ji;Mt<Qe.length;Mt++){const Qt=Qe[Mt];Qt[al]===Qt[Si]&&b_(Qt[Kn],Qt,xe,g)}if(null!==Qe[ia]){const Mt=Qe[ia];for(let Qt=0;Qt<Mt.length;Qt++){const on=Mt[Qt];b_(on[Kn],on,xe,g)}}}}}return g}function tE(r,a,c){const g=new ff(!(4&~c));return function YD(r,a,c,g){const S=yy(a);S.push(c),r.firstCreatePass&&Ey(r).push(g,S.length-1)}(r,a,g,g.destroy),(a[br]??=new E_).queries.push(new y_(g))-1}function iE(r,a,c){null===r.queries&&(r.queries=new C_),r.queries.track(new Bd(a,c))}function Uu(r,a){return r.queries.getByIndex(a)}function rE(r,a){const c=r[Kn],g=Uu(c,a);return g.crossesNgTemplate?b_(c,r,a,[]):eE(c,r,g,a)}function ju(r){return"function"==typeof r&&void 0!==r[m]}function oE(r,a){_l("NgSignals");const c=function oe(r){const a=Object.create(Ee);a.value=r;const c=()=>(O(a),a.value);return c[m]=a,c}(r),g=c[m];return a?.equal&&(g.equal=a.equal),c.set=S=>re(g,S),c.update=S=>function Ce(r,a){h()||Y(),re(r,a(r.value))}(g,S),c.asReadonly=cp.bind(c),c}function cp(){const r=this[m];if(void 0===r.readonlyFn){const a=()=>this();a[m]=r,r.readonlyFn=a}return r.readonlyFn}function aE(r){return ju(r)&&"function"==typeof r.set}function P_(r){let a=function vE(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),c=!0;const g=[r];for(;a;){let S;if(qr(r))S=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);S=a.\u0275dir}if(S){if(c){g.push(S);const K=r;K.inputs=hp(r.inputs),K.inputTransforms=hp(r.inputTransforms),K.declaredInputs=hp(r.declaredInputs),K.outputs=hp(r.outputs);const te=S.hostBindings;te&&CM(r,te);const ge=S.viewQuery,xe=S.contentQueries;if(ge&&yM(r,ge),xe&&EM(r,xe),_M(r,S),At(r.outputs,S.outputs),qr(S)&&S.data.animation){const Qe=r.data;Qe.animation=(Qe.animation||[]).concat(S.data.animation)}}const F=S.features;if(F)for(let K=0;K<F.length;K++){const te=F[K];te&&te.ngInherit&&te(r),te===P_&&(c=!1)}}a=Object.getPrototypeOf(a)}!function vM(r){let a=0,c=null;for(let g=r.length-1;g>=0;g--){const S=r[g];S.hostVars=a+=S.hostVars,S.hostAttrs=Ve(S.hostAttrs,c=Ve(c,S.hostAttrs))}}(g)}function _M(r,a){for(const c in a.inputs){if(!a.inputs.hasOwnProperty(c)||r.inputs.hasOwnProperty(c))continue;const g=a.inputs[c];if(void 0!==g&&(r.inputs[c]=g,r.declaredInputs[c]=a.declaredInputs[c],null!==a.inputTransforms)){const S=Array.isArray(g)?g[0]:g;if(!a.inputTransforms.hasOwnProperty(S))continue;r.inputTransforms??={},r.inputTransforms[S]=a.inputTransforms[S]}}}function hp(r){return r===qi?{}:r===Ks?[]:r}function yM(r,a){const c=r.viewQuery;r.viewQuery=c?(g,S)=>{a(g,S),c(g,S)}:a}function EM(r,a){const c=r.contentQueries;r.contentQueries=c?(g,S,F)=>{a(g,S,F),c(g,S,F)}:a}function CM(r,a){const c=r.hostBindings;r.hostBindings=c?(g,S)=>{a(g,S),c(g,S)}:a}function R_(r){const a=r.inputConfig,c={};for(const g in a)if(a.hasOwnProperty(g)){const S=a[g];Array.isArray(S)&&S[3]&&(c[g]=S[3])}r.inputTransforms=c}class Qc{}class CE{}function IM(r,a){return new A_(r,a??null,[])}class A_ extends Qc{constructor(a,c,g){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ky(this);const S=fs(a);this._bootstrapComponents=so(S.bootstrap),this._r3Injector=_g(a,c,[{provide:Qc,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver},...g],Ot(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class w_ extends CE{constructor(a){super(),this.moduleType=a}create(a){return new A_(this.moduleType,a,[])}}class fp extends Qc{constructor(a){super(),this.componentFactoryResolver=new Ky(this),this.instance=null;const c=new In([...a.providers,{provide:Qc,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],a.parent||an(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function mp(r,a,c=null){return new fp({providers:r,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let Vu=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function um(r){return!!OE(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function OE(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function kl(r,a,c){return r[a]=c}function Ud(r,a){return r[a]}function zr(r,a,c){return!Object.is(r[a],c)&&(r[a]=c,!0)}function mc(r,a,c,g){const S=zr(r,a,c);return zr(r,a+1,g)||S}function hm(r,a,c,g,S){const F=mc(r,a,c,g);return zr(r,a+2,S)||F}function qa(r,a,c,g,S,F){const K=mc(r,a,c,g);return mc(r,a+2,S,F)||K}function gp(r){return!(32&~r.flags)}function Gu(r,a,c,g,S,F,K,te){const ge=Sn(),xe=bi(),Qe=r+Zs,Mt=xe.firstCreatePass?function L_(r,a,c,g,S,F,K,te,ge){const xe=a.consts,Qe=Su(a,r,4,K||null,eo(xe,te));s_(a,c,Qe,eo(xe,ge)),Zp(a,Qe);const Mt=Qe.tView=n_(2,Qe,g,S,F,a.directiveRegistry,a.pipeRegistry,null,a.schemas,xe,null);return null!==a.queries&&(a.queries.template(a,Qe),Mt.queries=a.queries.embeddedTView(Qe)),Qe}(Qe,xe,ge,a,c,g,S,F,K):xe.data[Qe];ka(Mt,!1);const Qt=ME(xe,ge,Mt,r);vh()&&Uf(xe,ge,Qt,Mt),Kr(Qt,ge);const on=_y(Qt,ge,Qt,Mt);return ge[Qe]=on,Gf(ge,on),function v_(r,a,c){return am(r,a,c)}(on,Mt,ge),Ha(Mt)&&Pu(xe,ge,Mt),null!=K&&Vf(ge,Mt,te),Gu}let ME=IE;function IE(r,a,c,g){return wl(!0),a[Hs].createComment("")}function AM(r,a,c,g){const S=a[Nr],F=!S||md()||gp(c)||lc(S,g);if(wl(F),F)return IE(0,a);const K=S.data[Rg]?.[g]??null;null!==K&&null!==c.tView&&null===c.tView.ssrId&&(c.tView.ssrId=K);const te=fc(S,r,a,c);return Ih(S,g,te),Qf(xg(S,g),te)}function H_(r,a,c,g){const S=Sn();return zr(S,A(),a)&&(bi(),function jl(r,a,c,g,S,F){const K=Qi(r,a);i_(a[Hs],K,F,r.value,c,g,S)}(Dr(),S,r,a,c,g)),H_}function Yu(r,a,c,g){return zr(r,A(),c)?a+Ms(c)+g:vi}function Xu(r,a,c,g,S,F){const te=mc(r,k(),c,S);return W(2),te?a+Ms(c)+g+Ms(S)+F:vi}function Cp(r,a){return r<<17|a<<2}function nd(r){return r>>17&32767}function Y_(r){return 2|r}function eh(r){return(131068&r)>>2}function X_(r,a){return-131069&r|a<<2}function J_(r){return 1|r}function ZE(r,a,c,g){const S=r[c+1],F=null===a;let K=g?nd(S):eh(S),te=!1;for(;0!==K&&(!1===te||F);){const xe=r[K+1];hI(r[K],a)&&(te=!0,r[K+1]=g?J_(xe):Y_(xe)),K=g?nd(xe):eh(xe)}te&&(r[c+1]=g?Y_(S):J_(S))}function hI(r,a){return null===r||null==a||(Array.isArray(r)?r[1]:r)===a||!(!Array.isArray(r)||"string"!=typeof a)&&zi(r,a)>=0}const Ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qE(r){return r.substring(Ro.key,Ro.keyEnd)}function e1(r,a){const c=Ro.textEnd;return c===a?-1:(a=Ro.keyEnd=function bm(r,a,c){for(;a<c&&r.charCodeAt(a)>32;)a++;return a}(r,Ro.key=a,c),nh(r,a,c))}function nh(r,a,c){for(;a<c&&r.charCodeAt(a)<=32;)a++;return a}function sh(r,a,c){const g=Sn();return zr(g,A(),a)&&Na(bi(),Dr(),g,r,a,g[Hs],c,!1),sh}function Dm(r,a,c,g,S){const K=S?"class":"style";o_(r,c,a.inputs[K],K,g)}function q_(r,a,c){return yl(r,a,c,!1),q_}function ev(r,a){return yl(r,a,null,!0),ev}function Tp(r){El(o1,vl,r,!0)}function vl(r,a){for(let c=function fI(r){return function th(r){Ro.key=0,Ro.keyEnd=0,Ro.value=0,Ro.valueEnd=0,Ro.textEnd=r.length}(r),e1(r,nh(r,0,Ro.textEnd))}(a);c>=0;c=e1(a,c))ui(r,qE(a),!0)}function yl(r,a,c,g){const S=Sn(),F=bi(),K=W(2);F.firstUpdatePass&&n1(F,r,K,g),a!==vi&&zr(S,K,a)&&a1(F,F.data[lo()],S,S[Hs],r,S[K+1]=function CI(r,a){return null==r||""===r||("string"==typeof a?r+=a:"object"==typeof r&&(r=Ot(Ui(r)))),r}(a,c),g,K)}function El(r,a,c,g){const S=bi(),F=W(2);S.firstUpdatePass&&n1(S,null,F,g);const K=Sn();if(c!==vi&&zr(K,F,c)){const te=S.data[lo()];if(c1(te,g)&&!t1(S,F)){let ge=g?te.classesWithoutHost:te.stylesWithoutHost;null!==ge&&(c=Zt(ge,c||"")),Dm(S,te,K,c,g)}else!function EI(r,a,c,g,S,F,K,te){S===vi&&(S=Ks);let ge=0,xe=0,Qe=0<S.length?S[0]:null,Mt=0<F.length?F[0]:null;for(;null!==Qe||null!==Mt;){const Qt=ge<S.length?S[ge+1]:void 0,on=xe<F.length?F[xe+1]:void 0;let Rn,mn=null;Qe===Mt?(ge+=2,xe+=2,Qt!==on&&(mn=Mt,Rn=on)):null===Mt||null!==Qe&&Qe<Mt?(ge+=2,mn=Qe):(xe+=2,mn=Mt,Rn=on),null!==mn&&a1(r,a,c,g,mn,Rn,K,te),Qe=ge<S.length?S[ge]:null,Mt=xe<F.length?F[xe]:null}}(S,te,K,K[Hs],K[F+1],K[F+1]=function r1(r,a,c){if(null==c||""===c)return Ks;const g=[],S=Ui(c);if(Array.isArray(S))for(let F=0;F<S.length;F++)r(g,S[F],!0);else if("object"==typeof S)for(const F in S)S.hasOwnProperty(F)&&r(g,F,S[F]);else"string"==typeof S&&a(g,S);return g}(r,a,c),g,F)}}function t1(r,a){return a>=r.expandoStartIndex}function n1(r,a,c,g){const S=r.data;if(null===S[c+1]){const F=S[lo()],K=t1(r,c);c1(F,g)&&null===a&&!K&&(a=!1),a=function Om(r,a,c,g){const S=function Un(r){const a=zs.lFrame.currentDirectiveIndex;return-1===a?null:r[a]}(r);let F=g?a.residualClasses:a.residualStyles;if(null===S)0===(g?a.classBindings:a.styleBindings)&&(c=Vd(c=ih(null,r,a,c,g),a.attrs,g),F=null);else{const K=a.directiveStylingLast;if(-1===K||r[K]!==S)if(c=ih(S,r,a,c,g),null===F){let ge=function s1(r,a,c){const g=c?a.classBindings:a.styleBindings;if(0!==eh(g))return r[nd(g)]}(r,a,g);void 0!==ge&&Array.isArray(ge)&&(ge=ih(null,r,a,ge[1],g),ge=Vd(ge,a.attrs,g),function vI(r,a,c,g){r[nd(c?a.classBindings:a.styleBindings)]=g}(r,a,g,ge))}else F=function yI(r,a,c){let g;const S=a.directiveEnd;for(let F=1+a.directiveStylingLast;F<S;F++)g=Vd(g,r[F].hostAttrs,c);return Vd(g,a.attrs,c)}(r,a,g)}return void 0!==F&&(g?a.residualClasses=F:a.residualStyles=F),c}(S,F,a,g),function dI(r,a,c,g,S,F){let K=F?a.classBindings:a.styleBindings,te=nd(K),ge=eh(K);r[g]=c;let Qe,xe=!1;if(Array.isArray(c)?(Qe=c[1],(null===Qe||zi(c,Qe)>0)&&(xe=!0)):Qe=c,S)if(0!==ge){const Qt=nd(r[te+1]);r[g+1]=Cp(Qt,te),0!==Qt&&(r[Qt+1]=X_(r[Qt+1],g)),r[te+1]=function cI(r,a){return 131071&r|a<<17}(r[te+1],g)}else r[g+1]=Cp(te,0),0!==te&&(r[te+1]=X_(r[te+1],g)),te=g;else r[g+1]=Cp(ge,0),0===te?te=g:r[ge+1]=X_(r[ge+1],g),ge=g;xe&&(r[g+1]=Y_(r[g+1])),ZE(r,Qe,g,!0),ZE(r,Qe,g,!1),function uI(r,a,c,g,S){const F=S?r.residualClasses:r.residualStyles;null!=F&&"string"==typeof a&&zi(F,a)>=0&&(c[g+1]=J_(c[g+1]))}(a,Qe,r,g,F),K=Cp(te,ge),F?a.classBindings=K:a.styleBindings=K}(S,F,a,c,K,g)}}function ih(r,a,c,g,S){let F=null;const K=c.directiveEnd;let te=c.directiveStylingLast;for(-1===te?te=c.directiveStart:te++;te<K&&(F=a[te],g=Vd(g,F.hostAttrs,S),F!==r);)te++;return null!==r&&(c.directiveStylingLast=te),g}function Vd(r,a,c){const g=c?1:2;let S=-1;if(null!==a)for(let F=0;F<a.length;F++){const K=a[F];"number"==typeof K?S=K:S===g&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ui(r,K,!!c||a[++F]))}return void 0===r?null:r}function o1(r,a,c){const g=String(a);""!==g&&!g.includes(" ")&&ui(r,g,c)}function a1(r,a,c,g,S,F,K,te){if(!(3&a.type))return;const ge=r.data,xe=ge[te+1],Qe=function bA(r){return!(1&~r)}(xe)?l1(ge,a,c,S,eh(xe),K):void 0;Mm(Qe)||(Mm(F)||function Cm(r){return!(2&~r)}(xe)&&(F=l1(ge,null,c,S,te,K)),function VD(r,a,c,g,S){if(a)S?r.addClass(c,g):r.removeClass(c,g);else{let F=-1===g.indexOf("-")?void 0:xf.DashCase;null==S?r.removeStyle(c,g,F):("string"==typeof S&&S.endsWith("!important")&&(S=S.slice(0,-10),F|=xf.Important),r.setStyle(c,g,S,F))}}(g,K,Sl(lo(),c),S,F))}function l1(r,a,c,g,S,F){const K=null===a;let te;for(;S>0;){const ge=r[S],xe=Array.isArray(ge),Qe=xe?ge[1]:ge,Mt=null===Qe;let Qt=c[S+1];Qt===vi&&(Qt=Mt?Ks:void 0);let on=Mt?qs(Qt,g):Qe===g?Qt:void 0;if(xe&&!Mm(on)&&(on=qs(ge,g)),Mm(on)&&(te=on,K))return te;const mn=r[S+1];S=K?nd(mn):eh(mn)}if(null!==a){let ge=F?a.residualClasses:a.residualStyles;null!=ge&&(te=qs(ge,g))}return te}function Mm(r){return void 0!==r}function c1(r,a){return!!(r.flags&(a?8:16))}function d1(r,a,c){El(ui,vl,Yu(Sn(),r,a,c),!0)}function u1(r,a,c,g,S){El(ui,vl,Xu(Sn(),r,a,c,g,S),!0)}function Dp(r,a,c,g,S,F,K,te,ge,xe,Qe){El(ui,vl,function ed(r,a,c,g,S,F,K,te,ge,xe,Qe,Mt){const Qt=k();let on=qa(r,Qt,c,S,K,ge);return on=zr(r,Qt+4,Qe)||on,W(5),on?a+Ms(c)+g+Ms(S)+F+Ms(K)+te+Ms(ge)+xe+Ms(Qe)+Mt:vi}(Sn(),r,a,c,g,S,F,K,te,ge,xe,Qe),!0)}class SI{destroy(a){}updateValue(a,c){}swap(a,c){const g=Math.min(a,c),S=Math.max(a,c),F=this.detach(S);if(S-g>1){const K=this.detach(g);this.attach(g,F),this.attach(S,K)}else this.attach(g,F)}move(a,c){this.attach(c,this.detach(a))}}function Op(r,a,c,g,S){return r===c&&Object.is(a,g)?1:Object.is(S(r,a),S(c,g))?-1:0}function sv(r,a,c,g){return!(void 0===a||!a.has(g)||(r.attach(c,a.get(g)),a.delete(g),0))}function h1(r,a,c,g,S){if(sv(r,a,g,c(g,S)))r.updateValue(g,S);else{const F=r.create(g,S);r.attach(g,F)}}function p1(r,a,c,g){const S=new Set;for(let F=a;F<=c;F++)S.add(g(F,r.at(F)));return S}class f1{constructor(){this.kvMap=new Map,this._vMap=void 0}has(a){return this.kvMap.has(a)}delete(a){if(!this.has(a))return!1;const c=this.kvMap.get(a);return void 0!==this._vMap&&this._vMap.has(c)?(this.kvMap.set(a,this._vMap.get(c)),this._vMap.delete(c)):this.kvMap.delete(a),!0}get(a){return this.kvMap.get(a)}set(a,c){if(this.kvMap.has(a)){let g=this.kvMap.get(a);void 0===this._vMap&&(this._vMap=new Map);const S=this._vMap;for(;S.has(g);)g=S.get(g);S.set(g,c)}else this.kvMap.set(a,c)}forEach(a){for(let[c,g]of this.kvMap)if(a(g,c),void 0!==this._vMap){const S=this._vMap;for(;S.has(g);)g=S.get(g),a(g,c)}}}function Im(r,a,c){_l("NgControlFlow");const g=Sn(),S=A(),F=rv(g,Zs+r);if(zr(g,S,a)){const te=p(null);try{if(a_(F,0),-1!==a){const ge=ov(g[Kn],Zs+a),xe=$a(F,ge.tView.ssrId);Hh(F,Kh(g,ge,c,{dehydratedView:xe}),0,xu(ge,xe))}}finally{p(te)}}else{const te=Ty(F,0);void 0!==te&&(te[Ri]=c)}}class iv{constructor(a,c,g){this.lContainer=a,this.$implicit=c,this.$index=g}get $count(){return this.lContainer.length-Ji}}function m1(r,a){return a}class Sm{constructor(a,c,g){this.hasEmptyBlock=a,this.trackByFn=c,this.liveCollection=g}}function g1(r,a,c,g,S,F,K,te,ge,xe,Qe,Mt,Qt){_l("NgControlFlow");const on=void 0!==ge,mn=Sn(),Rn=te?K.bind(mn[ur][Ri]):K,Jn=new Sm(on,Rn);mn[Zs+r]=Jn,Gu(r+1,a,c,g,S,F),on&&Gu(r+2,ge,xe,Qe,Mt,Qt)}class OA extends SI{constructor(a,c,g){super(),this.lContainer=a,this.hostLView=c,this.templateTNode=g,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ji}at(a){return this.getLView(a)[Ri].$implicit}attach(a,c){const g=c[Nr];this.needsIndexUpdate||=a!==this.length,Hh(this.lContainer,c,a,xu(this.templateTNode,g))}detach(a){return this.needsIndexUpdate||=a!==this.length-1,function Gd(r,a){return Uh(r,a)}(this.lContainer,a)}create(a,c){const g=$a(this.lContainer,this.templateTNode.tView.ssrId);return Kh(this.hostLView,this.templateTNode,new iv(this.lContainer,c,a),{dehydratedView:g})}destroy(a){Ff(a[Kn],a)}updateValue(a,c){this.getLView(a)[Ri].$implicit=c}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let a=0;a<this.length;a++)this.getLView(a)[Ri].$index=a}getLView(a){return function AI(r,a){return Ty(r,a)}(this.lContainer,a)}}function _1(r){const a=p(null),c=lo();try{const g=Sn(),S=g[Kn],F=g[c];if(void 0===F.liveCollection){const te=c+1,ge=rv(g,te),xe=ov(S,te);F.liveCollection=new OA(ge,g,xe)}else F.liveCollection.reset();const K=F.liveCollection;if(function PI(r,a,c){let g,S,F=0,K=r.length-1;if(Array.isArray(a)){let te=a.length-1;for(;F<=K&&F<=te;){const ge=r.at(F),xe=a[F],Qe=Op(F,ge,F,xe,c);if(0!==Qe){Qe<0&&r.updateValue(F,xe),F++;continue}const Mt=r.at(K),Qt=a[te],on=Op(K,Mt,te,Qt,c);if(0!==on){on<0&&r.updateValue(K,Qt),K--,te--;continue}const mn=c(F,ge),Rn=c(K,Mt),Jn=c(F,xe);if(Object.is(Jn,Rn)){const ps=c(te,Qt);Object.is(ps,mn)?(r.swap(F,K),r.updateValue(K,Qt),te--,K--):r.move(K,F),r.updateValue(F,xe),F++}else if(g??=new f1,S??=p1(r,F,K,c),sv(r,g,F,Jn))r.updateValue(F,xe),F++,K++;else if(S.has(Jn))g.set(mn,r.detach(F)),K--;else{const ps=r.create(F,a[F]);r.attach(F,ps),F++,K++}}for(;F<=te;)h1(r,g,c,F,a[F]),F++}else if(null!=a){const te=a[Symbol.iterator]();let ge=te.next();for(;!ge.done&&F<=K;){const xe=r.at(F),Qe=ge.value,Mt=Op(F,xe,F,Qe,c);if(0!==Mt)Mt<0&&r.updateValue(F,Qe),F++,ge=te.next();else{g??=new f1,S??=p1(r,F,K,c);const Qt=c(F,Qe);if(sv(r,g,F,Qt))r.updateValue(F,Qe),F++,K++,ge=te.next();else if(S.has(Qt)){const on=c(F,xe);g.set(on,r.detach(F)),K--}else r.attach(F,r.create(F,Qe)),F++,K++,ge=te.next()}}for(;!ge.done;)h1(r,g,c,r.length,ge.value),ge=te.next()}for(;F<=K;)r.destroy(r.detach(K--));g?.forEach(te=>{r.destroy(te)})}(K,r,F.trackByFn),K.updateIndexes(),F.hasEmptyBlock){const te=A(),ge=0===K.length;if(zr(g,te,ge)){const xe=c+2,Qe=rv(g,xe);if(ge){const Mt=ov(S,xe),Qt=$a(Qe,Mt.tView.ssrId);Hh(Qe,Kh(g,Mt,void 0,{dehydratedView:Qt}),0,xu(Mt,Qt))}else a_(Qe,0)}}}finally{p(a)}}function rv(r,a){return r[a]}function ov(r,a){return ru(r,a)}function Rm(r,a,c,g){const S=Sn(),F=bi(),K=Zs+r,te=S[Hs],ge=F.firstCreatePass?function Pm(r,a,c,g,S,F){const K=a.consts,ge=Su(a,r,2,g,eo(K,S));return s_(a,c,ge,eo(K,F)),null!==ge.attrs&&ip(ge,ge.attrs,!1),null!==ge.mergedAttrs&&ip(ge,ge.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,ge),ge}(K,F,S,a,c,g):F.data[K],xe=Mp(F,S,ge,te,a,r);S[K]=xe;const Qe=Ha(ge);return ka(ge,!0),oy(te,xe,ge),!gp(ge)&&vh()&&Uf(F,S,xe,ge),0===function mh(){return zs.lFrame.elementDepthCount}()&&Kr(xe,S),function zv(){zs.lFrame.elementDepthCount++}(),Qe&&(Pu(F,S,ge),e_(F,ge,S)),null!==g&&Vf(S,ge),Rm}function Am(){let r=hr();Ur()?gd():(r=r.parent,ka(r,!1));const a=r;(function Xv(r){return zs.skipHydrationRootTNode===r})(a)&&function Jv(){zs.skipHydrationRootTNode=null}(),function Yv(){zs.lFrame.elementDepthCount--}();const c=bi();return c.firstCreatePass&&(Zp(c,r),Ma(r)&&c.queries.elementEnd(r)),null!=a.classesWithoutHost&&function lg(r){return!!(8&r.flags)}(a)&&Dm(c,a,Sn(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function t0(r){return!!(16&r.flags)}(a)&&Dm(c,a,Sn(),a.stylesWithoutHost,!1),Am}function av(r,a,c,g){return Rm(r,a,c,g),Am(),av}let Mp=(r,a,c,g,S,F)=>(wl(!0),Ad(g,S,LT()));function wI(r,a,c,g,S,F){const K=a[Nr],te=!K||md()||gp(c)||lc(K,F);if(wl(te),te)return Ad(g,S,LT());const ge=fc(K,r,a,c);return vu(K,F)&&Ih(K,F,ge.nextSibling),K&&(QT(c)||vg(ge))&&Lo(c)&&(function Sa(r){zs.skipHydrationRootTNode=r}(c),Jg(ge)),ge}function $d(r,a,c){const g=Sn(),S=bi(),F=r+Zs,K=S.firstCreatePass?function LI(r,a,c,g,S){const F=a.consts,K=eo(F,g),te=Su(a,r,8,"ng-container",K);return null!==K&&ip(te,K,!0),s_(a,c,te,eo(F,S)),null!==a.queries&&a.queries.elementStart(a,te),te}(F,S,g,a,c):S.data[F];ka(K,!0);const te=v1(S,g,K,r);return g[F]=te,vh()&&Uf(S,g,te,K),Kr(te,g),Ha(K)&&(Pu(S,g,K),e_(S,K,g)),null!=c&&Vf(g,K),$d}function Wd(){let r=hr();const a=bi();return Ur()?gd():(r=r.parent,ka(r,!1)),a.firstCreatePass&&(Zp(a,r),Ma(r)&&a.queries.elementEnd(r)),Wd}function lv(r,a,c){return $d(r,a,c),Wd(),lv}let v1=(r,a,c,g)=>(wl(!0),Bh(a[Hs],""));function NI(r,a,c,g){let S;const F=a[Nr],K=!F||md()||gp(c);if(wl(K),K)return Bh(a[Hs],"");const te=fc(F,r,a,c),ge=function pl(r,a){const c=r.data;let g=c[hl]?.[a]??null;return null===g&&c[Mh]?.[a]&&(g=xg(r,a)),g}(F,g);return Ih(F,g,te),S=Qf(ge,te),S}function Ip(){return Sn()}function cv(r,a,c){const g=Sn();return zr(g,A(),a)&&Na(bi(),Dr(),g,r,a,g[Hs],c,!0),cv}const Kd=void 0;var E1=["en",[["a","p"],["AM","PM"],Kd],[["AM","PM"],Kd,Kd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Kd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Kd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Kd,"{1} 'at' {0}",Kd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xm(r){const c=Math.floor(Math.abs(r)),g=r.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===g?1:5}];let rh={};function oh(r){const a=function FI(r){return r.toLowerCase().replace(/_/g,"-")}(r);let c=Sp(a);if(c)return c;const g=a.split("-")[0];if(c=Sp(g),c)return c;if("en"===g)return E1;throw new we(701,!1)}function C1(r){return oh(r)[_c.PluralCase]}function Sp(r){return r in rh||(rh[r]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[r]),rh[r]}var _c=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(_c||{});const Lm=["zero","one","two","few","many"],vc="en-US",Nm={marker:"element"},Fm={marker:"ICU"};var ya=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(ya||{});let yc=vc;function jI(r,a,c){const g=a.insertBeforeIndex,S=Array.isArray(g)?g[0]:g;return null===S?ty(r,0,c):ir(c[S])}function T1(r,a,c,g,S){const F=a.insertBeforeIndex;if(Array.isArray(F)){let K=g,te=null;if(3&a.type||(te=K,K=S),null!==K&&-1===a.componentOffset)for(let ge=1;ge<F.length;ge++)xa(r,K,c[F[ge]],te,!1)}}function kI(r,a){if(r.push(a),r.length>1)for(let c=r.length-2;c>=0;c--){const g=r[c];VI(g)||GI(g,a)&&null===$I(g)&&WI(g,a.index)}}function VI(r){return!(64&r.type)}function GI(r,a){return VI(a)||r.index>a.index}function $I(r){const a=r.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function WI(r,a){const c=r.insertBeforeIndex;Array.isArray(c)?c[0]=a:(sy(jI,T1),r.insertBeforeIndex=a)}function Bm(r,a){const c=r.data[a];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function wA(r,a,c){const g=qg(r,c,64,null,null);return kI(a,g),g}function dv(r,a){const c=a[r.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function KI(r){return r>>>17}function HI(r){return(131070&r)>>>1}let Hd=0,Pp=0;function D1(r,a,c){const g=r[Hs];switch(c){case Node.COMMENT_NODE:return Bh(g,a);case Node.TEXT_NODE:return zg(g,a);case Node.ELEMENT_NODE:return Ad(g,a,null)}}let Rp=(r,a,c,g)=>(wl(!0),D1(r,c,g));function JI(r,a,c,g){return wl(!0),D1(r,c,g)}function O1(r,a,c,g){const S=c[Hs];let K,F=null;for(let te=0;te<a.length;te++){const ge=a[te];if("string"==typeof ge){const xe=a[++te];null===c[xe]&&(c[xe]=Rp(c,xe,ge,Node.TEXT_NODE))}else if("number"==typeof ge)switch(1&ge){case 0:const xe=KI(ge);let Qe,Mt;if(null===F&&(F=xe,K=kh(S,g)),xe===F?(Qe=g,Mt=K):(Qe=null,Mt=ir(c[xe])),null!==Mt){const Rn=HI(ge);xa(S,Mt,c[Rn],Qe,!1);const ps=Bm(r,Rn);if(null!==ps&&"object"==typeof ps){const jn=dv(ps,c);null!==jn&&O1(r,ps.create[jn],c,c[ps.anchorIdx])}}break;case 1:const on=a[++te],mn=a[++te];i_(S,Sl(ge>>>1,c),null,null,on,mn,null)}else switch(ge){case Fm:const xe=a[++te],Qe=a[++te];null===c[Qe]&&Kr(c[Qe]=Rp(c,Qe,xe,Node.COMMENT_NODE),c);break;case Nm:const Mt=a[++te],Qt=a[++te];null===c[Qt]&&Kr(c[Qt]=Rp(c,Qt,Mt,Node.ELEMENT_NODE),c)}}}function M1(r,a,c,g,S){for(let F=0;F<c.length;F++){const K=c[F],te=c[++F];if(K&S){let ge="";for(let xe=F+1;xe<=F+te;xe++){const Qe=c[xe];if("string"==typeof Qe)ge+=Qe;else if("number"==typeof Qe)if(Qe<0)ge+=Ms(a[g-Qe]);else{const Mt=Qe>>>2;switch(3&Qe){case 1:const Qt=c[++xe],on=c[++xe],mn=r.data[Mt];"string"==typeof mn?i_(a[Hs],a[Mt],null,mn,Qt,ge,on):Na(r,mn,a,Qt,ge,a[Hs],on,!1);break;case 0:const Rn=a[Mt];null!==Rn&&J0(a[Hs],Rn,ge);break;case 2:ah(r,Bm(r,Mt),a,ge);break;case 3:I1(r,Bm(r,Mt),g,a)}}}}else{const ge=c[F+1];if(ge>0&&!(3&~ge)){const Qe=Bm(r,ge>>>2);a[Qe.currentCaseLViewIndex]<0&&I1(r,Qe,g,a)}}F+=te}}function I1(r,a,c,g){let S=g[a.currentCaseLViewIndex];if(null!==S){let F=Hd;S<0&&(S=g[a.currentCaseLViewIndex]=~S,F=-1),M1(r,g,a.update[S],c,F)}}function ah(r,a,c,g){const S=function Ap(r,a){let c=r.cases.indexOf(a);if(-1===c)switch(r.type){case 1:{const g=function BI(r,a){const c=C1(a)(parseInt(r,10)),g=Lm[c];return void 0!==g?g:"other"}(a,function PA(){return yc}());c=r.cases.indexOf(g),-1===c&&"other"!==g&&(c=r.cases.indexOf("other"));break}case 0:c=r.cases.indexOf("other")}return-1===c?null:c}(a,g);if(dv(a,c)!==S&&(S1(r,a,c),c[a.currentCaseLViewIndex]=null===S?null:~S,null!==S)){const K=c[a.anchorIdx];K&&O1(r,a.create[S],c,K)}}function S1(r,a,c){let g=dv(a,c);if(null!==g){const S=a.remove[g];for(let F=0;F<S.length;F++){const K=S[F];if(K>0){const te=Sl(K,c);null!==te&&Mu(c[Hs],te)}else S1(r,Bm(r,~K),c)}}}function QI(){const r=[];let c,g,a=-1;function F(te,ge){a=0;const xe=dv(te,ge);g=null!==xe?te.remove[xe]:Ks}function K(){if(a<g.length){const te=g[a++];return te>0?c[te]:(r.push(a,g),F(c[Kn].data[~te],c),K())}return 0===r.length?null:(g=r.pop(),a=r.pop(),K())}return function S(te,ge){for(c=ge;r.length;)r.pop();return F(te.value,ge),K}}const sd=/\ufffd(\d+):?\d*\ufffd/gi,qI=/\ufffd(\d+)\ufffd/,A1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,id="\ufffd",eS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zd=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,pv=/\uE500/g;function w1(r,a,c,g,S,F,K){const te=dc(r,g,1,null);let ge=te<<ya.SHIFT,xe=dl();a===xe&&(xe=null),null===xe&&(ge|=ya.APPEND_EAGERLY),K&&(ge|=ya.COMMENT,function wD(r){void 0===Hg&&(Hg=r())}(QI)),S.push(ge,null===F?"":F);const Qe=qg(r,te,K?32:1,null===F?"":F,null);kI(c,Qe);const Mt=Qe.index;return ka(Qe,!1),null!==xe&&a!==xe&&function AA(r,a){let c=r.insertBeforeIndex;null===c?(sy(jI,T1),c=r.insertBeforeIndex=[null,a]):(Nt(Array.isArray(c),!0,"Expecting array here"),c.push(a))}(xe,Mt),Qe}function x1(r,a,c,g,S,F,K,te){const ge=te.match(sd),Qe=w1(a,c,g,K,S,ge?null:te,!1).index;ge&&wp(F,te,Qe,null,0,null),r.push({kind:0,index:Qe})}function wp(r,a,c,g,S,F){const K=r.length,te=K+1;r.push(null,null);const ge=K+2,xe=a.split(sd);let Qe=0;for(let Mt=0;Mt<xe.length;Mt++){const Qt=xe[Mt];if(1&Mt){const on=S+parseInt(Qt,10);r.push(-1-on),Qe|=sS(on)}else""!==Qt&&r.push(Qt)}return r.push(c<<2|(g?1:0)),g&&r.push(g,F),r[K]=Qe,r[te]=r.length-ge,Qe}function sS(r){return 1<<Math.min(r,31)}function km(r){let a,F,c="",g=0,S=!1;for(;null!==(a=eS.exec(r));)S?a[0]===`${id}/*${F}${id}`&&(g=a.index,S=!1):(c+=r.substring(g,a.index+a[0].length),F=a[1],S=!0);return c+=r.slice(g),c}function L1(r,a,c,g,S,F,K){let te=0;const ge={type:F.type,currentCaseLViewIndex:dc(a,c,1,null),anchorIdx:K,cases:[],create:[],remove:[],update:[]};(function dS(r,a,c){r.push(sS(a.mainBinding),2,-1-a.mainBinding,c<<2|2)})(g,F,K),function RA(r,a,c){const g=r.data[a];null===g?r.data[a]=c:g.value=c}(a,K,ge);const xe=F.values,Qe=[];for(let Mt=0;Mt<xe.length;Mt++){const Qt=xe[Mt],on=[];for(let Rn=0;Rn<Qt.length;Rn++){const Jn=Qt[Rn];if("string"!=typeof Jn){const ps=on.push(Jn)-1;Qt[Rn]=`\x3c!--\ufffd${ps}\ufffd--\x3e`}}const mn=[];Qe.push(mn),te=aS(mn,a,ge,c,g,S,F.cases[Mt],Qt.join(""),on)|te}te&&function uS(r,a,c){r.push(a,1,c<<2|3)}(g,te,K),r.push({kind:3,index:K,cases:Qe,currentCaseLViewIndex:ge.currentCaseLViewIndex})}function oS(r){const a=[],c=[];let g=1,S=0;const F=fv(r=r.replace(A1,function(K,te,ge){return g="select"===ge?0:1,S=parseInt(te.slice(1),10),""}));for(let K=0;K<F.length;){let te=F[K++].trim();1===g&&(te=te.replace(/\s*(?:=)?(\w+)\s*/,"$1")),te.length&&a.push(te);const ge=fv(F[K++]);a.length>c.length&&c.push(ge)}return{type:g,mainBinding:S,cases:a,values:c}}function fv(r){if(!r)return[];let a=0;const c=[],g=[],S=/[{}]/g;let F;for(S.lastIndex=0;F=S.exec(r);){const te=F.index;if("}"==F[0]){if(c.pop(),0==c.length){const ge=r.substring(a,te);A1.test(ge)?g.push(oS(ge)):g.push(ge),a=te+1}}else{if(0==c.length){const ge=r.substring(a,te);g.push(ge),a=te+1}c.push("{")}}const K=r.substring(a);return g.push(K),g}function aS(r,a,c,g,S,F,K,te,ge){const xe=[],Qe=[],Mt=[];c.cases.push(K),c.create.push(xe),c.remove.push(Qe),c.update.push(Mt);const on=j0(Co()).getInertBodyElement(te),mn=jg(on)||on;return mn?lS(r,a,c,g,S,xe,Qe,Mt,mn,F,ge,0):0}function lS(r,a,c,g,S,F,K,te,ge,xe,Qe,Mt){let Qt=0,on=ge.firstChild;for(;on;){const mn=dc(a,g,1,null);switch(on.nodeType){case Node.ELEMENT_NODE:const Rn=on,Jn=Rn.tagName.toLowerCase();if(Bg.hasOwnProperty(Jn)){mv(F,Nm,Jn,xe,mn),a.data[mn]=Jn;const or=Rn.attributes;for(let zo=0;zo<or.length;zo++){const nl=or.item(zo),ig=nl.name.toLowerCase();nl.value.match(sd)?Ah.hasOwnProperty(ig)&&wp(te,nl.value,mn,nl.name,0,Ug[ig]?kc:null):hS(F,mn,nl)}const Rr={kind:1,index:mn,children:[]};r.push(Rr),Qt=lS(Rr.children,a,c,g,S,F,K,te,on,mn,Qe,Mt+1)|Qt,N1(K,mn,Mt)}break;case Node.TEXT_NODE:const ps=on.textContent||"",jn=ps.match(sd);mv(F,null,jn?"":ps,xe,mn),N1(K,mn,Mt),jn&&(Qt=wp(te,ps,mn,null,0,null)|Qt),r.push({kind:0,index:mn});break;case Node.COMMENT_NODE:const oi=qI.exec(on.textContent||"");if(oi){const Rr=Qe[parseInt(oi[1],10)];mv(F,Fm,"",xe,mn),L1(r,a,g,S,xe,Rr,mn),cS(K,mn,Mt)}}on=on.nextSibling}return Qt}function N1(r,a,c){0===c&&r.push(a)}function cS(r,a,c){0===c&&(r.push(~a),r.push(a))}function mv(r,a,c,g,S){null!==a&&r.push(a),r.push(c,S,function zI(r,a,c){return r|a<<17|c<<1}(0,g,S))}function hS(r,a,c){r.push(a<<1|1,c.name,c.value)}function B1(r,a,c=-1){const g=bi(),S=Sn(),F=Zs+r,K=eo(g.consts,a),te=dl();g.firstCreatePass&&function tS(r,a,c,g,S,F){const K=dl(),te=[],ge=[],xe=[[]],Qe=[[]];S=function rS(r,a){if(function iS(r){return-1===r}(a))return km(r);{const c=r.indexOf(`:${a}${id}`)+2+a.toString().length,g=r.search(new RegExp(`${id}\\/\\*\\d+:${a}${id}`));return km(r.substring(c,g))}}(S,F);const Mt=function jm(r){return r.replace(pv," ")}(S).split(zd);for(let Qt=0;Qt<Mt.length;Qt++){let on=Mt[Qt];if(1&Qt){const mn=47===on.charCodeAt(0),Rn=on.charCodeAt(mn?1:0),Jn=Zs+Number.parseInt(on.substring(mn?2:1));if(mn)xe.shift(),Qe.shift(),ka(dl(),!1);else{const ps=wA(r,xe[0],Jn);xe.unshift([]),ka(ps,!0);const jn={kind:2,index:Jn,children:[],type:35===Rn?0:1};Qe[0].push(jn),Qe.unshift(jn.children)}}else{const mn=fv(on);for(let Rn=0;Rn<mn.length;Rn++){let Jn=mn[Rn];if(1&Rn){const ps=Jn;if("object"!=typeof ps)throw new Error(`Unable to parse ICU expression in "${S}" message.`);const oi=w1(r,K,xe[0],c,te,"",!0).index;L1(Qe[0],r,c,ge,a,ps,oi)}else""!==Jn&&x1(Qe[0],r,K,xe[0],te,ge,c,Jn)}}}r.data[g]={create:te,update:ge,ast:Qe[0]}}(g,null===te?0:te.index,S,F,K,c),2===g.type?S[ur][Ts]|=32:S[Ts]|=32;const ge=g.data[F],Qe=jh(g,te===S[vr]?null:te,S);(function Fa(r,a,c,g){const S=r[Hs];for(let F=0;F<a.length;F++){const K=a[F++],xe=(K&ya.APPEND_EAGERLY)===ya.APPEND_EAGERLY,Qe=K>>>ya.SHIFT;let Mt=r[Qe],Qt=!1;null===Mt&&(Mt=r[Qe]=Rp(r,Qe,a[F],(K&ya.COMMENT)===ya.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Qt=vh()),xe&&null!==c&&Qt&&xa(S,c,Mt,g,!1)}})(S,ge.create,Qe,te&&8&te.type?S[te.index]:null),Fe(!0)}function j1(r,a,c){B1(r,a,c),function U1(){Fe(!1)}()}function gv(r){return function YI(r){r&&(Hd|=1<<Math.min(Pp,31)),Pp++}(zr(Sn(),A(),r)),gv}function k1(r){!function XI(r,a,c){if(Pp>0){const g=r.data[c];M1(r,a,Array.isArray(g)?g:g.update,k()-Pp-1,Hd)}Hd=0,Pp=0}(bi(),Sn(),r+Zs)}function Yd(r,a,c,g){const S=Sn(),F=bi(),K=hr();return _v(F,S,S[Hs],K,r,a,g),Yd}function _v(r,a,c,g,S,F,K){const te=Ha(g),xe=r.firstCreatePass&&Ey(r),Qe=a[Ri],Mt=yy(a);let Qt=!0;if(3&g.type||K){const Rn=Qi(g,a),Jn=K?K(Rn):Rn,ps=Mt.length,jn=K?or=>K(ir(or[g.index])):g.index;let oi=null;if(!K&&te&&(oi=function DS(r,a,c,g){const S=r.cleanup;if(null!=S)for(let F=0;F<S.length-1;F+=2){const K=S[F];if(K===c&&S[F+1]===g){const te=a[Ir],ge=S[F+2];return te.length>ge?te[ge]:null}"string"==typeof K&&(F+=2)}return null}(r,a,S,g.index)),null!==oi)(oi.__ngLastListenerFn__||oi).__ngNextListenerFn__=F,oi.__ngLastListenerFn__=F,Qt=!1;else{F=G1(g,a,Qe,F,!1);const or=c.listen(Jn,S,F);Mt.push(F,or),xe&&xe.push(S,jn,ps,ps+1)}}else F=G1(g,a,Qe,F,!1);const on=g.outputs;let mn;if(Qt&&null!==on&&(mn=on[S])){const Rn=mn.length;if(Rn)for(let Jn=0;Jn<Rn;Jn+=2){const Rr=a[mn[Jn]][mn[Jn+1]].subscribe(F),zo=Mt.length;Mt.push(F,Rr),xe&&xe.push(S,g.index,zo,-(zo+1))}}}function V1(r,a,c,g){const S=p(null);try{return Ya(6,a,c),!1!==c(g)}catch(F){return $f(r,F),!1}finally{Ya(7,a,c),p(S)}}function G1(r,a,c,g,S){return function F(K){if(K===Function)return g;Fo(r.componentOffset>-1?Br(r.index,a):a);let ge=V1(a,c,g,K),xe=F.__ngNextListenerFn__;for(;xe;)ge=V1(a,c,xe,K)&&ge,xe=xe.__ngNextListenerFn__;return S&&!1===ge&&K.preventDefault(),ge}}function $1(r=1){return function Qp(r){return(zs.lFrame.contextLView=function ou(r,a){for(;r>0;)a=a[oo],r--;return a}(r,zs.lFrame.contextLView))[Ri]}(r)}function OS(r,a){let c=null;const g=function xr(r){const a=r.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(r);for(let S=0;S<a.length;S++){const F=a[S];if("*"!==F){if(null===g?Gi(r,F,!0):xo(g,F))return S}else c=S}return c}function lh(r){const a=Sn()[ur][vr];if(!a.projection){const g=a.projection=function Es(r,a){const c=[];for(let g=0;g<r;g++)c.push(a);return c}(r?r.length:1,null),S=g.slice();let F=a.child;for(;null!==F;){const K=r?OS(F,r):0;null!==K&&(S[K]?S[K].projectionNext=F:g[K]=F,S[K]=F),F=F.next}}}function W1(r,a=0,c){const g=Sn(),S=bi(),F=Su(S,Zs+r,16,null,c||null);null===F.projection&&(F.projection=a),gd(),(!g[Nr]||md())&&32&~F.flags&&function jD(r,a,c){ry(a[Hs],0,a,c,Yg(r,c,a),ey(c.parent||a[vr],c,a))}(S,g,F)}function vv(r,a,c){return Vm(r,"",a,"",c),vv}function Vm(r,a,c,g,S){const F=Sn(),K=Yu(F,a,c,g);return K!==vi&&Na(bi(),Dr(),F,r,K,F[Hs],S,!1),Vm}function yv(r,a,c,g,S,F,K){const te=Sn(),ge=Xu(te,a,c,g,S,F);return ge!==vi&&Na(bi(),Dr(),te,r,ge,te[Hs],K,!1),yv}function X1(r,a,c,g){!function sE(r,a,c,g){const S=bi();if(S.firstCreatePass){const F=hr();iE(S,new Zy(a,c,g),F.index),function aM(r,a){const c=r.contentQueries||(r.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(r.queries.length-1,a)}(S,r),!(2&~c)&&(S.staticContentQueries=!0)}return tE(S,Sn(),c)}(r,a,c,g)}function Cv(r,a,c){!function nE(r,a,c){const g=bi();return g.firstCreatePass&&(iE(g,new Zy(r,a,c),-1),!(2&~a)&&(g.staticViewQueries=!0)),tE(g,Sn(),a)}(r,a,c)}function J1(r){const a=Sn(),c=bi(),g=is();Ls(g+1);const S=Uu(c,g);if(r.dirty&&function Mc(r){return!(4&~r[Ts])}(a)===!(2&~S.metadata.flags)){if(null===S.matches)r.reset([]);else{const F=rE(a,g);r.reset(F,Ed),r.notifyOnChanges()}return!0}return!1}function bv(){return function T_(r,a){return r[br].queries[a].queryList}(Sn(),is())}function Np(r){return ii(function _h(){return zs.lFrame.contextLView}(),Zs+r)}function oC(r,a=""){const c=Sn(),g=bi(),S=r+Zs,F=g.firstCreatePass?Su(g,S,1,a,null):g.data[S],K=aC(g,c,F,a,r);c[S]=K,vh()&&Uf(g,c,K,F),ka(F,!1)}let aC=(r,a,c,g,S)=>(wl(!0),zg(a[Hs],g));function LS(r,a,c,g,S){const F=a[Nr],K=!F||md()||gp(c)||lc(F,S);return wl(K),K?zg(a[Hs],g):fc(F,r,a,c)}function Tv(r){return Hm("",r,""),Tv}function Hm(r,a,c){const g=Sn(),S=Yu(g,r,a,c);return S!==vi&&Za(g,lo(),S),Hm}function Dv(r,a,c,g,S){const F=Sn(),K=Xu(F,r,a,c,g,S);return K!==vi&&Za(F,lo(),K),Dv}function Bp(r,a,c,g,S,F,K){const te=Sn(),ge=function Ju(r,a,c,g,S,F,K,te){const xe=hm(r,k(),c,S,K);return W(3),xe?a+Ms(c)+g+Ms(S)+F+Ms(K)+te:vi}(te,r,a,c,g,S,F,K);return ge!==vi&&Za(te,lo(),ge),Bp}function Ov(r,a,c,g,S,F,K,te,ge){const xe=Sn(),Qe=function Qu(r,a,c,g,S,F,K,te,ge,xe){const Mt=qa(r,k(),c,S,K,ge);return W(4),Mt?a+Ms(c)+g+Ms(S)+F+Ms(K)+te+Ms(ge)+xe:vi}(xe,r,a,c,g,S,F,K,te,ge);return Qe!==vi&&Za(xe,lo(),Qe),Ov}function Sv(r,a,c){aE(a)&&(a=a());const g=Sn();return zr(g,A(),a)&&Na(bi(),Dr(),g,r,a,g[Hs],c,!1),Sv}function dC(r,a){const c=aE(r);return c&&r.set(a),c}function Pv(r,a){const c=Sn(),g=bi(),S=hr();return _v(g,c,c[Hs],S,r,a),Pv}function Rv(r,a,c,g,S){if(r=Le(r),Array.isArray(r))for(let F=0;F<r.length;F++)Rv(r[F],a,c,g,S);else{const F=bi(),K=Sn(),te=hr();let ge=$o(r)?r:Le(r.provide);const xe=zn(r),Qe=1048575&te.providerIndexes,Mt=te.directiveStart,Qt=te.providerIndexes>>20;if($o(r)||!r.multi){const on=new Zl(xe,S,wd),mn=Av(ge,a,S?Qe:Qe+Qt,Mt);-1===mn?(af(sf(te,K),F,ge),Up(F,r,a.length),a.push(ge),te.directiveStart++,te.directiveEnd++,S&&(te.providerIndexes+=1048576),c.push(on),K.push(on)):(c[mn]=on,K[mn]=on)}else{const on=Av(ge,a,Qe+Qt,Mt),mn=Av(ge,a,Qe,Qe+Qt),Jn=mn>=0&&c[mn];if(S&&!Jn||!S&&!(on>=0&&c[on])){af(sf(te,K),F,ge);const ps=function US(r,a,c,g,S){const F=new Zl(r,c,wd);return F.multi=[],F.index=a,F.componentProviders=0,uC(F,S,g&&!c),F}(S?pC:hC,c.length,S,g,xe);!S&&Jn&&(c[mn].providerFactory=ps),Up(F,r,a.length,0),a.push(ge),te.directiveStart++,te.directiveEnd++,S&&(te.providerIndexes+=1048576),c.push(ps),K.push(ps)}else Up(F,r,on>-1?on:mn,uC(c[S?mn:on],xe,!S&&g));!S&&g&&Jn&&c[mn].componentProviders++}}}function Up(r,a,c,g){const S=$o(a),F=function ol(r){return!!r.useClass}(a);if(S||F){const ge=(F?Le(a.useClass):a).prototype.ngOnDestroy;if(ge){const xe=r.destroyHooks||(r.destroyHooks=[]);if(!S&&a.multi){const Qe=xe.indexOf(c);-1===Qe?xe.push(c,[g,ge]):xe[Qe+1].push(g,ge)}else xe.push(c,ge)}}}function uC(r,a,c){return c&&r.componentProviders++,r.multi.push(a)-1}function Av(r,a,c,g){for(let S=c;S<g;S++)if(a[S]===r)return S;return-1}function hC(r,a,c,g){return wv(this.multi,[])}function pC(r,a,c,g){const S=this.multi;let F;if(this.providerFactory){const K=this.providerFactory.componentProviders,te=_d(c,c[Kn],this.providerFactory.index,g);F=te.slice(0,K),wv(S,F);for(let ge=K;ge<te.length;ge++)F.push(te[ge])}else F=[],wv(S,F);return F}function wv(r,a){for(let c=0;c<r.length;c++)a.push((0,r[c])());return a}function fC(r,a=[]){return c=>{c.providersResolver=(g,S)=>function BS(r,a,c){const g=bi();if(g.firstCreatePass){const S=qr(r);Rv(c,g.data,g.blueprint,S,!0),Rv(a,g.data,g.blueprint,S,!1)}}(g,S?S(r):r,a)}}let jS=(()=>{class r{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const g=Go(0,c.type),S=g.length>0?mp([g],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,S)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=gs({token:r,providedIn:"environment",factory:()=>new r(lr(Rt))})}}return r})();function mC(r){_l("NgStandalone"),r.getStandaloneInjector=a=>a.get(jS).getOrCreateStandaloneInjector(r)}function _C(r,a,c){const g=Wo()+r,S=Sn();return S[g]===vi?kl(S,g,c?a.call(c):a()):Ud(S,g)}function vC(r,a,c,g){return TC(Sn(),Wo(),r,a,c,g)}function yC(r,a,c,g,S){return DC(Sn(),Wo(),r,a,c,g,S)}function EC(r,a,c,g,S,F){return OC(Sn(),Wo(),r,a,c,g,S,F)}function CC(r,a,c,g,S,F,K){return function xv(r,a,c,g,S,F,K,te,ge){const xe=a+c;return qa(r,xe,S,F,K,te)?kl(r,xe+4,ge?g.call(ge,S,F,K,te):g(S,F,K,te)):jp(r,xe+4)}(Sn(),Wo(),r,a,c,g,S,F,K)}function bC(r,a,c,g,S,F,K,te){const ge=Wo()+r,xe=Sn(),Qe=qa(xe,ge,c,g,S,F);return zr(xe,ge+4,K)||Qe?kl(xe,ge+5,te?a.call(te,c,g,S,F,K):a(c,g,S,F,K)):Ud(xe,ge+5)}function jp(r,a){const c=r[a];return c===vi?void 0:c}function TC(r,a,c,g,S,F){const K=a+c;return zr(r,K,S)?kl(r,K+1,F?g.call(F,S):g(S)):jp(r,K+1)}function DC(r,a,c,g,S,F,K){const te=a+c;return mc(r,te,S,F)?kl(r,te+2,K?g.call(K,S,F):g(S,F)):jp(r,te+2)}function OC(r,a,c,g,S,F,K,te){const ge=a+c;return hm(r,ge,S,F,K)?kl(r,ge+3,te?g.call(te,S,F,K):g(S,F,K)):jp(r,ge+3)}function MC(r,a){const c=bi();let g;const S=r+Zs;c.firstCreatePass?(g=function IC(r,a){if(a)for(let c=a.length-1;c>=0;c--){const g=a[c];if(r===g.name)return g}}(a,c.pipeRegistry),c.data[S]=g,g.onDestroy&&(c.destroyHooks??=[]).push(S,g.onDestroy)):g=c.data[S];const F=g.factory||(g.factory=Ze(g.type)),te=vs(wd);try{const ge=ni(!1),xe=F();return ni(ge),function q1(r,a,c,g){c>=r.data.length&&(r.data[c]=null,r.blueprint[c]=null),a[c]=g}(c,Sn(),S,xe),xe}finally{vs(te)}}function rd(r,a,c){const g=r+Zs,S=Sn(),F=ii(S,g);return kp(S,g)?TC(S,Wo(),a,F.transform,c,F):F.transform(c)}function SC(r,a,c,g){const S=r+Zs,F=Sn(),K=ii(F,S);return kp(F,S)?DC(F,Wo(),a,K.transform,c,g,K):K.transform(c,g)}function HS(r,a,c,g,S){const F=r+Zs,K=Sn(),te=ii(K,F);return kp(K,F)?OC(K,Wo(),a,te.transform,c,g,S,te):te.transform(c,g,S)}function kp(r,a){return r[Kn].data[a].pure}function PC(r,a){return Yf(r,a)}class HC{constructor(a){this.full=a;const c=a.split(".");this.major=c[0],this.minor=c[1],this.patch=c.slice(2).join(".")}}let zC=(()=>{class r{log(c){console.log(c)}warn(c){console.warn(c)}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const Uv=new rt(""),rb=new rt("");let od,DP=(()=>{class r{constructor(c,g,S){this._ngZone=c,this.registry=g,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,od||(function OP(r){od=r}(S),S.addToWindow(g)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb()}});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(c)||(clearTimeout(g.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,g,S){let F=-1;g&&g>0&&(F=setTimeout(()=>{this._callbacks=this._callbacks.filter(K=>K.timeoutId!==F),c()},g)),this._callbacks.push({doneCb:c,timeoutId:F,updateCb:S})}whenStable(c,g,S){if(S&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,g,S),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,g,S){return[]}static{this.\u0275fac=function(g){return new(g||r)(lr(bo),lr(ob),lr(rb))}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac})}}return r})(),ob=(()=>{class r{constructor(){this._applications=new Map}registerApplication(c,g){this._applications.set(c,g)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,g=!0){return od?.findTestabilityInTree(this,c,g)??null}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function jv(r){return!!r&&"function"==typeof r.then}function ab(r){return!!r&&"function"==typeof r.subscribe}const lb=new rt("");let qd=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,g)=>{this.resolve=c,this.reject=g}),this.appInits=Fs(lb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const S of this.appInits){const F=S();if(jv(F))c.push(F);else if(ab(F)){const K=new Promise((te,ge)=>{F.subscribe({complete:te,error:ge})});c.push(K)}}const g=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{g()}).catch(S=>{this.reject(S)}),0===c.length&&g(),this.initialized=!0}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const kv=new rt("");let qm,ad=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fs(hu),this.afterRenderEffectManager=Fs(Bu),this.externalTestViews=new Set,this.beforeRender=new _t.B,this.afterTick=new _t.B,this.componentTypes=[],this.components=[],this.isStable=Fs(Vu).hasPendingTasks.pipe((0,it.T)(c=>!c)),this._injector=Fs(Rt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,g){const S=c instanceof Ly;if(!this._injector.get(qd).done)throw!S&&vo(c),new we(405,!1);let K;K=S?c:this._injector.get(Hc).resolveComponentFactory(c),this.componentTypes.push(K.componentType);const te=function db(r){return r.isBoundToModule}(K)?void 0:this._injector.get(Qc),xe=K.create(Aa.NULL,[],g||K.selector,te),Qe=xe.location.nativeElement,Mt=xe.injector.get(Uv,null);return Mt?.registerApplication(Qe),xe.onDestroy(()=>{this.detachView(xe.hostView),Zm(this.components,xe),Mt?.unregisterApplication(Qe)}),this._loadComponent(xe),xe}tick(){this._tick(!0)}_tick(c){if(this._runningTick)throw new we(101,!1);const g=p(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(c)}catch(S){this.internalErrorHandler(S)}finally{this.afterTick.next(),this._runningTick=!1,p(g)}}detectChangesInAttachedViews(c){let g=0;const S=this.afterRenderEffectManager;for(;;){if(g===My)throw new we(103,!1);if(c){const F=0===g;this.beforeRender.next(F);for(let{_lView:K,notifyErrorHandler:te}of this._views)IP(K,F,te)}if(g++,S.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:F})=>Vv(F))&&(S.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:F})=>Vv(F))))break}}attachView(c){const g=c;this._views.push(g),g.attachToAppRef(this)}detachView(c){const g=c;Zm(this._views,g),g.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const g=this._injector.get(kv,[]);[...this._bootstrapListeners,...g].forEach(S=>S(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Zm(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new we(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Zm(r,a){const c=r.indexOf(a);c>-1&&r.splice(c,1)}function pb(r){qm??=new WeakMap;const a=qm.get(r);if(a)return a;const c=r.isStable.pipe((0,Ge.$)(g=>g)).toPromise().then(()=>{});return qm.set(r,c),r.onDestroy(()=>qm?.delete(r)),c}function IP(r,a,c){!a&&!Vv(r)||function SP(r,a,c){let g;c?(g=0,r[Ts]|=1024):g=64&r[Ts]?0:1,Kf(r,a,g)}(r,c,a)}function Vv(r){return mi(r)}class fb{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let PP=(()=>{class r{compileModuleSync(c){return new w_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const g=this.compileModuleSync(c),F=so(fs(c).declarations).reduce((K,te)=>{const ge=si(te);return ge&&K.push(new rp(ge)),K},[]);return new fb(g,F)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),wP=(()=>{class r{constructor(){this.zone=Fs(bo),this.applicationRef=Fs(ad)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function gb(r){return[{provide:bo,useFactory:r},{provide:er,multi:!0,useFactory:()=>{const a=Fs(wP,{optional:!0});return()=>a.initialize()}},{provide:er,multi:!0,useFactory:()=>{const a=Fs(NP);return()=>{a.initialize()}}},{provide:hu,useFactory:xP}]}function xP(){const r=Fs(bo),a=Fs(ql);return c=>r.runOutsideAngular(()=>a.handleError(c))}function LP(r){return Vo([[],gb(()=>new bo(function _b(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}(r)))])}let NP=(()=>{class r{constructor(){this.subscription=new We.yU,this.initialized=!1,this.zone=Fs(bo),this.pendingTasks=Fs(Vu)}initialize(){if(this.initialized)return;this.initialized=!0;let c=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(c=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),queueMicrotask(()=>{null!==c&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(c),c=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),c??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(g){return new(g||r)}}static{this.\u0275prov=gs({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const eg=new rt("",{providedIn:"root",factory:()=>Fs(eg,Wt.Optional|Wt.SkipSelf)||function FP(){return typeof $localize<"u"&&$localize.locale||vc}()}),BP=new rt("",{providedIn:"root",factory:()=>"USD"}),Gv=new rt("");let ld=null;function Vp(){return!1}function VP(){}let Tb=(()=>{class r{static{this.__NG_ELEMENT_ID__=GP}}return r})();function GP(r){return function $P(r,a,c){if(Lo(r)&&!c){const g=Br(r.index,a);return new Jh(g,g)}return 47&r.type?new Jh(a[ur],a):null}(hr(),Sn(),!(16&~r))}class pi{constructor(){}supports(a){return um(a)}create(a){return new Yr(a)}}const yr=(r,a)=>a;class Yr{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||yr}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,g=this._removalsHead,S=0,F=null;for(;c||g;){const K=!g||c&&c.currentIndex<Ca(g,S,F)?c:g,te=Ca(K,S,F),ge=K.currentIndex;if(K===g)S--,g=g._nextRemoved;else if(c=c._next,null==K.previousIndex)S++;else{F||(F=[]);const xe=te-S,Qe=ge-S;if(xe!=Qe){for(let Qt=0;Qt<xe;Qt++){const on=Qt<F.length?F[Qt]:F[Qt]=0,mn=on+Qt;Qe<=mn&&mn<xe&&(F[Qt]=on+1)}F[K.previousIndex]=Qe-xe}}te!==ge&&a(K,te,ge)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!um(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let S,F,K,c=this._itHead,g=!1;if(Array.isArray(a)){this.length=a.length;for(let te=0;te<this.length;te++)F=a[te],K=this._trackByFn(te,F),null!==c&&Object.is(c.trackById,K)?(g&&(c=this._verifyReinsertion(c,F,K,te)),Object.is(c.item,F)||this._addIdentityChange(c,F)):(c=this._mismatch(c,F,K,te),g=!0),c=c._next}else S=0,function x_(r,a){if(Array.isArray(r))for(let c=0;c<r.length;c++)a(r[c]);else{const c=r[Symbol.iterator]();let g;for(;!(g=c.next()).done;)a(g.value)}}(a,te=>{K=this._trackByFn(S,te),null!==c&&Object.is(c.trackById,K)?(g&&(c=this._verifyReinsertion(c,te,K,S)),Object.is(c.item,te)||this._addIdentityChange(c,te)):(c=this._mismatch(c,te,K,S),g=!0),c=c._next,S++}),this.length=S;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,g,S){let F;return null===a?F=this._itTail:(F=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,F,S)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(g,S))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,F,S)):a=this._addAfter(new bc(c,g),F,S),a}_verifyReinsertion(a,c,g,S){let F=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==F?a=this._reinsertAfter(F,a._prev,S):a.currentIndex!=S&&(a.currentIndex=S,this._addToMoves(a,S)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const S=a._prevRemoved,F=a._nextRemoved;return null===S?this._removalsHead=F:S._nextRemoved=F,null===F?this._removalsTail=S:F._prevRemoved=S,this._insertAfter(a,c,g),this._addToMoves(a,g),a}_moveAfter(a,c,g){return this._unlink(a),this._insertAfter(a,c,g),this._addToMoves(a,g),a}_addAfter(a,c,g){return this._insertAfter(a,c,g),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,g){const S=null===c?this._itHead:c._next;return a._next=S,a._prev=c,null===S?this._itTail=a:S._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new la),this._linkedRecords.put(a),a.currentIndex=g,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,g=a._next;return null===c?this._itHead=g:c._next=g,null===g?this._itTail=c:g._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new la),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class bc{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $l{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===c||c<=g.currentIndex)&&Object.is(g.trackById,a))return g;return null}remove(a){const c=a._prevDup,g=a._nextDup;return null===c?this._head=g:c._nextDup=g,null===g?this._tail=c:g._prevDup=c,null===this._head}}class la{constructor(){this.map=new Map}put(a){const c=a.trackById;let g=this.map.get(c);g||(g=new $l,this.map.set(c,g)),g.add(a)}get(a,c){const S=this.map.get(a);return S?S.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ca(r,a,c){const g=r.previousIndex;if(null===g)return g;let S=0;return c&&g<c.length&&(S=c[g]),g+a+S}class cd{constructor(){}supports(a){return a instanceof Map||OE(a)}create(){return new uh}}class uh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||OE(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(g,S)=>{if(c&&c.key===S)this._maybeAddToChanges(c,g),this._appendAfter=c,c=c._next;else{const F=this._getOrCreateRecordForKey(S,g);c=this._insertBeforeOrAppend(c,F)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let g=c;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const g=a._prev;return c._next=a,c._prev=g,a._prev=c,g&&(g._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const S=this._records.get(a);this._maybeAddToChanges(S,c);const F=S._prev,K=S._next;return F&&(F._next=K),K&&(K._prev=F),S._next=null,S._prev=null,S}const g=new Db(a);return this._records.set(a,g),g.currentValue=c,this._addToAdditions(g),g}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(g=>c(a[g],g))}}class Db{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dd(){return new Gp([new pi])}let Gp=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:dd})}constructor(c){this.factories=c}static create(c,g){if(null!=g){const S=g.factories.slice();c=c.concat(S)}return new r(c)}static extend(c){return{provide:r,useFactory:g=>r.create(c,g||dd()),deps:[[r,new ba,new Do]]}}find(c){const g=this.factories.find(S=>S.supports(c));if(null!=g)return g;throw new we(901,!1)}}return r})();function Wv(){return new Ns([new cd])}let Ns=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:Wv})}constructor(c){this.factories=c}static create(c,g){if(g){const S=g.factories.slice();c=c.concat(S)}return new r(c)}static extend(c){return{provide:r,useFactory:g=>r.create(c,g||Wv()),deps:[[r,new ba,new Do]]}}find(c){const g=this.factories.find(S=>S.supports(c));if(g)return g;throw new we(901,!1)}}return r})();function Z2(r){try{const{rootComponent:a,appProviders:c,platformProviders:g}=r,S=function Cb(r=[]){if(ld)return ld;const a=function Eb(r=[],a){return Aa.create({name:a,providers:[{provide:Qr,useValue:"platform"},{provide:Gv,useValue:new Set([()=>ld=null])},...r]})}(r);return ld=a,function cb(){!function Q(r){H=r}(()=>{throw new we(600,!1)})}(),function dh(r){r.get(Mg,null)?.forEach(c=>c())}(a),a}(g),F=[LP(),...c||[]],te=new fp({providers:F,parent:S,debugName:"",runEnvironmentInitializers:!1}).injector,ge=te.get(bo);return ge.run(()=>{te.resolveInjectorInitializers();const xe=te.get(ql,null);let Qe;ge.runOutsideAngular(()=>{Qe=ge.onError.subscribe({next:on=>{xe.handleError(on)}})});const Mt=()=>te.destroy(),Qt=S.get(Gv);return Qt.add(Mt),te.onDestroy(()=>{Qe.unsubscribe(),Qt.delete(Mt)}),function ub(r,a,c){try{const g=c();return jv(g)?g.catch(S=>{throw a.runOutsideAngular(()=>r.handleError(S)),S}):g}catch(g){throw a.runOutsideAngular(()=>r.handleError(g)),g}}(xe,ge,()=>{const on=te.get(qd);return on.runInitializers(),on.donePromise.then(()=>{!function b1(r){"string"==typeof r&&(yc=r.toLowerCase().replace(/_/g,"-"))}(te.get(eg,vc)||vc);const Rn=te.get(ad);return void 0!==a&&Rn.bootstrap(a),Rn})})})}catch(a){return Promise.reject(a)}}let O2=!1,M2=!1;function nw(){return Vo([{provide:Sh,useFactory:()=>{let r=!0;return fl()&&(r=!!Fs(Oh,{optional:!0})?.get(Ag,null)),r&&_l("NgHydration"),r}},{provide:er,useValue:()=>{M2=!!Fs(N0,{optional:!0}),fl()&&Fs(Sh)&&(function iw(){const r=Co();let a;for(const c of r.body.childNodes)if(c.nodeType===Node.COMMENT_NODE&&c.textContent?.trim()===P0){a=c;break}if(!a)throw new we(-507,!1)}(),function ew(){O2||(O2=!0,function rD(){Df=R0}(),function xI(){Mp=wI}(),function NS(){aC=LS}(),function wm(){v1=NI}(),function wM(){ME=AM}(),function iM(){ap=sM,am=nM}(),function Kc(){xy=Wc}(),function $h(){dy=zD}(),function Um(){Rp=JI}())}())},multi:!0},{provide:L0,useFactory:()=>fl()&&Fs(Sh)},{provide:kv,useFactory:()=>{if(fl()&&Fs(Sh)){const r=Fs(ad);return Fs(Aa),()=>{(function tw(r,a){return pb(r)})(r).then(()=>{!function DO(r){const a=r._views;for(const c of a){const g=A0(c);null!==g&&null!==g[gi]&&(ti(g)?Jf(g):(Jf(g[gi]),pc(g)))}}(r)})}}return()=>{}},multi:!0}])}function fw(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function mw(r,a=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?a:Number(r)}function _w(r,a){_l("NgSignals");const c=function z(r){const a=Object.create(q);a.computation=r;const c=()=>{if(D(a),O(a),a.value===J)throw a.error;return a.value};return c[m]=a,c}(r);return a?.equal&&(c[m].equal=a.equal),c}function vw(r){const a=p(null);try{return r()}finally{p(a)}}const yw=new rt("",{providedIn:"root",factory:()=>Fs(Ew)});let Ew=(()=>{class r{static{this.\u0275prov=gs({token:r,providedIn:"root",factory:()=>new Cw})}}return r})();class Cw{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Fs(Vu),this.taskId=null}scheduleEffect(a){if(this.enqueue(a),null===this.taskId){const c=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(c),this.taskId=null})}}enqueue(a){const c=a.creationZone;this.queues.has(c)||this.queues.set(c,new Set);const g=this.queues.get(c);g.has(a)||(this.queuedEffectCount++,g.add(a))}flush(){for(;this.queuedEffectCount>0;)for(const[a,c]of this.queues)null===a?this.flushQueue(c):a.run(()=>this.flushQueue(c))}flushQueue(a){for(const c of a)a.delete(c),this.queuedEffectCount--,c.run()}}class bw{constructor(a,c,g,S,F,K){this.scheduler=a,this.effectFn=c,this.creationZone=g,this.injector=F,this.watcher=function ae(r,a,c){const g=Object.create(De);c&&(g.consumerAllowSignalWrites=!0),g.fn=r,g.schedule=a;const S=ge=>{g.cleanupFn=ge};return g.ref={notify:()=>w(g),run:()=>{if(null===g.fn)return;if(function v(){return e}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(g.dirty=!1,g.hasRun&&!M(g))return;g.hasRun=!0;const ge=b(g);try{g.cleanupFn(),g.cleanupFn=ye,g.fn(S)}finally{P(g,ge)}},cleanup:()=>g.cleanupFn(),destroy:()=>function K(ge){(function F(ge){return null===ge.fn&&null===ge.schedule})(ge)||(L(ge),ge.cleanupFn(),ge.fn=null,ge.schedule=null,ge.cleanupFn=ye)}(g),[m]:g},g.ref}(te=>this.runEffect(te),()=>this.schedule(),K),this.unregisterOnDestroy=S?.onDestroy(()=>this.destroy())}runEffect(a){try{this.effectFn(a)}catch(c){this.injector.get(ql,null,{optional:!0})?.handleError(c)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function x2(r,a){_l("NgSignals"),!a?.injector&&fe();const c=a?.injector??Fs(Aa),g=!0!==a?.manualCleanup?c.get(yd):null,S=new bw(c.get(yw),r,typeof Zone>"u"?null:Zone.current,g,c,a?.allowSignalWrites??!1),F=c.get(Tb,null,{optional:!0});return F&&8&F._lView[Ts]?(F._lView[Dl]??=[]).push(S.watcher.notify):S.watcher.notify(),S}function Tw(r,a){const c=si(r),g=a.elementInjector||an();return new rp(c).create(g,a.projectableNodes,a.hostElement,a.environmentInjector)}function Dw(r){const a=si(r);if(!a)return null;const c=new rp(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}function Ow(...r){return r.reduce((a,c)=>Object.assign(a,c,{providers:[...a.providers,...c.providers]}),{providers:[]})}},89417:(N,T,n)=>{"use strict";n.d(T,{$R:()=>Fi,BC:()=>gt,Bm:()=>Ks,Fm:()=>tn,J3:()=>Nt,JD:()=>mo,MJ:()=>Ln,Q0:()=>po,R_:()=>ui,VZ:()=>qe,W0:()=>Or,X1:()=>ca,Y4:()=>Ni,YN:()=>Gr,YS:()=>Ft,ZU:()=>_t,Zm:()=>y,cV:()=>sn,cb:()=>Pe,cz:()=>w,hs:()=>ms,j4:()=>ar,k0:()=>M,kq:()=>_,l_:()=>li,me:()=>D,ok:()=>cr,pg:()=>b,qT:()=>Ys,tU:()=>di,v8:()=>io,vO:()=>We,vS:()=>Ms,wz:()=>Bo,xH:()=>lr,xh:()=>$s,xq:()=>Ut,y7:()=>_o,zX:()=>Xo,ze:()=>Jo});var i=n(54438),t=n(60177),l=n(22806),e=n(27468),f=n(96354);let m=(()=>{class ke{constructor(se,Ve){this._renderer=se,this._elementRef=Ve,this.onChange=me=>{},this.onTouched=()=>{}}setProperty(se,Ve){this._renderer.setProperty(this._elementRef.nativeElement,se,Ve)}registerOnTouched(se){this.onTouched=se}registerOnChange(se){this.onChange=se}setDisabledState(se){this.setProperty("disabled",se)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:ke})}}return ke})(),p=(()=>{class ke extends m{static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,features:[i.Vt3]})}}return ke})();const _=new i.nKC(""),v={provide:_,useExisting:(0,i.Rfq)(()=>y),multi:!0};let y=(()=>{class ke extends p{writeValue(se){this.setProperty("checked",se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("change",function(Yt){return me.onChange(Yt.target.checked)})("blur",function(){return me.onTouched()})},features:[i.Jv_([v]),i.Vt3]})}}return ke})();const C={provide:_,useExisting:(0,i.Rfq)(()=>D),multi:!0},I=new i.nKC("");let D=(()=>{class ke extends m{constructor(se,Ve,me){super(se,Ve),this._compositionMode=me,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const ke=(0,t.QT)()?(0,t.QT)().getUserAgent():"";return/android (\d+)/.test(ke.toLowerCase())}())}writeValue(se){this.setProperty("value",se??"")}_handleInput(se){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(se)}_compositionStart(){this._composing=!0}_compositionEnd(se){this._composing=!1,this._compositionMode&&this.onChange(se)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(I,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("input",function(Yt){return me._handleInput(Yt.target.value)})("blur",function(){return me.onTouched()})("compositionstart",function(){return me._compositionStart()})("compositionend",function(Yt){return me._compositionEnd(Yt.target.value)})},features:[i.Jv_([C]),i.Vt3]})}}return ke})();function R(ke){return null==ke||("string"==typeof ke||Array.isArray(ke))&&0===ke.length}function h(ke){return null!=ke&&"number"==typeof ke.length}const w=new i.nKC(""),b=new i.nKC(""),P=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class M{static min(ze){return L(ze)}static max(ze){return B(ze)}static required(ze){return U(ze)}static requiredTrue(ze){return $(ze)}static email(ze){return function j(ke){return R(ke.value)||P.test(ke.value)?null:{email:!0}}(ze)}static minLength(ze){return G(ze)}static maxLength(ze){return z(ze)}static pattern(ze){return V(ze)}static nullValidator(ze){return null}static compose(ze){return ie(ze)}static composeAsync(ze){return pe(ze)}}function L(ke){return ze=>{if(R(ze.value)||R(ke))return null;const se=parseFloat(ze.value);return!isNaN(se)&&se<ke?{min:{min:ke,actual:ze.value}}:null}}function B(ke){return ze=>{if(R(ze.value)||R(ke))return null;const se=parseFloat(ze.value);return!isNaN(se)&&se>ke?{max:{max:ke,actual:ze.value}}:null}}function U(ke){return R(ke.value)?{required:!0}:null}function $(ke){return!0===ke.value?null:{required:!0}}function G(ke){return ze=>R(ze.value)||!h(ze.value)?null:ze.value.length<ke?{minlength:{requiredLength:ke,actualLength:ze.value.length}}:null}function z(ke){return ze=>h(ze.value)&&ze.value.length>ke?{maxlength:{requiredLength:ke,actualLength:ze.value.length}}:null}function V(ke){if(!ke)return X;let ze,se;return"string"==typeof ke?(se="","^"!==ke.charAt(0)&&(se+="^"),se+=ke,"$"!==ke.charAt(ke.length-1)&&(se+="$"),ze=new RegExp(se)):(se=ke.toString(),ze=ke),Ve=>{if(R(Ve.value))return null;const me=Ve.value;return ze.test(me)?null:{pattern:{requiredPattern:se,actualValue:me}}}}function X(ke){return null}function J(ke){return null!=ke}function q(ke){return(0,i.jNT)(ke)?(0,l.H)(ke):ke}function Z(ke){let ze={};return ke.forEach(se=>{ze=null!=se?{...ze,...se}:ze}),0===Object.keys(ze).length?null:ze}function H(ke,ze){return ze.map(se=>se(ke))}function Q(ke){return ke.map(ze=>function Y(ke){return!ke.validate}(ze)?ze:se=>ze.validate(se))}function ie(ke){if(!ke)return null;const ze=ke.filter(J);return 0==ze.length?null:function(se){return Z(H(se,ze))}}function oe(ke){return null!=ke?ie(Q(ke)):null}function pe(ke){if(!ke)return null;const ze=ke.filter(J);return 0==ze.length?null:function(se){const Ve=H(se,ze).map(q);return(0,e.p)(Ve).pipe((0,f.T)(Z))}}function ne(ke){return null!=ke?pe(Q(ke)):null}function re(ke,ze){return null===ke?[ze]:Array.isArray(ke)?[...ke,ze]:[ke,ze]}function Ce(ke){return ke._rawValidators}function Ee(ke){return ke._rawAsyncValidators}function ue(ke){return ke?Array.isArray(ke)?ke:[ke]:[]}function ae(ke,ze){return Array.isArray(ke)?ke.includes(ze):ke===ze}function ye(ke,ze){const se=ue(ze);return ue(ke).forEach(me=>{ae(se,me)||se.push(me)}),se}function De(ke,ze){return ue(ze).filter(se=>!ae(ke,se))}class tt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ze){this._rawValidators=ze||[],this._composedValidatorFn=oe(this._rawValidators)}_setAsyncValidators(ze){this._rawAsyncValidators=ze||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ze){this._onDestroyCallbacks.push(ze)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ze=>ze()),this._onDestroyCallbacks=[]}reset(ze=void 0){this.control&&this.control.reset(ze)}hasError(ze,se){return!!this.control&&this.control.hasError(ze,se)}getError(ze,se){return this.control?this.control.getError(ze,se):null}}class _t extends tt{get formDirective(){return null}get path(){return null}}class We extends tt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dt{constructor(ze){this._cd=ze}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let gt=(()=>{class ke extends dt{constructor(se){super(se)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(We,2))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Ve,me){2&Ve&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)},features:[i.Vt3]})}}return ke})(),Pe=(()=>{class ke extends dt{constructor(se){super(se)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Ve,me){2&Ve&&i.AVh("ng-untouched",me.isUntouched)("ng-touched",me.isTouched)("ng-pristine",me.isPristine)("ng-dirty",me.isDirty)("ng-valid",me.isValid)("ng-invalid",me.isInvalid)("ng-pending",me.isPending)("ng-submitted",me.isSubmitted)},features:[i.Vt3]})}}return ke})();const zt="VALID",Ht="INVALID",At="PENDING",Ot="DISABLED";function Zt(ke){return(Le(ke)?ke.validators:ke)||null}function Lt(ke,ze){return(Le(ze)?ze.asyncValidators:ke)||null}function Le(ke){return null!=ke&&!Array.isArray(ke)&&"object"==typeof ke}function je(ke,ze,se){const Ve=ke.controls;if(!(ze?Object.keys(Ve):Ve).length)throw new i.wOt(1e3,"");if(!Ve[se])throw new i.wOt(1001,"")}function He(ke,ze,se){ke._forEachChild((Ve,me)=>{if(void 0===se[me])throw new i.wOt(1002,"")})}class Be{constructor(ze,se){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ze),this._assignAsyncValidators(se)}get validator(){return this._composedValidatorFn}set validator(ze){this._rawValidators=this._composedValidatorFn=ze}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ze){this._rawAsyncValidators=this._composedAsyncValidatorFn=ze}get parent(){return this._parent}get valid(){return this.status===zt}get invalid(){return this.status===Ht}get pending(){return this.status==At}get disabled(){return this.status===Ot}get enabled(){return this.status!==Ot}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ze){this._assignValidators(ze)}setAsyncValidators(ze){this._assignAsyncValidators(ze)}addValidators(ze){this.setValidators(ye(ze,this._rawValidators))}addAsyncValidators(ze){this.setAsyncValidators(ye(ze,this._rawAsyncValidators))}removeValidators(ze){this.setValidators(De(ze,this._rawValidators))}removeAsyncValidators(ze){this.setAsyncValidators(De(ze,this._rawAsyncValidators))}hasValidator(ze){return ae(this._rawValidators,ze)}hasAsyncValidator(ze){return ae(this._rawAsyncValidators,ze)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ze={}){this.touched=!0,this._parent&&!ze.onlySelf&&this._parent.markAsTouched(ze)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ze=>ze.markAllAsTouched())}markAsUntouched(ze={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(se=>{se.markAsUntouched({onlySelf:!0})}),this._parent&&!ze.onlySelf&&this._parent._updateTouched(ze)}markAsDirty(ze={}){this.pristine=!1,this._parent&&!ze.onlySelf&&this._parent.markAsDirty(ze)}markAsPristine(ze={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(se=>{se.markAsPristine({onlySelf:!0})}),this._parent&&!ze.onlySelf&&this._parent._updatePristine(ze)}markAsPending(ze={}){this.status=At,!1!==ze.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ze.onlySelf&&this._parent.markAsPending(ze)}disable(ze={}){const se=this._parentMarkedDirty(ze.onlySelf);this.status=Ot,this.errors=null,this._forEachChild(Ve=>{Ve.disable({...ze,onlySelf:!0})}),this._updateValue(),!1!==ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ze,skipPristineCheck:se}),this._onDisabledChange.forEach(Ve=>Ve(!0))}enable(ze={}){const se=this._parentMarkedDirty(ze.onlySelf);this.status=zt,this._forEachChild(Ve=>{Ve.enable({...ze,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ze.emitEvent}),this._updateAncestors({...ze,skipPristineCheck:se}),this._onDisabledChange.forEach(Ve=>Ve(!1))}_updateAncestors(ze){this._parent&&!ze.onlySelf&&(this._parent.updateValueAndValidity(ze),ze.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ze){this._parent=ze}getRawValue(){return this.value}updateValueAndValidity(ze={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zt||this.status===At)&&this._runAsyncValidator(ze.emitEvent)),!1!==ze.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ze.onlySelf&&this._parent.updateValueAndValidity(ze)}_updateTreeValidity(ze={emitEvent:!0}){this._forEachChild(se=>se._updateTreeValidity(ze)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ze.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ot:zt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ze){if(this.asyncValidator){this.status=At,this._hasOwnPendingAsyncValidator=!0;const se=q(this.asyncValidator(this));this._asyncValidationSubscription=se.subscribe(Ve=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ve,{emitEvent:ze})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ze,se={}){this.errors=ze,this._updateControlsErrors(!1!==se.emitEvent)}get(ze){let se=ze;return null==se||(Array.isArray(se)||(se=se.split(".")),0===se.length)?null:se.reduce((Ve,me)=>Ve&&Ve._find(me),this)}getError(ze,se){const Ve=se?this.get(se):this;return Ve&&Ve.errors?Ve.errors[ze]:null}hasError(ze,se){return!!this.getError(ze,se)}get root(){let ze=this;for(;ze._parent;)ze=ze._parent;return ze}_updateControlsErrors(ze){this.status=this._calculateStatus(),ze&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ze)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Ot:this.errors?Ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(At)?At:this._anyControlsHaveStatus(Ht)?Ht:zt}_anyControlsHaveStatus(ze){return this._anyControls(se=>se.status===ze)}_anyControlsDirty(){return this._anyControls(ze=>ze.dirty)}_anyControlsTouched(){return this._anyControls(ze=>ze.touched)}_updatePristine(ze={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ze.onlySelf&&this._parent._updatePristine(ze)}_updateTouched(ze={}){this.touched=this._anyControlsTouched(),this._parent&&!ze.onlySelf&&this._parent._updateTouched(ze)}_registerOnCollectionChange(ze){this._onCollectionChange=ze}_setUpdateStrategy(ze){Le(ze)&&null!=ze.updateOn&&(this._updateOn=ze.updateOn)}_parentMarkedDirty(ze){return!ze&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ze){return null}_assignValidators(ze){this._rawValidators=Array.isArray(ze)?ze.slice():ze,this._composedValidatorFn=function Dt(ke){return Array.isArray(ke)?oe(ke):ke||null}(this._rawValidators)}_assignAsyncValidators(ze){this._rawAsyncValidators=Array.isArray(ze)?ze.slice():ze,this._composedAsyncValidatorFn=function st(ke){return Array.isArray(ke)?ne(ke):ke||null}(this._rawAsyncValidators)}}class Pt extends Be{constructor(ze,se,Ve){super(Zt(se),Lt(Ve,se)),this.controls=ze,this._initObservables(),this._setUpdateStrategy(se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ze,se){return this.controls[ze]?this.controls[ze]:(this.controls[ze]=se,se.setParent(this),se._registerOnCollectionChange(this._onCollectionChange),se)}addControl(ze,se,Ve={}){this.registerControl(ze,se),this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}removeControl(ze,se={}){this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),delete this.controls[ze],this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}setControl(ze,se,Ve={}){this.controls[ze]&&this.controls[ze]._registerOnCollectionChange(()=>{}),delete this.controls[ze],se&&this.registerControl(ze,se),this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}contains(ze){return this.controls.hasOwnProperty(ze)&&this.controls[ze].enabled}setValue(ze,se={}){He(this,0,ze),Object.keys(ze).forEach(Ve=>{je(this,!0,Ve),this.controls[Ve].setValue(ze[Ve],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se)}patchValue(ze,se={}){null!=ze&&(Object.keys(ze).forEach(Ve=>{const me=this.controls[Ve];me&&me.patchValue(ze[Ve],{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se))}reset(ze={},se={}){this._forEachChild((Ve,me)=>{Ve.reset(ze?ze[me]:null,{onlySelf:!0,emitEvent:se.emitEvent})}),this._updatePristine(se),this._updateTouched(se),this.updateValueAndValidity(se)}getRawValue(){return this._reduceChildren({},(ze,se,Ve)=>(ze[Ve]=se.getRawValue(),ze))}_syncPendingControls(){let ze=this._reduceChildren(!1,(se,Ve)=>!!Ve._syncPendingControls()||se);return ze&&this.updateValueAndValidity({onlySelf:!0}),ze}_forEachChild(ze){Object.keys(this.controls).forEach(se=>{const Ve=this.controls[se];Ve&&ze(Ve,se)})}_setUpControls(){this._forEachChild(ze=>{ze.setParent(this),ze._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ze){for(const[se,Ve]of Object.entries(this.controls))if(this.contains(se)&&ze(Ve))return!0;return!1}_reduceValue(){return this._reduceChildren({},(se,Ve,me)=>((Ve.enabled||this.disabled)&&(se[me]=Ve.value),se))}_reduceChildren(ze,se){let Ve=ze;return this._forEachChild((me,bt)=>{Ve=se(Ve,me,bt)}),Ve}_allControlsDisabled(){for(const ze of Object.keys(this.controls))if(this.controls[ze].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ze){return this.controls.hasOwnProperty(ze)?this.controls[ze]:null}}const Nt=Pt;class qt extends Pt{}const Cn=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>ns}),ns="always";function hs(ke,ze){return[...ze.path,ke]}function Gs(ke,ze,se=ns){Pn(ke,ze),ze.valueAccessor.writeValue(ke.value),(ke.disabled||"always"===se)&&ze.valueAccessor.setDisabledState?.(ke.disabled),function rs(ke,ze){ze.valueAccessor.registerOnChange(se=>{ke._pendingValue=se,ke._pendingChange=!0,ke._pendingDirty=!0,"change"===ke.updateOn&&Qs(ke,ze)})}(ke,ze),function gs(ke,ze){const se=(Ve,me)=>{ze.valueAccessor.writeValue(Ve),me&&ze.viewToModelUpdate(Ve)};ke.registerOnChange(se),ze._registerOnDestroy(()=>{ke._unregisterOnChange(se)})}(ke,ze),function as(ke,ze){ze.valueAccessor.registerOnTouched(()=>{ke._pendingTouched=!0,"blur"===ke.updateOn&&ke._pendingChange&&Qs(ke,ze),"submit"!==ke.updateOn&&ke.markAsTouched()})}(ke,ze),function Xt(ke,ze){if(ze.valueAccessor.setDisabledState){const se=Ve=>{ze.valueAccessor.setDisabledState(Ve)};ke.registerOnDisabledChange(se),ze._registerOnDestroy(()=>{ke._unregisterOnDisabledChange(se)})}}(ke,ze)}function yt(ke,ze,se=!0){const Ve=()=>{};ze.valueAccessor&&(ze.valueAccessor.registerOnChange(Ve),ze.valueAccessor.registerOnTouched(Ve)),kn(ke,ze),ke&&(ze._invokeOnDestroyCallbacks(),ke._registerOnCollectionChange(()=>{}))}function ct(ke,ze){ke.forEach(se=>{se.registerOnValidatorChange&&se.registerOnValidatorChange(ze)})}function Pn(ke,ze){const se=Ce(ke);null!==ze.validator?ke.setValidators(re(se,ze.validator)):"function"==typeof se&&ke.setValidators([se]);const Ve=Ee(ke);null!==ze.asyncValidator?ke.setAsyncValidators(re(Ve,ze.asyncValidator)):"function"==typeof Ve&&ke.setAsyncValidators([Ve]);const me=()=>ke.updateValueAndValidity();ct(ze._rawValidators,me),ct(ze._rawAsyncValidators,me)}function kn(ke,ze){let se=!1;if(null!==ke){if(null!==ze.validator){const me=Ce(ke);if(Array.isArray(me)&&me.length>0){const bt=me.filter(Yt=>Yt!==ze.validator);bt.length!==me.length&&(se=!0,ke.setValidators(bt))}}if(null!==ze.asyncValidator){const me=Ee(ke);if(Array.isArray(me)&&me.length>0){const bt=me.filter(Yt=>Yt!==ze.asyncValidator);bt.length!==me.length&&(se=!0,ke.setAsyncValidators(bt))}}}const Ve=()=>{};return ct(ze._rawValidators,Ve),ct(ze._rawAsyncValidators,Ve),se}function Qs(ke,ze){ke._pendingDirty&&ke.markAsDirty(),ke.setValue(ke._pendingValue,{emitModelToViewChange:!1}),ze.viewToModelUpdate(ke._pendingValue),ke._pendingChange=!1}function Is(ke,ze){Pn(ke,ze)}function mt(ke,ze){if(!ke.hasOwnProperty("model"))return!1;const se=ke.model;return!!se.isFirstChange()||!Object.is(ze,se.currentValue)}function $e(ke,ze){ke._syncPendingControls(),ze.forEach(se=>{const Ve=se.control;"submit"===Ve.updateOn&&Ve._pendingChange&&(se.viewToModelUpdate(Ve._pendingValue),Ve._pendingChange=!1)})}function en(ke,ze){if(!ze)return null;let se,Ve,me;return Array.isArray(ze),ze.forEach(bt=>{bt.constructor===D?se=bt:function Gt(ke){return Object.getPrototypeOf(ke.constructor)===p}(bt)?Ve=bt:me=bt}),me||Ve||se||null}const Ct={provide:_t,useExisting:(0,i.Rfq)(()=>sn)},kt=Promise.resolve();let sn=(()=>{class ke extends _t{constructor(se,Ve,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new Pt({},oe(se),ne(Ve))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(se){kt.then(()=>{const Ve=this._findContainer(se.path);se.control=Ve.registerControl(se.name,se.control),Gs(se.control,se,this.callSetDisabledState),se.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(se)})}getControl(se){return this.form.get(se.path)}removeControl(se){kt.then(()=>{const Ve=this._findContainer(se.path);Ve&&Ve.removeControl(se.name),this._directives.delete(se)})}addFormGroup(se){kt.then(()=>{const Ve=this._findContainer(se.path),me=new Pt({});Is(me,se),Ve.registerControl(se.name,me),me.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(se){kt.then(()=>{const Ve=this._findContainer(se.path);Ve&&Ve.removeControl(se.name)})}getFormGroup(se){return this.form.get(se.path)}updateModel(se,Ve){kt.then(()=>{this.form.get(se.path).setValue(Ve)})}setValue(se){this.control.setValue(se)}onSubmit(se){return this.submitted=!0,$e(this.form,this._directives),this.ngSubmit.emit(se),"dialog"===se?.target?.method}onReset(){this.resetForm()}resetForm(se=void 0){this.form.reset(se),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(se){return se.pop(),se.length?this.form.get(se):this.form}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(w,10),i.rXU(b,10),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("submit",function(Yt){return me.onSubmit(Yt)})("reset",function(){return me.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ct]),i.Vt3]})}}return ke})();function Tn(ke,ze){const se=ke.indexOf(ze);se>-1&&ke.splice(se,1)}function Vn(ke){return"object"==typeof ke&&null!==ke&&2===Object.keys(ke).length&&"value"in ke&&"disabled"in ke}const Ln=class extends Be{constructor(ze=null,se,Ve){super(Zt(se),Lt(Ve,se)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ze),this._setUpdateStrategy(se),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Le(se)&&(se.nonNullable||se.initialValueIsDefault)&&(this.defaultValue=Vn(ze)?ze.value:ze)}setValue(ze,se={}){this.value=this._pendingValue=ze,this._onChange.length&&!1!==se.emitModelToViewChange&&this._onChange.forEach(Ve=>Ve(this.value,!1!==se.emitViewToModelChange)),this.updateValueAndValidity(se)}patchValue(ze,se={}){this.setValue(ze,se)}reset(ze=this.defaultValue,se={}){this._applyFormState(ze),this.markAsPristine(se),this.markAsUntouched(se),this.setValue(this.value,se),this._pendingChange=!1}_updateValue(){}_anyControls(ze){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ze){this._onChange.push(ze)}_unregisterOnChange(ze){Tn(this._onChange,ze)}registerOnDisabledChange(ze){this._onDisabledChange.push(ze)}_unregisterOnDisabledChange(ze){Tn(this._onDisabledChange,ze)}_forEachChild(ze){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ze){Vn(ze)?(this.value=this._pendingValue=ze.value,ze.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ze}},ms=Ln;let ys=(()=>{class ke extends _t{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,features:[i.Vt3]})}}return ke})();const Ai={provide:_t,useExisting:(0,i.Rfq)(()=>Ni)};let Ni=(()=>{class ke extends ys{constructor(se,Ve,me){super(),this.name="",this._parent=se,this._setValidators(Ve),this._setAsyncValidators(me)}_checkParentType(){}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,5),i.rXU(w,10),i.rXU(b,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","ngModelGroup",""]],inputs:{name:[i.Mj6.None,"ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Jv_([Ai]),i.Vt3]})}}return ke})();const Ar={provide:We,useExisting:(0,i.Rfq)(()=>Ms)},Zi=Promise.resolve();let Ms=(()=>{class ke extends We{constructor(se,Ve,me,bt,Yt,En){super(),this._changeDetectorRef=Yt,this.callSetDisabledState=En,this.control=new Ln,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=se,this._setValidators(Ve),this._setAsyncValidators(me),this.valueAccessor=en(0,bt)}ngOnChanges(se){if(this._checkForErrors(),!this._registered||"name"in se){if(this._registered&&(this._checkName(),this.formDirective)){const Ve=se.name.previousValue;this.formDirective.removeControl({name:Ve,path:this._getPath(Ve)})}this._setUpControl()}"isDisabled"in se&&this._updateDisabled(se),mt(se,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gs(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(se){Zi.then(()=>{this.control.setValue(se,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(se){const Ve=se.isDisabled.currentValue,me=0!==Ve&&(0,i.L39)(Ve);Zi.then(()=>{me&&!this.control.disabled?this.control.disable():!me&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(se){return this._parent?hs(se,this._parent):[se]}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,9),i.rXU(w,10),i.rXU(b,10),i.rXU(_,10),i.rXU(i.gRc,8),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([Ar]),i.Vt3,i.OA$]})}}return ke})(),Ys=(()=>{class ke{static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return ke})();const $i={provide:_,useExisting:(0,i.Rfq)(()=>po),multi:!0};let po=(()=>{class ke extends p{writeValue(se){this.setProperty("value",se??"")}registerOnChange(se){this.onChange=Ve=>{se(""==Ve?null:parseFloat(Ve))}}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("input",function(Yt){return me.onChange(Yt.target.value)})("blur",function(){return me.onTouched()})},features:[i.Jv_([$i]),i.Vt3]})}}return ke})();const Ti={provide:_,useExisting:(0,i.Rfq)(()=>tn),multi:!0};let gn=(()=>{class ke{constructor(){this._accessors=[]}add(se,Ve){this._accessors.push([se,Ve])}remove(se){for(let Ve=this._accessors.length-1;Ve>=0;--Ve)if(this._accessors[Ve][1]===se)return void this._accessors.splice(Ve,1)}select(se){this._accessors.forEach(Ve=>{this._isSameGroup(Ve,se)&&Ve[1]!==se&&Ve[1].fireUncheck(se.value)})}_isSameGroup(se,Ve){return!!se[0].control&&se[0]._parent===Ve._control._parent&&se[1].name===Ve.name}static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),tn=(()=>{class ke extends p{constructor(se,Ve,me,bt){super(se,Ve),this._registry=me,this._injector=bt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(Cn,{optional:!0})??ns}ngOnInit(){this._control=this._injector.get(We),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(se){this._state=se===this.value,this.setProperty("checked",this._state)}registerOnChange(se){this._fn=se,this.onChange=()=>{se(this.value),this._registry.select(this)}}setDisabledState(se){(this.setDisabledStateFired||se||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",se),this.setDisabledStateFired=!0}fireUncheck(se){this.writeValue(se)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(gn),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("change",function(){return me.onChange()})("blur",function(){return me.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Ti]),i.Vt3]})}}return ke})();const $n=new i.nKC(""),vs={provide:We,useExisting:(0,i.Rfq)(()=>li)};let li=(()=>{class ke extends We{set isDisabled(se){}static{this._ngModelWarningSentOnce=!1}constructor(se,Ve,me,bt,Yt){super(),this._ngModelWarningConfig=bt,this.callSetDisabledState=Yt,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(se),this._setAsyncValidators(Ve),this.valueAccessor=en(0,me)}ngOnChanges(se){if(this._isControlChanged(se)){const Ve=se.form.previousValue;Ve&&yt(Ve,this,!1),Gs(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mt(se,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&yt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}_isControlChanged(se){return se.hasOwnProperty("form")}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(w,10),i.rXU(b,10),i.rXU(_,10),i.rXU($n,8),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([vs]),i.Vt3,i.OA$]})}}return ke})();const Ei={provide:_t,useExisting:(0,i.Rfq)(()=>ar)};let ar=(()=>{class ke extends _t{constructor(se,Ve,me){super(),this.callSetDisabledState=me,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(se),this._setAsyncValidators(Ve)}ngOnChanges(se){this._checkFormPresent(),se.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(se){const Ve=this.form.get(se.path);return Gs(Ve,se,this.callSetDisabledState),Ve.updateValueAndValidity({emitEvent:!1}),this.directives.push(se),Ve}getControl(se){return this.form.get(se.path)}removeControl(se){yt(se.control||null,se,!1),function rt(ke,ze){const se=ke.indexOf(ze);se>-1&&ke.splice(se,1)}(this.directives,se)}addFormGroup(se){this._setUpFormContainer(se)}removeFormGroup(se){this._cleanUpFormContainer(se)}getFormGroup(se){return this.form.get(se.path)}addFormArray(se){this._setUpFormContainer(se)}removeFormArray(se){this._cleanUpFormContainer(se)}getFormArray(se){return this.form.get(se.path)}updateModel(se,Ve){this.form.get(se.path).setValue(Ve)}onSubmit(se){return this.submitted=!0,$e(this.form,this.directives),this.ngSubmit.emit(se),"dialog"===se?.target?.method}onReset(){this.resetForm()}resetForm(se=void 0){this.form.reset(se),this.submitted=!1}_updateDomValue(){this.directives.forEach(se=>{const Ve=se.control,me=this.form.get(se.path);Ve!==me&&(yt(Ve||null,se),(ke=>ke instanceof Ln)(me)&&(Gs(me,se,this.callSetDisabledState),se.control=me))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(se){const Ve=this.form.get(se.path);Is(Ve,se),Ve.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(se){if(this.form){const Ve=this.form.get(se.path);Ve&&function os(ke,ze){return kn(ke,ze)}(Ve,se)&&Ve.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pn(this.form,this),this._oldForm&&kn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(w,10),i.rXU(b,10),i.rXU(Cn,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroup",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("submit",function(Yt){return me.onSubmit(Yt)})("reset",function(){return me.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Ei]),i.Vt3,i.OA$]})}}return ke})();const fi={provide:_t,useExisting:(0,i.Rfq)(()=>Fi)};let Fi=(()=>{class ke extends ys{constructor(se,Ve,me){super(),this.name=null,this._parent=se,this._setValidators(Ve),this._setAsyncValidators(me)}_checkParentType(){wr(this._parent)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,13),i.rXU(w,10),i.rXU(b,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([fi]),i.Vt3]})}}return ke})();const fo={provide:_t,useExisting:(0,i.Rfq)(()=>io)};let io=(()=>{class ke extends _t{constructor(se,Ve,me){super(),this.name=null,this._parent=se,this._setValidators(Ve),this._setAsyncValidators(me)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){wr(this._parent)}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,13),i.rXU(w,10),i.rXU(b,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([fo]),i.Vt3]})}}return ke})();function wr(ke){return!(ke instanceof Fi||ke instanceof ar||ke instanceof io)}const wo={provide:We,useExisting:(0,i.Rfq)(()=>mo)};let mo=(()=>{class ke extends We{set isDisabled(se){}static{this._ngModelWarningSentOnce=!1}constructor(se,Ve,me,bt,Yt){super(),this._ngModelWarningConfig=Yt,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=se,this._setValidators(Ve),this._setAsyncValidators(me),this.valueAccessor=en(0,bt)}ngOnChanges(se){this._added||this._setUpControl(),mt(se,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(se){this.viewModel=se,this.update.emit(se)}get path(){return hs(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(_t,13),i.rXU(w,10),i.rXU(b,10),i.rXU(_,10),i.rXU($n,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([wo]),i.Vt3,i.OA$]})}}return ke})();const kr={provide:_,useExisting:(0,i.Rfq)(()=>Bo),multi:!0};function go(ke,ze){return null==ke?`${ze}`:(ze&&"object"==typeof ze&&(ze="Object"),`${ke}: ${ze}`.slice(0,50))}let Bo=(()=>{class ke extends p{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(se){this._compareWith=se}writeValue(se){this.value=se;const me=go(this._getOptionId(se),se);this.setProperty("value",me)}registerOnChange(se){this.onChange=Ve=>{this.value=this._getOptionValue(Ve),se(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(se){for(const Ve of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ve),se))return Ve;return null}_getOptionValue(se){const Ve=function wi(ke){return ke.split(":")[0]}(se);return this._optionMap.has(Ve)?this._optionMap.get(Ve):se}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("change",function(Yt){return me.onChange(Yt.target.value)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([kr]),i.Vt3]})}}return ke})(),lr=(()=>{class ke{constructor(se,Ve,me){this._element=se,this._renderer=Ve,this._select=me,this._select&&(this.id=this._select._registerOption())}set ngValue(se){null!=this._select&&(this._select._optionMap.set(this.id,se),this._setElementValue(go(this.id,se)),this._select.writeValue(this._select.value))}set value(se){this._setElementValue(se),this._select&&this._select.writeValue(this._select.value)}_setElementValue(se){this._renderer.setProperty(this._element.nativeElement,"value",se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Bo,9))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();const Xr={provide:_,useExisting:(0,i.Rfq)(()=>Or),multi:!0};function Fs(ke,ze){return null==ke?`${ze}`:("string"==typeof ze&&(ze=`'${ze}'`),ze&&"object"==typeof ze&&(ze="Object"),`${ke}: ${ze}`.slice(0,50))}let Or=(()=>{class ke extends p{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(se){this._compareWith=se}writeValue(se){let Ve;if(this.value=se,Array.isArray(se)){const me=se.map(bt=>this._getOptionId(bt));Ve=(bt,Yt)=>{bt._setSelected(me.indexOf(Yt.toString())>-1)}}else Ve=(me,bt)=>{me._setSelected(!1)};this._optionMap.forEach(Ve)}registerOnChange(se){this.onChange=Ve=>{const me=[],bt=Ve.selectedOptions;if(void 0!==bt){const Yt=bt;for(let En=0;En<Yt.length;En++){const cs=this._getOptionValue(Yt[En].value);me.push(cs)}}else{const Yt=Ve.options;for(let En=0;En<Yt.length;En++){const Yn=Yt[En];if(Yn.selected){const cs=this._getOptionValue(Yn.value);me.push(cs)}}}this.value=me,se(me)}}_registerOption(se){const Ve=(this._idCounter++).toString();return this._optionMap.set(Ve,se),Ve}_getOptionId(se){for(const Ve of this._optionMap.keys())if(this._compareWith(this._optionMap.get(Ve)._value,se))return Ve;return null}_getOptionValue(se){const Ve=function ro(ke){return ke.split(":")[0]}(se);return this._optionMap.has(Ve)?this._optionMap.get(Ve)._value:se}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(Ve,me){1&Ve&&i.bIt("change",function(Yt){return me.onChange(Yt.target)})("blur",function(){return me.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Xr]),i.Vt3]})}}return ke})(),_o=(()=>{class ke{constructor(se,Ve,me){this._element=se,this._renderer=Ve,this._select=me,this._select&&(this.id=this._select._registerOption(this))}set ngValue(se){null!=this._select&&(this._value=se,this._setElementValue(Fs(this.id,se)),this._select.writeValue(this._select.value))}set value(se){this._select?(this._value=se,this._setElementValue(Fs(this.id,se)),this._select.writeValue(this._select.value)):this._setElementValue(se)}_setElementValue(se){this._renderer.setProperty(this._element.nativeElement,"value",se)}_setSelected(se){this._renderer.setProperty(this._element.nativeElement,"selected",se)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(Ve){return new(Ve||ke)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(Or,9))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();function Yo(ke){return"number"==typeof ke?ke:parseInt(ke,10)}function To(ke){return"number"==typeof ke?ke:parseFloat(ke)}let Jr=(()=>{class ke{constructor(){this._validator=X}ngOnChanges(se){if(this.inputName in se){const Ve=this.normalizeInput(se[this.inputName].currentValue);this._enabled=this.enabled(Ve),this._validator=this._enabled?this.createValidator(Ve):X,this._onChange&&this._onChange()}}validate(se){return this._validator(se)}registerOnValidatorChange(se){this._onChange=se}enabled(se){return null!=se}static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275dir=i.FsC({type:ke,features:[i.OA$]})}}return ke})();const Do={provide:w,useExisting:(0,i.Rfq)(()=>Xo),multi:!0};let Xo=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=se=>To(se),this.createValidator=se=>B(se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("max",me._enabled?me.max:null)},inputs:{max:"max"},features:[i.Jv_([Do]),i.Vt3]})}}return ke})();const ba={provide:w,useExisting:(0,i.Rfq)(()=>qe),multi:!0};let qe=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=se=>To(se),this.createValidator=se=>L(se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("min",me._enabled?me.min:null)},inputs:{min:"min"},features:[i.Jv_([ba]),i.Vt3]})}}return ke})();const Ze={provide:w,useExisting:(0,i.Rfq)(()=>Ft),multi:!0},ot={provide:w,useExisting:(0,i.Rfq)(()=>Ut),multi:!0};let Ft=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=se=>U}enabled(se){return se}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("required",me._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([Ze]),i.Vt3]})}}return ke})(),Ut=(()=>{class ke extends Ft{constructor(){super(...arguments),this.createValidator=se=>$}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("required",me._enabled?"":null)},features:[i.Jv_([ot]),i.Vt3]})}}return ke})();const Es={provide:w,useExisting:(0,i.Rfq)(()=>$s),multi:!0};let $s=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=se=>Yo(se),this.createValidator=se=>G(se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("minlength",me._enabled?me.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([Es]),i.Vt3]})}}return ke})();const Cs={provide:w,useExisting:(0,i.Rfq)(()=>di),multi:!0};let di=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=se=>Yo(se),this.createValidator=se=>z(se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("maxlength",me._enabled?me.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Cs]),i.Vt3]})}}return ke})();const Hi={provide:w,useExisting:(0,i.Rfq)(()=>ui),multi:!0};let ui=(()=>{class ke extends Jr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=se=>se,this.createValidator=se=>V(se)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(Ve,me){2&Ve&&i.BMQ("pattern",me._enabled?me.pattern:null)},inputs:{pattern:"pattern"},features:[i.Jv_([Hi]),i.Vt3]})}}return ke})(),Er=(()=>{class ke{static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({})}}return ke})();class qi extends Be{constructor(ze,se,Ve){super(Zt(se),Lt(Ve,se)),this.controls=ze,this._initObservables(),this._setUpdateStrategy(se),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ze){return this.controls[this._adjustIndex(ze)]}push(ze,se={}){this.controls.push(ze),this._registerControl(ze),this.updateValueAndValidity({emitEvent:se.emitEvent}),this._onCollectionChange()}insert(ze,se,Ve={}){this.controls.splice(ze,0,se),this._registerControl(se),this.updateValueAndValidity({emitEvent:Ve.emitEvent})}removeAt(ze,se={}){let Ve=this._adjustIndex(ze);Ve<0&&(Ve=0),this.controls[Ve]&&this.controls[Ve]._registerOnCollectionChange(()=>{}),this.controls.splice(Ve,1),this.updateValueAndValidity({emitEvent:se.emitEvent})}setControl(ze,se,Ve={}){let me=this._adjustIndex(ze);me<0&&(me=0),this.controls[me]&&this.controls[me]._registerOnCollectionChange(()=>{}),this.controls.splice(me,1),se&&(this.controls.splice(me,0,se),this._registerControl(se)),this.updateValueAndValidity({emitEvent:Ve.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ze,se={}){He(this,0,ze),ze.forEach((Ve,me)=>{je(this,!1,me),this.at(me).setValue(Ve,{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se)}patchValue(ze,se={}){null!=ze&&(ze.forEach((Ve,me)=>{this.at(me)&&this.at(me).patchValue(Ve,{onlySelf:!0,emitEvent:se.emitEvent})}),this.updateValueAndValidity(se))}reset(ze=[],se={}){this._forEachChild((Ve,me)=>{Ve.reset(ze[me],{onlySelf:!0,emitEvent:se.emitEvent})}),this._updatePristine(se),this._updateTouched(se),this.updateValueAndValidity(se)}getRawValue(){return this.controls.map(ze=>ze.getRawValue())}clear(ze={}){this.controls.length<1||(this._forEachChild(se=>se._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ze.emitEvent}))}_adjustIndex(ze){return ze<0?ze+this.length:ze}_syncPendingControls(){let ze=this.controls.reduce((se,Ve)=>!!Ve._syncPendingControls()||se,!1);return ze&&this.updateValueAndValidity({onlySelf:!0}),ze}_forEachChild(ze){this.controls.forEach((se,Ve)=>{ze(se,Ve)})}_updateValue(){this.value=this.controls.filter(ze=>ze.enabled||this.disabled).map(ze=>ze.value)}_anyControls(ze){return this.controls.some(se=>se.enabled&&ze(se))}_setUpControls(){this._forEachChild(ze=>this._registerControl(ze))}_allControlsDisabled(){for(const ze of this.controls)if(ze.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ze){ze.setParent(this),ze._registerOnCollectionChange(this._onCollectionChange)}_find(ze){return this.at(ze)??null}}const Ks=qi;function Vr(ke){return!!ke&&(void 0!==ke.asyncValidators||void 0!==ke.validators||void 0!==ke.updateOn)}let cr=(()=>{class ke{constructor(){this.useNonNullable=!1}get nonNullable(){const se=new ke;return se.useNonNullable=!0,se}group(se,Ve=null){const me=this._reduceControls(se);let bt={};return Vr(Ve)?bt=Ve:null!==Ve&&(bt.validators=Ve.validator,bt.asyncValidators=Ve.asyncValidator),new Pt(me,bt)}record(se,Ve=null){const me=this._reduceControls(se);return new qt(me,Ve)}control(se,Ve,me){let bt={};return this.useNonNullable?(Vr(Ve)?bt=Ve:(bt.validators=Ve,bt.asyncValidators=me),new Ln(se,{...bt,nonNullable:!0})):new Ln(se,Ve,me)}array(se,Ve,me){const bt=se.map(Yt=>this._createControl(Yt));return new qi(bt,Ve,me)}_reduceControls(se){const Ve={};return Object.keys(se).forEach(me=>{Ve[me]=this._createControl(se[me])}),Ve}_createControl(se){return se instanceof Ln||se instanceof Be?se:Array.isArray(se)?this.control(se[0],se.length>1?se[1]:null,se.length>2?se[2]:null):this.control(se)}static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),Jo=(()=>{class ke extends cr{group(se,Ve=null){return super.group(se,Ve)}control(se,Ve,me){return super.control(se,Ve,me)}array(se,Ve,me){return super.array(se,Ve,me)}static{this.\u0275fac=(()=>{let se;return function(me){return(se||(se=i.xGo(ke)))(me||ke)}})()}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),Gr=(()=>{class ke{static withConfig(se){return{ngModule:ke,providers:[{provide:Cn,useValue:se.callSetDisabledState??ns}]}}static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({imports:[Er]})}}return ke})(),ca=(()=>{class ke{static withConfig(se){return{ngModule:ke,providers:[{provide:$n,useValue:se.warnOnNgModelWithFormControl??"always"},{provide:Cn,useValue:se.callSetDisabledState??ns}]}}static{this.\u0275fac=function(Ve){return new(Ve||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({imports:[Er]})}}return ke})()},345:(N,T,n)=>{"use strict";n.d(T,{$x:()=>Zt,B7:()=>G,B8:()=>ne,EZ:()=>Tt,W8:()=>Ge,hE:()=>Pe,kQ:()=>nn,up:()=>Jt});var i=n(54438),t=n(60177),l=n(21626);class e extends t.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class f extends e{static makeCurrent(){(0,t.ZD)(new f)}onAndCancel(je,He,Be){return je.addEventListener(He,Be),()=>{je.removeEventListener(He,Be)}}dispatchEvent(je,He){je.dispatchEvent(He)}remove(je){je.parentNode&&je.parentNode.removeChild(je)}createElement(je,He){return(He=He||this.getDefaultDocument()).createElement(je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(je){return je.nodeType===Node.ELEMENT_NODE}isShadowRoot(je){return je instanceof DocumentFragment}getGlobalEventTarget(je,He){return"window"===He?window:"document"===He?je:"body"===He?je.body:null}getBaseHref(je){const He=function p(){return m=m||document.querySelector("base"),m?m.getAttribute("href"):null}();return null==He?null:function _(Le){return new URL(Le,document.baseURI).pathname}(He)}resetBaseElement(){m=null}getUserAgent(){return window.navigator.userAgent}getCookie(je){return(0,t._b)(document.cookie,je)}}let m=null,y=(()=>{class Le{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Be){return new(Be||Le)}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();const C=new i.nKC("");let O=(()=>{class Le{constructor(He,Be){this._zone=Be,this._eventNameToPlugin=new Map,He.forEach(Pt=>{Pt.manager=this}),this._plugins=He.slice().reverse()}addEventListener(He,Be,Pt){return this._findPluginFor(Be).addEventListener(He,Be,Pt)}getZone(){return this._zone}_findPluginFor(He){let Be=this._eventNameToPlugin.get(He);if(Be)return Be;if(Be=this._plugins.find(Je=>Je.supports(He)),!Be)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(He,Be),Be}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(C),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();class I{constructor(je){this._doc=je}}const D="ng-app-id";let R=(()=>{class Le{constructor(He,Be,Pt,Je={}){this.doc=He,this.appId=Be,this.nonce=Pt,this.platformId=Je,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,t.Vy)(Je),this.resetHostNodes()}addStyles(He){for(const Be of He)1===this.changeUsageCount(Be,1)&&this.onStyleAdded(Be)}removeStyles(He){for(const Be of He)this.changeUsageCount(Be,-1)<=0&&this.onStyleRemoved(Be)}ngOnDestroy(){const He=this.styleNodesInDOM;He&&(He.forEach(Be=>Be.remove()),He.clear());for(const Be of this.getAllStyles())this.onStyleRemoved(Be);this.resetHostNodes()}addHost(He){this.hostNodes.add(He);for(const Be of this.getAllStyles())this.addStyleToHost(He,Be)}removeHost(He){this.hostNodes.delete(He)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(He){for(const Be of this.hostNodes)this.addStyleToHost(Be,He)}onStyleRemoved(He){const Be=this.styleRef;Be.get(He)?.elements?.forEach(Pt=>Pt.remove()),Be.delete(He)}collectServerRenderedStyles(){const He=this.doc.head?.querySelectorAll(`style[${D}="${this.appId}"]`);if(He?.length){const Be=new Map;return He.forEach(Pt=>{null!=Pt.textContent&&Be.set(Pt.textContent,Pt)}),Be}return null}changeUsageCount(He,Be){const Pt=this.styleRef;if(Pt.has(He)){const Je=Pt.get(He);return Je.usage+=Be,Je.usage}return Pt.set(He,{usage:Be,elements:[]}),Be}getStyleElement(He,Be){const Pt=this.styleNodesInDOM,Je=Pt?.get(Be);if(Je?.parentNode===He)return Pt.delete(Be),Je.removeAttribute(D),Je;{const Nt=this.doc.createElement("style");return this.nonce&&Nt.setAttribute("nonce",this.nonce),Nt.textContent=Be,this.platformIsServer&&Nt.setAttribute(D,this.appId),He.appendChild(Nt),Nt}}addStyleToHost(He,Be){const Pt=this.getStyleElement(He,Be),Je=this.styleRef,Nt=Je.get(Be)?.elements;Nt?Nt.push(Pt):Je.set(Be,{elements:[Pt],usage:1})}resetHostNodes(){const He=this.hostNodes;He.clear(),He.add(this.doc.head)}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();const h={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},w=/%COMP%/g,b="%COMP%",P=`_nghost-${b}`,M=`_ngcontent-${b}`,B=new i.nKC("",{providedIn:"root",factory:()=>!0});function j(Le,je){return je.map(He=>He.replace(w,Le))}let G=(()=>{class Le{constructor(He,Be,Pt,Je,Nt,Et,qt,fn=null){this.eventManager=He,this.sharedStylesHost=Be,this.appId=Pt,this.removeStylesOnCompDestroy=Je,this.doc=Nt,this.platformId=Et,this.ngZone=qt,this.nonce=fn,this.rendererByCompId=new Map,this.platformIsServer=(0,t.Vy)(Et),this.defaultRenderer=new z(He,Nt,qt,this.platformIsServer)}createRenderer(He,Be){if(!He||!Be)return this.defaultRenderer;this.platformIsServer&&Be.encapsulation===i.gXe.ShadowDom&&(Be={...Be,encapsulation:i.gXe.Emulated});const Pt=this.getOrCreateRenderer(He,Be);return Pt instanceof H?Pt.applyToHost(He):Pt instanceof Z&&Pt.applyStyles(),Pt}getOrCreateRenderer(He,Be){const Pt=this.rendererByCompId;let Je=Pt.get(Be.id);if(!Je){const Nt=this.doc,Et=this.ngZone,qt=this.eventManager,fn=this.sharedStylesHost,Cn=this.removeStylesOnCompDestroy,ns=this.platformIsServer;switch(Be.encapsulation){case i.gXe.Emulated:Je=new H(qt,fn,Be,this.appId,Cn,Nt,Et,ns);break;case i.gXe.ShadowDom:return new q(qt,fn,He,Be,Nt,Et,this.nonce,ns);default:Je=new Z(qt,fn,Be,Cn,Nt,Et,ns)}Pt.set(Be.id,Je)}return Je}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(O),i.KVO(R),i.KVO(i.sZ2),i.KVO(B),i.KVO(t.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();class z{constructor(je,He,Be,Pt){this.eventManager=je,this.doc=He,this.ngZone=Be,this.platformIsServer=Pt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(je,He){return He?this.doc.createElementNS(h[He]||He,je):this.doc.createElement(je)}createComment(je){return this.doc.createComment(je)}createText(je){return this.doc.createTextNode(je)}appendChild(je,He){(J(je)?je.content:je).appendChild(He)}insertBefore(je,He,Be){je&&(J(je)?je.content:je).insertBefore(He,Be)}removeChild(je,He){je&&je.removeChild(He)}selectRootElement(je,He){let Be="string"==typeof je?this.doc.querySelector(je):je;if(!Be)throw new i.wOt(-5104,!1);return He||(Be.textContent=""),Be}parentNode(je){return je.parentNode}nextSibling(je){return je.nextSibling}setAttribute(je,He,Be,Pt){if(Pt){He=Pt+":"+He;const Je=h[Pt];Je?je.setAttributeNS(Je,He,Be):je.setAttribute(He,Be)}else je.setAttribute(He,Be)}removeAttribute(je,He,Be){if(Be){const Pt=h[Be];Pt?je.removeAttributeNS(Pt,He):je.removeAttribute(`${Be}:${He}`)}else je.removeAttribute(He)}addClass(je,He){je.classList.add(He)}removeClass(je,He){je.classList.remove(He)}setStyle(je,He,Be,Pt){Pt&(i.czy.DashCase|i.czy.Important)?je.style.setProperty(He,Be,Pt&i.czy.Important?"important":""):je.style[He]=Be}removeStyle(je,He,Be){Be&i.czy.DashCase?je.style.removeProperty(He):je.style[He]=""}setProperty(je,He,Be){null!=je&&(je[He]=Be)}setValue(je,He){je.nodeValue=He}listen(je,He,Be){if("string"==typeof je&&!(je=(0,t.QT)().getGlobalEventTarget(this.doc,je)))throw new Error(`Unsupported event target ${je} for event ${He}`);return this.eventManager.addEventListener(je,He,this.decoratePreventDefault(Be))}decoratePreventDefault(je){return He=>{if("__ngUnwrap__"===He)return je;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>je(He)):je(He))&&He.preventDefault()}}}function J(Le){return"TEMPLATE"===Le.tagName&&void 0!==Le.content}class q extends z{constructor(je,He,Be,Pt,Je,Nt,Et,qt){super(je,Je,Nt,qt),this.sharedStylesHost=He,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=j(Pt.id,Pt.styles);for(const Cn of fn){const ns=document.createElement("style");Et&&ns.setAttribute("nonce",Et),ns.textContent=Cn,this.shadowRoot.appendChild(ns)}}nodeOrShadowRoot(je){return je===this.hostEl?this.shadowRoot:je}appendChild(je,He){return super.appendChild(this.nodeOrShadowRoot(je),He)}insertBefore(je,He,Be){return super.insertBefore(this.nodeOrShadowRoot(je),He,Be)}removeChild(je,He){return super.removeChild(this.nodeOrShadowRoot(je),He)}parentNode(je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Z extends z{constructor(je,He,Be,Pt,Je,Nt,Et,qt){super(je,Je,Nt,Et),this.sharedStylesHost=He,this.removeStylesOnCompDestroy=Pt,this.styles=qt?j(qt,Be.styles):Be.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class H extends Z{constructor(je,He,Be,Pt,Je,Nt,Et,qt){const fn=Pt+"-"+Be.id;super(je,He,Be,Je,Nt,Et,qt,fn),this.contentAttr=function U(Le){return M.replace(w,Le)}(fn),this.hostAttr=function $(Le){return P.replace(w,Le)}(fn)}applyToHost(je){this.applyStyles(),this.setAttribute(je,this.hostAttr,"")}createElement(je,He){const Be=super.createElement(je,He);return super.setAttribute(Be,this.contentAttr,""),Be}}let Y=(()=>{class Le extends I{constructor(He){super(He)}supports(He){return!0}addEventListener(He,Be,Pt){return He.addEventListener(Be,Pt,!1),()=>this.removeEventListener(He,Be,Pt)}removeEventListener(He,Be,Pt){return He.removeEventListener(Be,Pt)}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();const Q=["alt","control","meta","shift"],ie={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={alt:Le=>Le.altKey,control:Le=>Le.ctrlKey,meta:Le=>Le.metaKey,shift:Le=>Le.shiftKey};let pe=(()=>{class Le extends I{constructor(He){super(He)}supports(He){return null!=Le.parseEventName(He)}addEventListener(He,Be,Pt){const Je=Le.parseEventName(Be),Nt=Le.eventCallback(Je.fullKey,Pt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,t.QT)().onAndCancel(He,Je.domEventName,Nt))}static parseEventName(He){const Be=He.toLowerCase().split("."),Pt=Be.shift();if(0===Be.length||"keydown"!==Pt&&"keyup"!==Pt)return null;const Je=Le._normalizeKey(Be.pop());let Nt="",Et=Be.indexOf("code");if(Et>-1&&(Be.splice(Et,1),Nt="code."),Q.forEach(fn=>{const Cn=Be.indexOf(fn);Cn>-1&&(Be.splice(Cn,1),Nt+=fn+".")}),Nt+=Je,0!=Be.length||0===Je.length)return null;const qt={};return qt.domEventName=Pt,qt.fullKey=Nt,qt}static matchEventFullKeyCode(He,Be){let Pt=ie[He.key]||He.key,Je="";return Be.indexOf("code.")>-1&&(Pt=He.code,Je="code."),!(null==Pt||!Pt)&&(Pt=Pt.toLowerCase()," "===Pt?Pt="space":"."===Pt&&(Pt="dot"),Q.forEach(Nt=>{Nt!==Pt&&(0,oe[Nt])(He)&&(Je+=Nt+".")}),Je+=Pt,Je===Be)}static eventCallback(He,Be,Pt){return Je=>{Le.matchEventFullKeyCode(Je,He)&&Pt.runGuarded(()=>Be(Je))}}static _normalizeKey(He){return"esc"===He?"escape":He}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})();function ne(Le,je){return(0,i.TL3)({rootComponent:Le,...Ce(je)})}function Ce(Le){return{appProviders:[...dt,...Le?.providers??[]],platformProviders:De}}const De=[{provide:i.Agw,useValue:t.AJ},{provide:i.PLl,useValue:function ue(){f.makeCurrent()},multi:!0},{provide:t.qQ,useFactory:function ye(){return(0,i.TL$)(document),document},deps:[]}],dt=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function ae(){return new i.zcH},deps:[]},{provide:C,useClass:Y,multi:!0,deps:[t.qQ,i.SKi,i.Agw]},{provide:C,useClass:pe,multi:!0,deps:[t.qQ]},G,R,O,{provide:i._9s,useExisting:G},{provide:t.N0,useClass:y,deps:[]},[]];let Ge=(()=>{class Le{constructor(He){this._doc=He,this._dom=(0,t.QT)()}addTag(He,Be=!1){return He?this._getOrCreateElement(He,Be):null}addTags(He,Be=!1){return He?He.reduce((Pt,Je)=>(Je&&Pt.push(this._getOrCreateElement(Je,Be)),Pt),[]):[]}getTag(He){return He&&this._doc.querySelector(`meta[${He}]`)||null}getTags(He){if(!He)return[];const Be=this._doc.querySelectorAll(`meta[${He}]`);return Be?[].slice.call(Be):[]}updateTag(He,Be){if(!He)return null;Be=Be||this._parseSelector(He);const Pt=this.getTag(Be);return Pt?this._setMetaElementAttributes(He,Pt):this._getOrCreateElement(He,!0)}removeTag(He){this.removeTagElement(this.getTag(He))}removeTagElement(He){He&&this._dom.remove(He)}_getOrCreateElement(He,Be=!1){if(!Be){const Nt=this._parseSelector(He),Et=this.getTags(Nt).filter(qt=>this._containsAttributes(He,qt))[0];if(void 0!==Et)return Et}const Pt=this._dom.createElement("meta");return this._setMetaElementAttributes(He,Pt),this._doc.getElementsByTagName("head")[0].appendChild(Pt),Pt}_setMetaElementAttributes(He,Be){return Object.keys(He).forEach(Pt=>Be.setAttribute(this._getMetaKeyMap(Pt),He[Pt])),Be}_parseSelector(He){const Be=He.name?"name":"property";return`${Be}="${He[Be]}"`}_containsAttributes(He,Be){return Object.keys(He).every(Pt=>Be.getAttribute(this._getMetaKeyMap(Pt))===He[Pt])}_getMetaKeyMap(He){return gt[He]||He}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})();const gt={httpEquiv:"http-equiv"};let Pe=(()=>{class Le{constructor(He){this._doc=He}getTitle(){return this._doc.title}setTitle(He){this._doc.title=He||""}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})();const nn=new i.nKC("HammerGestureConfig");let Tt=(()=>{class Le{constructor(){this.events=[],this.overrides={}}buildHammer(He){const Be=new Hammer(He,this.options);Be.get("pinch").set({enable:!0}),Be.get("rotate").set({enable:!0});for(const Pt in this.overrides)Be.get(Pt).set(this.overrides[Pt]);return Be}static{this.\u0275fac=function(Be){return new(Be||Le)}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac})}}return Le})(),Jt=(()=>{class Le{static{this.\u0275fac=function(Be){return new(Be||Le)}}static{this.\u0275prov=i.jDH({token:Le,factory:function(Be){let Pt=null;return Pt=Be?new(Be||Le):i.KVO(ln),Pt},providedIn:"root"})}}return Le})(),ln=(()=>{class Le extends Jt{constructor(He){super(),this._doc=He}sanitize(He,Be){if(null==Be)return null;switch(He){case i.WPN.NONE:return Be;case i.WPN.HTML:return(0,i.ZF7)(Be,"HTML")?(0,i.rcV)(Be):(0,i.h9k)(this._doc,String(Be)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Be,"Style")?(0,i.rcV)(Be):Be;case i.WPN.SCRIPT:if((0,i.ZF7)(Be,"Script"))return(0,i.rcV)(Be);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Be,"URL")?(0,i.rcV)(Be):(0,i.$MX)(String(Be));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Be,"ResourceURL"))return(0,i.rcV)(Be);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(He){return(0,i.Kcf)(He)}bypassSecurityTrustStyle(He){return(0,i.cWb)(He)}bypassSecurityTrustScript(He){return(0,i.UyX)(He)}bypassSecurityTrustUrl(He){return(0,i.osQ)(He)}bypassSecurityTrustResourceUrl(He){return(0,i.e5t)(He)}static{this.\u0275fac=function(Be){return new(Be||Le)(i.KVO(t.qQ))}}static{this.\u0275prov=i.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})();var It=function(Le){return Le[Le.NoHttpTransferCache=0]="NoHttpTransferCache",Le[Le.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",Le}(It||{});function Zt(...Le){const je=[],He=new Set,Be=He.has(It.HttpTransferCacheOptions);for(const{\u0275providers:Pt,\u0275kind:Je}of Le)He.add(Je),Pt.length&&je.push(Pt);return(0,i.EmA)([[],(0,i.M8M)(),He.has(It.NoHttpTransferCache)||Be?[]:(0,l.$m)({}),je])}},7901:(N,T,n)=>{"use strict";n.d(T,{Bx:()=>$e,D7:()=>Kn,Ii:()=>hd,Ix:()=>As,L6:()=>Vn,OY:()=>Zi,Sn:()=>Sr,Wk:()=>Li,Xw:()=>ve,Z:()=>rt,Zy:()=>ur,gx:()=>ls,iI:()=>Ss,j5:()=>sn,ld:()=>Ln,lh:()=>vr,n3:()=>kr,nU:()=>Mn,nX:()=>Ei,oH:()=>Hs,wF:()=>ht,wQ:()=>Ii});var i=n(74523),t=n(54438),l=n(74402),e=n(22806),f=n(7673),m=n(84412),p=n(84572),_=n(9350),v=n(92688),y=n(59030),C=n(71203),O=n(18810),I=n(983),D=n(30017),R=n(21413),h=n(18359),w=n(60177),b=n(96354),P=n(25558),M=n(96697),L=n(99172),B=n(5964),U=n(73028),$=n(61594),j=n(70274),G=n(88141),z=n(99437),V=n(31943),X=n(39901),J=n(67018),q=n(55109),Z=n(73703),H=n(70980),Y=n(99898),Q=n(56977),ie=n(26365),oe=n(345);const pe="primary",ne=Symbol("RouteTitle");class re{constructor(Te){this.params=Te||{}}has(Te){return Object.prototype.hasOwnProperty.call(this.params,Te)}get(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he[0]:he}return null}getAll(Te){if(this.has(Te)){const he=this.params[Te];return Array.isArray(he)?he:[he]}return[]}get keys(){return Object.keys(this.params)}}function Ce(ce){return new re(ce)}function Ee(ce,Te,he){const Oe=he.path.split("/");if(Oe.length>ce.length||"full"===he.pathMatch&&(Te.hasChildren()||Oe.length<ce.length))return null;const Ke={};for(let pt=0;pt<Oe.length;pt++){const Me=Oe[pt],_e=ce[pt];if(Me.startsWith(":"))Ke[Me.substring(1)]=_e;else if(Me!==_e.path)return null}return{consumed:ce.slice(0,Oe.length),posParams:Ke}}function ae(ce,Te){const he=ce?ye(ce):void 0,Oe=Te?ye(Te):void 0;if(!he||!Oe||he.length!=Oe.length)return!1;let Ke;for(let pt=0;pt<he.length;pt++)if(Ke=he[pt],!De(ce[Ke],Te[Ke]))return!1;return!0}function ye(ce){return[...Object.keys(ce),...Object.getOwnPropertySymbols(ce)]}function De(ce,Te){if(Array.isArray(ce)&&Array.isArray(Te)){if(ce.length!==Te.length)return!1;const he=[...ce].sort(),Oe=[...Te].sort();return he.every((Ke,pt)=>Oe[pt]===Ke)}return ce===Te}function tt(ce){return ce.length>0?ce[ce.length-1]:null}function _t(ce){return(0,l.A)(ce)?ce:(0,t.jNT)(ce)?(0,e.H)(Promise.resolve(ce)):(0,f.of)(ce)}const We={exact:function gt(ce,Te,he){if(!ut(ce.segments,Te.segments)||!at(ce.segments,Te.segments,he)||ce.numberOfChildren!==Te.numberOfChildren)return!1;for(const Oe in Te.children)if(!ce.children[Oe]||!gt(ce.children[Oe],Te.children[Oe],he))return!1;return!0},subset:we},dt={exact:function Ge(ce,Te){return ae(ce,Te)},subset:function Pe(ce,Te){return Object.keys(Te).length<=Object.keys(ce).length&&Object.keys(Te).every(he=>De(ce[he],Te[he]))},ignored:()=>!0};function it(ce,Te,he){return We[he.paths](ce.root,Te.root,he.matrixParams)&&dt[he.queryParams](ce.queryParams,Te.queryParams)&&!("exact"===he.fragment&&ce.fragment!==Te.fragment)}function we(ce,Te,he){return vt(ce,Te,Te.segments,he)}function vt(ce,Te,he,Oe){if(ce.segments.length>he.length){const Ke=ce.segments.slice(0,he.length);return!(!ut(Ke,he)||Te.hasChildren()||!at(Ke,he,Oe))}if(ce.segments.length===he.length){if(!ut(ce.segments,he)||!at(ce.segments,he,Oe))return!1;for(const Ke in Te.children)if(!ce.children[Ke]||!we(ce.children[Ke],Te.children[Ke],Oe))return!1;return!0}{const Ke=he.slice(0,ce.segments.length),pt=he.slice(ce.segments.length);return!!(ut(ce.segments,Ke)&&at(ce.segments,Ke,Oe)&&ce.children[pe])&&vt(ce.children[pe],Te,pt,Oe)}}function at(ce,Te,he){return Te.every((Oe,Ke)=>dt[he](ce[Ke].parameters,Oe.parameters))}class nt{constructor(Te=new lt([],{}),he={},Oe=null){this.root=Te,this.queryParams=he,this.fragment=Oe}get queryParamMap(){return this._queryParamMap??=Ce(this.queryParams),this._queryParamMap}toString(){return Tt.serialize(this)}}class lt{constructor(Te,he){this.segments=Te,this.children=he,this.parent=null,Object.values(he).forEach(Oe=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $t(this)}}class ve{constructor(Te,he){this.path=Te,this.parameters=he}get parameterMap(){return this._parameterMap??=Ce(this.parameters),this._parameterMap}toString(){return Ot(this)}}function ut(ce,Te){return ce.length===Te.length&&ce.every((he,Oe)=>he.path===Te[Oe].path)}let nn=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>new Mn,providedIn:"root"})}}return ce})();class Mn{parse(Te){const he=new Nt(Te);return new nt(he.parseRootSegment(),he.parseQueryParams(),he.parseFragment())}serialize(Te){const he=`/${St(Te.root,!0)}`,Oe=function Dt(ce){const Te=Object.entries(ce).map(([he,Oe])=>Array.isArray(Oe)?Oe.map(Ke=>`${ln(he)}=${ln(Ke)}`).join("&"):`${ln(he)}=${ln(Oe)}`).filter(he=>he);return Te.length?`?${Te.join("&")}`:""}(Te.queryParams);return`${he}${Oe}${"string"==typeof Te.fragment?`#${function It(ce){return encodeURI(ce)}(Te.fragment)}`:""}`}}const Tt=new Mn;function $t(ce){return ce.segments.map(Te=>Ot(Te)).join("/")}function St(ce,Te){if(!ce.hasChildren())return $t(ce);if(Te){const he=ce.children[pe]?St(ce.children[pe],!1):"",Oe=[];return Object.entries(ce.children).forEach(([Ke,pt])=>{Ke!==pe&&Oe.push(`${Ke}:${St(pt,!1)}`)}),Oe.length>0?`${he}(${Oe.join("//")})`:he}{const he=function cn(ce,Te){let he=[];return Object.entries(ce.children).forEach(([Oe,Ke])=>{Oe===pe&&(he=he.concat(Te(Ke,Oe)))}),Object.entries(ce.children).forEach(([Oe,Ke])=>{Oe!==pe&&(he=he.concat(Te(Ke,Oe)))}),he}(ce,(Oe,Ke)=>Ke===pe?[St(ce.children[pe],!1)]:[`${Ke}:${St(Oe,!1)}`]);return 1===Object.keys(ce.children).length&&null!=ce.children[pe]?`${$t(ce)}/${he[0]}`:`${$t(ce)}/(${he.join("//")})`}}function Jt(ce){return encodeURIComponent(ce).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(ce){return Jt(ce).replace(/%3B/gi,";")}function zt(ce){return Jt(ce).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ht(ce){return decodeURIComponent(ce)}function At(ce){return Ht(ce.replace(/\+/g,"%20"))}function Ot(ce){return`${zt(ce.path)}${function Zt(ce){return Object.entries(ce).map(([Te,he])=>`;${zt(Te)}=${zt(he)}`).join("")}(ce.parameters)}`}const Lt=/^[^\/()?;#]+/;function st(ce){const Te=ce.match(Lt);return Te?Te[0]:""}const Le=/^[^\/()?;=#]+/,He=/^[^=?&#]+/,Pt=/^[^&#]+/;class Nt{constructor(Te){this.url=Te,this.remaining=Te}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){const Te={};if(this.consumeOptional("?"))do{this.parseQueryParam(Te)}while(this.consumeOptional("&"));return Te}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const Te=[];for(this.peekStartsWith("(")||Te.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),Te.push(this.parseSegment());let he={};this.peekStartsWith("/(")&&(this.capture("/"),he=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(Te.length>0||Object.keys(he).length>0)&&(Oe[pe]=new lt(Te,he)),Oe}parseSegment(){const Te=st(this.remaining);if(""===Te&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(Te),new ve(Ht(Te),this.parseMatrixParams())}parseMatrixParams(){const Te={};for(;this.consumeOptional(";");)this.parseParam(Te);return Te}parseParam(Te){const he=function je(ce){const Te=ce.match(Le);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const Ke=st(this.remaining);Ke&&(Oe=Ke,this.capture(Oe))}Te[Ht(he)]=Ht(Oe)}parseQueryParam(Te){const he=function Be(ce){const Te=ce.match(He);return Te?Te[0]:""}(this.remaining);if(!he)return;this.capture(he);let Oe="";if(this.consumeOptional("=")){const Me=function Je(ce){const Te=ce.match(Pt);return Te?Te[0]:""}(this.remaining);Me&&(Oe=Me,this.capture(Oe))}const Ke=At(he),pt=At(Oe);if(Te.hasOwnProperty(Ke)){let Me=Te[Ke];Array.isArray(Me)||(Me=[Me],Te[Ke]=Me),Me.push(pt)}else Te[Ke]=pt}parseParens(Te){const he={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=st(this.remaining),Ke=this.remaining[Oe.length];if("/"!==Ke&&")"!==Ke&&";"!==Ke)throw new t.wOt(4010,!1);let pt;Oe.indexOf(":")>-1?(pt=Oe.slice(0,Oe.indexOf(":")),this.capture(pt),this.capture(":")):Te&&(pt=pe);const Me=this.parseChildren();he[pt]=1===Object.keys(Me).length?Me[pe]:new lt([],Me),this.consumeOptional("//")}return he}peekStartsWith(Te){return this.remaining.startsWith(Te)}consumeOptional(Te){return!!this.peekStartsWith(Te)&&(this.remaining=this.remaining.substring(Te.length),!0)}capture(Te){if(!this.consumeOptional(Te))throw new t.wOt(4011,!1)}}function Et(ce){return ce.segments.length>0?new lt([],{[pe]:ce}):ce}function qt(ce){const Te={};for(const[Oe,Ke]of Object.entries(ce.children)){const pt=qt(Ke);if(Oe===pe&&0===pt.segments.length&&pt.hasChildren())for(const[Me,_e]of Object.entries(pt.children))Te[Me]=_e;else(pt.segments.length>0||pt.hasChildren())&&(Te[Oe]=pt)}return function fn(ce){if(1===ce.numberOfChildren&&ce.children[pe]){const Te=ce.children[pe];return new lt(ce.segments.concat(Te.segments),Te.children)}return ce}(new lt(ce.segments,Te))}function Cn(ce){return ce instanceof nt}function hs(ce){let Te;const Ke=Et(function he(pt){const Me={};for(const le of pt.children){const Ie=he(le);Me[le.outlet]=Ie}const _e=new lt(pt.url,Me);return pt===ce&&(Te=_e),_e}(ce.root));return Te??Ke}function Gs(ce,Te,he,Oe){let Ke=ce;for(;Ke.parent;)Ke=Ke.parent;if(0===Te.length)return Xt(Ke,Ke,Ke,he,Oe);const pt=function rs(ce){if("string"==typeof ce[0]&&1===ce.length&&"/"===ce[0])return new kn(!0,0,ce);let Te=0,he=!1;const Oe=ce.reduce((Ke,pt,Me)=>{if("object"==typeof pt&&null!=pt){if(pt.outlets){const _e={};return Object.entries(pt.outlets).forEach(([le,Ie])=>{_e[le]="string"==typeof Ie?Ie.split("/"):Ie}),[...Ke,{outlets:_e}]}if(pt.segmentPath)return[...Ke,pt.segmentPath]}return"string"!=typeof pt?[...Ke,pt]:0===Me?(pt.split("/").forEach((_e,le)=>{0==le&&"."===_e||(0==le&&""===_e?he=!0:".."===_e?Te++:""!=_e&&Ke.push(_e))}),Ke):[...Ke,pt]},[]);return new kn(he,Te,Oe)}(Te);if(pt.toRoot())return Xt(Ke,Ke,new lt([],{}),he,Oe);const Me=function Qs(ce,Te,he){if(ce.isAbsolute)return new as(Te,!0,0);if(!he)return new as(Te,!1,NaN);if(null===he.parent)return new as(he,!0,0);const Oe=yt(ce.commands[0])?0:1;return function gs(ce,Te,he){let Oe=ce,Ke=Te,pt=he;for(;pt>Ke;){if(pt-=Ke,Oe=Oe.parent,!Oe)throw new t.wOt(4005,!1);Ke=Oe.segments.length}return new as(Oe,!1,Ke-pt)}(he,he.segments.length-1+Oe,ce.numberOfDoubleDots)}(pt,Ke,ce),_e=Me.processChildren?rn(Me.segmentGroup,Me.index,pt.commands):os(Me.segmentGroup,Me.index,pt.commands);return Xt(Ke,Me.segmentGroup,_e,he,Oe)}function yt(ce){return"object"==typeof ce&&null!=ce&&!ce.outlets&&!ce.segmentPath}function ct(ce){return"object"==typeof ce&&null!=ce&&ce.outlets}function Xt(ce,Te,he,Oe,Ke){let Me,pt={};Oe&&Object.entries(Oe).forEach(([le,Ie])=>{pt[le]=Array.isArray(Ie)?Ie.map(et=>`${et}`):`${Ie}`}),Me=ce===Te?he:Pn(ce,Te,he);const _e=Et(qt(Me));return new nt(_e,pt,Ke)}function Pn(ce,Te,he){const Oe={};return Object.entries(ce.children).forEach(([Ke,pt])=>{Oe[Ke]=pt===Te?he:Pn(pt,Te,he)}),new lt(ce.segments,Oe)}class kn{constructor(Te,he,Oe){if(this.isAbsolute=Te,this.numberOfDoubleDots=he,this.commands=Oe,Te&&Oe.length>0&&yt(Oe[0]))throw new t.wOt(4003,!1);const Ke=Oe.find(ct);if(Ke&&Ke!==tt(Oe))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class as{constructor(Te,he,Oe){this.segmentGroup=Te,this.processChildren=he,this.index=Oe}}function os(ce,Te,he){if(ce??=new lt([],{}),0===ce.segments.length&&ce.hasChildren())return rn(ce,Te,he);const Oe=function pn(ce,Te,he){let Oe=0,Ke=Te;const pt={match:!1,pathIndex:0,commandIndex:0};for(;Ke<ce.segments.length;){if(Oe>=he.length)return pt;const Me=ce.segments[Ke],_e=he[Oe];if(ct(_e))break;const le=`${_e}`,Ie=Oe<he.length-1?he[Oe+1]:null;if(Ke>0&&void 0===le)break;if(le&&Ie&&"object"==typeof Ie&&void 0===Ie.outlets){if(!mt(le,Ie,Me))return pt;Oe+=2}else{if(!mt(le,{},Me))return pt;Oe++}Ke++}return{match:!0,pathIndex:Ke,commandIndex:Oe}}(ce,Te,he),Ke=he.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<ce.segments.length){const pt=new lt(ce.segments.slice(0,Oe.pathIndex),{});return pt.children[pe]=new lt(ce.segments.slice(Oe.pathIndex),ce.children),rn(pt,0,Ke)}return Oe.match&&0===Ke.length?new lt(ce.segments,{}):Oe.match&&!ce.hasChildren()?Zn(ce,Te,he):Oe.match?rn(ce,0,Ke):Zn(ce,Te,he)}function rn(ce,Te,he){if(0===he.length)return new lt(ce.segments,{});{const Oe=function Is(ce){return ct(ce[0])?ce[0].outlets:{[pe]:ce}}(he),Ke={};if(Object.keys(Oe).some(pt=>pt!==pe)&&ce.children[pe]&&1===ce.numberOfChildren&&0===ce.children[pe].segments.length){const pt=rn(ce.children[pe],Te,he);return new lt(ce.segments,pt.children)}return Object.entries(Oe).forEach(([pt,Me])=>{"string"==typeof Me&&(Me=[Me]),null!==Me&&(Ke[pt]=os(ce.children[pt],Te,Me))}),Object.entries(ce.children).forEach(([pt,Me])=>{void 0===Oe[pt]&&(Ke[pt]=Me)}),new lt(ce.segments,Ke)}}function Zn(ce,Te,he){const Oe=ce.segments.slice(0,Te);let Ke=0;for(;Ke<he.length;){const pt=he[Ke];if(ct(pt)){const le=Ps(pt.outlets);return new lt(Oe,le)}if(0===Ke&&yt(he[0])){Oe.push(new ve(ce.segments[Te].path,ai(he[0]))),Ke++;continue}const Me=ct(pt)?pt.outlets[pe]:`${pt}`,_e=Ke<he.length-1?he[Ke+1]:null;Me&&_e&&yt(_e)?(Oe.push(new ve(Me,ai(_e))),Ke+=2):(Oe.push(new ve(Me,{})),Ke++)}return new lt(Oe,{})}function Ps(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>{"string"==typeof Oe&&(Oe=[Oe]),null!==Oe&&(Te[he]=Zn(new lt([],{}),0,Oe))}),Te}function ai(ce){const Te={};return Object.entries(ce).forEach(([he,Oe])=>Te[he]=`${Oe}`),Te}function mt(ce,Te,he){return ce==he.path&&ae(Te,he.parameters)}const Gt="imperative";var $e=function(ce){return ce[ce.NavigationStart=0]="NavigationStart",ce[ce.NavigationEnd=1]="NavigationEnd",ce[ce.NavigationCancel=2]="NavigationCancel",ce[ce.NavigationError=3]="NavigationError",ce[ce.RoutesRecognized=4]="RoutesRecognized",ce[ce.ResolveStart=5]="ResolveStart",ce[ce.ResolveEnd=6]="ResolveEnd",ce[ce.GuardsCheckStart=7]="GuardsCheckStart",ce[ce.GuardsCheckEnd=8]="GuardsCheckEnd",ce[ce.RouteConfigLoadStart=9]="RouteConfigLoadStart",ce[ce.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",ce[ce.ChildActivationStart=11]="ChildActivationStart",ce[ce.ChildActivationEnd=12]="ChildActivationEnd",ce[ce.ActivationStart=13]="ActivationStart",ce[ce.ActivationEnd=14]="ActivationEnd",ce[ce.Scroll=15]="Scroll",ce[ce.NavigationSkipped=16]="NavigationSkipped",ce}($e||{});class en{constructor(Te,he){this.id=Te,this.url=he}}class rt extends en{constructor(Te,he,Oe="imperative",Ke=null){super(Te,he),this.type=$e.NavigationStart,this.navigationTrigger=Oe,this.restoredState=Ke}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ht extends en{constructor(Te,he,Oe){super(Te,he),this.urlAfterRedirects=Oe,this.type=$e.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ct=function(ce){return ce[ce.Redirect=0]="Redirect",ce[ce.SupersededByNewNavigation=1]="SupersededByNewNavigation",ce[ce.NoDataFromResolver=2]="NoDataFromResolver",ce[ce.GuardRejected=3]="GuardRejected",ce}(Ct||{}),kt=function(ce){return ce[ce.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",ce[ce.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",ce}(kt||{});class sn extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.reason=Oe,this.code=Ke,this.type=$e.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Tn extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.reason=Oe,this.code=Ke,this.type=$e.NavigationSkipped}}class Vn extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.error=Oe,this.target=Ke,this.type=$e.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ln extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.urlAfterRedirects=Oe,this.state=Ke,this.type=$e.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.urlAfterRedirects=Oe,this.state=Ke,this.type=$e.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends en{constructor(Te,he,Oe,Ke,pt){super(Te,he),this.urlAfterRedirects=Oe,this.state=Ke,this.shouldActivate=pt,this.type=$e.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ys extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.urlAfterRedirects=Oe,this.state=Ke,this.type=$e.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls extends en{constructor(Te,he,Oe,Ke){super(Te,he),this.urlAfterRedirects=Oe,this.state=Ke,this.type=$e.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ds{constructor(Te){this.route=Te,this.type=$e.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Mi{constructor(Te){this.route=Te,this.type=$e.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(Te){this.snapshot=Te,this.type=$e.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ai{constructor(Te){this.snapshot=Te,this.type=$e.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(Te){this.snapshot=Te,this.type=$e.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(Te){this.snapshot=Te,this.type=$e.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(Te,he,Oe){this.routerEvent=Te,this.position=he,this.anchor=Oe,this.type=$e.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ms{}class Ys{constructor(Te){this.url=Te}}class po{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ti,this.attachRef=null}}let Ti=(()=>{class ce{constructor(){this.contexts=new Map}onChildOutletCreated(he,Oe){const Ke=this.getOrCreateContext(he);Ke.outlet=Oe,this.contexts.set(he,Ke)}onChildOutletDestroyed(he){const Oe=this.getContext(he);Oe&&(Oe.outlet=null,Oe.attachRef=null)}onOutletDeactivated(){const he=this.contexts;return this.contexts=new Map,he}onOutletReAttached(he){this.contexts=he}getOrCreateContext(he){let Oe=this.getContext(he);return Oe||(Oe=new po,this.contexts.set(he,Oe)),Oe}getContext(he){return this.contexts.get(he)||null}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();class Bt{constructor(Te){this._root=Te}get root(){return this._root.value}parent(Te){const he=this.pathFromRoot(Te);return he.length>1?he[he.length-2]:null}children(Te){const he=gn(Te,this._root);return he?he.children.map(Oe=>Oe.value):[]}firstChild(Te){const he=gn(Te,this._root);return he&&he.children.length>0?he.children[0].value:null}siblings(Te){const he=tn(Te,this._root);return he.length<2?[]:he[he.length-2].children.map(Ke=>Ke.value).filter(Ke=>Ke!==Te)}pathFromRoot(Te){return tn(Te,this._root).map(he=>he.value)}}function gn(ce,Te){if(ce===Te.value)return Te;for(const he of Te.children){const Oe=gn(ce,he);if(Oe)return Oe}return null}function tn(ce,Te){if(ce===Te.value)return[Te];for(const he of Te.children){const Oe=tn(ce,he);if(Oe.length)return Oe.unshift(Te),Oe}return[]}class Wt{constructor(Te,he){this.value=Te,this.children=he}toString(){return`TreeNode(${this.value})`}}function bn(ce){const Te={};return ce&&ce.children.forEach(he=>Te[he.value.outlet]=he),Te}class $n extends Bt{constructor(Te,he){super(Te),this.snapshot=he,fo(this,Te)}toString(){return this.snapshot.toString()}}function vs(ce){const Te=function li(ce){const pt=new fi([],{},{},"",{},pe,ce,null,{});return new Fi("",new Wt(pt,[]))}(ce),he=new m.t([new ve("",{})]),Oe=new m.t({}),Ke=new m.t({}),pt=new m.t({}),Me=new m.t(""),_e=new Ei(he,Oe,pt,Me,Ke,pe,ce,Te.root);return _e.snapshot=Te.root,new $n(new Wt(_e,[]),Te)}class Ei{constructor(Te,he,Oe,Ke,pt,Me,_e,le){this.urlSubject=Te,this.paramsSubject=he,this.queryParamsSubject=Oe,this.fragmentSubject=Ke,this.dataSubject=pt,this.outlet=Me,this.component=_e,this._futureSnapshot=le,this.title=this.dataSubject?.pipe((0,b.T)(Ie=>Ie[ne]))??(0,f.of)(void 0),this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=Ke,this.data=pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,b.T)(Te=>Ce(Te))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,b.T)(Te=>Ce(Te))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ar(ce,Te,he="emptyOnly"){let Oe;const{routeConfig:Ke}=ce;return Oe=null===Te||"always"!==he&&""!==Ke?.path&&(Te.component||Te.routeConfig?.loadComponent)?{params:{...ce.params},data:{...ce.data},resolve:{...ce.data,...ce._resolvedData??{}}}:{params:{...Te.params,...ce.params},data:{...Te.data,...ce.data},resolve:{...ce.data,...Te.data,...Ke?.data,...ce._resolvedData}},Ke&&mo(Ke)&&(Oe.resolve[ne]=Ke.title),Oe}class fi{get title(){return this.data?.[ne]}constructor(Te,he,Oe,Ke,pt,Me,_e,le,Ie){this.url=Te,this.params=he,this.queryParams=Oe,this.fragment=Ke,this.data=pt,this.outlet=Me,this.component=_e,this.routeConfig=le,this._resolve=Ie}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ce(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ce(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fi extends Bt{constructor(Te,he){super(he),this.url=Te,fo(this,he)}toString(){return io(this._root)}}function fo(ce,Te){Te.value._routerState=ce,Te.children.forEach(he=>fo(ce,he))}function io(ce){const Te=ce.children.length>0?` { ${ce.children.map(io).join(", ")} } `:"";return`${ce.value}${Te}`}function wr(ce){if(ce.snapshot){const Te=ce.snapshot,he=ce._futureSnapshot;ce.snapshot=he,ae(Te.queryParams,he.queryParams)||ce.queryParamsSubject.next(he.queryParams),Te.fragment!==he.fragment&&ce.fragmentSubject.next(he.fragment),ae(Te.params,he.params)||ce.paramsSubject.next(he.params),function ue(ce,Te){if(ce.length!==Te.length)return!1;for(let he=0;he<ce.length;++he)if(!ae(ce[he],Te[he]))return!1;return!0}(Te.url,he.url)||ce.urlSubject.next(he.url),ae(Te.data,he.data)||ce.dataSubject.next(he.data)}else ce.snapshot=ce._futureSnapshot,ce.dataSubject.next(ce._futureSnapshot.data)}function wo(ce,Te){const he=ae(ce.params,Te.params)&&function Ne(ce,Te){return ut(ce,Te)&&ce.every((he,Oe)=>ae(he.parameters,Te[Oe].parameters))}(ce.url,Te.url);return he&&!(!ce.parent!=!Te.parent)&&(!ce.parent||wo(ce.parent,Te.parent))}function mo(ce){return"string"==typeof ce.title||null===ce.title}let kr=(()=>{class ce{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(Ti),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(wi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(he){if(he.name){const{firstChange:Oe,previousValue:Ke}=he.name;if(Oe)return;this.isTrackedInParentContexts(Ke)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ke)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(he){return this.parentContexts.getContext(he)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const he=this.parentContexts.getContext(this.name);he?.route&&(he.attachRef?this.attach(he.attachRef,he.route):this.activateWith(he.route,he.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const he=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(he.instance),he}attach(he,Oe){this.activated=he,this._activatedRoute=Oe,this.location.insert(he.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(he.instance)}deactivate(){if(this.activated){const he=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,Oe){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=he;const Ke=this.location,Me=he.snapshot.component,_e=this.parentContexts.getOrCreateContext(this.name).children,le=new go(he,_e,Ke.injector);this.activated=Ke.createComponent(Me,{index:Ke.length,injector:le,environmentInjector:Oe??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}}return ce})();class go{__ngOutletInjector(Te){return new go(this.route,this.childContexts,Te)}constructor(Te,he,Oe){this.route=Te,this.childContexts=he,this.parent=Oe}get(Te,he){return Te===Ei?this.route:Te===Ti?this.childContexts:this.parent.get(Te,he)}}const wi=new t.nKC("");let Bo=(()=>{class ce{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){this.outletDataSubscriptions.get(he)?.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:Oe}=he,Ke=(0,p.z)([Oe.queryParams,Oe.params,Oe.data]).pipe((0,P.n)(([pt,Me,_e],le)=>(_e={...pt,...Me,..._e},0===le?(0,f.of)(_e):Promise.resolve(_e)))).subscribe(pt=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==Oe||null===Oe.component)return void this.unsubscribeFromRouteData(he);const Me=(0,t.HJs)(Oe.component);if(Me)for(const{templateName:_e}of Me.inputs)he.activatedComponentRef.setInput(_e,pt[_e]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,Ke)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();function Xr(ce,Te,he){if(he&&ce.shouldReuseRoute(Te.value,he.value.snapshot)){const Oe=he.value;Oe._futureSnapshot=Te.value;const Ke=function Fs(ce,Te,he){return Te.children.map(Oe=>{for(const Ke of he.children)if(ce.shouldReuseRoute(Oe.value,Ke.value.snapshot))return Xr(ce,Oe,Ke);return Xr(ce,Oe)})}(ce,Te,he);return new Wt(Oe,Ke)}{if(ce.shouldAttach(Te.value)){const pt=ce.retrieve(Te.value);if(null!==pt){const Me=pt.route;return Me.value._futureSnapshot=Te.value,Me.children=Te.children.map(_e=>Xr(ce,_e)),Me}}const Oe=function ro(ce){return new Ei(new m.t(ce.url),new m.t(ce.params),new m.t(ce.queryParams),new m.t(ce.fragment),new m.t(ce.data),ce.outlet,ce.component,ce)}(Te.value),Ke=Te.children.map(pt=>Xr(ce,pt));return new Wt(Oe,Ke)}}const Uo="ngNavigationCancelingError";function Or(ce,Te){const{redirectTo:he,navigationBehaviorOptions:Oe}=Cn(Te)?{redirectTo:Te,navigationBehaviorOptions:void 0}:Te,Ke=_o(!1,Ct.Redirect);return Ke.url=he,Ke.navigationBehaviorOptions=Oe,Ke}function _o(ce,Te){const he=new Error(`NavigationCancelingError: ${ce||""}`);return he[Uo]=!0,he.cancellationCode=Te,he}function To(ce){return!!ce&&ce[Uo]}let Jr=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275cmp=t.VBU({type:ce,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(Oe,Ke){1&Oe&&t.nrm(0,"router-outlet")},dependencies:[kr],encapsulation:2})}}return ce})();function Qn(ce){const Te=ce.children&&ce.children.map(Qn),he=Te?{...ce,children:Te}:{...ce};return!he.component&&!he.loadComponent&&(Te||he.loadChildren)&&he.outlet&&he.outlet!==pe&&(he.component=Jr),he}function Es(ce){return ce.outlet||pe}function Cs(ce){if(!ce)return null;if(ce.routeConfig?._injector)return ce.routeConfig._injector;for(let Te=ce.parent;Te;Te=Te.parent){const he=Te.routeConfig;if(he?._loadedInjector)return he._loadedInjector;if(he?._injector)return he._injector}return null}class ui{constructor(Te,he,Oe,Ke,pt){this.routeReuseStrategy=Te,this.futureState=he,this.currState=Oe,this.forwardEvent=Ke,this.inputBindingEnabled=pt}activate(Te){const he=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(he,Oe,Te),wr(this.futureState.root),this.activateChildRoutes(he,Oe,Te)}deactivateChildRoutes(Te,he,Oe){const Ke=bn(he);Te.children.forEach(pt=>{const Me=pt.value.outlet;this.deactivateRoutes(pt,Ke[Me],Oe),delete Ke[Me]}),Object.values(Ke).forEach(pt=>{this.deactivateRouteAndItsChildren(pt,Oe)})}deactivateRoutes(Te,he,Oe){const Ke=Te.value,pt=he?he.value:null;if(Ke===pt)if(Ke.component){const Me=Oe.getContext(Ke.outlet);Me&&this.deactivateChildRoutes(Te,he,Me.children)}else this.deactivateChildRoutes(Te,he,Oe);else pt&&this.deactivateRouteAndItsChildren(he,Oe)}deactivateRouteAndItsChildren(Te,he){Te.value.component&&this.routeReuseStrategy.shouldDetach(Te.value.snapshot)?this.detachAndStoreRouteSubtree(Te,he):this.deactivateRouteAndOutlet(Te,he)}detachAndStoreRouteSubtree(Te,he){const Oe=he.getContext(Te.value.outlet),Ke=Oe&&Te.value.component?Oe.children:he,pt=bn(Te);for(const Me of Object.values(pt))this.deactivateRouteAndItsChildren(Me,Ke);if(Oe&&Oe.outlet){const Me=Oe.outlet.detach(),_e=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(Te.value.snapshot,{componentRef:Me,route:Te,contexts:_e})}}deactivateRouteAndOutlet(Te,he){const Oe=he.getContext(Te.value.outlet),Ke=Oe&&Te.value.component?Oe.children:he,pt=bn(Te);for(const Me of Object.values(pt))this.deactivateRouteAndItsChildren(Me,Ke);Oe&&(Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated()),Oe.attachRef=null,Oe.route=null)}activateChildRoutes(Te,he,Oe){const Ke=bn(he);Te.children.forEach(pt=>{this.activateRoutes(pt,Ke[pt.value.outlet],Oe),this.forwardEvent(new Ar(pt.value.snapshot))}),Te.children.length&&this.forwardEvent(new Ai(Te.value.snapshot))}activateRoutes(Te,he,Oe){const Ke=Te.value,pt=he?he.value:null;if(wr(Ke),Ke===pt)if(Ke.component){const Me=Oe.getOrCreateContext(Ke.outlet);this.activateChildRoutes(Te,he,Me.children)}else this.activateChildRoutes(Te,he,Oe);else if(Ke.component){const Me=Oe.getOrCreateContext(Ke.outlet);if(this.routeReuseStrategy.shouldAttach(Ke.snapshot)){const _e=this.routeReuseStrategy.retrieve(Ke.snapshot);this.routeReuseStrategy.store(Ke.snapshot,null),Me.children.onOutletReAttached(_e.contexts),Me.attachRef=_e.componentRef,Me.route=_e.route.value,Me.outlet&&Me.outlet.attach(_e.componentRef,_e.route.value),wr(_e.route.value),this.activateChildRoutes(Te,null,Me.children)}else{const _e=Cs(Ke.snapshot);Me.attachRef=null,Me.route=Ke,Me.injector=_e,Me.outlet&&Me.outlet.activateWith(Ke,Me.injector),this.activateChildRoutes(Te,null,Me.children)}}else this.activateChildRoutes(Te,null,Oe)}}class qs{constructor(Te){this.path=Te,this.route=this.path[this.path.length-1]}}class zi{constructor(Te,he){this.component=Te,this.route=he}}function Vi(ce,Te,he){const Oe=ce._root;return Ks(Oe,Te?Te._root:null,he,[Oe.value])}function qi(ce,Te){const he=Symbol(),Oe=Te.get(ce,he);return Oe===he?"function"!=typeof ce||(0,t.LfX)(ce)?Te.get(ce):ce:Oe}function Ks(ce,Te,he,Oe,Ke={canDeactivateChecks:[],canActivateChecks:[]}){const pt=bn(Te);return ce.children.forEach(Me=>{(function er(ce,Te,he,Oe,Ke={canDeactivateChecks:[],canActivateChecks:[]}){const pt=ce.value,Me=Te?Te.value:null,_e=he?he.getContext(ce.value.outlet):null;if(Me&&pt.routeConfig===Me.routeConfig){const le=function Vr(ce,Te,he){if("function"==typeof he)return he(ce,Te);switch(he){case"pathParamsChange":return!ut(ce.url,Te.url);case"pathParamsOrQueryParamsChange":return!ut(ce.url,Te.url)||!ae(ce.queryParams,Te.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wo(ce,Te)||!ae(ce.queryParams,Te.queryParams);default:return!wo(ce,Te)}}(Me,pt,pt.routeConfig.runGuardsAndResolvers);le?Ke.canActivateChecks.push(new qs(Oe)):(pt.data=Me.data,pt._resolvedData=Me._resolvedData),Ks(ce,Te,pt.component?_e?_e.children:null:he,Oe,Ke),le&&_e&&_e.outlet&&_e.outlet.isActivated&&Ke.canDeactivateChecks.push(new zi(_e.outlet.component,Me))}else Me&&cr(Te,_e,Ke),Ke.canActivateChecks.push(new qs(Oe)),Ks(ce,null,pt.component?_e?_e.children:null:he,Oe,Ke)})(Me,pt[Me.value.outlet],he,Oe.concat([Me.value]),Ke),delete pt[Me.value.outlet]}),Object.entries(pt).forEach(([Me,_e])=>cr(_e,he.getContext(Me),Ke)),Ke}function cr(ce,Te,he){const Oe=bn(ce),Ke=ce.value;Object.entries(Oe).forEach(([pt,Me])=>{cr(Me,Ke.component?Te?Te.children.getContext(pt):null:Te,he)}),he.canDeactivateChecks.push(new zi(Ke.component&&Te&&Te.outlet&&Te.outlet.isActivated?Te.outlet.component:null,Ke))}function _r(ce){return"function"==typeof ce}function se(ce){return ce instanceof _.G||"EmptyError"===ce?.name}const Ve=Symbol("INITIAL_VALUE");function me(){return(0,P.n)(ce=>(0,p.z)(ce.map(Te=>Te.pipe((0,M.s)(1),(0,L.Z)(Ve)))).pipe((0,b.T)(Te=>{for(const he of Te)if(!0!==he){if(he===Ve)return Ve;if(!1===he||he instanceof nt)return he}return!0}),(0,B.p)(Te=>Te!==Ve),(0,M.s)(1)))}function Ci(ce){return(0,C.F)((0,G.M)(Te=>{if(Cn(Te))throw Or(0,Te)}),(0,b.T)(Te=>!0===Te))}class xo{constructor(Te){this.segmentGroup=Te||null}}class Oo extends Error{constructor(Te){super(),this.urlTree=Te}}function Mo(ce){return(0,O.$)(new xo(ce))}class Ba{constructor(Te,he){this.urlSerializer=Te,this.urlTree=he}lineralizeSegments(Te,he){let Oe=[],Ke=he.root;for(;;){if(Oe=Oe.concat(Ke.segments),0===Ke.numberOfChildren)return(0,f.of)(Oe);if(Ke.numberOfChildren>1||!Ke.children[pe])return(0,O.$)(new t.wOt(4e3,!1));Ke=Ke.children[pe]}}applyRedirectCommands(Te,he,Oe){const Ke=this.applyRedirectCreateUrlTree(he,this.urlSerializer.parse(he),Te,Oe);if(he.startsWith("/"))throw new Oo(Ke);return Ke}applyRedirectCreateUrlTree(Te,he,Oe,Ke){const pt=this.createSegmentGroup(Te,he.root,Oe,Ke);return new nt(pt,this.createQueryParams(he.queryParams,this.urlTree.queryParams),he.fragment)}createQueryParams(Te,he){const Oe={};return Object.entries(Te).forEach(([Ke,pt])=>{if("string"==typeof pt&&pt.startsWith(":")){const _e=pt.substring(1);Oe[Ke]=he[_e]}else Oe[Ke]=pt}),Oe}createSegmentGroup(Te,he,Oe,Ke){const pt=this.createSegments(Te,he.segments,Oe,Ke);let Me={};return Object.entries(he.children).forEach(([_e,le])=>{Me[_e]=this.createSegmentGroup(Te,le,Oe,Ke)}),new lt(pt,Me)}createSegments(Te,he,Oe,Ke){return he.map(pt=>pt.path.startsWith(":")?this.findPosParam(Te,pt,Ke):this.findOrReturn(pt,Oe))}findPosParam(Te,he,Oe){const Ke=Oe[he.path.substring(1)];if(!Ke)throw new t.wOt(4001,!1);return Ke}findOrReturn(Te,he){let Oe=0;for(const Ke of he){if(Ke.path===Te.path)return he.splice(Oe),Ke;Oe++}return Te}}const Zo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ko(ce,Te,he,Oe,Ke){const pt=da(ce,Te,he);return pt.matched?(Oe=function Do(ce,Te){return ce.providers&&!ce._injector&&(ce._injector=(0,t.Ol2)(ce.providers,Te,`Route: ${ce.path}`)),ce._injector??Te}(Te,Oe),function Qo(ce,Te,he,Oe){const Ke=Te.canMatch;if(!Ke||0===Ke.length)return(0,f.of)(!0);const pt=Ke.map(Me=>{const _e=qi(Me,ce);return _t(function ze(ce){return ce&&_r(ce.canMatch)}(_e)?_e.canMatch(Te,he):(0,t.N4e)(ce,()=>_e(Te,he)))});return(0,f.of)(pt).pipe(me(),Ci())}(Oe,Te,he).pipe((0,b.T)(Me=>!0===Me?pt:{...Zo}))):(0,f.of)(pt)}function da(ce,Te,he){if("**"===Te.path)return function Ua(ce){return{matched:!0,parameters:ce.length>0?tt(ce).parameters:{},consumedSegments:ce,remainingSegments:[],positionalParamSegments:{}}}(he);if(""===Te.path)return"full"===Te.pathMatch&&(ce.hasChildren()||he.length>0)?{...Zo}:{matched:!0,consumedSegments:[],remainingSegments:he,parameters:{},positionalParamSegments:{}};const Ke=(Te.matcher||Ee)(he,ce,Te);if(!Ke)return{...Zo};const pt={};Object.entries(Ke.posParams??{}).forEach(([_e,le])=>{pt[_e]=le.path});const Me=Ke.consumed.length>0?{...pt,...Ke.consumed[Ke.consumed.length-1].parameters}:pt;return{matched:!0,consumedSegments:Ke.consumed,remainingSegments:he.slice(Ke.consumed.length),parameters:Me,positionalParamSegments:Ke.posParams??{}}}function Ta(ce,Te,he,Oe){return he.length>0&&function mr(ce,Te,he){return he.some(Oe=>fs(ce,Te,Oe)&&Es(Oe)!==pe)}(ce,he,Oe)?{segmentGroup:new lt(Te,tr(Oe,new lt(he,ce.children))),slicedSegments:[]}:0===he.length&&function vo(ce,Te,he){return he.some(Oe=>fs(ce,Te,Oe))}(ce,he,Oe)?{segmentGroup:new lt(ce.segments,si(ce,he,Oe,ce.children)),slicedSegments:he}:{segmentGroup:new lt(ce.segments,ce.children),slicedSegments:he}}function si(ce,Te,he,Oe){const Ke={};for(const pt of he)if(fs(ce,Te,pt)&&!Oe[Es(pt)]){const Me=new lt([],{});Ke[Es(pt)]=Me}return{...Oe,...Ke}}function tr(ce,Te){const he={};he[pe]=Te;for(const Oe of ce)if(""===Oe.path&&Es(Oe)!==pe){const Ke=new lt([],{});he[Es(Oe)]=Ke}return he}function fs(ce,Te,he){return(!(ce.hasChildren()||Te.length>0)||"full"!==he.pathMatch)&&""===he.path}class pa{}class Vo{constructor(Te,he,Oe,Ke,pt,Me,_e){this.injector=Te,this.configLoader=he,this.rootComponentType=Oe,this.config=Ke,this.urlTree=pt,this.paramsInheritanceStrategy=Me,this.urlSerializer=_e,this.applyRedirects=new Ba(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(Te){return new t.wOt(4002,`'${Te.segmentGroup}'`)}recognize(){const Te=Ta(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(Te).pipe((0,b.T)(he=>{const Oe=new fi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,{}),Ke=new Wt(Oe,he),pt=new Fi("",Ke),Me=function ns(ce,Te,he=null,Oe=null){return Gs(hs(ce),Te,he,Oe)}(Oe,[],this.urlTree.queryParams,this.urlTree.fragment);return Me.queryParams=this.urlTree.queryParams,pt.url=this.urlSerializer.serialize(Me),this.inheritParamsAndData(pt._root,null),{state:pt,tree:Me}}))}match(Te){return this.processSegmentGroup(this.injector,this.config,Te,pe).pipe((0,z.W)(Oe=>{if(Oe instanceof Oo)return this.urlTree=Oe.urlTree,this.match(Oe.urlTree.root);throw Oe instanceof xo?this.noMatchError(Oe):Oe}))}inheritParamsAndData(Te,he){const Oe=Te.value,Ke=ar(Oe,he,this.paramsInheritanceStrategy);Oe.params=Object.freeze(Ke.params),Oe.data=Object.freeze(Ke.data),Te.children.forEach(pt=>this.inheritParamsAndData(pt,Oe))}processSegmentGroup(Te,he,Oe,Ke){return 0===Oe.segments.length&&Oe.hasChildren()?this.processChildren(Te,he,Oe):this.processSegment(Te,he,Oe,Oe.segments,Ke,!0).pipe((0,b.T)(pt=>pt instanceof Wt?[pt]:[]))}processChildren(Te,he,Oe){const Ke=[];for(const pt of Object.keys(Oe.children))"primary"===pt?Ke.unshift(pt):Ke.push(pt);return(0,e.H)(Ke).pipe((0,j.H)(pt=>{const Me=Oe.children[pt],_e=function $s(ce,Te){const he=ce.filter(Oe=>Es(Oe)===Te);return he.push(...ce.filter(Oe=>Es(Oe)!==Te)),he}(he,pt);return this.processSegmentGroup(Te,_e,Me,pt)}),(0,V.S)((pt,Me)=>(pt.push(...Me),pt)),(0,X.U)(null),(0,J.H)(),(0,U.Z)(pt=>{if(null===pt)return Mo(Oe);const Me=fa(pt);return function bs(ce){ce.sort((Te,he)=>Te.value.outlet===pe?-1:he.value.outlet===pe?1:Te.value.outlet.localeCompare(he.value.outlet))}(Me),(0,f.of)(Me)}))}processSegment(Te,he,Oe,Ke,pt,Me){return(0,e.H)(he).pipe((0,j.H)(_e=>this.processSegmentAgainstRoute(_e._injector??Te,he,_e,Oe,Ke,pt,Me).pipe((0,z.W)(le=>{if(le instanceof xo)return(0,f.of)(null);throw le}))),(0,$.$)(_e=>!!_e),(0,z.W)(_e=>{if(se(_e))return function ha(ce,Te,he){return 0===Te.length&&!ce.children[he]}(Oe,Ke,pt)?(0,f.of)(new pa):Mo(Oe);throw _e}))}processSegmentAgainstRoute(Te,he,Oe,Ke,pt,Me,_e){return function ua(ce,Te,he,Oe){return!!(Es(ce)===Oe||Oe!==pe&&fs(Te,he,ce))&&da(Te,ce,he).matched}(Oe,Ke,pt,Me)?void 0===Oe.redirectTo?this.matchSegmentAgainstRoute(Te,Ke,Oe,pt,Me):this.allowRedirects&&_e?this.expandSegmentAgainstRouteUsingRedirect(Te,Ke,he,Oe,pt,Me):Mo(Ke):Mo(Ke)}expandSegmentAgainstRouteUsingRedirect(Te,he,Oe,Ke,pt,Me){const{matched:_e,consumedSegments:le,positionalParamSegments:Ie,remainingSegments:et}=da(he,Ke,pt);if(!_e)return Mo(he);Ke.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const wt=this.applyRedirects.applyRedirectCommands(le,Ke.redirectTo,Ie);return this.applyRedirects.lineralizeSegments(Ke,wt).pipe((0,U.Z)(un=>this.processSegment(Te,Oe,he,un.concat(et),Me,!1)))}matchSegmentAgainstRoute(Te,he,Oe,Ke,pt){const Me=ko(he,Oe,Ke,Te);return"**"===Oe.path&&(he.children={}),Me.pipe((0,P.n)(_e=>_e.matched?this.getChildConfig(Te=Oe._injector??Te,Oe,Ke).pipe((0,P.n)(({routes:le})=>{const Ie=Oe._loadedInjector??Te,{consumedSegments:et,remainingSegments:wt,parameters:un}=_e,On=new fi(et,un,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Tl(ce){return ce.data||{}}(Oe),Es(Oe),Oe.component??Oe._loadedComponent??null,Oe,function Lr(ce){return ce.resolve||{}}(Oe)),{segmentGroup:Xn,slicedSegments:ds}=Ta(he,et,wt,le);if(0===ds.length&&Xn.hasChildren())return this.processChildren(Ie,le,Xn).pipe((0,b.T)(Wi=>null===Wi?null:new Wt(On,Wi)));if(0===le.length&&0===ds.length)return(0,f.of)(new Wt(On,[]));const _i=Es(Oe)===pt;return this.processSegment(Ie,le,Xn,ds,_i?pe:pt,!0).pipe((0,b.T)(Wi=>new Wt(On,Wi instanceof Wt?[Wi]:[])))})):Mo(he)))}getChildConfig(Te,he,Oe){return he.children?(0,f.of)({routes:he.children,injector:Te}):he.loadChildren?void 0!==he._loadedRoutes?(0,f.of)({routes:he._loadedRoutes,injector:he._loadedInjector}):function xr(ce,Te,he,Oe){const Ke=Te.canLoad;if(void 0===Ke||0===Ke.length)return(0,f.of)(!0);const pt=Ke.map(Me=>{const _e=qi(Me,ce);return _t(function fr(ce){return ce&&_r(ce.canLoad)}(_e)?_e.canLoad(Te,he):(0,t.N4e)(ce,()=>_e(Te,he)))});return(0,f.of)(pt).pipe(me(),Ci())}(Te,he,Oe).pipe((0,U.Z)(Ke=>Ke?this.configLoader.loadChildren(Te,he).pipe((0,G.M)(pt=>{he._loadedRoutes=pt.routes,he._loadedInjector=pt.injector})):function jo(ce){return(0,O.$)(_o(!1,Ct.GuardRejected))}())):(0,f.of)({routes:[],injector:Te})}}function Go(ce){const Te=ce.value.routeConfig;return Te&&""===Te.path}function fa(ce){const Te=[],he=new Set;for(const Oe of ce){if(!Go(Oe)){Te.push(Oe);continue}const Ke=Te.find(pt=>Oe.value.routeConfig===pt.value.routeConfig);void 0!==Ke?(Ke.children.push(...Oe.children),he.add(Ke)):Te.push(Oe)}for(const Oe of he){const Ke=fa(Oe.children);Te.push(new Wt(Oe.value,Ke))}return Te.filter(Oe=>!he.has(Oe))}function Io(ce){const Te=ce.children.map(he=>Io(he)).flat();return[ce,...Te]}function Qr(ce){return(0,P.n)(Te=>{const he=ce(Te);return he?(0,e.H)(he).pipe((0,b.T)(()=>Te)):(0,f.of)(Te)})}let ta=(()=>{class ce{buildTitle(he){let Oe,Ke=he.root;for(;void 0!==Ke;)Oe=this.getResolvedTitleForRoute(Ke)??Oe,Ke=Ke.children.find(pt=>pt.outlet===pe);return Oe}getResolvedTitleForRoute(he){return he.data[ne]}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(na),providedIn:"root"})}}return ce})(),na=(()=>{class ce extends ta{constructor(he){super(),this.title=he}updateTitle(he){const Oe=this.buildTitle(he);void 0!==Oe&&this.title.setTitle(Oe)}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(oe.hE))}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const Vt=new t.nKC("",{providedIn:"root",factory:()=>({})}),an=new t.nKC("");let Rt=(()=>{class ce{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(he){if(this.componentLoaders.get(he))return this.componentLoaders.get(he);if(he._loadedComponent)return(0,f.of)(he._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(he);const Oe=_t(he.loadComponent()).pipe((0,b.T)(es),(0,G.M)(pt=>{this.onLoadEndListener&&this.onLoadEndListener(he),he._loadedComponent=pt}),(0,H.j)(()=>{this.componentLoaders.delete(he)})),Ke=new D.G(Oe,()=>new R.B).pipe((0,Y.B)());return this.componentLoaders.set(he,Ke),Ke}loadChildren(he,Oe){if(this.childrenLoaders.get(Oe))return this.childrenLoaders.get(Oe);if(Oe._loadedRoutes)return(0,f.of)({routes:Oe._loadedRoutes,injector:Oe._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Oe);const pt=function In(ce,Te,he,Oe){return _t(ce.loadChildren()).pipe((0,b.T)(es),(0,U.Z)(Ke=>Ke instanceof t.Co$||Array.isArray(Ke)?(0,f.of)(Ke):(0,e.H)(Te.compileModuleAsync(Ke))),(0,b.T)(Ke=>{Oe&&Oe(ce);let pt,Me,_e=!1;return Array.isArray(Ke)?(Me=Ke,!0):(pt=Ke.create(he).injector,Me=pt.get(an,[],{optional:!0,self:!0}).flat()),{routes:Me.map(Qn),injector:pt}}))}(Oe,this.compiler,he,this.onLoadEndListener).pipe((0,H.j)(()=>{this.childrenLoaders.delete(Oe)})),Me=new D.G(pt,()=>new R.B).pipe((0,Y.B)());return this.childrenLoaders.set(Oe,Me),Me}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();function es(ce){return function Fn(ce){return ce&&"object"==typeof ce&&"default"in ce}(ce)?ce.default:ce}let Bs=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(zn),providedIn:"root"})}}return ce})(),zn=(()=>{class ce{shouldProcessUrl(he){return!0}extract(he){return he}merge(he,Oe){return he}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const yi=new t.nKC(""),xi=new t.nKC("");function nr(ce,Te,he){const Oe=ce.get(xi),Ke=ce.get(w.qQ);return ce.get(t.SKi).runOutsideAngular(()=>{if(!Ke.startViewTransition||Oe.skipNextTransition)return Oe.skipNextTransition=!1,new Promise(Ie=>setTimeout(Ie));let pt;const Me=new Promise(Ie=>{pt=Ie}),_e=Ke.startViewTransition(()=>(pt(),function Bi(ce){return new Promise(Te=>{(0,t.mal)(Te,{injector:ce})})}(ce))),{onViewTransitionCreated:le}=Oe;return le&&(0,t.N4e)(ce,()=>le({transition:_e,from:Te,to:he})),Me})}let xn=(()=>{class ce{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new R.B,this.transitionAbortSubject=new R.B,this.configLoader=(0,t.WQX)(Rt),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(nn),this.rootContexts=(0,t.WQX)(Ti),this.location=(0,t.WQX)(w.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(wi,{optional:!0}),this.titleStrategy=(0,t.WQX)(ta),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(Bs),this.createViewTransition=(0,t.WQX)(yi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,f.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ke=>this.events.next(new Mi(Ke)),this.configLoader.onLoadStartListener=Ke=>this.events.next(new Ds(Ke))}complete(){this.transitions?.complete()}handleNavigationRequest(he){const Oe=++this.navigationId;this.transitions?.next({...this.transitions.value,...he,id:Oe})}setupNavigations(he,Oe,Ke){return this.transitions=new m.t({id:0,currentUrlTree:Oe,currentRawUrl:Oe,extractedUrl:this.urlHandlingStrategy.extract(Oe),urlAfterRedirects:this.urlHandlingStrategy.extract(Oe),rawUrl:Oe,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gt,restoredState:null,currentSnapshot:Ke.snapshot,targetSnapshot:null,currentRouterState:Ke,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,B.p)(pt=>0!==pt.id),(0,b.T)(pt=>({...pt,extractedUrl:this.urlHandlingStrategy.extract(pt.rawUrl)})),(0,P.n)(pt=>{let Me=!1,_e=!1;return(0,f.of)(pt).pipe((0,P.n)(le=>{if(this.navigationId>pt.id)return this.cancelNavigationTransition(pt,"",Ct.SupersededByNewNavigation),I.w;this.currentTransition=pt,this.currentNavigation={id:le.id,initialUrl:le.rawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ie=!he.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ie&&"reload"!==(le.extras.onSameUrlNavigation??he.onSameUrlNavigation)){const wt="";return this.events.next(new Tn(le.id,this.urlSerializer.serialize(le.rawUrl),wt,kt.IgnoredSameUrlNavigation)),le.resolve(null),I.w}if(this.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return(0,f.of)(le).pipe((0,P.n)(wt=>{const un=this.transitions?.getValue();return this.events.next(new rt(wt.id,this.urlSerializer.serialize(wt.extractedUrl),wt.source,wt.restoredState)),un!==this.transitions?.getValue()?I.w:Promise.resolve(wt)}),function qo(ce,Te,he,Oe,Ke,pt){return(0,U.Z)(Me=>function bl(ce,Te,he,Oe,Ke,pt,Me="emptyOnly"){return new Vo(ce,Te,he,Oe,Ke,Me,pt).recognize()}(ce,Te,he,Oe,Me.extractedUrl,Ke,pt).pipe((0,b.T)(({state:_e,tree:le})=>({...Me,targetSnapshot:_e,urlAfterRedirects:le}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,he.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,G.M)(wt=>{pt.targetSnapshot=wt.targetSnapshot,pt.urlAfterRedirects=wt.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:wt.urlAfterRedirects};const un=new Ln(wt.id,this.urlSerializer.serialize(wt.extractedUrl),this.urlSerializer.serialize(wt.urlAfterRedirects),wt.targetSnapshot);this.events.next(un)}));if(Ie&&this.urlHandlingStrategy.shouldProcessUrl(le.currentRawUrl)){const{id:wt,extractedUrl:un,source:On,restoredState:Xn,extras:ds}=le,_i=new rt(wt,this.urlSerializer.serialize(un),On,Xn);this.events.next(_i);const Wi=vs(this.rootComponentType).snapshot;return this.currentTransition=pt={...le,targetSnapshot:Wi,urlAfterRedirects:un,extras:{...ds,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=un,(0,f.of)(pt)}{const wt="";return this.events.next(new Tn(le.id,this.urlSerializer.serialize(le.extractedUrl),wt,kt.IgnoredByUrlHandlingStrategy)),le.resolve(null),I.w}}),(0,G.M)(le=>{const Ie=new ms(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot);this.events.next(Ie)}),(0,b.T)(le=>(this.currentTransition=pt={...le,guards:Vi(le.targetSnapshot,le.currentSnapshot,this.rootContexts)},pt)),function bt(ce,Te){return(0,U.Z)(he=>{const{targetSnapshot:Oe,currentSnapshot:Ke,guards:{canActivateChecks:pt,canDeactivateChecks:Me}}=he;return 0===Me.length&&0===pt.length?(0,f.of)({...he,guardsResult:!0}):function Yt(ce,Te,he,Oe){return(0,e.H)(ce).pipe((0,U.Z)(Ke=>function Gi(ce,Te,he,Oe,Ke){const pt=Te&&Te.routeConfig?Te.routeConfig.canDeactivate:null;if(!pt||0===pt.length)return(0,f.of)(!0);const Me=pt.map(_e=>{const le=Cs(Te)??Ke,Ie=qi(_e,le);return _t(function ke(ce){return ce&&_r(ce.canDeactivate)}(Ie)?Ie.canDeactivate(ce,Te,he,Oe):(0,t.N4e)(le,()=>Ie(ce,Te,he,Oe))).pipe((0,$.$)())});return(0,f.of)(Me).pipe(me())}(Ke.component,Ke.route,he,Te,Oe)),(0,$.$)(Ke=>!0!==Ke,!0))}(Me,Oe,Ke,ce).pipe((0,U.Z)(_e=>_e&&function Jo(ce){return"boolean"==typeof ce}(_e)?function En(ce,Te,he,Oe){return(0,e.H)(Te).pipe((0,j.H)(Ke=>(0,v.x)(function cs(ce,Te){return null!==ce&&Te&&Te(new ki(ce)),(0,f.of)(!0)}(Ke.route.parent,Oe),function Yn(ce,Te){return null!==ce&&Te&&Te(new Ni(ce)),(0,f.of)(!0)}(Ke.route,Oe),function Yi(ce,Te,he){const Oe=Te[Te.length-1],pt=Te.slice(0,Te.length-1).reverse().map(Me=>function Er(ce){const Te=ce.routeConfig?ce.routeConfig.canActivateChild:null;return Te&&0!==Te.length?{node:ce,guards:Te}:null}(Me)).filter(Me=>null!==Me).map(Me=>(0,y.v)(()=>{const _e=Me.guards.map(le=>{const Ie=Cs(Me.node)??he,et=qi(le,Ie);return _t(function ca(ce){return ce&&_r(ce.canActivateChild)}(et)?et.canActivateChild(Oe,ce):(0,t.N4e)(Ie,()=>et(Oe,ce))).pipe((0,$.$)())});return(0,f.of)(_e).pipe(me())}));return(0,f.of)(pt).pipe(me())}(ce,Ke.path,he),function xs(ce,Te,he){const Oe=Te.routeConfig?Te.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,f.of)(!0);const Ke=Oe.map(pt=>(0,y.v)(()=>{const Me=Cs(Te)??he,_e=qi(pt,Me);return _t(function Gr(ce){return ce&&_r(ce.canActivate)}(_e)?_e.canActivate(Te,ce):(0,t.N4e)(Me,()=>_e(Te,ce))).pipe((0,$.$)())}));return(0,f.of)(Ke).pipe(me())}(ce,Ke.route,he))),(0,$.$)(Ke=>!0!==Ke,!0))}(Oe,pt,ce,Te):(0,f.of)(_e)),(0,b.T)(_e=>({...he,guardsResult:_e})))})}(this.environmentInjector,le=>this.events.next(le)),(0,G.M)(le=>{if(pt.guardsResult=le.guardsResult,Cn(le.guardsResult))throw Or(0,le.guardsResult);const Ie=new Os(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.events.next(Ie)}),(0,B.p)(le=>!!le.guardsResult||(this.cancelNavigationTransition(le,"",Ct.GuardRejected),!1)),Qr(le=>{if(le.guards.canActivateChecks.length)return(0,f.of)(le).pipe((0,G.M)(Ie=>{const et=new ys(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(et)}),(0,P.n)(Ie=>{let et=!1;return(0,f.of)(Ie).pipe(function rl(ce,Te){return(0,U.Z)(he=>{const{targetSnapshot:Oe,guards:{canActivateChecks:Ke}}=he;if(!Ke.length)return(0,f.of)(he);const pt=new Set(Ke.map(le=>le.route)),Me=new Set;for(const le of pt)if(!Me.has(le))for(const Ie of Io(le))Me.add(Ie);let _e=0;return(0,e.H)(Me).pipe((0,j.H)(le=>pt.has(le)?function ea(ce,Te,he,Oe){const Ke=ce.routeConfig,pt=ce._resolve;return void 0!==Ke?.title&&!mo(Ke)&&(pt[ne]=Ke.title),function $o(ce,Te,he,Oe){const Ke=ye(ce);if(0===Ke.length)return(0,f.of)({});const pt={};return(0,e.H)(Ke).pipe((0,U.Z)(Me=>function ol(ce,Te,he,Oe){const Ke=Cs(Te)??Oe,pt=qi(ce,Ke);return _t(pt.resolve?pt.resolve(Te,he):(0,t.N4e)(Ke,()=>pt(Te,he)))}(ce[Me],Te,he,Oe).pipe((0,$.$)(),(0,G.M)(_e=>{pt[Me]=_e}))),(0,q.o)(1),(0,Z.u)(pt),(0,z.W)(Me=>se(Me)?I.w:(0,O.$)(Me)))}(pt,ce,Te,Oe).pipe((0,b.T)(Me=>(ce._resolvedData=Me,ce.data=ar(ce,ce.parent,he).resolve,null)))}(le,Oe,ce,Te):(le.data=ar(le,le.parent,ce).resolve,(0,f.of)(void 0))),(0,G.M)(()=>_e++),(0,q.o)(1),(0,U.Z)(le=>_e===Me.size?(0,f.of)(he):I.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,G.M)({next:()=>et=!0,complete:()=>{et||this.cancelNavigationTransition(Ie,"",Ct.NoDataFromResolver)}}))}),(0,G.M)(Ie=>{const et=new ls(Ie.id,this.urlSerializer.serialize(Ie.extractedUrl),this.urlSerializer.serialize(Ie.urlAfterRedirects),Ie.targetSnapshot);this.events.next(et)}))}),Qr(le=>{const Ie=et=>{const wt=[];et.routeConfig?.loadComponent&&!et.routeConfig._loadedComponent&&wt.push(this.configLoader.loadComponent(et.routeConfig).pipe((0,G.M)(un=>{et.component=un}),(0,b.T)(()=>{})));for(const un of et.children)wt.push(...Ie(un));return wt};return(0,p.z)(Ie(le.targetSnapshot.root)).pipe((0,X.U)(null),(0,M.s)(1))}),Qr(()=>this.afterPreactivation()),(0,P.n)(()=>{const{currentSnapshot:le,targetSnapshot:Ie}=pt,et=this.createViewTransition?.(this.environmentInjector,le.root,Ie.root);return et?(0,e.H)(et).pipe((0,b.T)(()=>pt)):(0,f.of)(pt)}),(0,b.T)(le=>{const Ie=function lr(ce,Te,he){const Oe=Xr(ce,Te._root,he?he._root:void 0);return new $n(Oe,Te)}(he.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return this.currentTransition=pt={...le,targetRouterState:Ie},this.currentNavigation.targetRouterState=Ie,pt}),(0,G.M)(()=>{this.events.next(new Ms)}),((ce,Te,he,Oe)=>(0,b.T)(Ke=>(new ui(Te,Ke.targetRouterState,Ke.currentRouterState,he,Oe).activate(ce),Ke)))(this.rootContexts,he.routeReuseStrategy,le=>this.events.next(le),this.inputBindingEnabled),(0,M.s)(1),(0,G.M)({next:le=>{Me=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ht(le.id,this.urlSerializer.serialize(le.extractedUrl),this.urlSerializer.serialize(le.urlAfterRedirects))),this.titleStrategy?.updateTitle(le.targetRouterState.snapshot),le.resolve(!0)},complete:()=>{Me=!0}}),(0,Q.Q)(this.transitionAbortSubject.pipe((0,G.M)(le=>{throw le}))),(0,H.j)(()=>{!Me&&!_e&&this.cancelNavigationTransition(pt,"",Ct.SupersededByNewNavigation),this.currentTransition?.id===pt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,z.W)(le=>{if(_e=!0,To(le))this.events.next(new sn(pt.id,this.urlSerializer.serialize(pt.extractedUrl),le.message,le.cancellationCode)),function Yo(ce){return To(ce)&&Cn(ce.url)}(le)?this.events.next(new Ys(le.url)):pt.resolve(!1);else{this.events.next(new Vn(pt.id,this.urlSerializer.serialize(pt.extractedUrl),le,pt.targetSnapshot??void 0));try{pt.resolve(he.errorHandler(le))}catch(Ie){this.options.resolveNavigationPromiseOnError?pt.resolve(!1):pt.reject(Ie)}}return I.w}))}))}cancelNavigationTransition(he,Oe,Ke){const pt=new sn(he.id,this.urlSerializer.serialize(he.extractedUrl),Oe,Ke);this.events.next(pt),he.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();function sr(ce){return ce!==Gt}let Mr=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(Xe),providedIn:"root"})}}return ce})();class fe{shouldDetach(Te){return!1}store(Te,he){}shouldAttach(Te){return!1}retrieve(Te){return null}shouldReuseRoute(Te,he){return Te.routeConfig===he.routeConfig}}let Xe=(()=>{class ce extends fe{static{this.\u0275fac=(()=>{let he;return function(Ke){return(he||(he=t.xGo(ce)))(Ke||ce)}})()}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),Re=(()=>{class ce{static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:()=>(0,t.WQX)(Ye),providedIn:"root"})}}return ce})(),Ye=(()=>{class ce extends Re{constructor(){super(...arguments),this.location=(0,t.WQX)(w.aZ),this.urlSerializer=(0,t.WQX)(nn),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(Bs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(he){return this.location.subscribe(Oe=>{"popstate"===Oe.type&&he(Oe.url,Oe.state)})}handleRouterEvent(he,Oe){if(he instanceof rt)this.stateMemento=this.createStateMemento();else if(he instanceof Tn)this.rawUrlTree=Oe.initialUrl;else if(he instanceof Ln){if("eager"===this.urlUpdateStrategy&&!Oe.extras.skipLocationChange){const Ke=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl);this.setBrowserUrl(Ke,Oe)}}else he instanceof Ms?(this.currentUrlTree=Oe.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Oe.finalUrl,Oe.initialUrl),this.routerState=Oe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Oe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Oe))):he instanceof sn&&(he.code===Ct.GuardRejected||he.code===Ct.NoDataFromResolver)?this.restoreHistory(Oe):he instanceof Vn?this.restoreHistory(Oe,!0):he instanceof ht&&(this.lastSuccessfulId=he.id,this.currentPageId=this.browserPageId)}setBrowserUrl(he,Oe){const Ke=this.urlSerializer.serialize(he);if(this.location.isCurrentPathEqualTo(Ke)||Oe.extras.replaceUrl){const Me={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId)};this.location.replaceState(Ke,"",Me)}else{const pt={...Oe.extras.state,...this.generateNgRouterState(Oe.id,this.browserPageId+1)};this.location.go(Ke,"",pt)}}restoreHistory(he,Oe=!1){if("computed"===this.canceledNavigationResolution){const pt=this.currentPageId-this.browserPageId;0!==pt?this.location.historyGo(pt):this.currentUrlTree===he.finalUrl&&0===pt&&(this.resetState(he),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(he),this.resetUrlToCurrentUrlTree())}resetState(he){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,he.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(he,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:he,\u0275routerPageId:Oe}:{navigationId:he}}static{this.\u0275fac=(()=>{let he;return function(Ke){return(he||(he=t.xGo(ce)))(Ke||ce)}})()}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();var xt=function(ce){return ce[ce.COMPLETE=0]="COMPLETE",ce[ce.FAILED=1]="FAILED",ce[ce.REDIRECTING=2]="REDIRECTING",ce}(xt||{});function vn(ce,Te){ce.events.pipe((0,B.p)(he=>he instanceof ht||he instanceof sn||he instanceof Vn||he instanceof Tn),(0,b.T)(he=>he instanceof ht||he instanceof Tn?xt.COMPLETE:he instanceof sn&&(he.code===Ct.Redirect||he.code===Ct.SupersededByNewNavigation)?xt.REDIRECTING:xt.FAILED),(0,B.p)(he=>he!==xt.REDIRECTING),(0,M.s)(1)).subscribe(()=>{Te()})}function wn(ce){throw ce}const ts={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Us={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let As=(()=>{class ce{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(Re),this.options=(0,t.WQX)(Vt,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(xn),this.urlSerializer=(0,t.WQX)(nn),this.location=(0,t.WQX)(w.aZ),this.urlHandlingStrategy=(0,t.WQX)(Bs),this._events=new R.B,this.errorHandler=this.options.errorHandler||wn,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(Mr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(an,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(wi,{optional:!0}),this.eventsSubscription=new h.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:he=>{this.console.warn(he)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const he=this.navigationTransitions.events.subscribe(Oe=>{try{const Ke=this.navigationTransitions.currentTransition,pt=this.navigationTransitions.currentNavigation;if(null!==Ke&&null!==pt)if(this.stateManager.handleRouterEvent(Oe,pt),Oe instanceof sn&&Oe.code!==Ct.Redirect&&Oe.code!==Ct.SupersededByNewNavigation)this.navigated=!0;else if(Oe instanceof ht)this.navigated=!0;else if(Oe instanceof Ys){const Me=this.urlHandlingStrategy.merge(Oe.url,Ke.currentRawUrl),_e={info:Ke.extras.info,skipLocationChange:Ke.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sr(Ke.source)};this.scheduleNavigation(Me,Gt,null,_e,{resolve:Ke.resolve,reject:Ke.reject,promise:Ke.promise})}(function ei(ce){return!(ce instanceof Ms||ce instanceof Ys)})(Oe)&&this._events.next(Oe)}catch(Ke){this.navigationTransitions.transitionAbortSubject.next(Ke)}});this.eventsSubscription.add(he)}resetRootComponentType(he){this.routerState.root.component=he,this.navigationTransitions.rootComponentType=he}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((he,Oe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(he,"popstate",Oe)},0)})}navigateToSyncWithBrowser(he,Oe,Ke){const pt={replaceUrl:!0},Me=Ke?.navigationId?Ke:null;if(Ke){const le={...Ke};delete le.navigationId,delete le.\u0275routerPageId,0!==Object.keys(le).length&&(pt.state=le)}const _e=this.parseUrl(he);this.scheduleNavigation(_e,Oe,Me,pt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(he){this.config=he.map(Qn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(he,Oe={}){const{relativeTo:Ke,queryParams:pt,fragment:Me,queryParamsHandling:_e,preserveFragment:le}=Oe,Ie=le?this.currentUrlTree.fragment:Me;let wt,et=null;switch(_e){case"merge":et={...this.currentUrlTree.queryParams,...pt};break;case"preserve":et=this.currentUrlTree.queryParams;break;default:et=pt||null}null!==et&&(et=this.removeEmptyProps(et));try{wt=hs(Ke?Ke.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof he[0]||!he[0].startsWith("/"))&&(he=[]),wt=this.currentUrlTree.root}return Gs(wt,he,et,Ie??null)}navigateByUrl(he,Oe={skipLocationChange:!1}){const Ke=Cn(he)?he:this.parseUrl(he),pt=this.urlHandlingStrategy.merge(Ke,this.rawUrlTree);return this.scheduleNavigation(pt,Gt,null,Oe)}navigate(he,Oe={skipLocationChange:!1}){return function Gn(ce){for(let Te=0;Te<ce.length;Te++)if(null==ce[Te])throw new t.wOt(4008,!1)}(he),this.navigateByUrl(this.createUrlTree(he,Oe),Oe)}serializeUrl(he){return this.urlSerializer.serialize(he)}parseUrl(he){try{return this.urlSerializer.parse(he)}catch{return this.urlSerializer.parse("/")}}isActive(he,Oe){let Ke;if(Ke=!0===Oe?{...ts}:!1===Oe?{...Us}:Oe,Cn(he))return it(this.currentUrlTree,he,Ke);const pt=this.parseUrl(he);return it(this.currentUrlTree,pt,Ke)}removeEmptyProps(he){return Object.entries(he).reduce((Oe,[Ke,pt])=>(null!=pt&&(Oe[Ke]=pt),Oe),{})}scheduleNavigation(he,Oe,Ke,pt,Me){if(this.disposed)return Promise.resolve(!1);let _e,le,Ie;Me?(_e=Me.resolve,le=Me.reject,Ie=Me.promise):Ie=new Promise((wt,un)=>{_e=wt,le=un});const et=this.pendingTasks.add();return vn(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(et))}),this.navigationTransitions.handleNavigationRequest({source:Oe,restoredState:Ke,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:he,extras:pt,resolve:_e,reject:le,promise:Ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ie.catch(wt=>Promise.reject(wt))}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),Li=(()=>{class ce{constructor(he,Oe,Ke,pt,Me,_e){this.router=he,this.route=Oe,this.tabIndexAttribute=Ke,this.renderer=pt,this.el=Me,this.locationStrategy=_e,this.href=null,this.commands=null,this.onChanges=new R.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const le=Me.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===le||"area"===le,this.isAnchorElement?this.subscription=he.events.subscribe(Ie=>{Ie instanceof ht&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(he){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",he)}ngOnChanges(he){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(he){null!=he?(this.commands=Array.isArray(he)?he:[he],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(he,Oe,Ke,pt,Me){const _e=this.urlTree;return!!(null===_e||this.isAnchorElement&&(0!==he||Oe||Ke||pt||Me||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(_e,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const he=this.urlTree;this.href=null!==he&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(he)):null;const Oe=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Oe)}applyAttributeValue(he,Oe){const Ke=this.renderer,pt=this.el.nativeElement;null!==Oe?Ke.setAttribute(pt,he,Oe):Ke.removeAttribute(pt,he)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.rXU(As),t.rXU(Ei),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(w.hb))}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Oe,Ke){1&Oe&&t.bIt("click",function(Me){return Ke.onClick(Me.button,Me.ctrlKey,Me.shiftKey,Me.altKey,Me.metaKey)}),2&Oe&&t.BMQ("target",Ke.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}}return ce})(),Ii=(()=>{class ce{get isActive(){return this._isActive}constructor(he,Oe,Ke,pt,Me){this.router=he,this.element=Oe,this.renderer=Ke,this.cdr=pt,this.link=Me,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=he.events.subscribe(_e=>{_e instanceof ht&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,(0,f.of)(null)).pipe((0,ie.U)()).subscribe(he=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const he=[...this.links.toArray(),this.link].filter(Oe=>!!Oe).map(Oe=>Oe.onChanges);this.linkInputChangesSubscription=(0,e.H)(he).pipe((0,ie.U)()).subscribe(Oe=>{this._isActive!==this.isLinkActive(this.router)(Oe)&&this.update()})}set routerLinkActive(he){const Oe=Array.isArray(he)?he:he.split(" ");this.classes=Oe.filter(Ke=>!!Ke)}ngOnChanges(he){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const he=this.hasActiveLinks();this.classes.forEach(Oe=>{he?this.renderer.addClass(this.element.nativeElement,Oe):this.renderer.removeClass(this.element.nativeElement,Oe)}),he&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==he&&(this._isActive=he,this.cdr.markForCheck(),this.isActiveChange.emit(he))})}isLinkActive(he){const Oe=function dr(ce){return!!ce.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Ke=>{const pt=Ke.urlTree;return!!pt&&he.isActive(pt,Oe)}}hasActiveLinks(){const he=this.isLinkActive(this.router);return this.link&&he(this.link)||this.links.some(he)}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.rXU(As),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Li,8))}}static{this.\u0275dir=t.FsC({type:ce,selectors:[["","routerLinkActive",""]],contentQueries:function(Oe,Ke,pt){if(1&Oe&&t.wni(pt,Li,5),2&Oe){let Me;t.mGM(Me=t.lsd())&&(Ke.links=Me)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}}return ce})();class Zr{}let Kn=(()=>{class ce{preload(he,Oe){return(0,f.of)(null)}static{this.\u0275fac=function(Oe){return new(Oe||ce)}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})(),Ts=(()=>{class ce{constructor(he,Oe,Ke,pt,Me){this.router=he,this.injector=Ke,this.preloadingStrategy=pt,this.loader=Me}setUpPreloading(){this.subscription=this.router.events.pipe((0,B.p)(he=>he instanceof ht),(0,j.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(he,Oe){const Ke=[];for(const pt of Oe){pt.providers&&!pt._injector&&(pt._injector=(0,t.Ol2)(pt.providers,he,`Route: ${pt.path}`));const Me=pt._injector??he,_e=pt._loadedInjector??Me;(pt.loadChildren&&!pt._loadedRoutes&&void 0===pt.canLoad||pt.loadComponent&&!pt._loadedComponent)&&Ke.push(this.preloadConfig(Me,pt)),(pt.children||pt._loadedRoutes)&&Ke.push(this.processRoutes(_e,pt.children??pt._loadedRoutes))}return(0,e.H)(Ke).pipe((0,ie.U)())}preloadConfig(he,Oe){return this.preloadingStrategy.preload(Oe,()=>{let Ke;Ke=Oe.loadChildren&&void 0===Oe.canLoad?this.loader.loadChildren(he,Oe):(0,f.of)(null);const pt=Ke.pipe((0,U.Z)(Me=>null===Me?(0,f.of)(void 0):(Oe._loadedRoutes=Me.routes,Oe._loadedInjector=Me.injector,this.processRoutes(Me.injector??he,Me.routes))));if(Oe.loadComponent&&!Oe._loadedComponent){const Me=this.loader.loadComponent(Oe);return(0,e.H)([pt,Me]).pipe((0,ie.U)())}return pt})}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(As),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(Zr),t.KVO(Rt))}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}}return ce})();const Si=new t.nKC("");let Cr=(()=>{class ce{constructor(he,Oe,Ke,pt,Me={}){this.urlSerializer=he,this.transitions=Oe,this.viewportScroller=Ke,this.zone=pt,this.options=Me,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,t.WQX)(t.uvJ),Me.scrollPositionRestoration||="disabled",Me.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof rt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=he.navigationTrigger,this.restoredId=he.restoredState?he.restoredState.navigationId:0):he instanceof ht?(this.lastId=he.id,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.urlAfterRedirects).fragment)):he instanceof Tn&&he.code===kt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(he,this.urlSerializer.parse(he.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(he=>{he instanceof Zi&&(he.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(he.position):he.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(he.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(he,Oe){var Ke=this;this.zone.runOutsideAngular((0,i.A)(function*(){yield new Promise(pt=>{setTimeout(()=>{pt()}),(0,t.mal)(()=>{pt()},{injector:Ke.environmentInjector})}),Ke.zone.run(()=>{Ke.transitions.events.next(new Zi(he,"popstate"===Ke.lastSource?Ke.store[Ke.restoredId]:null,Oe))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Oe){t.QTQ()}}static{this.\u0275prov=t.jDH({token:ce,factory:ce.\u0275fac})}}return ce})();function vr(ce,...Te){return(0,t.EmA)([{provide:an,multi:!0,useValue:ce},[],{provide:Ei,useFactory:Nr,deps:[As]},{provide:t.iLQ,multi:!0,useFactory:Da},Te.map(he=>he.\u0275providers)])}function Nr(ce){return ce.routerState.root}function Ir(ce,Te){return{\u0275kind:ce,\u0275providers:Te}}function Hs(ce={}){return Ir(4,[{provide:Si,useFactory:()=>{const he=(0,t.WQX)(w.Xr),Oe=(0,t.WQX)(t.SKi),Ke=(0,t.WQX)(xn),pt=(0,t.WQX)(nn);return new Cr(pt,Ke,he,Oe,ce)}}])}function Da(){const ce=(0,t.WQX)(t.zZn);return Te=>{const he=ce.get(t.o8S);if(Te!==he.components[0])return;const Oe=ce.get(As),Ke=ce.get(Oa);1===ce.get(oo)&&Oe.initialNavigation(),ce.get(br,null,t.$GK.Optional)?.setUpPreloading(),ce.get(Si,null,t.$GK.Optional)?.init(),Oe.resetRootComponentType(he.componentTypes[0]),Ke.closed||(Ke.next(),Ke.complete(),Ke.unsubscribe())}}const Oa=new t.nKC("",{factory:()=>new R.B}),oo=new t.nKC("",{providedIn:"root",factory:()=>1});function ur(){return Ir(2,[{provide:oo,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:Te=>{const he=Te.get(w.hj,Promise.resolve());return()=>he.then(()=>new Promise(Oe=>{const Ke=Te.get(As),pt=Te.get(Oa);vn(Ke,()=>{Oe(!0)}),Te.get(xn).afterPreactivation=()=>(Oe(!0),pt.closed?(0,f.of)(void 0):pt),Ke.initialNavigation()}))}}])}const br=new t.nKC("");function Sr(ce){return Ir(0,[{provide:br,useExisting:Ts},{provide:Zr,useExisting:ce}])}function hd(ce){return Ir(5,[{provide:Vt,useValue:ce}])}function Zs(ce){return Ir(9,[{provide:yi,useValue:nr},{provide:xi,useValue:{skipNextTransition:!!ce?.skipInitialTransition,...ce}}])}const Ol=new t.nKC("ROUTER_FORROOT_GUARD"),Eo=[w.aZ,{provide:nn,useClass:Mn},As,Ti,{provide:Ei,useFactory:Nr,deps:[As]},Rt,[]];let Ss=(()=>{class ce{constructor(he){}static forRoot(he,Oe){return{ngModule:ce,providers:[Eo,[],{provide:an,multi:!0,useValue:he},{provide:Ol,useFactory:ti,deps:[[As,new t.Xx1,new t.kdw]]},{provide:Vt,useValue:Oe||{}},Oe?.useHash?{provide:w.hb,useClass:w.fw}:{provide:w.hb,useClass:w.Sm},{provide:Si,useFactory:()=>{const ce=(0,t.WQX)(w.Xr),Te=(0,t.WQX)(t.SKi),he=(0,t.WQX)(Vt),Oe=(0,t.WQX)(xn),Ke=(0,t.WQX)(nn);return he.scrollOffset&&ce.setOffset(he.scrollOffset),new Cr(Ke,Oe,ce,Te,he)}},Oe?.preloadingStrategy?Sr(Oe.preloadingStrategy).\u0275providers:[],Oe?.initialNavigation?Fr(Oe):[],Oe?.bindToComponentInputs?Ir(8,[Bo,{provide:wi,useExisting:Bo}]).\u0275providers:[],Oe?.enableViewTransitions?Zs().\u0275providers:[],[{provide:Ma,useFactory:Da},{provide:t.iLQ,multi:!0,useExisting:Ma}]]}}static forChild(he){return{ngModule:ce,providers:[{provide:an,multi:!0,useValue:he}]}}static{this.\u0275fac=function(Oe){return new(Oe||ce)(t.KVO(Ol,8))}}static{this.\u0275mod=t.$C({type:ce})}static{this.\u0275inj=t.G2t({})}}return ce})();function ti(ce){return"guarded"}function Fr(ce){return["disabled"===ce.initialNavigation?Ir(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const Te=(0,t.WQX)(As);return()=>{Te.setUpLocationChangeListener()}}},{provide:oo,useValue:2}]).\u0275providers:[],"enabledBlocking"===ce.initialNavigation?ur().\u0275providers:[]]}const Ma=new t.nKC("")},23632:(N,T,n)=>{"use strict";n.d(T,{Fv:()=>Pe,O7:()=>ye,cz:()=>vt});var i=n(54438),t=n(345),l=n(60177),e=n(49969);const f=nt=>({"ngx-gallery-active":nt});function m(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",1),i.bIt("click",function(ut){const cn=i.eBV(ve).index,nn=i.XpG();return i.Njj(nn.handleChange(ut,cn))}),i.k0s()}if(2&nt){const ve=lt.index,Ne=i.XpG();i.Y8G("ngClass",i.eq3(1,f,ve===Ne.active))}}const p=["previewImage"];function _(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",17),i.bIt("prevClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("prevDisabled",!ve.canShowPrev())("nextDisabled",!ve.canShowNext())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}function v(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",18),i.bIt("closeClick",function(ut){const cn=i.eBV(ve).$implicit,nn=i.XpG();return i.Njj(cn.onClick(ut,nn.index))}),i.k0s()}if(2&nt){const ve=lt.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function y(nt,lt){if(1&nt&&(i.j41(0,"a",19),i.nrm(1,"i"),i.k0s()),2&nt){const ve=i.XpG();i.Y8G("href",ve.src,i.B4B),i.R7$(),i.ZvI("ngx-gallery-icon-content ",ve.downloadIcon,"")}}function C(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.zoomOut())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("icon",ve.zoomOutIcon)("disabled",!ve.canZoomOut())}}function O(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",20),i.bIt("closeClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.zoomIn())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("icon",ve.zoomInIcon)("disabled",!ve.canZoomIn())}}function I(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.rotateLeft())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("icon",ve.rotateLeftIcon)}}function D(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.rotateRight())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("icon",ve.rotateRightIcon)}}function R(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.manageFullscreen())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("icon","ngx-gallery-fullscreen "+ve.fullscreenIcon)}}function h(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"img",21,0),i.bIt("click",function(ut){return i.eBV(ve),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.mouseDownHandler(ut))}),i.k0s()}if(2&nt){const ve=i.XpG();i.xc7("transform",ve.getTransform())("left",ve.positionLeft+"px")("top",ve.positionTop+"px"),i.AVh("ngx-gallery-active",!ve.loading)("animation",ve.animation)("ngx-gallery-grab",ve.canDragOnZoom()),i.Y8G("src",ve.src,i.B4B)}}function w(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"video",22,0),i.bIt("click",function(ut){return i.eBV(ve),i.Njj(ut.stopPropagation())})("mouseenter",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.imageMouseEnter())})("mouseleave",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.imageMouseLeave())})("mousedown",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.mouseDownHandler(ut))})("touchstart",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.mouseDownHandler(ut))}),i.nrm(2,"source",23),i.EFF(3," Your browser does not support the video tag. "),i.k0s()}if(2&nt){const ve=i.XpG();i.xc7("transform",ve.getTransform())("left",ve.positionLeft+"px")("top",ve.positionTop+"px"),i.AVh("ngx-gallery-active",!ve.loading)("animation",ve.animation)("ngx-gallery-grab",ve.canDragOnZoom()),i.R7$(2),i.Y8G("src",ve.src,i.B4B)}}function b(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-bullets",24),i.bIt("bulletChange",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.showAtIndex(ut))}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("count",ve.images.length)("active",ve.index)}}function P(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",25),i.bIt("click",function(ut){return i.eBV(ve),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("innerHTML",ve.description,i.npT)}}const M=nt=>({"ngx-gallery-clickable":nt});function L(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const cn=i.eBV(ve).$implicit,nn=i.XpG(2).$implicit;return i.Njj(cn.onClick(ut,nn.index))}),i.k0s()}if(2&nt){const ve=lt.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function B(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(ve),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&nt){const ve=i.XpG(2).$implicit,Ne=i.XpG();i.Y8G("innerHTML",Ne.descriptions[ve.index],i.npT)}}function U(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(ve);const cn=i.XpG().$implicit,nn=i.XpG();return i.Njj(nn.handleClick(ut,cn.index))})("@animation.start",function(ut){i.eBV(ve);const cn=i.XpG(2);return i.Njj(cn.onStart(ut))})("@animation.done",function(ut){i.eBV(ve);const cn=i.XpG(2);return i.Njj(cn.onDone(ut))}),i.j41(1,"div",5),i.DNE(2,L,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(3,B,1,1,"div",7),i.k0s()}if(2&nt){const ve=i.XpG().$implicit,Ne=i.XpG();i.xc7("background-image",Ne.getSafeUrl(ve.src)),i.Y8G("ngClass",i.eq3(6,M,Ne.clickable))("@animation",Ne.action),i.R7$(2),i.Y8G("ngForOf",Ne.actions),i.R7$(),i.Y8G("ngIf",Ne.showDescription&&Ne.descriptions[ve.index])}}function $(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",8),i.bIt("closeClick",function(ut){const cn=i.eBV(ve).$implicit,nn=i.XpG(2).$implicit;return i.Njj(cn.onClick(ut,nn.index))}),i.k0s()}if(2&nt){const ve=lt.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function j(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",9),i.bIt("click",function(ut){return i.eBV(ve),i.Njj(ut.stopPropagation())}),i.k0s()}if(2&nt){const ve=i.XpG(2).$implicit,Ne=i.XpG();i.Y8G("innerHTML",Ne.descriptions[ve.index],i.npT)}}function G(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"div",4),i.bIt("click",function(ut){i.eBV(ve);const cn=i.XpG().$implicit,nn=i.XpG();return i.Njj(nn.handleClick(ut,cn.index))})("@animation.start",function(ut){i.eBV(ve);const cn=i.XpG(2);return i.Njj(cn.onStart(ut))})("@animation.done",function(ut){i.eBV(ve);const cn=i.XpG(2);return i.Njj(cn.onDone(ut))}),i.j41(1,"video",10),i.nrm(2,"source",11),i.EFF(3," Your browser does not support the video tag. "),i.k0s(),i.j41(4,"div",5),i.DNE(5,$,1,3,"ngx-gallery-action",6),i.k0s(),i.DNE(6,j,1,1,"div",7),i.k0s()}if(2&nt){const ve=i.XpG().$implicit,Ne=i.XpG();i.xc7("background-image",Ne.getSafeUrl(ve.src)),i.Y8G("ngClass",i.eq3(7,M,Ne.clickable))("@animation",Ne.action),i.R7$(2),i.Y8G("src",ve.src,i.B4B),i.R7$(3),i.Y8G("ngForOf",Ne.actions),i.R7$(),i.Y8G("ngIf",Ne.showDescription&&Ne.descriptions[ve.index])}}function z(nt,lt){if(1&nt&&(i.qex(0),i.DNE(1,U,4,8,"div",3)(2,G,7,9,"div",3),i.bVm()),2&nt){const ve=lt.$implicit,Ne=i.XpG();i.R7$(),i.Y8G("ngIf","image"===ve.type&&ve.index===Ne._selectedIndex),i.R7$(),i.Y8G("ngIf","video"===ve.type&&ve.index===Ne._selectedIndex)}}function V(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-bullets",12),i.bIt("bulletChange",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.show(ut))}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("count",ve.images.length)("active",ve._selectedIndex)}}function X(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",13),i.bIt("prevClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.showPrev())})("nextClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.showNext())}),i.k0s()}if(2&nt){const ve=i.XpG();i.ZvI("ngx-gallery-image-size-",ve.size,""),i.Y8G("prevDisabled",!ve.canShowPrev())("nextDisabled",!ve.canShowNext())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}const J=(nt,lt)=>({"ngx-gallery-active":nt,"ngx-gallery-clickable":lt});function q(nt,lt){if(1&nt&&i.nrm(0,"div",9),2&nt){const ve=i.XpG(),Ne=ve.$implicit,ut=ve.index,cn=i.XpG();i.xc7("background-image",cn.getSafeUrl(Ne)),i.Y8G("ngClass",i.l_i(3,J,ut===cn.selectedIndex,cn.clickable))}}function Z(nt,lt){if(1&nt&&(i.j41(0,"div",10)(1,"video",11),i.nrm(2,"source",12),i.EFF(3," Your browser does not support the video tag. "),i.k0s()()),2&nt){const ve=i.XpG(),Ne=ve.$implicit,ut=ve.index,cn=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(2,J,ut===cn.selectedIndex,cn.clickable)),i.R7$(),i.Y8G("src",Ne,i.B4B)}}function H(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-action",13),i.bIt("closeClick",function(ut){const cn=i.eBV(ve).$implicit,nn=i.XpG().index;return i.Njj(cn.onClick(ut,nn))}),i.k0s()}if(2&nt){const ve=lt.$implicit;i.Y8G("icon",ve.icon)("disabled",ve.disabled)("titleText",ve.titleText)}}function Y(nt,lt){if(1&nt&&(i.j41(0,"div",14)(1,"span",15),i.EFF(2),i.k0s()()),2&nt){const ve=i.XpG(2);i.R7$(2),i.SpI("+",ve.remainingCountValue,"")}}function Q(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"a",3),i.bIt("click",function(ut){const cn=i.eBV(ve).index,nn=i.XpG();return i.Njj(nn.handleClick(ut,cn))}),i.DNE(1,q,1,6,"div",4)(2,Z,4,5,"div",5),i.j41(3,"div",6),i.DNE(4,H,1,3,"ngx-gallery-action",7),i.k0s(),i.DNE(5,Y,3,1,"div",8),i.k0s()}if(2&nt){const ve=lt.$implicit,Ne=lt.index,ut=i.XpG();i.xc7("width",ut.getThumbnailWidth())("height",ut.getThumbnailHeight())("left",ut.getThumbnailLeft(Ne))("top",ut.getThumbnailTop(Ne)),i.Y8G("href",ut.hasLink(Ne)?ut.links[Ne]:"#",i.B4B)("target",ut.linkTarget)("ngClass",i.l_i(16,J,Ne===ut.selectedIndex,ut.clickable)),i.BMQ("aria-label",ut.labels[Ne]),i.R7$(),i.Y8G("ngIf","image"===ut.getFileType(ve)),i.R7$(),i.Y8G("ngIf","video"===ut.getFileType(ve)),i.R7$(2),i.Y8G("ngForOf",ut.actions),i.R7$(),i.Y8G("ngIf",ut.remainingCount&&ut.remainingCountValue&&Ne===ut.rows*ut.columns-1)}}function ie(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-arrows",16),i.bIt("prevClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.moveLeft())})("nextClick",function(){i.eBV(ve);const ut=i.XpG();return i.Njj(ut.moveRight())}),i.k0s()}if(2&nt){const ve=i.XpG();i.Y8G("prevDisabled",!ve.canMoveLeft())("nextDisabled",!ve.canMoveRight())("arrowPrevIcon",ve.arrowPrevIcon)("arrowNextIcon",ve.arrowNextIcon)}}const oe=()=>[];function pe(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-image",3),i.bIt("imageClick",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.openPreview(ut))})("activeChange",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.selectFromImage(ut))})("animating",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.setAnimating(ut))}),i.k0s()}if(2&nt){const ve=i.XpG();i.xc7("height",ve.getImageHeight()),i.Y8G("images",ve.mediumImages)("clickable",null==ve.currentOptions?null:ve.currentOptions.preview)("selectedIndex",ve.selectedIndex)("arrows",null==ve.currentOptions?null:ve.currentOptions.imageArrows)("arrowsAutoHide",null==ve.currentOptions?null:ve.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==ve.currentOptions?null:ve.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ve.currentOptions?null:ve.currentOptions.arrowNextIcon)("swipe",null==ve.currentOptions?null:ve.currentOptions.imageSwipe)("animation",null==ve.currentOptions?null:ve.currentOptions.imageAnimation)("size",null==ve.currentOptions?null:ve.currentOptions.imageSize)("autoPlay",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlay)("autoPlayInterval",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==ve.currentOptions?null:ve.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==ve.currentOptions?null:ve.currentOptions.imageInfinityMove)("lazyLoading",null==ve.currentOptions?null:ve.currentOptions.lazyLoading)("actions",null==ve.currentOptions?null:ve.currentOptions.imageActions)("descriptions",ve.descriptions)("showDescription",null==ve.currentOptions?null:ve.currentOptions.imageDescription)("bullets",null==ve.currentOptions?null:ve.currentOptions.imageBullets)}}function ne(nt,lt){if(1&nt){const ve=i.RV6();i.j41(0,"ngx-gallery-thumbnails",4),i.bIt("activeChange",function(ut){i.eBV(ve);const cn=i.XpG();return i.Njj(cn.selectFromThumbnails(ut))}),i.k0s()}if(2&nt){const ve=i.XpG();i.xc7("margin-top",ve.getThumbnailsMarginTop())("margin-bottom",ve.getThumbnailsMarginBottom())("height",ve.getThumbnailsHeight()),i.Y8G("images",ve.smallImages)("isAnimating",ve.isAnimating)("links",null!=ve.currentOptions&&ve.currentOptions.thumbnailsAsLinks?ve.links:i.lJ4(28,oe))("labels",ve.labels)("linkTarget",null==ve.currentOptions?null:ve.currentOptions.linkTarget)("selectedIndex",ve.selectedIndex)("columns",null==ve.currentOptions?null:ve.currentOptions.thumbnailsColumns)("rows",null==ve.currentOptions?null:ve.currentOptions.thumbnailsRows)("margin",null==ve.currentOptions?null:ve.currentOptions.thumbnailMargin)("arrows",null==ve.currentOptions?null:ve.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==ve.currentOptions?null:ve.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==ve.currentOptions?null:ve.currentOptions.arrowPrevIcon)("arrowNextIcon",null==ve.currentOptions?null:ve.currentOptions.arrowNextIcon)("clickable",(null==ve.currentOptions?null:ve.currentOptions.image)||(null==ve.currentOptions?null:ve.currentOptions.preview))("swipe",null==ve.currentOptions?null:ve.currentOptions.thumbnailsSwipe)("size",null==ve.currentOptions?null:ve.currentOptions.thumbnailSize)("moveSize",null==ve.currentOptions?null:ve.currentOptions.thumbnailsMoveSize)("order",null==ve.currentOptions?null:ve.currentOptions.thumbnailsOrder)("remainingCount",null==ve.currentOptions?null:ve.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==ve.currentOptions?null:ve.currentOptions.lazyLoading)("actions",null==ve.currentOptions?null:ve.currentOptions.thumbnailActions)("ngClass",null==ve.currentOptions?null:ve.currentOptions.thumbnailClasses)}}let re=(()=>{class nt{constructor(ve){this.renderer=ve,this.swipeHandlers=new Map}manageSwipe(ve,Ne,ut,cn,nn){const Mn=this.getSwipeHandlers(ut);try{ve&&!Mn?this.swipeHandlers.set(ut,[this.renderer.listen(Ne.nativeElement,"swipeleft",()=>cn()),this.renderer.listen(Ne.nativeElement,"swiperight",()=>nn())]):!ve&&Mn&&(Mn.map(Tt=>Tt()),this.removeSwipeHandlers(ut))}catch{}}validateUrl(ve){return ve.replace?ve.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):ve}getBackgroundUrl(ve){return"url('"+this.validateUrl(ve)+"')"}getFileType(ve){const Ne=ve.split(".").pop().toLowerCase();return"avi"===Ne||"flv"===Ne||"wmv"===Ne||"mov"===Ne||"mp4"===Ne?"video":"image"}getSwipeHandlers(ve){return this.swipeHandlers.get(ve)}removeSwipeHandlers(ve){this.swipeHandlers.delete(ve)}}return nt.\u0275fac=function(ve){return new(ve||nt)(i.KVO(i.sFG))},nt.\u0275prov=i.jDH({token:nt,factory:nt.\u0275fac,providedIn:"root"}),nt})(),Ce=(()=>{class nt{constructor(){this.prevClick=new i.bkB,this.nextClick=new i.bkB}handlePrevClick(){this.prevClick.emit()}handleNextClick(){this.nextClick.emit()}}return nt.\u0275fac=function(ve){return new(ve||nt)},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(ve,Ne){1&ve&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return Ne.handlePrevClick()}),i.nrm(2,"i"),i.k0s()(),i.j41(3,"div",2)(4,"div",1),i.bIt("click",function(){return Ne.handleNextClick()}),i.nrm(5,"i"),i.k0s()()),2&ve&&(i.R7$(),i.AVh("ngx-gallery-disabled",Ne.prevDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ne.arrowPrevIcon,""),i.R7$(2),i.AVh("ngx-gallery-disabled",Ne.nextDisabled),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ne.arrowNextIcon,""))},styles:[".ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),nt})(),Ee=(()=>{class nt{constructor(){this.disabled=!1,this.titleText="",this.closeClick=new i.bkB}handleClick(ve){this.disabled||this.closeClick.emit(ve),ve.stopPropagation(),ve.preventDefault()}}return nt.\u0275fac=function(ve){return new(ve||nt)},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"click","title"]],template:function(ve,Ne){1&ve&&(i.j41(0,"div",0),i.bIt("click",function(cn){return Ne.handleClick(cn)}),i.nrm(1,"i"),i.k0s()),2&ve&&(i.AVh("ngx-gallery-icon-disabled",Ne.disabled),i.FS9("title",Ne.titleText),i.R7$(),i.ZvI("ngx-gallery-icon-content ",Ne.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;font-size:25px;position:absolute;z-index:2000;display:inline-block}.ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),nt})(),ue=(()=>{class nt{constructor(){this.active=0,this.bulletChange=new i.bkB}getBullets(){return Array(this.count)}handleChange(ve,Ne){this.bulletChange.emit(Ne)}}return nt.\u0275fac=function(ve){return new(ve||nt)},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"click","ngClass"]],template:function(ve,Ne){1&ve&&i.DNE(0,m,1,3,"div",0),2&ve&&i.Y8G("ngForOf",Ne.getBullets())},dependencies:[l.Sq,l.YU],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translate(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:white}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet[_ngcontent-%COMP%]:hover, .ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%]{background:black}"],changeDetection:0}),nt})(),ae=(()=>{class nt{constructor(ve,Ne,ut,cn,nn){this.sanitization=ve,this.elementRef=Ne,this.helperService=ut,this.renderer=cn,this.changeDetectorRef=nn,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.activeChange=new i.bkB,this.isOpen=!1,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}ngOnChanges(ve){ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",()=>this.showNext(),()=>this.showPrev())}ngOnDestroy(){this.keyDownListener&&this.keyDownListener()}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}onKeyDown(ve){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(ve)?this.showPrev():this.isKeyboardNext(ve)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(ve)&&this.close())}open(ve){this.previewOpen.emit(),this.index=ve,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",Ne=>this.onKeyDown(Ne))}close(){this.isOpen=!1;const ve=this.previewImage.nativeElement;ve.currentTime>0&&!ve.paused&&!ve.ended&&ve.readyState>2&&ve.pause(),this.closeFullscreen(),this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}imageMouseEnter(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}imageMouseLeave(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}startAutoPlay(){this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(()=>{this.showNext()||(this.index=-1,this.showNext())},this.autoPlayInterval))}stopAutoPlay(){this.timer&&clearTimeout(this.timer)}showAtIndex(ve){this.index=ve,this.show()}showNext(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}showPrev(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}canShowNext(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}canShowPrev(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}manageFullscreen(){if(this.fullscreen||this.forceFullscreen){const ve=document;ve.fullscreenElement||ve.mozFullScreenElement||ve.webkitFullscreenElement||ve.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustUrl(ve)}getFileType(ve){return this.helperService.getFileType(ve)}zoomIn(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}zoomOut(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}rotateLeft(){this.rotateValue-=90}rotateRight(){this.rotateValue+=90}getTransform(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}canZoomIn(){return this.zoomValue<this.zoomMax}canZoomOut(){return this.zoomValue>this.zoomMin}canDragOnZoom(){return this.zoom&&this.zoomValue>1}mouseDownHandler(ve){this.canDragOnZoom()&&(this.initialX=this.getClientX(ve),this.initialY=this.getClientY(ve),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,ve.preventDefault())}mouseUpHandler(ve){this.isMove=!1}mouseMoveHandler(ve){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(ve)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(ve)-this.initialY))}getClientX(ve){return ve.touches&&ve.touches.length?ve.touches[0].clientX:ve.clientX}getClientY(ve){return ve.touches&&ve.touches.length?ve.touches[0].clientY:ve.clientY}resetPosition(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}isKeyboardNext(ve){return 39===ve.keyCode}isKeyboardPrev(ve){return 37===ve.keyCode}isKeyboardEsc(ve){return 27===ve.keyCode}openFullscreen(){const ve=document.documentElement;ve.requestFullscreen?ve.requestFullscreen():ve.msRequestFullscreen?ve.msRequestFullscreen():ve.mozRequestFullScreen?ve.mozRequestFullScreen():ve.webkitRequestFullscreen&&ve.webkitRequestFullscreen()}closeFullscreen(){if(this.isFullscreen()){const ve=document;ve.exitFullscreen?ve.exitFullscreen():ve.msExitFullscreen?ve.msExitFullscreen():ve.mozCancelFullScreen?ve.mozCancelFullScreen():ve.webkitExitFullscreen&&ve.webkitExitFullscreen()}}isFullscreen(){const ve=document;return ve.fullscreenElement||ve.webkitFullscreenElement||ve.mozFullScreenElement||ve.msFullscreenElement}show(ve=!1){this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),ve||!this.animation?this._show():setTimeout(()=>this._show(),600)}_show(){this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],this.changeDetectorRef.markForCheck(),setTimeout(()=>{this.isLoaded(this.previewImage.nativeElement)||"video"===this.type?(this.loading=!1,this.startAutoPlay(),this.changeDetectorRef.markForCheck()):"video"===this.type||(setTimeout(()=>{this.loading&&(this.showSpinner=!0,this.changeDetectorRef.markForCheck())}),this.previewImage.nativeElement.onload=()=>{this.loading=!1,this.showSpinner=!1,this.previewImage.nativeElement.onload=null,this.startAutoPlay(),this.changeDetectorRef.markForCheck()})})}isLoaded(ve){return!(!ve.complete||typeof ve.naturalWidth<"u"&&0===ve.naturalWidth)}}return nt.\u0275fac=function(ve){return new(ve||nt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(re),i.rXU(i.sFG),i.rXU(i.gRc))},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-preview"]],viewQuery:function(ve,Ne){if(1&ve&&i.GBs(p,5),2&ve){let ut;i.mGM(ut=i.lsd())&&(Ne.previewImage=ut.first)}},hostBindings:function(ve,Ne){1&ve&&i.bIt("mouseenter",function(){return Ne.onMouseEnter()})("mouseleave",function(){return Ne.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[i.OA$],decls:19,vars:18,consts:[["previewImage",""],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"closeClick","icon"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["aria-hidden","true"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","style","width: 100%; height: 100%;","class","ngx-gallery-preview-img ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",3,"innerHTML","click",4,"ngIf"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"],[3,"closeClick","icon","disabled","titleText"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"closeClick","icon","disabled"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"click","mouseenter","mouseleave","mousedown","touchstart","src"],["controls","",1,"ngx-gallery-preview-img","ngx-gallery-center",2,"width","100%","height","100%",3,"click","mouseenter","mouseleave","mousedown","touchstart"],[3,"src"],[3,"bulletChange","count","active"],[1,"ngx-gallery-preview-text",3,"click","innerHTML"]],template:function(ve,Ne){1&ve&&(i.DNE(0,_,1,4,"ngx-gallery-arrows",1),i.j41(1,"div",2)(2,"div",3),i.DNE(3,v,1,3,"ngx-gallery-action",4)(4,y,2,4,"a",5)(5,C,1,2,"ngx-gallery-action",6)(6,O,1,2,"ngx-gallery-action",6)(7,I,1,1,"ngx-gallery-action",7)(8,D,1,1,"ngx-gallery-action",7)(9,R,1,1,"ngx-gallery-action",7),i.j41(10,"ngx-gallery-action",8),i.bIt("closeClick",function(){return Ne.close()}),i.k0s()()(),i.j41(11,"div",9),i.nrm(12,"i",10),i.k0s(),i.j41(13,"div",11),i.bIt("click",function(){return Ne.closeOnClick&&Ne.close()})("mouseup",function(cn){return Ne.mouseUpHandler(cn)})("mousemove",function(cn){return Ne.mouseMoveHandler(cn)})("touchend",function(cn){return Ne.mouseUpHandler(cn)})("touchmove",function(cn){return Ne.mouseMoveHandler(cn)}),i.j41(14,"div",12),i.DNE(15,h,2,13,"img",13)(16,w,4,13,"video",14)(17,b,1,2,"ngx-gallery-bullets",15),i.k0s(),i.DNE(18,P,1,1,"div",16),i.k0s()),2&ve&&(i.Y8G("ngIf",Ne.arrows),i.R7$(3),i.Y8G("ngForOf",Ne.actions),i.R7$(),i.Y8G("ngIf",Ne.download&&Ne.src),i.R7$(),i.Y8G("ngIf",Ne.zoom),i.R7$(),i.Y8G("ngIf",Ne.zoom),i.R7$(),i.Y8G("ngIf",Ne.rotate),i.R7$(),i.Y8G("ngIf",Ne.rotate),i.R7$(),i.Y8G("ngIf",Ne.fullscreen),i.R7$(),i.Y8G("icon","ngx-gallery-close "+Ne.closeIcon),i.R7$(),i.AVh("ngx-gallery-active",Ne.showSpinner),i.R7$(),i.ZvI("ngx-gallery-icon ngx-gallery-spinner ",Ne.spinnerIcon,""),i.R7$(3),i.Y8G("ngIf",Ne.src&&"image"===Ne.type),i.R7$(),i.Y8G("ngIf",Ne.src&&"video"===Ne.type),i.R7$(),i.Y8G("ngIf",Ne.bullets),i.R7$(),i.Y8G("ngIf",Ne.showDescription&&Ne.description))},dependencies:[Ce,Ee,ue,l.bT,l.Sq],styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none;font-size:50px!important}[_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),nt})(),ye=(()=>{class nt{}return nt.Fade="fade",nt.Slide="slide",nt.Rotate="rotate",nt.Zoom="zoom",nt})(),De=(()=>{class nt{constructor(ve,Ne,ut,cn){this.sanitization=ve,this.changeDetectorRef=Ne,this.elementRef=ut,this.helperService=cn,this.imageClick=new i.bkB,this.activeChange=new i.bkB,this.animating=new i.bkB,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=Ne,this.action="none"}set selectedIndex(ve){if(ve>this._selectedIndex){let Ne;this.animation===ye.Slide?Ne="slideRight":this.animation===ye.Fade?Ne="fade":this.animation===ye.Rotate?Ne="rotateRight":this.animation===ye.Zoom&&(Ne="zoom"),this.setAction(Ne)}else if(ve<this._selectedIndex){let Ne;this.animation===ye.Slide?Ne="slideLeft":this.animation===ye.Fade?Ne="fade":this.animation===ye.Rotate?Ne="rotateLeft":this.animation===ye.Zoom&&(Ne="zoom"),this.setAction(Ne)}this._selectedIndex=ve}ngOnInit(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}ngOnChanges(ve){ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",()=>this.showNext(),()=>this.showPrev())}onMouseEnter(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}onMouseLeave(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}reset(ve){this._selectedIndex=ve,this.action="none"}getImages(){if(!this.images)return[];if(this.lazyLoading){const ve=[this._selectedIndex],Ne=this._selectedIndex-1;-1===Ne&&this.infinityMove?ve.push(this.images.length-1):Ne>=0&&ve.push(Ne);const ut=this._selectedIndex+1;return ut===this.images.length&&this.infinityMove?ve.push(0):ut<this.images.length&&ve.push(ut),this.images.filter((cn,nn)=>-1!==ve.indexOf(nn))}return this.images}startAutoPlay(){this.stopAutoPlay(),this.timer=setInterval(()=>{this.showNext()||(this._selectedIndex=-1,this.showNext())},this.autoPlayInterval)}stopAutoPlay(){this.timer&&clearInterval(this.timer)}handleClick(ve,Ne){this.clickable&&(this.imageClick.emit(Ne),ve.stopPropagation(),ve.preventDefault())}show(ve){if(!this.isAnimating){if(ve>this._selectedIndex){let Ne;this.animation===ye.Slide?Ne="slideRight":this.animation===ye.Fade?Ne="fade":this.animation===ye.Rotate?Ne="rotateRight":this.animation===ye.Zoom&&(Ne="zoom"),this.setAction(Ne)}else{let Ne;this.animation===ye.Slide?Ne="slideLeft":this.animation===ye.Fade?Ne="fade":this.animation===ye.Rotate?Ne="rotateLeft":this.animation===ye.Zoom&&(Ne="zoom"),this.setAction(Ne)}this._selectedIndex=ve,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setAction(ve){this.action=ve,this.changeDetectorRef.detectChanges()}showNext(){if(this.isAnimating)return!1;if(this.canShowNext()&&this.canChangeImage){let ve;return this.animation===ye.Slide?ve="slideRight":this.animation===ye.Fade?ve="fade":this.animation===ye.Rotate?ve="rotateRight":this.animation===ye.Zoom&&(ve="zoom"),this.setAction(ve),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),!0}return!1}showPrev(){if(!this.isAnimating&&this.canShowPrev()&&this.canChangeImage){let ve;this.animation===ye.Slide?ve="slideLeft":this.animation===ye.Fade?ve="fade":this.animation===ye.Rotate?ve="rotateLeft":this.animation===ye.Zoom&&(ve="zoom"),this.setAction(ve),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout()}}setChangeTimeout(){this.canChangeImage=!1;let ve=1e3;(this.animation===ye.Slide||this.animation===ye.Fade)&&(ve=500),setTimeout(()=>{this.canChangeImage=!0},ve)}canShowNext(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}canShowPrev(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ve.toString()))}getFileType(ve){return this.helperService.getFileType(ve)}onStart(ve){this.isAnimating=!0,this.animating.emit(!0)}onDone(ve){this.isAnimating=!1,this.animating.emit(!1)}}return nt.\u0275fac=function(ve){return new(ve||nt)(i.rXU(t.up),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(re))},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-image"]],hostBindings:function(ve,Ne){1&ve&&i.bIt("mouseenter",function(){return Ne.onMouseEnter()})("mouseleave",function(){return Ne.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[i.OA$],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"click","ngClass"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-image-text",3,"click","innerHTML"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"bulletChange","count","active"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ve,Ne){1&ve&&(i.j41(0,"div"),i.DNE(1,z,3,2,"ng-container",0)(2,V,1,2,"ngx-gallery-bullets",1)(3,X,1,7,"ngx-gallery-arrows",2),i.k0s()),2&ve&&(i.STu("ngx-gallery-image-wrapper ngx-gallery-animation-",Ne.animation," ngx-gallery-image-size-",Ne.size,""),i.R7$(),i.Y8G("ngForOf",Ne.getImages()),i.R7$(),i.Y8G("ngIf",Ne.bullets),i.R7$(),i.Y8G("ngIf",Ne.arrows))},dependencies:[Ee,ue,Ce,l.Sq,l.bT,l.YU],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;height:100%;width:100%;position:absolute;top:0}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[(0,e.hZ)("animation",[(0,e.wk)("slideRight",(0,e.iF)({})),(0,e.wk)("slideLeft",(0,e.iF)({})),(0,e.wk)("fade",(0,e.iF)({})),(0,e.wk)("rotateLeft",(0,e.iF)({})),(0,e.wk)("rotateRight",(0,e.iF)({})),(0,e.wk)("zoom",(0,e.iF)({})),(0,e.kY)("slideRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(-100%)"}))]),(0,e.kY)("void => slideRight",[(0,e.iF)({transform:"translateX(100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("slideLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(100%)"}))]),(0,e.kY)("void => slideLeft",[(0,e.iF)({transform:"translateX(-100%)"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"translateX(0)"}))]),(0,e.kY)("fade => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"0"}))]),(0,e.kY)("void => fade",[(0,e.iF)({opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({opacity:"1"}))]),(0,e.kY)("rotateLeft => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateLeft",[(0,e.iF)({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("rotateRight => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),(0,e.kY)("void => rotateRight",[(0,e.iF)({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),(0,e.kY)("zoom => void",[(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}))]),(0,e.kY)("void => zoom",[(0,e.iF)({transform:"scale(2.5,2.5)",opacity:"0"}),(0,e.i0)("500ms ease-in-out",(0,e.iF)({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),nt})(),tt=(()=>{class nt{}return nt.Column=1,nt.Row=2,nt.Page=3,nt})(),_t=(()=>{class nt{constructor(ve,Ne,ut){this.sanitization=ve,this.elementRef=Ne,this.helperService=ut,this.minStopIndex=0,this.activeChange=new i.bkB,this.index=0}ngOnChanges(ve){ve.selectedIndex&&this.validateIndex(),ve.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",()=>this.moveRight(),()=>this.moveLeft()),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}onMouseEnter(){this.mouseenter=!0}onMouseLeave(){this.mouseenter=!1}reset(ve){this.selectedIndex=ve,this.setDefaultPosition(),this.index=0,this.validateIndex()}getImages(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==tt.Row){let ve=0;return this.order===tt.Column?ve=(this.index+this.columns+this.moveSize)*this.rows:this.order===tt.Page&&(ve=this.index+this.columns*this.rows*2),ve<=this.minStopIndex?ve=this.minStopIndex:this.minStopIndex=ve,this.images.slice(0,ve)}return this.images}handleClick(ve,Ne){!this.hasLink(Ne)&&!this.isAnimating&&(this.selectedIndex=Ne,this.activeChange.emit(Ne)),ve.stopPropagation(),ve.preventDefault()}hasLink(ve){return!!(this.links&&this.links.length&&this.links[ve])}moveRight(){if(this.canMoveRight()){this.index+=this.moveSize;const ve=this.getMaxIndex()-this.columns;this.index>ve&&(this.index=ve),this.setThumbnailsPosition()}}moveLeft(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}canMoveRight(){return this.index+this.columns<this.getMaxIndex()}canMoveLeft(){return 0!==this.index}getThumbnailLeft(ve){let Ne;return Ne=this.order===tt.Column?Math.floor(ve/this.rows):this.order===tt.Page?ve%this.columns+Math.floor(ve/(this.rows*this.columns))*this.columns:this.order===tt.Row&&this.remainingCount?ve%this.columns:ve%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(Ne,this.columns)}getThumbnailTop(ve){let Ne;return Ne=this.order===tt.Column?ve%this.rows:this.order===tt.Page?Math.floor(ve/this.columns)-Math.floor(ve/(this.rows*this.columns))*this.rows:this.order===tt.Row&&this.remainingCount?Math.floor(ve/this.columns):Math.floor(ve/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(Ne,this.rows)}getThumbnailWidth(){return this.getThumbnailDimension(this.columns)}getThumbnailHeight(){return this.getThumbnailDimension(this.rows)}setThumbnailsPosition(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px"}setDefaultPosition(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}canShowArrows(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}validateIndex(){if(this.images){let ve;if(ve=this.order===tt.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(ve=0),ve<this.index||ve>=this.index+this.columns){const Ne=this.getMaxIndex()-this.columns;this.index=ve>Ne?Ne:ve,this.setThumbnailsPosition()}}}getSafeUrl(ve){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(ve.toString()))}getFileType(ve){return this.helperService.getFileType(ve.toString())}getThumbnailPosition(ve,Ne){return this.getSafeStyle("calc("+100/Ne*ve+"% + "+(this.margin-(Ne-1)*this.margin/Ne)*ve+"px)")}getThumbnailDimension(ve){return this.getSafeStyle(0!==this.margin?"calc("+100/ve+"% - "+(ve-1)*this.margin/ve+"px)":"calc("+100/ve+"% + 1px)")}getMaxIndex(){if(this.order===tt.Page){let ve=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?ve+=this.columns:ve+=this.images.length%this.getVisibleCount(),ve}return Math.ceil(this.images.length/this.rows)}getVisibleCount(){return this.columns*this.rows}getSafeStyle(ve){return this.sanitization.bypassSecurityTrustStyle(ve)}}return nt.\u0275fac=function(ve){return new(ve||nt)(i.rXU(t.up),i.rXU(i.aKT),i.rXU(re))},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(ve,Ne){1&ve&&i.bIt("mouseenter",function(){return Ne.onMouseEnter()})("mouseleave",function(){return Ne.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[i.OA$],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"click","href","target","ngClass"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"closeClick","icon","disabled","titleText"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevClick","nextClick","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon"]],template:function(ve,Ne){1&ve&&(i.j41(0,"div")(1,"div",0),i.DNE(2,Q,6,19,"a",1),i.k0s()(),i.DNE(3,ie,1,4,"ngx-gallery-arrows",2)),2&ve&&(i.ZvI("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",Ne.size,""),i.R7$(),i.xc7("transform","translateX("+Ne.thumbnailsLeft+")")("margin-left",Ne.thumbnailsMarginLeft),i.R7$(),i.Y8G("ngForOf",Ne.getImages()),i.R7$(),i.Y8G("ngIf",Ne.canShowArrows()))},dependencies:[Ee,Ce,l.Sq,l.YU,l.bT],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translate(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:center;background-repeat:no-repeat;text-decoration:none;border:1px double black}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\\f144";display:block;position:absolute;background:#0000;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0px 4px 3px rgba(0,0,0,.4),0px 8px 13px rgba(0,0,0,.1),0px 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail.ngx-gallery-active[_ngcontent-%COMP%]{border:1px double #cc4548}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:#0006}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),nt})();class We{constructor(lt){this.icon=lt.icon,this.disabled=!!lt.disabled&&lt.disabled,this.titleText=lt.titleText?lt.titleText:"",this.onClick=lt.onClick}}let dt=(()=>{class nt{}return nt.ThumbnailsTop="thumbnails-top",nt.ThumbnailsBottom="thumbnails-bottom",nt})(),it=(()=>{class nt{}return nt.Cover="cover",nt.Contain="contain",nt})();class Ge{constructor(lt){const ve=void 0!==lt.breakpoint;function Ne(ut,cn){return lt&&(void 0!==ut||ve)?ut:cn}this.breakpoint=Ne(lt.breakpoint,void 0),this.width=Ne(lt.width,"500px"),this.height=Ne(lt.height,"400px"),this.fullWidth=Ne(lt.fullWidth,!1),this.layout=Ne(lt.layout,dt.ThumbnailsBottom),this.startIndex=Ne(lt.startIndex,0),this.linkTarget=Ne(lt.linkTarget,"_blank"),this.lazyLoading=Ne(lt.lazyLoading,!0),this.image=Ne(lt.image,!0),this.imagePercent=Ne(lt.imagePercent,75),this.imageArrows=Ne(lt.imageArrows,!0),this.imageArrowsAutoHide=Ne(lt.imageArrowsAutoHide,!1),this.imageSwipe=Ne(lt.imageSwipe,!1),this.imageAnimation=Ne(lt.imageAnimation,ye.Fade),this.imageSize=Ne(lt.imageSize,it.Cover),this.imageAutoPlay=Ne(lt.imageAutoPlay,!1),this.imageAutoPlayInterval=Ne(lt.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=Ne(lt.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=Ne(lt.imageInfinityMove,!1),lt&&lt.imageActions&&lt.imageActions.length&&(lt.imageActions=lt.imageActions.map(ut=>new We(ut))),this.imageActions=Ne(lt.imageActions,[]),this.imageDescription=Ne(lt.imageDescription,!1),this.imageBullets=Ne(lt.imageBullets,!1),this.thumbnails=Ne(lt.thumbnails,!0),this.thumbnailsColumns=Ne(lt.thumbnailsColumns,4),this.thumbnailsRows=Ne(lt.thumbnailsRows,1),this.thumbnailsPercent=Ne(lt.thumbnailsPercent,25),this.thumbnailsMargin=Ne(lt.thumbnailsMargin,10),this.thumbnailsArrows=Ne(lt.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=Ne(lt.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=Ne(lt.thumbnailsSwipe,!1),this.thumbnailsMoveSize=Ne(lt.thumbnailsMoveSize,1),this.thumbnailsOrder=Ne(lt.thumbnailsOrder,tt.Column),this.thumbnailsRemainingCount=Ne(lt.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=Ne(lt.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=Ne(lt.thumbnailsAutoHide,!1),this.thumbnailMargin=Ne(lt.thumbnailMargin,10),this.thumbnailSize=Ne(lt.thumbnailSize,it.Cover),lt&&lt.thumbnailActions&&lt.thumbnailActions.length&&(lt.thumbnailActions=lt.thumbnailActions.map(ut=>new We(ut))),this.thumbnailActions=Ne(lt.thumbnailActions,[]),this.thumbnailClasses=Ne(lt.thumbnailClasses,[]),this.preview=Ne(lt.preview,!0),this.previewDescription=Ne(lt.previewDescription,!0),this.previewArrows=Ne(lt.previewArrows,!0),this.previewArrowsAutoHide=Ne(lt.previewArrowsAutoHide,!1),this.previewSwipe=Ne(lt.previewSwipe,!1),this.previewFullscreen=Ne(lt.previewFullscreen,!1),this.previewForceFullscreen=Ne(lt.previewForceFullscreen,!1),this.previewCloseOnClick=Ne(lt.previewCloseOnClick,!1),this.previewCloseOnEsc=Ne(lt.previewCloseOnEsc,!1),this.previewKeyboardNavigation=Ne(lt.previewKeyboardNavigation,!1),this.previewAnimation=Ne(lt.previewAnimation,!0),this.previewAutoPlay=Ne(lt.previewAutoPlay,!1),this.previewAutoPlayInterval=Ne(lt.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=Ne(lt.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=Ne(lt.previewInfinityMove,!1),this.previewZoom=Ne(lt.previewZoom,!1),this.previewZoomStep=Ne(lt.previewZoomStep,.1),this.previewZoomMax=Ne(lt.previewZoomMax,2),this.previewZoomMin=Ne(lt.previewZoomMin,.5),this.previewRotate=Ne(lt.previewRotate,!1),this.previewDownload=Ne(lt.previewDownload,!1),this.previewCustom=Ne(lt.previewCustom,void 0),this.previewBullets=Ne(lt.previewBullets,!1),this.arrowPrevIcon=Ne(lt.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=Ne(lt.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=Ne(lt.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=Ne(lt.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=Ne(lt.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=Ne(lt.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=Ne(lt.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=Ne(lt.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=Ne(lt.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=Ne(lt.downloadIcon,"fa fa-arrow-circle-down"),lt&&lt.actions&&lt.actions.length&&(lt.actions=lt.actions.map(ut=>new We(ut))),this.actions=Ne(lt.actions,[])}}class gt{constructor(lt){this.src=lt.src,this.type=lt.type,this.index=lt.index}}let Pe=(()=>{class nt{constructor(ve,Ne){this.myElement=ve,this.helperService=Ne,this.options=[{}],this.imagesReady=new i.bkB,this.change=new i.bkB,this.previewOpen=new i.bkB,this.previewClose=new i.bkB,this.previewChange=new i.bkB,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}ngOnInit(){this.options=this.options.map(ve=>new Ge(ve)),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}ngDoCheck(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}ngAfterViewInit(){this.checkFullWidth()}onResize(){this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(()=>{this.checkFullWidth()},200))}getImageHeight(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}getThumbnailsHeight(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}getThumbnailsMarginTop(){return this.currentOptions&&this.currentOptions.layout===dt.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}getThumbnailsMarginBottom(){return this.currentOptions&&this.currentOptions.layout===dt.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}openPreview(ve){this.currentOptions.previewCustom?this.currentOptions.previewCustom(ve):(this.previewEnabled=!0,this.preview.open(ve))}onPreviewOpen(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}onPreviewClose(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}selectFromImage(ve){this.select(ve)}selectFromThumbnails(ve){this.select(ve),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}show(ve){this.select(ve)}showNext(){this.image.showNext()}showPrev(){this.image.showPrev()}canShowNext(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}canShowPrev(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}previewSelect(ve){this.previewChange.emit({index:ve,image:this.images[ve]})}moveThumbnailsRight(){this.thumbnails.moveRight()}moveThumbnailsLeft(){this.thumbnails.moveLeft()}canMoveThumbnailsRight(){return this.thumbnails.canMoveRight()}canMoveThumbnailsLeft(){return this.thumbnails.canMoveLeft()}resetThumbnails(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}select(ve){this.selectedIndex=ve,this.change.emit({index:ve,image:this.images[ve]})}checkFullWidth(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}setImages(){this.images.forEach(ve=>ve.type=this.helperService.getFileType(ve.url||ve.big||ve.medium||ve.small||"")),this.smallImages=this.images.map(ve=>ve.small),this.mediumImages=this.images.map((ve,Ne)=>new gt({src:ve.medium,type:ve.type,index:Ne})),this.bigImages=this.images.map(ve=>ve.big),this.descriptions=this.images.map(ve=>ve.description),this.links=this.images.map(ve=>ve.url),this.labels=this.images.map(ve=>ve.label)}setBreakpoint(){let ve;this.prevBreakpoint=this.breakpoint,typeof window<"u"&&(ve=this.options.filter(Ne=>Ne.breakpoint>=window.innerWidth).map(Ne=>Ne.breakpoint)),this.breakpoint=ve&&ve.length?ve.pop():void 0}sortOptions(){this.options=[...this.options.filter(ve=>void 0===ve.breakpoint),...this.options.filter(ve=>void 0!==ve.breakpoint).sort((ve,Ne)=>Ne.breakpoint-ve.breakpoint)]}setOptions(){this.currentOptions=new Ge({}),this.options.filter(ve=>void 0===ve.breakpoint||ve.breakpoint>=this.breakpoint).map(ve=>this.combineOptions(this.currentOptions,ve)),this.width=this.currentOptions.width,this.height=this.currentOptions.height}combineOptions(ve,Ne){Object.keys(Ne).map(ut=>ve[ut]=void 0!==Ne[ut]?Ne[ut]:ve[ut])}setAnimating(ve){this.isAnimating=ve}}return nt.\u0275fac=function(ve){return new(ve||nt)(i.rXU(i.aKT),i.rXU(re))},nt.\u0275cmp=i.VBU({type:nt,selectors:[["ngx-gallery"]],viewQuery:function(ve,Ne){if(1&ve&&(i.GBs(ae,5),i.GBs(De,5),i.GBs(_t,5)),2&ve){let ut;i.mGM(ut=i.lsd())&&(Ne.preview=ut.first),i.mGM(ut=i.lsd())&&(Ne.image=ut.first),i.mGM(ut=i.lsd())&&(Ne.thumbnails=ut.first)}},hostVars:6,hostBindings:function(ve,Ne){1&ve&&i.bIt("resize",function(){return Ne.onResize()},!1,i.tSv),2&ve&&i.xc7("width",Ne.width)("height",Ne.height)("transform",Ne.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[i.Jv_([re])],decls:4,vars:41,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"previewClose","previewOpen","activeChange","images","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets"],[3,"imageClick","activeChange","animating","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets"],[3,"activeChange","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass"]],template:function(ve,Ne){1&ve&&(i.j41(0,"div"),i.DNE(1,pe,1,21,"ngx-gallery-image",0)(2,ne,1,29,"ngx-gallery-thumbnails",1),i.j41(3,"ngx-gallery-preview",2),i.bIt("previewClose",function(){return Ne.onPreviewClose()})("previewOpen",function(){return Ne.onPreviewOpen()})("activeChange",function(cn){return Ne.previewSelect(cn)}),i.k0s()()),2&ve&&(i.ZvI("ngx-gallery-layout ",null==Ne.currentOptions?null:Ne.currentOptions.layout,""),i.R7$(),i.Y8G("ngIf",null==Ne.currentOptions?null:Ne.currentOptions.image),i.R7$(),i.Y8G("ngIf",null==Ne.currentOptions?null:Ne.currentOptions.thumbnails),i.R7$(),i.AVh("ngx-gallery-active",Ne.previewEnabled),i.Y8G("images",Ne.bigImages)("descriptions",Ne.descriptions)("showDescription",null==Ne.currentOptions?null:Ne.currentOptions.previewDescription)("arrowPrevIcon",null==Ne.currentOptions?null:Ne.currentOptions.arrowPrevIcon)("arrowNextIcon",null==Ne.currentOptions?null:Ne.currentOptions.arrowNextIcon)("closeIcon",null==Ne.currentOptions?null:Ne.currentOptions.closeIcon)("fullscreenIcon",null==Ne.currentOptions?null:Ne.currentOptions.fullscreenIcon)("spinnerIcon",null==Ne.currentOptions?null:Ne.currentOptions.spinnerIcon)("arrows",null==Ne.currentOptions?null:Ne.currentOptions.previewArrows)("arrowsAutoHide",null==Ne.currentOptions?null:Ne.currentOptions.previewArrowsAutoHide)("swipe",null==Ne.currentOptions?null:Ne.currentOptions.previewSwipe)("fullscreen",null==Ne.currentOptions?null:Ne.currentOptions.previewFullscreen)("forceFullscreen",null==Ne.currentOptions?null:Ne.currentOptions.previewForceFullscreen)("closeOnClick",null==Ne.currentOptions?null:Ne.currentOptions.previewCloseOnClick)("closeOnEsc",null==Ne.currentOptions?null:Ne.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==Ne.currentOptions?null:Ne.currentOptions.previewKeyboardNavigation)("animation",null==Ne.currentOptions?null:Ne.currentOptions.previewAnimation)("autoPlay",null==Ne.currentOptions?null:Ne.currentOptions.previewAutoPlay)("autoPlayInterval",null==Ne.currentOptions?null:Ne.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==Ne.currentOptions?null:Ne.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==Ne.currentOptions?null:Ne.currentOptions.previewInfinityMove)("zoom",null==Ne.currentOptions?null:Ne.currentOptions.previewZoom)("zoomStep",null==Ne.currentOptions?null:Ne.currentOptions.previewZoomStep)("zoomMax",null==Ne.currentOptions?null:Ne.currentOptions.previewZoomMax)("zoomMin",null==Ne.currentOptions?null:Ne.currentOptions.previewZoomMin)("zoomInIcon",null==Ne.currentOptions?null:Ne.currentOptions.zoomInIcon)("zoomOutIcon",null==Ne.currentOptions?null:Ne.currentOptions.zoomOutIcon)("actions",null==Ne.currentOptions?null:Ne.currentOptions.actions)("rotate",null==Ne.currentOptions?null:Ne.currentOptions.previewRotate)("rotateLeftIcon",null==Ne.currentOptions?null:Ne.currentOptions.rotateLeftIcon)("rotateRightIcon",null==Ne.currentOptions?null:Ne.currentOptions.rotateRightIcon)("download",null==Ne.currentOptions?null:Ne.currentOptions.previewDownload)("downloadIcon",null==Ne.currentOptions?null:Ne.currentOptions.downloadIcon)("bullets",null==Ne.currentOptions?null:Ne.currentOptions.previewBullets))},dependencies:[De,_t,ae,l.bT,l.YU],styles:[":host{display:inline-block}:host>*{float:left}.ngx-gallery-layout{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top ngx-gallery-image{order:2}.ngx-gallery-layout.thumbnails-top ngx-gallery-thumbnails{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-image{order:1}.ngx-gallery-layout.thumbnails-bottom ngx-gallery-thumbnails{order:2}*{box-sizing:border-box}.ngx-gallery-icon{color:#fff;position:absolute;display:inline-block}.ngx-gallery-icon .ngx-gallery-icon-content{display:block}ngx-gallery-preview{font-size:25px}ngx-gallery-preview .ngx-gallery-icon{z-index:2000}.ngx-gallery-clickable{cursor:pointer}.ngx-gallery-icons-wrapper .ngx-gallery-icon{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper{float:right}\n"],encapsulation:2,changeDetection:0}),nt})(),we=(()=>{class nt extends t.EZ{constructor(){super(...arguments),this.overrides={pinch:{enable:!1},rotate:{enable:!1}}}}return nt.\u0275fac=(()=>{let lt;return function(Ne){return(lt||(lt=i.xGo(nt)))(Ne||nt)}})(),nt.\u0275prov=i.jDH({token:nt,factory:nt.\u0275fac}),nt})(),vt=(()=>{class nt{}return nt.\u0275fac=function(ve){return new(ve||nt)},nt.\u0275mod=i.$C({type:nt}),nt.\u0275inj=i.G2t({providers:[{provide:t.kQ,useClass:we}],imports:[[l.MD]]}),nt})()},52149:(N,T,n)=>{"use strict";n.d(T,{W1:()=>Do,_f:()=>qe,Lw:()=>Te,so:()=>Dn,Ll:()=>Hi,b7:()=>Qn,$G:()=>ca,HC:()=>ke,yB:()=>pa,I5:()=>da,IQ:()=>Ji,tg:()=>qr,E5:()=>Lo,_H:()=>Fr,U0:()=>Ma,zH:()=>Il,do:()=>Ha,cw:()=>na,Bq:()=>le,LY:()=>_e,UN:()=>Wo,X9:()=>ds,Um:()=>On,sy:()=>Xn,Ri:()=>_i,Pv:()=>So,m_:()=>Ia,QE:()=>ti,s5:()=>$p,MI:()=>Dc,c9:()=>fd,CT:()=>To,t3:()=>Yo,Xc:()=>Or,sb:()=>_o,px:()=>Cs,M0:()=>$s,hC:()=>ao,Ny:()=>ws,Pe:()=>Hv,Ng:()=>mi,tJ:()=>mh,md:()=>Sn,n8:()=>bi,$n:()=>_h,h_:()=>Jp});var i=n(54438),t=n(60177),l=n(71985),e=n(983),f=n(7673),m=n(21413),p=n(33726),_=n(41584),v=n(1033),y=n(84412),O=(n(84572),n(85343));new l.c(O.l);var R=n(44437),h=n(57786),w=n(92688),P=n(56977),M=n(5964),L=n(96697),B=n(96354),U=n(99172),$=n(23294),j=n(25558),G=n(88141),z=n(53993),V=n(35335),X=n(73028),J=n(65245),q=n(97647),Z=n(89417);const H=(k,de)=>({$implicit:k,opened:de});function Y(k,de){}function Q(k,de){if(1&k&&(i.j41(0,"button",3),i.EFF(1),i.DNE(2,Y,0,0,"ng-template",4),i.k0s()),2&k){const A=de.$implicit;i.Y8G("ngbPanelToggle",A),i.R7$(),i.SpI(" ",A.title,""),i.R7$(),i.Y8G("ngTemplateOutlet",null==A.titleTpl?null:A.titleTpl.templateRef)}}function ie(k,de){}function oe(k,de){}function pe(k,de){if(1&k){const A=i.RV6();i.j41(0,"div",8),i.bIt("ngbRef",function(be){i.eBV(A);const Fe=i.XpG().$implicit;return i.Njj(Fe.panelDiv=be)}),i.j41(1,"div",9),i.DNE(2,oe,0,0,"ng-template",4),i.k0s()()}if(2&k){const A=i.XpG().$implicit;i.FS9("id",A.id),i.BMQ("aria-labelledby",A.id+"-header"),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)}}function ne(k,de){if(1&k&&(i.j41(0,"div")(1,"div",5),i.DNE(2,ie,0,0,"ng-template",6),i.k0s(),i.DNE(3,pe,3,3,"div",7),i.k0s()),2&k){const A=de.$implicit,W=i.XpG(),be=i.sdS(1);i.HbH("card "+(A.cardClass||"")),i.R7$(),i.HbH("card-header "+(A.type?"bg-"+A.type:W.type?"bg-"+W.type:"")),i.Mz_("id","",A.id,"-header"),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.headerTpl?null:A.headerTpl.templateRef)||be)("ngTemplateOutletContext",i.l_i(9,H,A,A.isOpen)),i.R7$(),i.Y8G("ngIf",!W.destroyOnHide||A.isOpen||A.transitionRunning)}}const re=["*"],tt=["ngbDatepickerDayView",""],_t=["month"],We=["year"];function dt(k,de){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=de.$implicit,W=i.XpG();i.Y8G("value",A),i.BMQ("aria-label",W.i18n.getMonthFullName(A,null==W.date?null:W.date.year)),i.R7$(),i.JRh(W.i18n.getMonthShortName(A,null==W.date?null:W.date.year))}}function it(k,de){if(1&k&&(i.j41(0,"option",5),i.EFF(1),i.k0s()),2&k){const A=de.$implicit,W=i.XpG();i.Y8G("value",A),i.R7$(),i.JRh(W.i18n.getYearNumerals(A))}}function Ge(k,de){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation-select",7),i.bIt("select",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.select.emit(be))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.date)("disabled",A.disabled)("months",A.selectBoxes.months)("years",A.selectBoxes.years)}}function gt(k,de){1&k&&i.nrm(0,"div",0)}function Pe(k,de){1&k&&i.nrm(0,"div",0)}function we(k,de){if(1&k&&(i.DNE(0,gt,1,0,"div",9),i.j41(1,"div",10),i.EFF(2),i.k0s(),i.DNE(3,Pe,1,0,"div",9)),2&k){const A=de.$implicit,W=de.index,be=i.XpG(2);i.Y8G("ngIf",W>0),i.R7$(2),i.SpI(" ",be.i18n.getMonthLabel(A.firstDate)," "),i.R7$(),i.Y8G("ngIf",W!==be.months.length-1)}}function vt(k,de){if(1&k&&i.DNE(0,we,4,3,"ng-template",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.months)}}const at=["defaultDayTemplate"],nt=["content"];function lt(k,de){if(1&k&&i.nrm(0,"div",7),2&k){const W=de.currentMonth,be=de.selected,Fe=de.disabled,Kt=de.focused;i.Y8G("date",de.date)("currentMonth",W)("selected",be)("disabled",Fe)("focused",Kt)}}function ve(k,de){if(1&k&&(i.j41(0,"div",12),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG(2);i.R7$(),i.SpI(" ",W.i18n.getMonthLabel(A.firstDate)," ")}}function Ne(k,de){if(1&k&&(i.j41(0,"div",9),i.DNE(1,ve,2,1,"div",10),i.nrm(2,"ngb-datepicker-month",11),i.k0s()),2&k){const A=de.$implicit,W=i.XpG(2);i.R7$(),i.Y8G("ngIf","none"===W.navigation||W.displayMonths>1&&"select"===W.navigation),i.R7$(),i.Y8G("month",A.firstDate)}}function ut(k,de){if(1&k&&i.DNE(0,Ne,3,2,"div",8),2&k){const A=i.XpG();i.Y8G("ngForOf",A.model.months)}}function cn(k,de){if(1&k){const A=i.RV6();i.j41(0,"ngb-datepicker-navigation",13),i.bIt("navigate",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.onNavigateEvent(be))})("select",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.onNavigateDateSelect(be))}),i.k0s()}if(2&k){const A=i.XpG();i.Y8G("date",A.model.firstDate)("months",A.model.months)("disabled",A.model.disabled)("showSelect","select"===A.model.navigation)("prevDisabled",A.model.prevDisabled)("nextDisabled",A.model.nextDisabled)("selectBoxes",A.model.selectBoxes)}}function nn(k,de){}function Mn(k,de){}function Tt(k,de){if(1&k&&(i.j41(0,"div",5),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2);i.R7$(),i.JRh(A.i18n.getWeekLabel())}}function $t(k,de){if(1&k&&(i.j41(0,"div",6),i.EFF(1),i.k0s()),2&k){const A=de.$implicit;i.R7$(),i.JRh(A)}}function St(k,de){if(1&k&&(i.j41(0,"div",2),i.DNE(1,Tt,2,1,"div",3)(2,$t,2,1,"div",4),i.k0s()),2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.viewModel.weekdays)}}function Jt(k,de){if(1&k&&(i.j41(0,"div",11),i.EFF(1),i.k0s()),2&k){const A=i.XpG(2).$implicit,W=i.XpG();i.R7$(),i.JRh(W.i18n.getWeekNumerals(A.number))}}function ln(k,de){}function It(k,de){if(1&k&&i.DNE(0,ln,0,0,"ng-template",14),2&k){const A=i.XpG().$implicit,W=i.XpG(3);i.Y8G("ngTemplateOutlet",W.datepicker.dayTemplate)("ngTemplateOutletContext",A.context)}}function zt(k,de){if(1&k){const A=i.RV6();i.j41(0,"div",12),i.bIt("click",function(be){const Fe=i.eBV(A).$implicit;return i.XpG(3).doSelect(Fe),i.Njj(be.preventDefault())}),i.DNE(1,It,1,2,"ng-template",13),i.k0s()}if(2&k){const A=de.$implicit;i.AVh("disabled",A.context.disabled)("hidden",A.hidden)("ngb-dp-today",A.context.today),i.Y8G("tabindex",A.tabindex),i.BMQ("aria-label",A.ariaLabel),i.R7$(),i.Y8G("ngIf",!A.hidden)}}function Ht(k,de){if(1&k&&(i.j41(0,"div",8),i.DNE(1,Jt,2,1,"div",9)(2,zt,2,9,"div",10),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.R7$(),i.Y8G("ngIf",W.datepicker.showWeekNumbers),i.R7$(),i.Y8G("ngForOf",A.days)}}function At(k,de){1&k&&i.DNE(0,Ht,3,2,"div",7),2&k&&i.Y8G("ngIf",!de.$implicit.collapsed)}const Ot=["dialog"],Zt=["ngbNavOutlet",""],Dt=k=>({$implicit:k});function Lt(k,de){}function st(k,de){if(1&k&&(i.j41(0,"div",2),i.DNE(1,Lt,0,0,"ng-template",3),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.Y8G("item",A)("nav",W.nav)("role",W.paneRole),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.contentTpl?null:A.contentTpl.templateRef)||null)("ngTemplateOutletContext",i.eq3(5,Dt,A.active||W.isPanelTransitioning(A)))}}function Le(k,de){if(1&k&&i.DNE(0,st,2,7,"div",1),2&k){const A=de.$implicit,W=i.XpG();i.Y8G("ngIf",A.isPanelInDom()||W.isPanelTransitioning(A))}}const je=(k,de,A)=>({$implicit:k,pages:de,disabled:A}),He=k=>({disabled:!0,currentPage:k}),Be=(k,de,A)=>({disabled:k,$implicit:de,currentPage:A}),Pt=(k,de)=>({disabled:k,currentPage:de}),Je=k=>({disabled:k});function Nt(k,de){1&k&&(i.j41(0,"span",13),i.pXf(1,7),i.k0s())}function Et(k,de){1&k&&(i.j41(0,"span",13),i.pXf(1,8),i.k0s())}function qt(k,de){1&k&&(i.j41(0,"span",13),i.pXf(1,9),i.k0s())}function fn(k,de){1&k&&(i.j41(0,"span",13),i.pXf(1,10),i.k0s())}function Cn(k,de){1&k&&i.EFF(0,"...")}function ns(k,de){1&k&&(i.j41(0,"span",15),i.EFF(1,"(current)"),i.k0s())}function hs(k,de){if(1&k&&(i.EFF(0),i.DNE(1,ns,2,0,"span",14)),2&k){const A=de.$implicit,W=de.currentPage;i.SpI(" ",A," "),i.R7$(),i.Y8G("ngIf",A===W)}}function Gs(k,de){}function yt(k,de){if(1&k&&(i.j41(0,"a",20),i.DNE(1,Gs,0,0,"ng-template",12),i.k0s()),2&k){const A=i.XpG(2).$implicit,W=i.XpG(),be=i.sdS(9);i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplEllipsis?null:W.tplEllipsis.templateRef)||be)("ngTemplateOutletContext",i.eq3(2,He,A))}}function ct(k,de){}function Xt(k,de){if(1&k){const A=i.RV6();i.j41(0,"a",21),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG().$implicit;return i.XpG(2).selectPage(Fe),i.Njj(be.preventDefault())}),i.DNE(1,ct,0,0,"ng-template",12),i.k0s()}if(2&k){const A=i.XpG().$implicit,W=i.XpG(),be=W.$implicit,Fe=W.disabled,Kt=i.XpG(),yn=i.sdS(11);i.BMQ("tabindex",Fe?"-1":null)("aria-disabled",Fe?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==Kt.tplNumber?null:Kt.tplNumber.templateRef)||yn)("ngTemplateOutletContext",i.sMw(4,Be,Fe,A,be))}}function Pn(k,de){if(1&k&&(i.j41(0,"li",17),i.DNE(1,yt,2,4,"a",18)(2,Xt,2,8,"a",19),i.k0s()),2&k){const A=de.$implicit,W=i.XpG(),be=W.$implicit,Fe=W.disabled,Kt=i.XpG();i.AVh("active",A===be)("disabled",Kt.isEllipsis(A)||Fe),i.BMQ("aria-current",A===be?"page":null),i.R7$(),i.Y8G("ngIf",Kt.isEllipsis(A)),i.R7$(),i.Y8G("ngIf",!Kt.isEllipsis(A))}}function kn(k,de){1&k&&i.DNE(0,Pn,3,7,"li",16),2&k&&i.Y8G("ngForOf",de.pages)}function rs(k,de){}function as(k,de){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",22),i.bIt("click",function(be){return i.eBV(A),i.XpG().selectPage(1),i.Njj(be.preventDefault())}),i.DNE(2,rs,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(1);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplFirst?null:A.tplFirst.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Pt,A.previousDisabled(),A.page))}}function Qs(k,de){}function gs(k,de){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",23),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.page-1),i.Njj(be.preventDefault())}),i.DNE(2,Qs,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(3);i.AVh("disabled",A.previousDisabled()),i.R7$(),i.BMQ("tabindex",A.previousDisabled()?"-1":null)("aria-disabled",A.previousDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplPrevious?null:A.tplPrevious.templateRef)||W)("ngTemplateOutletContext",i.eq3(6,Je,A.previousDisabled()))}}function Is(k,de){}function os(k,de){}function rn(k,de){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",24),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.page+1),i.Njj(be.preventDefault())}),i.DNE(2,os,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(5);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplNext?null:A.tplNext.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Pt,A.nextDisabled(),A.page))}}function pn(k,de){}function Zn(k,de){if(1&k){const A=i.RV6();i.j41(0,"li",17)(1,"a",25),i.bIt("click",function(be){i.eBV(A);const Fe=i.XpG();return Fe.selectPage(Fe.pageCount),i.Njj(be.preventDefault())}),i.DNE(2,pn,0,0,"ng-template",12),i.k0s()()}if(2&k){const A=i.XpG(),W=i.sdS(7);i.AVh("disabled",A.nextDisabled()),i.R7$(),i.BMQ("tabindex",A.nextDisabled()?"-1":null)("aria-disabled",A.nextDisabled()?"true":null),i.R7$(),i.Y8G("ngTemplateOutlet",(null==A.tplLast?null:A.tplLast.templateRef)||W)("ngTemplateOutletContext",i.l_i(6,Pt,A.nextDisabled(),A.page))}}function $e(k,de){1&k&&i.EFF(0),2&k&&i.JRh(100===de.fill?"\u2605":"\u2606")}function en(k,de){}function rt(k,de){if(1&k){const A=i.RV6();i.j41(0,"span",2),i.EFF(1),i.k0s(),i.j41(2,"span",3),i.bIt("mouseenter",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.enter(be+1))})("click",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.handleClick(be+1))}),i.DNE(3,en,0,0,"ng-template",4),i.k0s()}if(2&k){const A=de.index,W=i.XpG(),be=i.sdS(1);i.R7$(),i.SpI("(",A<W.nextRate?"*":" ",")"),i.R7$(),i.xc7("cursor",W.isInteractive()?"pointer":"default"),i.R7$(),i.Y8G("ngTemplateOutlet",W.starTemplate||W.starTemplateFromContent||be)("ngTemplateOutletContext",W.contexts[A])}}function ht(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeHour(be.hourStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,1),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function Ct(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeHour(-be.hourStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,2),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function kt(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeMinute(be.minuteStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,3),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function sn(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.changeMinute(-be.minuteStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,4),i.k0s()()}if(2&k){const A=i.XpG();i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function Tn(k,de){1&k&&(i.j41(0,"div",14),i.EFF(1,":"),i.k0s())}function Vn(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG(2);return i.Njj(be.changeSecond(be.secondStep))}),i.nrm(1,"span",21),i.j41(2,"span",22),i.pXf(3,5),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function Ln(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(A);const be=i.XpG(2);return i.Njj(be.changeSecond(-be.secondStep))}),i.nrm(1,"span",23),i.j41(2,"span",22),i.pXf(3,6),i.k0s()()}if(2&k){const A=i.XpG(2);i.AVh("btn-sm",A.isSmallSize)("btn-lg",A.isLargeSize)("disabled",A.disabled),i.Y8G("disabled",A.disabled)}}function ms(k,de){if(1&k){const A=i.RV6();i.j41(0,"div",24),i.DNE(1,Vn,4,7,"button",12),i.j41(2,"input",25),i.bIt("change",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.updateSecond(be.target.value))})("blur",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.handleBlur())})("input",function(be){i.eBV(A);const Fe=i.XpG();return i.Njj(Fe.formatInput(be.target))})("keydown.ArrowUp",function(be){i.eBV(A);const Fe=i.XpG();return Fe.changeSecond(Fe.secondStep),i.Njj(be.preventDefault())})("keydown.ArrowDown",function(be){i.eBV(A);const Fe=i.XpG();return Fe.changeSecond(-Fe.secondStep),i.Njj(be.preventDefault())}),i.k0s(),i.DNE(3,Ln,4,7,"button",12),i.k0s()}if(2&k){const A=i.XpG();i.R7$(),i.Y8G("ngIf",A.spinners),i.R7$(),i.AVh("form-control-sm",A.isSmallSize)("form-control-lg",A.isLargeSize),i.Y8G("value",A.formatMinSec(null==A.model?null:A.model.second))("readOnly",A.readonlyInputs)("disabled",A.disabled),i.R7$(),i.Y8G("ngIf",A.spinners)}}function Os(k,de){1&k&&i.nrm(0,"div",14)}function ys(k,de){if(1&k&&(i.qex(0),i.pXf(1,7),i.bVm()),2&k){const A=i.XpG(2);i.R7$(),i.uP7(A.i18n.getAfternoonPeriod()),i.nnv(1)}}function ls(k,de){if(1&k&&i.pXf(0,8),2&k){const A=i.XpG(2);i.uP7(A.i18n.getMorningPeriod()),i.nnv(0)}}function Ds(k,de){if(1&k){const A=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(A);const be=i.XpG();return i.Njj(be.toggleMeridian())}),i.DNE(2,ys,2,1,"ng-container",28)(3,ls,1,1,"ng-template",null,0,i.C5r),i.k0s()()}if(2&k){const A=i.sdS(4),W=i.XpG();i.R7$(),i.AVh("btn-sm",W.isSmallSize)("btn-lg",W.isLargeSize)("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.model&&W.model.hour>=12)("ngIfElse",A)}}function Ni(k,de){if(1&k&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&k){const A=i.XpG().$implicit,W=i.XpG();i.HbH(W.highlightClass),i.R7$(),i.JRh(A)}}function Ar(k,de){if(1&k&&i.EFF(0),2&k){const A=i.XpG().$implicit;i.JRh(A)}}function Zi(k,de){if(1&k&&i.DNE(0,Ni,2,3,"span",2)(1,Ar,1,1,"ng-template",null,0,i.C5r),2&k){const A=de.odd,W=i.sdS(2);i.Y8G("ngIf",A)("ngIfElse",W)}}const Ms=(k,de,A)=>({result:k,term:de,formatter:A});function Ys(k,de){if(1&k&&i.nrm(0,"ngb-highlight",2),2&k){const W=de.term;i.Y8G("result",(0,de.formatter)(de.result))("term",W)}}function $i(k,de){}function po(k,de){if(1&k){const A=i.RV6();i.j41(0,"button",3),i.bIt("mouseenter",function(){const be=i.eBV(A).index,Fe=i.XpG();return i.Njj(Fe.markActive(be))})("click",function(){const be=i.eBV(A).$implicit,Fe=i.XpG();return i.Njj(Fe.select(be))}),i.DNE(1,$i,0,0,"ng-template",4),i.k0s()}if(2&k){const A=de.$implicit,W=de.index,be=i.XpG(),Fe=i.sdS(1);i.AVh("active",W===be.activeIdx),i.Y8G("id",be.id+"-"+W),i.R7$(),i.Y8G("ngTemplateOutlet",be.resultTemplate||Fe)("ngTemplateOutletContext",i.sMw(5,Ms,A,be.term,be.formatter))}}function Ti(k){return parseInt(`${k}`,10)}function Bt(k){return null!=k?`${k}`:""}function gn(k,de,A=0){return Math.max(Math.min(k,de),A)}function tn(k){return"string"==typeof k}function Wt(k){return!isNaN(Ti(k))}function bn(k){return"number"==typeof k&&isFinite(k)&&Math.floor(k)===k}function $n(k){return null!=k}function li(k){return Wt(k)?`0${k}`.slice(-2):""}function ar(k,de){return k&&k.className&&k.className.split&&k.className.split(/\s+/).indexOf(de)>=0}function Fi(k){return(k||document.body).getBoundingClientRect()}function io(k){return k.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}typeof Element<"u"&&!Element.prototype.closest&&(Element.prototype.closest=function(k){let de=this;if(!document.documentElement.contains(de))return null;do{if(de.matches(k))return de;de=de.parentElement||de.parentNode}while(null!==de&&1===de.nodeType);return null});const wo={animation:!0,transitionTimerDelayMs:5},mo=()=>{},{transitionTimerDelayMs:kr}=wo,go=new Map,wi=(k,de,A,W)=>{let be=W.context||{};const Fe=go.get(de);if(Fe)switch(W.runningTransition){case"continue":return e.w;case"stop":k.run(()=>Fe.transition$.complete()),be=Object.assign(Fe.context,be),go.delete(de)}const Kt=A(de,W.animation,be)||mo;if(!W.animation||"none"===window.getComputedStyle(de).transitionProperty)return k.run(()=>Kt()),(0,f.of)(void 0).pipe(function fo(k){return de=>new l.c(A=>de.subscribe({next:Kt=>k.run(()=>A.next(Kt)),error:Kt=>k.run(()=>A.error(Kt)),complete:()=>k.run(()=>A.complete())}))}(k));const yn=new m.B,An=new m.B,Un=yn.pipe(function b(...k){return de=>(0,w.x)(de,(0,f.of)(...k))}(!0));go.set(de,{transition$:yn,complete:()=>{An.next(),An.complete()},context:be});const is=function wr(k){const{transitionDelay:de,transitionDuration:A}=window.getComputedStyle(k);return 1e3*(parseFloat(de)+parseFloat(A))}(de);return k.runOutsideAngular(()=>{const Ls=(0,p.R)(de,"transitionend").pipe((0,P.Q)(Un),(0,M.p)(({target:Ws})=>Ws===de)),us=(0,_.O)(is+kr).pipe((0,P.Q)(Un));(0,v.O)(us,Ls,An).pipe((0,P.Q)(Un)).subscribe(()=>{go.delete(de),k.run(()=>{Kt(),yn.next(),yn.complete()})})}),yn.asObservable()},Xr=(k,de,A)=>{let{direction:W,maxHeight:be}=A;const{classList:Fe}=k;function Kt(){Fe.add("collapse"),"show"===W?Fe.add("show"):Fe.remove("show")}if(de)return be||(be=function lr(k){if(typeof navigator>"u")return"0px";const{classList:de}=k,A=de.contains("show");A||de.add("show"),k.style.height="";const W=k.getBoundingClientRect().height+"px";return A||de.remove("show"),W}(k),A.maxHeight=be,k.style.height="show"!==W?be:"0px",Fe.remove("collapse"),Fe.remove("collapsing"),Fe.remove("show"),Fi(k),Fe.add("collapsing")),k.style.height="show"===W?be:"0px",()=>{Kt(),Fe.remove("collapsing"),k.style.height=""};Kt()};let Fs=(()=>{class k{constructor(){this.animation=wo.animation}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ro=(()=>{class k{constructor(A){this._ngbConfig=A,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Fs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Uo=0,Or=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelHeader",""]]}),k})(),_o=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelTitle",""]]}),k})(),Yo=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPanelContent",""]]}),k})(),To=(()=>{class k{constructor(){this.disabled=!1,this.id="ngb-panel-"+Uo++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new i.bkB,this.hidden=new i.bkB}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["ngb-panel"]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,_o,4),i.wni(be,Or,4),i.wni(be,Yo,4)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.titleTpls=Fe),i.mGM(Fe=i.lsd())&&(W.headerTpls=Fe),i.mGM(Fe=i.lsd())&&(W.contentTpls=Fe)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),k})(),Jr=(()=>{class k{constructor(A){this._El=A,this.ngbRef=new i.bkB}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"}}),k})(),Do=(()=>{class k{constructor(A,W,be){this._ngZone=W,this._changeDetector=be,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=A.animation,this.type=A.type,this.closeOtherPanels=A.closeOthers}isExpanded(A){return this.activeIds.indexOf(A)>-1}expand(A){this._changeOpenState(this._findPanelById(A),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(A=>this._changeOpenState(A,!0))}collapse(A){this._changeOpenState(this._findPanelById(A),!1)}collapseAll(){this.panels.forEach(A=>{this._changeOpenState(A,!1)})}toggle(A){const W=this._findPanelById(A);W&&this._changeOpenState(W,!W.isOpen)}ngAfterContentChecked(){tn(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(A=>{A.isOpen=!A.disabled&&this.activeIds.indexOf(A.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this.panels.forEach(A=>{const W=A.panelDiv;W?A.initClassDone||(A.initClassDone=!0,wi(this._ngZone,W,Xr,{animation:!1,runningTransition:"continue",context:{direction:A.isOpen?"show":"hide"}})):A.initClassDone=!1})})}_changeOpenState(A,W){if(null!=A&&!A.disabled&&A.isOpen!==W){let be=!1;this.panelChange.emit({panelId:A.id,nextState:W,preventDefault:()=>{be=!0}}),be||(A.isOpen=W,A.transitionRunning=!0,W&&this.closeOtherPanels&&this._closeOthers(A.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(A,W=!0){this.panels.forEach(be=>{be.id!==A&&be.isOpen&&(be.isOpen=!1,be.transitionRunning=W)})}_findPanelById(A){return this.panels.find(W=>W.id===A)||null}_updateActiveIds(){this.activeIds=this.panels.filter(A=>A.isOpen&&!A.disabled).map(A=>A.id)}_runTransitions(A){this._changeDetector.detectChanges(),this.panels.forEach(W=>{W.transitionRunning&&wi(this._ngZone,W.panelDiv,Xr,{animation:A,runningTransition:"stop",context:{direction:W.isOpen?"show":"hide"}}).subscribe(()=>{W.transitionRunning=!1;const{id:Fe}=W;W.isOpen?(W.shown.emit(),this.shown.emit(Fe)):(W.hidden.emit(),this.hidden.emit(Fe))})})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(ro),i.rXU(i.SKi),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-accordion"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,To,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.panels=Fe)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(A,W){2&A&&i.BMQ("aria-multiselectable",!W.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:[i.Mj6.None,"closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["t",""],["ngbPanelHeader",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"ngbRef","id"],[1,"card-body"]],template:function(A,W){1&A&&i.DNE(0,Q,3,3,"ng-template",1,0,i.C5r)(2,ne,4,12,"ng-template",2),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.panels))},dependencies:()=>[Or,Xo,t.T3,t.Sq,t.bT,Jr],encapsulation:2}),k})(),Xo=(()=>{class k{constructor(A,W){this.accordion=A,this.panel=W}set ngbPanelToggle(A){A&&(this.panel=A)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Do),i.rXU(To,9))},k.\u0275dir=i.FsC({type:k,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("click",function(){return W.accordion.toggle(W.panel.id)}),2&A&&(i.Mr5("disabled",W.panel.disabled),i.BMQ("aria-expanded",W.panel.isOpen)("aria-controls",W.panel.id),i.AVh("collapsed",!W.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),k})(),qe=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Ut=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Dn=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButtonLabel",""]],hostVars:8,hostBindings:function(A,W){2&A&&i.AVh("btn",!0)("active",W.active)("disabled",W.disabled)("focus",W.focused)}}),k})(),Qn=(()=>{class k{constructor(A,W){this._label=A,this._cd=W,this.disabled=!1,this.valueChecked=!0,this.valueUnChecked=!1,this.onChange=be=>{},this.onTouched=()=>{}}set focused(A){this._label.focused=A,A||this.onTouched()}onInputChange(A){const W=A.target.checked?this.valueChecked:this.valueUnChecked;this.onChange(W),this.onTouched(),this.writeValue(W)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A,this._label.disabled=A}writeValue(A){this.checked=A===this.valueChecked,this._label.active=this.checked,this._cd.markForCheck()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Dn),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","checkbox"]],hostVars:2,hostBindings:function(A,W){1&A&&i.bIt("change",function(Fe){return W.onInputChange(Fe)})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&A&&i.Mr5("checked",W.checked)("disabled",W.disabled)},inputs:{disabled:"disabled",valueChecked:"valueChecked",valueUnChecked:"valueUnChecked"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Es=0,$s=(()=>{class k{constructor(){this._radios=new Set,this._value=null,this.name="ngb-radio-"+Es++,this.onChange=A=>{},this.onTouched=()=>{}}get disabled(){return this._disabled}set disabled(A){this.setDisabledState(A)}onRadioChange(A){this.writeValue(A.value),this.onChange(A.value)}onRadioValueUpdate(){this._updateRadiosValue()}register(A){this._radios.add(A)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._disabled=A,this._updateRadiosDisabled()}unregister(A){this._radios.delete(A)}writeValue(A){this._value=A,this._updateRadiosValue()}_updateRadiosValue(){this._radios.forEach(A=>A.updateValue(this._value))}_updateRadiosDisabled(){this._radios.forEach(A=>A.updateDisabled())}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbRadioGroup",""]],hostAttrs:["role","radiogroup"],inputs:{name:"name"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}])]}),k})(),Cs=(()=>{class k{constructor(A,W,be,Fe,Kt){this._group=A,this._label=W,this._renderer=be,this._element=Fe,this._cd=Kt,this._value=null,this._group.register(this),this.updateDisabled()}set value(A){this._value=A;const W=A?A.toString():"";this._renderer.setProperty(this._element.nativeElement,"value",W),this._group.onRadioValueUpdate()}set disabled(A){this._disabled=!1!==A,this.updateDisabled()}set focused(A){this._label&&(this._label.focused=A),A||this._group.onTouched()}get checked(){return this._checked}get disabled(){return this._group.disabled||this._disabled}get value(){return this._value}get nameAttr(){return this.name||this._group.name}ngOnDestroy(){this._group.unregister(this)}onChange(){this._group.onRadioChange(this)}updateValue(A){this.value!==A&&this._cd.markForCheck(),this._checked=this.value===A,this._label.active=this._checked}updateDisabled(){this._label.disabled=this.disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU($s),i.rXU(Dn),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbButton","","type","radio"]],hostVars:3,hostBindings:function(A,W){1&A&&i.bIt("change",function(){return W.onChange()})("focus",function(){return W.focused=!0})("blur",function(){return W.focused=!1}),2&A&&i.Mr5("checked",W.checked)("disabled",W.disabled)("name",W.nameAttr)},inputs:{name:"name",value:"value",disabled:"disabled"}}),k})(),Hi=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),fr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Gr=(()=>{class k{constructor(A){this._ngbConfig=A}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Fs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ca=(()=>{class k{constructor(A,W,be){this._element=A,this._zone=be,this.collapsed=!1,this.ngbCollapseChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.animation=W.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:A}){A.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(A=this.collapsed){this.collapsed=!A,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(A,W){return wi(this._zone,this._element.nativeElement,Xr,{animation:W,runningTransition:"stop",context:{direction:A?"hide":"show"}})}_runTransitionWithEvents(A,W){this._runTransition(A,W).subscribe(()=>{A?this.hidden.emit():this.shown.emit()})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(Gr),i.rXU(i.SKi))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:[i.Mj6.None,"ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[i.OA$]}),k})(),ke=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class ze{constructor(de,A,W){this.year=bn(de)?de:null,this.month=bn(A)?A:null,this.day=bn(W)?W:null}static from(de){return de instanceof ze?de:de?new ze(de.year,de.month,de.day):null}equals(de){return null!=de&&this.year===de.year&&this.month===de.month&&this.day===de.day}before(de){return!!de&&(this.year===de.year?this.month===de.month?this.day!==de.day&&this.day<de.day:this.month<de.month:this.year<de.year)}after(de){return!!de&&(this.year===de.year?this.month===de.month?this.day!==de.day&&this.day>de.day:this.month>de.month:this.year>de.year)}}function se(k,de){return!function me(k,de){return!k&&!de||!!k&&!!de&&k.equals(de)}(k,de)}function Ve(k,de){return!(!k&&!de||k&&de&&k.year===de.year&&k.month===de.month)}function Yt(k,de,A){return k&&de&&k.before(de)?de:k&&A&&k.after(A)?A:k||null}function En(k,de){const{minDate:A,maxDate:W,disabled:be,markDisabled:Fe}=de;return!(null==k||be||Fe&&Fe(k,{year:k.year,month:k.month})||A&&k.before(A)||W&&k.after(W))}function Qo(k){return new ze(k.getFullYear(),k.getMonth()+1,k.getDate())}function xo(k){const de=new Date(k.year,k.month-1,k.day,12);return isNaN(de.getTime())||de.setFullYear(k.year),de}let Mo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Oo(){return new sl}(),providedIn:"root"}),k})(),sl=(()=>{class k extends Mo{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(A,W="d",be=1){let Fe=xo(A),Kt=!0,yn=Fe.getMonth();switch(W){case"y":Fe.setFullYear(Fe.getFullYear()+be);break;case"m":yn+=be,Fe.setMonth(yn),yn%=12,yn<0&&(yn+=12);break;case"d":Fe.setDate(Fe.getDate()+be),Kt=!1;break;default:return A}return Kt&&Fe.getMonth()!==yn&&Fe.setDate(0),Qo(Fe)}getPrev(A,W="d",be=1){return this.getNext(A,W,-be)}getWeekday(A){let be=xo(A).getDay();return 0===be?7:be}getWeekNumber(A,W){7===W&&(W=0);const Kt=xo(A[(11-W)%7]);Kt.setDate(Kt.getDate()+4-(Kt.getDay()||7));const yn=Kt.getTime();return Kt.setMonth(0),Kt.setDate(1),Math.floor(Math.round((yn-Kt.getTime())/864e5)/7)+1}getToday(){return Qo(new Date)}isValid(A){if(!(A&&bn(A.year)&&bn(A.month)&&bn(A.day)&&0!==A.year))return!1;const W=xo(A);return!isNaN(W.getTime())&&W.getFullYear()===A.year&&W.getMonth()+1===A.month&&W.getDate()===A.day}}return k.\u0275fac=(()=>{let de;return function(W){return(de||(de=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),jo=(()=>{class k{getMonthLabel(A){return`${this.getMonthFullName(A.month,A.year)} ${this.getYearNumerals(A.year)}`}getDayNumerals(A){return`${A.day}`}getWeekNumerals(A){return`${A}`}getYearNumerals(A){return`${A}`}getWeekLabel(){return""}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let W=null;return W=A?new A:function Wl(k){return new Ba(k)}(i.KVO(i.xe9)),W},providedIn:"root"}),k})(),Ba=(()=>{class k extends jo{constructor(A){super(),this._locale=A,this._monthsShort=(0,t.tL)(A,t.oV.Standalone,t.cH.Abbreviated),this._monthsFull=(0,t.tL)(A,t.oV.Standalone,t.cH.Wide)}getWeekdayLabel(A,W){const be=(0,t.XO)(this._locale,t.oV.Standalone,void 0===W?t.cH.Short:W);return be.map((Kt,yn)=>be[(yn+1)%7])[A-1]||""}getMonthShortName(A){return this._monthsShort[A-1]||""}getMonthFullName(A){return this._monthsFull[A-1]||""}getDayAriaLabel(A){const W=new Date(A.year,A.month-1,A.day);return(0,t.Yq)(W,"fullDate",this._locale)}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Zo=(()=>{class k{constructor(A,W){this._calendar=A,this._i18n=W,this._VALIDATORS={dayTemplateData:be=>{if(this._state.dayTemplateData!==be)return{dayTemplateData:be}},displayMonths:be=>{if(bn(be=Ti(be))&&be>0&&this._state.displayMonths!==be)return{displayMonths:be}},disabled:be=>{if(this._state.disabled!==be)return{disabled:be}},firstDayOfWeek:be=>{if(bn(be=Ti(be))&&be>=0&&this._state.firstDayOfWeek!==be)return{firstDayOfWeek:be}},focusVisible:be=>{if(this._state.focusVisible!==be&&!this._state.disabled)return{focusVisible:be}},markDisabled:be=>{if(this._state.markDisabled!==be)return{markDisabled:be}},maxDate:be=>{const Fe=this.toValidDate(be,null);if(se(this._state.maxDate,Fe))return{maxDate:Fe}},minDate:be=>{const Fe=this.toValidDate(be,null);if(se(this._state.minDate,Fe))return{minDate:Fe}},navigation:be=>{if(this._state.navigation!==be)return{navigation:be}},outsideDays:be=>{if(this._state.outsideDays!==be)return{outsideDays:be}},weekdays:be=>{const Fe=!0===be||!1===be?t.cH.Short:be,Kt=!0!==be&&!1!==be||be;if(this._state.weekdayWidth!==Fe||this._state.weekdaysVisible!==Kt)return{weekdayWidth:Fe,weekdaysVisible:Kt}}},this._model$=new m.B,this._dateSelect$=new m.B,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:t.cH.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe((0,M.p)(A=>A.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe((0,M.p)(A=>null!==A))}set(A){let W=Object.keys(A).map(be=>this._VALIDATORS[be](A[be])).reduce((be,Fe)=>({...be,...Fe}),{});Object.keys(W).length>0&&this._nextState(W)}focus(A){const W=this.toValidDate(A,null);null!=W&&!this._state.disabled&&se(this._state.focusDate,W)&&this._nextState({focusDate:A})}focusSelect(){En(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(A){const W=this.toValidDate(A,this._calendar.getToday());null!=W&&!this._state.disabled&&(!this._state.firstDate||Ve(this._state.firstDate,W))&&this._nextState({firstDate:W})}select(A,W={}){const be=this.toValidDate(A,null);null!=be&&!this._state.disabled&&(se(this._state.selectedDate,be)&&this._nextState({selectedDate:be}),W.emitEvent&&En(be,this._state)&&this._dateSelect$.next(be))}toValidDate(A,W){const be=ze.from(A);return void 0===W&&(W=this._calendar.getToday()),this._calendar.isValid(be)?be:W}getMonth(A){for(let W of this._state.months)if(A.month===W.number&&A.year===W.year)return W;throw new Error(`month ${A.month} of year ${A.year} not found`)}_nextState(A){const W=this._updateState(A);this._patchContexts(W),this._state=W,this._model$.next(this._state)}_patchContexts(A){const{months:W,displayMonths:be,selectedDate:Fe,focusDate:Kt,focusVisible:yn,disabled:An,outsideDays:Un}=A;A.months.forEach(is=>{is.weeks.forEach(Ls=>{Ls.days.forEach(us=>{Kt&&(us.context.focused=Kt.equals(us.date)&&yn),us.tabindex=!An&&Kt&&us.date.equals(Kt)&&Kt.month===is.number?0:-1,!0===An&&(us.context.disabled=!0),void 0!==Fe&&(us.context.selected=null!==Fe&&Fe.equals(us.date)),is.number!==us.date.month&&(us.hidden="hidden"===Un||"collapsed"===Un||be>1&&us.date.after(W[0].firstDate)&&us.date.before(W[be-1].lastDate))})})})}_updateState(A){const W=Object.assign({},this._state,A);let be=W.firstDate;if(("minDate"in A||"maxDate"in A)&&(function bt(k,de){if(de&&k&&de.before(k))throw new Error(`'maxDate' ${de} should be greater than 'minDate' ${k}`)}(W.minDate,W.maxDate),W.focusDate=Yt(W.focusDate,W.minDate,W.maxDate),W.firstDate=Yt(W.firstDate,W.minDate,W.maxDate),be=W.focusDate),"disabled"in A&&(W.focusVisible=!1),"selectedDate"in A&&0===this._state.months.length&&(be=W.selectedDate),"focusVisible"in A||"focusDate"in A&&(W.focusDate=Yt(W.focusDate,W.minDate,W.maxDate),be=W.focusDate,0!==W.months.length&&W.focusDate&&!W.focusDate.before(W.firstDate)&&!W.focusDate.after(W.lastDate)))return W;if("firstDate"in A&&(W.firstDate=Yt(W.firstDate,W.minDate,W.maxDate),be=W.firstDate),be){const Kt=function Gi(k,de,A,W,be){const{displayMonths:Fe,months:Kt}=A,yn=Kt.splice(0,Kt.length);return Array.from({length:Fe},(Un,is)=>{const Ls=Object.assign(k.getNext(de,"m",is),{day:1});if(Kt[is]=null,!be){const us=yn.findIndex(Ws=>Ws.firstDate.equals(Ls));-1!==us&&(Kt[is]=yn.splice(us,1)[0])}return Ls}).forEach((Un,is)=>{null===Kt[is]&&(Kt[is]=function xr(k,de,A,W,be={}){const{dayTemplateData:Fe,minDate:Kt,maxDate:yn,firstDayOfWeek:An,markDisabled:Un,outsideDays:is,weekdayWidth:Ls,weekdaysVisible:us}=A,Ws=k.getToday();be.firstDate=null,be.lastDate=null,be.number=de.month,be.year=de.year,be.weeks=be.weeks||[],be.weekdays=be.weekdays||[],de=function Ci(k,de,A){const W=k.getDaysPerWeek(),be=new ze(de.year,de.month,1),Fe=k.getWeekday(be)%W;return k.getPrev(be,"d",(W+Fe-A)%W)}(k,de,An),us||(be.weekdays.length=0);for(let pr=0;pr<k.getWeeksPerMonth();pr++){let Ki=be.weeks[pr];Ki||(Ki=be.weeks[pr]={number:0,days:[],collapsed:!0});const Tr=Ki.days;for(let Wr=0;Wr<k.getDaysPerWeek();Wr++){0===pr&&us&&(be.weekdays[Wr]=W.getWeekdayLabel(k.getWeekday(de),Ls));const Pr=new ze(de.year,de.month,de.day),au=k.getNext(Pr),Qp=W.getDayAriaLabel(Pr);let lo=!!(Kt&&Pr.before(Kt)||yn&&Pr.after(yn));!lo&&Un&&(lo=Un(Pr,{month:be.number,year:be.year}));let Rl=Pr.equals(Ws),Dr=Fe?Fe(Pr,{month:be.number,year:be.year}):void 0;null===be.firstDate&&Pr.month===be.number&&(be.firstDate=Pr),Pr.month===be.number&&au.month!==be.number&&(be.lastDate=Pr);let Al=Tr[Wr];Al||(Al=Tr[Wr]={}),Al.date=Pr,Al.context=Object.assign(Al.context||{},{$implicit:Pr,date:Pr,data:Dr,currentMonth:be.number,currentYear:be.year,disabled:lo,focused:!1,selected:!1,today:Rl}),Al.tabindex=-1,Al.ariaLabel=Qp,Al.hidden=!1,de=au}Ki.number=k.getWeekNumber(Tr.map(Wr=>Wr.date),An),Ki.collapsed="collapsed"===is&&Tr[0].date.month!==be.number&&Tr[Tr.length-1].date.month!==be.number}return be}(k,Un,A,W,yn.shift()||{}))}),Kt}(this._calendar,be,W,this._i18n,"dayTemplateData"in A||"firstDayOfWeek"in A||"markDisabled"in A||"minDate"in A||"maxDate"in A||"disabled"in A||"outsideDays"in A||"weekdaysVisible"in A);W.months=Kt,W.firstDate=Kt[0].firstDate,W.lastDate=Kt[Kt.length-1].lastDate,"selectedDate"in A&&!En(W.selectedDate,W)&&(W.selectedDate=null),"firstDate"in A&&(!W.focusDate||W.focusDate.before(W.firstDate)||W.focusDate.after(W.lastDate))&&(W.focusDate=be);const yn=!this._state.firstDate||this._state.firstDate.year!==W.firstDate.year,An=!this._state.firstDate||this._state.firstDate.month!==W.firstDate.month;"select"===W.navigation?(("minDate"in A||"maxDate"in A||0===W.selectBoxes.years.length||yn)&&(W.selectBoxes.years=function cs(k,de,A){if(!k)return[];const W=de?Math.max(de.year,k.year-500):k.year-10,Fe=(A?Math.min(A.year,k.year+500):k.year+10)-W+1,Kt=Array(Fe);for(let yn=0;yn<Fe;yn++)Kt[yn]=W+yn;return Kt}(W.firstDate,W.minDate,W.maxDate)),("minDate"in A||"maxDate"in A||0===W.selectBoxes.months.length||yn)&&(W.selectBoxes.months=function Yn(k,de,A,W){if(!de)return[];let be=k.getMonths(de.year);if(A&&de.year===A.year){const Fe=be.findIndex(Kt=>Kt===A.month);be=be.slice(Fe)}if(W&&de.year===W.year){const Fe=be.findIndex(Kt=>Kt===W.month);be=be.slice(0,Fe+1)}return be}(this._calendar,W.firstDate,W.minDate,W.maxDate))):W.selectBoxes={years:[],months:[]},("arrows"===W.navigation||"select"===W.navigation)&&(An||yn||"minDate"in A||"maxDate"in A||"disabled"in A)&&(W.prevDisabled=W.disabled||function Yi(k,de,A){const W=Object.assign(k.getPrev(de,"m"),{day:1});return null!=A&&(W.year===A.year&&W.month<A.month||W.year<A.year&&1===A.month)}(this._calendar,W.firstDate,W.minDate),W.nextDisabled=W.disabled||function xs(k,de,A){const W=Object.assign(k.getNext(de,"m"),{day:1});return null!=A&&W.after(A)}(this._calendar,W.lastDate,W.maxDate))}return W}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Mo),i.KVO(jo))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();var ko=function(k){return k[k.PREV=0]="PREV",k[k.NEXT=1]="NEXT",k}(ko||{});let da=(()=>{class k{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=t.cH.Short}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ta=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function Ua(){return new si}(),providedIn:"root"}),k})(),si=(()=>{class k extends Ta{fromModel(A){return A&&bn(A.year)&&bn(A.month)&&bn(A.day)?{year:A.year,month:A.month,day:A.day}:null}toModel(A){return A&&bn(A.year)&&bn(A.month)&&bn(A.day)?{year:A.year,month:A.month,day:A.day}:null}}return k.\u0275fac=(()=>{let de;return function(W){return(de||(de=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),tr=(()=>{class k{constructor(A){this.i18n=A}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(jo))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(A,W){2&A&&i.AVh("bg-primary",W.selected)("text-white",W.selected)("text-muted",W.isMuted())("outside",W.isMuted())("active",W.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:tt,decls:1,vars:1,template:function(A,W){1&A&&i.EFF(0),2&A&&i.JRh(W.i18n.getDayNumerals(W.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),k})(),mr=(()=>{class k{constructor(A,W){this.i18n=A,this._renderer=W,this.select=new i.bkB,this._month=-1,this._year=-1}changeMonth(A){this.select.emit(new ze(this.date.year,Ti(A),1))}changeYear(A){this.select.emit(new ze(Ti(A),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(jo),i.rXU(i.sFG))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(A,W){if(1&A&&(i.GBs(_t,7,i.aKT),i.GBs(We,7,i.aKT)),2&A){let be;i.mGM(be=i.lsd())&&(W.monthSelect=be.first),i.mGM(be=i.lsd())&&(W.yearSelect=be.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:6,vars:4,consts:()=>{let de,A,W,be;return de=$localize`:@@ngb.datepicker.select-month:Select month`,A=$localize`:@@ngb.datepicker.select-month:Select month`,W=$localize`:@@ngb.datepicker.select-year:Select year`,be=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",de,"title",A,1,"custom-select",3,"change","disabled"],[3,"value",4,"ngFor","ngForOf"],["aria-label",W,"title",be,1,"custom-select",3,"change","disabled"],[3,"value"]]},template:function(A,W){if(1&A){const be=i.RV6();i.j41(0,"select",2,0),i.bIt("change",function(Kt){return i.eBV(be),i.Njj(W.changeMonth(Kt.target.value))}),i.DNE(2,dt,2,3,"option",3),i.k0s(),i.j41(3,"select",4,1),i.bIt("change",function(Kt){return i.eBV(be),i.Njj(W.changeYear(Kt.target.value))}),i.DNE(5,it,2,2,"option",3),i.k0s()}2&A&&(i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.months),i.R7$(),i.Y8G("disabled",W.disabled),i.R7$(2),i.Y8G("ngForOf",W.years))},dependencies:[t.Sq,Z.xH,Z.y7],styles:["ngb-datepicker-navigation-select>.custom-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),k})(),vo=(()=>{class k{constructor(A){this.i18n=A,this.navigation=ko,this.months=[],this.navigate=new i.bkB,this.select=new i.bkB}onClickPrev(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(A){A.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(jo))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:8,vars:4,consts:()=>{let de,A,W,be;return de=$localize`:@@ngb.datepicker.previous-month:Previous month`,A=$localize`:@@ngb.datepicker.previous-month:Previous month`,W=$localize`:@@ngb.datepicker.next-month:Next month`,be=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",de,"title",A,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",W,"title",be,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(A,W){1&A&&(i.j41(0,"div",0)(1,"button",1),i.bIt("click",function(Fe){return W.onClickPrev(Fe)}),i.nrm(2,"span",2),i.k0s()(),i.DNE(3,Ge,1,4,"ngb-datepicker-navigation-select",3)(4,vt,1,1,null,4),i.j41(5,"div",5)(6,"button",6),i.bIt("click",function(Fe){return W.onClickNext(Fe)}),i.nrm(7,"span",2),i.k0s()()),2&A&&(i.R7$(),i.Y8G("disabled",W.prevDisabled),i.R7$(2),i.Y8G("ngIf",W.showSelect),i.R7$(),i.Y8G("ngIf",!W.showSelect),i.R7$(2),i.Y8G("disabled",W.nextDisabled))},dependencies:[mr,t.bT,t.Sq],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),k})();var fs=function(k){return k[k.Tab=9]="Tab",k[k.Enter=13]="Enter",k[k.Escape=27]="Escape",k[k.Space=32]="Space",k[k.PageUp=33]="PageUp",k[k.PageDown=34]="PageDown",k[k.End=35]="End",k[k.Home=36]="Home",k[k.ArrowLeft=37]="ArrowLeft",k[k.ArrowUp=38]="ArrowUp",k[k.ArrowRight=39]="ArrowRight",k[k.ArrowDown=40]="ArrowDown",k}(fs||{});let ua=(()=>{class k{processKey(A,W){const{state:be,calendar:Fe}=W;switch(A.which){case fs.PageUp:W.focusDate(Fe.getPrev(be.focusedDate,A.shiftKey?"y":"m",1));break;case fs.PageDown:W.focusDate(Fe.getNext(be.focusedDate,A.shiftKey?"y":"m",1));break;case fs.End:W.focusDate(A.shiftKey?be.maxDate:be.lastDate);break;case fs.Home:W.focusDate(A.shiftKey?be.minDate:be.firstDate);break;case fs.ArrowLeft:W.focusDate(Fe.getPrev(be.focusedDate,"d",1));break;case fs.ArrowUp:W.focusDate(Fe.getPrev(be.focusedDate,"d",Fe.getDaysPerWeek()));break;case fs.ArrowRight:W.focusDate(Fe.getNext(be.focusedDate,"d",1));break;case fs.ArrowDown:W.focusDate(Fe.getNext(be.focusedDate,"d",Fe.getDaysPerWeek()));break;case fs.Enter:case fs.Space:W.focusSelect();break;default:return}A.preventDefault(),A.stopPropagation()}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ha=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbDatepickerContent",""]]}),k})(),pa=(()=>{class k{constructor(A,W,be,Fe,Kt,yn,An,Un){this._service=A,this._calendar=W,this.i18n=be,this._elementRef=yn,this._ngbDateAdapter=An,this._ngZone=Un,this._controlValue=null,this._destroyed$=new m.B,this._publicState={},this.navigate=new i.bkB,this.dateSelect=new i.bkB,this.onChange=is=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(is=>this[is]=Fe[is]),A.dateSelect$.pipe((0,P.Q)(this._destroyed$)).subscribe(is=>{this.dateSelect.emit(is)}),A.model$.pipe((0,P.Q)(this._destroyed$)).subscribe(is=>{const Ls=is.firstDate,us=this.model?this.model.firstDate:null;this._publicState={maxDate:is.maxDate,minDate:is.minDate,firstDate:is.firstDate,lastDate:is.lastDate,focusedDate:is.focusDate,months:is.months.map(Wr=>Wr.firstDate)};let Ws=!1;if(!Ls.equals(us)&&(this.navigate.emit({current:us?{year:us.year,month:us.month}:null,next:{year:Ls.year,month:Ls.month},preventDefault:()=>Ws=!0}),Ws&&null!==us))return void this._service.open(us);const pr=is.selectedDate,Ki=is.focusDate,Tr=this.model?this.model.focusDate:null;this.model=is,se(pr,this._controlValue)&&(this._controlValue=pr,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(pr))),se(Ki,Tr)&&Tr&&is.focusVisible&&this.focus(),Kt.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(A){this._service.focus(ze.from(A))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{const A=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');A&&A.focus()})}navigateTo(A){this._service.open(ze.from(A?A.day?A:{...A,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const A=(0,p.R)(this._contentEl.nativeElement,"focusin"),W=(0,p.R)(this._contentEl.nativeElement,"focusout"),{nativeElement:be}=this._elementRef;(0,h.h)(A,W).pipe((0,M.p)(({target:Fe,relatedTarget:Kt})=>!(ar(Fe,"ngb-dp-day")&&ar(Kt,"ngb-dp-day")&&be.contains(Fe)&&be.contains(Kt))),(0,P.Q)(this._destroyed$)).subscribe(({type:Fe})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===Fe})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const A={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(W=>A[W]=this[W]),this._service.set(A),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(A){const W={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(be=>be in A).forEach(be=>W[be]=this[be]),this._service.set(W),"startDate"in A){const{currentValue:be,previousValue:Fe}=A.startDate;Ve(Fe,be)&&this.navigateTo(this.startDate)}}onDateSelect(A){this._service.focus(A),this._service.select(A,{emitEvent:!0})}onNavigateDateSelect(A){this._service.open(A)}onNavigateEvent(A){switch(A){case ko.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case ko.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this._service.set({disabled:A})}writeValue(A){this._controlValue=ze.from(this._ngbDateAdapter.fromModel(A)),this._service.select(this._controlValue)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Zo),i.rXU(Mo),i.rXU(jo),i.rXU(da),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(Ta),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,ha,7),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.contentTemplate=Fe.first)}},viewQuery:function(A,W){if(1&A&&(i.GBs(at,7),i.GBs(nt,7)),2&A){let be;i.mGM(be=i.lsd())&&(W._defaultDayTemplate=be.first),i.mGM(be=i.lsd())&&(W._contentEl=be.first)}},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},Zo]),i.OA$],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(A,W){if(1&A&&(i.DNE(0,lt,1,5,"ng-template",null,0,i.C5r)(2,ut,1,1,"ng-template",null,1,i.C5r),i.j41(4,"div",3),i.DNE(5,cn,1,7,"ngb-datepicker-navigation",4),i.k0s(),i.j41(6,"div",5,2),i.DNE(8,nn,0,0,"ng-template",6),i.k0s(),i.DNE(9,Mn,0,0,"ng-template",6)),2&A){const be=i.sdS(3);i.R7$(5),i.Y8G("ngIf","none"!==W.navigation),i.R7$(),i.AVh("ngb-dp-months",!W.contentTemplate),i.R7$(2),i.Y8G("ngTemplateOutlet",(null==W.contentTemplate?null:W.contentTemplate.templateRef)||be),i.R7$(),i.Y8G("ngTemplateOutlet",W.footerTemplate)}},dependencies:()=>[tr,bl,vo,t.Sq,t.bT,t.T3],styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),k})(),bl=(()=>{class k{constructor(A,W,be,Fe){this.i18n=A,this.datepicker=W,this._keyboardService=be,this._service=Fe}set month(A){this.viewModel=this._service.getMonth(A)}onKeyDown(A){this._keyboardService.processKey(A,this.datepicker)}doSelect(A){!A.context.disabled&&!A.hidden&&this.datepicker.onDateSelect(A.date)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(jo),i.rXU(pa),i.rXU(ua),i.rXU(Zo))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(A,W){1&A&&i.bIt("keydown",function(Fe){return W.onKeyDown(Fe)})},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,St,3,2,"div",0)(1,At,1,1,"ng-template",1),2&A&&(i.Y8G("ngIf",W.viewModel.weekdays.length>0),i.R7$(),i.Y8G("ngForOf",W.viewModel.weeks))},dependencies:[t.bT,t.Sq,t.T3],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),k})();const il=(k,de)=>!!de&&de.some(A=>A.contains(k)),Vo=(k,de)=>!de||null!=function fi(k,de){return!de||typeof k.closest>"u"?null:k.closest(de)}(k,de),bs=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function fa(k,de,A,W,be,Fe,Kt,yn){A&&k.runOutsideAngular((k=>bs?()=>setTimeout(()=>k(),100):k)(()=>{const Un=(0,p.R)(de,"keydown").pipe((0,P.Q)(be),(0,M.p)(us=>us.which===fs.Escape),(0,G.M)(us=>us.preventDefault())),is=(0,p.R)(de,"mousedown").pipe((0,B.T)(us=>{const Ws=us.target;return 2!==us.button&&!il(Ws,Kt)&&("inside"===A?il(Ws,Fe)&&Vo(Ws,yn):"outside"===A?!il(Ws,Fe):Vo(Ws,yn)||!il(Ws,Fe))}),(0,P.Q)(be)),Ls=(0,p.R)(de,"mouseup").pipe((0,z.E)(is),(0,M.p)(([us,Ws])=>Ws),(0,V.c)(0),(0,P.Q)(be));(0,v.O)([Un.pipe((0,B.T)(us=>0)),Ls.pipe((0,B.T)(us=>1))]).subscribe(us=>k.run(()=>W(us)))}))}const ma=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Tl(k){const de=Array.from(k.querySelectorAll(ma)).filter(A=>-1!==A.tabIndex);return[de[0],de[de.length-1]]}const Lr=(k,de,A,W=!1)=>{k.runOutsideAngular(()=>{const be=(0,p.R)(de,"focusin").pipe((0,P.Q)(A),(0,B.T)(Fe=>Fe.target));(0,p.R)(de,"keydown").pipe((0,P.Q)(A),(0,M.p)(Fe=>Fe.which===fs.Tab),(0,z.E)(be)).subscribe(([Fe,Kt])=>{const[yn,An]=Tl(de);(Kt===yn||Kt===de)&&Fe.shiftKey&&(An.focus(),Fe.preventDefault()),Kt===An&&!Fe.shiftKey&&(yn.focus(),Fe.preventDefault())}),W&&(0,p.R)(de,"click").pipe((0,P.Q)(A),(0,z.E)(be),(0,B.T)(Fe=>Fe[1])).subscribe(Fe=>Fe.focus())})},rl=/\s+/,Io=new class qo{getAllStyles(de){return window.getComputedStyle(de)}getStyle(de,A){return this.getAllStyles(de)[A]}isStaticPositioned(de){return"static"===(this.getStyle(de,"position")||"static")}offsetParent(de){let A=de.offsetParent||document.documentElement;for(;A&&A!==document.documentElement&&this.isStaticPositioned(A);)A=A.offsetParent;return A||document.documentElement}position(de,A=!0){let W,be={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(de,"position"))W=de.getBoundingClientRect(),W={top:W.top,bottom:W.bottom,left:W.left,right:W.right,height:W.height,width:W.width};else{const Fe=this.offsetParent(de);W=this.offset(de,!1),Fe!==document.documentElement&&(be=this.offset(Fe,!1)),be.top+=Fe.clientTop,be.left+=Fe.clientLeft}return W.top-=be.top,W.bottom-=be.top,W.left-=be.left,W.right-=be.left,A&&(W.top=Math.round(W.top),W.bottom=Math.round(W.bottom),W.left=Math.round(W.left),W.right=Math.round(W.right)),W}offset(de,A=!0){const W=de.getBoundingClientRect(),be_top=window.scrollY-document.documentElement.clientTop,be_left=window.scrollX-document.documentElement.clientLeft;let Fe={height:W.height||de.offsetHeight,width:W.width||de.offsetWidth,top:W.top+be_top,bottom:W.bottom+be_top,left:W.left+be_left,right:W.right+be_left};return A&&(Fe.height=Math.round(Fe.height),Fe.width=Math.round(Fe.width),Fe.top=Math.round(Fe.top),Fe.bottom=Math.round(Fe.bottom),Fe.left=Math.round(Fe.left),Fe.right=Math.round(Fe.right)),Fe}positionElements(de,A,W,be){const[Fe="top",Kt="center"]=W.split("-"),yn=be?this.offset(de,!1):this.position(de,!1),An=this.getAllStyles(A),Un=parseFloat(An.marginTop),is=parseFloat(An.marginBottom),Ls=parseFloat(An.marginLeft),us=parseFloat(An.marginRight);let Ws=0,pr=0;switch(Fe){case"top":Ws=yn.top-(A.offsetHeight+Un+is);break;case"bottom":Ws=yn.top+yn.height;break;case"left":pr=yn.left-(A.offsetWidth+Ls+us);break;case"right":pr=yn.left+yn.width}switch(Kt){case"top":Ws=yn.top;break;case"bottom":Ws=yn.top+yn.height-A.offsetHeight;break;case"left":pr=yn.left;break;case"right":pr=yn.left+yn.width-A.offsetWidth;break;case"center":"top"===Fe||"bottom"===Fe?pr=yn.left+yn.width/2-A.offsetWidth/2:Ws=yn.top+yn.height/2-A.offsetHeight/2}A.style.transform=`translate(${Math.round(pr)}px, ${Math.round(Ws)}px)`;const Ki=A.getBoundingClientRect(),Tr=document.documentElement,Wr=window.innerHeight||Tr.clientHeight,Pr=window.innerWidth||Tr.clientWidth;return Ki.left>=0&&Ki.top>=0&&Ki.right<=Pr&&Ki.bottom<=Wr}};function ea(k,de,A,W,be){let Fe=Array.isArray(A)?A:A.split(rl);const Kt=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],yn=de.classList,An=Ws=>{const[pr,Ki]=Ws.split("-"),Tr=[];return be&&(Tr.push(`${be}-${pr}`),Ki&&Tr.push(`${be}-${pr}-${Ki}`),Tr.forEach(Wr=>{yn.add(Wr)})),Tr};be&&Kt.forEach(Ws=>{yn.remove(`${be}-${Ws}`)});let Un=Fe.findIndex(Ws=>"auto"===Ws);Un>=0&&Kt.forEach(function(Ws){null==Fe.find(pr=>-1!==pr.search("^"+Ws))&&Fe.splice(Un++,1,Ws)});const is=de.style;is.position="absolute",is.top="0",is.left="0",is["will-change"]="transform";let Ls=null,us=!1;for(Ls of Fe){let Ws=An(Ls);if(Io.positionElements(k,de,Ls,W)){us=!0;break}be&&Ws.forEach(pr=>{yn.remove(pr)})}return us||(Ls=Fe[0],An(Ls),Io.positionElements(k,de,Ls,W)),Ls}let $o=(()=>{class k extends da{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}}return k.\u0275fac=(()=>{let de;return function(W){return(de||(de=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Qr=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function ol(){return new ta}(),providedIn:"root"}),k})(),ta=(()=>{class k extends Qr{parse(A){if(null!=A){const W=A.trim().split("-");if(1===W.length&&Wt(W[0]))return{year:Ti(W[0]),month:null,day:null};if(2===W.length&&Wt(W[0])&&Wt(W[1]))return{year:Ti(W[0]),month:Ti(W[1]),day:null};if(3===W.length&&Wt(W[0])&&Wt(W[1])&&Wt(W[2]))return{year:Ti(W[0]),month:Ti(W[1]),day:Ti(W[2])}}return null}format(A){return A?`${A.year}-${Wt(A.month)?li(A.month):""}-${Wt(A.day)?li(A.day):""}`:""}}return k.\u0275fac=(()=>{let de;return function(W){return(de||(de=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),na=(()=>{class k{constructor(A,W,be,Fe,Kt,yn,An,Un,is,Ls){this._parserFormatter=A,this._elRef=W,this._vcRef=be,this._renderer=Fe,this._ngZone=Kt,this._calendar=yn,this._dateAdapter=An,this._document=Un,this._changeDetector=is,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new i.bkB,this.navigate=new i.bkB,this.closed=new i.bkB,this._onChange=us=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(us=>this[us]=Ls[us]),this._zoneSubscription=Kt.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(A){this._disabled=""===A||A&&"false"!==A,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}registerOnValidatorChange(A){this._validatorChange=A}setDisabledState(A){this.disabled=A}validate(A){const{value:W}=A;if(null!=W){const be=this._fromDateStruct(this._dateAdapter.fromModel(W));if(!be)return{ngbDate:{invalid:W}};if(this.minDate&&be.before(ze.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:W}}};if(this.maxDate&&be.after(ze.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:W}}}}return null}writeValue(A){this._model=this._fromDateStruct(this._dateAdapter.fromModel(A)),this._writeModelValue(this._model)}manualDateChange(A,W=!1){const be=A!==this._inputValue;be&&(this._inputValue=A,this._model=this._fromDateStruct(this._parserFormatter.parse(A))),(be||!W)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):""===A?null:A),W&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){this.isOpen()||(this._cRef=this._vcRef.createComponent(pa),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(A=>{this.writeValue(A),this._onChange(A),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Lr(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),fa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement]))}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let A=this._elWithFocus;tn(this.restoreFocus)?A=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(A=this.restoreFocus),A&&A.focus?A.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(A){this.isOpen()&&this._cRef.instance.navigateTo(A)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(A){if((A.minDate||A.maxDate)&&(this._validatorChange(),this.isOpen()&&(A.minDate&&(this._cRef.instance.minDate=this.minDate),A.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(A))),A.datepickerClass){const{currentValue:W,previousValue:be}=A.datepickerClass;this._applyPopupClass(W,be)}}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(A){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(W=>{void 0!==this[W]&&(A[W]=this[W])}),A.startDate=this.startDate||this._model}_applyPopupClass(A,W){const be=this._cRef?.location.nativeElement;be&&(A&&this._renderer.addClass(be,A),W&&this._renderer.removeClass(be,W))}_applyPopupStyling(A){this._renderer.addClass(A,"dropdown-menu"),this._renderer.addClass(A,"show"),"body"===this.container&&this._renderer.addClass(A,"ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(A){A.navigate.subscribe(W=>this.navigate.emit(W)),A.dateSelect.subscribe(W=>{this.dateSelect.emit(W),(!0===this.autoClose||"inside"===this.autoClose)&&this.close()})}_writeModelValue(A){const W=this._parserFormatter.format(A);this._inputValue=W,this._renderer.setProperty(this._elRef.nativeElement,"value",W),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(A)),this._onTouched())}_fromDateStruct(A){const W=A?new ze(A.year,A.month,A.day):null;return this._calendar.isValid(W)?W:null}_updatePopupPosition(){if(!this._cRef)return;let A;if(A=tn(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!A)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");ea(A,this._cRef.location.nativeElement,this.placement,"body"===this.container)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Qr),i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.SKi),i.rXU(Mo),i.rXU(Ta),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU($o))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(A,W){1&A&&i.bIt("input",function(Fe){return W.manualDateChange(Fe.target.value)})("change",function(Fe){return W.manualDateChange(Fe.target.value,!0)})("focus",function(){return W.onFocus()})("blur",function(){return W.onBlur()}),2&A&&i.Mr5("disabled",W.disabled)},inputs:{autoClose:"autoClose",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:Z.cz,useExisting:(0,i.Rfq)(()=>k),multi:!0},{provide:da,useExisting:$o}]),i.OA$]}),k})();new Date(1882,10,12),new Date(2174,10,25);let Ji=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD,Z.YN]]}),k})(),Hl=(()=>{class k{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ti=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275dir=i.FsC({type:k,selectors:[["",8,"navbar"]]}),k})(),Fr=(()=>{class k{constructor(A,W){this.elementRef=A,this._renderer=W,this._disabled=!1}set disabled(A){this._disabled=""===A||!0===A,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(A,W){2&A&&(i.Mr5("tabIndex",W.disabled?-1:0),i.AVh("disabled",W.disabled))},inputs:{disabled:"disabled"}}),k})(),Ma=(()=>{class k{constructor(A,W){this.dropdown=A,this.placement="bottom",this.isOpen=!1,this.nativeElement=W.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>qr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,Fr,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.menuItems=Fe)}},hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("keydown.ArrowUp",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.ArrowDown",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.End",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Enter",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Space",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Shift.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)}),2&A&&(i.BMQ("x-placement",W.placement),i.AVh("dropdown-menu",!0)("show",W.dropdown.isOpen()))}}),k})(),Lo=(()=>{class k{constructor(A,W){this.dropdown=A,this.nativeElement=W.nativeElement}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>qr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,W){2&A&&i.BMQ("aria-expanded",W.dropdown.isOpen())}}),k})(),Ha=(()=>{class k extends Lo{constructor(A,W){super(A,W)}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>qr)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(A,W){1&A&&i.bIt("click",function(){return W.dropdown.toggle()})("keydown.ArrowUp",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.ArrowDown",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.End",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)})("keydown.Shift.Tab",function(Fe){return W.dropdown.onKeyDown(Fe)}),2&A&&i.BMQ("aria-expanded",W.dropdown.isOpen())},features:[i.Jv_([{provide:Lo,useExisting:(0,i.Rfq)(()=>k)}]),i.Vt3]}),k})(),qr=(()=>{class k{constructor(A,W,be,Fe,Kt,yn,An){this._changeDetector=A,this._document=be,this._ngZone=Fe,this._elementRef=Kt,this._renderer=yn,this._closed$=new m.B,this._bodyContainer=null,this._open=!1,this.openChange=new i.bkB,this.placement=W.placement,this.container=W.container,this.autoClose=W.autoClose,this.display=An?"static":"dynamic",this._zoneSubscription=Fe.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe((0,L.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(A){if(A.container&&this._open&&this._applyContainer(this.container),A.placement&&!A.placement.isFirstChange&&this._applyPlacementClasses(),A.dropdownClass){const{currentValue:W,previousValue:be}=A.dropdownClass;this._applyCustomDropdownClass(W,be)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){fa(this._ngZone,this._document,this.autoClose,A=>{this.close(),0===A&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(A){const W=A.which,be=this._getMenuElements();let Fe=-1,Kt=null;const yn=this._isEventFromToggle(A);if(!yn&&be.length&&be.forEach((An,Un)=>{An.contains(A.target)&&(Kt=An),An===this._document.activeElement&&(Fe=Un)}),W!==fs.Space&&W!==fs.Enter){if(W!==fs.Tab){if(yn||Kt){if(this.open(),be.length){switch(W){case fs.ArrowDown:Fe=Math.min(Fe+1,be.length-1);break;case fs.ArrowUp:if(this._isDropup()&&-1===Fe){Fe=be.length-1;break}Fe=Math.max(Fe-1,0);break;case fs.Home:Fe=0;break;case fs.End:Fe=be.length-1}be[Fe].focus()}A.preventDefault()}}else if(A.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===A.target)return void("body"!==this.container||A.shiftKey?A.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const An=this._menu.nativeElement.querySelectorAll(ma);A.shiftKey&&A.target===An[0]?(this._anchor.nativeElement.focus(),A.preventDefault()):!A.shiftKey&&A.target===An[An.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,p.R)(A.target,"focusout").pipe((0,L.s)(1)).subscribe(({relatedTarget:An})=>{this._elementRef.nativeElement.contains(An)||this.close()})}}else Kt&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,p.R)(Kt,"click").pipe((0,L.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(A){return this._anchor.nativeElement.contains(A.target)}_getMenuElements(){const A=this._menu;return null==A?[]:A.menuItems.filter(W=>!W.disabled).map(W=>W.elementRef.nativeElement)}_positionMenu(){const A=this._menu;this.isOpen()&&A&&this._applyPlacementClasses("dynamic"===this.display?ea(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(A){return Array.isArray(A)?A[0]:A.split(" ")[0]}_resetContainer(){const A=this._renderer;if(this._menu){const be=this._menu.nativeElement;A.appendChild(this._elementRef.nativeElement,be),A.removeStyle(be,"position"),A.removeStyle(be,"transform")}this._bodyContainer&&(A.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(A=null){if(this._resetContainer(),"body"===A){const W=this._renderer,be=this._menu.nativeElement,Fe=this._bodyContainer=this._bodyContainer||W.createElement("div");W.setStyle(Fe,"position","absolute"),W.setStyle(be,"position","static"),W.setStyle(Fe,"z-index","1050"),W.appendChild(Fe,be),W.appendChild(this._document.body,Fe)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(A,W){const be="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;be&&(W&&this._renderer.removeClass(be,W),A&&this._renderer.addClass(be,A))}_applyPlacementClasses(A){const W=this._menu;if(W){A||(A=this._getFirstPlacement(this.placement));const be=this._renderer,Fe=this._elementRef.nativeElement;be.removeClass(Fe,"dropup"),be.removeClass(Fe,"dropdown"),W.placement="static"===this.display?null:A;const Kt=-1!==A.search("^top")?"dropup":"dropdown";be.addClass(Fe,Kt);const yn=this._bodyContainer;yn&&(be.removeClass(yn,"dropup"),be.removeClass(yn,"dropdown"),be.addClass(yn,Kt))}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(Hl),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(ti,8))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbDropdown",""]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,Ma,5),i.wni(be,Lo,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W._menu=Fe.first),i.mGM(Fe=i.lsd())&&(W._anchor=Fe.first)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("show",W.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[i.Mj6.None,"open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.OA$]}),k})(),Il=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})();class ja{constructor(de,A,W){this.nodes=de,this.viewRef=A,this.componentRef=W}}class cl{constructor(de,A,W,be,Fe,Kt){this._type=de,this._injector=A,this._viewContainerRef=W,this._renderer=be,this._ngZone=Fe,this._applicationRef=Kt,this._windowRef=null,this._contentRef=null}open(de,A,W=!1){this._windowRef||(this._contentRef=this._getContentRef(de,A),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:be}=this._windowRef.location,Fe=this._ngZone.onStable.pipe((0,L.s)(1),(0,X.Z)(()=>wi(this._ngZone,be,({classList:Kt})=>Kt.add("show"),{animation:W,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:Fe}}close(de=!1){return this._windowRef?wi(this._ngZone,this._windowRef.location.nativeElement,({classList:A})=>A.remove("show"),{animation:de,runningTransition:"stop"}).pipe((0,G.M)(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):(0,f.of)(void 0)}_getContentRef(de,A){if(de){if(de instanceof i.C4Q){const W=de.createEmbeddedView(A);return this._applicationRef.attachView(W),new ja([W.rootNodes],W)}return new ja([[this._renderer.createText(`${de}`)]])}return new ja([])}}let ce=(()=>{class k{constructor(A,W){this._el=A,this._zone=W}ngOnInit(){this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{wi(this._zone,this._el.nativeElement,(A,W)=>{W&&Fi(A),A.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return wi(this._zone,this._el.nativeElement,({classList:A})=>A.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(A,W){2&A&&(i.HbH("modal-backdrop"+(W.backdropClass?" "+W.backdropClass:"")),i.AVh("show",!W.animation)("fade",W.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(A,W){},encapsulation:2}),k})();class Te{close(de){}dismiss(de){}}class he{constructor(de,A,W,be){this._windowCmptRef=de,this._contentRef=A,this._backdropCmptRef=W,this._beforeDismiss=be,this._closed=new m.B,this._dismissed=new m.B,this._hidden=new m.B,de.instance.dismissEvent.subscribe(Fe=>{this.dismiss(Fe)}),this.result=new Promise((Fe,Kt)=>{this._resolve=Fe,this._reject=Kt}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,P.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,P.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(de){this._windowCmptRef&&(this._closed.next(de),this._resolve(de),this._removeModalElements())}_dismiss(de){this._dismissed.next(de),this._reject(de),this._removeModalElements()}dismiss(de){if(this._windowCmptRef)if(this._beforeDismiss){const A=this._beforeDismiss();!function vs(k){return k&&k.then}(A)?!1!==A&&this._dismiss(de):A.then(W=>{!1!==W&&this._dismiss(de)},()=>{})}else this._dismiss(de)}_removeModalElements(){const de=this._windowCmptRef.instance.hide(),A=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,f.of)(void 0);de.subscribe(()=>{const{nativeElement:W}=this._windowCmptRef.location;W.parentNode.removeChild(W),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),A.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:W}=this._backdropCmptRef.location;W.parentNode.removeChild(W),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),(0,R.y)(de,A).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Oe=function(k){return k[k.BACKDROP_CLICK=0]="BACKDROP_CLICK",k[k.ESC=1]="ESC",k}(Oe||{});let Ke=(()=>{class k{constructor(A,W,be){this._document=A,this._elRef=W,this._zone=be,this._closed$=new m.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.bkB,this.shown=new m.B,this.hidden=new m.B}dismiss(A){this.dismissEvent.emit(A)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,L.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:A}=this._elRef,W={animation:this.animation,runningTransition:"stop"},be=wi(this._zone,A,()=>A.classList.remove("show"),W),Fe=wi(this._zone,this._dialogEl.nativeElement,()=>{},W),Kt=(0,R.y)(be,Fe);return Kt.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),Kt}_show(){const A={animation:this.animation,runningTransition:"continue"},W=wi(this._zone,this._elRef.nativeElement,(Fe,Kt)=>{Kt&&Fi(Fe),Fe.classList.add("show")},A),be=wi(this._zone,this._dialogEl.nativeElement,()=>{},A);(0,R.y)(W,be).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:A}=this._elRef;this._zone.runOutsideAngular(()=>{(0,p.R)(A,"keydown").pipe((0,P.Q)(this._closed$),(0,M.p)(be=>be.which===fs.Escape)).subscribe(be=>{this.keyboard?requestAnimationFrame(()=>{be.defaultPrevented||this._zone.run(()=>this.dismiss(Oe.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let W=!1;(0,p.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,P.Q)(this._closed$),(0,G.M)(()=>W=!1),(0,j.n)(()=>(0,p.R)(A,"mouseup").pipe((0,P.Q)(this._closed$),(0,L.s)(1))),(0,M.p)(({target:be})=>A===be)).subscribe(()=>{W=!0}),(0,p.R)(A,"click").pipe((0,P.Q)(this._closed$)).subscribe(({target:be})=>{A===be&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!W&&this._zone.run(()=>this.dismiss(Oe.BACKDROP_CLICK))),W=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:A}=this._elRef;if(!A.contains(document.activeElement)){const W=A.querySelector("[ngbAutofocus]"),be=Tl(A)[0];(W||be||A).focus()}}_restoreFocus(){const A=this._document.body,W=this._elWithFocus;let be;be=W&&W.focus&&A.contains(W)?W:A,this._zone.runOutsideAngular(()=>{setTimeout(()=>be.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&wi(this._zone,this._elRef.nativeElement,({classList:A})=>(A.add("modal-static"),()=>A.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(t.qQ),i.rXU(i.aKT),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-modal-window"]],viewQuery:function(A,W){if(1&A&&i.GBs(Ot,7),2&A){let be;i.mGM(be=i.lsd())&&(W._dialogEl=be.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(A,W){2&A&&(i.BMQ("aria-modal",!0)("aria-labelledby",W.ariaLabelledBy)("aria-describedby",W.ariaDescribedBy),i.HbH("modal d-block"+(W.windowClass?" "+W.windowClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:re,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(A,W){1&A&&(i.NAR(),i.j41(0,"div",1,0)(2,"div",2),i.SdG(3),i.k0s()()),2&A&&i.HbH("modal-dialog"+(W.size?" modal-"+W.size:"")+(W.centered?" modal-dialog-centered":"")+(W.scrollable?" modal-dialog-scrollable":"")+(W.modalDialogClass?" "+W.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),k})(),pt=(()=>{class k{constructor(A){this._document=A}hide(){const A=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),W=this._document.body,be=W.style,{overflow:Fe,paddingRight:Kt}=be;if(A>0){const yn=parseFloat(window.getComputedStyle(W).paddingRight);be.paddingRight=`${yn+A}px`}return be.overflow="hidden",()=>{A>0&&(be.paddingRight=Kt),be.overflow=Fe}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(t.qQ))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Me=(()=>{class k{constructor(A,W,be,Fe,Kt,yn){this._applicationRef=A,this._injector=W,this._document=be,this._scrollBar=Fe,this._rendererFactory=Kt,this._ngZone=yn,this._activeWindowCmptHasChanged=new m.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.bkB,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const An=this._windowCmpts[this._windowCmpts.length-1];Lr(this._ngZone,An.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(An.location.nativeElement)}})}_restoreScrollBar(){const A=this._scrollBarRestoreFn;A&&(this._scrollBarRestoreFn=null,A())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(A,W,be,Fe){const Kt=Fe.container instanceof HTMLElement?Fe.container:$n(Fe.container)?this._document.querySelector(Fe.container):this._document.body,yn=this._rendererFactory.createRenderer(null,null);if(!Kt)throw new Error(`The specified modal container "${Fe.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const An=new Te,Un=this._getContentRef(A,Fe.injector||W,be,An,Fe);let is=!1!==Fe.backdrop?this._attachBackdrop(A,Kt):void 0,Ls=this._attachWindowComponent(A,Kt,Un),us=new he(Ls,Un,is,Fe.beforeDismiss);return this._registerModalRef(us),this._registerWindowCmpt(Ls),us.hidden.pipe((0,L.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(yn.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),An.close=Ws=>{us.close(Ws)},An.dismiss=Ws=>{us.dismiss(Ws)},this._applyWindowOptions(Ls.instance,Fe),1===this._modalRefs.length&&yn.addClass(this._document.body,"modal-open"),is&&is.instance&&(this._applyBackdropOptions(is.instance,Fe),is.changeDetectorRef.detectChanges()),Ls.changeDetectorRef.detectChanges(),us}get activeInstances(){return this._activeInstances}dismissAll(A){this._modalRefs.forEach(W=>W.dismiss(A))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(A,W){let Fe=A.resolveComponentFactory(ce).create(this._injector);return this._applicationRef.attachView(Fe.hostView),W.appendChild(Fe.location.nativeElement),Fe}_attachWindowComponent(A,W,be){let Kt=A.resolveComponentFactory(Ke).create(this._injector,be.nodes);return this._applicationRef.attachView(Kt.hostView),W.appendChild(Kt.location.nativeElement),Kt}_applyWindowOptions(A,W){this._windowAttributes.forEach(be=>{$n(W[be])&&(A[be]=W[be])})}_applyBackdropOptions(A,W){this._backdropAttributes.forEach(be=>{$n(W[be])&&(A[be]=W[be])})}_getContentRef(A,W,be,Fe,Kt){return be?be instanceof i.C4Q?this._createFromTemplateRef(be,Fe):tn(be)?this._createFromString(be):this._createFromComponent(A,W,be,Fe,Kt):new ja([])}_createFromTemplateRef(A,W){const Fe=A.createEmbeddedView({$implicit:W,close(Kt){W.close(Kt)},dismiss(Kt){W.dismiss(Kt)}});return this._applicationRef.attachView(Fe),new ja([Fe.rootNodes],Fe)}_createFromString(A){const W=this._document.createTextNode(`${A}`);return new ja([[W]])}_createFromComponent(A,W,be,Fe,Kt){const yn=A.resolveComponentFactory(be),An=i.zZn.create({providers:[{provide:Te,useValue:Fe}],parent:W}),Un=yn.create(An),is=Un.location.nativeElement;return Kt.scrollable&&is.classList.add("component-host-scrollable"),this._applicationRef.attachView(Un.hostView),new ja([[is]],Un.hostView,Un)}_setAriaHidden(A){const W=A.parentElement;W&&A!==this._document.body&&(Array.from(W.children).forEach(be=>{be!==A&&"SCRIPT"!==be.nodeName&&(this._ariaHiddenValues.set(be,be.getAttribute("aria-hidden")),be.setAttribute("aria-hidden","true"))}),this._setAriaHidden(W))}_revertAriaHidden(){this._ariaHiddenValues.forEach((A,W)=>{A?W.setAttribute("aria-hidden",A):W.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(A){const W=()=>{const be=this._modalRefs.indexOf(A);be>-1&&(this._modalRefs.splice(be,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(A),this._activeInstances.emit(this._modalRefs),A.result.then(W,W)}_registerWindowCmpt(A){this._windowCmpts.push(A),this._activeWindowCmptHasChanged.next(),A.onDestroy(()=>{const W=this._windowCmpts.indexOf(A);W>-1&&(this._windowCmpts.splice(W,1),this._activeWindowCmptHasChanged.next())})}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.o8S),i.KVO(i.zZn),i.KVO(t.qQ),i.KVO(pt),i.KVO(i._9s),i.KVO(i.SKi))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),_e=(()=>{class k{constructor(A){this._ngbConfig=A,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Fs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),le=(()=>{class k{constructor(A,W,be,Fe){this._moduleCFR=A,this._injector=W,this._modalStack=be,this._config=Fe}open(A,W={}){const be={...this._config,animation:this._config.animation,...W};return this._modalStack.open(this._moduleCFR,this._injector,A,be)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(A){this._modalStack.dismissAll(A)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(Me),i.KVO(_e))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Ie=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({providers:[le]}),k})(),et=(()=>{class k{constructor(A){this._ngbConfig=A,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Fs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const wt=k=>$n(k)&&""!==k;let un=0,On=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbNavContent",""]]}),k})(),Xn=(()=>{class k{constructor(A,W){this.elementRef=W,this.disabled=!1,this.shown=new i.bkB,this.hidden=new i.bkB,this._nav=A}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){$n(this.domId)||(this.domId="ngb-nav-"+un++)}get active(){return this._nav.activeId===this.id}get id(){return wt(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return($n(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return k.\u0275fac=function(A){return new(A||k)(i.rXU((0,i.Rfq)(()=>ds)),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavItem",""]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,On,4),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.contentTpls=Fe)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[i.Mj6.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),k})(),ds=(()=>{class k{constructor(A,W,be,Fe){this.role=A,this._cd=be,this._document=Fe,this.activeIdChange=new i.bkB,this.shown=new i.bkB,this.hidden=new i.bkB,this.destroy$=new m.B,this.navItemChange$=new m.B,this.navChange=new i.bkB,this.animation=W.animation,this.destroyOnHide=W.destroyOnHide,this.orientation=W.orientation,this.roles=W.roles,this.keyboard=W.keyboard}click(A){A.disabled||this._updateActiveId(A.id)}onKeyDown(A){if("tablist"!==this.roles||!this.keyboard)return;const W=A.which,be=this.links.filter(yn=>!yn.navItem.disabled),{length:Fe}=be;let Kt=-1;if(be.forEach((yn,An)=>{yn.elRef.nativeElement===this._document.activeElement&&(Kt=An)}),Fe){switch(W){case fs.ArrowLeft:if("vertical"===this.orientation)return;Kt=(Kt-1+Fe)%Fe;break;case fs.ArrowRight:if("vertical"===this.orientation)return;Kt=(Kt+1)%Fe;break;case fs.ArrowDown:if("horizontal"===this.orientation)return;Kt=(Kt+1)%Fe;break;case fs.ArrowUp:if("horizontal"===this.orientation)return;Kt=(Kt-1+Fe)%Fe;break;case fs.Home:Kt=0;break;case fs.End:Kt=Fe-1}"changeWithArrows"===this.keyboard&&this.select(be[Kt].navItem.id),be[Kt].elRef.nativeElement.focus(),A.preventDefault()}}select(A){this._updateActiveId(A,!1)}ngAfterContentInit(){if(!$n(this.activeId)){const A=this.items.first?this.items.first.id:null;wt(A)&&(this._updateActiveId(A,!1),this._cd.detectChanges())}this.items.changes.pipe((0,P.Q)(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:A}){A&&!A.firstChange&&this._notifyItemChanged(A.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(A,W=!0){if(this.activeId!==A){let be=!1;W&&this.navChange.emit({activeId:this.activeId,nextId:A,preventDefault:()=>{be=!0}}),be||(this.activeId=A,this.activeIdChange.emit(A),this._notifyItemChanged(A))}}_notifyItemChanged(A){this.navItemChange$.next(this._getItemById(A))}_getItemById(A){return this.items&&this.items.find(W=>W.id===A)||null}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(et),i.rXU(i.gRc),i.rXU(t.qQ))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNav",""]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,Xn,4),i.wni(be,_i,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.items=Fe),i.mGM(Fe=i.lsd())&&(W.links=Fe)}},hostVars:6,hostBindings:function(A,W){1&A&&i.bIt("keydown.arrowLeft",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowRight",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowDown",function(Fe){return W.onKeyDown(Fe)})("keydown.arrowUp",function(Fe){return W.onKeyDown(Fe)})("keydown.Home",function(Fe){return W.onKeyDown(Fe)})("keydown.End",function(Fe){return W.onKeyDown(Fe)}),2&A&&(i.BMQ("aria-orientation","vertical"===W.orientation&&"tablist"===W.roles?"vertical":void 0)("role",W.role?W.role:W.roles?"tablist":void 0),i.AVh("nav",!0)("flex-column","vertical"===W.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[i.OA$]}),k})(),_i=(()=>{class k{constructor(A,W,be,Fe){this.role=A,this.navItem=W,this.nav=be,this.elRef=Fe}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return k.\u0275fac=function(A){return new(A||k)(i.kS0("role"),i.rXU(Xn),i.rXU(ds),i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(A,W){1&A&&i.bIt("click",function(Fe){return W.nav.click(W.navItem),Fe.preventDefault()}),2&A&&(i.Mr5("id",W.navItem.domId),i.BMQ("role",W.role?W.role:W.nav.roles?"tab":void 0)("tabindex",W.navItem.disabled?-1:void 0)("aria-controls",W.navItem.isPanelInDom()?W.navItem.panelDomId:null)("aria-selected",W.navItem.active)("aria-disabled",W.navItem.disabled),i.AVh("nav-link",!0)("nav-item",W.hasNavItemClass())("active",W.navItem.active)("disabled",W.navItem.disabled))}}),k})();const Wi=({classList:k})=>(k.remove("show"),()=>k.remove("active")),_a=(k,de)=>{de&&Fi(k),k.classList.add("show")};let za=(()=>{class k{constructor(A){this.elRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(A,W){2&A&&(i.Mr5("id",W.item.panelDomId),i.BMQ("role",W.role?W.role:W.nav.roles?"tabpanel":void 0)("aria-labelledby",W.item.domId),i.AVh("fade",W.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}}),k})(),Ia=(()=>{class k{constructor(A,W){this._cd=A,this._ngZone=W,this._activePane=null}isPanelTransitioning(A){return this._activePane?.item===A}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe((0,P.Q)(this.nav.destroy$),(0,U.Z)(this._activePane?.item||null),(0,$.F)(),(0,J.i)(1)).subscribe(A=>{const W={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?wi(this._ngZone,this._activePane.elRef.nativeElement,Wi,W).subscribe(()=>{const be=this._activePane?.item;this._activePane=this._getPaneForItem(A),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),wi(this._ngZone,this._activePane.elRef.nativeElement,_a,W).subscribe(()=>{A&&(A.shown.emit(),this.nav.shown.emit(A.id))})),be&&(be.hidden.emit(),this.nav.hidden.emit(be.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(A){return this._panes&&this._panes.find(W=>W.item===A)||null}_getActivePane(){return this._panes&&this._panes.find(A=>A.item.active)||null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.gRc),i.rXU(i.SKi))},k.\u0275cmp=i.VBU({type:k,selectors:[["","ngbNavOutlet",""]],viewQuery:function(A,W){if(1&A&&i.GBs(za,5),2&A){let be;i.mGM(be=i.lsd())&&(W._panes=be)}},hostVars:2,hostBindings:function(A,W){2&A&&i.AVh("tab-content",!0)},inputs:{paneRole:"paneRole",nav:[i.Mj6.None,"ngbNavOutlet","nav"]},attrs:Zt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,Le,1,1,"ng-template",0),2&A&&i.Y8G("ngForOf",W.nav.items)},dependencies:[t.Sq,t.bT,za,t.T3],encapsulation:2,changeDetection:0}),k})(),So=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Dc=(()=>{class k{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Oc=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationEllipsis",""]]}),k})(),pd=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationFirst",""]]}),k})(),tu=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationLast",""]]}),k})(),nu=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNext",""]]}),k})(),su=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationNumber",""]]}),k})(),ph=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPrevious",""]]}),k})(),iu=(()=>{class k{constructor(A){this.templateRef=A}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.C4Q))},k.\u0275dir=i.FsC({type:k,selectors:[["ng-template","ngbPaginationPages",""]]}),k})(),$p=(()=>{class k{constructor(A){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new i.bkB(!0),this.disabled=A.disabled,this.boundaryLinks=A.boundaryLinks,this.directionLinks=A.directionLinks,this.ellipses=A.ellipses,this.maxSize=A.maxSize,this.pageSize=A.pageSize,this.rotate=A.rotate,this.size=A.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(A){this._updatePages(A)}ngOnChanges(A){this._updatePages(this.page)}isEllipsis(A){return-1===A}_applyEllipses(A,W){this.ellipses&&(A>0&&(A>2?this.pages.unshift(-1):2===A&&this.pages.unshift(2),this.pages.unshift(1)),W<this.pageCount&&(W<this.pageCount-2?this.pages.push(-1):W===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let A=0,W=this.pageCount,be=Math.floor(this.maxSize/2);return this.page<=be?W=this.maxSize:this.pageCount-this.page<be?A=this.pageCount-this.maxSize:(A=this.page-be-1,W=this.page+(this.maxSize%2==0?be-1:be)),[A,W]}_applyPagination(){let W=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[W,W+this.maxSize]}_setPageInRange(A){const W=this.page;this.page=gn(A,this.pageCount,1),this.page!==W&&Wt(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(A){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Wt(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let W=1;W<=this.pageCount;W++)this.pages.push(W);if(this._setPageInRange(A),this.maxSize>0&&this.pageCount>this.maxSize){let W=0,be=this.pageCount;[W,be]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(W,be),this._applyEllipses(W,be)}}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(Dc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-pagination"]],contentQueries:function(A,W,be){if(1&A&&(i.wni(be,Oc,5),i.wni(be,pd,5),i.wni(be,tu,5),i.wni(be,nu,5),i.wni(be,su,5),i.wni(be,ph,5),i.wni(be,iu,5)),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.tplEllipsis=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplFirst=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplLast=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplNext=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplNumber=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplPrevious=Fe.first),i.mGM(Fe=i.lsd())&&(W.tplPages=Fe.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},features:[i.OA$],decls:20,vars:12,consts:()=>{let de,A,W,be,Fe,Kt,yn,An;return de=$localize`:@@ngb.pagination.first:`,A=$localize`:@@ngb.pagination.previous:`,W=$localize`:@@ngb.pagination.next:`,be=$localize`:@@ngb.pagination.last:`,Fe=$localize`:@@ngb.pagination.first-aria:First`,Kt=$localize`:@@ngb.pagination.previous-aria:Previous`,yn=$localize`:@@ngb.pagination.next-aria:Next`,An=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],de,A,W,be,["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["class","sr-only",4,"ngIf"],[1,"sr-only"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",Fe,"href","",1,"page-link",3,"click"],["aria-label",Kt,"href","",1,"page-link",3,"click"],["aria-label",yn,"href","",1,"page-link",3,"click"],["aria-label",An,"href","",1,"page-link",3,"click"]]},template:function(A,W){if(1&A&&(i.DNE(0,Nt,2,0,"ng-template",null,0,i.C5r)(2,Et,2,0,"ng-template",null,1,i.C5r)(4,qt,2,0,"ng-template",null,2,i.C5r)(6,fn,2,0,"ng-template",null,3,i.C5r)(8,Cn,1,0,"ng-template",null,4,i.C5r)(10,hs,2,2,"ng-template",null,5,i.C5r)(12,kn,1,1,"ng-template",null,6,i.C5r),i.j41(14,"ul"),i.DNE(15,as,3,9,"li",11)(16,gs,3,8,"li",11)(17,Is,0,0,"ng-template",12)(18,rn,3,9,"li",11)(19,Zn,3,9,"li",11),i.k0s()),2&A){const be=i.sdS(13);i.R7$(14),i.HbH("pagination"+(W.size?" pagination-"+W.size:"")),i.R7$(),i.Y8G("ngIf",W.boundaryLinks),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngTemplateOutlet",(null==W.tplPages?null:W.tplPages.templateRef)||be)("ngTemplateOutletContext",i.sMw(8,je,W.page,W.pages,W.disabled)),i.R7$(),i.Y8G("ngIf",W.directionLinks),i.R7$(),i.Y8G("ngIf",W.boundaryLinks)}},dependencies:[t.bT,t.Sq,t.T3],encapsulation:2,changeDetection:0}),k})(),fd=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();class rg{constructor(de,A){this.open=de,this.close=A,A||(this.close=de)}isManual(){return"manual"===this.open||"manual"===this.close}}const Wp={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},ir=k=>k>0?(0,V.c)(k):de=>de;let Br=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Kp=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),eo=(()=>{class k{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ao=(()=>{class k{constructor(A,W){this._changeDetectorRef=W,this.contexts=[],this.disabled=!1,this.hover=new i.bkB,this.leave=new i.bkB,this.rateChange=new i.bkB(!0),this.onChange=be=>{},this.onTouched=()=>{},this.max=A.max,this.readonly=A.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(A){this.isInteractive()&&this._updateState(A),this.hover.emit(A)}handleBlur(){this.onTouched()}handleClick(A){this.isInteractive()&&this.update(this.resettable&&this.rate===A?0:A)}handleKeyDown(A){switch(A.which){case fs.ArrowDown:case fs.ArrowLeft:this.update(this.rate-1);break;case fs.ArrowUp:case fs.ArrowRight:this.update(this.rate+1);break;case fs.Home:this.update(0);break;case fs.End:this.update(this.max);break;default:return}A.preventDefault()}ngOnChanges(A){A.rate&&this.update(this.rate),A.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(A){this.disabled=A}update(A,W=!0){const be=gn(A,this.max,0);this.isInteractive()&&this.rate!==be&&(this.rate=be,this.rateChange.emit(this.rate)),W&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(A){this.update(A,!1),this._changeDetectorRef.markForCheck()}_updateState(A){this.nextRate=A,this.contexts.forEach((W,be)=>W.fill=Math.round(100*gn(A-be,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(A,W)=>({fill:0,index:W}))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(eo),i.rXU(i.gRc))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-rating"]],contentQueries:function(A,W,be){if(1&A&&i.wni(be,i.C4Q,5),2&A){let Fe;i.mGM(Fe=i.lsd())&&(W.starTemplateFromContent=Fe.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(A,W){1&A&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Fe){return W.handleKeyDown(Fe)})("mouseleave",function(){return W.reset()}),2&A&&(i.Mr5("tabindex",W.disabled?-1:0),i.BMQ("aria-valuemax",W.max)("aria-valuenow",W.nextRate)("aria-valuetext",W.ariaValueText())("aria-disabled",!!W.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,$e,1,1,"ng-template",null,0,i.C5r)(2,rt,4,5,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.contexts))},dependencies:[t.Sq,t.T3],encapsulation:2,changeDetection:0}),k})(),ws=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();class ou{constructor(de,A,W){this.hour=Ti(de),this.minute=Ti(A),this.second=Ti(W)}changeHour(de=1){this.updateHour((isNaN(this.hour)?0:this.hour)+de)}updateHour(de){this.hour=Wt(de)?(de<0?24+de:de)%24:NaN}changeMinute(de=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+de)}updateMinute(de){Wt(de)?(this.minute=de%60<0?60+de%60:de%60,this.changeHour(Math.floor(de/60))):this.minute=NaN}changeSecond(de=1){this.updateSecond((isNaN(this.second)?0:this.second)+de)}updateSecond(de){Wt(de)?(this.second=de<0?60+de%60:de%60,this.changeMinute(Math.floor(de/60))):this.second=NaN}isValid(de=!0){return Wt(this.hour)&&Wt(this.minute)&&(!de||Wt(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let mi=(()=>{class k{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),Xa=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:()=>function to(){return new js}(),providedIn:"root"}),k})(),js=(()=>{class k extends Xa{fromModel(A){return A&&bn(A.hour)&&bn(A.minute)?{hour:A.hour,minute:A.minute,second:bn(A.second)?A.second:null}:null}toModel(A){return A&&bn(A.hour)&&bn(A.minute)?{hour:A.hour,minute:A.minute,second:bn(A.second)?A.second:null}:null}}return k.\u0275fac=(()=>{let de;return function(W){return(de||(de=i.xGo(k)))(W||k)}})(),k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})(),Pl=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:function(A){let W=null;return W=A?new A:function Jl(k){return new zs(k)}(i.KVO(i.xe9)),W},providedIn:"root"}),k})(),zs=(()=>{class k extends Pl{constructor(A){super(),this._periods=(0,t.rd)(A,t.oV.Standalone,t.cH.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(i.xe9))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac}),k})();const Hp=/[^0-9]/g;let Hv=(()=>{class k{constructor(A,W,be,Fe){this._config=A,this._ngbTimeAdapter=W,this._cd=be,this.i18n=Fe,this.onChange=Kt=>{},this.onTouched=()=>{},this.meridian=A.meridian,this.spinners=A.spinners,this.seconds=A.seconds,this.hourStep=A.hourStep,this.minuteStep=A.minuteStep,this.secondStep=A.secondStep,this.disabled=A.disabled,this.readonlyInputs=A.readonlyInputs,this.size=A.size}set hourStep(A){this._hourStep=bn(A)?A:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(A){this._minuteStep=bn(A)?A:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(A){this._secondStep=bn(A)?A:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(A){const W=this._ngbTimeAdapter.fromModel(A);this.model=W?new ou(W.hour,W.minute,W.second):new ou,!this.seconds&&(!W||!Wt(W.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(A){this.onChange=A}registerOnTouched(A){this.onTouched=A}setDisabledState(A){this.disabled=A}changeHour(A){this.model.changeHour(A),this.propagateModelChange()}changeMinute(A){this.model.changeMinute(A),this.propagateModelChange()}changeSecond(A){this.model.changeSecond(A),this.propagateModelChange()}updateHour(A){const W=this.model.hour>=12,be=Ti(A);this.model.updateHour(this.meridian&&(W&&be<12||!W&&12===be)?be+12:be),this.propagateModelChange()}updateMinute(A){this.model.updateMinute(Ti(A)),this.propagateModelChange()}updateSecond(A){this.model.updateSecond(Ti(A)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(A){A.value=A.value.replace(Hp,"")}formatHour(A){return Wt(A)?li(this.meridian?A%12==0?12:A%12:A%24):li(NaN)}formatMinSec(A){return li(Wt(A)?A:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(A){A.seconds&&!this.seconds&&this.model&&!Wt(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(A=!0){A&&this.onTouched(),this.model.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(mi),i.rXU(Xa),i.rXU(i.gRc),i.rXU(Pl))},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$],decls:16,vars:25,consts:()=>{let de,A,W,be,Fe,Kt,yn,An,Un,is,Ls,us,Ws,pr;return de=$localize`:@@ngb.timepicker.HH:HH`,A=$localize`:@@ngb.timepicker.hours:Hours`,W=$localize`:@@ngb.timepicker.MM:MM`,be=$localize`:@@ngb.timepicker.minutes:Minutes`,Fe=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,Kt=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,yn=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,An=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,Un=$localize`:@@ngb.timepicker.SS:SS`,is=$localize`:@@ngb.timepicker.seconds:Seconds`,Ls=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,us=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,Ws=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,pr=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[["am",""],Fe,Kt,yn,An,Ls,us,Ws,pr,[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",de,"aria-label",A,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",W,"aria-label",be,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"click","disabled"],[1,"chevron","ngb-tp-chevron"],[1,"sr-only"],[1,"chevron","ngb-tp-chevron","bottom"],[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",Un,"aria-label",is,1,"ngb-tp-input","form-control",3,"change","blur","input","keydown.ArrowUp","keydown.ArrowDown","value","readOnly","disabled"],[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[4,"ngIf","ngIfElse"]]},template:function(A,W){1&A&&(i.j41(0,"fieldset",9)(1,"div",10)(2,"div",11),i.DNE(3,ht,4,7,"button",12),i.j41(4,"input",13),i.bIt("change",function(Fe){return W.updateHour(Fe.target.value)})("blur",function(){return W.handleBlur()})("input",function(Fe){return W.formatInput(Fe.target)})("keydown.ArrowUp",function(Fe){return W.changeHour(W.hourStep),Fe.preventDefault()})("keydown.ArrowDown",function(Fe){return W.changeHour(-W.hourStep),Fe.preventDefault()}),i.k0s(),i.DNE(5,Ct,4,7,"button",12),i.k0s(),i.j41(6,"div",14),i.EFF(7,":"),i.k0s(),i.j41(8,"div",15),i.DNE(9,kt,4,7,"button",12),i.j41(10,"input",16),i.bIt("change",function(Fe){return W.updateMinute(Fe.target.value)})("blur",function(){return W.handleBlur()})("input",function(Fe){return W.formatInput(Fe.target)})("keydown.ArrowUp",function(Fe){return W.changeMinute(W.minuteStep),Fe.preventDefault()})("keydown.ArrowDown",function(Fe){return W.changeMinute(-W.minuteStep),Fe.preventDefault()}),i.k0s(),i.DNE(11,sn,4,7,"button",12),i.k0s(),i.DNE(12,Tn,2,0,"div",17)(13,ms,4,9,"div",18)(14,Os,1,0,"div",17)(15,Ds,5,9,"div",19),i.k0s()()),2&A&&(i.AVh("disabled",W.disabled),i.Y8G("disabled",W.disabled),i.R7$(3),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatHour(null==W.model?null:W.model.hour))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(4),i.Y8G("ngIf",W.spinners),i.R7$(),i.AVh("form-control-sm",W.isSmallSize)("form-control-lg",W.isLargeSize),i.Y8G("value",W.formatMinSec(null==W.model?null:W.model.minute))("readOnly",W.readonlyInputs)("disabled",W.disabled),i.R7$(),i.Y8G("ngIf",W.spinners),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.seconds),i.R7$(),i.Y8G("ngIf",W.meridian),i.R7$(),i.Y8G("ngIf",W.meridian))},dependencies:[t.bT],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),k})(),mh=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Ic=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})(),Sa=(()=>{class k{constructor(A){this._ngbConfig=A,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(A){this._animation=A}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(Fs))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),ag=0,Jv=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(A,W){2&A&&(i.Mr5("id",W.id),i.HbH("tooltip"+(W.tooltipClass?" "+W.tooltipClass:"")),i.AVh("fade",W.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:re,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(A,W){1&A&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top .arrow,ngb-tooltip-window.bs-tooltip-bottom .arrow{left:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-top-left .arrow,ngb-tooltip-window.bs-tooltip-bottom-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-top-right .arrow,ngb-tooltip-window.bs-tooltip-bottom-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - 0.4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}\n"],encapsulation:2,changeDetection:0}),k})(),Sn=(()=>{class k{constructor(A,W,be,Fe,Kt,yn,An,Un,is){this._elementRef=A,this._renderer=W,this._ngZone=yn,this._document=An,this._changeDetector=Un,this.shown=new i.bkB,this.hidden=new i.bkB,this._ngbTooltipWindowId="ngb-tooltip-"+ag++,this._windowRef=null,this.animation=Kt.animation,this.autoClose=Kt.autoClose,this.placement=Kt.placement,this.triggers=Kt.triggers,this.container=Kt.container,this.disableTooltip=Kt.disableTooltip,this.tooltipClass=Kt.tooltipClass,this.openDelay=Kt.openDelay,this.closeDelay=Kt.closeDelay,this._popupService=new cl(Jv,be,Fe,W,this._ngZone,is),this._zoneSubscription=yn.onStable.subscribe(()=>{this._windowRef&&ea(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-tooltip")})}set ngbTooltip(A){this._ngbTooltip=A,!A&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(A){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:W,transition$:be}=this._popupService.open(this._ngbTooltip,A,this.animation);this._windowRef=W,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),fa(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),be.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Sl(k,de,A,W,be,Fe,Kt=0,yn=0){const An=function og(k,de=Wp){const A=(k||"").trim();if(0===A.length)return[];const W=A.split(/\s+/).map(Fe=>Fe.split(":")).map(Fe=>{let Kt=de[Fe[0]]||Fe;return new rg(Kt[0],Kt[1])}),be=W.filter(Fe=>Fe.isManual());if(be.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===be.length&&W.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return W}(A);if(1===An.length&&An[0].isManual())return()=>{};const Un=function Vs(k,de,A,W){return new l.c(be=>{const Fe=[],Kt=()=>be.next(!0),yn=()=>be.next(!1),An=()=>be.next(!W());return A.forEach(Un=>{Un.open===Un.close?Fe.push(k.listen(de,Un.open,An)):Fe.push(k.listen(de,Un.open,Kt),k.listen(de,Un.close,yn))}),()=>{Fe.forEach(Un=>Un())}})}(k,de,An,W).pipe(function Yl(k,de,A){return W=>{let be=null;const Fe=W.pipe((0,B.T)(An=>({open:An})),(0,M.p)(An=>{const Un=A();return Un===An.open||be&&be.open!==Un?(be&&be.open!==An.open&&(be=null),!1):(be=An,!0)}),(0,q.u)()),Kt=Fe.pipe((0,M.p)(An=>An.open),ir(k)),yn=Fe.pipe((0,M.p)(An=>!An.open),ir(de));return(0,h.h)(Kt,yn).pipe((0,M.p)(An=>An===be&&(be=null,An.open!==A())),(0,B.T)(An=>An.open))}}(Kt,yn,W)).subscribe(is=>is?be():Fe());return()=>Un.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:A}){A&&this.isOpen()&&(this._windowRef.instance.tooltipClass=A.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(i.c1b),i.rXU(Sa),i.rXU(i.SKi),i.rXU(t.qQ),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[i.OA$]}),k})(),bi=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({}),k})(),Yp=(()=>{class k{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(A){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const W=Bt(this.result),be=Array.isArray(this.term)?this.term:[this.term],Fe=Un=>this.accentSensitive?Un:io(Un),Kt=be.map(Un=>function Ei(k){return k.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(Fe(Bt(Un)))).filter(Un=>Un),yn=this.accentSensitive?W:io(W),An=Kt.length?yn.split(new RegExp(`(${Kt.join("|")})`,"gmi")):[W];if(this.accentSensitive)this.parts=An;else{let Un=0;this.parts=An.map(is=>W.substring(Un,Un+=is.length))}}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},features:[i.OA$],decls:1,vars:1,consts:[["even",""],["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"]],template:function(A,W){1&A&&i.DNE(0,Zi,3,2,"ng-template",1),2&A&&i.Y8G("ngForOf",W.parts)},dependencies:[t.Sq,t.bT],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),k})(),Xp=(()=>{class k{constructor(){this.activeIdx=0,this.focusFirst=!0,this.formatter=Bt,this.selectEvent=new i.bkB,this.activeChangeEvent=new i.bkB}hasActive(){return this.activeIdx>-1&&this.activeIdx<this.results.length}getActive(){return this.results[this.activeIdx]}markActive(A){this.activeIdx=A,this._activeChanged()}next(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}prev(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}resetActive(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}select(A){this.selectEvent.emit(A)}ngOnInit(){this.resetActive()}_activeChanged(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275cmp=i.VBU({type:k,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox"],hostVars:3,hostBindings:function(A,W){1&A&&i.bIt("mousedown",function(Fe){return Fe.preventDefault()}),2&A&&(i.Mr5("id",W.id),i.HbH("dropdown-menu show"+(W.popupClass?" "+W.popupClass:"")))},inputs:{id:"id",focusFirst:"focusFirst",results:"results",term:"term",formatter:"formatter",resultTemplate:"resultTemplate",popupClass:"popupClass"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"mouseenter","click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(A,W){1&A&&i.DNE(0,Ys,1,2,"ng-template",null,0,i.C5r)(2,po,2,9,"ng-template",1),2&A&&(i.R7$(2),i.Y8G("ngForOf",W.results))},dependencies:[Yp,t.Sq,t.T3],encapsulation:2}),k})(),hr=(()=>{class k{constructor(){this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return k.\u0275fac=function(A){return new(A||k)},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const gh=new i.nKC("live announcer delay",{providedIn:"root",factory:function dl(){return 100}});function ka(k,de=!1){let A=k.body.querySelector("#ngb-live");return null==A&&de&&(A=k.createElement("div"),A.setAttribute("id","ngb-live"),A.setAttribute("aria-live","polite"),A.setAttribute("aria-atomic","true"),A.classList.add("sr-only"),k.body.appendChild(A)),A}let Ur=(()=>{class k{constructor(A,W){this._document=A,this._delay=W}ngOnDestroy(){const A=ka(this._document);A&&A.parentElement.removeChild(A)}say(A){const W=ka(this._document,!0),be=this._delay;if(null!=W){W.textContent="";const Fe=()=>W.textContent=A;null===be?Fe():setTimeout(Fe,be)}}}return k.\u0275fac=function(A){return new(A||k)(i.KVO(t.qQ),i.KVO(gh))},k.\u0275prov=i.jDH({token:k,factory:k.\u0275fac,providedIn:"root"}),k})(),gd=0,_h=(()=>{class k{constructor(A,W,be,Fe,Kt,yn,An,Un,is,Ls,us){this._elementRef=A,this._renderer=be,this._live=An,this._document=Un,this._ngZone=is,this._changeDetector=Ls,this._subscription=null,this._closed$=new m.B,this._inputValueBackup=null,this._windowRef=null,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new i.bkB,this.activeDescendant=null,this.popupId="ngb-typeahead-"+gd++,this._onTouched=()=>{},this._onChange=Ws=>{},this.container=Kt.container,this.editable=Kt.editable,this.focusFirst=Kt.focusFirst,this.showHint=Kt.showHint,this.placement=Kt.placement,this._valueChanges=(0,p.R)(A.nativeElement,"input").pipe((0,B.T)(Ws=>Ws.target.value)),this._resubscribeTypeahead=new y.t(null),this._popupService=new cl(Xp,Fe,W,be,this._ngZone,us),this._zoneSubscription=yn.onStable.subscribe(()=>{this.isPopupOpen()&&ea(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}ngOnInit(){this._subscribeToUserInput()}ngOnChanges({ngbTypeahead:A}){A&&!A.firstChange&&(this._unsubscribeFromUserInput(),this._subscribeToUserInput())}ngOnDestroy(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}registerOnChange(A){this._onChange=A}registerOnTouched(A){this._onTouched=A}writeValue(A){this._writeInputValue(this._formatItemForInput(A)),this.showHint&&(this._inputValueBackup=A)}setDisabledState(A){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",A)}dismissPopup(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}isPopupOpen(){return null!=this._windowRef}handleBlur(){this._resubscribeTypeahead.next(null),this._onTouched()}handleKeyDown(A){if(this.isPopupOpen())switch(A.which){case fs.ArrowDown:A.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case fs.ArrowUp:A.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case fs.Enter:case fs.Tab:{const W=this._windowRef.instance.getActive();$n(W)&&(A.preventDefault(),A.stopPropagation(),this._selectResult(W)),this._closePopup();break}}}_openPopup(){if(!this.isPopupOpen()){this._inputValueBackup=this._elementRef.nativeElement.value;const{windowRef:A}=this._popupService.open();this._windowRef=A,this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe(W=>this._selectResultClosePopup(W)),this._windowRef.instance.activeChangeEvent.subscribe(W=>this.activeDescendant=W),this._windowRef.instance.popupClass=this.popupClass,"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),fa(this._ngZone,this._document,"outside",()=>this.dismissPopup(),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement])}}_closePopup(){this._popupService.close().subscribe(()=>{this._closed$.next(),this._windowRef=null,this.activeDescendant=null})}_selectResult(A){let W=!1;this.selectItem.emit({item:A,preventDefault:()=>{W=!0}}),this._resubscribeTypeahead.next(null),W||(this.writeValue(A),this._onChange(A))}_selectResultClosePopup(A){this._selectResult(A),this._closePopup()}_showHint(){if(this.showHint&&this._windowRef?.instance.hasActive()&&null!=this._inputValueBackup){const A=this._inputValueBackup.toLowerCase(),W=this._formatItemForInput(this._windowRef.instance.getActive());A===W.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+W.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,W.length])):this._writeInputValue(W)}}_formatItemForInput(A){return null!=A&&this.inputFormatter?this.inputFormatter(A):Bt(A)}_writeInputValue(A){this._renderer.setProperty(this._elementRef.nativeElement,"value",Bt(A))}_subscribeToUserInput(){const A=this._valueChanges.pipe((0,G.M)(W=>{this._inputValueBackup=this.showHint?W:null,this._onChange(this.editable?W:void 0)}),this.ngbTypeahead?this.ngbTypeahead:()=>(0,f.of)([]));this._subscription=this._resubscribeTypeahead.pipe((0,j.n)(()=>A)).subscribe(W=>{W&&0!==W.length?(this._openPopup(),this._windowRef.instance.focusFirst=this.focusFirst,this._windowRef.instance.results=W,this._windowRef.instance.term=this._elementRef.nativeElement.value,this.resultFormatter&&(this._windowRef.instance.formatter=this.resultFormatter),this.resultTemplate&&(this._windowRef.instance.resultTemplate=this.resultTemplate),this._windowRef.instance.resetActive(),this._windowRef.changeDetectorRef.detectChanges(),this._showHint()):this._closePopup();const be=W?W.length:0;this._live.say(0===be?"No results available":`${be} result${1===be?"":"s"} available`)})}_unsubscribeFromUserInput(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}return k.\u0275fac=function(A){return new(A||k)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(i.zZn),i.rXU(hr),i.rXU(i.SKi),i.rXU(Ur),i.rXU(t.qQ),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(i.o8S))},k.\u0275dir=i.FsC({type:k,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(A,W){1&A&&i.bIt("blur",function(){return W.handleBlur()})("keydown",function(Fe){return W.handleKeyDown(Fe)}),2&A&&(i.Mr5("autocomplete",W.autocomplete),i.BMQ("aria-autocomplete",W.showHint?"both":"list")("aria-activedescendant",W.activeDescendant)("aria-owns",W.isPopupOpen()?W.popupId:null)("aria-expanded",W.isPopupOpen()),i.AVh("open",W.isPopupOpen()))},inputs:{autocomplete:"autocomplete",container:"container",editable:"editable",focusFirst:"focusFirst",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate",showHint:"showHint",placement:"placement",popupClass:"popupClass"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[i.Jv_([{provide:Z.kq,useExisting:(0,i.Rfq)(()=>k),multi:!0}]),i.OA$]}),k})(),Jp=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[[t.MD]]}),k})();const Ql=[qe,Ut,Hi,fr,ke,Ji,Il,Ie,So,fd,Br,Kp,ws,mh,Ic,bi,Jp];let Wo=(()=>{class k{}return k.\u0275fac=function(A){return new(A||k)},k.\u0275mod=i.$C({type:k}),k.\u0275inj=i.G2t({imports:[Ql,qe,Ut,Hi,fr,ke,Ji,Il,Ie,So,fd,Br,Kp,ws,mh,Ic,bi,Jp]}),k})()},1473:(N,T,n)=>{"use strict";n.d(T,{fcY:()=>rt,DAG:()=>ki,P3:()=>ln,Fdw:()=>V,WlY:()=>re,eU4:()=>ue,W25:()=>At,fQD:()=>st,wnr:()=>zt,FlA:()=>De,KMD:()=>qt,PTN:()=>hs,TwG:()=>kn,CTm:()=>gs,_sU:()=>Ct,A0q:()=>Os,JVJ:()=>Ot,M7d:()=>ae,eGm:()=>Lt,dku:()=>Le,mEL:()=>G,fHx:()=>ne,UqU:()=>Ce,f4U:()=>J,cYz:()=>X,S6A:()=>j,R7k:()=>ls,HkG:()=>q,iO5:()=>Ht,fpj:()=>Mn,$eO:()=>ys,J9r:()=>Zn,STK:()=>It,EET:()=>ze,rA_:()=>ut,Vne:()=>Mi,X7I:()=>Et,tK_:()=>fn,z4z:()=>Gs,vJF:()=>nn,Zex:()=>Qs,AjF:()=>ai,zUr:()=>en,fXj:()=>ht,hDs:()=>Z,zno:()=>pn,sU3:()=>Y});var i=n(54438),t=n(31635),l=n(84412),e=n(74402),f=n(7673),m=n(57786),_=(n(52165),n(88141)),v=n(96354),y=n(99172),C=n(23294),O=n(39974),I=n(54360),D=n(57908),h=n(5964),w=n(85188),b=n(89417),P=n(60177);function M(se){return"boolean"==typeof se}function L(se){return"function"==typeof se}function B(se){return"number"==typeof se}function U(se){return"object"==typeof se&&null!==se}function $(se){return"string"==typeof se}class j{constructor(Ve,me){this.layoutService=Ve,this.validationService=me,this._hasFocus=!1}get control(){const Ve=this.group.get(this.model.id);if(null===Ve)throw new Error(`form group does not contain an abstract control with id ${this.model.id}`);return Ve}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}getClass(Ve,me,bt=this.model){const Yt=bt===this.model?this.layout:this.layoutService.findByModel(bt,this.formLayout)??bt.layout;return this.layoutService.getClass(Yt,Ve,me)}onBlur(Ve){Ve instanceof Event&&Ve.stopPropagation(),this._hasFocus=!1,this.blur.emit(Ve)}onChange(Ve){Ve instanceof Event&&Ve.stopPropagation(),this.change.emit(Ve)}onCustomEvent(Ve,me=null,bt=!1){bt?this.customEvent?.emit(Ve):$(me)&&this.customEvent?.emit({customEvent:Ve,customEventType:me})}onFocus(Ve){Ve instanceof Event&&Ve.stopPropagation(),this._hasFocus=!0,this.focus.emit(Ve)}}class G extends j{get array(){return this.control}get startTemplate(){return this.layoutService.getStartTemplate(this.model,this.templates)}get endTemplate(){return this.layoutService.getEndTemplate(this.model,this.templates)}markForCheck(){this.components instanceof i.rOR&&this.components.forEach(Ve=>Ve.markForCheck())}}class z extends j{markForCheck(){this.components instanceof i.rOR&&this.components.forEach(Ve=>Ve.markForCheck())}}const V=new i.nKC("DYNAMIC_FORM_CONTROL_MAP_FN");let X=(()=>{class se{constructor(me){this.DYNAMIC_FORM_CONTROL_MAP_FN=me,this.forms=[],this.formControls={},this.DYNAMIC_FORM_CONTROL_MAP_FN=me}getForms(){return this.forms.values()}registerForm(me){this.forms.push(me)}unregisterForm(me){const bt=this.forms.indexOf(me);-1!==bt&&this.forms.splice(bt,1)}getFormControlRef(me,bt){const Yt=this.formControls[me];return B(bt)?Array.isArray(Yt)?Yt[bt]:void 0:Yt}registerFormControl(me,bt,Yt){if(B(Yt)){const En=this.formControls[me.id]||[];Array.isArray(En)?(En.splice(Yt,0,bt),this.formControls[me.id]=En):console.warn(`registerFormControlRef is called with index for a non-array form control: ${me.id}`)}else this.formControls[me.id]=bt}unregisterFormControl(me,bt){const Yt=this.formControls[me];B(bt)?Array.isArray(Yt)&&void 0!==Yt[bt]&&Yt.splice(bt,1):void 0!==Yt&&delete this.formControls[me]}getCustomComponentType(me){return L(this.DYNAMIC_FORM_CONTROL_MAP_FN)?this.DYNAMIC_FORM_CONTROL_MAP_FN(me):null}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(V,8))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),J=(()=>{class se{constructor(me,bt){this.changeDetectorRef=me,this.componentService=bt}ngOnInit(){this.componentService.registerForm(this)}ngOnDestroy(){this.componentService.unregisterForm(this)}trackByFn(me,bt){return bt.id}markForCheck(){this.changeDetectorRef.markForCheck(),this.components instanceof i.rOR&&this.components.forEach(me=>me.markForCheck())}detectChanges(){this.changeDetectorRef.detectChanges()}onBlur(me){this.blur?.emit(me)}onChange(me){this.change?.emit(me)}onFocus(me){this.focus?.emit(me)}onCustomEvent(me,bt){bt.emit(me)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.gRc),i.rXU(X))},se.\u0275dir=i.FsC({type:se}),se})();var q=function(se){return se.Blur="blur",se.Change="change",se.Focus="focus",se}(q||{});function Z(se){return U(se)&&se.hasOwnProperty("$event")}const H="SERIALIZABLE";function Y(se){return(Ve,me)=>{Reflect.defineMetadata(H,{key:me,name:se||me},Ve,me)}}function ie(se,Ve){return function Q(se){const Ve=[];for(const me in se){const bt=Reflect.getMetadata(H,se,me);bt&&Ve.push(bt)}return Ve}(Ve||se).reduce((me,bt)=>(me[bt.name]=se[bt.key],me),{})}let oe=(()=>{class se{constructor(me,bt=null){this.parent=null,this.asyncValidators=me.asyncValidators??null,this.errorMessages=me.errorMessages??null,this.hidden=!!M(me.hidden)&&me.hidden,this.id=me.id,this.label=me.label??null,this.labelTooltip=me.labelTooltip??null,this.controlTooltip=me.controlTooltip??null,this.layout=bt,this.name=me.name??me.id,this.relations=Array.isArray(me.relations)?me.relations:[],this.updateOn=$(me.updateOn)?me.updateOn:null,this.validators=me.validators??null,this._disabled=!!M(me.disabled)&&me.disabled,this.disabled$=new l.t(this._disabled),this.disabled$.subscribe(Yt=>this._disabled=Yt),this.disabledChanges=this.disabled$.asObservable()}get disabled(){return this.disabled$.getValue()}set disabled(me){this.disabled$.next(me)}get hasErrorMessages(){return U(this.errorMessages)}toJSON(){return ie(this)}}return(0,t.Cg)([Y()],se.prototype,"asyncValidators",void 0),(0,t.Cg)([Y("disabled")],se.prototype,"_disabled",void 0),(0,t.Cg)([Y()],se.prototype,"errorMessages",void 0),(0,t.Cg)([Y()],se.prototype,"hidden",void 0),(0,t.Cg)([Y()],se.prototype,"id",void 0),(0,t.Cg)([Y()],se.prototype,"label",void 0),(0,t.Cg)([Y()],se.prototype,"labelTooltip",void 0),(0,t.Cg)([Y()],se.prototype,"controlTooltip",void 0),(0,t.Cg)([Y()],se.prototype,"layout",void 0),(0,t.Cg)([Y()],se.prototype,"name",void 0),(0,t.Cg)([Y()],se.prototype,"relations",void 0),(0,t.Cg)([Y()],se.prototype,"updateOn",void 0),(0,t.Cg)([Y()],se.prototype,"validators",void 0),se})(),pe=(()=>{class se extends oe{constructor(me,bt){super(me,bt),this.additional=U(me.additional)?me.additional:null,this.hint=me.hint??null,this.required=!!M(me.required)&&me.required,this.tabIndex=me.tabIndex??null,this._value=me.value??null,this.value$=new l.t(this._value),this.value$.subscribe(Yt=>this._value=Yt),this.valueChanges=this.value$.asObservable()}get value(){return this.value$.getValue()}set value(me){this.value$.next(me)}getAdditional(me,bt){return null!==this.additional&&this.additional.hasOwnProperty(me)?this.additional[me]:bt}}return(0,t.Cg)([Y()],se.prototype,"additional",void 0),(0,t.Cg)([Y()],se.prototype,"hint",void 0),(0,t.Cg)([Y()],se.prototype,"required",void 0),(0,t.Cg)([Y()],se.prototype,"tabIndex",void 0),(0,t.Cg)([Y("value")],se.prototype,"_value",void 0),se})(),ne=(()=>{class se{constructor(me,bt=[],Yt=-1){this.$implicit=this,this.context=me,this.group=bt,this.index=Yt}get parent(){return this.context}get(me){return this.group[me]}toJSON(){return ie(this)}}return(0,t.Cg)([Y()],se.prototype,"group",void 0),(0,t.Cg)([Y()],se.prototype,"index",void 0),se})();const re="ARRAY";let Ce=(()=>{class se extends oe{constructor(me,bt){if(super(me,bt),this.groups=[],this.type=re,!L(me.groupFactory))throw new Error("group factory function must be specified for DynamicFormArrayModel");if(this.groupFactory=me.groupFactory,this.groupAsyncValidators=me.groupAsyncValidators??null,this.groupPrototype=this.groupFactory(),this.groupValidators=me.groupValidators??null,this.initialCount=B(me.initialCount)?me.initialCount:1,Array.isArray(me.groups))me.groups.forEach((Yt,En)=>{this.groups.push(new ne(this,Yt.group,Yt.index??En))});else for(let Yt=0;Yt<this.initialCount;Yt++)this.addGroup()}updateGroupIndex(){this.groups.forEach((me,bt)=>me.index=bt)}get size(){return this.groups.length}get(me){return this.groups[me]}addGroup(){return this.insertGroup(this.groups.length)}insertGroup(me){const bt=new ne(this,this.groupFactory());return this.groups.splice(me,0,bt),this.updateGroupIndex(),bt}moveGroup(me,bt){this.groups.splice(me+bt,0,...this.groups.splice(me,1)),this.updateGroupIndex()}removeGroup(me){this.groups.splice(me,1),this.updateGroupIndex()}clear(){this.groups.splice(0),this.updateGroupIndex()}}return(0,t.Cg)([Y()],se.prototype,"groupAsyncValidators",void 0),(0,t.Cg)([Y()],se.prototype,"groupValidators",void 0),(0,t.Cg)([Y()],se.prototype,"groups",void 0),(0,t.Cg)([Y()],se.prototype,"initialCount",void 0),(0,t.Cg)([Y()],se.prototype,"groupPrototype",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),Ee=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.labelPosition=me.labelPosition??null,this.checked=!!M(this.value)&&this.value}get checked(){return this.value??!1}set checked(me){this.value=me}toggle(){this.checked=!this.checked}}return(0,t.Cg)([Y()],se.prototype,"labelPosition",void 0),se})();const ue="CHECKBOX";let ae=(()=>{class se extends Ee{constructor(me,bt){super(me,bt),this.type=ue,this.indeterminate=!!M(me.indeterminate)&&me.indeterminate}}return(0,t.Cg)([Y()],se.prototype,"indeterminate",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),ye=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.autoComplete=me.autoComplete??"on",this.autoFocus=!!M(me.autoFocus)&&me.autoFocus,this.maxLength=B(me.maxLength)?me.maxLength:null,this.minLength=B(me.minLength)?me.minLength:null,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.readOnly=!!M(me.readOnly)&&me.readOnly,this.spellCheck=!!M(me.spellCheck)&&me.spellCheck,this.suffix=me.suffix??null}}return(0,t.Cg)([Y()],se.prototype,"autoComplete",void 0),(0,t.Cg)([Y()],se.prototype,"autoFocus",void 0),(0,t.Cg)([Y()],se.prototype,"maxLength",void 0),(0,t.Cg)([Y()],se.prototype,"minLength",void 0),(0,t.Cg)([Y()],se.prototype,"placeholder",void 0),(0,t.Cg)([Y()],se.prototype,"prefix",void 0),(0,t.Cg)([Y()],se.prototype,"readOnly",void 0),(0,t.Cg)([Y()],se.prototype,"spellCheck",void 0),(0,t.Cg)([Y()],se.prototype,"suffix",void 0),se})();const De="INPUT";let ut=(()=>{class se extends ye{constructor(me,bt){super(me,bt),this.files=null,this.list$=null,this._list=null,this._listId=null,this.type=De,this.accept=me.accept??null,this.inputType=me.inputType??"text",this.mask=me.mask??"",this.maskConfig=me.maskConfig?{...w.Dz,...me.maskConfig}:w.Dz,this.max=void 0!==me.max?me.max:null,this.min=void 0!==me.min?me.min:null,this.multiple=M(me.multiple)?me.multiple:null,this.pattern=me.pattern??null,this.step=B(me.step)?me.step:null,void 0!==me.list&&(this.list=me.list,this._listId=`${this.id}List`)}get listId(){return this._listId}get hasList(){return(0,e.A)(this.list$)}set list(me){Array.isArray(me)?(this._list=me,this.list$=(0,f.of)(this._list)):(0,e.A)(me)?this.list$=me.pipe((0,_.M)(bt=>this._list=bt)):(this._list=null,this.list$=null)}}return(0,t.Cg)([Y()],se.prototype,"accept",void 0),(0,t.Cg)([Y()],se.prototype,"inputType",void 0),(0,t.Cg)([Y()],se.prototype,"mask",void 0),(0,t.Cg)([Y()],se.prototype,"maskConfig",void 0),(0,t.Cg)([Y()],se.prototype,"max",void 0),(0,t.Cg)([Y()],se.prototype,"min",void 0),(0,t.Cg)([Y()],se.prototype,"multiple",void 0),(0,t.Cg)([Y()],se.prototype,"pattern",void 0),(0,t.Cg)([Y()],se.prototype,"step",void 0),(0,t.Cg)([Y("list")],se.prototype,"_list",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();var cn=function(se){return se.Start="START",se.End="END",se}(cn||{});let nn=(()=>{class se{constructor(me){this.templateRef=me,this.align=cn.End,this.as=null}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.C4Q))},se.\u0275dir=i.FsC({type:se,selectors:[["ng-template","modelId",""],["ng-template","modelType",""]],inputs:{align:"align",as:"as",index:"index",modelId:"modelId",modelType:"modelType"}}),se})(),Mn=(()=>{class se{findById(me,bt){if(U(bt))for(const Yt of Object.keys(bt))if(Yt===me)return bt[Yt];return null}findByModel(me,bt){let Yt=null;if(U(bt))for(const En of Object.keys(bt))En.split(",").forEach(Yn=>{const cs=Yn.trim();(cs===me.id||cs===me.type)&&(Yt=bt[En])});return Yt}filterTemplatesByModel(me,bt){return bt instanceof i.rOR||Array.isArray(bt)?bt.filter(En=>En.modelId===me.id||En.modelType===me.type):[]}getAlignedTemplate(me,bt,Yt){return this.filterTemplatesByModel(me,bt).find(En=>null===En.as&&En.align===Yt)}getStartTemplate(me,bt){return this.getAlignedTemplate(me,bt,cn.Start)}getEndTemplate(me,bt){return this.getAlignedTemplate(me,bt,cn.End)}getClass(me,bt,Yt){if(U(me)&&me.hasOwnProperty(bt)){const En=me[bt];if(En.hasOwnProperty(Yt))return En[Yt]}return""}getHostClass(me){let Yt="";return U(me)&&["element","grid"].forEach(En=>{U(me[En])&&$(me[En]?.host)&&(Yt+=` ${me[En]?.host}`)}),Yt}getElementId(me){let bt=me.id,Yt=me.parent;for(;null!==Yt;){if(Yt instanceof ne){bt=`${Yt.context.id}-${Yt.index}-${me.id}`;break}Yt=Yt.parent}return bt}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();var Tt=function(se){return se.Blur="blur",se.Change="change",se.Submit="submit",se}(Tt||{});const $t=new i.nKC("DYNAMIC_VALIDATORS"),ln=new i.nKC("DYNAMIC_ERROR_MESSAGES_MATCHER");let It=(()=>{class se{constructor(me,bt,Yt,En){this._NG_VALIDATORS=me,this._NG_ASYNC_VALIDATORS=bt,this._DYNAMIC_VALIDATORS=Yt,this._DYNAMIC_ERROR_MESSAGES_MATCHER=En}getValidatorFn(me,bt=null,Yt=this._NG_VALIDATORS){let En;if(b.k0.hasOwnProperty(me)?En=b.k0[me]:this._DYNAMIC_VALIDATORS&&this._DYNAMIC_VALIDATORS.has(me)?En=this._DYNAMIC_VALIDATORS.get(me):Yt&&(En=Yt.find(Yn=>Yn.name===me)),void 0===En)throw new Error(`validator "${me}" is not provided via NG_VALIDATORS, NG_ASYNC_VALIDATORS or DYNAMIC_FORM_VALIDATORS`);return null!==bt?En(bt):En}getValidatorFns(me,bt=this._NG_VALIDATORS){let Yt=[];return U(me)&&(Yt=Object.keys(me).map(En=>{const Yn=me[En];return this.isValidatorDescriptor(Yn)?this.getValidatorFn(Yn.name,Yn.args,bt):this.getValidatorFn(En,Yn,bt)})),Yt}getValidator(me,bt=null){return this.getValidatorFn(me,bt)}getAsyncValidator(me,bt=null){return this.getValidatorFn(me,bt,this._NG_ASYNC_VALIDATORS)}getValidators(me){return this.getValidatorFns(me)}getAsyncValidators(me){return this.getValidatorFns(me,this._NG_ASYNC_VALIDATORS)}updateValidators(me,bt,Yt){Yt.validators=me,null===me?bt.clearValidators():bt.setValidators(this.getValidators(me)),bt.updateValueAndValidity()}updateAsyncValidators(me,bt,Yt){Yt.asyncValidators=me,null===me?bt.clearAsyncValidators():bt.setAsyncValidators(this.getAsyncValidators(me)),bt.updateValueAndValidity()}showErrorMessages(me,bt,Yt){const En=me.invalid&&bt.hasErrorMessages,Yn=this._DYNAMIC_ERROR_MESSAGES_MATCHER?this._DYNAMIC_ERROR_MESSAGES_MATCHER(me,bt,Yt):((se,Ve,me)=>se.touched&&!me)(me,0,Yt);return En&&Yn}parseErrorMessageConfig(me,bt,Yt=null){return me.replace(/{{\s*(.+?)\s*}}/gm,(En,Yn)=>{let cs=bt,xs=Yn;return Yn.indexOf("validator.")>=0&&Yt&&(cs=Yt,xs=Yn.replace("validator.","")),null!=cs[xs]?cs[xs]:null})}createErrorMessages(me,bt){const Yt=[];if(bt.hasErrorMessages){const En=bt.errorMessages;Object.keys(me.errors||{}).forEach(Yn=>{let cs=Yn;if(("minlength"===Yn||"maxlength"===Yn)&&(cs=cs.replace("length","Length")),En.hasOwnProperty(cs)){const xs=me.getError(Yn);Yt.push(this.parseErrorMessageConfig(En[cs],bt,xs))}})}return Yt}isFormHook(me){return $(me)&&Object.values(Tt).includes(me)}isValidatorDescriptor(me){return!!U(me)&&me.hasOwnProperty("name")&&me.hasOwnProperty("args")}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(b.cz,8),i.KVO(b.pg,8),i.KVO($t,8),i.KVO(ln,8))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const zt="GROUP";let Ht=(()=>{class se extends oe{constructor(me,bt){super(me,bt),this.type=zt,this.group=Array.isArray(me.group)?me.group:[],this.legend=me.legend??null}get(me){return this.group[me]}set(me,bt){this.group[me]=bt}add(me){this.group.push(me)}insert(me,bt){this.group.splice(me,0,bt)}move(me,bt){this.group.splice(me+bt,0,...this.group.splice(me,1))}remove(me){this.group.splice(me,1)}size(){return this.group.length}}return(0,t.Cg)([Y()],se.prototype,"group",void 0),(0,t.Cg)([Y()],se.prototype,"legend",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();const At="CHECKBOX_GROUP";let Ot=(()=>{class se extends Ht{constructor(me,bt){super(me,bt),this.type=At}check(...me){me.forEach(bt=>this.group[bt].checked=!0)}uncheck(...me){me.forEach(bt=>this.group[bt].checked=!1)}checkAll(){this.group.forEach(me=>me.checked=!0)}uncheckAll(){this.group.forEach(me=>me.checked=!1)}}return(0,t.Cg)([Y()],se.prototype,"group",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();const Zt="COLORPICKER";let Dt=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.type=Zt,this.format=$(me.format)?me.format:null,this.inline=!!M(me.inline)&&me.inline}}return(0,t.Cg)([Y()],se.prototype,"format",void 0),(0,t.Cg)([Y()],se.prototype,"inline",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),Lt=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.format=me.format??null,this.max=me.max??null,this.min=me.min??null,this.placeholder=me.placeholder??null}}return(0,t.Cg)([Y()],se.prototype,"format",void 0),(0,t.Cg)([Y()],se.prototype,"max",void 0),(0,t.Cg)([Y()],se.prototype,"min",void 0),(0,t.Cg)([Y()],se.prototype,"placeholder",void 0),se})();const st="DATEPICKER";let Le=(()=>{class se extends Lt{constructor(me,bt){super(me,bt),this.type=st,this.autoFocus=!!M(me.autoFocus)&&me.autoFocus,this.focusedDate=me.focusedDate??null,this.inline=!!M(me.inline)&&me.inline,this.prefix=me.prefix??null,this.readOnly=!!M(me.readOnly)&&me.readOnly,this.toggleIcon=$(me.toggleIcon)?me.toggleIcon:null,this.toggleLabel=$(me.toggleLabel)?me.toggleLabel:null,this.suffix=me.suffix??null}}return(0,t.Cg)([Y()],se.prototype,"autoFocus",void 0),(0,t.Cg)([Y()],se.prototype,"focusedDate",void 0),(0,t.Cg)([Y()],se.prototype,"inline",void 0),(0,t.Cg)([Y()],se.prototype,"prefix",void 0),(0,t.Cg)([Y()],se.prototype,"readOnly",void 0),(0,t.Cg)([Y()],se.prototype,"suffix",void 0),(0,t.Cg)([Y()],se.prototype,"toggleIcon",void 0),(0,t.Cg)([Y()],se.prototype,"toggleLabel",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),He=(()=>{class se extends ye{constructor(me,bt){super(me,bt),this.type="EDITOR"}}return(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),Be=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.multiple=!!M(me.multiple)&&me.multiple}}return(0,t.Cg)([Y()],se.prototype,"multiple",void 0),se})();const Pt="FILE_UPLOAD";let Je=(()=>{class se extends Be{constructor(me,bt){super(me,bt),this.type=Pt,this.accept=Array.isArray(me.accept)?me.accept:null,this.autoUpload=!M(me.autoUpload)||me.autoUpload,this.maxSize=B(me.maxSize)?me.maxSize:null,this.minSize=B(me.minSize)?me.minSize:null,this.removeUrl=me.removeUrl??null,this.showFileList=!M(me.showFileList)||me.showFileList,this.url=me.url??null}}return(0,t.Cg)([Y()],se.prototype,"accept",void 0),(0,t.Cg)([Y()],se.prototype,"autoUpload",void 0),(0,t.Cg)([Y()],se.prototype,"maxSize",void 0),(0,t.Cg)([Y()],se.prototype,"minSize",void 0),(0,t.Cg)([Y()],se.prototype,"removeUrl",void 0),(0,t.Cg)([Y()],se.prototype,"showFileList",void 0),(0,t.Cg)([Y()],se.prototype,"url",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),Nt=(()=>{class se{constructor(me){this.disabled=!!M(me.disabled)&&me.disabled,this.label=me.label??null,this.value=me.value}get text(){return this.label}set text(me){this.label=me}toJSON(){return ie(this)}}return(0,t.Cg)([Y()],se.prototype,"disabled",void 0),(0,t.Cg)([Y()],se.prototype,"label",void 0),(0,t.Cg)([Y()],se.prototype,"value",void 0),se})(),Et=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this._options=[],this.options=me.options}updateOptions$(){this.options$=(0,f.of)(this.options)}set options(me){Array.isArray(me)?(this._options=me.map(bt=>new Nt(bt)),this.updateOptions$()):(0,e.A)(me)?this.options$=me.pipe((0,v.T)(bt=>(this._options=bt.map(Yt=>new Nt(Yt)),this._options))):this.updateOptions$()}get options(){return this._options}add(me){return this.insert(this.options.length,me)}get(me){return this.options[me]}insert(me,bt){const Yt=new Nt(bt);return this.options.splice(me,0,Yt),this.updateOptions$(),Yt}remove(...me){me.forEach(bt=>this.options.splice(bt,1)),this.updateOptions$()}}return(0,t.Cg)([Y("options")],se.prototype,"_options",void 0),se})();const qt="RADIO_GROUP";let fn=(()=>{class se extends Et{constructor(me,bt){super(me,bt),this.type=qt,this.legend=me.legend??null}select(me){this.value=this.get(me).value}}return(0,t.Cg)([Y()],se.prototype,"legend",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),ns=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.type="RATING",this.max=B(me.max)?me.max:10}}return(0,t.Cg)([Y()],se.prototype,"max",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();const hs="SELECT";let Gs=(()=>{class se extends Et{constructor(me,bt){super(me,bt),this.type=hs,this.compareWithFn=L(me.compareWithFn)?me.compareWithFn:Object.is,this.filterable=!!M(me.filterable)&&me.filterable,this.multiple=!!M(me.multiple)&&me.multiple,this.placeholder=me.placeholder??"",this.prefix=me.prefix??null,this.suffix=me.suffix??null}select(...me){this.value=this.multiple?me.map(bt=>this.get(bt).value):this.get(me[0]).value}}return(0,t.Cg)([Y()],se.prototype,"filterable",void 0),(0,t.Cg)([Y()],se.prototype,"multiple",void 0),(0,t.Cg)([Y()],se.prototype,"placeholder",void 0),(0,t.Cg)([Y()],se.prototype,"prefix",void 0),(0,t.Cg)([Y()],se.prototype,"suffix",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),ct=(()=>{class se extends pe{constructor(me,bt){super(me,bt),this.type="SLIDER",this.max=B(me.max)?me.max:10,this.min=B(me.min)?me.min:0,this.step=B(me.step)?me.step:1,this.vertical=!!M(me.vertical)&&me.vertical}}return(0,t.Cg)([Y()],se.prototype,"max",void 0),(0,t.Cg)([Y()],se.prototype,"min",void 0),(0,t.Cg)([Y()],se.prototype,"step",void 0),(0,t.Cg)([Y()],se.prototype,"vertical",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})(),Pn=(()=>{class se extends Ee{constructor(me,bt){super(me,bt),this.type="SWITCH",this.offLabel=me.offLabel??null,this.onLabel=me.onLabel??null}}return(0,t.Cg)([Y()],se.prototype,"offLabel",void 0),(0,t.Cg)([Y()],se.prototype,"onLabel",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();const kn="TEXTAREA";let Qs=(()=>{class se extends ye{constructor(me,bt){super(me,bt),this.type=kn,this.cols=B(me.cols)?me.cols:20,this.rows=B(me.rows)?me.rows:2,this.wrap=me.wrap??"soft"}}return(0,t.Cg)([Y()],se.prototype,"cols",void 0),(0,t.Cg)([Y()],se.prototype,"rows",void 0),(0,t.Cg)([Y()],se.prototype,"wrap",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();const gs="TIMEPICKER";let Is=(()=>{class se extends Lt{constructor(me,bt){super(me,bt),this.type=gs,this.meridian=!!M(me.meridian)&&me.meridian,this.showSeconds=!!M(me.showSeconds)&&me.showSeconds}}return(0,t.Cg)([Y()],se.prototype,"meridian",void 0),(0,t.Cg)([Y()],se.prototype,"showSeconds",void 0),(0,t.Cg)([Y()],se.prototype,"type",void 0),se})();function pn(se,Ve){return $(Ve)&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|([+\-])([\d|:]*))?$/.test(Ve)?new Date(Ve):Ve}let Zn=(()=>{class se{constructor(me,bt){this.componentService=me,this.validationService=bt}createAbstractControlOptions(me=null,bt=null,Yt=null){return{asyncValidators:null!==bt?this.validationService.getAsyncValidators(bt):null,validators:null!==me?this.validationService.getValidators(me):null,updateOn:null!==Yt&&this.validationService.isFormHook(Yt)?Yt:Tt.Change}}createFormArray(me){const bt=[],Yt=this.createAbstractControlOptions(me.validators,me.asyncValidators,me.updateOn);for(let En=0;En<me.size;En++){const Yn=me.get(En),cs=this.createAbstractControlOptions(me.groupValidators,me.groupAsyncValidators,me.updateOn);bt.push(this.createFormGroup(Yn.group,cs,Yn))}return new b.Bm(bt,Yt)}createFormGroup(me,bt=null,Yt=null){const En={};return me.forEach(Yn=>{switch(Yn.parent=Yt,Yn.type){case re:En[Yn.id]=this.createFormArray(Yn);break;case zt:case At:const cs=Yn,xs=this.createAbstractControlOptions(cs.validators,cs.asyncValidators,cs.updateOn);En[Yn.id]=this.createFormGroup(cs.group,xs,cs);break;default:const Gi={value:Yn.value,disabled:Yn.disabled},xr=this.createAbstractControlOptions(Yn.validators,Yn.asyncValidators,Yn.updateOn);En[Yn.id]=new b.hs(Gi,xr)}}),new b.J3(En,bt)}getPathSegment(me){return me instanceof ne?me.index.toString():me.id}getPath(me,bt=!1){const Yt=[this.getPathSegment(me)];let En=me.parent;for(;En;)Yt.unshift(this.getPathSegment(En)),En=En.parent;return bt?Yt.join("."):Yt}addFormGroupControl(me,bt,...Yt){bt instanceof Ht?this.insertFormGroupControl(bt.size(),me,bt,...Yt):this.insertFormGroupControl(bt.length,me,bt,...Yt)}moveFormGroupControl(me,bt,Yt){Yt instanceof Ht?Yt.move(me,bt):Yt.splice(me+bt,0,...Yt.splice(me,1))}insertFormGroupControl(me,bt,Yt,...En){const cs=this.createFormGroup(En,null,Yt instanceof Ht?Yt:null).controls;Object.keys(cs).forEach((xs,Yi)=>{const Gi=En[Yi];Yt instanceof Ht?Yt.insert(me,Gi):Yt.splice(me,0,Gi),bt.addControl(xs,cs[xs])})}removeFormGroupControl(me,bt,Yt){Yt instanceof Ht?(bt.removeControl(Yt.get(me).id),Yt.remove(me)):(bt.removeControl(Yt[me].id),Yt.splice(me,1))}addFormArrayGroup(me,bt){const Yt=bt.addGroup();me.push(this.createFormGroup(Yt.group,null,Yt))}insertFormArrayGroup(me,bt,Yt){const En=Yt.insertGroup(me);bt.insert(me,this.createFormGroup(En.group,null,En))}moveFormArrayGroup(me,bt,Yt,En){const Yn=me+bt,cs=bt>=0;if(!(me>=0&&me<En.size&&Yn>=0&&Yn<En.size))throw new Error("form array group cannot be moved due to index or new index being out of bounds");{const xs=[];for(let Yi=cs?me:Yn;Yi<=(cs?Yn:me);Yi++)xs.push(Yt.at(Yi));xs.forEach((Yi,Gi)=>{let xr;xr=cs?0===Gi?Yn:me+Gi-1:Gi===xs.length-1?Yn:Yn+Gi+1,Yt.setControl(xr,Yi)}),En.moveGroup(me,bt)}}removeFormArrayGroup(me,bt,Yt){bt.removeAt(me),Yt.removeGroup(me)}clearFormArray(me,bt){me.clear(),bt.clear()}findById(me,bt){const Yt=(Yn,cs)=>{for(const xs of cs){if(xs.id===Yn){En=xs;break}xs instanceof Ht&&Yt(Yn,xs.group)}};let En=null;return Yt(me,bt),En}findModelById(me,bt){return this.findById(me,bt)}findControlByModel(me,bt){return bt.root.get(this.getPath(me,!0))}detectChanges(me){if(me instanceof J)me.markForCheck(),me.detectChanges();else for(const bt of this.componentService.getForms())bt.markForCheck(),bt.detectChanges()}fromJSON(me){const bt=$(me)?JSON.parse(me,pn):me,Yt=[];return bt.forEach(En=>{const Yn=En.layout??null;switch(En.type){case re:const cs=En;Array.isArray(cs.groups)&&cs.groups.forEach(xs=>{xs.group=this.fromJSON(xs.group)}),cs.groupFactory=()=>this.fromJSON(cs.groupPrototype),Yt.push(new Ce(En,Yn));break;case ue:Yt.push(new ae(En,Yn));break;case At:En.group=this.fromJSON(En.group),Yt.push(new Ot(En,Yn));break;case Zt:Yt.push(new Dt(En,Yn));break;case st:Yt.push(new Le(En,Yn));break;case"EDITOR":Yt.push(new He(En,Yn));break;case Pt:En.value=null,Yt.push(new Je(En,Yn));break;case zt:En.group=this.fromJSON(En.group),Yt.push(new Ht(En,Yn));break;case De:Yt.push(new ut(En,Yn));break;case qt:Yt.push(new fn(En,Yn));break;case"RATING":Yt.push(new ns(En,Yn));break;case hs:Yt.push(new Gs(En,Yn));break;case"SLIDER":Yt.push(new ct(En,Yn));break;case"SWITCH":Yt.push(new Pn(En,Yn));break;case kn:Yt.push(new Qs(En,Yn));break;case gs:Yt.push(new Is(En,Yn));break;default:throw new Error(`unknown form control model type defined on JSON object with id "${En.id}"`)}}),Yt}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(X),i.KVO(It))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();const ai="ENABLED",en="VISIBLE",rt="AND",ht="OR",Ct=new i.nKC("DYNAMIC_MATCHERS"),Os=[{provide:Ct,useValue:{match:"DISABLED",opposingMatch:ai,onChange(se,Ve){Ve.disabled=se}},multi:!0},{provide:Ct,useValue:{match:"HIDDEN",opposingMatch:en,onChange(se,Ve){Ve.hidden=se}},multi:!0},{provide:Ct,useValue:{match:"REQUIRED",opposingMatch:"OPTIONAL",onChange(se,Ve,me,bt){let Yt=null;se?Yt=U(Ve.validators)?{...Ve.validators,required:null}:{required:null}:U(Ve.validators)&&(delete Ve.validators.required,Yt={...Ve.validators}),bt.get(It).updateValidators(Yt,me,Ve),bt.get(Zn).detectChanges()}},multi:!0}];let ys=(()=>{class se{constructor(me,bt){this.MATCHERS=me,this.injector=bt}getRelatedFormControls(me,bt){const Yt=(Yn,cs)=>{const xs=cs.rootPath??cs.id;if($(xs)&&!Yn.hasOwnProperty(xs)){const Yi=cs.rootPath?bt.root.get(cs.rootPath):bt.get(cs.id);Yi instanceof b.hs?Yn[xs]=Yi:console.warn(`No related form control with id ${cs.id} could be found`)}return Yn};return me.relations.reduce((Yn,cs)=>cs.when.reduce(Yt,Yn),{})}findRelationByMatcher(me,bt){return me.find(Yt=>[bt.match,bt.opposingMatch].includes(Yt.match))}matchesCondition(me,bt,Yt){const En=me.operator??ht;return me.when.reduce((Yn,cs,xs)=>{const Yi=cs.rootPath??cs.id;let Gi;for(const[xr,Ci]of Object.entries(bt))if(xr===Yi){Gi=Ci;break}return Gi&&me.match===Yt.match?!(xs>0&&En===rt&&!Yn||!(xs>0&&En===ht&&Yn)&&cs.value!==Gi.value&&cs.status!==Gi.status):!(!Gi||me.match!==Yt.opposingMatch||!(xs>0&&En===rt&&Yn)&&(xs>0&&En===ht&&!Yn||cs.value===Gi.value||cs.status===Gi.status))},!1)}subscribeRelations(me,bt,Yt){const En=this.getRelatedFormControls(me,bt),Yn=[];return Object.values(En).forEach(cs=>{const xs=cs.valueChanges.pipe((0,y.Z)(cs.value),(0,C.F)()),Yi=cs.statusChanges.pipe((0,y.Z)(cs.status),(0,C.F)());Yn.push((0,m.h)(xs,Yi).subscribe(()=>{this.MATCHERS.forEach(Gi=>{const xr=this.findRelationByMatcher(me.relations,Gi);if(void 0!==xr){const Ci=this.matchesCondition(xr,En,Gi);Gi.onChange(Ci,me,Yt,this.injector)}})}))}),Yn}}return se.\u0275fac=function(me){return new(me||se)(i.KVO(Ct,8),i.KVO(i.zZn))},se.\u0275prov=i.jDH({token:se,factory:se.\u0275fac,providedIn:"root"}),se})(),ls=(()=>{class se{constructor(me,bt,Yt,En,Yn,cs){this.changeDetectorRef=me,this.componentFactoryResolver=bt,this.layoutService=Yt,this.validationService=En,this.componentService=Yn,this.relationService=cs,this._hasFocus=!1,this.context=null,this.componentSubscriptions=[],this.subscriptions=[]}ngOnChanges(me){const bt=me.group,En=me.model;(me.layout||En)&&this.onLayoutOrModelChange(),En&&this.onModelChange(),(bt||En)&&this.onGroupOrModelChange()}ngOnInit(){this.subscriptions.push(this.control.statusChanges.pipe(function R(se,Ve=null){return Ve=Ve??se,(0,O.N)((me,bt)=>{let Yt=[],En=0;me.subscribe((0,I._)(bt,Yn=>{let cs=null;En++%Ve==0&&Yt.push([]);for(const xs of Yt)xs.push(Yn),se<=xs.length&&(cs=cs??[],cs.push(xs));if(cs)for(const xs of cs)(0,D.o)(Yt,xs),bt.next(xs)},()=>{for(const Yn of Yt)bt.next(Yn);bt.complete()},void 0,()=>{Yt=null}))})}(2,1),(0,v.T)(me=>me[0]),(0,h.p)(me=>"PENDING"===me)).subscribe(me=>this.markForCheck()))}ngOnDestroy(){this.destroyFormControlComponent(),this.unsubscribe()}get id(){return this.layoutService.getElementId(this.model)}get hasFocus(){return this._hasFocus}get isInvalid(){return this.control.invalid}get isValid(){return this.control.valid}get errorMessages(){return this.validationService.createErrorMessages(this.control,this.model)}get showErrorMessages(){return this.validationService.showErrorMessages(this.control,this.model,this.hasFocus)}get hasLabel(){return $(this.model.label)}get hasHint(){return $(this.model.hint)}get hint(){return this.model.hint??null}get isCheckbox(){return this.model.type===ue}get templates(){return void 0!==this.inputTemplateList?this.inputTemplateList:this.contentTemplateList}get startTemplate(){return this.model.type!==re?this.layoutService.getStartTemplate(this.model,this.templates):void 0}get endTemplate(){return this.model.type!==re?this.layoutService.getEndTemplate(this.model,this.templates):void 0}getClass(me,bt){return this.layoutService.getClass(this.controlLayout,me,bt)}markForCheck(){this.changeDetectorRef.markForCheck();const me=this.componentRef&&this.componentRef.instance;me&&(me instanceof z||me instanceof G)&&me.markForCheck()}createFormControlComponent(){const me=this.componentType;if(null!==me){const bt=this.componentFactoryResolver.resolveComponentFactory(me);this.componentViewContainerRef.clear(),this.componentRef=this.componentViewContainerRef.createComponent(bt);const Yt=this.componentRef.instance;Yt.formLayout=this.layout,Yt.group=this.group,Yt.layout=this.controlLayout,Yt.model=this.model,this.templates&&(Yt.templates=this.templates),this.componentSubscriptions.push(Yt.blur.subscribe(En=>this.onBlur(En))),this.componentSubscriptions.push(Yt.change.subscribe(En=>this.onChange(En))),this.componentSubscriptions.push(Yt.focus.subscribe(En=>this.onFocus(En))),void 0!==Yt.customEvent&&this.componentSubscriptions.push(Yt.customEvent.subscribe(En=>this.onCustomEvent(En))),this.registerFormControlComponentRef(this.componentRef)}}destroyFormControlComponent(){this.componentRef&&(this.componentSubscriptions.forEach(me=>me.unsubscribe()),this.componentSubscriptions=[],this.unregisterFormControlComponentRef(),this.componentRef.destroy())}createDynamicFormControlEvent(me,bt){return{$event:me,context:this.context,control:this.control,group:this.group,model:this.model,type:bt}}unsubscribe(){this.subscriptions.forEach(me=>me.unsubscribe()),this.subscriptions=[]}onControlValueChanges(me){this.model instanceof pe&&this.model.value!==me&&(this.model.value=me)}onModelValueUpdates(me){this.control.value!==me&&this.control.setValue(me)}onModelDisabledUpdates(me){me?this.control.disable():this.control.enable()}onLayoutOrModelChange(){this.controlLayout=this.layoutService.findByModel(this.model,this.layout)??this.model.layout,this.klass=`${Array.isArray(this.hostClass)?this.hostClass.join(" "):""} ${this.layoutService.getHostClass(this.controlLayout)}`}onModelChange(){this.destroyFormControlComponent(),this.createFormControlComponent()}onGroupOrModelChange(){this.model&&(this.unsubscribe(),this.group&&(this.control=this.group.get(this.model.id),this.subscriptions.push(this.control.valueChanges.subscribe(me=>this.onControlValueChanges(me)))),this.subscriptions.push(this.model.disabledChanges.subscribe(me=>this.onModelDisabledUpdates(me))),this.model instanceof pe&&this.subscriptions.push(this.model.valueChanges.subscribe(bt=>this.onModelValueUpdates(bt))),this.model.relations.length>0&&this.subscriptions.push(...this.relationService.subscribeRelations(this.model,this.group,this.control)))}onChange(me){if(me instanceof Event){if(this.model.type===De){const bt=this.model;"file"===bt.inputType&&(bt.files=me.target.files)}this.change.emit(this.createDynamicFormControlEvent(me,q.Change))}else Z(me)?this.change.emit(me):this.change.emit(this.createDynamicFormControlEvent(me,q.Change))}onBlur(me){Z(me)?this.blur.emit(me):(this._hasFocus=!1,this.blur.emit(this.createDynamicFormControlEvent(me,q.Blur)))}onFocus(me){Z(me)?this.focus.emit(me):(this._hasFocus=!0,this.focus.emit(this.createDynamicFormControlEvent(me,q.Focus)))}onCustomEvent(me){const bt=this.customEvent;Z(me)?bt.emit(me):bt.emit(this.createDynamicFormControlEvent(me.customEvent,me.customEventType))}registerFormControlComponentRef(me){this.context instanceof ne?this.componentService.registerFormControl(this.model,me,this.context.index):this.componentService.registerFormControl(this.model,me)}unregisterFormControlComponentRef(){this.context instanceof ne?this.componentService.unregisterFormControl(this.model.id,this.context.index):this.componentService.unregisterFormControl(this.model.id)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.gRc),i.rXU(i.OM3),i.rXU(Mn),i.rXU(It),i.rXU(X),i.rXU(ys))},se.\u0275dir=i.FsC({type:se,features:[i.OA$]}),se})(),Mi=(()=>{class se{constructor(me,bt){this.elementRef=me,this.renderer=bt}ngAfterViewInit(){$(this.listId)&&this.renderer.setAttribute(this.elementRef.nativeElement,"list",this.listId)}}return se.\u0275fac=function(me){return new(me||se)(i.rXU(i.aKT),i.rXU(i.sFG))},se.\u0275dir=i.FsC({type:se,selectors:[["","dynamicList",""]],inputs:{listId:[i.Mj6.None,"dynamicList","listId"]}}),se})();const ki="off";let ze=(()=>{class se{static forRoot(){return{ngModule:se,providers:[Zn,Mn,It,X,ys]}}}return se.\u0275fac=function(me){return new(me||se)},se.\u0275mod=i.$C({type:se}),se.\u0275inj=i.G2t({imports:[P.MD,b.X1]}),se})()},20766:(N,T,n)=>{"use strict";n.d(T,{C_:()=>R,hO:()=>X,hr:()=>p,jr:()=>U});var i=n(25499),t=n(54438),l=n(7901),e=n(53993);const f="@ngrx/router-store/request",p=((0,i.VP)(f,(0,i.xk)()),"@ngrx/router-store/navigation"),v=((0,i.VP)(p,(0,i.xk)()),"@ngrx/router-store/cancel"),C=((0,i.VP)(v,(0,i.xk)()),"@ngrx/router-store/error"),I=((0,i.VP)(C,(0,i.xk)()),"@ngrx/router-store/navigated");function R(Z,H){const Y=H;switch(Y.type){case p:case C:case v:return{state:Y.payload.routerState,navigationId:Y.payload.event.id};default:return Z}}(0,i.VP)(I,(0,i.xk)());class h{serialize(H){return{root:this.serializeRoute(H.root),url:H.url}}serializeRoute(H){const Y=H.children.map(Q=>this.serializeRoute(Q));return{params:H.params,data:H.data,url:H.url,outlet:H.outlet,title:H.title,routeConfig:H.routeConfig?{path:H.routeConfig.path,pathMatch:H.routeConfig.pathMatch,redirectTo:H.routeConfig.redirectTo,outlet:H.routeConfig.outlet,title:"string"==typeof H.routeConfig.title?H.routeConfig.title:void 0}:null,queryParams:H.queryParams,fragment:H.fragment,firstChild:Y[0],children:Y}}}var w=function(Z){return Z[Z.PreActivation=1]="PreActivation",Z[Z.PostActivation=2]="PostActivation",Z}(w||{});const b="router",P=new t.nKC("@ngrx/router-store Internal Configuration"),M=new t.nKC("@ngrx/router-store Configuration");function L(Z){return{stateKey:b,serializer:h,navigationActionTiming:w.PreActivation,...Z}}class B{serialize(H){return{root:this.serializeRoute(H.root),url:H.url}}serializeRoute(H){const Y=H.children.map(Q=>this.serializeRoute(Q));return{params:H.params,paramMap:H.paramMap,data:H.data,url:H.url,outlet:H.outlet,title:H.title,routeConfig:H.routeConfig?{component:H.routeConfig.component,path:H.routeConfig.path,pathMatch:H.routeConfig.pathMatch,redirectTo:H.routeConfig.redirectTo,outlet:H.routeConfig.outlet,title:H.routeConfig.title}:null,queryParams:H.queryParams,queryParamMap:H.queryParamMap,fragment:H.fragment,component:H.routeConfig?H.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:Y[0],pathFromRoot:void 0,children:Y}}}class U{}var $=function(Z){return Z[Z.NONE=1]="NONE",Z[Z.ROUTER=2]="ROUTER",Z[Z.STORE=3]="STORE",Z}($||{});let j=(()=>{class Z{constructor(Y,Q,ie,oe,pe,ne){this.store=Y,this.router=Q,this.serializer=ie,this.errorHandler=oe,this.config=pe,this.activeRuntimeChecks=ne,this.lastEvent=null,this.routerState=null,this.trigger=$.NONE,this.stateKey=this.config.stateKey,!(0,i.Lg)()&&(0,t.naY)()&&(ne?.strictActionSerializability||ne?.strictStateSerializability)&&this.serializer instanceof B&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe((0,i.Lt)(this.stateKey),(0,e.E)(this.store)).subscribe(([Y,Q])=>{this.navigateIfNeeded(Y,Q)})}navigateIfNeeded(Y,Q){if(!Y||!Y.state||this.trigger===$.ROUTER||this.lastEvent instanceof l.Z)return;const ie=Y.state.url;(function G(Z,H){return z(Z)===z(H)})(this.router.url,ie)||(this.storeState=Q,this.trigger=$.STORE,this.router.navigateByUrl(ie).catch(oe=>{this.errorHandler.handleError(oe)}))}setUpRouterEventsListener(){const Y=this.config.navigationActionTiming===w.PostActivation;let Q;this.router.events.pipe((0,e.E)(this.store)).subscribe(([ie,oe])=>{this.lastEvent=ie,ie instanceof l.Z?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==$.STORE&&(this.storeState=oe,this.dispatchRouterRequest(ie))):ie instanceof l.ld?(Q=ie,!Y&&this.trigger!==$.STORE&&this.dispatchRouterNavigation(ie)):ie instanceof l.j5?(this.dispatchRouterCancel(ie),this.reset()):ie instanceof l.L6?(this.dispatchRouterError(ie),this.reset()):ie instanceof l.wF&&(this.trigger!==$.STORE&&(Y&&this.dispatchRouterNavigation(Q),this.dispatchRouterNavigated(ie)),this.reset())})}dispatchRouterRequest(Y){this.dispatchRouterAction(f,{event:Y})}dispatchRouterNavigation(Y){const Q=this.serializer.serialize(Y.state);this.dispatchRouterAction(p,{routerState:Q,event:new l.ld(Y.id,Y.url,Y.urlAfterRedirects,Q)})}dispatchRouterCancel(Y){this.dispatchRouterAction(v,{storeState:this.storeState,event:Y})}dispatchRouterError(Y){this.dispatchRouterAction(C,{storeState:this.storeState,event:new l.L6(Y.id,Y.url,`${Y}`)})}dispatchRouterNavigated(Y){const Q=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(I,{event:Y,routerState:Q})}dispatchRouterAction(Y,Q){this.trigger=$.ROUTER;try{this.store.dispatch({type:Y,payload:{routerState:this.routerState,...Q,event:0===this.config.routerState?Q.event:{id:Q.event.id,url:Q.event.url,urlAfterRedirects:Q.event.urlAfterRedirects}}})}finally{this.trigger=$.NONE}}reset(){this.trigger=$.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(Q){return new(Q||Z)(t.KVO(i.il),t.KVO(l.Ix),t.KVO(U),t.KVO(t.zcH),t.KVO(M),t.KVO(i.A5))}}static{this.\u0275prov=t.jDH({token:Z,factory:Z.\u0275fac})}}return Z})();function z(Z){return Z?.length>0&&"/"===Z[Z.length-1]?Z.substring(0,Z.length-1):Z}function V(Z={}){return(0,t.EmA)([{provide:P,useValue:Z},{provide:M,useFactory:L,deps:[P]},{provide:U,useClass:Z.serializer?Z.serializer:0===Z.routerState?B:h},{provide:t.Z63,multi:!0,useFactory:()=>()=>(0,t.WQX)(j)},j])}let X=(()=>{class Z{static forRoot(Y={}){return{ngModule:Z,providers:[V(Y)]}}static{this.\u0275fac=function(Q){return new(Q||Z)}}static{this.\u0275mod=t.$C({type:Z})}static{this.\u0275inj=t.G2t({})}}return Z})()},25499:(N,T,n)=>{"use strict";n.d(T,{A5:()=>Ge,sA:()=>Tt,il:()=>zt,ae:()=>Ys,md:()=>$i,wc:()=>Ms,iK:()=>tt,VP:()=>M,UX:()=>kn,Mz:()=>ct,Lg:()=>Cn,xk:()=>L,Lt:()=>At});var i=n(54438),t=n(84412),l=n(71985),e=n(21413),f=n(47242),m=n(40941),p=n(53993),_=n(31943),v=n(96354),C=n(23294);function w(Bt,gn){const tn=!gn?.manualCleanup;tn&&!gn?.injector&&(0,i.Af3)(w);const Wt=tn?gn?.injector?.get(i.abz)??(0,i.WQX)(i.abz):null;let bn;bn=(0,i.vPA)(gn?.requireSync?{kind:0}:{kind:1,value:gn?.initialValue});const $n=Bt.subscribe({next:vs=>bn.set({kind:1,value:vs}),error:vs=>{if(gn?.rejectErrors)throw vs;bn.set({kind:2,error:vs})}});return Wt?.onDestroy($n.unsubscribe.bind($n)),(0,i.EWP)(()=>{const vs=bn();switch(vs.kind){case 1:return vs.value;case 2:throw vs.error;case 0:throw new i.wOt(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}const b={};function M(Bt,gn){if(b[Bt]=(b[Bt]||0)+1,"function"==typeof gn)return U(Bt,(...Wt)=>({...gn(...Wt),type:Bt}));switch(gn?gn._as:"empty"){case"empty":return U(Bt,()=>({type:Bt}));case"props":return U(Bt,Wt=>({...Wt,type:Bt}));default:throw new Error("Unexpected config.")}}function L(){return{_as:"props",_p:void 0}}function U(Bt,gn){return Object.defineProperty(gn,"type",{value:Bt,writable:!1})}const J="@ngrx/store/init";let q=(()=>{class Bt extends t.t{constructor(){super({type:J})}next(tn){if("function"==typeof tn)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof tn>"u")throw new TypeError("Actions must be objects");if(typeof tn.type>"u")throw new TypeError("Actions must have a type property");super.next(tn)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(Wt){return new(Wt||Bt)}}static{this.\u0275prov=i.jDH({token:Bt,factory:Bt.\u0275fac})}}return Bt})();const Z=[q],H=new i.nKC("@ngrx/store Internal Root Guard"),Y=new i.nKC("@ngrx/store Internal Initial State"),Q=new i.nKC("@ngrx/store Initial State"),ie=new i.nKC("@ngrx/store Reducer Factory"),oe=new i.nKC("@ngrx/store Internal Reducer Factory Provider"),pe=new i.nKC("@ngrx/store Initial Reducers"),ne=new i.nKC("@ngrx/store Internal Initial Reducers"),re=new i.nKC("@ngrx/store Store Features"),Ce=new i.nKC("@ngrx/store Internal Store Reducers"),Ee=new i.nKC("@ngrx/store Internal Feature Reducers"),ue=new i.nKC("@ngrx/store Internal Feature Configs"),ae=new i.nKC("@ngrx/store Internal Store Features"),ye=new i.nKC("@ngrx/store Internal Feature Reducers Token"),De=new i.nKC("@ngrx/store Feature Reducers"),tt=new i.nKC("@ngrx/store User Provided Meta Reducers"),_t=new i.nKC("@ngrx/store Meta Reducers"),We=new i.nKC("@ngrx/store Internal Resolved Meta Reducers"),dt=new i.nKC("@ngrx/store User Runtime Checks Config"),it=new i.nKC("@ngrx/store Internal User Runtime Checks Config"),Ge=new i.nKC("@ngrx/store Internal Runtime Checks"),gt=new i.nKC("@ngrx/store Check if Action types are unique");function vt(Bt,gn={}){const tn=Object.keys(Bt),Wt={};for(let $n=0;$n<tn.length;$n++){const vs=tn[$n];"function"==typeof Bt[vs]&&(Wt[vs]=Bt[vs])}const bn=Object.keys(Wt);return function(vs,li){vs=void 0===vs?gn:vs;let Ei=!1;const ar={};for(let fi=0;fi<bn.length;fi++){const Fi=bn[fi],io=vs[Fi],wr=(0,Wt[Fi])(io,li);ar[Fi]=wr,Ei=Ei||wr!==io}return Ei?ar:vs}}function nt(...Bt){return function(gn){if(0===Bt.length)return gn;const tn=Bt[Bt.length-1];return Bt.slice(0,-1).reduceRight((bn,$n)=>$n(bn),tn(gn))}}function lt(Bt,gn){return Array.isArray(gn)&&gn.length>0&&(Bt=nt.apply(null,[...gn,Bt])),(tn,Wt)=>{const bn=Bt(tn);return($n,vs)=>bn($n=void 0===$n?Wt:$n,vs)}}new i.nKC("@ngrx/store Root Store Provider"),new i.nKC("@ngrx/store Feature State Provider");class Ne extends l.c{}class ut extends q{}let nn=(()=>{class Bt extends t.t{get currentReducers(){return this.reducers}constructor(tn,Wt,bn,$n){super($n(bn,Wt)),this.dispatcher=tn,this.initialState=Wt,this.reducers=bn,this.reducerFactory=$n}addFeature(tn){this.addFeatures([tn])}addFeatures(tn){const Wt=tn.reduce((bn,{reducers:$n,reducerFactory:vs,metaReducers:li,initialState:Ei,key:ar})=>{const fi="function"==typeof $n?function ve(Bt){const gn=Array.isArray(Bt)&&Bt.length>0?nt(...Bt):tn=>tn;return(tn,Wt)=>(tn=gn(tn),(bn,$n)=>tn(bn=void 0===bn?Wt:bn,$n))}(li)($n,Ei):lt(vs,li)($n,Ei);return bn[ar]=fi,bn},{});this.addReducers(Wt)}removeFeature(tn){this.removeFeatures([tn])}removeFeatures(tn){this.removeReducers(tn.map(Wt=>Wt.key))}addReducer(tn,Wt){this.addReducers({[tn]:Wt})}addReducers(tn){this.reducers={...this.reducers,...tn},this.updateReducers(Object.keys(tn))}removeReducer(tn){this.removeReducers([tn])}removeReducers(tn){tn.forEach(Wt=>{this.reducers=function at(Bt,gn){return Object.keys(Bt).filter(tn=>tn!==gn).reduce((tn,Wt)=>Object.assign(tn,{[Wt]:Bt[Wt]}),{})}(this.reducers,Wt)}),this.updateReducers(tn)}updateReducers(tn){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:tn})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(Wt){return new(Wt||Bt)(i.KVO(ut),i.KVO(Q),i.KVO(pe),i.KVO(ie))}}static{this.\u0275prov=i.jDH({token:Bt,factory:Bt.\u0275fac})}}return Bt})();const Mn=[nn,{provide:Ne,useExisting:nn},{provide:ut,useExisting:q}];let Tt=(()=>{class Bt extends e.B{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let tn;return function(bn){return(tn||(tn=i.xGo(Bt)))(bn||Bt)}})()}static{this.\u0275prov=i.jDH({token:Bt,factory:Bt.\u0275fac})}}return Bt})();const $t=[Tt];class St extends l.c{}let Jt=(()=>{class Bt extends t.t{static{this.INIT=J}constructor(tn,Wt,bn,$n){super($n);const ar=tn.pipe((0,m.Q)(f.T)).pipe((0,p.E)(Wt)).pipe((0,_.S)(ln,{state:$n}));this.stateSubscription=ar.subscribe(({state:fi,action:Fi})=>{this.next(fi),bn.next(Fi)}),this.state=w(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(Wt){return new(Wt||Bt)(i.KVO(q),i.KVO(Ne),i.KVO(Tt),i.KVO(Q))}}static{this.\u0275prov=i.jDH({token:Bt,factory:Bt.\u0275fac})}}return Bt})();function ln(Bt={state:void 0},[gn,tn]){const{state:Wt}=Bt;return{state:tn(Wt,gn),action:gn}}const It=[Jt,{provide:St,useExisting:Jt}];let zt=(()=>{class Bt extends l.c{constructor(tn,Wt,bn){super(),this.actionsObserver=Wt,this.reducerManager=bn,this.source=tn,this.state=tn.state}select(tn,...Wt){return At.call(null,tn,...Wt)(this)}selectSignal(tn,Wt){return(0,i.EWP)(()=>tn(this.state()),Wt)}lift(tn){const Wt=new Bt(this,this.actionsObserver,this.reducerManager);return Wt.operator=tn,Wt}dispatch(tn){this.actionsObserver.next(tn)}next(tn){this.actionsObserver.next(tn)}error(tn){this.actionsObserver.error(tn)}complete(){this.actionsObserver.complete()}addReducer(tn,Wt){this.reducerManager.addReducer(tn,Wt)}removeReducer(tn){this.reducerManager.removeReducer(tn)}static{this.\u0275fac=function(Wt){return new(Wt||Bt)(i.KVO(St),i.KVO(q),i.KVO(nn))}}static{this.\u0275prov=i.jDH({token:Bt,factory:Bt.\u0275fac})}}return Bt})();const Ht=[zt];function At(Bt,gn,...tn){return function(bn){let $n;if("string"==typeof Bt){const vs=[gn,...tn].filter(Boolean);$n=bn.pipe(function y(...Bt){const gn=Bt.length;if(0===gn)throw new Error("list of properties cannot be empty.");return(0,v.T)(tn=>{let Wt=tn;for(let bn=0;bn<gn;bn++){const $n=Wt?.[Bt[bn]];if(!(typeof $n<"u"))return;Wt=$n}return Wt})}(Bt,...vs))}else{if("function"!=typeof Bt)throw new TypeError(`Unexpected type '${typeof Bt}' in select operator, expected 'string' or 'function'`);$n=bn.pipe((0,v.T)(vs=>Bt(vs,gn)))}return $n.pipe((0,C.F)())}}const Ot="https://ngrx.io/guide/store/configuration/runtime-checks";function Zt(Bt){return void 0===Bt}function Dt(Bt){return null===Bt}function Lt(Bt){return Array.isArray(Bt)}function He(Bt){return"object"==typeof Bt&&null!==Bt}function Je(Bt){return"function"==typeof Bt}let qt=!1;function Cn(){return qt}function ns(Bt,gn){return Bt===gn}function yt(Bt,gn=ns,tn=ns){let $n,Wt=null,bn=null;return{memoized:function ar(){if(void 0!==$n)return $n.result;if(!Wt)return bn=Bt.apply(null,arguments),Wt=arguments,bn;if(!function hs(Bt,gn,tn){for(let Wt=0;Wt<Bt.length;Wt++)if(!tn(Bt[Wt],gn[Wt]))return!0;return!1}(arguments,Wt,gn))return bn;const fi=Bt.apply(null,arguments);return Wt=arguments,tn(bn,fi)?bn:(bn=fi,fi)},reset:function vs(){Wt=null,bn=null},setResult:function li(fi=void 0){$n={result:fi}},clearResult:function Ei(){$n=void 0}}}function ct(...Bt){return function Pn(Bt,gn={stateFn:Xt}){return function(...tn){let Wt=tn;if(Array.isArray(Wt[0])){const[fi,...Fi]=Wt;Wt=[...fi,...Fi]}else 1===Wt.length&&function rs(Bt){return!!Bt&&"object"==typeof Bt&&Object.values(Bt).every(gn=>"function"==typeof gn)}(Wt[0])&&(Wt=function as(Bt){const gn=Object.values(Bt),tn=Object.keys(Bt);return[...gn,(...bn)=>tn.reduce(($n,vs,li)=>({...$n,[vs]:bn[li]}),{})]}(Wt[0]));const bn=Wt.slice(0,Wt.length-1),$n=Wt[Wt.length-1],vs=bn.filter(fi=>fi.release&&"function"==typeof fi.release),li=Bt(function(...fi){return $n.apply(null,fi)}),Ei=yt(function(fi,Fi){return gn.stateFn.apply(null,[fi,bn,Fi,li])});return Object.assign(Ei.memoized,{release:function ar(){Ei.reset(),li.reset(),vs.forEach(fi=>fi.release())},projector:li.memoized,setResult:Ei.setResult,clearResult:Ei.clearResult})}}(yt)(...Bt)}function Xt(Bt,gn,tn,Wt){if(void 0===tn){const $n=gn.map(vs=>vs(Bt));return Wt.memoized.apply(null,$n)}const bn=gn.map($n=>$n(Bt,tn));return Wt.memoized.apply(null,[...bn,tn])}function kn(Bt){return ct(gn=>{const tn=gn[Bt];return!Cn()&&(0,i.naY)()&&!(Bt in gn)&&console.warn(`@ngrx/store: The feature name "${Bt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Bt}', ...) or StoreModule.forFeature('${Bt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),tn},gn=>gn)}function os(Bt){return Bt instanceof i.nKC?(0,i.WQX)(Bt):Bt}function rn(Bt,gn){return gn.map((tn,Wt)=>{if(Bt[Wt]instanceof i.nKC){const bn=(0,i.WQX)(Bt[Wt]);return{key:tn.key,reducerFactory:bn.reducerFactory?bn.reducerFactory:vt,metaReducers:bn.metaReducers?bn.metaReducers:[],initialState:bn.initialState}}return tn})}function pn(Bt){return Bt.map(gn=>gn instanceof i.nKC?(0,i.WQX)(gn):gn)}function Zn(Bt){return"function"==typeof Bt?Bt():Bt}function Ps(Bt,gn){return Bt.concat(gn)}function ai(){if((0,i.WQX)(zt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Gt(Bt){Object.freeze(Bt);const gn=Je(Bt);return Object.getOwnPropertyNames(Bt).forEach(tn=>{if(!tn.startsWith("\u0275")&&function Et(Bt,gn){return Object.prototype.hasOwnProperty.call(Bt,gn)}(Bt,tn)&&(!gn||"caller"!==tn&&"callee"!==tn&&"arguments"!==tn)){const Wt=Bt[tn];(He(Wt)||Je(Wt))&&!Object.isFrozen(Wt)&&Gt(Wt)}}),Bt}function en(Bt,gn=[]){return(Zt(Bt)||Dt(Bt))&&0===gn.length?{path:["root"],value:Bt}:Object.keys(Bt).reduce((Wt,bn)=>{if(Wt)return Wt;const $n=Bt[bn];return function Nt(Bt){return Je(Bt)&&Bt.hasOwnProperty("\u0275cmp")}($n)?Wt:!(Zt($n)||Dt($n)||function je(Bt){return"number"==typeof Bt}($n)||function Le(Bt){return"boolean"==typeof Bt}($n)||function st(Bt){return"string"==typeof Bt}($n)||Lt($n))&&(function Pt(Bt){if(!function Be(Bt){return He(Bt)&&!Lt(Bt)}(Bt))return!1;const gn=Object.getPrototypeOf(Bt);return gn===Object.prototype||null===gn}($n)?en($n,[...gn,bn]):{path:[...gn,bn],value:$n})},!1)}function rt(Bt,gn){if(!1===Bt)return;const tn=Bt.path.join("."),Wt=new Error(`Detected unserializable ${gn} at "${tn}". ${Ot}#strict${gn}serializability`);throw Wt.value=Bt.value,Wt.unserializablePath=tn,Wt}function Ct(Bt){return(0,i.naY)()?{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1,...Bt}:{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function kt({strictActionSerializability:Bt,strictStateSerializability:gn}){return tn=>Bt||gn?function $e(Bt,gn){return function(tn,Wt){gn.action(Wt)&&rt(en(Wt),"action");const bn=Bt(tn,Wt);return gn.state()&&rt(en(bn),"state"),bn}}(tn,{action:Wt=>Bt&&!Tn(Wt),state:()=>gn}):tn}function sn({strictActionImmutability:Bt,strictStateImmutability:gn}){return tn=>Bt||gn?function mt(Bt,gn){return function(tn,Wt){const bn=gn.action(Wt)?Gt(Wt):Wt,$n=Bt(tn,bn);return gn.state()?Gt($n):$n}}(tn,{action:Wt=>Bt&&!Tn(Wt),state:()=>gn}):tn}function Tn(Bt){return Bt.type.startsWith("@ngrx")}function Vn({strictActionWithinNgZone:Bt}){return gn=>Bt?function ht(Bt,gn){return function(tn,Wt){if(gn.action(Wt)&&!i.SKi.isInAngularZone())throw new Error(`Action '${Wt.type}' running outside NgZone. ${Ot}#strictactionwithinngzone`);return Bt(tn,Wt)}}(gn,{action:tn=>Bt&&!Tn(tn)}):gn}function Ln(Bt){return[{provide:it,useValue:Bt},{provide:dt,useFactory:Os,deps:[it]},{provide:Ge,deps:[dt],useFactory:Ct},{provide:_t,multi:!0,deps:[Ge],useFactory:sn},{provide:_t,multi:!0,deps:[Ge],useFactory:kt},{provide:_t,multi:!0,deps:[Ge],useFactory:Vn}]}function ms(){return[{provide:gt,multi:!0,deps:[Ge],useFactory:ys}]}function Os(Bt){return Bt}function ys(Bt){if(!Bt.strictActionTypeUniqueness)return;const gn=Object.entries(b).filter(([,tn])=>tn>1).map(([tn])=>tn);if(gn.length)throw new Error(`Action types are registered more than once, ${gn.map(tn=>`"${tn}"`).join(", ")}. ${Ot}#strictactiontypeuniqueness`)}function Ds(Bt={},gn={}){return[{provide:H,useFactory:ai},{provide:Y,useValue:gn.initialState},{provide:Q,useFactory:Zn,deps:[Y]},{provide:ne,useValue:Bt},{provide:Ce,useExisting:Bt instanceof i.nKC?Bt:ne},{provide:pe,deps:[ne,[new i.y_5(Ce)]],useFactory:os},{provide:tt,useValue:gn.metaReducers?gn.metaReducers:[]},{provide:We,deps:[_t,tt],useFactory:Ps},{provide:oe,useValue:gn.reducerFactory?gn.reducerFactory:vt},{provide:ie,deps:[oe,We],useFactory:lt},Z,Mn,$t,It,Ht,Ln(gn.runtimeChecks),ms()]}function Zi(Bt,gn,tn={}){return[{provide:ue,multi:!0,useValue:Bt instanceof Object?{}:tn},{provide:re,multi:!0,useValue:{key:Bt instanceof Object?Bt.name:Bt,reducerFactory:tn instanceof i.nKC||!tn.reducerFactory?vt:tn.reducerFactory,metaReducers:tn instanceof i.nKC||!tn.metaReducers?[]:tn.metaReducers,initialState:tn instanceof i.nKC||!tn.initialState?void 0:tn.initialState}},{provide:ae,deps:[ue,re],useFactory:rn},{provide:Ee,multi:!0,useValue:Bt instanceof Object?Bt.reducer:gn},{provide:ye,multi:!0,useExisting:gn instanceof i.nKC?gn:Ee},{provide:De,multi:!0,deps:[Ee,[new i.y_5(ye)]],useFactory:pn},ms()]}let Ms=(()=>{class Bt{constructor(tn,Wt,bn,$n,vs,li){}static{this.\u0275fac=function(Wt){return new(Wt||Bt)(i.KVO(q),i.KVO(Ne),i.KVO(Tt),i.KVO(zt),i.KVO(H,8),i.KVO(gt,8))}}static{this.\u0275mod=i.$C({type:Bt})}static{this.\u0275inj=i.G2t({})}}return Bt})(),Ys=(()=>{class Bt{constructor(tn,Wt,bn,$n,vs){this.features=tn,this.featureReducers=Wt,this.reducerManager=bn;const li=tn.map((Ei,ar)=>{const Fi=Wt.shift()[ar];return{...Ei,reducers:Fi,initialState:Zn(Ei.initialState)}});bn.addFeatures(li)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(Wt){return new(Wt||Bt)(i.KVO(ae),i.KVO(De),i.KVO(nn),i.KVO(Ms),i.KVO(gt,8))}}static{this.\u0275mod=i.$C({type:Bt})}static{this.\u0275inj=i.G2t({})}}return Bt})(),$i=(()=>{class Bt{static forRoot(tn,Wt){return{ngModule:Ms,providers:[...Ds(tn,Wt)]}}static forFeature(tn,Wt,bn={}){return{ngModule:Ys,providers:[...Zi(tn,Wt,bn)]}}static{this.\u0275fac=function(Wt){return new(Wt||Bt)}}static{this.\u0275mod=i.$C({type:Bt})}static{this.\u0275inj=i.G2t({})}}return Bt})()},41780:(N,T,n)=>{"use strict";n.d(T,{D9:()=>q,Wr:()=>O,c$:()=>X,er:()=>D,h:()=>Z});var i=n(54438),t=n(7673),l=n(74402),e=n(27468),f=n(92688),m=n(59030),p=n(96697),_=n(44668),v=n(96354),y=n(70274),C=n(25558);class O{}let I=(()=>{class H extends O{getTranslation(Q){return(0,t.of)({})}}return H.\u0275fac=(()=>{let Y;return function(ie){return(Y||(Y=i.xGo(H)))(ie||H)}})(),H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})();class D{}let R=(()=>{class H{handle(Q){return Q.key}}return H.\u0275fac=function(Q){return new(Q||H)},H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})();function h(H,Y){if(H===Y)return!0;if(null===H||null===Y)return!1;if(H!=H&&Y!=Y)return!0;let oe,pe,ne,Q=typeof H;if(Q==typeof Y&&"object"==Q){if(!Array.isArray(H)){if(Array.isArray(Y))return!1;for(pe in ne=Object.create(null),H){if(!h(H[pe],Y[pe]))return!1;ne[pe]=!0}for(pe in Y)if(!(pe in ne)&&typeof Y[pe]<"u")return!1;return!0}if(!Array.isArray(Y))return!1;if((oe=H.length)==Y.length){for(pe=0;pe<oe;pe++)if(!h(H[pe],Y[pe]))return!1;return!0}}return!1}function w(H){return typeof H<"u"&&null!==H}function b(H){return H&&"object"==typeof H&&!Array.isArray(H)}function P(H,Y){let Q=Object.assign({},H);return b(H)&&b(Y)&&Object.keys(Y).forEach(ie=>{b(Y[ie])?ie in H?Q[ie]=P(H[ie],Y[ie]):Object.assign(Q,{[ie]:Y[ie]}):Object.assign(Q,{[ie]:Y[ie]})}),Q}class M{}let L=(()=>{class H extends M{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Q,ie){let oe;return oe="string"==typeof Q?this.interpolateString(Q,ie):"function"==typeof Q?this.interpolateFunction(Q,ie):Q,oe}getValue(Q,ie){let oe="string"==typeof ie?ie.split("."):[ie];ie="";do{ie+=oe.shift(),!w(Q)||!w(Q[ie])||"object"!=typeof Q[ie]&&oe.length?oe.length?ie+=".":Q=void 0:(Q=Q[ie],ie="")}while(oe.length);return Q}interpolateFunction(Q,ie){return Q(ie)}interpolateString(Q,ie){return ie?Q.replace(this.templateMatcher,(oe,pe)=>{let ne=this.getValue(ie,pe);return w(ne)?ne:oe}):Q}}return H.\u0275fac=(()=>{let Y;return function(ie){return(Y||(Y=i.xGo(H)))(ie||H)}})(),H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})();class B{}let U=(()=>{class H extends B{compile(Q,ie){return Q}compileTranslations(Q,ie){return Q}}return H.\u0275fac=(()=>{let Y;return function(ie){return(Y||(Y=i.xGo(H)))(ie||H)}})(),H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})();class ${constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const j=new i.nKC("USE_STORE"),G=new i.nKC("USE_DEFAULT_LANG"),z=new i.nKC("DEFAULT_LANGUAGE"),V=new i.nKC("USE_EXTEND");let X=(()=>{class H{constructor(Q,ie,oe,pe,ne,re=!0,Ce=!1,Ee=!1,ue){this.store=Q,this.currentLoader=ie,this.compiler=oe,this.parser=pe,this.missingTranslationHandler=ne,this.useDefaultLang=re,this.isolate=Ce,this.extend=Ee,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},ue&&this.setDefaultLang(ue)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Q){this.isolate?this._defaultLang=Q:this.store.defaultLang=Q}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Q){this.isolate?this._currentLang=Q:this.store.currentLang=Q}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Q){this.isolate?this._langs=Q:this.store.langs=Q}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Q){this.isolate?this._translations=Q:this.store.translations=Q}setDefaultLang(Q){if(Q===this.defaultLang)return;let ie=this.retrieveTranslations(Q);typeof ie<"u"?(null==this.defaultLang&&(this.defaultLang=Q),ie.pipe((0,p.s)(1)).subscribe(oe=>{this.changeDefaultLang(Q)})):this.changeDefaultLang(Q)}getDefaultLang(){return this.defaultLang}use(Q){if(Q===this.currentLang)return(0,t.of)(this.translations[Q]);let ie=this.retrieveTranslations(Q);return typeof ie<"u"?(this.currentLang||(this.currentLang=Q),ie.pipe((0,p.s)(1)).subscribe(oe=>{this.changeLang(Q)}),ie):(this.changeLang(Q),(0,t.of)(this.translations[Q]))}retrieveTranslations(Q){let ie;return(typeof this.translations[Q]>"u"||this.extend)&&(this._translationRequests[Q]=this._translationRequests[Q]||this.getTranslation(Q),ie=this._translationRequests[Q]),ie}getTranslation(Q){this.pending=!0;const ie=this.currentLoader.getTranslation(Q).pipe((0,_.t)(1),(0,p.s)(1));return this.loadingTranslations=ie.pipe((0,v.T)(oe=>this.compiler.compileTranslations(oe,Q)),(0,_.t)(1),(0,p.s)(1)),this.loadingTranslations.subscribe({next:oe=>{this.translations[Q]=this.extend&&this.translations[Q]?{...oe,...this.translations[Q]}:oe,this.updateLangs(),this.pending=!1},error:oe=>{this.pending=!1}}),ie}setTranslation(Q,ie,oe=!1){ie=this.compiler.compileTranslations(ie,Q),this.translations[Q]=(oe||this.extend)&&this.translations[Q]?P(this.translations[Q],ie):ie,this.updateLangs(),this.onTranslationChange.emit({lang:Q,translations:this.translations[Q]})}getLangs(){return this.langs}addLangs(Q){Q.forEach(ie=>{-1===this.langs.indexOf(ie)&&this.langs.push(ie)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Q,ie,oe){let pe;if(ie instanceof Array){let ne={},re=!1;for(let Ce of ie)ne[Ce]=this.getParsedResult(Q,Ce,oe),(0,l.A)(ne[Ce])&&(re=!0);if(re){const Ce=ie.map(Ee=>(0,l.A)(ne[Ee])?ne[Ee]:(0,t.of)(ne[Ee]));return(0,e.p)(Ce).pipe((0,v.T)(Ee=>{let ue={};return Ee.forEach((ae,ye)=>{ue[ie[ye]]=ae}),ue}))}return ne}if(Q&&(pe=this.parser.interpolate(this.parser.getValue(Q,ie),oe)),typeof pe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(pe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],ie),oe)),typeof pe>"u"){let ne={key:ie,translateService:this};typeof oe<"u"&&(ne.interpolateParams=oe),pe=this.missingTranslationHandler.handle(ne)}return typeof pe<"u"?pe:ie}get(Q,ie){if(!w(Q)||!Q.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,y.H)(oe=>(oe=this.getParsedResult(oe,Q,ie),(0,l.A)(oe)?oe:(0,t.of)(oe))));{let oe=this.getParsedResult(this.translations[this.currentLang],Q,ie);return(0,l.A)(oe)?oe:(0,t.of)(oe)}}getStreamOnTranslationChange(Q,ie){if(!w(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,f.x)((0,m.v)(()=>this.get(Q,ie)),this.onTranslationChange.pipe((0,C.n)(oe=>{const pe=this.getParsedResult(oe.translations,Q,ie);return"function"==typeof pe.subscribe?pe:(0,t.of)(pe)})))}stream(Q,ie){if(!w(Q)||!Q.length)throw new Error('Parameter "key" required');return(0,f.x)((0,m.v)(()=>this.get(Q,ie)),this.onLangChange.pipe((0,C.n)(oe=>{const pe=this.getParsedResult(oe.translations,Q,ie);return(0,l.A)(pe)?pe:(0,t.of)(pe)})))}instant(Q,ie){if(!w(Q)||!Q.length)throw new Error('Parameter "key" required');let oe=this.getParsedResult(this.translations[this.currentLang],Q,ie);if((0,l.A)(oe)){if(Q instanceof Array){let pe={};return Q.forEach((ne,re)=>{pe[Q[re]]=Q[re]}),pe}return Q}return oe}set(Q,ie,oe=this.currentLang){this.translations[oe][Q]=this.compiler.compile(ie,oe),this.updateLangs(),this.onTranslationChange.emit({lang:oe,translations:this.translations[oe]})}changeLang(Q){this.currentLang=Q,this.onLangChange.emit({lang:Q,translations:this.translations[Q]}),null==this.defaultLang&&this.changeDefaultLang(Q)}changeDefaultLang(Q){this.defaultLang=Q,this.onDefaultLangChange.emit({lang:Q,translations:this.translations[Q]})}reloadLang(Q){return this.resetLang(Q),this.getTranslation(Q)}resetLang(Q){this._translationRequests[Q]=void 0,this.translations[Q]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Q>"u"?void 0:(-1!==Q.indexOf("-")&&(Q=Q.split("-")[0]),-1!==Q.indexOf("_")&&(Q=Q.split("_")[0]),Q)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Q=window.navigator.languages?window.navigator.languages[0]:null;return Q=Q||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Q}}return H.\u0275fac=function(Q){return new(Q||H)(i.KVO($),i.KVO(O),i.KVO(B),i.KVO(M),i.KVO(D),i.KVO(G),i.KVO(j),i.KVO(V),i.KVO(z))},H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})(),q=(()=>{class H{constructor(Q,ie){this.translate=Q,this._ref=ie,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Q,ie,oe){let pe=ne=>{this.value=void 0!==ne?ne:Q,this.lastKey=Q,this._ref.markForCheck()};if(oe){let ne=this.translate.getParsedResult(oe,Q,ie);(0,l.A)(ne.subscribe)?ne.subscribe(pe):pe(ne)}this.translate.get(Q,ie).subscribe(pe)}transform(Q,...ie){if(!Q||!Q.length)return Q;if(h(Q,this.lastKey)&&h(ie,this.lastParams))return this.value;let oe;if(w(ie[0])&&ie.length)if("string"==typeof ie[0]&&ie[0].length){let pe=ie[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{oe=JSON.parse(pe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${ie[0]}`)}}else"object"==typeof ie[0]&&!Array.isArray(ie[0])&&(oe=ie[0]);return this.lastKey=Q,this.lastParams=ie,this.updateValue(Q,oe),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(pe=>{this.lastKey&&pe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Q,oe,pe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(pe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,oe,pe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Q,oe))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return H.\u0275fac=function(Q){return new(Q||H)(i.rXU(X,16),i.rXU(i.gRc,16))},H.\u0275pipe=i.EJ8({name:"translate",type:H,pure:!1}),H.\u0275prov=i.jDH({token:H,factory:H.\u0275fac}),H})(),Z=(()=>{class H{static forRoot(Q={}){return{ngModule:H,providers:[Q.loader||{provide:O,useClass:I},Q.compiler||{provide:B,useClass:U},Q.parser||{provide:M,useClass:L},Q.missingTranslationHandler||{provide:D,useClass:R},$,{provide:j,useValue:Q.isolate},{provide:G,useValue:Q.useDefaultLang},{provide:V,useValue:Q.extend},{provide:z,useValue:Q.defaultLanguage},X]}}static forChild(Q={}){return{ngModule:H,providers:[Q.loader||{provide:O,useClass:I},Q.compiler||{provide:B,useClass:U},Q.parser||{provide:M,useClass:L},Q.missingTranslationHandler||{provide:D,useClass:R},{provide:j,useValue:Q.isolate},{provide:G,useValue:Q.useDefaultLang},{provide:V,useValue:Q.extend},{provide:z,useValue:Q.defaultLanguage},X]}}}return H.\u0275fac=function(Q){return new(Q||H)},H.\u0275mod=i.$C({type:H}),H.\u0275inj=i.G2t({}),H})()},53588:(N,T,n)=>{"use strict";n.d(T,{WY:()=>R,xG:()=>w});var i=n(54438),t=n(60177),l=n(92771),e=n(18810);const f={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},m={easeInQuad:b=>b*b,easeOutQuad:b=>b*(2-b),easeInOutQuad:b=>b<.5?2*b*b:(4-2*b)*b-1,easeInCubic:b=>b*b*b,easeOutCubic:b=>--b*b*b+1,easeInOutCubic:b=>b<.5?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1,easeInQuart:b=>b*b*b*b,easeOutQuart:b=>1- --b*b*b*b,easeInOutQuart:b=>b<.5?8*b*b*b*b:1-8*--b*b*b*b,easeInQuint:b=>b*b*b*b*b,easeOutQuint:b=>1+--b*b*b*b*b,easeInOutQuint:b=>b<.5?16*b*b*b*b*b:1+16*--b*b*b*b*b,easeOutElastic:b=>Math.pow(2,-10*b)*Math.sin((b-1/4)*(2*Math.PI)/1)+1};function y(b){return b===window}class D{constructor(P,M,L,B,U,$){this.container=P,this.listenerTarget=M,this.isWindow=L,this.to=B,this.options=U,this.isBrowser=$,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*m[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const j=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((G,z)=>this.mappedOffset=window.innerWidth>z?G:this.mappedOffset),this.distance+=this.mappedOffset*(j<=0?1:-1),this.source$=new l.m}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let R=(()=>{class b{constructor(M,L){this.document=M,this.platformId=L,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(M){return(0,t.UE)(this.platformId)?this.start(M):(new l.m).asObservable()}start(M){const L={...f,...M};this.animation&&this.animation.stop();const B=this.getNode(L.target);if(L.target&&!B)return(0,e.$)(()=>new Error("Unable to find Target Element"));const U=this.getContainer(L,B);if(L.container&&!U)return(0,e.$)(()=>new Error("Unable to find Container Element"));const $=this.getListenerTarget(U)||window;let j=U?U.getBoundingClientRect().top:0;B&&(j=y($)?window.scrollY+B.getBoundingClientRect().top:B.getBoundingClientRect().top),this.animation=new D(U,$,y($),j,L,(0,t.UE)(this.platformId));const G=()=>this.animation.stop();this.addInterruptiveEventListeners($,G);const z=this.animation.start();return this.subscribeToAnimation(z,$,G),z}subscribeToAnimation(M,L,B){const U=M.subscribe({complete:()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,L,B),U.unsubscribe()}})}getContainer(M,L){let B=null;return M.container?B=this.getNode(M.container,!0):L&&(B=this.getFirstScrollableParent(L)),B}addInterruptiveEventListeners(M,L){M||(M=window),this.interruptiveEvents.forEach(B=>M.addEventListener(B,L,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let M=!1;try{const L=Object.defineProperty({},"passive",{get:()=>{M=!0}});window.addEventListener("testPassive",null,L),window.removeEventListener("testPassive",null,L)}catch{}return M}removeInterruptiveEventListeners(M,L,B){L||(L=window),M.forEach(U=>L.removeEventListener(U,B))}getFirstScrollableParent(M){let L=window.getComputedStyle(M);const B=/(auto|scroll|overlay)/;if("fixed"===L.position)return null;let U=M;for(;U.parentElement;)if(U=U.parentElement,L=window.getComputedStyle(U),"absolute"!==L.position&&"hidden"!==L.overflow&&"hidden"!==L.overflowY&&(B.test(L.overflow+L.overflowY)||"BODY"===U.tagName))return U;return null}getNode(M,L=!1){let B;return function v(b){return"string"==typeof b||b instanceof String}(M)?B=!L||"body"!==M&&"BODY"!==M?this.document.getElementById(function _(b){return"#"===b.substring(0,1)?b.substring(1):b}(M)):this.document.body:function I(b){return!isNaN(parseFloat(b))&&isFinite(b)}(M)?B=this.document.getElementById(String(M)):function C(b){return b instanceof i.aKT}(M)?B=M.nativeElement:function O(b){return b instanceof HTMLElement}(M)&&(B=M),B}getListenerTarget(M){return M?this.isDocumentBody(M)?window:M:null}isDocumentBody(M){return"BODY"===M.tagName.toUpperCase()}}return b.\u0275fac=function(M){return new(M||b)(i.KVO(t.qQ),i.KVO(i.Agw))},b.\u0275prov=i.jDH({token:b,factory:b.\u0275fac}),b})(),w=(()=>{class b{static forRoot(){return{ngModule:b,providers:[R]}}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=i.$C({type:b}),b.\u0275inj=i.G2t({}),b})()},97324:(N,T,n)=>{"use strict";n.d(T,{RH:()=>G,Z1:()=>L,eB:()=>$,il:()=>_,ok:()=>I});var i=n(54438),t=n(84412),l=n(92771),e=n(5964);class f{constructor(){this.pageTracking={autoTrackVirtualPages:!0,basePath:"",excludedRoutes:[],clearIds:!1,clearHash:!1,clearQueryParams:!1,idsRegExp:/^\d+$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/},this.developerMode=!1,this.ga={},this.appInsights={},this.gtm={},this.gst={}}}const m=new i.nKC("ANGULARTICS2");class p{trackLocation(Ee){return new t.t({url:"/"})}prepareExternalUrl(Ee){return Ee}}let _=(()=>{class Ce{constructor(ue,ae){this.tracker=ue,this.pageTrack=new l.m(10),this.eventTrack=new l.m(10),this.exceptionTrack=new l.m(10),this.setAlias=new l.m(10),this.setUsername=new l.m(10),this.setUserProperties=new l.m(10),this.setUserPropertiesOnce=new l.m(10),this.setSuperProperties=new l.m(10),this.setSuperPropertiesOnce=new l.m(10),this.userTimings=new l.m(10);const ye=new f;this.settings={...ye,...ae.settings},this.settings.pageTracking={...ye.pageTracking,...ae.settings.pageTracking},this.tracker.trackLocation(this.settings).subscribe(De=>this.trackUrlChange(De.url))}filterDeveloperMode(){return(0,e.p)((ue,ae)=>!this.settings.developerMode)}trackUrlChange(ue){if(this.settings.pageTracking.autoTrackVirtualPages&&!this.matchesExcludedRoute(ue)){const ae=this.clearUrl(ue);let ye;ye=this.settings.pageTracking.basePath.length?this.settings.pageTracking.basePath+ae:this.tracker.prepareExternalUrl(ae),this.pageTrack.next({path:ye})}}matchesExcludedRoute(ue){for(const ae of this.settings.pageTracking.excludedRoutes)if(ae instanceof RegExp&&ae.test(ue)||-1!==ue.indexOf(ae))return!0;return!1}clearUrl(ue){return this.settings.pageTracking.clearIds||this.settings.pageTracking.clearQueryParams||this.settings.pageTracking.clearHash?ue.split("/").map(ae=>this.settings.pageTracking.clearQueryParams?ae.split("?")[0]:ae).map(ae=>this.settings.pageTracking.clearHash?ae.split("#")[0]:ae).filter(ae=>!this.settings.pageTracking.clearIds||!ae.match(this.settings.pageTracking.idsRegExp)).join("/"):ue}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(i.KVO(p),i.KVO(m))},Ce.\u0275prov=i.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})(),C=(()=>{class Ce{}return Ce.\u0275fac=function(ue){return new(ue||Ce)},Ce.\u0275mod=i.$C({type:Ce}),Ce.\u0275inj=i.G2t({}),Ce})(),I=(()=>{class Ce{static forRoot(ue={}){return{ngModule:Ce,providers:[{provide:m,useValue:{settings:ue}},p,_]}}}return Ce.\u0275fac=function(ue){return new(ue||Ce)},Ce.\u0275mod=i.$C({type:Ce}),Ce.\u0275inj=i.G2t({imports:[[C]]}),Ce})();class M{constructor(){this.additionalAccountNames=[],this.userId=null,this.transport="",this.anonymizeIp=!1}}let L=(()=>{class Ce{constructor(ue){this.angulartics2=ue,this.dimensionsAndMetrics=[];const ae=new M;this.angulartics2.settings.ga={...ae,...this.angulartics2.settings.ga},this.settings=this.angulartics2.settings.ga,this.angulartics2.setUsername.subscribe(ye=>this.setUsername(ye)),this.angulartics2.setUserProperties.subscribe(ye=>this.setUserProperties(ye))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.pageTrack(ue.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.eventTrack(ue.action,ue.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.exceptionTrack(ue)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.userTimings(ue))}pageTrack(ue){if(typeof _gaq<"u"&&_gaq){_gaq.push(["_trackPageview",ue]);for(const ae of this.angulartics2.settings.ga.additionalAccountNames)_gaq.push([ae+"._trackPageview",ue])}if(typeof ga<"u"&&ga){if(this.angulartics2.settings.ga.userId){ga("set","&uid",this.angulartics2.settings.ga.userId);for(const ae of this.angulartics2.settings.ga.additionalAccountNames)ga(ae+".set","&uid",this.angulartics2.settings.ga.userId)}if(this.angulartics2.settings.ga.anonymizeIp){ga("set","anonymizeIp",!0);for(const ae of this.angulartics2.settings.ga.additionalAccountNames)ga(ae+".set","anonymizeIp",!0)}ga("send","pageview",ue);for(const ae of this.angulartics2.settings.ga.additionalAccountNames)ga(ae+".send","pageview",ue)}}eventTrack(ue,ae){if((!ae||!ae.category)&&((ae=ae||{}).category="Event"),ae.value){const ye=parseInt(ae.value,10);ae.value=isNaN(ye)?0:ye}if(typeof ga<"u"){const ye={eventCategory:ae.category,eventAction:ue,eventLabel:ae.label,eventValue:ae.value,nonInteraction:ae.noninteraction,page:ae.page||location.hash.substring(1)||location.pathname,userId:this.angulartics2.settings.ga.userId,hitCallback:ae.hitCallback,...this.angulartics2.settings.ga.transport&&{transport:this.angulartics2.settings.ga.transport}};this.setDimensionsAndMetrics(ae),ga("send","event",ye);for(const De of this.angulartics2.settings.ga.additionalAccountNames)ga(De+".send","event",ye)}else typeof _gaq<"u"&&_gaq.push(["_trackEvent",ae.category,ue,ae.label,ae.value,ae.noninteraction])}exceptionTrack(ue){void 0===ue.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ue.fatal=!0),ue.exDescription=ue.description;const ae={exFatal:ue.fatal,exDescription:ue.description};ga("send","exception",ae);for(const ye of this.angulartics2.settings.ga.additionalAccountNames)ga(ye+".send","exception",ae)}userTimings(ue){if(ue&&ue.timingCategory&&ue.timingVar&&ue.timingValue){if(typeof ga<"u"){ga("send","timing",ue);for(const ae of this.angulartics2.settings.ga.additionalAccountNames)ga(ae+".send","timing",ue)}}else console.error("Properties timingCategory, timingVar, and timingValue are required to be set.")}setUsername(ue){this.angulartics2.settings.ga.userId=ue,!(typeof ga>"u")&&ga("set","userId",ue)}setUserProperties(ue){this.setDimensionsAndMetrics(ue)}setDimensionsAndMetrics(ue){typeof ga>"u"||(this.dimensionsAndMetrics.forEach(ae=>{ue.hasOwnProperty(ae)||(ga("set",ae,void 0),this.angulartics2.settings.ga.additionalAccountNames.forEach(ye=>{ga(`${ye}.set`,ae,void 0)}))}),this.dimensionsAndMetrics=[],Object.keys(ue).forEach(ae=>{(0===ae.lastIndexOf("dimension",0)||0===ae.lastIndexOf("metric",0))&&(ga("set",ae,ue[ae]),this.angulartics2.settings.ga.additionalAccountNames.forEach(ye=>{ga(`${ye}.set`,ae,ue[ae])}),this.dimensionsAndMetrics.push(ae))}))}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(i.KVO(_))},Ce.\u0275prov=i.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();class U{constructor(){this.userId=null}}let $=(()=>{class Ce{constructor(ue){this.angulartics2=ue,typeof dataLayer<"u"&&dataLayer&&(dataLayer=window.dataLayer=window.dataLayer||[]);const ae=new U;this.angulartics2.settings.gtm={...ae,...this.angulartics2.settings.gtm},this.angulartics2.setUsername.subscribe(ye=>this.setUsername(ye))}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.pageTrack(ue.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.eventTrack(ue.action,ue.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.exceptionTrack(ue))}pageTrack(ue){this.pushLayer({event:"Page View","content-name":ue,userId:this.angulartics2.settings.gtm.userId})}pushLayer(ue){typeof dataLayer<"u"&&dataLayer&&dataLayer.push(ue)}eventTrack(ue,ae){this.pushLayer({event:(ae=ae||{}).event||"interaction",target:ae.category||"Event",action:ue,label:ae.label,value:ae.value,interactionType:ae.noninteraction,userId:this.angulartics2.settings.gtm.userId,...ae.gtmCustom})}exceptionTrack(ue){ue&&ue.appId&&ue.appName&&ue.appVersion?(void 0===ue.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ue.exFatal=!0),ue.exDescription=ue.event?ue.event.stack:ue.description,this.eventTrack(`Exception thrown for ${ue.appName} <${ue.appId}@${ue.appVersion}>`,{category:"Exception",label:ue.exDescription})):console.error("Must be setted appId, appName and appVersion.")}setUsername(ue){this.angulartics2.settings.gtm.userId=ue}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(i.KVO(_))},Ce.\u0275prov=i.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})();class j{constructor(){this.trackingIds=[],typeof ga<"u"&&ga&&ga(()=>{ga.getAll().forEach(Ee=>{const ue=Ee.get("trackingId");void 0!==ue&&-1===this.trackingIds.indexOf(ue)&&this.trackingIds.push(ue)})})}}let G=(()=>{class Ce{constructor(ue){this.angulartics2=ue,this.dimensionsAndMetrics={};const ae=new j;this.angulartics2.settings.gst={...ae,...this.angulartics2.settings.gst}}startTracking(){this.angulartics2.pageTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.pageTrack(ue.path)),this.angulartics2.eventTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.eventTrack(ue.action,ue.properties)),this.angulartics2.exceptionTrack.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.exceptionTrack(ue)),this.angulartics2.userTimings.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.userTimings(this.convertTimings(ue))),this.angulartics2.setUsername.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.setUsername(ue)),this.angulartics2.setUserProperties.pipe(this.angulartics2.filterDeveloperMode()).subscribe(ue=>this.setUserProperties(ue))}pageTrack(ue){if(typeof gtag<"u"&&gtag){const ae={page_path:ue,page_location:window.location.protocol+"//"+window.location.host+ue,...this.dimensionsAndMetrics};this.angulartics2.settings.gst.customMap&&(ae.custom_map=this.angulartics2.settings.gst.customMap),this.angulartics2.settings.gst.userId&&(ae.user_id=this.angulartics2.settings.gst.userId),this.angulartics2.settings.gst.anonymizeIp&&(ae.anonymize_ip=this.angulartics2.settings.gst.anonymizeIp);for(const ye of this.angulartics2.settings.gst.trackingIds)gtag("config",ye,ae)}}eventTrack(ue,ae={}){this.eventTrackInternal(ue,{event_category:ae.category||"interaction",event_label:ae.label,value:ae.value,non_interaction:ae.noninteraction,...ae.gstCustom})}exceptionTrack(ue){void 0===ue.fatal&&(console.log('No "fatal" provided, sending with fatal=true'),ue.fatal=!0),ue.exDescription=ue.event?ue.event.stack:ue.description,this.eventTrack("exception",{gstCustom:{description:ue.exDescription,fatal:ue.fatal,...ue.gstCustom}})}userTimings(ue){ue?this.eventTrackInternal("timing_complete",{name:ue.name,value:ue.value,event_category:ue.category,event_label:ue.label}):console.error('User timings - "properties" parameter is required to be set.')}convertTimings(ue){return{name:ue.timingVar,value:ue.timingValue,category:ue.timingCategory,label:ue.timingLabel}}setUsername(ue){this.angulartics2.settings.gst.userId=ue,typeof gtag<"u"&&gtag&&gtag("set",{user_id:"string"!=typeof ue&&ue?ue.userId:ue})}setUserProperties(ue){this.setDimensionsAndMetrics(ue)}setDimensionsAndMetrics(ue){this.dimensionsAndMetrics={...this.dimensionsAndMetrics,...ue},Object.keys(this.dimensionsAndMetrics).forEach(ae=>{null==this.dimensionsAndMetrics[ae]&&delete this.dimensionsAndMetrics[ae]}),typeof gtag<"u"&&gtag&&gtag("set",this.dimensionsAndMetrics)}eventTrackInternal(ue,ae={}){this.cleanProperties(ae),typeof gtag<"u"&&gtag&&gtag("event",ue,ae)}cleanProperties(ue){if(ue.value){const ae=parseInt(ue.value,10);ue.value=isNaN(ae)?0:ae}}}return Ce.\u0275fac=function(ue){return new(ue||Ce)(i.KVO(_))},Ce.\u0275prov=i.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce})()},93583:(N,T,n)=>{"use strict";n.d(T,{X6:()=>B,UD:()=>oe,Go:()=>p});var i={};n.r(i),n.d(i,{JsonPatchError:()=>h,_areEquals:()=>G,applyOperation:()=>L,applyPatch:()=>B,applyReducer:()=>U,deepClone:()=>w,getValueByPointer:()=>M,validate:()=>j,validator:()=>$});var t={};n.r(t),n.d(t,{compare:()=>oe,generate:()=>Q,observe:()=>Y,unobserve:()=>H});var l=function(){var ne=function(re,Ce){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,ue){Ee.__proto__=ue}||function(Ee,ue){for(var ae in ue)ue.hasOwnProperty(ae)&&(Ee[ae]=ue[ae])})(re,Ce)};return function(re,Ce){function Ee(){this.constructor=re}ne(re,Ce),re.prototype=null===Ce?Object.create(Ce):(Ee.prototype=Ce.prototype,new Ee)}}(),e=Object.prototype.hasOwnProperty;function f(ne,re){return e.call(ne,re)}function m(ne){if(Array.isArray(ne)){for(var re=new Array(ne.length),Ce=0;Ce<re.length;Ce++)re[Ce]=""+Ce;return re}if(Object.keys)return Object.keys(ne);var Ee=[];for(var ue in ne)f(ne,ue)&&Ee.push(ue);return Ee}function p(ne){switch(typeof ne){case"object":return JSON.parse(JSON.stringify(ne));case"undefined":return null;default:return ne}}function _(ne){for(var Ee,re=0,Ce=ne.length;re<Ce;){if(!((Ee=ne.charCodeAt(re))>=48&&Ee<=57))return!1;re++}return!0}function v(ne){return-1===ne.indexOf("/")&&-1===ne.indexOf("~")?ne:ne.replace(/~/g,"~0").replace(/\//g,"~1")}function y(ne){return ne.replace(/~1/g,"/").replace(/~0/g,"~")}function I(ne){if(void 0===ne)return!0;if(ne)if(Array.isArray(ne)){for(var re=0,Ce=ne.length;re<Ce;re++)if(I(ne[re]))return!0}else if("object"==typeof ne)for(var Ee=m(ne),ue=Ee.length,ae=0;ae<ue;ae++)if(I(ne[Ee[ae]]))return!0;return!1}function D(ne,re){var Ce=[ne];for(var Ee in re){var ue="object"==typeof re[Ee]?JSON.stringify(re[Ee],null,2):re[Ee];typeof ue<"u"&&Ce.push(Ee+": "+ue)}return Ce.join("\n")}var R=function(ne){function re(Ce,Ee,ue,ae,ye){var De=this.constructor,tt=ne.call(this,D(Ce,{name:Ee,index:ue,operation:ae,tree:ye}))||this;return tt.name=Ee,tt.index=ue,tt.operation=ae,tt.tree=ye,Object.setPrototypeOf(tt,De.prototype),tt.message=D(Ce,{name:Ee,index:ue,operation:ae,tree:ye}),tt}return l(re,ne),re}(Error),h=R,w=p,b={add:function(ne,re,Ce){return ne[re]=this.value,{newDocument:Ce}},remove:function(ne,re,Ce){var Ee=ne[re];return delete ne[re],{newDocument:Ce,removed:Ee}},replace:function(ne,re,Ce){var Ee=ne[re];return ne[re]=this.value,{newDocument:Ce,removed:Ee}},move:function(ne,re,Ce){var Ee=M(Ce,this.path);Ee&&(Ee=p(Ee));var ue=L(Ce,{op:"remove",path:this.from}).removed;return L(Ce,{op:"add",path:this.path,value:ue}),{newDocument:Ce,removed:Ee}},copy:function(ne,re,Ce){var Ee=M(Ce,this.from);return L(Ce,{op:"add",path:this.path,value:p(Ee)}),{newDocument:Ce}},test:function(ne,re,Ce){return{newDocument:Ce,test:G(ne[re],this.value)}},_get:function(ne,re,Ce){return this.value=ne[re],{newDocument:Ce}}},P={add:function(ne,re,Ce){return _(re)?ne.splice(re,0,this.value):ne[re]=this.value,{newDocument:Ce,index:re}},remove:function(ne,re,Ce){return{newDocument:Ce,removed:ne.splice(re,1)[0]}},replace:function(ne,re,Ce){var Ee=ne[re];return ne[re]=this.value,{newDocument:Ce,removed:Ee}},move:b.move,copy:b.copy,test:b.test,_get:b._get};function M(ne,re){if(""==re)return ne;var Ce={op:"_get",path:re};return L(ne,Ce),Ce.value}function L(ne,re,Ce,Ee,ue,ae){if(void 0===Ce&&(Ce=!1),void 0===Ee&&(Ee=!0),void 0===ue&&(ue=!0),void 0===ae&&(ae=0),Ce&&("function"==typeof Ce?Ce(re,0,ne,re.path):$(re,0)),""===re.path){var ye={newDocument:ne};if("add"===re.op)return ye.newDocument=re.value,ye;if("replace"===re.op)return ye.newDocument=re.value,ye.removed=ne,ye;if("move"===re.op||"copy"===re.op)return ye.newDocument=M(ne,re.from),"move"===re.op&&(ye.removed=ne),ye;if("test"===re.op){if(ye.test=G(ne,re.value),!1===ye.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",ae,re,ne);return ye.newDocument=ne,ye}if("remove"===re.op)return ye.removed=ne,ye.newDocument=null,ye;if("_get"===re.op)return re.value=ne,ye;if(Ce)throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ae,re,ne);return ye}Ee||(ne=p(ne));var tt=(re.path||"").split("/"),_t=ne,We=1,dt=tt.length,it=void 0,Ge=void 0,gt=void 0;for(gt="function"==typeof Ce?Ce:$;;){if((Ge=tt[We])&&-1!=Ge.indexOf("~")&&(Ge=y(Ge)),ue&&("__proto__"==Ge||"prototype"==Ge&&We>0&&"constructor"==tt[We-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(Ce&&void 0===it&&(void 0===_t[Ge]?it=tt.slice(0,We).join("/"):We==dt-1&&(it=re.path),void 0!==it&&gt(re,0,ne,it)),We++,Array.isArray(_t)){if("-"===Ge)Ge=_t.length;else{if(Ce&&!_(Ge))throw new h("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",ae,re,ne);_(Ge)&&(Ge=~~Ge)}if(We>=dt){if(Ce&&"add"===re.op&&Ge>_t.length)throw new h("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",ae,re,ne);if(!1===(ye=P[re.op].call(re,_t,Ge,ne)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",ae,re,ne);return ye}}else if(We>=dt){if(!1===(ye=b[re.op].call(re,_t,Ge,ne)).test)throw new h("Test operation failed","TEST_OPERATION_FAILED",ae,re,ne);return ye}if(_t=_t[Ge],Ce&&We<dt&&(!_t||"object"!=typeof _t))throw new h("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",ae,re,ne)}}function B(ne,re,Ce,Ee,ue){if(void 0===Ee&&(Ee=!0),void 0===ue&&(ue=!0),Ce&&!Array.isArray(re))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Ee||(ne=p(ne));for(var ae=new Array(re.length),ye=0,De=re.length;ye<De;ye++)ae[ye]=L(ne,re[ye],Ce,!0,ue,ye),ne=ae[ye].newDocument;return ae.newDocument=ne,ae}function U(ne,re,Ce){var Ee=L(ne,re);if(!1===Ee.test)throw new h("Test operation failed","TEST_OPERATION_FAILED",Ce,re,ne);return Ee.newDocument}function $(ne,re,Ce,Ee){if("object"!=typeof ne||null===ne||Array.isArray(ne))throw new h("Operation is not an object","OPERATION_NOT_AN_OBJECT",re,ne,Ce);if(!b[ne.op])throw new h("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",re,ne,Ce);if("string"!=typeof ne.path)throw new h("Operation `path` property is not a string","OPERATION_PATH_INVALID",re,ne,Ce);if(0!==ne.path.indexOf("/")&&ne.path.length>0)throw new h('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",re,ne,Ce);if(("move"===ne.op||"copy"===ne.op)&&"string"!=typeof ne.from)throw new h("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",re,ne,Ce);if(("add"===ne.op||"replace"===ne.op||"test"===ne.op)&&void 0===ne.value)throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",re,ne,Ce);if(("add"===ne.op||"replace"===ne.op||"test"===ne.op)&&I(ne.value))throw new h("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",re,ne,Ce);if(Ce)if("add"==ne.op){var ue=ne.path.split("/").length,ae=Ee.split("/").length;if(ue!==ae+1&&ue!==ae)throw new h("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",re,ne,Ce)}else if("replace"===ne.op||"remove"===ne.op||"_get"===ne.op){if(ne.path!==Ee)throw new h("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",re,ne,Ce)}else if("move"===ne.op||"copy"===ne.op){var De=j([{op:"_get",path:ne.from,value:void 0}],Ce);if(De&&"OPERATION_PATH_UNRESOLVABLE"===De.name)throw new h("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",re,ne,Ce)}}function j(ne,re,Ce){try{if(!Array.isArray(ne))throw new h("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(re)B(p(re),p(ne),Ce||!0);else{Ce=Ce||$;for(var Ee=0;Ee<ne.length;Ee++)Ce(ne[Ee],Ee,re,void 0)}}catch(ue){if(ue instanceof h)return ue;throw ue}}function G(ne,re){if(ne===re)return!0;if(ne&&re&&"object"==typeof ne&&"object"==typeof re){var ue,ae,ye,Ce=Array.isArray(ne),Ee=Array.isArray(re);if(Ce&&Ee){if((ae=ne.length)!=re.length)return!1;for(ue=ae;0!=ue--;)if(!G(ne[ue],re[ue]))return!1;return!0}if(Ce!=Ee)return!1;var De=Object.keys(ne);if((ae=De.length)!==Object.keys(re).length)return!1;for(ue=ae;0!=ue--;)if(!re.hasOwnProperty(De[ue]))return!1;for(ue=ae;0!=ue--;)if(!G(ne[ye=De[ue]],re[ye]))return!1;return!0}return ne!=ne&&re!=re}var z=new WeakMap,V=function(){return function ne(re){this.observers=new Map,this.obj=re}}(),X=function(){return function ne(re,Ce){this.callback=re,this.observer=Ce}}();function H(ne,re){re.unobserve()}function Y(ne,re){var Ee,ue=function J(ne){return z.get(ne)}(ne);if(ue){var ae=function q(ne,re){return ne.observers.get(re)}(ue,re);Ee=ae&&ae.observer}else ue=new V(ne),z.set(ne,ue);if(Ee)return Ee;if(Ee={},ue.value=p(ne),re){Ee.callback=re,Ee.next=null;var ye=function(){Q(Ee)},De=function(){clearTimeout(Ee.next),Ee.next=setTimeout(ye)};typeof window<"u"&&(window.addEventListener("mouseup",De),window.addEventListener("keyup",De),window.addEventListener("mousedown",De),window.addEventListener("keydown",De),window.addEventListener("change",De))}return Ee.patches=[],Ee.object=ne,Ee.unobserve=function(){Q(Ee),clearTimeout(Ee.next),function Z(ne,re){ne.observers.delete(re.callback)}(ue,Ee),typeof window<"u"&&(window.removeEventListener("mouseup",De),window.removeEventListener("keyup",De),window.removeEventListener("mousedown",De),window.removeEventListener("keydown",De),window.removeEventListener("change",De))},ue.observers.set(re,new X(re,Ee)),Ee}function Q(ne,re){void 0===re&&(re=!1);var Ce=z.get(ne.object);ie(Ce.value,ne.object,ne.patches,"",re),ne.patches.length&&B(Ce.value,ne.patches);var Ee=ne.patches;return Ee.length>0&&(ne.patches=[],ne.callback&&ne.callback(Ee)),Ee}function ie(ne,re,Ce,Ee,ue){if(re!==ne){"function"==typeof re.toJSON&&(re=re.toJSON());for(var ae=m(re),ye=m(ne),tt=!1,_t=ye.length-1;_t>=0;_t--){var dt=ne[We=ye[_t]];if(!f(re,We)||void 0===re[We]&&void 0!==dt&&!1===Array.isArray(re))Array.isArray(ne)===Array.isArray(re)?(ue&&Ce.push({op:"test",path:Ee+"/"+v(We),value:p(dt)}),Ce.push({op:"remove",path:Ee+"/"+v(We)}),tt=!0):(ue&&Ce.push({op:"test",path:Ee,value:ne}),Ce.push({op:"replace",path:Ee,value:re}));else{var it=re[We];"object"==typeof dt&&null!=dt&&"object"==typeof it&&null!=it&&Array.isArray(dt)===Array.isArray(it)?ie(dt,it,Ce,Ee+"/"+v(We),ue):dt!==it&&(ue&&Ce.push({op:"test",path:Ee+"/"+v(We),value:p(dt)}),Ce.push({op:"replace",path:Ee+"/"+v(We),value:p(it)}))}}if(tt||ae.length!=ye.length)for(_t=0;_t<ae.length;_t++){var We;!f(ne,We=ae[_t])&&void 0!==re[We]&&Ce.push({op:"add",path:Ee+"/"+v(We),value:p(re[We])})}}}function oe(ne,re,Ce){void 0===Ce&&(Ce=!1);var Ee=[];return ie(ne,re,Ee,"",Ce),Ee}Object.assign({},i,t,{JsonPatchError:R,deepClone:p,escapePathComponent:v,unescapePathComponent:y})},27200:(N,T,n)=>{"use strict";n.d(T,{Ff:()=>_,UJ:()=>v,eB:()=>y,l0:()=>p});var i=n(54438),t=n(60177);class l{constructor(O){this.rawFile=O;const I=O instanceof HTMLInputElement?O.value:O;this["_createFrom"+("string"==typeof I?"FakePath":"Object")](I)}_createFromFakePath(O){this.lastModifiedDate=void 0,this.size=void 0,this.type=`like/${O.slice(O.lastIndexOf(".")+1).toLowerCase()}`,this.name=O.slice(O.lastIndexOf("/")+O.lastIndexOf("\\")+2)}_createFromObject(O){this.size=O.size,this.type=O.type,this.name=O.name}}class e{constructor(O,I,D){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.uploader=O,this.some=I,this.options=D,this.file=new l(I),this._file=I,O.options&&(this.method=O.options.method||"POST",this.alias=O.options.itemAlias||"file"),this.url=O.options.url}upload(){try{this.uploader.uploadItem(this)}catch{this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}}cancel(){this.uploader.cancelItem(this)}remove(){this.uploader.removeFromQueue(this)}onBeforeUpload(){}onBuildForm(O){return{form:O}}onProgress(O){return{progress:O}}onSuccess(O,I,D){return{response:O,status:I,headers:D}}onError(O,I,D){return{response:O,status:I,headers:D}}onCancel(O,I,D){return{response:O,status:I,headers:D}}onComplete(O,I,D){return{response:O,status:I,headers:D}}_onBeforeUpload(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()}_onBuildForm(O){this.onBuildForm(O)}_onProgress(O){this.progress=O,this.onProgress(O)}_onSuccess(O,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(O,I,D)}_onError(O,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(O,I,D)}_onCancel(O,I,D){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(O,I,D)}_onComplete(O,I,D){this.onComplete(O,I,D),this.uploader.options.removeAfterUpload&&this.remove()}_prepareToUploading(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0}}let f=(()=>{class C{static{this.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]}static{this.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"]}static{this.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"]}static{this.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"]}static{this.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"]}static getMimeClass(I){let D="application";return I?.type&&-1!==this.mime_psd.indexOf(I.type)||I?.type?.match("image.*")?D="image":I?.type?.match("video.*")?D="video":I?.type?.match("audio.*")?D="audio":"application/pdf"===I?.type?D="pdf":I?.type&&-1!==this.mime_compress.indexOf(I.type)?D="compress":I?.type&&-1!==this.mime_doc.indexOf(I.type)?D="doc":I?.type&&-1!==this.mime_xsl.indexOf(I.type)?D="xls":I?.type&&-1!==this.mime_ppt.indexOf(I.type)&&(D="ppt"),"application"===D&&I?.name&&(D=this.fileTypeDetection(I.name)),D}static fileTypeDetection(I){const D={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},R=I.split(".");if(R.length<2)return"application";const h=R[R.length-1].toLowerCase();return void 0===D[h]?"application":D[h]}}return C})();class p{constructor(O){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:I=>I._file,formatDataFunctionIsAsync:!1,url:""},this.setOptions(O),this.response=new i.bkB}setOptions(O){this.options=Object.assign(this.options,O),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters?.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters?.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters?.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters?.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(let I=0;I<this.queue.length;I++)this.queue[I].url=this.options.url}addToQueue(O,I,D){let R=I;const h=[];for(const M of O)h.push(M);const w=this._getFilters(D),b=this.queue.length,P=[];h.map(M=>{R||(R=this.options);const L=new l(M);if(this._isValidFile(L,w,R)){const B=new e(this,M,R);P.push(B),this.queue.push(B),this._onAfterAddingFile(B)}else"number"==typeof this._failFilterIndex&&this._failFilterIndex>=0&&this._onWhenAddingFileFailed(L,w[this._failFilterIndex],R)}),this.queue.length!==b&&(this._onAfterAddingAll(P),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()}removeFromQueue(O){const I=this.getIndexOfItem(O),D=this.queue[I];D.isUploading&&D.cancel(),this.queue.splice(I,1),this.progress=this._getTotalProgress()}clearQueue(){for(;this.queue.length;)this.queue[0].remove();this.progress=0}uploadItem(O){const I=this.getIndexOfItem(O),D=this.queue[I],R=this.options.isHTML5?"_xhrTransport":"_iframeTransport";D._prepareToUploading(),!this.isUploading&&(this.isUploading=!0,this[R](D))}cancelItem(O){const I=this.getIndexOfItem(O),D=this.queue[I];D&&D.isUploading&&(this.options.isHTML5?D._xhr:D._form).abort()}uploadAll(){const O=this.getNotUploadedItems().filter(I=>!I.isUploading);O.length&&(O.map(I=>I._prepareToUploading()),O[0].upload())}cancelAll(){this.getNotUploadedItems().map(I=>I.cancel())}isFile(O){return function m(C){return File&&C instanceof File}(O)}isFileLikeObject(O){return O instanceof l}getIndexOfItem(O){return"number"==typeof O?O:this.queue.indexOf(O)}getNotUploadedItems(){return this.queue.filter(O=>!O.isUploaded)}getReadyItems(){return this.queue.filter(O=>O.isReady&&!O.isUploading).sort((O,I)=>O.index-I.index)}onAfterAddingAll(O){return{fileItems:O}}onBuildItemForm(O,I){return{fileItem:O,form:I}}onAfterAddingFile(O){return{fileItem:O}}onWhenAddingFileFailed(O,I,D){return{item:O,filter:I,options:D}}onBeforeUploadItem(O){return{fileItem:O}}onProgressItem(O,I){return{fileItem:O,progress:I}}onProgressAll(O){return{progress:O}}onSuccessItem(O,I,D,R){return{item:O,response:I,status:D,headers:R}}onErrorItem(O,I,D,R){return{item:O,response:I,status:D,headers:R}}onCancelItem(O,I,D,R){return{item:O,response:I,status:D,headers:R}}onCompleteItem(O,I,D,R){return{item:O,response:I,status:D,headers:R}}onCompleteAll(){}_mimeTypeFilter(O){return!(O?.type&&this.options.allowedMimeType&&-1===this.options.allowedMimeType?.indexOf(O.type))}_fileSizeFilter(O){return!(this.options.maxFileSize&&O.size>this.options.maxFileSize)}_fileTypeFilter(O){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(f.getMimeClass(O)))}_onErrorItem(O,I,D,R){O._onError(I,D,R),this.onErrorItem(O,I,D,R)}_onCompleteItem(O,I,D,R){O._onComplete(I,D,R),this.onCompleteItem(O,I,D,R);const h=this.getReadyItems()[0];this.isUploading=!1,h?h.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())}_headersGetter(O){return I=>I?O[I.toLowerCase()]||void 0:O}_xhrTransport(O){const I=this,D=O._xhr=new XMLHttpRequest;let R;if(this._onBeforeUploadItem(O),"number"!=typeof O._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)this.options.formatDataFunction&&(R=this.options.formatDataFunction(O));else{R=new FormData,this._onBuildItemForm(O,R);const h=()=>R.append(O.alias,O._file,O.file.name);this.options.parametersBeforeFiles||h(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(w=>{let b=this.options.additionalParameter?.[w];"string"==typeof b&&b.indexOf("{{file_name}}")>=0&&O.file?.name&&(b=b.replace("{{file_name}}",O.file.name)),R.append(w,b)}),h&&this.options.parametersBeforeFiles&&h()}if(D.upload.onprogress=h=>{const w=Math.round(h.lengthComputable?100*h.loaded/h.total:0);this._onProgressItem(O,w)},D.onload=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),w=this._transformResponse(D.response,h);this[`_on${this._isSuccessCode(D.status)?"Success":"Error"}Item`](O,w,D.status,h),this._onCompleteItem(O,w,D.status,h)},D.onerror=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),w=this._transformResponse(D.response,h);this._onErrorItem(O,w,D.status,h),this._onCompleteItem(O,w,D.status,h)},D.onabort=()=>{const h=this._parseHeaders(D.getAllResponseHeaders()),w=this._transformResponse(D.response,h);this._onCancelItem(O,w,D.status,h),this._onCompleteItem(O,w,D.status,h)},O.method&&O.url&&D.open(O.method,O.url,!0),D.withCredentials=O.withCredentials,this.options.headers)for(const h of this.options.headers)D.setRequestHeader(h.name,h.value);if(O.headers.length)for(const h of O.headers)D.setRequestHeader(h.name,h.value);this.authToken&&this.authTokenHeader&&D.setRequestHeader(this.authTokenHeader,this.authToken),D.onreadystatechange=function(){D.readyState==XMLHttpRequest.DONE&&I.response.emit(D.responseText)},this.options.formatDataFunctionIsAsync?R.then(h=>D.send(JSON.stringify(h))):D.send(R),this._render()}_getTotalProgress(O=0){if(this.options.removeAfterUpload)return O;const I=this.getNotUploadedItems().length,R=100/this.queue.length;return Math.round((I?this.queue.length-I:this.queue.length)*R+O*R/100)}_getFilters(O){if(!O)return this.options?.filters||[];if(Array.isArray(O))return O;if("string"==typeof O){const I=O.match(/[^\s,]+/g);return this.options?.filters||[].filter(D=>-1!==I?.indexOf(D.name))}return this.options?.filters||[]}_render(){}_queueLimitFilter(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit}_isValidFile(O,I,D){return this._failFilterIndex=-1,!I.length||I.every(R=>("number"==typeof this._failFilterIndex&&this._failFilterIndex++,R.fn.call(this,O,D)))}_isSuccessCode(O){return O>=200&&O<300||304===O}_transformResponse(O,I){return O}_parseHeaders(O){const I={};let D,R,h;return O&&O.split("\n").map(w=>{h=w.indexOf(":"),D=w.slice(0,h).trim().toLowerCase(),R=w.slice(h+1).trim(),D&&(I[D]=I[D]?I[D]+", "+R:R)}),I}_onWhenAddingFileFailed(O,I,D){this.onWhenAddingFileFailed(O,I,D)}_onAfterAddingFile(O){this.onAfterAddingFile(O)}_onAfterAddingAll(O){this.onAfterAddingAll(O)}_onBeforeUploadItem(O){O._onBeforeUpload(),this.onBeforeUploadItem(O)}_onBuildItemForm(O,I){O._onBuildForm(I),this.onBuildItemForm(O,I)}_onProgressItem(O,I){const D=this._getTotalProgress(I);this.progress=D,O._onProgress(I),this.onProgressItem(O,I),this.onProgressAll(D),this._render()}_onSuccessItem(O,I,D,R){O._onSuccess(I,D,R),this.onSuccessItem(O,I,D,R)}_onCancelItem(O,I,D,R){O._onCancel(I,D,R),this.onCancelItem(O,I,D,R)}}let _=(()=>{class C{constructor(I){this.fileOver=new i.bkB,this.onFileDrop=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}onDrop(I){const D=this._getTransfer(I);if(!D)return;const R=this.getOptions(),h=this.getFilters();this._preventAndStop(I),R&&this.uploader?.addToQueue(D.files,R,h),this.fileOver.emit(!1),this.onFileDrop.emit(D.files)}onDragOver(I){const D=this._getTransfer(I);this._haveFiles(D.types)&&(D.dropEffect="copy",this._preventAndStop(I),this.fileOver.emit(!0))}onDragLeave(I){this.element&&I.currentTarget===this.element[0]||(this._preventAndStop(I),this.fileOver.emit(!1))}_getTransfer(I){return I.dataTransfer?I.dataTransfer:I.originalEvent.dataTransfer}_preventAndStop(I){I.preventDefault(),I.stopPropagation()}_haveFiles(I){return!!I&&(I.indexOf?-1!==I.indexOf("Files"):!!I.contains&&I.contains("Files"))}static{this.\u0275fac=function(D){return new(D||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileDrop",""]],hostBindings:function(D,R){1&D&&i.bIt("drop",function(w){return R.onDrop(w)})("dragover",function(w){return R.onDragOver(w)})("dragleave",function(w){return R.onDragLeave(w)})},inputs:{uploader:"uploader"},outputs:{fileOver:"fileOver",onFileDrop:"onFileDrop"}})}}return C})(),v=(()=>{class C{constructor(I){this.onFileSelected=new i.bkB,this.element=I}getOptions(){return this.uploader?.options}getFilters(){return""}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}onChange(){const I=this.element.nativeElement.files,D=this.getOptions(),R=this.getFilters();this.uploader?.addToQueue(I,D,R),this.onFileSelected.emit(I),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}static{this.\u0275fac=function(D){return new(D||C)(i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:C,selectors:[["","ng2FileSelect",""]],hostBindings:function(D,R){1&D&&i.bIt("change",function(){return R.onChange()})},inputs:{uploader:"uploader"},outputs:{onFileSelected:"onFileSelected"}})}}return C})(),y=(()=>{class C{static{this.\u0275fac=function(D){return new(D||C)}}static{this.\u0275mod=i.$C({type:C})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return C})()},86820:(N,T,n)=>{"use strict";n.d(T,{DP:()=>it,eO:()=>gt});var i=n(54438),t=n(7673),l=n(33726),e=n(73028),f=n(96354),m=n(88141),p=n(5964),_=n(43236),v=n(39974),y=n(54360),C=n(58750),I=n(41584);function h(Pe,we,vt,at){const nt=window&&!!window.document&&window.document.documentElement;let lt=nt&&we?window:vt;if(Pe&&(lt=Pe&&nt&&"string"==typeof Pe?function w(Pe,we,vt){return(vt?window.document:we).querySelector(Pe)}(Pe,vt.nativeElement,at):Pe,!lt))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return lt}function b(Pe){return Pe&&!Pe.firstChange}const M={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},L={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class B{constructor(we=!0){this.vertical=we,this.propsMap=we?M:L}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function G(Pe){return["Window","global"].some(vt=>Object.prototype.toString.call(Pe).includes(vt))}function z(Pe,we){return Pe?we.document.documentElement:null}function V(Pe,we){const vt=function Z({container:Pe,isWindow:we,axis:vt}){const{offsetHeightKey:at,clientHeightKey:nt}=q(vt);return H(Pe,we,at,nt)}(we);return we.isWindow?function X(Pe,we,vt){const{axis:at,container:nt,isWindow:lt}=vt,{offsetHeightKey:ve,clientHeightKey:Ne}=q(at),ut=Pe+Q(z(lt,nt),at,lt),cn=H(we.nativeElement,lt,ve,Ne),nn=function Y(Pe,we,vt){const at=we.topKey();if(Pe.getBoundingClientRect)return Pe.getBoundingClientRect()[at]+Q(Pe,we,vt)}(we.nativeElement,at,lt)+cn;return{height:Pe,scrolled:ut,totalToScroll:nn,isWindow:lt}}(vt,Pe,we):function J(Pe,we,vt){const{axis:at,container:nt}=vt;return{height:Pe,scrolled:nt[at.scrollTopKey()],totalToScroll:nt[at.scrollHeightKey()],isWindow:!1}}(vt,0,we)}function q(Pe){return{offsetHeightKey:Pe.offsetHeightKey(),clientHeightKey:Pe.clientHeightKey()}}function H(Pe,we,vt,at){if(isNaN(Pe[vt])){const nt=z(we,Pe);return nt?nt[at]:0}return Pe[vt]}function Q(Pe,we,vt){const at=we.pageYOffsetKey(),nt=we.scrollTopKey(),lt=we.offsetTopKey();return isNaN(window.pageYOffset)?z(vt,Pe)[nt]:Pe.ownerDocument?Pe.ownerDocument.defaultView[at]:Pe[lt]}function ie(Pe,we={down:0,up:0},vt){let at,nt;if(Pe.totalToScroll<=0)return!1;const lt=Pe.isWindow?Pe.scrolled:Pe.height+Pe.scrolled;return vt?(at=(Pe.totalToScroll-lt)/Pe.totalToScroll,nt=(we?.down?we.down:0)/10):(at=Pe.scrolled/(Pe.scrolled+(Pe.totalToScroll-lt)),nt=(we?.up?we.up:0)/10),at<=nt}class ye{constructor({totalToScroll:we}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=we}updateScrollPosition(we){return this.lastScrollPosition=we}updateTotalToScroll(we){this.lastTotalToScroll!==we&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=we)}updateScroll(we,vt){this.updateScrollPosition(we),this.updateTotalToScroll(vt)}updateTriggeredFlag(we,vt){vt?this.triggered.down=we:this.triggered.up=we}isTriggeredScroll(we,vt){return vt?this.triggered.down===we:this.triggered.up===we}}function De(Pe){const{scrollContainer:we,scrollWindow:vt,element:at,fromRoot:nt}=Pe,lt=function $({windowElement:Pe,axis:we}){return function j(Pe,we){const vt=Pe.isWindow||we&&!we.nativeElement?we:we.nativeElement;return{...Pe,container:vt}}({axis:we,isWindow:G(Pe)},Pe)}({axis:new B(!Pe.horizontal),windowElement:h(we,vt,at,nt)}),ve=new ye({totalToScroll:V(at,lt)}),ut={up:Pe.upDistance,down:Pe.downDistance};return function tt(Pe){let we=(0,l.R)(Pe.container,"scroll");return Pe.throttle&&(we=we.pipe(function D(Pe,we=_.E,vt){const at=(0,I.O)(Pe,we);return function O(Pe,we){return(0,v.N)((vt,at)=>{const{leading:nt=!0,trailing:lt=!1}=we??{};let ve=!1,Ne=null,ut=null,cn=!1;const nn=()=>{ut?.unsubscribe(),ut=null,lt&&($t(),cn&&at.complete())},Mn=()=>{ut=null,cn&&at.complete()},Tt=St=>ut=(0,C.Tg)(Pe(St)).subscribe((0,y._)(at,nn,Mn)),$t=()=>{if(ve){ve=!1;const St=Ne;Ne=null,at.next(St),!cn&&Tt(St)}};vt.subscribe((0,y._)(at,St=>{ve=!0,Ne=St,(!ut||ut.closed)&&(nt?$t():Tt(St))},()=>{cn=!0,(!(lt&&ve&&ut)||ut.closed)&&at.complete()}))})}(()=>at,vt)}(Pe.throttle,void 0,{leading:!0,trailing:!0}))),we}({container:lt.container,throttle:Pe.throttle}).pipe((0,e.Z)(()=>(0,t.of)(V(at,lt))),(0,f.T)(cn=>function _t(Pe,we,vt){const{scrollDown:at,fire:nt}=function pe(Pe,we,vt){const at=function oe(Pe,we){return Pe<we.scrolled}(Pe,we);return{fire:ie(we,vt,at),scrollDown:at}}(Pe,we,vt);return{scrollDown:at,fire:nt,stats:we}}(ve.lastScrollPosition,cn,ut)),(0,m.M)(({stats:cn})=>ve.updateScroll(cn.scrolled,cn.totalToScroll)),(0,p.p)(({fire:cn,scrollDown:nn,stats:{totalToScroll:Mn}})=>function U(Pe,we,vt){return!!(Pe&&we||!vt&&we)}(Pe.alwaysCallback,cn,ve.isTriggeredScroll(Mn,nn))),(0,m.M)(({scrollDown:cn,stats:{totalToScroll:nn}})=>{ve.updateTriggeredFlag(nn,cn)}),(0,f.T)(dt))}const We={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function dt(Pe){const{scrollDown:we,stats:{scrolled:vt}}=Pe;return{type:we?We.DOWN:We.UP,payload:{currentScrollPosition:vt}}}let it=(()=>{class Pe{constructor(vt,at){this.element=vt,this.zone=at,this.scrolled=new i.bkB,this.scrolledUp=new i.bkB,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:vt,infiniteScrollDisabled:at,infiniteScrollDistance:nt}){const lt=b(vt),ve=b(at),Ne=b(nt),ut=!ve&&!this.infiniteScrollDisabled||ve&&!at.currentValue||Ne;(lt||ve||Ne)&&(this.destroyScroller(),ut&&this.setup())}setup(){(function P(){return typeof window<"u"})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=De({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(vt=>this.handleOnScroll(vt))})}handleOnScroll({type:vt,payload:at}){const nt=vt===We.DOWN?this.scrolled:this.scrolledUp;(function Ge(Pe){return Pe.observed??Pe.observers.length>0})(nt)&&this.zone.run(()=>nt.emit(at))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(at){return new(at||Pe)(i.rXU(i.aKT),i.rXU(i.SKi))}}static{this.\u0275dir=i.FsC({type:Pe,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[i.OA$]})}}return Pe})(),gt=(()=>{class Pe{static{this.\u0275fac=function(at){return new(at||Pe)}}static{this.\u0275mod=i.$C({type:Pe})}static{this.\u0275inj=i.G2t({})}}return Pe})()},85188:(N,T,n)=>{"use strict";n.d(T,{Dz:()=>_,I0:()=>I,mB:()=>h});var i=n(74523),t=n(54438),l=n(89417),e=n(60177);const f=new t.nKC("ngx-mask config"),m=new t.nKC("new ngx-mask config"),p=new t.nKC("initial ngx-mask config"),_={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new t.bkB,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},v=["Hh:m0:s0","Hh:m0","m0:s0"],y=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let C=(()=>{class b{constructor(M){this._config=M,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(L,B,U,$)=>{let j=[],G="";if(Array.isArray(U)){const q=new RegExp(U.map(Z=>"[\\^$.|?*+()".indexOf(Z)>=0?`\\${Z}`:Z).join("|"));j=L.split(q),G=L.match(q)?.[0]??""}else j=L.split(U),G=U;const z=j.length>1?`${G}${j[1]}`:"";let V=j[0]??"";const X=this.separatorLimit.replace(/\s/g,"");X&&+X&&(V="-"===V[0]?`-${V.slice(1,V.length).slice(0,X.length)}`:V.slice(0,X.length));const J=/(\d+)(\d{3})/;for(;B&&J.test(V);)V=V.replace(J,"$1"+B+"$2");return void 0===$?V+z:0===$?V:V+z.substring(0,$+1)},this.percentage=L=>Number(L)>=0&&Number(L)<=100,this.getPrecision=L=>{const B=L.split(".");return B.length>1?Number(B[B.length-1]):1/0},this.checkAndRemoveSuffix=L=>{for(let B=this.suffix?.length-1;B>=0;B--){const U=this.suffix.substring(B,this.suffix?.length);if(L.includes(U)&&B!==this.suffix?.length-1&&(B-1<0||!L.includes(this.suffix.substring(B-1,this.suffix?.length))))return L.replace(U,"")}return L},this.checkInputPrecision=(L,B,U)=>{if(B<1/0){if(Array.isArray(U)){const z=U.find(V=>V!==this.thousandSeparator);U=z||U[0]}const $=new RegExp(this._charToRegExpExpression(U)+`\\d{${B}}.*$`),G=(L.match($)??[])[0]?.length??0;G-1>B&&(L=L.substring(0,L.length-(G-1-B))),0===B&&this._compareOrIncludes(L[L.length-1],U,this.thousandSeparator)&&(L=L.substring(0,L.length-1))}return L},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(M,L){const[B,U]=L;return this.customPattern=U,this.applyMask(M,B)}applyMask(M,L,B=0,U=!1,$=!1,j=(()=>{})){if(!L||"string"!=typeof M)return"";let G=0,z="",V=!1,X=!1,J=1,q=!1;M.slice(0,this.prefix.length)===this.prefix&&(M=M.slice(this.prefix.length,M.length)),this.suffix&&M?.length>0&&(M=this.checkAndRemoveSuffix(M));const Z=M.toString().split("");if("IP"===L){const pe=M.split(".");this.ipError=this._validIP(pe),L="099.099.099.099"}const H=[];for(let pe=0;pe<M.length;pe++)M[pe]?.match("\\d")&&H.push(M[pe]??"");if("CPF_CNPJ"===L&&(this.cpfCnpjError=11!==H.length&&14!==H.length,L=H.length>11?"00.000.000/0000-00":"000.000.000-00"),L.startsWith("percent")){if(M.match("[a-z]|[A-Z]")||M.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){M=this._stripToDecimal(M);const pe=this.getPrecision(L);M=this.checkInputPrecision(M,pe,this.decimalMarker)}M.indexOf(".")>0&&!this.percentage(M.substring(0,M.indexOf(".")))&&(M=`${M.substring(0,M.indexOf(".")-1)}${M.substring(M.indexOf("."),M.length)}`),z=this.percentage(M)?M:M.substring(0,M.length-1)}else if(L.startsWith("separator")){(M.match("[w\u0430-\u044f\u0410-\u042f]")||M.match("[\u0401\u0451\u0410-\u044f]")||M.match("[a-z]|[A-Z]")||M.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\]:";<>.?/]/)||M.match("[^A-Za-z0-9,]"))&&(M=this._stripToDecimal(M)),M=M.length>1&&"0"===M[0]&&M[1]!==this.thousandSeparator&&!this._compareOrIncludes(M[1],this.decimalMarker,this.thousandSeparator)&&!$?M.slice(0,M.length-1):M,$&&(M=this._compareOrIncludes(M[M.length-1],this.decimalMarker,this.thousandSeparator)?M.slice(0,M.length-1):M);const pe=this._charToRegExpExpression(this.thousandSeparator);let ne='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(pe,"");if(Array.isArray(this.decimalMarker))for(const ye of this.decimalMarker)ne=ne.replace(this._charToRegExpExpression(ye),"");else ne=ne.replace(this._charToRegExpExpression(this.decimalMarker),"");const re=new RegExp("["+ne+"]");(M.match(re)||1===M.length&&this._compareOrIncludes(M,this.decimalMarker,this.thousandSeparator))&&(M=M.substring(0,M.length-1));const Ce=this.getPrecision(L),Ee=(M=this.checkInputPrecision(M,Ce,this.decimalMarker)).replace(new RegExp(pe,"g"),"");z=this._formatWithSeparators(Ee,this.thousandSeparator,this.decimalMarker,Ce);const ue=z.indexOf(",")-M.indexOf(","),ae=z.length-M.length;if(ae>0&&","!==z[B]){X=!0;let ye=0;do{this._shift.add(B+ye),ye++}while(ye<ae)}else 0!==ue&&B>0&&!(z.indexOf(",")>=B&&B>3)||!(z.indexOf(".")>=B&&B>3)&&ae<=0?(this._shift.clear(),X=!0,J=ae,this._shift.add(B+=ae)):this._shift.clear()}else for(let pe=0,ne=Z[0];pe<Z.length&&G!==L.length;pe++,ne=Z[pe]??"")if(this._checkSymbolMask(ne,L[G]??"")&&"?"===L[G+1])z+=ne,G+=2;else if("*"===L[G+1]&&V&&this._checkSymbolMask(ne,L[G+2]??""))z+=ne,G+=3,V=!1;else if(this._checkSymbolMask(ne,L[G]??"")&&"*"===L[G+1])z+=ne,V=!0;else if("?"===L[G+1]&&this._checkSymbolMask(ne,L[G+2]??""))z+=ne,G+=3;else if(this._checkSymbolMask(ne,L[G]??"")){if("H"===L[G]&&Number(ne)>2){G+=1,this._shiftStep(L,G,Z.length),pe--,this.leadZeroDateTime&&(z+="0");continue}if("h"===L[G]&&"2"===z&&Number(ne)>3){G+=1,pe--;continue}if("m"===L[G]&&Number(ne)>5){G+=1,this._shiftStep(L,G,Z.length),pe--,this.leadZeroDateTime&&(z+="0");continue}if("s"===L[G]&&Number(ne)>5){G+=1,this._shiftStep(L,G,Z.length),pe--,this.leadZeroDateTime&&(z+="0");continue}const re=31;if("d"===L[G]&&(Number(ne)>3&&this.leadZeroDateTime||Number(M.slice(G,G+2))>re||"/"===M[G+1])){G+=1,this._shiftStep(L,G,Z.length),pe--,this.leadZeroDateTime&&(z+="0");continue}if("M"===L[G]){const Ee=0===G&&(Number(ne)>2||Number(M.slice(G,G+2))>12||"/"===M[G+1]),ue=M.slice(G-3,G-1).includes("/")&&("/"===M[G-2]&&Number(M.slice(G-1,G+1))>12&&"/"!==M[G]||"/"===M[G]||"/"===M[G-3]&&Number(M.slice(G-2,G))>12&&"/"!==M[G-1]||"/"===M[G-1]),ae=Number(M.slice(G-3,G-1))<=re&&!M.slice(G-3,G-1).includes("/")&&"/"===M[G-1]&&(Number(M.slice(G,G+2))>12||"/"===M[G+1]),ye=Number(M.slice(G-3,G-1))>re&&!M.slice(G-3,G-1).includes("/")&&!M.slice(G-2,G).includes("/")&&Number(M.slice(G-2,G))>12,De=Number(M.slice(G-3,G-1))<=re&&!M.slice(G-3,G-1).includes("/")&&"/"!==M[G-1]&&Number(M.slice(G-1,G+1))>12;if(Number(ne)>1&&this.leadZeroDateTime||Ee||ue||ae||ye||De){G+=1,this._shiftStep(L,G,Z.length),pe--,this.leadZeroDateTime&&(z+="0");continue}}z+=ne,G++}else" "===ne&&" "===L[G]?(z+=ne,G++):-1!==this.maskSpecialCharacters.indexOf(L[G]??"")?(z+=L[G],G++,this._shiftStep(L,G,Z.length),pe--):this.maskSpecialCharacters.indexOf(ne)>-1&&this.maskAvailablePatterns[L[G]??""]&&this.maskAvailablePatterns[L[G]??""]?.optional?(Z[G]&&"099.099.099.099"!==L&&"000.000.000-00"!==L&&"00.000.000/0000-00"!==L&&!L.match(/^9+\.0+$/)&&(z+=Z[G]),G++,pe--):"*"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(ne)===this.maskExpression[G+2]&&V||"?"===this.maskExpression[G+1]&&this._findSpecialChar(this.maskExpression[G+2]??"")&&this._findSpecialChar(ne)===this.maskExpression[G+2]&&V?(G+=3,z+=ne):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(ne)<0&&ne!==this.placeHolderCharacter&&(q=!0);z.length+1===L.length&&-1!==this.maskSpecialCharacters.indexOf(L[L.length-1]??"")&&(z+=L[L.length-1]);let Y=B+1;for(;this._shift.has(Y);)J++,Y++;let Q=U&&!L.startsWith("separator")?G:this._shift.has(B)?J:0;q&&Q--,j(Q,X),J<0&&this._shift.clear();let ie=!1;$&&(ie=Z.every(pe=>this.maskSpecialCharacters.includes(pe)));let oe=`${this.prefix}${ie?"":z}${this.suffix}`;return 0===z.length&&(oe=`${this.prefix}${z}`),oe}_findSpecialChar(M){return this.maskSpecialCharacters.find(L=>L===M)}_checkSymbolMask(M,L){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,(this.maskAvailablePatterns[L]?.pattern&&this.maskAvailablePatterns[L]?.pattern.test(M))??!1}_stripToDecimal(M){return M.split("").filter((L,B)=>{const U="string"==typeof this.decimalMarker?L===this.decimalMarker:this.decimalMarker.includes(L);return L.match("^-?\\d")||L===this.thousandSeparator||U||"-"===L&&0===B&&this.allowNegativeNumbers}).join("")}_charToRegExpExpression(M){return M&&(" "===M?"\\s":"[\\^$.|?*+()".indexOf(M)>=0?`\\${M}`:M)}_shiftStep(M,L,B){const U=/[*?]/g.test(M.slice(0,L))?B:L;this._shift.add(U+this.prefix.length||0)}_compareOrIncludes(M,L,B){return Array.isArray(L)?L.filter(U=>U!==B).includes(M):M===L}_validIP(M){return!(4===M.length&&!M.some((L,B)=>M.length!==B+1?""===L||Number(L)>255:""===L||Number(L.substring(0,3))>255))}}return b.\u0275fac=function(M){return new(M||b)(t.KVO(f))},b.\u0275prov=t.jDH({token:b,factory:b.\u0275fac}),b})(),O=(()=>{class b extends C{constructor(M,L,B,U){super(L),this.document=M,this._config=L,this._elementRef=B,this._renderer=U,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=$=>{}}applyMask(M,L,B=0,U=!1,$=!1,j=(()=>{})){if(!L)return M!==this.actualValue?this.actualValue:M;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(M||"#")),!M&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const G=M&&"number"==typeof this.selStart?M[this.selStart]??"":"";let z="";if(void 0!==this.hiddenInput&&!this.writingValue){let q=this.actualValue.split("");""!==M&&q.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(M.length>q.length?q.splice(this.selStart,0,G):M.length<q.length&&(q.length-M.length==1?q.splice(this.selStart-1,1):q.splice(this.selStart,this.selEnd-this.selStart))):q=[],this.showMaskTyped&&(M=this.removeMask(M)),z=this.actualValue.length&&q.length<=M.length?this.shiftTypedSymbols(q.join("")):M}this.showMaskTyped&&(M=this.removeMask(M)),z=z&&z.length?z:M;const V=super.applyMask(z,L,B,U,$,j);if(this.actualValue=this.getActualValue(V),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(q=>!this._compareOrIncludes(q,this.decimalMarker,this.thousandSeparator))),this.formControlResult(V),!this.showMaskTyped)return this.hiddenInput&&V&&V.length?this.hideInput(V,this.maskExpression):V;const X=V.length,J=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const q=this._numberSkipedSymbols(V);return V+J.slice(X+q)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?V+J:V+J.slice(X)}_numberSkipedSymbols(M){const L=/(^|\D)(\d\D)/g;let B=L.exec(M),U=0;for(;null!=B;)U+=1,B=L.exec(M);return U}applyValueChanges(M,L,B,U=(()=>{})){const $=this._elementRef.nativeElement;$.value=this.applyMask($.value,this.maskExpression,M,L,B,U),$!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(M,L){return M.split("").map((B,U)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[L[U]??""]&&this.maskAvailablePatterns[L[U]??""]?.symbol?this.maskAvailablePatterns[L[U]??""]?.symbol:B).join("")}getActualValue(M){const L=M.split("").filter((B,U)=>{const $=this.maskExpression[U]??"";return this._checkSymbolMask(B,$)||this.maskSpecialCharacters.includes($)&&B===$});return L.join("")===M?L.join(""):M}shiftTypedSymbols(M){let L="";return(M&&M.split("").map((U,$)=>{if(this.maskSpecialCharacters.includes(M[$+1]??"")&&M[$+1]!==this.maskExpression[$+1])return L=U,M[$+1];if(L.length){const j=L;return L="",j}return U})||[]).join("")}numberToString(M){return M||0===M?Number(M).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(M)}showMaskInInput(M){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(M){if("IP"===this.maskExpression)return this._checkForIp(M);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(M)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const M=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==M.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(M.value,this.maskExpression))}set formElementProperty([M,L]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,M,L))}checkSpecialCharAmount(M){return M.split("").filter(B=>this._findSpecialChar(B)).length}removeMask(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(M){if("#"===M)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const L=[];for(let B=0;B<M.length;B++){const U=M[B]??"";U&&U.match("\\d")&&L.push(U)}return L.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>3&&L.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:L.length>6&&L.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(M){const L=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,B=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===M)return L;const U=[];for(let $=0;$<M.length;$++){const j=M[$]??"";j&&j.match("\\d")&&U.push(j)}return U.length<=3?L.slice(U.length,L.length):U.length>3&&U.length<=6?L.slice(U.length+1,L.length):U.length>6&&U.length<=9?L.slice(U.length+2,L.length):U.length>9&&U.length<11?L.slice(U.length+3,L.length):11===U.length?"":12===U.length?B.slice(17===M.length?16:15,B.length):U.length>12&&U.length<=14?B.slice(U.length+4,B.length):""}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}formControlResult(M){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(M)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(M)):this._removeSuffix(M))}_toNumber(M){if(!this.isNumberValue||""===M)return M;const L=Number(M);return Number.isNaN(L)?M:L}_removeMask(M,L){return M&&M.replace(this._regExpForRemove(L),"")}_removePrefix(M){return this.prefix?M&&M.replace(this.prefix,""):M}_removeSuffix(M){return this.suffix?M&&M.replace(this.suffix,""):M}_retrieveSeparatorValue(M){return this._removeMask(this._removeSuffix(this._removePrefix(M)),this.maskSpecialCharacters)}_regExpForRemove(M){return new RegExp(M.map(L=>`\\${L}`).join("|"),"gi")}_replaceDecimalMarkerToDot(M){const L=Array.isArray(this.decimalMarker)?this.decimalMarker:[this.decimalMarker];return M.replace(this._regExpForRemove(L),".")}_checkSymbols(M){if(""===M)return M;const L=this._retrieveSeparatorPrecision(this.maskExpression),B=this._replaceDecimalMarkerToDot(this._retrieveSeparatorValue(M));return this.isNumberValue?L?M===this.decimalMarker?null:this._checkPrecision(this.maskExpression,B):Number(B):B}_retrieveSeparatorPrecision(M){const L=M.match(new RegExp("^separator\\.([^d]*)"));return L?Number(L[1]):null}_checkPrecision(M,L){return M.indexOf("2")>0?Number(L).toFixed(2):Number(L)}}return b.\u0275fac=function(M){return new(M||b)(t.KVO(e.qQ),t.KVO(f),t.KVO(t.aKT),t.KVO(t.sFG))},b.\u0275prov=t.jDH({token:b,factory:b.\u0275fac}),b})(),I=(()=>{class b{constructor(M,L,B){this.document=M,this._maskService=L,this._config=B,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new t.bkB,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=U=>{},this.onTouch=()=>{}}ngOnChanges(M){const{maskExpression:L,specialCharacters:B,patterns:U,prefix:$,suffix:j,thousandSeparator:G,decimalMarker:z,dropSpecialCharacters:V,hiddenInput:X,showMaskTyped:J,placeHolderCharacter:q,shownMaskExpression:Z,showTemplate:H,clearIfNotMatch:Y,validation:Q,separatorLimit:ie,allowNegativeNumbers:oe,leadZeroDateTime:pe,triggerOnMaskChange:ne}=M;if(L&&(L.currentValue!==L.previousValue&&!L.firstChange&&(this._maskService.maskChanged=!0),L.currentValue&&L.currentValue.split("||").length>1?(this._maskExpressionArray=L.currentValue.split("||").sort((re,Ce)=>re.length-Ce.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=L.currentValue||"",this._maskService.maskExpression=this._maskValue)),B){if(!B.currentValue||!Array.isArray(B.currentValue))return;this._maskService.maskSpecialCharacters=B.currentValue||[]}U&&U.currentValue&&(this._maskService.maskAvailablePatterns=U.currentValue),$&&(this._maskService.prefix=$.currentValue),j&&(this._maskService.suffix=j.currentValue),G&&(this._maskService.thousandSeparator=G.currentValue),z&&(this._maskService.decimalMarker=z.currentValue),V&&(this._maskService.dropSpecialCharacters=V.currentValue),X&&(this._maskService.hiddenInput=X.currentValue),J&&(this._maskService.showMaskTyped=J.currentValue),q&&(this._maskService.placeHolderCharacter=q.currentValue),Z&&(this._maskService.shownMaskExpression=Z.currentValue),H&&(this._maskService.showTemplate=H.currentValue),Y&&(this._maskService.clearIfNotMatch=Y.currentValue),Q&&(this._maskService.validation=Q.currentValue),ie&&(this._maskService.separatorLimit=ie.currentValue),oe&&(this._maskService.allowNegativeNumbers=oe.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(re=>"-"!==re))),pe&&(this._maskService.leadZeroDateTime=pe.currentValue),ne&&(this._maskService.triggerOnMaskChange=ne.currentValue),this._applyMask()}validate({value:M}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(M);if(this._maskService.cpfCnpjError)return this._createValidationError(M);if(this._maskValue.startsWith("separator")||y.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(v.includes(this._maskValue))return this._validateTime(M);if(M&&M.toString().length>=1){let L=0;for(const B in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[B]?.optional&&(this._maskValue.indexOf(B)!==this._maskValue.lastIndexOf(B)?L+=this._maskValue.split("").filter($=>$===B).join("").length:-1!==this._maskValue.indexOf(B)&&L++,-1!==this._maskValue.indexOf(B)&&M.toString().length>=this._maskValue.indexOf(B)||L===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&M.toString().length===this._maskValue.length+Number((this._maskValue.split("{")[1]??"").split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&M.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&M.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(M);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const B=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-L:this._maskValue.length-L;if(M.toString().length<B)return this._createValidationError(M)}}return M&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(M){(""===M||null==M)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(M){const L=M.target;if(this._inputValue=L.value,this._setMask(),!this._maskValue)return void this.onChange(L.value);const B=1===L.selectionStart?L.selectionStart+this._maskService.prefix.length:L.selectionStart;let U=0,$=!1;if(this._maskService.applyValueChanges(B,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(G,z)=>{this._justPasted=!1,U=G,$=z}),this._getActiveElement()!==L)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let j=this._position?this._inputValue.length+B+U:B+("Backspace"!==this._code||$?U:0);j>this._getActualInputLength()&&(j=this._getActualInputLength()),j<0&&(j=0),L.setSelectionRange(j,j),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(M){if(!this._maskValue)return;const L=M.target;null!==L&&null!==L.selectionStart&&L.selectionStart===L.selectionEnd&&L.selectionStart>this._maskService.prefix.length&&38!==M.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),L.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===L.value?(L.focus(),L.setSelectionRange(0,0)):L.selectionStart>this._maskService.actualValue.length&&L.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const $=L&&(L.value&&L.value!==this._maskService.prefix?L.value:this._maskService.prefix+this._maskService.maskIsShown);L&&L.value!==$&&(L.value=$),L&&(L.selectionStart||L.selectionEnd)<=this._maskService.prefix.length?L.selectionStart=this._maskService.prefix.length:L&&L.selectionEnd>this._getActualInputLength()&&(L.selectionEnd=this._getActualInputLength())}onKeyDown(M){if(!this._maskValue)return;this._code=M.code?M.code:M.key;const L=M.target;if(this._inputValue=L.value,this._setMask(),38===M.keyCode&&M.preventDefault(),37===M.keyCode||8===M.keyCode||46===M.keyCode){if(8===M.keyCode&&0===L.value.length&&(L.selectionStart=L.selectionEnd),8===M.keyCode&&0!==L.selectionStart)if(this.specialCharacters=this.specialCharacters?.length?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&L.selectionStart<=this.prefix.length)L.setSelectionRange(this.prefix.length,L.selectionEnd);else if(this._inputValue.length!==L.selectionStart&&1!==L.selectionStart)for(;this.specialCharacters.includes((this._inputValue[L.selectionStart-1]??"").toString())&&(this.prefix.length>=1&&L.selectionStart>this.prefix.length||0===this.prefix.length);)L.setSelectionRange(L.selectionStart-1,L.selectionEnd);this.checkSelectionOnDeletion(L),this._maskService.prefix.length&&L.selectionStart<=this._maskService.prefix.length&&L.selectionEnd<=this._maskService.prefix.length&&M.preventDefault(),8===M.keyCode&&!L.readOnly&&0===L.selectionStart&&L.selectionEnd===L.value.length&&0!==L.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<L.selectionStart?L.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===M.keyCode&&M.ctrlKey||65===M.keyCode&&M.metaKey)&&(L.setSelectionRange(0,this._getActualInputLength()),M.preventDefault()),this._maskService.selStart=L.selectionStart,this._maskService.selEnd=L.selectionEnd}writeValue(M){var L=this;return(0,i.A)(function*(){"object"==typeof M&&null!==M&&"value"in M&&("disable"in M&&L.setDisabledState(!!M.disable),M=M.value),("number"==typeof M||L._maskValue.startsWith("separator"))&&(M=L._maskService.numberToString(M),Array.isArray(L.decimalMarker)||(M="."!==L.decimalMarker?M.replace(".",L.decimalMarker):M),L._maskService.isNumberValue=!0),"string"!=typeof M&&(M=""),L._inputValue=M,L._setMask(),M&&L._maskService.maskExpression||L._maskService.maskExpression&&(L._maskService.prefix||L._maskService.showMaskTyped)?(L._maskService.writingValue=!0,L._maskService.formElementProperty=["value",L._maskService.applyMask(M,L._maskService.maskExpression)],L._maskService.writingValue=!1):L._maskService.formElementProperty=["value",M],L._inputValue=M})()}registerOnChange(M){this._maskService.onChange=this.onChange=M}registerOnTouched(M){this.onTouch=M}_getActiveElement(M=this.document){const L=M?.activeElement?.shadowRoot;return L?.activeElement?this._getActiveElement(L):M.activeElement}checkSelectionOnDeletion(M){M.selectionStart=Math.min(Math.max(this.prefix.length,M.selectionStart),this._inputValue.length-this.suffix.length),M.selectionEnd=Math.min(Math.max(this.prefix.length,M.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(M){this._maskService.formElementProperty=["disabled",M]}_repeatPatternSymbols(M){return M.match(/{[0-9]+}/)&&M.split("").reduce((L,B,U)=>{if(this._start="{"===B?U:this._start,"}"!==B)return this._maskService._findSpecialChar(B)?L+B:L;this._end=U;const $=Number(M.slice(this._start+1,this._end));return L+new Array($+1).join(M[this._start-1])},"")||M}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(M){const L=this._maskValue.split("").filter(B=>":"!==B).length;return M&&(0==+(M[M.length-1]??-1)&&M.length<L||M.length<=L-2)?this._createValidationError(M):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(M){return{mask:{requiredMask:this._maskValue,actualValue:M}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(M=>{const L=this._maskService.removeMask(this._inputValue)?.length<=this._maskService.removeMask(M)?.length;if(this._inputValue&&L)return this._maskValue=M,this.maskExpression=M,this._maskService.maskExpression=M,L;this._maskValue=this.maskExpression=this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]??""})}}return b.\u0275fac=function(M){return new(M||b)(t.rXU(e.qQ),t.rXU(O),t.rXU(f))},b.\u0275dir=t.FsC({type:b,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(M,L){1&M&&t.bIt("paste",function(){return L.onPaste()})("ngModelChange",function(U){return L.onModelChange(U)})("input",function(U){return L.onInput(U)})("blur",function(){return L.onBlur()})("click",function(U){return L.onClick(U)})("keydown",function(U){return L.onKeyDown(U)})},inputs:{maskExpression:[t.Mj6.None,"mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[t.Jv_([{provide:l.kq,useExisting:(0,t.Rfq)(()=>b),multi:!0},{provide:l.cz,useExisting:(0,t.Rfq)(()=>b),multi:!0},O]),t.OA$]}),b})();function R(b,P){return P instanceof Function?{...b,...P()}:{...b,...P}}let h=(()=>{class b{static forRoot(M){return{ngModule:b,providers:[{provide:m,useValue:M},{provide:p,useValue:_},{provide:f,useFactory:R,deps:[p,m]},C]}}static forChild(){return{ngModule:b}}}return b.\u0275fac=function(M){return new(M||b)},b.\u0275mod=t.$C({type:b}),b.\u0275inj=t.G2t({}),b})();const w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};w.KeyboardEvent||(w.KeyboardEvent=function(b,P){})},72234:(N,T,n)=>{"use strict";n.d(T,{Yq:()=>v,Zm:()=>_});var i=n(54438),t=n(60177);const l=["*"],e=(y,C,O,I,D)=>({"custom-content":y,circle:C,progress:O,"progress-dark":I,pulse:D});function f(y,C){1&y&&i.SdG(0)}function m(y,C){if(1&y&&(i.j41(0,"div",0),i.DNE(1,f,1,0),i.k0s()),2&y){const O=i.XpG();i.Y8G("ngClass",i.s1E(5,e,"custom-content"===O.appearance,"circle"===O.appearance,"progress"===O.animation,"progress-dark"===O.animation,"pulse"===O.animation))("ngStyle",O.theme),i.BMQ("aria-label",O.ariaLabel)("aria-valuetext",O.loadingText),i.R7$(),i.vxM(1,"custom-content"===O.appearance?1:-1)}}const p=new i.nKC("ngx-skeleton-loader.config");let _=(()=>{class y{constructor(O){this.config=O;const{appearance:I="line",animation:D="progress",theme:R=null,loadingText:h="Loading...",count:w=1,ariaLabel:b="loading"}=O||{};this.appearance=I,this.animation=D,this.theme=R,this.loadingText=h,this.count=w,this.items=[],this.ariaLabel=b}ngOnInit(){this.validateInputValues()}validateInputValues(){/^\d+$/.test(`${this.count}`)||((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'count' a numeric value. Forcing default to \"1\"."),this.count=1),"custom-content"===this.appearance&&(0,i.naY)()&&1!==this.count&&(console.error('`NgxSkeletonLoaderComponent` enforces elements with "custom-content" appearance as DOM nodes. Forcing "count" to "1".'),this.count=1),this.items.length=this.count;const O=["progress","progress-dark","pulse","false"];-1===O.indexOf(String(this.animation))&&((0,i.naY)()&&console.error(`\`NgxSkeletonLoaderComponent\` need to receive 'animation' as: ${O.join(", ")}. Forcing default to "progress".`),this.animation="progress"),-1===["circle","line","custom-content",""].indexOf(String(this.appearance))&&((0,i.naY)()&&console.error("`NgxSkeletonLoaderComponent` need to receive 'appearance' as: circle or line or custom-content or empty string. Forcing default to \"''\"."),this.appearance="");const{theme:I}=this.config||{};I&&I.extendsFromRoot&&null!==this.theme&&(this.theme={...this.config.theme,...this.theme})}ngOnChanges(O){["count","animation","appearance"].find(I=>O[I]&&(O[I].isFirstChange()||O[I].previousValue===O[I].currentValue))||this.validateInputValues()}static{this.\u0275fac=function(I){return new(I||y)(i.rXU(p,8))}}static{this.\u0275cmp=i.VBU({type:y,selectors:[["ngx-skeleton-loader"]],inputs:{count:"count",loadingText:"loadingText",appearance:"appearance",animation:"animation",ariaLabel:"ariaLabel",theme:"theme"},features:[i.OA$],ngContentSelectors:l,decls:2,vars:0,consts:[["aria-busy","true","aria-valuemin","0","aria-valuemax","100","role","progressbar","tabindex","-1",1,"skeleton-loader",3,"ngClass","ngStyle"]],template:function(I,D){1&I&&(i.NAR(),i.Z7z(0,m,2,11,"div",0,i.fX1)),2&I&&i.Dyx(D.items)},dependencies:[t.YU,t.B3],styles:['.skeleton-loader[_ngcontent-%COMP%]{box-sizing:border-box;overflow:hidden;position:relative;background:#eff1f6 no-repeat;border-radius:4px;width:100%;height:20px;display:inline-block;margin-bottom:10px;will-change:transform}.skeleton-loader[_ngcontent-%COMP%]:after, .skeleton-loader[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.circle[_ngcontent-%COMP%]{width:40px;height:40px;margin:5px;border-radius:50%}.skeleton-loader.progress[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%]{transform:translateZ(0)}.skeleton-loader.progress[_ngcontent-%COMP%]:after, .skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:after, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{box-sizing:border-box}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_progress 2s ease-in-out infinite;background-size:200px 100%;position:absolute;z-index:1;top:0;left:0;width:200px;height:100%;content:""}.skeleton-loader.progress[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,#fff0,#fff9,#fff0)}.skeleton-loader.progress-dark[_ngcontent-%COMP%]:before{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.skeleton-loader.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}.skeleton-loader.custom-content[_ngcontent-%COMP%]{height:100%;background:none}@media (prefers-reduced-motion: reduce){.skeleton-loader.pulse[_ngcontent-%COMP%], .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%], .skeleton-loader.progress[_ngcontent-%COMP%]:before{animation:none}.skeleton-loader.progress[_ngcontent-%COMP%]:before, .skeleton-loader.progress-dark[_ngcontent-%COMP%], .skeleton-loader.custom-content[_ngcontent-%COMP%]{background-image:none}}@media screen and (min-device-width: 1200px){.skeleton-loader[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:wait}}@keyframes _ngcontent-%COMP%_progress{0%{transform:translate3d(-200px,0,0)}to{transform:translate3d(calc(200px + 100vw),0,0)}}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0})}}return y})(),v=(()=>{class y{static forRoot(O){return{ngModule:y,providers:[{provide:p,useValue:O}]}}static{this.\u0275fac=function(I){return new(I||y)}}static{this.\u0275mod=i.$C({type:y})}static{this.\u0275inj=i.G2t({imports:[t.MD]})}}return y})()},31635:(N,T,n)=>{"use strict";function f(ie,oe,pe,ne){var Ee,re=arguments.length,Ce=re<3?oe:null===ne?ne=Object.getOwnPropertyDescriptor(oe,pe):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ce=Reflect.decorate(ie,oe,pe,ne);else for(var ue=ie.length-1;ue>=0;ue--)(Ee=ie[ue])&&(Ce=(re<3?Ee(Ce):re>3?Ee(oe,pe,Ce):Ee(oe,pe))||Ce);return re>3&&Ce&&Object.defineProperty(oe,pe,Ce),Ce}function m(ie,oe){return function(pe,ne){oe(pe,ne,ie)}}function C(ie,oe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ie,oe)}function O(ie,oe,pe,ne){return new(pe||(pe=Promise))(function(Ce,Ee){function ue(De){try{ye(ne.next(De))}catch(tt){Ee(tt)}}function ae(De){try{ye(ne.throw(De))}catch(tt){Ee(tt)}}function ye(De){De.done?Ce(De.value):function re(Ce){return Ce instanceof pe?Ce:new pe(function(Ee){Ee(Ce)})}(De.value).then(ue,ae)}ye((ne=ne.apply(ie,oe||[])).next())})}function L(ie){return this instanceof L?(this.v=ie,this):new L(ie)}function B(ie,oe,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ne=pe.apply(ie,oe||[]),Ce=[];return re=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),ue("next"),ue("throw"),ue("return",function Ee(We){return function(dt){return Promise.resolve(dt).then(We,tt)}}),re[Symbol.asyncIterator]=function(){return this},re;function ue(We,dt){ne[We]&&(re[We]=function(it){return new Promise(function(Ge,gt){Ce.push([We,it,Ge,gt])>1||ae(We,it)})},dt&&(re[We]=dt(re[We])))}function ae(We,dt){try{!function ye(We){We.value instanceof L?Promise.resolve(We.value.v).then(De,tt):_t(Ce[0][2],We)}(ne[We](dt))}catch(it){_t(Ce[0][3],it)}}function De(We){ae("next",We)}function tt(We){ae("throw",We)}function _t(We,dt){We(dt),Ce.shift(),Ce.length&&ae(Ce[0][0],Ce[0][1])}}function $(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,oe=ie[Symbol.asyncIterator];return oe?oe.call(ie):(ie=function h(ie){var oe="function"==typeof Symbol&&Symbol.iterator,pe=oe&&ie[oe],ne=0;if(pe)return pe.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ne>=ie.length&&(ie=void 0),{value:ie&&ie[ne++],done:!ie}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),pe={},ne("next"),ne("throw"),ne("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ne(Ce){pe[Ce]=ie[Ce]&&function(Ee){return new Promise(function(ue,ae){!function re(Ce,Ee,ue,ae){Promise.resolve(ae).then(function(ye){Ce({value:ye,done:ue})},Ee)}(ue,ae,(Ee=ie[Ce](Ee)).done,Ee.value)})}}}n.d(T,{AQ:()=>B,Cg:()=>f,N3:()=>L,Qj:()=>m,Sn:()=>C,sH:()=>O,xN:()=>$}),"function"==typeof SuppressedError&&SuppressedError}},N=>{N(N.s=41317)}]);